var console={};console.log=function(){},window.console=console,$.hood||($.hood={}),$.body=$("body");var console=window.console||{};console.log=console.log||function(){},console.warn=console.warn||function(){},console.error=console.error||function(){},console.info=console.info||function(){},$.fn.doesExist=function(){return $(this).length>0},$.fn.restrictToSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-slug").restrictToSlug(),$.fn.restrictToPageSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z-\/\/]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");if((t.match(new RegExp("/","g"))||[]).length>4){var a=t.lastIndexOf("/");t=t.substring(0,a)+t.substring(a+1),$.hood.Alerts.Warning("You can only have up to 4 '/' characters in a url slug.")}e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-page-slug").restrictToPageSlug(),$.fn.restrictToMetaSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z.]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");if((t.match(new RegExp(".","g"))||[]).length>1){var a=t.lastIndexOf(".");t=t.substring(0,a)+t.substring(a+1),$.hood.Alerts.Warning("You can only have up to 1 '.' characters in a meta slug.")}e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-meta-slug").restrictToMetaSlug(),$.fn.characterCounter=function(e){var t=$(this),o=function(){counter=$(this).data("counter"),max=Number($(this).attr("maxlength")),len=$(this).val().length,$(counter).text(max-len),cls="text-success",max-len<max/10&&(cls="text-danger"),$(counter).parent().removeClass("text-success").removeClass("text-danger").addClass(cls)};t.on("keyup",o),t.on("paste",o),t.on("change",o)},$(".character-counter").characterCounter(),$(".character-counter").trigger("change"),$.fn.addLoader=function(){$(this).data("loadercontent",$(this).html()),$(this).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>')},$.fn.removeLoader=function(){$(this).empty().html($(this).data("loadercontent")),$(this).removeClass("loading")},$.fn.warningAlert=function(e){var t=$(this),o=function(e){var t=e.currentTarget;return $.loadCss("sweetalert-css","/lib/sweetalert/dist/sweetalert.css"),$.getScript("/lib/sweetalert/dist/sweetalert.min.js",$.proxy(function(){swal({title:"Whoa!",text:$(e.currentTarget).data("warning"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?(url=$(t).attr("href"),window.location=url):swal("Cancelled","It's all good in the hood!","error")})},this)),!1};t.on("click",o)},$(".warning-alert").warningAlert(),$.getPlaceholders=function(e){for(var t=/\{(\w+)\}/g,o=[];match=t.exec(e);)o.push(match[1]);return o},$.commonHeight=function(e,t){var o=0;e.children(t).each(function(){var e=$(this).children();e.hasClass("max-height")?o=e.outerHeight():e.outerHeight()>o&&(o=e.outerHeight())}),e.children(t).each(function(){$(this).height(o)})},$.loadCss=function(e,t){$("link#"+e).length||$("<link/>",{id:e,rel:"stylesheet",type:"text/css",href:t}).appendTo("head")},$.getUrlVars=function(){for(var e,t=[],o=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<o.length;a++)e=o[a].split("="),t.push(e[0]),t[e[0]]=e[1];return t},$.decodeUrl=function(e){return decodeURIComponent(e).replace("+"," ")},$.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},"undefined"!=typeof kendo&&(kendo.data.binders.date=kendo.data.Binder.extend({init:function(e,t,o){kendo.data.Binder.fn.init.call(this,e,t,o),this.dateformat=$(e).data("dateformat")},refresh:function(){var e=this.bindings.date.get();if(e){var t=new Date(e);$(this.element).text(kendo.toString(t,this.dateformat))}}})),$.validator&&($.validator.addMethod("time",function(e,t){return this.optional(t)||/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$/i.test(e)},"Please enter a valid time."),$.validator.addMethod("ukdate",function(e,t){return e.match(/^\d\d?\/\d\d?\/\d\d\d\d$/)},"Please enter a date in the format dd/mm/yyyy.")),$.mobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Any:function(){return $.mobile.Android()||$.mobile.BlackBerry()||$.mobile.iOS()||$.mobile.Opera()||$.mobile.Windows()}},$.mobile.Android?$.mobile.BlackBerry?$.mobile.iOS?$.mobile.Opera?$.mobile.Windows?($.body.addClass("desktop-device"),$.device="desktop"):($.body.addClass("windows-device"),$.device="windows"):($.body.addClass("opera-device"),$.device="opera"):($.body.addClass("ios-device"),$.device="ios"):($.body.addClass("blackberry-device"),$.device="blackberry"):($.body.addClass("android-device"),$.device="android"),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}(),$.hood.LinkClasses=[{title:"None",value:""},{title:"Button link",value:"btn btn-default"},{title:"Theme coloured button link",value:"btn btn-primary"},{title:"Popup image/video",value:"colorbox-iframe"},{title:"Button popup link",value:"btn btn-default colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary colorbox-iframe"},{title:"Large link",value:"font-lg"},{title:"Large button link",value:"btn btn-default btn-lg"},{title:"Large theme coloured button link",value:"btn btn-primary btn-lg"},{title:"Large popup image/video",value:"font-lg colorbox-iframe"},{title:"Large Button popup link",value:"btn btn-default btn-lg colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary btn-lg colorbox-iframe"}],$.hood.ImageClasses=[{title:"None",value:""},{title:"Full Width",value:"user-image full"},{title:"Left Aligned",value:"user-image left"},{title:"Centered",value:"user-image center"},{title:"Right Aligned",value:"user-image right"},{title:"Inline with text, top aligned",value:"user-image inline top"},{title:"Inline with text, middle aligned",value:"user-image inline"},{title:"Inline with text, bottom aligned",value:"user-image inline bottom"},{title:"Pulled Left",value:"user-image pull-left"},{title:"Pulled Right",value:"user-image pull-right"}],new CustomEvent("loader-show"),new CustomEvent("loader-hide"),$.hood.Loader=function(e){e?$("body").trigger("loader-show"):$("body").trigger("loader-hide")},String.prototype.contains=function(e){return this.indexOf(e)!=-1},String.prototype.pick=function(e,t){var o,a="";o="undefined"==typeof t?e:e+Math.floor(Math.random()*(t-e));for(var n=0;n<o;n++)a+=this.charAt(Math.floor(Math.random()*this.length));return a},String.prototype.shuffle=function(){var e,t,o=this.split(""),a=o.length;if(a)for(;--a;)t=Math.floor(Math.random()*(a+1)),e=o[t],o[t]=o[a],o[a]=e;return o.join("")},$.hood||($.hood={}),$.hood.Alerts={Error:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"error"):this.Alert(e,t,o,"error")},Warning:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"warning"):this.Alert(e,t,o,"warning")},Message:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"info"):this.Alert(e,t,o,"info")},Success:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"success"):this.Alert(e,t,o,"success")},Alert:function(e,t,o,a){$.getScript("/lib/toastr/toastr.min.js",$.proxy(function(){$.loadCss("toastr-css","/lib/toastr/toastr.min.css"),e=e.replace(/(?:\r\n|\r|\n)/g,"<br />"),toastr.options={closeButton:!0,debug:!0,progressBar:!0,preventDuplicates:!0,positionClass:"toast-bottom-left",showDuration:"400",hideDuration:"1000",timeOut:"7000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.options.onclick=o,toastr[a](e,t)},this))},SweetAlert:function(e,t,o,a){$.getScript("/lib/sweetalert/dist/sweetalert.min.js",$.proxy(function(){$.loadCss("sweetalert-css","/lib/sweetalert/dist/sweetalert.css"),swal({title:t,text:e,timer:55e3,type:a})},this))}},$.hood||($.hood={}),$.hood.Helpers={InIframe:function(){try{return window.self!==window.top}catch(e){return!0}},GetQueryStringParamByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),o=t.exec(location.search);return null==o?"":decodeURIComponent(o[1].replace(/\+/g," "))},InsertQueryStringParam:function(e,t){e=escape(e),t=escape(t);var o=document.location.search.substr(1).split("&");if(""==o)document.location.search="?"+e+"="+t;else{for(var a,n=o.length;n--;)if(a=o[n].split("="),a[0]==e){a[1]=t,o[n]=a.join("=");break}n<0&&(o[o.length]=[e,t].join("=")),document.location.search=o.join("&")}},InsertQueryStringParamToUrl:function(e,t,o){t=escape(t),o=escape(o);var a=e.search.substr(1).split("&");if(""==a)e.search="?"+t+"="+o;else{for(var n,i=a.length;i--;)if(n=a[i].split("="),n[0]==t){n[1]=o,a[i]=n.join("=");break}i<0&&(a[a.length]=[t,o].join("=")),e.search=a.join("&")}return e},IsNullOrUndefined:function(e){var t=!1;return null!==e&&"undefined"!=typeof e&&""!==e||(t=!0),t},IsSet:function(e){var t=!1;return null!==e&&"undefined"!=typeof e&&""!==e||(t=!0),!t},IsEventSupported:function(e){var t=document.createElement("div");e="on"+e;var o=e in t;return o||(t.setAttribute(e,"return;"),o="function"==typeof t[e]),t=null,o},IsFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},HtmlEncode:function(e){return $("<div/>").text(e).html()},HtmlDecode:function(e){return $("<div/>").html(e).text()},SlimScrollTopBottom:function(e,t){if(t)$(e).slimScroll({scrollTo:"0px"});else{var o=$(e).prop("scrollHeight")+"px";$(e).slimScroll({scrollTo:o})}},FormatCurrency:function(e,t){return t+" "+e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},FormatKilobytes:function(e){return e/=1024,e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},FormatMegabytes:function(e){return e/=1024,e/=1024,currency+" "+e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},IsUrlExternal:function(e){var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},UrlToLocationObject:function(e){var t=document.createElement("a");return t.href=e,t},SeoUrl:function(e){var t=e.replace(/[^a-zA-Z0-9]/g," ").replace(/\s+/g,"-").toLowerCase();"-"==t.charAt(0)&&(t=t.substring(1));var o=t.length-1;return"-"==t.charAt(o)&&(t=t.substring(0,o)),t},FindAndRemoveFromArray:function(e,t,o){$.each(e,function(a,n){n[t]==o&&e.splice(a,1)})},FindAndReturnFromArray:function(e,t,o){var a=null;return $.each(e,function(e,n){n[t]==o&&(a=n)}),a},LeftPad:function(e,t){for(var o=e+"";o.length<t;)o="0"+o;return o},DateAdd:function(e,t,o){var a=new Date(e);switch(t.toLowerCase()){case"year":a.setFullYear(a.getFullYear()+o);break;case"quarter":a.setMonth(a.getMonth()+3*o);break;case"month":a.setMonth(a.getMonth()+o);break;case"week":a.setDate(a.getDate()+7*o);break;case"day":a.setDate(a.getDate()+o);break;case"hour":a.setTime(a.getTime()+36e5*o);break;case"minute":a.setTime(a.getTime()+6e4*o);break;case"second":a.setTime(a.getTime()+1e3*o);break;default:a=void 0}return a},SubmitPageToForm:function(e,t,o){"use strict";var a;if(a=$("<form />",{action:e,method:t,style:"display: none;"}),"undefined"!=typeof o&&null!==o)for(var n in o)o.hasOwnProperty(n)&&$("<input />",{type:"hidden",name:n,value:o[n]}).appendTo(a);a.appendTo("body").submit()},GenerateRandomString:function(e){return specials="!@#$&*",lowercase="abcdefghijklmnopqrstuvwxyz",uppercase="ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers="0123456789",all=lowercase+uppercase+numbers,password=(specials.pick(1)+lowercase.pick(1)+uppercase.pick(1)+all.pick(5,10)).shuffle(),password},ResetSidebarScroll:function(){$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10})},InitMetisMenu:function(e){$(e).find(".metisMenu").metisMenu()}},$.hood||($.hood={}),$.hood.Forms={GetAllowedExtensions:function(e){switch(e){case"Image":return["png","jpg","jpeg","bmp","gif"];case"Document":return["doc","docx","pdf","rtf"];case"All":return""}},GetAllowedFiles:function(e){switch(e){case"Image":return"image/png,jpg,image/jpeg,image/gif";case"Document":return"application/msword,application/pdf,text/rtf";case"All":return""}},ValidationErrorPlacement:function(e,t){if(t.is(":checkbox")||t.is(":radio")){var o=t.closest('div[class*="col-"]');o.find(":checkbox,:radio").length>1?o.append(e):e.insertAfter(t.nextAll(".lbl:eq(0)").eq(0))}else t.is(".select2")?e.insertAfter(t.siblings('[class*="select2-container"]:eq(0)')):t.is(".chosen-select")&&e.insertAfter(t.siblings('[class*="chosen-container"]:eq(0)'));t.is(".drop-error")?e.insertAfter(t.parents(".input-group")):e.insertAfter(t.parent())},ValidationSuccess:function(e){$(e).closest("label").removeClass("state-error").addClass("state-success"),$(e).remove()},ValidationInvalid:function(e,t){$(".alert-error",$(".login-form")).show()},ValidationHighlight:function(e){$(e).closest("label").removeClass("state-success").addClass("state-error")}},$.hood||($.hood={}),$.hood.Handlers={Init:function(){$("body").on("click",".select-text",$.hood.Handlers.SelectTextContent),$("body").on("click",".btn.click-select[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".click-select.show-selected[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".click-select:not(.show-selected)[data-target][data-value]",$.hood.Handlers.ClickSelectClean),$("body").on("click",".slide-link",$.hood.Handlers.SlideToAnchor),$("body").on("change","input[type=checkbox][data-input]",$.hood.Handlers.CheckboxChange),$("body").on("change",".submit-on-change",$.hood.Handlers.SubmitOnChange),$("select[data-selected]").each($.hood.Handlers.SelectSetup),$("body").on("change",".inline-date",$.hood.Handlers.DateChange),this.Uploaders.Init()},SubmitOnChange:function(e){$(this).parents("form").submit()},DateChange:function(e){$field=$(this).parents(".hood-date").find(".date-output"),date=$field.parents(".hood-date").find(".date-value").val(),pattern=/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/,pattern.test(date)||(date="01/01/2001"),hour=$field.parents(".hood-date").find(".hour-value").val(),$.isNumeric(hour)||(hour="00"),minute=$field.parents(".hood-date").find(".minute-value").val(),$.isNumeric(minute)||(minute="00"),$field.val(date+" "+hour+":"+minute+":00"),$field.attr("value",date+" "+hour+":"+minute+":00")},CheckboxChange:function(e){var t=new Array;$('input[data-input="'+$(this).data("input")+'"]').each(function(){$(this).is(":checked")&&t.push($(this).val())}),id="#"+$(this).data("input"),vals=JSON.stringify(t),$(id).val(vals)},SelectSetup:function(){sel=$(this).data("selected"),"undefined"!==$(this).data("selected")&&""!==$(this).data("selected")&&(selected=String($(this).data("selected")),$(this).val(selected))},ClickSelect:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$('.click-select[data-target="'+e.data("target")+'"]').each(function(){$(this).html($(this).data("temp")).removeClass("active")}),$('.click-select[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).data("temp",$(this).html()).html("Selected").addClass("active")})},ClickSelectClean:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$('.click-select.clean[data-target="'+e.data("target")+'"]').each(function(){$(this).removeClass("active")}),$('.click-select.clean[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).addClass("active")})},SelectTextContent:function(){var e=$(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})},SlideToAnchor:function(){var e=$("body").scrollTop(),t=$($.attr(this,"href")).offset().top;return $("html, body").animate({scrollTop:t},Math.abs(t-e)),!1},Uploaders:{Init:function(){$(".upload-progress-bar").hide(),$.getScript("/lib/dropzone/dist/min/dropzone.min.js",$.proxy(function(){$(".image-uploader").each(function(){$.hood.Handlers.Uploaders.SingleImage($(this).attr("id"),$(this).data("json"))}),$(".gallery-uploader").each(function(){$.hood.Handlers.Uploaders.Gallery($(this).attr("id"),$(this).data("json"))})},this))},RefreshImage:function(e){$("."+e.Class).css({"background-image":"url("+e.Image+")"}),$("."+e.Class).find("img").attr("src",e.Image)},SingleImage:function(e,t){e="#"+e,$tag=$(e),Dropzone.autoDiscover=!1;var o=new Dropzone(e,{url:$(e).data("url"),maxFiles:1,paramName:"file",parallelUploads:1,autoProcessQueue:!0,previewsContainer:!1,clickable:e});o.on("addedfile",function(){}),o.on("totaluploadprogress",function(t){$(".upload-progress-bar."+e.replace("#","")+" .progress-bar").css({width:t+"%"})}),o.on("sending",function(t){$(".upload-progress-bar."+e.replace("#","")).show(),$($(e).data("preview")).addClass("loading")}),o.on("queuecomplete",function(t){$(".upload-progress-bar."+e.replace("#","")).hide()}),o.on("success",function(a,n){n.Success?(n.Image&&($(t).val(JSON.stringify(n.Image)),$($(e).data("preview")).css({"background-image":"url("+n.Image.SmallUrl+")"}),$($(e).data("preview")).find("img").attr("src",n.Image.SmallUrl)),$.hood.Alerts.Success("New image added!")):$.hood.Alerts.Error("There was a problem adding the image: "+n.Error),o.removeFile(a),$($(e).data("preview")).removeClass("loading")})},Gallery:function(e){Dropzone.autoDiscover=!1;var t=document.querySelector(e+"-template");t.id="";var o=t.parentNode.innerHTML;t.parentNode.removeChild(t);var a=new Dropzone(e,{url:$(e).data("url"),thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:o,paramName:"files",autoProcessQueue:!0,previewsContainer:"#previews",clickable:".fileinput-button",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});$(e+" .cancel").hide(),a.on("addedfile",function(t){$(t.previewElement.querySelector(".complete")).hide(),$(t.previewElement.querySelector(".cancel")).show(),$(e+" .cancel").show()}),a.on("totaluploadprogress",function(e){document.querySelector("#total-progress .progress-bar").style.width=e+"%"}),a.on("sending",function(e){document.querySelector("#total-progress").style.opacity="1"}),a.on("complete",function(e){$(e.previewElement.querySelector(".cancel")).hide(),$(e.previewElement.querySelector(".progress")).hide(),$(e.previewElement.querySelector(".complete")).show(),$.hood.Inline.Refresh(".gallery")}),a.on("queuecomplete",function(t){document.querySelector("#total-progress").style.opacity="0",$(e+" .cancel").hide()}),a.on("success",function(e,t){$.hood.Inline.Refresh(".gallery"),t.Success?$.hood.Alerts.Success("New images added!"):$.hood.Alerts.Error("There was a problem adding the profile image: "+t.Error)}),document.querySelector(".actions .cancel").onclick=function(){a.removeAllFiles(!0)}}}},$.hood.Handlers.Init(),$.hood||($.hood={}),$.hood.Pager=function(e,t){this.Options=$.extend({element:e,pageCount:0,dataSource:null,selectedClass:"active",defaultClass:"",textClass:"",baseClass:"pagination pagination-sm",noItemTemplate:'<span class="no-items">No items to display.</span>'},t||{}),null!=this.Options.dataSource&&this.Options.dataSource.bind("change",$.proxy(function(e){var t=e.items;if(this.Options.pageCount=Math.ceil(this.Options.dataSource._total/this.Options.dataSource._pageSize),t.length/this.Options.dataSource._pageSize>this.Options.pageCount&&this.Options.pageCount++,0==t.length)return void $(this.Options.element).empty().append(this.Options.noItemTemplate);for(startItem=this.Options.dataSource._pageSize*(this.Options.dataSource._page-1),ts=startItem+this.Options.dataSource._pageSize,ts>this.Options.dataSource._total&&(ts=this.Options.dataSource._total),$(this.Options.element).empty().append('<ul class="'+this.Options.baseClass+' page-numbers"></ul>'),min=this.Options.dataSource._page-2,min<1&&(min=1),max=this.Options.dataSource._page+2,max>this.Options.pageCount&&(max=this.Options.pageCount),prev=this.Options.dataSource._page-1,prev<1&&(prev=1),next=this.Options.dataSource._page+1,next>this.Options.pageCount&&(next=this.Options.pageCount),$(this.Options.element).find(".page-numbers").append('<li><a href="javascript:void(0);" class="page-link '+this.Options.defaultClass+' " data-page="'+prev+'"><i class="fa fa-angle-left"></i></a></li>'),i=min;i<=max;i++)active=this.Options.defaultClass,this.Options.dataSource._page==i&&(active=this.Options.selectedClass),$(this.Options.element).find(".page-numbers").append('<li class="'+active+'"><a href="javascript:void(0);" class="page-link" data-page="'+i+'">'+i+"</a></li>");$(this.Options.element).find(".page-numbers").append('<li><a href="javascript:void(0);" class="page-link '+this.Options.defaultClass+'" data-page="'+next+'"><i class="fa fa-angle-right"></i></a></li>'),$(this.Options.element).find(".page-link").click($.proxy(function(e){this.Options.dataSource.page($(e.target).data("page"))},this))},this))},$.fn.hoodPager=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodPager")){var o=new $.hood.Pager(this,e);t.data("hoodPager",o)}})},$.hood||($.hood={}),$.hood.FormValidator=function(e,t){this.Options=$.extend({formTag:e,validationRules:null,validationMessages:{},placeBelow:!0,submitButtonTag:null,submitUrl:null,submitFunction:null,errorElement:"div",errorClass:"text-danger help-block small",invalidHandler:$.hood.Forms.ValidationInvalid,highlight:$.hood.Forms.ValidationHighlight,success:$.hood.Forms.ValidationSuccess,errorPlacement:$.hood.Forms.ValidationErrorPlacement,serializationFunction:function(){return rtn=$(this.formTag).serialize(),rtn}},t||{}),this.LoadValidation=function(){$.hood.Helpers.IsNullOrUndefined(this.Options.formTag)||($(this.Options.formTag).find("input, select").keypress($.proxy(function(e){if(13==e.which)return $.proxy(this.submitForm(),this),e.preventDefault(),!1},this)),$(this.Options.formTag).validate({submitHandler:function(e){e.preventDefault()},errorClass:this.Options.errorClass,focusInvalid:!1,rules:this.Options.validationRules,messages:this.Options.validationMessages,invalidHandler:this.Options.invalidHandler,errorPlacement:$.proxy(function(e,t){t.siblings().remove(),this.Options.placeBelow?e.insertAfter(t):e.insertBefore(t)},this),errorElement:this.Options.errorElement,highlight:function(e){$(e).parent().removeClass("has-success").addClass("has-error")},success:function(e){$(e).parent().removeClass("has-error").addClass("has-success")}}),$.hood.Helpers.IsNullOrUndefined(this.Options.submitButtonTag)||$(this.Options.submitButtonTag).click($.proxy(this.submitForm,this)))},this.submitForm=function(){$(this.Options.formTag).valid()&&(this.TempButtonContent=$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html(),$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html('<i class="fa fa-refresh fa-spin"></i>&nbsp;Loading...'),$(this.Options.formTag).find("input[type=checkbox]").each(function(){$(this).is(":checked")&&$(this).val("true")}),$.post(this.Options.submitUrl,this.Options.serializationFunction(),$.proxy(function(e){$(this.Options.submitButtonTag).removeClass("btn-default").addClass("btn-primary").html(this.TempButtonContent),this.Options.submitFunction(e)},this)))},this.LoadValidation(),this.Options.placeBelow&&$(this.Options.formTag).addClass("validation-below")},$.fn.hoodValidator=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodValidator")){var o=new $.hood.FormValidator(this,e);t.data("hoodValidator",o)}})},$.hood||($.hood={}),$.hood.Modals={Loading:!1,Open:function(e,t,o,a){$.hood.Modals.Loading||($.hood.Modals.Loading=!0,$(o).data("temp",$(o).html()),$(o).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>'),$.get(e,t,function(e){modalId="#"+$(e).attr("id"),$(modalId).length&&$(modalId).remove(),$("body").append(e),$(modalId).modal(),$(modalId).on("shown.bs.modal",function(){$(document).off("focusin.modal")})}).done(function(){if(!$.hood.Helpers.IsNullOrUndefined(a))try{a()}catch(e){$.hood.Alerts.Error(e.message)}}).fail(function(e){$.hood.Alerts.Error("There was an error loading the modal window.<br/><br />"+e.status+" - "+e.statusText)}).always(function(e){$(o).removeClass("loading").html($(o).data("temp")),$("body").css({"padding-right":0}),$.hood.Modals.Loading=!1}))},Close:function(e){$(e).modal("hide"),$(e).remove(),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}},$.hood||($.hood={}),$.hood.Inline={Init:function(){$(".hood-inline:not(.refresh)").each($.hood.Inline.Load),$("body").on("click",".hood-inline-task",$.hood.Inline.Task)},Refresh:function(){$(".hood-inline").each($.hood.Inline.Load)},Load:function(e){$.hood.Inline.Reload(this)},Reload:function(tag,complete){$(tag).addClass("loading"),params=null,$(tag).attr("data-params")&&(params=eval($(tag).data("params")));var urlLoad=$(tag).data("url");$.get(urlLoad,params,function(data){$(tag).html(data),$.hood.Helpers.IsNullOrUndefined(complete)||($.hood.Helpers.IsFunction(complete)?complete(data):eval(complete+"(data)")),$(tag).attr("data-complete")&&eval($(tag).data("complete")+"(data)")}).fail(function(e){$.hood.Alerts.Error("There was an error loading the inline panel's URL:<br/><strong>"+urlLoad+"</strong>")}).always(function(e){$.hood.Modals.Loading=!1,$(tag).removeClass("loading")})},Task:function(e){$.hood.Loader(!0),e.preventDefault(),$tag=$(e.currentTarget),$tagcontents=$(e.currentTarget).html(),$(e.currentTarget).addClass("loading");var urlLoad=$(e.currentTarget).attr("href");$.get(urlLoad,null,function(data){data.Success?$.hood.Alerts.Success(data.Message):$.hood.Alerts.Error(data.Errors),data.Url&&setTimeout(function(){window.location=data.Url},500),$tag.attr("data-complete")&&eval($tag.data("complete")+"(data)")}).fail(function(e){$.hood.Alerts.Error("There was an error processing the request:<br/><strong>"+urlLoad+"</strong>")}).always(function(t){$.hood.Loader(!1),$.hood.Modals.Loading=!1,$(e.currentTarget).removeClass("loading")})}},$.hood.Inline.Init(),$.hood||($.hood={}),$.hood.Addresses={Init:function(){$("body").on("click",".add-new-address",$.hood.Addresses.New),$("body").on("click",".set-billing",$.hood.Addresses.SetBilling),$("body").on("click",".set-delivery",$.hood.Addresses.SetDelivery),$("body").on("click",".delete-address",$.hood.Addresses.Delete),$("body").on("click",".edit-address",$.hood.Addresses.Edit),$(".address-select").length>0&&$.hood.Addresses.Refresh()},New:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.hood.Modals.Open("/account/addresses/create",null,"",$.hood.Addresses.PostLoad)},Edit:function(){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.hood.Modals.Open("/account/addresses/edit",{id:$(this).data("id")},"",$.hood.Addresses.PostLoad)},Refresh:function(){$.hood.Inline.Reload(".address-list"),$.get("/admin/users/getaddresses",null,function(e){$(".address-select").empty().append($("<option>",{value:"",text:"--- Choose an address ---"}));for(var t in e){var o=e[t].Id,a=e[t].FullAddress;$(".address-select").append($("<option>",{value:o,text:a}))}})},PostLoad:function(){$.hood.Google.Addresses.InitAutocomplete(),$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),$("#address-form").hoodValidator({validationRules:{Number:{required:!0},Address1:{required:!0},City:{required:!0},County:{required:!0},Postcode:{required:!0},Country:{required:!0}},submitButtonTag:$("#save-address"),submitUrl:$("#address-form").attr("action"),submitFunction:function(e){e.Success?($.hood.Addresses.Refresh(),$.hood.Modals.Close("#add-address-modal")):$.hood.Alerts.Error(e.Errors,"Error Saving Address!")}})},SetBilling:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/setbilling?id="+$(this).data("id"),null,function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your billing address has been updated.","Billing Address Updated!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't update your billing address...","Couldn't Update Billing Address!")}),e.preventDefault()},SetDelivery:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/setdelivery?id="+$(this).data("id"),function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your delivery address has been updated.","Delivery Address Updated!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't update your delivery address...","Couldn't Update Delivery Address!")}),e.preventDefault()},Delete:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/delete",{id:$(this).data("id")},function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your address has been deleted.","Address Deleted!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't delete your address, it may be in use as your billing or delivery address...","Couldn't Delete Address!")}),e.preventDefault()}},$.hood.Addresses.Init(),$.hood||($.hood={}),$.hood.Cart={Init:function(){$("#CheckoutProgress").fadeOut(),$("body").on("click",".cart-add",$.hood.Cart.Add),$("body").on("click",".cart-clear",$.hood.Cart.Clear),$("body").on("click",".cart-update",$.hood.Cart.Update),$("body").on("click",".cart-remove",$.hood.Cart.Remove),$("body").on("change",".delivery-select",function(){$("#DeliveryAddressId").val($(this).val())}),$("body").on("change",".billing-select",function(){$("#BillingAddressId").val($(this).val())})},Add:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/cart/add",{productID:$(this).data("id"),qty:1},function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.Success?($.hood.Alerts.Success("Added to your cart!"),$.hood.Cart.ReloadMiniCart()):($.hood.Alerts.Error("Couldn't add to your cart..."),$.hood.Cart.ReloadMiniCart())}),e.preventDefault()},Update:function(e){$.post("/cart/update",{productID:$(this).data("id"),qty:$(this).data("change")},function(e){e.Success?($.hood.Alerts.Success("Your shopping cart has been updated!"),$.hood.Cart.ReloadMiniCart()):$.hood.Alerts.Error("Couldn't update your cart...")}),e.preventDefault()},Remove:function(e){$.post("/cart/remove",{productID:$(this).data("id")},function(e){e.Success?($.hood.Alerts.Success("Your shopping cart has been updated!"),$.hood.Cart.ReloadMiniCart()):$.hood.Alerts.Error("Couldn't update your cart...")}),e.preventDefault()},Clear:function(e){$.post("/cart/clear",{},function(e){e.Success?($.hood.Alerts.Success("Your shopping cart has been cleared!"),
$.hood.Cart.ReloadMiniCart()):$.hood.Alerts.Error("Couldn't clear your cart...")}),e.preventDefault()},ReloadMiniCart:function(e){$(".hood-inline-cart").each(function(){$.hood.Inline.Reload(this)})}},$.hood.Cart.Init(),$.window=$(window),$.header=$("#header"),$.mobileMenu=$("#mobile-menu"),$.mobileMenuTrigger=$(".mobile-menu-trigger"),$.sideMenuTrigger=$(".side-panel-trigger"),stickyHeaderClass="sticky-header",mobileMenuOpenClass="mobile-menu-open",sidePushPanelClass="side-push-panel",sidePushPanelOpenClass="side-panel-open",$.hood||($.hood={}),$.hood.App={Options:{Scroll:{StickyHeader:!0,InitialPosition:!1,Functions:!0,Offset:117,ToTargetSelector:".scroll-to-target",ToTopSelector:".scroll-top"},Loader:{Delay:500,Complete:null,Items:[]},Accordion:!0,Alerts:!0,Colorbox:!0,ContactForms:!0,Counters:!0,FitVids:!0,Forums:!0,Header:!0,PaymentPages:!0,RichTextEditors:$(".tinymce-public").length},Init:function(e){$.hood.App.Options=$.extend($.hood.App.Options,e||{}),e&&(e.Header&&($.hood.App.Options.Header=$.extend($.hood.App.Options.Header,e.Header||{})),e.Header&&($.hood.App.Options.Header.Settings=$.extend($.hood.App.Options.Header.Settings,e.Header.Settings||{}))),$.hood.App.Loader.Init(),$.hood.App.Options.Header&&$.hood.App.Header.Init(),$.hood.App.Options.Scroll.Functions&&$.hood.App.Scroll.Functions(),$.hood.App.Options.PaymentPages&&$.hood.App.PaymentPages.Init(),$.hood.App.Options.Accordion&&$.hood.App.Accordion(),$.hood.App.Options.Counters&&$.hood.App.Counters(),$.hood.App.Options.FitVids&&$.hood.App.ResizeVideos(),$.hood.App.Options.ContactForms&&$.hood.App.ContactForms.Init(),$.hood.App.Options.Colorbox&&$.hood.App.Colorbox(),$.hood.App.Options.LoadSharers&&$.hood.App.Sharers(),$.hood.App.Options.RichTextEditors&&$.hood.App.RichTextEditors()},onInitComplete:function(){$.hood.App.Options.Scroll.StickyHeader&&$.hood.App.Scroll.Init(),$.hood.App.Options.Scroll.InitialPosition&&$.hood.App.Scroll.InitialPosition()},Loader:{LoadList:new Array,Init:function(){if(document.createEvent)for(new CustomEvent("load-completed"),$(document).on("load-completed","body",$.hood.App.onInitComplete),$(document).on("load-completed","body",$.hood.App.Options.Loader.Complete||$.hood.App.Loader.Complete),i=0;i<$.hood.App.Options.Loader.Items.length;i++)$.hood.App.Loader.AddItem($.hood.App.Options.Loader.Items[i]);else $.hood.App.Options.Loader.Complete?$.hood.App.Options.Loader.Complete():$.hood.App.Loader.Complete()},Complete:function(){setTimeout(function(){$.hood.App.Options.Forums&&$.hood.App.Forums.Init(),$.hood.App.Options.Alerts&&$.hood.App.Alerts()},$.hood.App.Options.Loader.Delay+200)},AddItem:function(e){$.hood.App.Loader.LoadList.push({Name:e,Complete:!1})},ItemComplete:function(e){for(cnt=0;cnt<$.hood.App.Loader.LoadList.length;cnt++)$.hood.App.Loader.LoadList[cnt].Name===e&&($.hood.App.Loader.LoadList[cnt].Complete=!0,console.log("Loaded: "+e));$.hood.App.Loader.CheckLoaded()&&$("body").trigger("load-completed")},CheckLoaded:function(){for(cnt=0;cnt<$.hood.App.Loader.LoadList.length;cnt++)if(!$.hood.App.Loader.LoadList[cnt].Complete)return!1;return!0}},Header:{Init:function(){$.hood.App.Header.SidePanel(),$.hood.App.Header.MobileMenu()},StickyMenu:function(){var e=0;$.header.length>0&&(e=$.header.offset().top),header=$.header.height(),win=$.window.height()+2*header,doc=$(document).height(),$.window.scrollTop()>e&&doc>win?$.header.addClass(stickyHeaderClass):$.hood.App.Header.RemoveStickyness()},RemoveStickyness:function(){$.header.hasClass(stickyHeaderClass)&&$.header.removeClass(stickyHeaderClass)},SidePanel:function(){$.sideMenuTrigger.click(function(){return $.body.toggleClass(sidePushPanelOpenClass),$.body.hasClass("device-touch")&&$.body.hasClass(sidePushPanelClass)&&$.body.toggleClass("ohidden"),!1})},MobileMenu:function(){$.mobileMenuTrigger.click(function(){return $.body.hasClass(sidePushPanelClass)&&$.body.removeClass(sidePushPanelClass),$.body.toggleClass(mobileMenuOpenClass),!1})}},Scroll:{Init:function(){$.hood.App.Header.StickyMenu(),$.window.on("scroll",function(){$("body.open-header.close-header-on-scroll").removeClass("side-header-open"),$.hood.App.Header.StickyMenu()})},InitialPosition:function(){var e=window.location.hash;if(""!==e){var t=e,o=$(t);o.doesExist()&&($("html, body").stop().delay(350).animate({scrollTop:o.offset().top-$.hood.App.Options.Scroll.Offset},500,"swing"),history.pushState("",document.title,window.location.pathname+window.location.search))}},Functions:function(){$($.hood.App.Options.Scroll.ToTopSelector).click(function(){return $("html, body").animate({scrollTop:0},800),!1}),$($.hood.App.Options.Scroll.ToTargetSelector).on("click",function(e){var t=$(this).attr("href").split("#")[0];if(t===window.location.pathname||""===t){e.preventDefault();var o=this.hash,a=$(o);$("html, body").stop().animate({scrollTop:a.offset().top-$.hood.App.Options.Scroll.Offset},900,"swing")}})}},ContactForms:{Init:function(){$(".contact-form .thank-you").hide(),$(".contact-form .form-submit").show(),$("body").on("submit",".contact-form",function(e){return e.preventDefault(),$(this).addClass("loading"),$.hood.App.ContactForms.Submit(this),!1})},Submit:function(e){if($form=$(e),$form.valid()){if($form.hasClass("g-recaptcha")){var t=$form.find(".recaptcha").data("recaptchaid");if(""===grecaptcha.getResponse(t))return $.hood.Alerts.Error("Please tell us you are not a robot!","Confirm Humanity!",null,!0),$form.removeClass("loading"),!1}$.post($form.attr("action"),$form.serialize(),function(e){e.Success?($form.attr("data-redirect")&&(window.location=$form.attr("data-redirect")),$form.attr("data-alert-message")&&$.hood.Alerts.Success($form.attr("data-alert-message"),"Success",null,!0),$form.find(".form").hide(),$form.find(".thank-you").show()):("undefined"!=typeof $form.attr("data-alert-error")&&$.hood.Alerts.Success($form.attr("data-alert-error"),"Error",null,!0),$.hood.Alerts.Error("There was an error sending the message: "+e.Errors,"Error",null,!0)),$form.removeClass("loading")})}return!1}},Alerts:function(){$(".alert.auto-dismiss").fadeTo(5e3,500).slideUp(500,function(){$(".alert.auto-dismiss").slideUp(500)})},Accordion:function(){$(".accordion-title").click(function(e){$(this).next().slideToggle("easeOut"),$(this).toggleClass("active"),$("accordion-title").toggleClass("active"),$(".accordion-content").not($(this).next()).slideUp("easeIn"),$(".accordion-title").not($(this)).removeClass("active")}),$(".accordion-content").addClass("defualt-hidden")},Colorbox:function(){$.hood.App.Loader.AddItem("colorbox"),$.getScript("/lib/jquery-colorbox/jquery.colorbox-min.js",$.proxy(function(){$(".colorbox").colorbox({rel:"gallery",maxWidth:"95%",maxHeight:"95%"}),$(".colorbox-iframe").colorbox({iframe:!0,maxWidth:"95%",maxHeight:"95%",innerWidth:640,innerHeight:390}),$.hood.App.Loader.ItemComplete("colorbox")},this))},Counters:function(){$(".counter").each(function(){var e=$(this),t=e.attr("data-count");$({countNum:e.text()}).animate({countNum:t},{duration:8e3,easing:"linear",step:function(){e.text(Math.floor(this.countNum))},complete:function(){e.text(this.countNum)}})})},Forums:{Init:function(){var e=$.getUrlVars().highlight;$.isNumeric(e)&&($post=$("#post-"+e),$("html,body").animate({scrollTop:$post.offset().top-$.hood.App.Options.Scroll.Offset},"slow"),$post.addClass("highlight"),"Created"===$.getUrlVars().message&&$post.addClass("created"));var t=$.getUrlVars().reply;$.isNumeric(t)&&($post=$("#forum-post-form"),$("html,body").animate({scrollTop:$post.offset().top-$.hood.App.Options.Scroll.Offset},"slow")),$(".forum").on("click",".edit-post",function(e){$(this).parents(".post").find(".post-view").slideToggle(),$(this).parents(".post").find(".edit-view").slideToggle()})}},ResizeVideos:function(){return $().fitVids?void $("body").fitVids({customSelector:"iframe[src^='http://www.dailymotion.com/embed'], iframe[src*='maps.google.com'], iframe[src*='google.com/maps']",ignore:".no-fv"}):(console.log("resizeVideos: FitVids not Defined."),!0)},PaymentPages:{Init:function(){$("body").on("click",".btn.price-select[data-target][data-value]",$.hood.App.PaymentPages.PriceSelect),$("body").on("click",".change-price-option",$.hood.App.PaymentPages.ChangePrice)},ChangePrice:function(){$("#price-panel").collapse("show"),$("#billing-panel").collapse("hide"),$("#confirm-panel").collapse("hide")},PriceSelect:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$(".selected-price-text").html($(targetId).find(":selected").text()),$('.price-select[data-target="'+e.data("target")+'"]').each(function(){$(this).html($(this).data("temp")).removeClass("active")}),$('.price-select[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).data("temp",$(this).html()).html("Selected").addClass("active")}),$("#price-panel").collapse("hide"),$("#billing-panel").collapse("show"),$("#confirm-panel").collapse("hide")}},RichTextEditors:function(){tinymce.init({selector:".tinymce-public",height:250,plugins:["advlist autolink lists link image charmap print preview anchor media","searchreplace visualblocks code fullscreen","insertdatetime media contextmenu paste emoticons"],menubar:!1,toolbar:"styleselect | bold italic | bullist numlist outdent indent | undo redo | link image media emoticons",image_dimensions:!1,body_class:"tiny-mce-body",content_css:"/css/site.css"})}},$.hood.Site&&$.hood.Site.Init(),$(window).on("resize",$.hood.App.Resize);