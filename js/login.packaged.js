"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,o){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):e(t||o)}(function(e){var t=function(t,o,a){var n={invalid:[],getCaret:function(){try{var e,o=0,a=t.get(0),i=document.selection,r=a.selectionStart;return i&&navigator.appVersion.indexOf("MSIE 10")===-1?(e=i.createRange(),e.moveStart("character",-n.val().length),o=e.text.length):(r||"0"===r)&&(o=r),o}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var o,a=t.get(0);a.setSelectionRange?a.setSelectionRange(e,e):(o=a.createTextRange(),o.collapse(!0),o.moveEnd("character",e),o.moveStart("character",e),o.select())}}catch(e){}},events:function(){t.on("keydown.mask",function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",n.getCaret()),n.maskDigitPosMapOld=n.maskDigitPosMap}).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",n.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){s===n.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){s=n.val()}).on("focus.mask",function(t){a.selectOnFocus===!0&&e(t.target).select()}).on("focusout.mask",function(){a.clearIfNotMatch&&!i.test(n.val())&&n.val("")})},getRegexMask:function(){for(var e,t,a,n,i,s,l=[],d=0;d<o.length;d++)e=r.translation[o.charAt(d)],e?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),a=e.optional,n=e.recursive,n?(l.push(o.charAt(d)),i={digit:o.charAt(d),pattern:t}):l.push(a||n?t+"?":t)):l.push(o.charAt(d).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=l.join(""),i&&(s=s.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(s)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var o,a=t.is("input"),n=a?"val":"text";return arguments.length>0?(t[n]()!==e&&t[n](e),o=t):o=t[n](),o},calculateCaretPosition:function(){var e=t.data("mask-previus-value")||"",o=n.getMasked(),a=n.getCaret();if(e!==o){var i=t.data("mask-previus-caret-pos")||0,r=o.length,s=e.length,l=0,d=0,c=0,u=0,h=0;for(h=a;h<r&&n.maskDigitPosMap[h];h++)d++;for(h=a-1;h>=0&&n.maskDigitPosMap[h];h--)l++;for(h=a-1;h>=0;h--)n.maskDigitPosMap[h]&&c++;for(h=i-1;h>=0;h--)n.maskDigitPosMapOld[h]&&u++;if(a>s)a=10*r;else if(i>=a&&i!==s){if(!n.maskDigitPosMapOld[a]){var f=a;a-=u-c,a-=l,n.maskDigitPosMap[a]&&(a=f)}}else a>i&&(a+=c-u,a+=d)}return a},behaviour:function(o){o=o||window.event,n.invalid=[];var a=t.data("mask-keycode");if(e.inArray(a,r.byPassKeys)===-1){var i=n.getMasked(),s=n.getCaret();return setTimeout(function(){n.setCaret(n.calculateCaretPosition())},e.jMaskGlobals.keyStrokeCompensation),n.val(i),n.setCaret(s),n.callbacks(o)}},getMasked:function(e,t){var i,s,l=[],d=void 0===t?n.val():t+"",c=0,u=o.length,h=0,f=d.length,p=1,m="push",g=-1,$=0,v=[];a.reverse?(m="unshift",p=-1,i=0,c=u-1,h=f-1,s=function(){return c>-1&&h>-1}):(i=u-1,s=function(){return c<u&&h<f});for(var b;s();){var y=o.charAt(c),k=d.charAt(h),w=r.translation[y];w?(k.match(w.pattern)?(l[m](k),w.recursive&&(g===-1?g=c:c===i&&c!==g&&(c=g-p),i===g&&(c-=p)),c+=p):k===b?($--,b=void 0):w.optional?(c+=p,h-=p):w.fallback?(l[m](w.fallback),c+=p,h-=p):n.invalid.push({p:h,v:k,e:w.pattern}),h+=p):(e||l[m](y),k===y?(v.push(h),h+=p):(b=y,v.push(h+$),$++),c+=p)}var C=o.charAt(i);u!==f+1||r.translation[C]||l.push(C);var I=l.join("");return n.mapMaskdigitPositions(I,v,f),I},mapMaskdigitPositions:function(e,t,o){var i=a.reverse?e.length-o:0;n.maskDigitPosMap={};for(var r=0;r<t.length;r++)n.maskDigitPosMap[t[r]+i]=1},callbacks:function(e){var i=n.val(),r=i!==s,l=[i,e,t,a],d=function(e,t,o){"function"==typeof a[e]&&t&&a[e].apply(this,o)};d("onChange",r===!0,l),d("onKeyPress",r===!0,l),d("onComplete",i.length===o.length,l),d("onInvalid",n.invalid.length>0,[i,e,t,n.invalid,a])}};t=e(t);var i,r=this,s=n.val();o="function"==typeof o?o(n.val(),void 0,t,a):o,r.mask=o,r.options=a,r.remove=function(){var e=n.getCaret();return r.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),n.destroyEvents(),n.val(r.getCleanVal()),n.setCaret(e),t},r.getCleanVal=function(){return n.getMasked(!0)},r.getMaskedVal=function(e){return n.getMasked(!1,e)},r.init=function(s){if(s=s||!1,a=a||{},r.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,r.byPassKeys=e.jMaskGlobals.byPassKeys,r.translation=e.extend({},e.jMaskGlobals.translation,a.translation),r=e.extend(!0,{},r,a),i=n.getRegexMask(),s)n.events(),n.val(n.getMasked());else{a.placeholder&&t.attr("placeholder",a.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var l=0,d=!0;l<o.length;l++){var c=r.translation[o.charAt(l)];if(c&&c.recursive){d=!1;break}}d&&t.attr("maxlength",o.length).data("mask-maxlength",!0),n.destroyEvents(),n.events();var u=n.getCaret();n.val(n.getMasked()),n.setCaret(u)}},r.init(!t.is("input"))};e.maskWatchers={};var o=function(){var o=e(this),n={},i="data-mask-",r=o.attr("data-mask");if(o.attr(i+"reverse")&&(n.reverse=!0),o.attr(i+"clearifnotmatch")&&(n.clearIfNotMatch=!0),"true"===o.attr(i+"selectonfocus")&&(n.selectOnFocus=!0),a(o,r,n))return o.data("mask",new t(this,r,n))},a=function(t,o,a){a=a||{};var n=e(t).data("mask"),i=JSON.stringify,r=e(t).val()||e(t).text();try{return"function"==typeof o&&(o=o(r)),"object"!==_typeof(n)||i(n.options)!==i(a)||n.mask!==o}catch(e){}},n=function(e){var t,o=document.createElement("div");return e="on"+e,t=e in o,t||(o.setAttribute(e,"return;"),t="function"==typeof o[e]),o=null,t};e.fn.mask=function(o,n){n=n||{};var i=this.selector,r=e.jMaskGlobals,s=r.watchInterval,l=n.watchInputs||r.watchInputs,d=function(){if(a(this,o,n))return e(this).data("mask",new t(this,o,n))};return e(this).each(d),i&&""!==i&&l&&(clearInterval(e.maskWatchers[i]),e.maskWatchers[i]=setInterval(function(){e(document).find(i).each(d)},s)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each(function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")})},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){t=t||e.jMaskGlobals.maskElements;var a=t instanceof e?t:e(t);a.filter(e.jMaskGlobals.dataMaskAttr).each(o)};var i={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&n("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},i=e.jMaskGlobals=e.extend(!0,{},i,e.jMaskGlobals),i.dataMask&&e.applyDataMask(),setInterval(function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()},i.watchInterval)},window.jQuery,window.Zepto);var console={};console.log=function(){},window.console=console,$.hood||($.hood={}),$.body=$("body");var console=window.console||{};console.log=console.log||function(){},console.warn=console.warn||function(){},console.error=console.error||function(){},console.info=console.info||function(){},$.fn.exists=function(){return $(this).length},$.fn.doesExist=function(){return $(this).length},$.fn.restrictToSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-slug").restrictToSlug(),$.fn.restrictToPageSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z-\/\/]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");if((t.match(new RegExp("/","g"))||[]).length>4){var a=t.lastIndexOf("/");t=t.substring(0,a)+t.substring(a+1),$.hood.Alerts.Warning("You can only have up to 4 '/' characters in a url slug.")}e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-page-slug").restrictToPageSlug(),$.fn.restrictToMetaSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z.]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");if((t.match(new RegExp(".","g"))||[]).length>1){var a=t.lastIndexOf(".");t=t.substring(0,a)+t.substring(a+1),$.hood.Alerts.Warning("You can only have up to 1 '.' characters in a meta slug.")}e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-meta-slug").restrictToMetaSlug(),$.fn.characterCounter=function(e){var t=$(this),o=function(){counter=$(this).data("counter"),max=Number($(this).attr("maxlength")),len=$(this).val().length,$(counter).text(max-len),cls="text-success",max-len<max/10&&(cls="text-danger"),$(counter).parent().removeClass("text-success").removeClass("text-danger").addClass(cls)};t.on("keyup",o),t.on("paste",o),t.on("change",o)},$(".character-counter").characterCounter(),$(".character-counter").trigger("change"),$.fn.addLoader=function(){$(this).data("loadercontent",$(this).html()),$(this).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>')},$.fn.removeLoader=function(){$(this).empty().html($(this).data("loadercontent")),$(this).removeClass("loading")},$.fn.warningAlert=function(){var e=$(this),t=function(e){return e.preventDefault(),warningAlertCallback=function(t){t&&(url=$(e.currentTarget).attr("href"),window.location=url)},$.hood.Alerts.Confirm($(e.currentTarget).data("warning"),$(e.currentTarget).data("title"),warningAlertCallback,type="warning",footer=$(e.currentTarget).data("footer"),confirmButtonText="Ok",cancelButtonText="Cancel"),!1};e.on("click",t)},$(".warning-alert").warningAlert(),$.commonHeight=function(e,t){var o=0;e.children(t).each(function(){var e=$(this).children();e.hasClass("max-height")?o=e.outerHeight():e.outerHeight()>o&&(o=e.outerHeight())}),e.children(t).each(function(){$(this).height(o)})},$.loadCss=function(e,t){$("link#"+e).length||$("<link/>",{id:e,rel:"stylesheet",type:"text/css",href:t}).appendTo("head")},$.getUrlVars=function(){for(var e,t=[],o=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<o.length;a++)e=o[a].split("="),t.push(e[0]),t[e[0]]=e[1];return t},$.decodeUrl=function(e){return decodeURIComponent(e).replace("+"," ")},$.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},"undefined"!=typeof kendo&&(kendo.data.binders.date=kendo.data.Binder.extend({init:function(e,t,o){kendo.data.Binder.fn.init.call(this,e,t,o),this.dateformat=$(e).data("dateformat")},refresh:function(){var e=this.bindings.date.get();if(e){var t=new Date(e);$(this.element).text(kendo.toString(t,this.dateformat))}}})),$.validator&&($.validator.addMethod("time",function(e,t){return this.optional(t)||/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$/i.test(e)},"Please enter a valid time."),$.validator.addMethod("ukdate",function(e,t){return e.match(/^\d\d?\/\d\d?\/\d\d\d\d$/)},"Please enter a date in the format dd/mm/yyyy.")),$.mobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Any:function(){return $.mobile.Android()||$.mobile.BlackBerry()||$.mobile.iOS()||$.mobile.Opera()||$.mobile.Windows()}},$.mobile.Android?$.mobile.BlackBerry?$.mobile.iOS?$.mobile.Opera?$.mobile.Windows?($.body.addClass("desktop-device"),$.device="desktop"):($.body.addClass("windows-device"),$.device="windows"):($.body.addClass("opera-device"),$.device="opera"):($.body.addClass("ios-device"),$.device="ios"):($.body.addClass("blackberry-device"),$.device="blackberry"):($.body.addClass("android-device"),$.device="android"),preventAutoComplete=!0,trackInputs={password:"0",username:"0"},preventAutoComplete&&($("body").on("change",".prevent-autocomplete",function(e){trackId=$(this).attr("id"),"0"!==trackInputs[trackId]&&trackInputs[trackId]===$(this).val()||$(this).val("")}),$("body").on("keyup",".prevent-autocomplete",function(e){trackId=$(this).attr("id"),trackInputs[trackId]=$(this).val()})),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}(),$.hood.LinkClasses=[{title:"None",value:""},{title:"Button link",value:"btn btn-default"},{title:"Theme coloured button link",value:"btn btn-primary"},{title:"Popup image/video",value:"colorbox-iframe"},{title:"Button popup link",value:"btn btn-default colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary colorbox-iframe"},{title:"Large link",value:"font-lg"},{title:"Large button link",value:"btn btn-default btn-lg"},{title:"Large theme coloured button link",value:"btn btn-primary btn-lg"},{title:"Large popup image/video",value:"font-lg colorbox-iframe"},{title:"Large Button popup link",value:"btn btn-default btn-lg colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary btn-lg colorbox-iframe"}],$.hood.ImageClasses=[{title:"None",value:""},{title:"Full Width",value:"user-image full"},{title:"Left Aligned",value:"user-image left"},{title:"Centered",value:"user-image center"},{title:"Right Aligned",value:"user-image right"},{title:"Inline with text, top aligned",value:"user-image inline top"},{title:"Inline with text, middle aligned",value:"user-image inline"},{title:"Inline with text, bottom aligned",value:"user-image inline bottom"},{title:"Pulled Left",value:"user-image pull-left"},{title:"Pulled Right",value:"user-image pull-right"}],new CustomEvent("loader-show"),new CustomEvent("loader-hide"),$.hood.Loader=function(e){e?$("body").trigger("loader-show"):$("body").trigger("loader-hide")},$.hood||($.hood={}),$.hood.Helpers={IsNullOrUndefined:function(e){var t=!1;return null!==e&&"undefined"!=typeof e&&""!==e||(t=!0),t},IsSet:function(e){var t=!1;return null!==e&&"undefined"!=typeof e&&""!==e||(t=!0),!t},IsEventSupported:function(e){var t=document.createElement("div");e="on"+e;var o=e in t;return o||(t.setAttribute(e,"return;"),o="function"==typeof t[e]),t=null,o},IsFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},IsUrlExternal:function(e){var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},IsInIframe:function(){try{return window.self!==window.top}catch(e){return!0}},HtmlEncode:function(e){return $("<div/>").text(e).html()},HtmlDecode:function(e){return $("<div/>").html(e).text()},FormatCurrency:function(e,t){return t+" "+e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},FormatKilobytes:function(e){return e/=1024,e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},FormatMegabytes:function(e){return e/=1024,e/=1024,currency+" "+e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},ProcessResponse:function(e){title="",e.Title&&(title="<strong>".concat(e.Title,"</strong><br />")),e.Success?$.hood.Alerts.Success("".concat(title).concat(e.Message)):$.hood.Alerts.Error("".concat(title).concat(e.Errors))},GetQueryStringParamByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),o=t.exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},InsertQueryStringParam:function(e,t){e=escape(e),t=escape(t);var o=document.location.search.substr(1).split("&");if(""===o)document.location.search="?"+e+"="+t;else{for(var a,n=o.length;n--;)if(a=o[n].split("="),a[0]===e){a[1]=t,o[n]=a.join("=");break}n<0&&(o[o.length]=[e,t].join("=")),document.location.search=o.join("&")}},InsertQueryStringParamToUrl:function(e,t,o){t=escape(t),o=escape(o);var a=e.search.substr(1).split("&");if(""===a)e.search="?"+t+"="+o;else{for(var n,i=a.length;i--;)if(n=a[i].split("="),n[0]===t){n[1]=o,a[i]=n.join("=");break}i<0&&(a[a.length]=[t,o].join("=")),e.search=a.join("&")}return e},UrlToLocationObject:function(e){var t=document.createElement("a");return t.href=e,t},FindAndRemoveFromArray:function(e,t,o){$.each(e,function(a,n){n[t]===o&&e.splice(a,1)})},FindAndReturnFromArray:function(e,t,o){var a=null;return $.each(e,function(e,n){n[t]===o&&(a=n)}),a},LeftPad:function(e,t){for(var o=e+"";o.length<t;)o="0"+o;return o},DateAdd:function(e,t,o){var a=new Date(e);switch(t.toLowerCase()){case"year":a.setFullYear(a.getFullYear()+o);break;case"quarter":a.setMonth(a.getMonth()+3*o);break;case"month":a.setMonth(a.getMonth()+o);break;case"week":a.setDate(a.getDate()+7*o);break;case"day":a.setDate(a.getDate()+o);break;case"hour":a.setTime(a.getTime()+36e5*o);break;case"minute":a.setTime(a.getTime()+6e4*o);break;case"second":a.setTime(a.getTime()+1e3*o);break;default:a=void 0}return a},GenerateRandomString:function(e){return specials="!@#$&*",lowercase="abcdefghijklmnopqrstuvwxyz",uppercase="ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers="0123456789",all=lowercase+uppercase+numbers,password=(specials.pick(1)+lowercase.pick(1)+uppercase.pick(1)+all.pick(5,10)).shuffle(),password}},$.hood||($.hood={}),$.hood.Handlers={Init:function(){$("body").on("click",".select-text",$.hood.Handlers.SelectTextContent),$("body").on("click",".btn.click-select[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".click-select.show-selected[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".click-select:not(.show-selected)[data-target][data-value]",$.hood.Handlers.ClickSelectClean),$("body").on("click",".slide-link",$.hood.Handlers.SlideToAnchor),$("body").on("change","input[type=checkbox][data-input]",$.hood.Handlers.CheckboxChange),$("body").on("change",".submit-on-change",$.hood.Handlers.SubmitOnChange),$("select[data-selected]").each($.hood.Handlers.SelectSetup),$("body").on("change",".inline-date",$.hood.Handlers.DateChange),this.Uploaders.Init()},SubmitOnChange:function(e){$(this).parents("form").submit()},DateChange:function(e){$field=$(this).parents(".hood-date").find(".date-output"),date=$field.parents(".hood-date").find(".date-value").val(),pattern=/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/,pattern.test(date)||(date="01/01/2001"),hour=$field.parents(".hood-date").find(".hour-value").val(),$.isNumeric(hour)||(hour="00"),minute=$field.parents(".hood-date").find(".minute-value").val(),$.isNumeric(minute)||(minute="00"),$field.val(date+" "+hour+":"+minute+":00"),$field.attr("value",date+" "+hour+":"+minute+":00")},CheckboxChange:function(e){var t=new Array;$('input[data-input="'+$(this).data("input")+'"]').each(function(){$(this).is(":checked")&&t.push($(this).val())}),id="#"+$(this).data("input"),vals=JSON.stringify(t),$(id).val(vals)},SelectSetup:function(){sel=$(this).data("selected"),"undefined"!==$(this).data("selected")&&""!==$(this).data("selected")&&(selected=String($(this).data("selected")),$(this).val(selected))},ClickSelect:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$(targetId).trigger("change"),$('.click-select[data-target="'+e.data("target")+'"]').each(function(){$(this).html($(this).data("temp")).removeClass("active")}),$('.click-select[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).data("temp",$(this).html()).html("Selected").addClass("active")})},ClickSelectClean:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$(targetId).trigger("change"),$('.click-select.clean[data-target="'+e.data("target")+'"]').each(function(){$(this).removeClass("active")}),$('.click-select.clean[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).addClass("active")})},SelectTextContent:function(){var e=$(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})},SlideToAnchor:function(){var e=$("body").scrollTop(),t=$($.attr(this,"href")).offset().top;return $("html, body").animate({scrollTop:t},Math.abs(t-e)),!1},Uploaders:{Init:function(){$(".upload-progress-bar").hide(),$.getScript("/lib/dropzone/min/dropzone.min.js",$.proxy(function(){$(".image-uploader").each(function(){$.hood.Handlers.Uploaders.SingleImage($(this).attr("id"),$(this).data("json"))}),$(".gallery-uploader").each(function(){$.hood.Handlers.Uploaders.Gallery($(this).attr("id"),$(this).data("json"))})},this))},RefreshImage:function(e){$("."+e.Class).css({"background-image":"url("+e.Image+")"}),$("."+e.Class).find("img").attr("src",e.Image)},SingleImage:function(e,t){e="#"+e,$tag=$(e),Dropzone.autoDiscover=!1;var o=new Dropzone(e,{url:$(e).data("url"),maxFiles:1,paramName:"file",parallelUploads:1,autoProcessQueue:!0,previewsContainer:!1,clickable:e});o.on("addedfile",function(){}),o.on("totaluploadprogress",function(t){$(".upload-progress-bar."+e.replace("#","")+" .progress-bar").css({width:t+"%"})}),o.on("sending",function(t){$(".upload-progress-bar."+e.replace("#","")).show(),$($(e).data("preview")).addClass("loading")}),o.on("queuecomplete",function(t){$(".upload-progress-bar."+e.replace("#","")).hide()}),o.on("success",function(a,n){n.Success?(n.Image&&($(t).val(JSON.stringify(n.Image)),$($(e).data("preview")).css({"background-image":"url("+n.Image.SmallUrl+")"}),$($(e).data("preview")).find("img").attr("src",n.Image.SmallUrl)),$.hood.Alerts.Success("New image added!")):$.hood.Alerts.Error("There was a problem adding the image: "+n.Error),o.removeFile(a),$($(e).data("preview")).removeClass("loading")})},Gallery:function(e){Dropzone.autoDiscover=!1;var t=document.querySelector(e+"-template");t.id="";var o=t.parentNode.innerHTML;t.parentNode.removeChild(t);var a=new Dropzone(e,{url:$(e).data("url"),thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:o,paramName:"files",autoProcessQueue:!0,previewsContainer:"#previews",clickable:".fileinput-button",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});$(e+" .cancel").hide(),a.on("addedfile",function(t){$(t.previewElement.querySelector(".complete")).hide(),$(t.previewElement.querySelector(".cancel")).show(),$(e+" .cancel").show()}),a.on("totaluploadprogress",function(e){document.querySelector("#total-progress .progress-bar").style.width=e+"%"}),a.on("sending",function(e){document.querySelector("#total-progress").style.opacity="1"}),a.on("complete",function(e){$(e.previewElement.querySelector(".cancel")).hide(),$(e.previewElement.querySelector(".progress")).hide(),$(e.previewElement.querySelector(".complete")).show(),$.hood.Inline.Refresh(".gallery")}),a.on("queuecomplete",function(t){document.querySelector("#total-progress").style.opacity="0",$(e+" .cancel").hide()}),a.on("success",function(e,t){$.hood.Inline.Refresh(".gallery"),t.Success?$.hood.Alerts.Success("New images added!"):$.hood.Alerts.Error("There was a problem adding the profile image: "+t.Error)}),document.querySelector(".actions .cancel").onclick=function(){a.removeAllFiles(!0)}}}},$.hood.Handlers.Init(),String.prototype.contains=function(e){return this.indexOf(e)!==-1},String.prototype.pick=function(e,t){var o,a="";o="undefined"==typeof t?e:e+Math.floor(Math.random()*(t-e));for(var n=0;n<o;n++)a+=this.charAt(Math.floor(Math.random()*this.length));return a},String.prototype.shuffle=function(){var e,t,o=this.split(""),a=o.length;if(a)for(;--a;)t=Math.floor(Math.random()*(a+1)),e=o[t],o[t]=o[a],o[a]=e;return o.join("")},String.prototype.toSeoUrl=function(){var e=this.replace(/[^a-zA-Z0-9]/g," ").replace(/\s+/g,"-").toLowerCase();"-"===e.charAt(0)&&(e=e.substring(1));var t=e.length-1;return"-"===e.charAt(t)&&(e=e.substring(0,t)),e},$.hood||($.hood={}),$.hood.FormValidator=function(e,t){this.Options=$.extend({formTag:e,validationRules:null,validationMessages:{},placeBelow:!0,submitButtonTag:null,submitUrl:null,submitFunction:null,serializationFunction:function(){return rtn=$(this.formTag).serialize(),rtn}},t||{}),this.LoadValidation=function(){$.hood.Helpers.IsNullOrUndefined(this.Options.formTag)||($(this.Options.formTag).find("input, textarea, select").keypress($.proxy(function(e){if(13===e.which)return $.proxy(this.submitForm(),this),e.preventDefault(),!1},this)),$(this.Options.formTag).validate({submitHandler:function(e){e.preventDefault()},errorClass:this.Options.errorClass,focusInvalid:!1,rules:this.Options.validationRules,messages:this.Options.validationMessages}),$.hood.Helpers.IsNullOrUndefined(this.Options.submitButtonTag)||$(this.Options.submitButtonTag).click($.proxy(this.submitForm,this)))},this.submitForm=function(){$(this.Options.formTag).valid()&&(this.TempButtonContent=$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html(),$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html('<i class="fa fa-refresh fa-spin"></i>&nbsp;Loading...'),$(this.Options.formTag).find("input[type=checkbox]").each(function(){$(this).is(":checked")&&$(this).val("true")}),$.post(this.Options.submitUrl,this.Options.serializationFunction(),$.proxy(function(e){$(this.Options.submitButtonTag).removeClass("btn-default").addClass("btn-primary").html(this.TempButtonContent),this.Options.submitFunction(e)},this)))},this.LoadValidation(),this.Options.placeBelow&&$(this.Options.formTag).addClass("validation-below")},$.fn.hoodValidator=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodValidator")){var o=new $.hood.FormValidator(this,e);t.data("hoodValidator",o)}})},$.hood||($.hood={}),$.hood.Addresses={Init:function(){$("body").on("click",".add-new-address",$.hood.Addresses.New),$("body").on("click",".set-billing",$.hood.Addresses.SetBilling),$("body").on("click",".set-delivery",$.hood.Addresses.SetDelivery),$("body").on("click",".delete-address",$.hood.Addresses.Delete),$("body").on("click",".edit-address",$.hood.Addresses.Edit),$(".address-select").length>0&&$.hood.Addresses.Refresh()},New:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.hood.Modals.Open("/account/addresses/create",null,"",$.hood.Addresses.PostLoad)},Edit:function(){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.hood.Modals.Open("/account/addresses/edit",{id:$(this).data("id")},"",$.hood.Addresses.PostLoad)},Refresh:function(){$.hood.Inline.Reload(".address-list"),$.get("/account/addresses/get",null,function(e){$(".address-select").empty().append($("<option>",{value:"",text:"--- Choose an address ---"}));for(var t in e){var o=e[t].Id,a=e[t].FullAddress;$(".address-select").append($("<option>",{value:o,text:a}))}})},PostLoad:function(){$.hood.Google.Addresses.InitAutocomplete(),$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),$("#address-form").hoodValidator({validationRules:{Number:{required:!0},Address1:{required:!0},City:{required:!0},County:{required:!0},Postcode:{required:!0},Country:{required:!0}},submitButtonTag:$("#save-address"),submitUrl:$("#address-form").attr("action"),submitFunction:function(e){e.Success?($.hood.Addresses.Refresh(),$.hood.Modals.Close("#add-address-modal")):$.hood.Alerts.Error(e.Errors,"Error Saving Address!")}})},SetBilling:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/setbilling?id="+$(this).data("id"),null,function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your billing address has been updated.","Billing Address Updated!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't update your billing address...","Couldn't Update Billing Address!")}),e.preventDefault()},SetDelivery:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/setdelivery?id="+$(this).data("id"),function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your delivery address has been updated.","Delivery Address Updated!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't update your delivery address...","Couldn't Update Delivery Address!")}),e.preventDefault()},Delete:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/delete",{id:$(this).data("id")},function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your address has been deleted.","Address Deleted!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't delete your address, it may be in use as your billing or delivery address...","Couldn't Delete Address!")}),e.preventDefault()}},$.hood.Addresses.Init();var swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:"btn btn-success btn-lg m-1 pl-4 pr-4",cancelButton:"btn btn-danger btn-lg m-1"},buttonsStyling:!1}),Toast=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!0});$.hood||($.hood={}),$.hood.Alerts={Error:function(e,t,o,a,n,i,r){o===!0?this.SweetAlert(e,t,"error",a,n,i,r):this.Alert(e,t,"error")},Warning:function(e,t,o,a,n,i,r){o===!0?this.SweetAlert(e,t,"warning",a,n,i,r):this.Alert(e,t,"warning")},Message:function(e,t,o,a,n,i,r){o===!0?this.SweetAlert(e,t,"info",a,n,i,r):this.Alert(e,t,"info")},Success:function(e,t,o,a,n,i,r){o===!0?this.SweetAlert(e,t,"success",a,n,i,r):this.Alert(e,t,"success")},Alert:function(e,t,o){Toast.fire({type:o||"info",html:e,title:t})},SweetAlert:function(e,t,o,a,n,i,r){swalWithBootstrapButtons.fire({title:t,html:e,type:o||"info",footer:a,showConfirmButton:n,timer:i}).then(function(e){e.dismiss||r(e)})},Confirm:function(e,t,o,a,n,i,r){swalWithBootstrapButtons.fire({title:t||"Woah!",html:e||"Are you sure you want to do this?",type:a||"warning",footer:n||'<span class="text-warning"><i class="fa fa-exclamation-triangle"></i> This cannot be undone.</span>',showCancelButton:!0,confirmButtonText:i||"Ok",cancelButtonText:r||"Cancel"}).then(function(e){e.dismiss||o(e.value)})},Prompt:function(e,t,o,a,n,i,r,s,l){swalWithBootstrapButtons.fire({input:a||"text",inputAttributes:l||{autocapitalize:"off"},title:t||"Enter a value",html:e||"Fill in the field and press Ok to continue.",type:n||"info",footer:i,showCancelButton:!0,confirmButtonText:r||"Ok",cancelButtonText:s||"Cancel"}).then(function(e){e.dismiss||o(e.value)})}},$.hood||($.hood={}),$.hood.Forms={Init:function(){$(".floating-label > label").each(function(){var e=$(this);e.parent().append(e)})},GetAllowedExtensions:function(e){switch(e){case"Image":return["png","jpg","jpeg","bmp","gif"];case"Document":return["doc","docx","pdf","rtf"];case"All":return""}},GetAllowedFiles:function(e){switch(e){case"Image":
return"image/png,jpg,image/jpeg,image/gif";case"Document":return"application/msword,application/pdf,text/rtf";case"All":return""}}},$.hood.Forms.Init(),$.hood||($.hood={}),$.hood.Inline={Init:function(){$(".hood-inline:not(.refresh)").each($.hood.Inline.Load),$("body").on("click",".hood-inline-task",$.hood.Inline.Task),$("body").on("click",".hood-modal",function(e){e.preventDefault(),$.hood.Inline.Modal($(this).attr("href"),$(this).data("complete"))}),$.hood.Inline.DataList.Init()},Refresh:function(e){$(e||".hood-inline").each($.hood.Inline.Load)},Load:function(e){$.hood.Inline.Reload(this)},Reload:function(e,t){$tag=$(e),$tag.addClass("loading"),t||(t=$tag.data("complete"));var o=$tag.data("url");$.get(o,function(e){$tag.html(e),$tag.removeClass("loading")}).done(function(){$.hood.Inline.RunComplete(t)}).fail($.hood.Inline.HandleError).always($.hood.Inline.Finish)},Modal:function(e,t){$.get(e,function(e){modalId="#"+$(e).attr("id"),$(e).addClass("hood-inline-modal"),$(modalId).length&&$(modalId).remove(),$("body").append(e),$(modalId).modal(),$(modalId).on("shown.bs.modal",function(){$(document).off("focusin.modal")})}).done(function(){$.hood.Inline.RunComplete(t)}).fail($.hood.Inline.HandleError).always($.hood.Inline.Finish)},Task:function(e){e.preventDefault(),$tag=$(e.currentTarget),$tag.addClass("loading"),$.get($tag.attr("href"),function(e){e.Success?$.hood.Alerts.Success(e.Message):$.hood.Alerts.Error(e.Errors,e.Message),e.Url&&setTimeout(function(){window.location=e.Url},500),$tag.removeClass("loading")}).done(function(){$.hood.Inline.RunComplete(complete)}).fail($.hood.Inline.HandleError).always($.hood.Inline.Finish)},DataList:{Init:function(){$(".hood-inline-list.query").each(function(){$(this).data("url",$(this).data("url")+window.location.search)}),$(".hood-inline-list:not(.refresh)").each($.hood.Inline.Load),$("body").on("click",".hood-inline-list .pagination a",function(e){e.preventDefault(),$.hood.Loader(!0);var t=document.createElement("a");t.href=$(this).attr("href"),$list=$(this).parents(".hood-inline-list"),$.hood.Inline.DataList.Reload($list,t)}),$("body").on("submit",".hood-inline-list form",function(e){e.preventDefault(),$.hood.Loader(!0),$form=$(this),$list=$form.parents(".hood-inline-list");var t=document.createElement("a");t.href=$list.data("url"),t.search="?"+$form.serialize(),$.hood.Inline.DataList.Reload($list,t)}),$("body").on("submit","form.inline",function(e){e.preventDefault(),$.hood.Loader(!0),$form=$(this),$list=$($form.data("target"));var t=document.createElement("a");t.href=$list.data("url"),t.search="?"+$form.serialize(),$.hood.Inline.DataList.Reload($list,t)}),$("body").on("change","form.inline .refresh-on-change, .hood-inline-list form",function(e){e.preventDefault(),$.hood.Loader(!0),$form=$(this).parents("form"),$list=$($form.data("target"));var t=document.createElement("a");t.href=$list.data("url"),t.search="?"+$form.serialize(),$.hood.Inline.DataList.Reload($list,t)})},Reload:function(e,t){if(history.pushState&&e.hasClass("query")){var o=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+t.href.substring(t.href.indexOf("?")+1);window.history.pushState({path:o},"",o)}e.data("url",$.hood.Helpers.InsertQueryStringParamToUrl(t,"inline","true")),$.hood.Inline.Reload(e)}},HandleError:function(e){500===e.status?$.hood.Alerts.Error("<strong>"+e.status+"</strong>: There was an error processing the content, please contact an administrator if this continues.<br/>"):404===e.status?$.hood.Alerts.Error("<strong>"+e.status+"</strong>: The content could not be found.<br/>"):401===e.status&&$.hood.Alerts.Error("<strong>"+e.status+"</strong>: You are not allowed to view this resource, are you logged in correctly?<br/>")},Finish:function(e){$.hood.Loader(!1)},RunComplete:function RunComplete(complete){if(!$.hood.Helpers.IsNullOrUndefined(complete)){var func=eval(complete);"function"==typeof func&&func()}}},$.hood.Inline.Init(),$.hood.Modals={Open:$.hood.Inline.Modal},$.hood||($.hood={}),$.hood.Media={Init:function(){$("body").on("click",".delete-media",$.hood.Media.Delete),$("body").on("click",".delete-directory",$.hood.Media.Directories.Delete),$("body").on("click",".create-directory",$.hood.Media.Directories.Create),$.hood.Media.Upload.Init(),$.hood.Media.Actions.Init()},Loaded:function(e){$.hood.Loader(!1)},BladeLoaded:function(e){$.hood.Media.LoadMediaPlayers()},Reload:function(e){$.hood.Inline.Reload($("#media-list"),e)},Actions:{Init:function(){$("body").on("click",".hood-image-attach",$.hood.Media.Actions.Load.Attach),$("body").on("click",".hood-image-clear",$.hood.Media.Actions.Complete.Clear),$("body").on("click",".hood-image-insert",$.hood.Media.Actions.Load.Insert),$("body").on("click",".hood-media-select",$.hood.Media.Actions.Load.Select)},Target:null,Json:null,Current:{Attach:null},Load:{Attach:function(e){e.preventDefault(),$.hood.Media.Actions.Target=$($(this).data("tag")),$.hood.Media.Actions.Json=$($(this).data("json")),$.hood.Inline.Modal($(this).data("url"),function(){$.hood.Media.Reload(function(){$("body").off("click",".media-attach"),$("body").on("click",".media-attach",$.hood.Media.Actions.Complete.Attach)}),$.hood.Media.Upload.Init()})},Insert:function(e){e.addButton("hoodimage",{text:"Insert image...",icon:!1,onclick:function(){$.hood.Inline.Modal($(this).data("url"),function(){$.hood.Media.Reload(function(){$("body").off("click"),$("body").on("click",".media-insert",$.proxy($.hood.Media.Actions.Complete.Insert,e))}),$.hood.Media.Upload.Init()})}})},Select:function(e){$.hood.Media.Actions.Target=$($(this).data("target")),$.hood.Inline.Modal($(this).data("url"),function(){$.hood.Media.Reload(function(){$("body").off("click",".media-select"),$("body").on("click",".media-select",$.hood.Media.Actions.Complete.Select)}),$.hood.Media.Upload.Init()})}},Complete:{Attach:function(e){e.preventDefault(),$image=$.hood.Media.Actions.Target,$json=$.hood.Media.Actions.Json,$.post($(this).data("url"),function(e){$.hood.Helpers.ProcessResponse(e),e.Success&&(icon=e.Media.Icon,"Image"===e.Media.GeneralFileType&&(icon=e.Media.MediumUrl),$.hood.Helpers.IsNullOrUndefined($image)||($image.css({"background-image":"url("+icon+")"}),$image.find("img").attr("src",icon),$image.removeClass("loading")),$.hood.Helpers.IsNullOrUndefined($json)||$json.val(e.MediaJson))}).done(function(){$("#media-select-modal").modal("hide")}).fail($.hood.Inline.HandleError)},Insert:function(e){url=$(e.target).data("url"),editor=this,editor.insertContent('<img alt="Your image..." src="'+url+'"/>'),$.hood.Modals.Close("#attach-media-modal")},Select:function(e){url=$(this).data("url"),tag=$.hood.Media.Actions.Target,$(tag).each(function(){$(this).is("input")?$(this).val(url):($(this).attr("src",url),$(this).css({"background-image":"url("+url+")"}),$(this).find("img").attr("src",url))}),$.hood.Alerts.Success("Image URL has been inserted.<br /><strong>Remember to press save!</strong>"),$("#media-select-modal").modal("hide")},Clear:function(e){e.preventDefault(),$image=$($(this).data("tag")),$json=$($(this).data("json")),$.post($(this).data("url"),function(e){$.hood.Helpers.ProcessResponse(e),e.Success&&(icon=e.Media.Icon,"Image"===e.Media.GeneralFileType&&(icon=e.Media.MediumUrl),$.hood.Helpers.IsNullOrUndefined($image)||($image.css({"background-image":"url("+icon+")"}),$image.find("img").attr("src",icon),$image.removeClass("loading")),$.hood.Helpers.IsNullOrUndefined($json)||$json.val(e.Json))}).fail($.hood.Inline.HandleError)}},RefreshImage:function(e,t,o){var a=$(e);a.addClass("loading"),$.get(t,{id:o},$.proxy(function(e){a.css({"background-image":"url("+e.SmallUrl+")"}),a.find("img").attr("src",e.SmallUrl),a.removeClass("loading")},this))}},Upload:{Init:function(){if($("#media-add").doesExist()){$("#media-total-progress").hide(),Dropzone.autoDiscover=!1;var e=new Dropzone("#media-upload",{url:$.hood.Media.Upload.UploadUrl,thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:!1,paramName:"files",autoProcessQueue:!0,previewsContainer:!1,clickable:"#media-add",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});e.on("success",function(e,t){t.Success===!1?$.hood.Alerts.Error("Uploads failed: "+t.Message):$.hood.Alerts.Success("Uploads completed successfully.")}),e.on("addedfile",function(e){$("#media-total-progress .progress-bar").css({width:"0%"}),$("#media-total-progress .progress-bar .percentage").html("0%")}),e.on("totaluploadprogress",function(e){$("#media-total-progress .progress-bar").css({width:e+"%"}),$("#media-total-progress .progress-bar .percentage").html(e+"%")}),e.on("sending",function(e){$("#media-total-progress").fadeIn(),$("#media-total-progress .progress-bar").css({width:"0%"}),$("#media-total-progress .progress-bar .percentage").html("0%")}),e.on("complete",function(e){$.hood.Media.Reload()}),e.on("queuecomplete",function(e){$("#media-total-progress").hide(),$.hood.Media.Reload()})}},UploadUrl:function(){return"/admin/media/upload/simple?directory="+$("#Directory").val()}},Delete:function(e){var t=$(this);deleteMediaCallback=function(e){e&&$.post("/admin/media/delete",{id:t.data("id")},function(e){$.hood.Helpers.ProcessResponse(e),e.Success&&($.hood.Media.Reload(),$(".modal-backdrop").remove(),$(".modal").modal("hide"))})},$.hood.Alerts.Confirm("The media file will be permanently removed. This cannot be undone.","Are you sure?",deleteMediaCallback,type="warning",footer='<span class="text-warning"><i class="fa fa-exclamation-triangle"></i> Ensure this file is not attached to any posts, pages or features of the site, or it will appear as a broken image or file.</span>',confirmButtonText="Ok",cancelButtonText="Cancel")},RestrictDir:function(){var e=/[^0-9A-Za-z- ]*/g,t=$(this).val(),o=t.replace(e,"");t!==o&&$(this).val(o)},Directories:{Create:function(){$("body").on("keyup",".sweet-alert input",$.hood.Media.RestrictDir),Swal.fire({title:"Create directory",text:"Please enter a name for your new directory:",input:"text",inputAttributes:{placeholder:"Directory name...",autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Add Directory",showLoaderOnConfirm:!0,preConfirm:function(e){return e!==!1&&(""===e?(Swal.showValidationMessage("You didn't supply a directory name, we can't create one without it!"),!1):fetch("/admin/media/directory/add?directory=".concat(e)).then(function(e){return e.json()}).catch(function(e){Swal.showValidationMessage("Request failed: ".concat(e))}))},allowOutsideClick:function(){return!Swal.isLoading()}}).then(function(e){e.value.Success?($.hood.Media.Reload(),Swal.fire({title:"Woohoo!",text:"Directory has been successfully added...",type:"success"})):Swal.showValidationMessage("There was a problem creating the new directory:\n\n".concat(e.value.Errors)),$("body").off("keyup",".sweet-alert input",$.hood.Media.RestrictDir)})},Delete:function(e){var t=$(this);message="The directory and all files will be permanently removed.\n\nWarning: Ensure these files are not attached to any posts, pages or features of the site, or it will appear as a broken image or file.","Default"===$("#Directory").val()?$.hood.Alerts.Error("You have to select a directory to delete.","Error!",!0,'<span class="text-warning"><i class="fa fa-exclamation-triangle"></i> You cannot delete the "Default" directory.</span>',!0,5e3):(""===$("#Directory").val()&&(message="You have selected to delete All directories, this will remove ALL files and ALL directories from the site. Are you sure!?"),deleteDirectoryCallback=function(e){e&&$.post(t.data("url"),{directory:$("#Directory").val()},function(e){$.hood.Helpers.ProcessResponse(e),$.hood.Media.Reload()})},$.hood.Alerts.Message("Cancelled, nothing to worry about."))}},Players:{},LoadMediaPlayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".hood-media",t={techOrder:["azureHtml5JS","flashSS","html5FairPlayHLS","silverlightSS","html5"],nativeControlsForTouch:!1,controls:!0,autoplay:!1,seeking:!0};$(e).each(function(){try{if(player=$.hood.Media.Players[$(this).data("id")],player)try{player.dispose()}catch(e){console.log("There was a problem disposing the old media player: ".concat(e))}$.hood.Media.Players[$(this).data("id")]=amp($(this).attr("id"),t),player=$.hood.Media.Players[$(this).data("id")],player.src([{src:$(this).data("file"),type:$(this).data("type")}])}catch(e){console.log("There was a problem playing the media file: ".concat(e))}})}},$.hood.Media.Init(),function(e,t,o){e.fn.backstretch=function(a,n){return(a===o||0===a.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),o=t.data("backstretch");if(o){if("string"==typeof a&&"function"==typeof o[a])return void o[a](n);n=e.extend(o.options,n),o.destroy(!0)}o=new i(this,a,n),t.data("backstretch",o)})},e.backstretch=function(t,o){return e("body").backstretch(t,o).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==o},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var a={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},n={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},i=function(o,n,i){this.options=e.extend({},e.fn.backstretch.defaults,i||{}),this.images=e.isArray(n)?n:[n],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=o===document.body,this.$container=e(o),this.$root=this.isBody?e(r?t:document):this.$container,o=this.$container.children(".backstretch").first(),this.$wrap=o.length?o:e('<div class="backstretch"></div>').css(a).appendTo(this.$container),this.isBody||(o=this.$container.css("position"),n=this.$container.css("zIndex"),this.$container.css({position:"static"===o?"relative":o,zIndex:"auto"===n?0:n,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&r?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};i.prototype={resize:function(){try{var e,o={left:0,top:0},a=this.isBody?this.$root.width():this.$root.innerWidth(),n=a,i=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),r=n/this.$img.data("ratio");r>=i?(e=(r-i)/2,this.options.centeredY&&(o.top="-"+e+"px")):(r=i,n=r*this.$img.data("ratio"),e=(n-a)/2,this.options.centeredX&&(o.left="-"+e+"px")),this.$wrap.css({width:a,height:i}).find("img:not(.deleteable)").css({width:n,height:r}).css(o)}catch(e){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var o=this,a=o.$wrap.find("img").addClass("deleteable"),i={relatedTarget:o.$container[0]};return o.$container.trigger(e.Event("backstretch.before",i),[o,t]),this.index=t,clearInterval(o.interval),o.$img=e("<img />").css(n).bind("load",function(n){var r=this.width||e(n.target).width();n=this.height||e(n.target).height(),e(this).data("ratio",r/n),e(this).fadeIn(o.options.speed||o.options.fade,function(){a.remove(),o.paused||o.cycle(),e(["after","show"]).each(function(){o.$container.trigger(e.Event("backstretch."+this,i),[o,t])})}),o.resize()}).appendTo(o.$wrap),o.$img.attr("src",o.images[t]),o}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(o){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),o||this.$wrap.remove(),this.$container.removeData("backstretch")}};var r,s=navigator.userAgent,l=navigator.platform,d=s.match(/AppleWebKit\/([0-9]+)/),d=!!d&&d[1],c=s.match(/Fennec\/([0-9]+)/),c=!!c&&c[1],u=s.match(/Opera Mobi\/([0-9]+)/),h=!!u&&u[1],f=s.match(/MSIE ([0-9]+)/),f=!!f&&f[1];r=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&d&&534>d||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&7458>h||-1<s.indexOf("Android")&&d&&533>d||c&&6>c||"palmGetResource"in t&&d&&534>d||-1<s.indexOf("MeeGo")&&-1<s.indexOf("NokiaBrowser/8.5.0")||f&&6>=f)}(jQuery,window),$.backstretch(["/hood/images/bg/1.jpg","/hood/images/bg/3.jpg","/hood/images/bg/4.jpg","/hood/images/bg/5.jpg","/hood/images/bg/6.jpg","/hood/images/bg/7.jpg","/hood/images/bg/8.jpg","/hood/images/bg/9.jpg"],{fade:1e3,duration:3e3}),$(".code-mask").mask("000-000",{placeholder:"___-___"}),$(window).on("load",function(){$("input:-webkit-autofill").each(function(){""!==$(this).val().length&&$(this).siblings("label, i").addClass("active")})});