function humaneDate(e,t){function a(e,t){var a=.1;return e>=t&&e<=t*(1+a)?t:e}if(e){var o,i={ago:"Ago",from:"",now:"Just Now",minute:"Minute",minutes:"Minutes",hour:"Hour",hours:"Hours",day:"Day",days:"Days",week:"Week",weeks:"Weeks",month:"Month",months:"Months",year:"Year",years:"Years"},n=[[60,i.now],[3600,i.minute,i.minutes,60],[86400,i.hour,i.hours,3600],[604800,i.day,i.days,86400],[2628e3,i.week,i.weeks,604800],[31536e3,i.month,i.months,2628e3],[1/0,i.year,i.years,31536e3]],r="string"==typeof e,e=r?new Date((""+e).replace(/-/g,"/").replace(/[TZ]/g," ")):e,t=t||new Date,s=(t-e+6e4*(t.getTimezoneOffset()-(r?0:e.getTimezoneOffset())))/1e3;s<0?(s=Math.abs(s),o=i.from?" "+i.from:""):o=i.ago?" "+i.ago:"";for(var l=0,d=n[0];n[l];d=n[++l])if(s<d[0]){if(0===l)return d[1];var c=Math.ceil(a(s,d[3])/d[3]);return c+" "+(1!==c?d[2]:d[1])+(l>0?o:"")}}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var a=e.data(this[0],"validator");return a?a:(this.attr("novalidate","novalidate"),a=new e.validator(t,this[0]),e.data(this[0],"validator",a),a.settings.onsubmit&&(this.on("click.validate",":submit",function(t){a.settings.submitHandler&&(a.submitButton=t.target),e(this).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.on("submit.validate",function(t){function o(){var o,i;return!a.settings.submitHandler||(a.submitButton&&(o=e("<input type='hidden'/>").attr("name",a.submitButton.name).val(e(a.submitButton).val()).appendTo(a.currentForm)),i=a.settings.submitHandler.call(a,a.currentForm,t),a.submitButton&&o.remove(),void 0!==i&&i)}return a.settings.debug&&t.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,o()):a.form()?a.pendingRequest?(a.formSubmitted=!0,!1):o():(a.focusInvalid(),!1)})),a)},valid:function(){var t,a,o;return e(this[0]).is("form")?t=this.validate().form():(o=[],t=!0,a=e(this[0].form).validate(),this.each(function(){t=a.element(this)&&t,t||(o=o.concat(a.errorList))}),a.errorList=o),t},rules:function(t,a){var o,i,n,r,s,l,d=this[0];if(null!=d&&null!=d.form){if(t)switch(o=e.data(d.form,"validator").settings,i=o.rules,n=e.validator.staticRules(d),t){case"add":e.extend(n,e.validator.normalizeRule(a)),delete n.messages,i[d.name]=n,a.messages&&(o.messages[d.name]=e.extend(o.messages[d.name],a.messages));break;case"remove":return a?(l={},e.each(a.split(/\s/),function(t,a){l[a]=n[a],delete n[a],"required"===a&&e(d).removeAttr("aria-required")}),l):(delete i[d.name],n)}return r=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),r.required&&(s=r.required,delete r.required,r=e.extend({required:s},r),e(d).attr("aria-required","true")),r.remote&&(s=r.remote,delete r.remote,r=e.extend(r,{remote:s})),r}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var a=e(t).val();return null!==a&&!!e.trim(""+a)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,a){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=a,this.init()},e.validator.format=function(t,a){return 1===arguments.length?function(){var a=e.makeArray(arguments);return a.unshift(t),e.validator.format.apply(this,a)}:void 0===a?t:(arguments.length>2&&a.constructor!==Array&&(a=e.makeArray(arguments).slice(1)),a.constructor!==Array&&(a=[a]),e.each(a,function(e,a){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return a})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,a){var o=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===a.which&&""===this.elementValue(t)||e.inArray(a.keyCode,o)!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,a,o){"radio"===t.type?this.findByName(t.name).addClass(a).removeClass(o):e(t).addClass(a).removeClass(o)},unhighlight:function(t,a,o){"radio"===t.type?this.findByName(t.name).removeClass(a).addClass(o):e(t).removeClass(a).addClass(o)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]);var a=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),i=a.settings;i[o]&&!e(this).is(i.ignore)&&i[o].call(a,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var a,o=this.groups={};e.each(this.settings.groups,function(t,a){"string"==typeof a&&(a=a.split(/\s/)),e.each(a,function(e,a){o[a]=t})}),a=this.settings.rules,e.each(a,function(t,o){a[t]=e.validator.normalizeRule(o)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var a,o,i=this.clean(t),n=this.validationTargetFor(i),r=this,s=!0;return void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=e(n),o=this.groups[n.name],o&&e.each(this.groups,function(e,t){t===o&&e!==n.name&&(i=r.validationTargetFor(r.clean(r.findByName(e))),i&&i.name in r.invalid&&(r.currentElements.push(i),s=r.check(i)&&s))}),a=this.check(n)!==!1,s=s&&a,a?this.invalid[n.name]=!1:this.invalid[n.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!a)),s},showErrors:function(t){if(t){var a=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:a.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,a=0;for(t in e)e[t]&&a++;return a},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,a={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var o=this.name||e(this).attr("name");return!o&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),!(o in a||!t.objectLength(e(this).rules())||(a[o]=!0,0))})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var a,o,i=e(t),n=t.type;return"radio"===n||"checkbox"===n?this.findByName(t.name).filter(":checked").val():"number"===n&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":i.val():(a=t.hasAttribute("contenteditable")?i.text():i.val(),"file"===n?"C:\\fakepath\\"===a.substr(0,12)?a.substr(12):(o=a.lastIndexOf("/"),o>=0?a.substr(o+1):(o=a.lastIndexOf("\\"),o>=0?a.substr(o+1):a)):"string"==typeof a?a.replace(/\r/g,""):a)},check:function(t){t=this.validationTargetFor(this.clean(t));var a,o,i,n=e(t).rules(),r=e.map(n,function(e,t){return t}).length,s=!1,l=this.elementValue(t);if("function"==typeof n.normalizer){if(l=n.normalizer.call(t,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete n.normalizer}for(o in n){i={method:o,parameters:n[o]};try{if(a=e.validator.methods[o].call(this,l,t,i.parameters),"dependency-mismatch"===a&&1===r){s=!0;continue}if(s=!1,"pending"===a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,i),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),e}}if(!s)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,a){return e(t).data("msg"+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,a){"string"==typeof a&&(a={method:a});var o=this.findDefined(this.customMessage(t.name,a.method),this.customDataMessage(t,a.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[a.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof o?o=o.call(this,a.parameters,t):i.test(o)&&(o=e.validator.format(o.replace(i,"{$1}"),a.parameters)),o},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t);this.errorList.push({message:a,element:e,method:t.method}),this.errorMap[e.name]=a,this.submitted[e.name]=a},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++)a=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass),this.showLabel(a.element,a.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,a){var o,i,n,r,s=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(a)):(s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(a||""),o=s,this.settings.wrapper&&(o=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(o):this.settings.errorPlacement?this.settings.errorPlacement.call(this,o,e(t)):o.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(n=s.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(d+=" "+n):d=n,e(t).attr("aria-describedby",d),i=this.groups[t.name],i&&(r=this,e.each(r.groups,function(t,a){a===i&&e("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",s.attr("id"))})))),!a&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var a=this.escapeCssMeta(this.idOrName(t)),o=e(t).attr("aria-describedby"),i="label[for='"+a+"'], label[for='"+a+"'] *";return o&&(i=i+", #"+this.escapeCssMeta(o).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,a){switch(a.nodeName.toLowerCase()){case"select":return e("option:selected",a).length;case"input":if(this.checkable(a))return this.findByName(a.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,a){return!!e(t,a.form).length},function:function(e,t){return e(t)}},optional:function(t){var a=this.elementValue(t);return!e.validator.methods.required.call(this,a,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,a){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),a&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!a&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,a){return a="string"==typeof a&&a||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:a})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,a){t.constructor===String?this.classRuleSettings[t]=a:e.extend(this.classRuleSettings,t)},classRules:function(t){var a={},o=e(t).attr("class");return o&&e.each(o.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(a,e.validator.classRuleSettings[this])}),a},normalizeAttributeRule:function(e,t,a,o){/min|max|step/.test(a)&&(null===t||/number|range|text/.test(t))&&(o=Number(o),isNaN(o)&&(o=void 0)),o||0===o?e[a]=o:t===a&&"range"!==t&&(e[a]=!0)},attributeRules:function(t){var a,o,i={},n=e(t),r=t.getAttribute("type");for(a in e.validator.methods)"required"===a?(o=t.getAttribute(a),""===o&&(o=!0),o=!!o):o=n.attr(a),this.normalizeAttributeRule(i,r,a,o);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var a,o,i={},n=e(t),r=t.getAttribute("type");for(a in e.validator.methods)o=n.data("rule"+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()),this.normalizeAttributeRule(i,r,a,o);return i},staticRules:function(t){var a={},o=e.data(t.form,"validator");return o.settings.rules&&(a=e.validator.normalizeRule(o.settings.rules[t.name])||{}),a},normalizeRules:function(t,a){return e.each(t,function(o,i){if(i===!1)return void delete t[o];if(i.param||i.depends){var n=!0;switch(typeof i.depends){case"string":n=!!e(i.depends,a.form).length;break;case"function":n=i.depends.call(a,a)}n?t[o]=void 0===i.param||i.param:(e.data(a.form,"validator").resetElements(e(a)),delete t[o])}}),e.each(t,function(o,i){t[o]=e.isFunction(i)&&"normalizer"!==o?i(a):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var a;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(a=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(a[0]),Number(a[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var a={};e.each(t.split(/\s/),function(){a[this]=!0}),t=a}return t},addMethod:function(t,a,o){e.validator.methods[t]=a,e.validator.messages[t]=void 0!==o?o:e.validator.messages[t],a.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,a,o){if(!this.depend(o,a))return"dependency-mismatch";if("select"===a.nodeName.toLowerCase()){var i=e(a).val();return i&&i.length>0}return this.checkable(a)?this.getLength(t,a)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,a,o){var i=e.isArray(t)?t.length:this.getLength(t,a);return this.optional(a)||i>=o},maxlength:function(t,a,o){var i=e.isArray(t)?t.length:this.getLength(t,a);return this.optional(a)||i<=o},rangelength:function(t,a,o){var i=e.isArray(t)?t.length:this.getLength(t,a);return this.optional(a)||i>=o[0]&&i<=o[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},step:function(t,a,o){var i,n=e(a).attr("type"),r="Step attribute on input type "+n+" is not supported.",s=["text","number","range"],l=new RegExp("\\b"+n+"\\b"),d=n&&!l.test(s.join()),c=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},u=function(e){return Math.round(e*Math.pow(10,i))},h=!0;if(d)throw new Error(r);return i=c(o),(c(t)>i||u(t)%u(o)!==0)&&(h=!1),this.optional(a)||h},equalTo:function(t,a,o){var i=e(o);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(a).valid()}),t===i.val()},remote:function(t,a,o,i){if(this.optional(a))return"dependency-mismatch";i="string"==typeof i&&i||"remote";var n,r,s,l=this.previousValue(a,i);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[a.name][i],this.settings.messages[a.name][i]=l.message,o="string"==typeof o&&{url:o}||o,s=e.param(e.extend({data:t},o.data)),l.old===s?l.valid:(l.old=s,n=this,this.startRequest(a),r={},r[a.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:r,context:n.currentForm,success:function(e){var o,r,s,d=e===!0||"true"===e;n.settings.messages[a.name][i]=l.originalMessage,d?(s=n.formSubmitted,n.resetInternals(),n.toHide=n.errorsFor(a),n.formSubmitted=s,n.successList.push(a),n.invalid[a.name]=!1,n.showErrors()):(o={},r=e||n.defaultMessage(a,{method:i,parameters:t}),o[a.name]=l.message=r,n.invalid[a.name]=!0,n.showErrors(o)),l.valid=d,n.stopRequest(a,d)}},o)),"pending")}}});var t,a={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,o){var i=e.port;"abort"===e.mode&&(a[i]&&a[i].abort(),a[i]=o)}):(t=e.ajax,e.ajax=function(o){var i=("mode"in o?o:e.ajaxSettings).mode,n=("port"in o?o:e.ajaxSettings).port;return"abort"===i?(a[n]&&a[n].abort(),a[n]=t.apply(this,arguments),a[n]):t.apply(this,arguments)}),e}),!function(e){function t(e,t,a){e.rules[t]=a,e.message&&(e.messages[t]=e.message)}function a(e){return e.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function o(e){return e.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function i(e){return e.substr(0,e.lastIndexOf(".")+1)}function n(e,t){return 0===e.indexOf("*.")&&(e=e.replace("*.",t)),e}function r(t,a){var i=e(this).find("[data-valmsg-for='"+o(a[0].name)+"']"),n=i.attr("data-valmsg-replace"),r=n?e.parseJSON(n)!==!1:null;i.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",i),r?(i.empty(),t.removeClass("input-validation-error").appendTo(i)):t.hide()}function s(t,a){var o=e(this).find("[data-valmsg-summary=true]"),i=o.find("ul");i&&i.length&&a.errorList.length&&(i.empty(),o.addClass("validation-summary-errors").removeClass("validation-summary-valid"),e.each(a.errorList,function(){e("<li />").html(this.message).appendTo(i)}))}function l(t){var a=t.data("unobtrusiveContainer");if(a){var o=a.attr("data-valmsg-replace"),i=o?e.parseJSON(o):null;a.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),i&&a.empty()}}function d(t){var a=e(this),o="__jquery_unobtrusive_validation_form_reset";if(!a.data(o)){a.data(o,!0);try{a.data("validator").resetForm()}finally{a.removeData(o)}a.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),a.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function c(t){var a=e(t),o=a.data(p),i=e.proxy(d,t),n=h.unobtrusive.options||{},c=function(a,o){var i=n[a];i&&e.isFunction(i)&&i.apply(t,o)};return o||(o={options:{errorClass:n.errorClass||"input-validation-error",errorElement:n.errorElement||"span",errorPlacement:function(){r.apply(t,arguments),c("errorPlacement",arguments)},invalidHandler:function(){s.apply(t,arguments),c("invalidHandler",arguments)},messages:{},rules:{},success:function(){l.apply(t,arguments),c("success",arguments)}},attachValidation:function(){a.off("reset."+p,i).on("reset."+p,i).validate(this.options)},validate:function(){return a.validate(),a.valid()}},a.data(p,o)),o}var u,h=e.validator,p="unobtrusiveValidation";h.unobtrusive={adapters:[],parseElement:function(t,a){var o,i,n,r=e(t),s=r.parents("form")[0];s&&(o=c(s),o.options.rules[t.name]=i={},o.options.messages[t.name]=n={},e.each(this.adapters,function(){var a="data-val-"+this.name,o=r.attr(a),l={};void 0!==o&&(a+="-",e.each(this.params,function(){l[this]=r.attr(a+this)}),this.adapt({element:t,form:s,message:o,params:l,rules:i,messages:n}))}),e.extend(i,{__dummy__:!0}),a||o.attachValidation())},parse:function(t){var a=e(t),o=a.parents().addBack().filter("form").add(a.find("form")).has("[data-val=true]");a.find("[data-val=true]").each(function(){h.unobtrusive.parseElement(this,!0)}),o.each(function(){var e=c(this);e&&e.attachValidation()})}},u=h.unobtrusive.adapters,u.add=function(e,t,a){return a||(a=t,t=[]),this.push({name:e,params:t,adapt:a}),this},u.addBool=function(e,a){return this.add(e,function(o){t(o,a||e,!0)})},u.addMinMax=function(e,a,o,i,n,r){return this.add(e,[n||"min",r||"max"],function(e){var n=e.params.min,r=e.params.max;n&&r?t(e,i,[n,r]):n?t(e,a,n):r&&t(e,o,r)})},u.addSingleVal=function(e,a,o){return this.add(e,[a||"val"],function(i){t(i,o||e,i.params[a])})},h.addMethod("__dummy__",function(e,t,a){return!0}),h.addMethod("regex",function(e,t,a){var o;return!!this.optional(t)||(o=new RegExp(a).exec(e),o&&0===o.index&&o[0].length===e.length)}),h.addMethod("nonalphamin",function(e,t,a){var o;return a&&(o=e.match(/\W/g),o=o&&o.length>=a),o}),h.methods.extension?(u.addSingleVal("accept","mimtype"),u.addSingleVal("extension","extension")):u.addSingleVal("extension","extension","accept"),u.addSingleVal("regex","pattern"),u.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),u.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),u.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),u.add("equalto",["other"],function(a){var r=i(a.element.name),s=a.params.other,l=n(s,r),d=e(a.form).find(":input").filter("[name='"+o(l)+"']")[0];t(a,"equalTo",d)}),u.add("required",function(e){("INPUT"!==e.element.tagName.toUpperCase()||"CHECKBOX"!==e.element.type.toUpperCase())&&t(e,"required",!0)}),u.add("remote",["url","type","additionalfields"],function(r){var s={url:r.params.url,type:r.params.type||"GET",data:{}},l=i(r.element.name);e.each(a(r.params.additionalfields||r.element.name),function(t,a){var i=n(a,l);s.data[i]=function(){var t=e(r.form).find(":input").filter("[name='"+o(i)+"']");return t.is(":checkbox")?t.filter(":checked").val()||t.filter(":hidden").val()||"":t.is(":radio")?t.filter(":checked").val()||"":t.val()}}),t(r,"remote",s)}),u.add("password",["min","nonalphamin","regex"],function(e){e.params.min&&t(e,"minlength",e.params.min),e.params.nonalphamin&&t(e,"nonalphamin",e.params.nonalphamin),e.params.regex&&t(e,"regex",e.params.regex)}),e(function(){h.unobtrusive.parse(document)})}(jQuery);var console={};console.log=function(){},window.console=console,function(e){var t={"ball-pulse":3,"ball-grid-pulse":9,"ball-clip-rotate":1,"ball-clip-rotate-pulse":2,"square-spin":1,"ball-clip-rotate-multiple":2,"ball-pulse-rise":5,"ball-rotate":1,"cube-transition":2,"ball-zig-zag":2,"ball-zig-zag-deflect":2,"ball-triangle-path":3,"ball-scale":1,"line-scale":5,"line-scale-party":4,"ball-scale-multiple":3,"ball-pulse-sync":3,"ball-beat":3,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin-fade-loader":8,"line-spin-fade-loader":8,"triangle-skew-spin":1,pacman:5,"ball-grid-beat":9,"semi-circle-spin":1,"ball-scale-random":3},a=function(e){var t=[];for(i=1;i<=e;i++)t.push("<div></div>");return t};e.fn.loaders=function(){return this.each(function(){var o=e(this);e.each(t,function(e,t){o.hasClass(e)&&o.html(a(t))})})},e(function(){e.each(t,function(t,o){e(".loader-inner."+t).html(a(o))})})}.call(window,window.$||window.jQuery||window.Zepto),function(e){"use strict";e.fn.fitVids=function(t){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var o=document.head||document.getElementsByTagName("head")[0],i=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">'+i+"</style>",o.appendChild(n.childNodes[1])}return t&&e.extend(a,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&t.push(a.customSelector);var o=".fitvidsignore";a.ignore&&(o=o+", "+a.ignore);var i=e(this).find(t.join(","));i=i.not("object object"),i=i.not(o),i.each(function(){var t=e(this);if(!(t.parents(o).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var a="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),n=a/i;if(!t.attr("name")){var r="fitvid"+e.fn.fitVids._count;t.attr("name",r),e.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}})})},e.fn.fitVids._count=0}(window.jQuery||window.Zepto),$.hood||($.hood={}),$.body=$("body");var console=window.console||{};console.log=console.log||function(){},console.warn=console.warn||function(){},console.error=console.error||function(){},
console.info=console.info||function(){},!function(e,t,a){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=a:(e[t]=a,"function"==typeof define&&define.amd&&define(t,[],function(){return a}))}(this,"jRespond",function(e,t,a){"use strict";return function(e){var t=[],o=[],i=e,n="",r="",s=0,l=100,d=500,c=d,u=function(){var e=0;return e="number"!=typeof window.innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth},h=function(e){if(e.length===a)p(e);else for(var t=0;t<e.length;t++)p(e[t])},p=function(e){var i=e.breakpoint,s=e.enter||a;t.push(e),o.push(!1),g(i)&&(s!==a&&s.call(null,{entering:n,exiting:r}),o[t.length-1]=!0)},m=function(){for(var e=[],i=[],s=0;s<t.length;s++){var l=t[s].breakpoint,d=t[s].enter||a,c=t[s].exit||a;"*"===l?(d!==a&&e.push(d),c!==a&&i.push(c)):g(l)?(d===a||o[s]||e.push(d),o[s]=!0):(c!==a&&o[s]&&i.push(c),o[s]=!1)}for(var u={entering:n,exiting:r},h=0;h<i.length;h++)i[h].call(null,u);for(var p=0;p<e.length;p++)e[p].call(null,u)},f=function(e){for(var t=!1,a=0;a<i.length;a++)if(e>=i[a].enter&&e<=i[a].exit){t=!0;break}t&&n!==i[a].label?(r=n,n=i[a].label,m()):t||""===n||(n="",m())},g=function(e){if("object"==typeof e){if(e.join().indexOf(n)>=0)return!0}else{if("*"===e)return!0;if("string"==typeof e&&n===e)return!0}},v=function(){var e=u();e!==s?(c=l,f(e)):c=d,s=e,setTimeout(v,c)};return v(),{addFunc:function(e){h(e)},getBreakpoint:function(){return n}}}}(this,this.document));var jRes=jRespond([{label:"smallest",enter:0,exit:479},{label:"handheld",enter:480,exit:767},{label:"tablet",enter:768,exit:991},{label:"laptop",enter:992,exit:1199},{label:"desktop",enter:1200,exit:1e4}]);jRes.addFunc([{breakpoint:"desktop",enter:function(){$.body.addClass("device-lg")},exit:function(){$.body.removeClass("device-lg")}},{breakpoint:"laptop",enter:function(){$.body.addClass("device-md")},exit:function(){$.body.removeClass("device-md")}},{breakpoint:"tablet",enter:function(){$.body.addClass("device-sm")},exit:function(){$.body.removeClass("device-sm")}},{breakpoint:"handheld",enter:function(){$.body.addClass("device-xs")},exit:function(){$.body.removeClass("device-xs")}},{breakpoint:"smallest",enter:function(){$.body.addClass("device-xxs")},exit:function(){$.body.removeClass("device-xxs")}}]),$.fn.doesExist=function(){return $(this).length>0},$.fn.restrictToSlug=function(e){var t=$(this),a=e||/[^0-9a-zA-Z-\/\/]*/g,o=function(){var e=$(this).val(),t=e.replace(a,"");e!==t&&$(this).val(t)};t.on("keyup",o),t.on("paste",o),t.on("change",o)},$(".restrict-to-slug").restrictToSlug(),$.fn.restrictToPageSlug=function(e){var t=$(this),a=e||/[^0-9a-zA-Z-\/\/]*/g,o=function(){var e=$(this).val(),t=e.replace(a,"");if((t.match(new RegExp("/","g"))||[]).length>4){var o=t.lastIndexOf("/");t=t.substring(0,o)+t.substring(o+1),$.hood.Alerts.Warning("You can only have up to 4 '/' characters in a url slug.")}e!==t&&$(this).val(t)};t.on("keyup",o),t.on("paste",o),t.on("change",o)},$(".restrict-to-page-slug").restrictToPageSlug(),$.fn.characterCounter=function(e){var t=$(this),a=function(){counter=$(this).data("counter"),max=Number($(this).attr("maxlength")),len=$(this).val().length,$(counter).text(max-len),cls="text-success",max-len<max/10&&(cls="text-danger"),$(counter).parent().removeClass("text-success").removeClass("text-danger").addClass(cls)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".character-counter").characterCounter(),$(".character-counter").trigger("change"),$.fn.addLoader=function(){$(this).data("loadercontent",$(this).html()),$(this).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>')},$.fn.removeLoader=function(){$(this).empty().html($(this).data("loadercontent")),$(this).removeClass("loading")},$.fn.warningAlert=function(e){var t=$(this),a=function(e){var a=e.currentTarget;return $.loadCss("sweetalert-css","/lib/sweetalert/dist/sweetalert.css"),$.getScript("/lib/sweetalert/dist/sweetalert.min.js",$.proxy(function(){swal({title:"Whoa!",text:t.data("warning"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?(url=$(a).attr("href"),window.location=url):swal("Cancelled","It's all good in the hood!","error")})},this)),!1};t.on("click",a)},$(".warning-alert").warningAlert(),$.getPlaceholders=function(e){for(var t=/\{(\w+)\}/g,a=[];match=t.exec(e);)a.push(match[1]);return a},$.commonHeight=function(e,t){var a=0;e.children(t).each(function(){var e=$(this).children();e.hasClass("max-height")?a=e.outerHeight():e.outerHeight()>a&&(a=e.outerHeight())}),e.children(t).each(function(){$(this).height(a)})},$.loadCss=function(e,t){$("link#"+e).length||$("<link/>",{id:e,rel:"stylesheet",type:"text/css",href:t}).appendTo("head")},$.getUrlVars=function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<a.length;o++)e=a[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t},$.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},"undefined"!=typeof kendo&&(kendo.data.binders.date=kendo.data.Binder.extend({init:function(e,t,a){kendo.data.Binder.fn.init.call(this,e,t,a),this.dateformat=$(e).data("dateformat")},refresh:function(){var e=this.bindings.date.get();if(e){var t=new Date(e);$(this.element).text(kendo.toString(t,this.dateformat))}}})),$.validator&&($.validator.addMethod("time",function(e,t){return this.optional(t)||/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$/i.test(e)},"Please enter a valid time."),$.validator.addMethod("ukdate",function(e,t){return e.match(/^\d\d?\/\d\d?\/\d\d\d\d$/)},"Please enter a date in the format dd/mm/yyyy.")),$.mobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Any:function(){return $.mobile.Android()||$.mobile.BlackBerry()||$.mobile.iOS()||$.mobile.Opera()||$.mobile.Windows()}},$.mobile.Android?$.mobile.BlackBerry?$.mobile.iOS?$.mobile.Opera?$.mobile.Windows?($.body.addClass("desktop-device"),$.device="desktop"):($.body.addClass("windows-device"),$.device="windows"):($.body.addClass("opera-device"),$.device="opera"):($.body.addClass("ios-device"),$.device="ios"):($.body.addClass("blackberry-device"),$.device="blackberry"):($.body.addClass("android-device"),$.device="android"),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}(),$.decodeUrl=function(e){return decodeURIComponent(e).replace("+"," ")},$.hood.LinkClasses=[{title:"None",value:""},{title:"Button link",value:"btn btn-default"},{title:"Theme coloured button link",value:"btn btn-primary"},{title:"Popup image/video",value:"colorbox-iframe"},{title:"Button popup link",value:"btn btn-default colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary colorbox-iframe"},{title:"Large link",value:"font-lg"},{title:"Large button link",value:"btn btn-default btn-lg"},{title:"Large theme coloured button link",value:"btn btn-primary btn-lg"},{title:"Large popup image/video",value:"font-lg colorbox-iframe"},{title:"Large Button popup link",value:"btn btn-default btn-lg colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary btn-lg colorbox-iframe"}],$.hood.ImageClasses=[{title:"None",value:""},{title:"Full Width",value:"user-image full"},{title:"Left Aligned",value:"user-image left"},{title:"Centered",value:"user-image center"},{title:"Right Aligned",value:"user-image right"},{title:"Inline with text, top aligned",value:"user-image inline top"},{title:"Inline with text, middle aligned",value:"user-image inline"},{title:"Inline with text, bottom aligned",value:"user-image inline bottom"},{title:"Pulled Left",value:"user-image pull-left"},{title:"Pulled Right",value:"user-image pull-right"}],"undefined"!=typeof jQuery&&(jQuery.fn.humaneDates=function(e){var t=jQuery.extend({lowercase:!1},e);return this.each(function(){var e=jQuery(this),a=e.attr("datetime")||e.attr("title");a=humaneDate(a),a&&t.lowercase&&(a=a.toLowerCase()),a&&e.html()!==a&&e.html(a)})}),function(e,t,a){for(var o=t.getElementsByTagName("iframe"),i=0;i<o.length;i++){var n=o[i],r=/www.youtube.com|player.vimeo.com|www.londonlive.co.uk|www.slideshare.net|www.ustream.tv/;if(n.src.search(r)>0){var s=n.height/n.width*100;n.style.position="absolute",n.style.top="0",n.style.left="0",n.width="100%",n.height="100%";var l=t.createElement("div");l.className="fluid-vids",l.style.width="100%",l.style.position="relative",l.style.paddingTop=s+"%";var d=n.parentNode;d.insertBefore(l,n),l.appendChild(n)}}}(window,document),String.prototype.contains=function(e){return this.indexOf(e)!=-1},String.prototype.pick=function(e,t){var a,o="";a="undefined"==typeof t?e:e+Math.floor(Math.random()*(t-e));for(var i=0;i<a;i++)o+=this.charAt(Math.floor(Math.random()*this.length));return o},String.prototype.shuffle=function(){var e,t,a=this.split(""),o=a.length;if(o)for(;--o;)t=Math.floor(Math.random()*(o+1)),e=a[t],a[t]=a[o],a[o]=e;return a.join("")},$.hood||($.hood={}),$.hood.Alerts={Error:function(e,t,a,o){o===!0?this.SweetAlert(e,t,a,"error"):this.Alert(e,t,a,"error")},Warning:function(e,t,a,o){o===!0?this.SweetAlert(e,t,a,"warning"):this.Alert(e,t,a,"warning")},Message:function(e,t,a,o){o===!0?this.SweetAlert(e,t,a,"info"):this.Alert(e,t,a,"info")},Success:function(e,t,a,o){o===!0?this.SweetAlert(e,t,a,"success"):this.Alert(e,t,a,"success")},Alert:function(e,t,a,o){$.getScript("/lib/toastr/toastr.min.js",$.proxy(function(){$.loadCss("toastr-css","/lib/toastr/toastr.min.css"),e=e.replace(/(?:\r\n|\r|\n)/g,"<br />"),toastr.options={closeButton:!0,debug:!0,progressBar:!0,preventDuplicates:!0,positionClass:"toast-bottom-left",showDuration:"400",hideDuration:"1000",timeOut:"7000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.options.onclick=a;toastr[o](e,t)},this))},SweetAlert:function(e,t,a,o){$.getScript("/lib/sweetalert/dist/sweetalert.min.js",$.proxy(function(){$.loadCss("sweetalert-css","/lib/sweetalert/dist/sweetalert.css"),swal({title:t,text:e,timer:55e3,type:o})},this))}},$.hood||($.hood={}),$.hood.Helpers={InIframe:function(){try{return window.self!==window.top}catch(e){return!0}},GetQueryStringParamByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),a=t.exec(location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},InsertQueryStringParam:function(e,t){e=escape(e),t=escape(t);var a=document.location.search.substr(1).split("&");if(""==a)document.location.search="?"+e+"="+t;else{for(var o,i=a.length;i--;)if(o=a[i].split("="),o[0]==e){o[1]=t,a[i]=o.join("=");break}i<0&&(a[a.length]=[e,t].join("=")),document.location.search=a.join("&")}},IsNullOrUndefined:function(e){var t=!1;return null!==e&&"undefined"!=typeof e&&""!==e||(t=!0),t},IsSet:function(e){var t=!1;return null!==e&&"undefined"!=typeof e&&""!==e||(t=!0),!t},IsEventSupported:function(e){var t=document.createElement("div");e="on"+e;var a=e in t;return a||(t.setAttribute(e,"return;"),a="function"==typeof t[e]),t=null,a},HtmlEncode:function(e){return $("<div/>").text(e).html()},HtmlDecode:function(e){return $("<div/>").html(e).text()},SlimScrollTopBottom:function(e,t){if(t)$(e).slimScroll({scrollTo:"0px"});else{var a=$(e).prop("scrollHeight")+"px";$(e).slimScroll({scrollTo:a})}},FormatCurrency:function(e,t){return t+" "+e.toFixed(2).replace(/./g,function(e,t,a){return t>0&&"."!==e&&(a.length-t)%3===0?","+e:e})},FormatKilobytes:function(e){return e/=1024,e.toFixed(2).replace(/./g,function(e,t,a){return t>0&&"."!==e&&(a.length-t)%3===0?","+e:e})},FormatMegabytes:function(e){return e/=1024,e/=1024,currency+" "+e.toFixed(2).replace(/./g,function(e,t,a){return t>0&&"."!==e&&(a.length-t)%3===0?","+e:e})},IsUrlExternal:function(e){var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},UrlToLocationObject:function(e){var t=document.createElement("a");return t.href=e,t},SeoUrl:function(e){var t=e.replace(/[^a-zA-Z0-9]/g," ").replace(/\s+/g,"-").toLowerCase();"-"==t.charAt(0)&&(t=t.substring(1));var a=t.length-1;return"-"==t.charAt(a)&&(t=t.substring(0,a)),t},FindAndRemoveFromArray:function(e,t,a){$.each(e,function(o,i){i[t]==a&&e.splice(o,1)})},FindAndReturnFromArray:function(e,t,a){var o=null;return $.each(e,function(e,i){i[t]==a&&(o=i)}),o},LeftPad:function(e,t){for(var a=e+"";a.length<t;)a="0"+a;return a},DateAdd:function(e,t,a){var o=new Date(e);switch(t.toLowerCase()){case"year":o.setFullYear(o.getFullYear()+a);break;case"quarter":o.setMonth(o.getMonth()+3*a);break;case"month":o.setMonth(o.getMonth()+a);break;case"week":o.setDate(o.getDate()+7*a);break;case"day":o.setDate(o.getDate()+a);break;case"hour":o.setTime(o.getTime()+36e5*a);break;case"minute":o.setTime(o.getTime()+6e4*a);break;case"second":o.setTime(o.getTime()+1e3*a);break;default:o=void 0}return o},SubmitPageToForm:function(e,t,a){"use strict";var o;if(o=$("<form />",{action:e,method:t,style:"display: none;"}),"undefined"!=typeof a&&null!==a)for(var i in a)a.hasOwnProperty(i)&&$("<input />",{type:"hidden",name:i,value:a[i]}).appendTo(o);o.appendTo("body").submit()},GenerateRandomString:function(e){return specials="!@#$&*",lowercase="abcdefghijklmnopqrstuvwxyz",uppercase="ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers="0123456789",all=lowercase+uppercase+numbers,password=(specials.pick(1)+lowercase.pick(1)+uppercase.pick(1)+all.pick(5,10)).shuffle(),password},ResetSidebarScroll:function(){$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10})},UnwrapUploader:function(e){e.unwrap().unwrap().unwrap(),e.siblings("span").remove(),e.siblings("em").remove()},InitIboxes:function(e){$(e).find(".collapse-link").click(function(){var e=$(this).closest("div.ibox"),t=$(this).find("i"),a=e.find("div.ibox-content");a.slideToggle(200),t.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){e.resize(),e.find("[id^=map-]").resize()},50)}),$(e).find(".close-link").click(function(){var e=$(this).closest("div.ibox");e.remove()}),$(e).find(".fullscreen-link").click(function(){var e=$(this).closest("div.ibox"),t=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),t.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)})},InitMetisMenu:function(e){$(e).find(".metisMenu").metisMenu()}},$.hood||($.hood={}),$.hood.Forms={GetAllowedExtensions:function(e){switch(e){case"Image":return["png","jpg","jpeg","bmp","gif"];case"Document":return["doc","docx","pdf","rtf"];case"All":return""}},GetAllowedFiles:function(e){switch(e){case"Image":return"image/png,jpg,image/jpeg,image/gif";case"Document":return"application/msword,application/pdf,text/rtf";case"All":return""}},ValidationErrorPlacement:function(e,t){if(t.is(":checkbox")||t.is(":radio")){var a=t.closest('div[class*="col-"]');a.find(":checkbox,:radio").length>1?a.append(e):e.insertAfter(t.nextAll(".lbl:eq(0)").eq(0))}else t.is(".select2")?e.insertAfter(t.siblings('[class*="select2-container"]:eq(0)')):t.is(".chosen-select")&&e.insertAfter(t.siblings('[class*="chosen-container"]:eq(0)'));t.is(".drop-error")?e.insertAfter(t.parents(".input-group")):e.insertAfter(t.parent())},ValidationSuccess:function(e){$(e).closest("label").removeClass("state-error").addClass("state-success"),$(e).remove()},ValidationInvalid:function(e,t){$(".alert-error",$(".login-form")).show()},ValidationHighlight:function(e){$(e).closest("label").removeClass("state-success").addClass("state-error")}},$.hood||($.hood={}),$.hood.Handlers={Init:function(){$("body").on("click",".select-text",$.hood.Handlers.SelectTextContent),$("body").on("click",".btn.click-select[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".click-select[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".slide-link",$.hood.Handlers.SlideToAnchor),$("body").on("change","input[type=checkbox][data-input]",$.hood.Handlers.CheckboxChange),$("body").on("change",".submit-on-change",$.hood.Handlers.SubmitOnChange),$("select[data-selected]").each($.hood.Handlers.SelectSetup),$("body").on("change",".inline-date",$.hood.Handlers.DateChange)},SubmitOnChange:function(e){$(this).parents("form").submit()},DateChange:function(e){$field=$(this).parents(".hood-date").find(".date-output"),date=$field.parents(".hood-date").find(".date-value").val(),pattern=/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/,pattern.test(date)||(date="01/01/2001"),hour=$field.parents(".hood-date").find(".hour-value").val(),$.isNumeric(hour)||(hour="00"),minute=$field.parents(".hood-date").find(".minute-value").val(),$.isNumeric(minute)||(minute="00"),$field.val(date+" "+hour+":"+minute+":00"),$field.attr("value",date+" "+hour+":"+minute+":00")},CheckboxChange:function(e){var t=new Array;$('input[data-input="'+$(this).data("input")+'"]').each(function(){$(this).is(":checked")&&t.push($(this).val())}),id="#"+$(this).data("input"),vals=JSON.stringify(t),$(id).val(vals)},SelectSetup:function(){sel=$(this).data("selected"),"undefined"!==$(this).data("selected")&&""!==$(this).data("selected")&&(selected=String($(this).data("selected")),$(this).val(selected))},ClickSelect:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$('.click-select[data-target="'+e.data("target")+'"]').each(function(){$(this).html($(this).data("temp")).removeClass("active")}),$('.click-select[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).data("temp",$(this).html()).html("Selected").addClass("active")})},SelectTextContent:function(){var e=$(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})},SlideToAnchor:function(){var e=$("body").scrollTop(),t=$($.attr(this,"href")).offset().top;return $("html, body").animate({scrollTop:t},Math.abs(t-e)),!1}},$.hood.Handlers.Init(),$.hood||($.hood={}),$.hood.Pager=function(e,t){this.Options=$.extend({element:e,pageCount:0,dataSource:null,selectedClass:"active",defaultClass:"",textClass:"",baseClass:"pagination pagination-sm",noItemTemplate:'<span class="no-items">No items to display.</span>'},t||{}),null!=this.Options.dataSource&&this.Options.dataSource.bind("change",$.proxy(function(e){var t=e.items;if(this.Options.pageCount=Math.ceil(this.Options.dataSource._total/this.Options.dataSource._pageSize),t.length/this.Options.dataSource._pageSize>this.Options.pageCount&&this.Options.pageCount++,0==t.length)return void $(this.Options.element).empty().append(this.Options.noItemTemplate);for(startItem=this.Options.dataSource._pageSize*(this.Options.dataSource._page-1),ts=startItem+this.Options.dataSource._pageSize,ts>this.Options.dataSource._total&&(ts=this.Options.dataSource._total),$(this.Options.element).empty().append('<ul class="'+this.Options.baseClass+' page-numbers"></ul>'),min=this.Options.dataSource._page-2,min<1&&(min=1),max=this.Options.dataSource._page+2,max>this.Options.pageCount&&(max=this.Options.pageCount),prev=this.Options.dataSource._page-1,prev<1&&(prev=1),next=this.Options.dataSource._page+1,next>this.Options.pageCount&&(next=this.Options.pageCount),$(this.Options.element).find(".page-numbers").append('<li><a href="javascript:void(0);" class="page-link '+this.Options.defaultClass+' " data-page="'+prev+'"><i class="fa fa-angle-left"></i></a></li>'),i=min;i<=max;i++)active=this.Options.defaultClass,this.Options.dataSource._page==i&&(active=this.Options.selectedClass),$(this.Options.element).find(".page-numbers").append('<li class="'+active+'"><a href="javascript:void(0);" class="page-link" data-page="'+i+'">'+i+"</a></li>");$(this.Options.element).find(".page-numbers").append('<li><a href="javascript:void(0);" class="page-link '+this.Options.defaultClass+'" data-page="'+next+'"><i class="fa fa-angle-right"></i></a></li>'),$(this.Options.element).find(".page-link").click($.proxy(function(e){this.Options.dataSource.page($(e.target).data("page"))},this))},this))},$.fn.hoodPager=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodPager")){var a=new $.hood.Pager(this,e);t.data("hoodPager",a)}})},$.hood||($.hood={}),$.hood.FormValidator=function(e,t){this.Options=$.extend({formTag:e,validationRules:null,validationMessages:{},placeBelow:!0,submitButtonTag:null,submitUrl:null,submitFunction:null,errorElement:"div",errorClass:"text-danger help-block small",invalidHandler:$.hood.Forms.ValidationInvalid,highlight:$.hood.Forms.ValidationHighlight,success:$.hood.Forms.ValidationSuccess,errorPlacement:$.hood.Forms.ValidationErrorPlacement,serializationFunction:function(){return rtn=$(this.formTag).serialize(),rtn}},t||{}),this.LoadValidation=function(){$.hood.Helpers.IsNullOrUndefined(this.Options.formTag)||($(this.Options.formTag).find("input, select").keypress($.proxy(function(e){if(13==e.which)return $.proxy(this.submitForm(),this),e.preventDefault(),!1},this)),$(this.Options.formTag).validate({submitHandler:function(e){e.preventDefault()},errorClass:this.Options.errorClass,focusInvalid:!1,rules:this.Options.validationRules,messages:this.Options.validationMessages,invalidHandler:this.Options.invalidHandler,errorPlacement:$.proxy(function(e,t){t.siblings().remove(),this.Options.placeBelow?e.insertAfter(t):e.insertBefore(t)},this),errorElement:this.Options.errorElement,highlight:function(e){$(e).parent().removeClass("has-success").addClass("has-error")},success:function(e){$(e).parent().removeClass("has-error").addClass("has-success")}}),$.hood.Helpers.IsNullOrUndefined(this.Options.submitButtonTag)||$(this.Options.submitButtonTag).click($.proxy(this.submitForm,this)))},this.submitForm=function(){$(this.Options.formTag).valid()&&(this.TempButtonContent=$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html(),$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html('<i class="fa fa-refresh fa-spin"></i>&nbsp;Loading...'),$(this.Options.formTag).find("input[type=checkbox]").each(function(){$(this).is(":checked")&&$(this).val("true")}),$.post(this.Options.submitUrl,this.Options.serializationFunction(),$.proxy(function(e){$(this.Options.submitButtonTag).removeClass("btn-default").addClass("btn-primary").html(this.TempButtonContent),this.Options.submitFunction(e)},this)))},this.LoadValidation(),this.Options.placeBelow&&$(this.Options.formTag).addClass("validation-below")},$.fn.hoodValidator=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodValidator")){var a=new $.hood.FormValidator(this,e);t.data("hoodValidator",a)}})},$.hood||($.hood={}),$.hood.Modals={Loading:!1,Open:function(e,t,a,o){$.hood.Modals.Loading||($.hood.Modals.Loading=!0,$(a).data("temp",$(a).html()),$(a).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>'),$.get(e,t,function(e){modalId="#"+$(e).attr("id"),$(modalId).length&&$(modalId).remove(),$("body").append(e),$(modalId).modal()}).done(function(){if(!$.hood.Helpers.IsNullOrUndefined(o))try{o()}catch(e){$.hood.Alerts.Error(e.message)}}).fail(function(e){$.hood.Alerts.Error("There was an error loading the modal window.<br/><br />"+e.status+" - "+e.statusText)}).always(function(e){$(a).removeClass("loading").html($(a).data("temp")),$("body").css({"padding-right":0}),$.hood.Modals.Loading=!1}))},Close:function(e){$(e).modal("hide"),$(e).remove(),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}},$.hood||($.hood={}),$.hood.Inline={Init:function(){$(".hood-inline:not(.refresh)").each($.hood.Inline.Load),$("body").on("click",".hood-inline-task",$.hood.Inline.Task)},Refresh:function(){$(".hood-inline").each($.hood.Inline.Load)},Load:function(e){$.hood.Inline.Reload(this)},Reload:function(tag,complete){$(tag).addClass("loading"),params=null,$(tag).attr("data-params")&&(params=eval($(tag).data("params")));var urlLoad=$(tag).data("url");$.get(urlLoad,params,function(e){$(tag).html(e);try{$.hood.Helpers.InitMetisMenu(tag)}catch(e){}try{$.hood.Helpers.InitIboxes(tag)}catch(e){}}).fail(function(e){$.hood.Alerts.Error("There was an error loading the inline panel's URL:<br/><strong>"+urlLoad+"</strong>")}).always(function(data){$(tag).attr("data-complete")&&eval($(tag).data("complete")),$.hood.Helpers.IsNullOrUndefined(complete)||complete(),$.hood.Modals.Loading=!1,$(tag).removeClass("loading")})},Task:function(e){e.preventDefault(),$tagcontents=$(e.currentTarget).html(),$(e.currentTarget).addClass("loading");var urlLoad=$(e.currentTarget).attr("href");$.get(urlLoad,null,function(e){e.Success?$.hood.Alerts.Success(e.Message):$.hood.Alerts.Error(e.Errors),e.Url&&setTimeout(function(){window.location=e.Url},500)}).done($.proxy(function(){$(this).attr("data-complete")&&eval($(this).data("complete"))},e.currentTarget)).fail(function(e){$.hood.Alerts.Error("There was an error processing the AJAX request:<br/><strong>"+urlLoad+"</strong>")}).always(function(t){$.hood.Modals.Loading=!1,$(e.currentTarget).removeClass("loading")})}},$.hood.Inline.Init(),$.hood||($.hood={}),$.hood.Addresses={Init:function(){$("body").on("click",".add-new-address",$.hood.Addresses.New),$("body").on("click",".set-billing",$.hood.Addresses.SetBilling),$("body").on("click",".set-delivery",$.hood.Addresses.SetDelivery),$("body").on("click",".delete-address",$.hood.Addresses.Delete),$("body").on("click",".edit-address",$.hood.Addresses.Edit),$(".address-select").length>0&&$.hood.Addresses.Refresh()},New:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.hood.Modals.Open("/account/addresses/create",null,"",$.hood.Addresses.PostLoad)},Edit:function(){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.hood.Modals.Open("/account/addresses/edit",{id:$(this).data("id")},"",$.hood.Addresses.PostLoad)},Refresh:function(){$.hood.Inline.Reload(".address-list"),$.get("/admin/users/getaddresses",null,function(e){$(".address-select").empty().append($("<option>",{value:"",text:"--- Choose an address ---"}));for(var t in e){var a=e[t].Id,o=e[t].FullAddress;$(".address-select").append($("<option>",{value:a,text:o}))}})},PostLoad:function(){$.hood.Google.Addresses.InitAutocomplete(),$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),$("#address-form").hoodValidator({validationRules:{Number:{required:!0},Address1:{required:!0},City:{required:!0},County:{required:!0},Postcode:{required:!0},Country:{required:!0}},submitButtonTag:$("#save-address"),submitUrl:$("#address-form").attr("action"),submitFunction:function(e){e.Success?($.hood.Addresses.Refresh(),$.hood.Modals.Close("#add-address-modal")):$.hood.Alerts.Error(e.Errors,"Error Saving Address!")}})},SetBilling:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/setbilling?id="+$(this).data("id"),null,function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your billing address has been updated.","Billing Address Updated!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't update your billing address...","Couldn't Update Billing Address!")}),e.preventDefault()},SetDelivery:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/setdelivery?id="+$(this).data("id"),function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your delivery address has been updated.","Delivery Address Updated!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't update your delivery address...","Couldn't Update Delivery Address!")}),e.preventDefault()},Delete:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/account/addresses/delete",{id:$(this).data("id")},function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.success?($.hood.Alerts.Success("Your address has been deleted.","Address Deleted!"),$.hood.Addresses.Refresh()):$.hood.Alerts.Error("Couldn't delete your address, it may be in use as your billing or delivery address...","Couldn't Delete Address!")}),e.preventDefault()}},$.hood.Addresses.Init(),$.hood||($.hood={}),$.hood.Cart={Init:function(){$("#CheckoutProgress").fadeOut(),$("body").on("click",".cart-add",$.hood.Cart.Add),$("body").on("click",".cart-clear",$.hood.Cart.Clear),$("body").on("click",".cart-update",$.hood.Cart.Update),$("body").on("click",".cart-remove",$.hood.Cart.Remove),$("body").on("change",".delivery-select",function(){$("#DeliveryAddressId").val($(this).val())}),$("body").on("change",".billing-select",function(){$("#BillingAddressId").val($(this).val())})},Add:function(e){$(this).data("temp",$(this).html()),$(this).addClass("btn-loading").append('<i class="fa fa-refresh fa-spin m-l-xs"></i>'),$.post("/cart/add",{productID:$(this).data("id"),qty:1},function(e){$(".btn-loading").each(function(){$(this).removeClass("btn-loading").html($(this).data("temp"))}),e.Success?($.hood.Alerts.Success("Added to your cart!"),$.hood.Cart.ReloadMiniCart()):($.hood.Alerts.Error("Couldn't add to your cart..."),$.hood.Cart.ReloadMiniCart())}),e.preventDefault()},Update:function(e){$.post("/cart/update",{productID:$(this).data("id"),qty:$(this).data("change")},function(e){e.Success?($.hood.Alerts.Success("Your shopping cart has been updated!"),$.hood.Cart.ReloadMiniCart()):$.hood.Alerts.Error("Couldn't update your cart...")}),e.preventDefault()},Remove:function(e){$.post("/cart/remove",{productID:$(this).data("id")},function(e){e.Success?($.hood.Alerts.Success("Your shopping cart has been updated!"),$.hood.Cart.ReloadMiniCart()):$.hood.Alerts.Error("Couldn't update your cart...")}),e.preventDefault()},Clear:function(e){$.post("/cart/clear",{},function(e){e.Success?($.hood.Alerts.Success("Your shopping cart has been cleared!"),$.hood.Cart.ReloadMiniCart()):$.hood.Alerts.Error("Couldn't clear your cart...")}),e.preventDefault()},ReloadMiniCart:function(e){$(".hood-inline-cart").each(function(){$.hood.Inline.Reload(this)})}},$.hood.Cart.Init(),$.window=$(window),$.wrapper=$("#wrapper"),$.header=$("#header"),$.headerWrap=$("#header-wrap"),$.content=$("#content"),$.footer=$("#footer"),$.mobileMenu=$("#mobile-menu"),$.mobileMenuTrigger=$(".mobile-menu-trigger"),$.background=$("#site-background-image"),$.sideMenus=$(".side-push-panel"),$.sideMenuTrigger=$(".side-panel-trigger"),stickyHeaderClass="sticky-header",mobileMenuOpenClass="mobile-menu-open",sidePushPanelClass="side-push-panel",sidePushPanelOpenClass="side-panel-open",defaultLogo=$("#logo").find(".standard-logo"),defaultLogoImg=defaultLogo.find("img").attr("src"),defaultDarkLogo=defaultLogo.attr("data-dark-logo"),defaultMobileLogo=defaultLogo.attr("data-mobile-logo"),defaultLogoWidth=defaultLogo.find("img").outerWidth(),
retinaLogo=$("#logo").find(".retina-logo"),retinaLogoImg=retinaLogo.find("img").attr("src"),retinaDarkLogo=retinaLogo.attr("data-dark-logo"),retinaMobileLogo=retinaLogo.attr("data-mobile-logo");var windowWidth=$.window.width();$.hood||($.hood={}),$.hood.App={Options:{scrollOffset:64,Scroll:{StickyHeader:!0,InitialPosition:!1,Functions:!0,ToTargetSelector:".scroll-to-target",ToTopSelector:".scroll-top"},Loader:{Delay:500,Complete:null,Items:[]},ShowCookieMessage:!$("body").hasClass("disable-cookies"),Forums:!0,Colorbox:!0,ContactForms:!0,FitVids:!0,Accordion:!0,Counters:!0,Uploaders:!0,PaymentPages:!0,Header:!0,RichTextEditors:!0,LoadSharers:$("#share").length,SharerOptions:["email","twitter","facebook","googleplus","linkedin","pinterest","whatsapp"]},Init:function(e){$.hood.App.Options=$.extend($.hood.App.Options,e||{}),e&&(e.Header&&($.hood.App.Options.Header=$.extend($.hood.App.Options.Header,e.Header||{})),e.Header&&($.hood.App.Options.Header.Settings=$.extend($.hood.App.Options.Header.Settings,e.Header.Settings||{}))),$.hood.App.Loader.Init(),$.hood.App.Options.Header&&$.hood.App.Header.Init(),$.hood.App.Options.Scroll.Functions&&$.hood.App.Scroll.Functions(),$.hood.App.Options.PaymentPages&&$.hood.App.PaymentPages.Init(),$.hood.App.Options.Accordion&&$.hood.App.Accordion(),$.hood.App.Options.Counters&&$.hood.App.Counters(),$.hood.App.Options.FitVids&&$.hood.App.ResizeVideos(),$.hood.App.Options.ContactForms&&$.hood.App.ContactForms.Init(),$.hood.App.Options.Uploaders&&$.hood.App.Uploaders.Init(),$.hood.App.Options.Colorbox&&$.hood.App.Colorbox(),$.hood.App.Options.LoadSharers&&$.hood.App.Sharers(),$.hood.App.Options.ShowCookieMessage&&$.hood.App.Cookies(),$.hood.App.Options.RichTextEditors&&$.hood.App.RichTextEditors()},onInitComplete:function(){$.hood.App.Options.Scroll.StickyHeader&&$.hood.App.Scroll.Init(),$.hood.App.Options.Scroll.InitialPosition&&$.hood.App.Scroll.InitialPosition()},Loader:{LoadList:new Array,Init:function(){if(document.createEvent){new CustomEvent("load-completed");for($(document).on("load-completed","body",$.hood.App.onInitComplete),$(document).on("load-completed","body",$.hood.App.Options.Loader.Complete||$.hood.App.Loader.Complete),i=0;i<$.hood.App.Options.Loader.Items.length;i++)$.hood.App.Loader.AddItem($.hood.App.Options.Loader.Items[i])}else $.hood.App.Options.Loader.Complete?$.hood.App.Options.Loader.Complete():$.hood.App.Loader.Complete()},Complete:function(){$("#loader").fadeOut(100),$("#preloader").delay($.hood.App.Options.Loader.Delay).fadeOut(100),setTimeout(function(){$.hood.App.Options.Forums&&$.hood.App.Forums.Init()},$.hood.App.Options.Loader.Delay+200)},AddItem:function(e){$.hood.App.Loader.LoadList.push({Name:e,Complete:!1})},ItemComplete:function(e){for(cnt=0;cnt<$.hood.App.Loader.LoadList.length;cnt++)$.hood.App.Loader.LoadList[cnt].Name==e&&($.hood.App.Loader.LoadList[cnt].Complete=!0,console.log("Loaded: "+e));$.hood.App.Loader.CheckLoaded()&&$("body").trigger("load-completed")},CheckLoaded:function(){for(cnt=0;cnt<$.hood.App.Loader.LoadList.length;cnt++)if(!$.hood.App.Loader.LoadList[cnt].Complete)return!1;return!0}},Header:{Init:function(){$.hood.App.Header.SidePanel(),$.hood.App.Header.MobileMenu(),$.hood.App.Header.Logo()},StickyMenu:function(){var e=0,t=0;$.header.length>0&&(e=$.header.offset().top),$.header.length>0&&(t=$.headerWrap.offset().top),$.window.scrollTop()>e?$.header.addClass(stickyHeaderClass):$.hood.App.Header.RemoveStickyness()},RemoveStickyness:function(){$.header.hasClass(stickyHeaderClass)&&$.header.removeClass(stickyHeaderClass)},SidePanel:function(){$.sideMenuTrigger.click(function(){return $.body.toggleClass(sidePushPanelOpenClass),$.body.hasClass("device-touch")&&$.body.hasClass(sidePushPanelClass)&&$.body.toggleClass("ohidden"),!1})},MobileMenu:function(){$.mobileMenuTrigger.click(function(){return $.body.hasClass(sidePushPanelClass)&&$.body.removeClass(sidePushPanelClass),$.body.toggleClass(mobileMenuOpenClass),!1})},Logo:function(){!$.header.hasClass("dark")&&!$.body.hasClass("dark")||$.headerWrap.hasClass("not-dark")?(defaultLogoImg&&defaultLogo.find("img").attr("src",defaultLogoImg),retinaLogoImg&&retinaLogo.find("img").attr("src",retinaLogoImg)):(defaultDarkLogo&&defaultLogo.find("img").attr("src",defaultDarkLogo),retinaDarkLogo&&retinaLogo.find("img").attr("src",retinaDarkLogo))}},Scroll:{Init:function(){$.hood.App.Header.StickyMenu(),$.window.on("scroll",function(){$("body.open-header.close-header-on-scroll").removeClass("side-header-open"),$.hood.App.Header.StickyMenu(),$.hood.App.Header.Logo()})},InitialPosition:function(){var e=window.location.hash;if(""!==e){var t=e,a=$(t);a.doesExist()&&($("html, body").stop().delay(350).animate({scrollTop:a.offset().top-$.hood.App.Options.scrollOffset},500,"swing"),history.pushState("",document.title,window.location.pathname+window.location.search))}},Functions:function(){$($.hood.App.Options.Scroll.ToTopSelector).click(function(){return $("html, body").animate({scrollTop:0},800),!1}),$($.hood.App.Options.Scroll.ToTargetSelector).on("click",function(e){var t=$(this).attr("href").split("#")[0];if(t===window.location.pathname||""===t){e.preventDefault();var a=this.hash,o=$(a);$("html, body").stop().animate({scrollTop:o.offset().top-$.hood.App.Options.scrollOffset},900,"swing")}})}},ContactForms:{Init:function(){$(".contact-form .thank-you").hide(),$(".contact-form .form-submit").show(),$("body").on("submit",".contact-form",function(e){return e.preventDefault(),$(".g-recaptcha")?(grecaptcha.reset(),grecaptcha.execute()):$.hood.App.ContactForms.Submit($(this).attr("id")),!1}),$("body").on("click",".form-submit-basic",function(){$.hood.App.ContactForms.Submit($(this).data("tag"))})},Submit:function(e){return $form=$(e),$.post($form.attr("action"),$form.serialize(),function(e){e.Success?($form.attr("data-redirect")&&(window.location=$form.attr("data-redirect")),$form.attr("data-alert-message")&&$.hood.Alerts.Success($form.attr("data-alert-message"),"Success",null,!0),$form.find(".form").hide(),$form.find(".thank-you").show()):("undefined"!=typeof $form.attr("data-alert-error")&&$.hood.Alerts.Success($form.attr("data-alert-error"),"Error",null,!0),$.hood.Alerts.Error("There was an error sending the message","Error",null,!0))}),!1}},Accordion:function(){$(".accordion-title").click(function(e){$(this).next().slideToggle("easeOut"),$(this).toggleClass("active"),$("accordion-title").toggleClass("active"),$(".accordion-content").not($(this).next()).slideUp("easeIn"),$(".accordion-title").not($(this)).removeClass("active")}),$(".accordion-content").addClass("defualt-hidden")},Cookies:function(){$.hood.App.Loader.AddItem("cookies"),window.cookieconsent_options={message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",learnMore:"More info",link:null,theme:"dark-bottom"},$.getScript("//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.10/cookieconsent.min.js",function(){$.hood.App.Loader.ItemComplete("cookies")})},Colorbox:function(){$.hood.App.Loader.AddItem("colorbox"),$.getScript("/lib/jquery-colorbox/jquery.colorbox-min.js",$.proxy(function(){$(".colorbox").colorbox({rel:"gallery",maxWidth:"95%",maxHeight:"95%"}),$(".colorbox-iframe").colorbox({iframe:!0,maxWidth:"95%",maxHeight:"95%",innerWidth:640,innerHeight:390}),$.hood.App.Loader.ItemComplete("colorbox")},this))},Counters:function(){$(".counter").each(function(){var e=$(this),t=e.attr("data-count");$({countNum:e.text()}).animate({countNum:t},{duration:8e3,easing:"linear",step:function(){e.text(Math.floor(this.countNum))},complete:function(){e.text(this.countNum)}})})},Forums:{Init:function(){var e=$.getUrlVars().highlight;$.isNumeric(e)&&($post=$("#post-"+e),$("html,body").animate({scrollTop:$post.offset().top-$.hood.App.Options.scrollOffset},"slow"),$post.addClass("highlight"))}},ResizeVideos:function(){return $().fitVids?void $("#content,#footer,#slider:not(.revslider-wrap),.landing-offer-media,.portfolio-ajax-modal,.mega-menu-column").fitVids({customSelector:"iframe[src^='http://www.dailymotion.com/embed'], iframe[src*='maps.google.com'], iframe[src*='google.com/maps']",ignore:".no-fv"}):(console.log("resizeVideos: FitVids not Defined."),!0)},Sharers:function(){$.getScript("https://cdn.jsdelivr.net/jquery.jssocials/1.4.0/jssocials.min.js",$.proxy(function(){$.loadCss("sharer-css","https://cdn.jsdelivr.net/jquery.jssocials/1.4.0/jssocials.css"),$.loadCss("sharer-theme-css","https://cdn.jsdelivr.net/jquery.jssocials/1.4.0/jssocials-theme-flat.css"),$("#share").jsSocials({shares:this.Options.SharerOptions,showLabel:!0,showCount:!0,shareIn:"popup"})},this))},Uploaders:{Init:function(){($("#media-upload").doesExist()||$("#avatar-upload").doesExist())&&($.hood.App.Loader.AddItem("uploaders"),$.getScript("/lib/dropzone/dist/min/dropzone.min.js",$.proxy(function(){$("#media-upload").doesExist()&&$.hood.App.Uploaders.Gallery(),$("#avatar-upload").doesExist()&&$.hood.App.Uploaders.Avatar(),$.hood.App.Loader.ItemComplete("uploaders")},this)))},Gallery:function(){Dropzone.autoDiscover=!1;var e=document.querySelector("#media-upload-template");e.id="";var t=e.parentNode.innerHTML;e.parentNode.removeChild(e);var a=new Dropzone("#media-upload",{url:$("#media-upload").data("url"),thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:t,paramName:"files",autoProcessQueue:!0,previewsContainer:"#previews",clickable:".fileinput-button",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});$("#media-upload .cancel").hide(),a.on("addedfile",function(e){$(e.previewElement.querySelector(".complete")).hide(),$(e.previewElement.querySelector(".cancel")).show(),$("#media-upload .cancel").show()}),a.on("totaluploadprogress",function(e){document.querySelector("#total-progress .progress-bar").style.width=e+"%"}),a.on("sending",function(e){document.querySelector("#total-progress").style.opacity="1"}),a.on("complete",function(e){$(e.previewElement.querySelector(".cancel")).hide(),$(e.previewElement.querySelector(".progress")).hide(),$(e.previewElement.querySelector(".complete")).show(),$.hood.Inline.Refresh(".gallery")}),a.on("queuecomplete",function(e){document.querySelector("#total-progress").style.opacity="0",$("#media-upload .cancel").hide()}),a.on("success",function(e,t){$.hood.Inline.Refresh(".gallery"),t.Success?$.hood.Alerts.Success("New images added!"):$.hood.Alerts.Error("There was a problem adding the profile image: "+t.Error)}),document.querySelector(".actions .cancel").onclick=function(){a.removeAllFiles(!0)}},Avatar:function(){Dropzone.autoDiscover=!1;var e=new Dropzone("#avatar-upload",{url:$("#avatar-upload").data("url"),maxFiles:1,paramName:"file",parallelUploads:1,autoProcessQueue:!0,previewsContainer:!1,clickable:"#avatar-upload"});e.on("addedfile",function(){null!=this.files[1]&&this.removeFile(this.files[0])}),e.on("totaluploadprogress",function(e){document.querySelector("#avatar-total-progress .progress-bar").style.width=e+"%"}),e.on("sending",function(e){document.querySelector("#avatar-total-progress").style.opacity="1",$($("#avatar-upload").data("preview")).addClass("loading")}),e.on("queuecomplete",function(e){document.querySelector("#avatar-total-progress").style.opacity="0"}),e.on("success",function(e,t){t.Success?($("#AvatarJson").val(JSON.stringify(t.Image)),$($("#avatar-upload").data("preview")).css({"background-image":"url("+t.Image.SmallUrl+")"}),$($("#avatar-upload").data("preview")).find("img").attr("src",t.Image.SmallUrl),$.hood.Alerts.Success("New profile image added!")):$.hood.Alerts.Error("There was a problem adding the profile image: "+t.Error),$($("#avatar-upload").data("preview")).removeClass("loading")})}},PaymentPages:{Init:function(){$("body").on("click",".btn.price-select[data-target][data-value]",$.hood.App.PaymentPages.PriceSelect),$("body").on("click",".change-price-option",$.hood.App.PaymentPages.ChangePrice)},ChangePrice:function(){$("#price-panel").collapse("show"),$("#billing-panel").collapse("hide"),$("#confirm-panel").collapse("hide")},PriceSelect:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$(".selected-price-text").html($(targetId).find(":selected").text()),$('.price-select[data-target="'+e.data("target")+'"]').each(function(){$(this).html($(this).data("temp")).removeClass("active")}),$('.price-select[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).data("temp",$(this).html()).html("Selected").addClass("active")}),$("#price-panel").collapse("hide"),$("#billing-panel").collapse("show"),$("#confirm-panel").collapse("hide")}},RichTextEditors:function(){tinymce.init({selector:".tinymce-public",height:250,plugins:["advlist autolink lists link image charmap print preview anchor media","searchreplace visualblocks code fullscreen","insertdatetime media contextmenu paste emoticons"],menubar:!1,toolbar:"styleselect | bold italic | bullist numlist outdent indent | undo redo | link image media emoticons",image_dimensions:!1,content_css:[]})}},$.hood.Site&&$.hood.Site.Init(),$(window).resize($.hood.App.Resize);var googleRecaptchaCallback=function(e){$.hood.App.ContactForms.Submit($("#g-recaptcha").data("target"))};