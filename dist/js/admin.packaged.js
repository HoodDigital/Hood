function humaneDate(e,t){function o(e,t){var o=.1;return e>=t&&e<=t*(1+o)?t:e}if(e){var a,n={ago:"Ago",from:"",now:"Just Now",minute:"Minute",minutes:"Minutes",hour:"Hour",hours:"Hours",day:"Day",days:"Days",week:"Week",weeks:"Weeks",month:"Month",months:"Months",year:"Year",years:"Years"},i=[[60,n.now],[3600,n.minute,n.minutes,60],[86400,n.hour,n.hours,3600],[604800,n.day,n.days,86400],[2628e3,n.week,n.weeks,604800],[31536e3,n.month,n.months,2628e3],[1/0,n.year,n.years,31536e3]],r="string"==typeof e,e=r?new Date((""+e).replace(/-/g,"/").replace(/[TZ]/g," ")):e,t=t||new Date,s=(t-e+6e4*(t.getTimezoneOffset()-(r?0:e.getTimezoneOffset())))/1e3;s<0?(s=Math.abs(s),a=n.from?" "+n.from:""):a=n.ago?" "+n.ago:"";for(var l=0,d=i[0];i[l];d=i[++l])if(s<d[0]){if(0===l)return d[1];var c=Math.ceil(o(s,d[3])/d[3]);return c+" "+(1!==c?d[2]:d[1])+(l>0?a:"")}}}function initGoogleMapsComplete(){$("#address-autocomplete").length>0&&$.hood.Google.Addresses.InitAutocomplete(),$.hood.Google.Maps(),$.hood.Google.ClusteredMap();try{initMap()}catch(e){}}function localStorageSupport(){return"localStorage"in window&&null!==window.localStorage}function animationHover(e,t){e=$(e),e.hover(function(){e.addClass("animated "+t)},function(){window.setTimeout(function(){e.removeClass("animated "+t)},2e3)})}function SmoothlyMenu(){!$("body").hasClass("mini-nav")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}function WinMove(){var e="[class*=col]",t=".ibox-title",o="[class*=col]";$(e).sortable({handle:t,connectWith:o,tolerance:"pointer",forcePlaceholderSize:!0,opacity:.8}).disableSelection()}var console={};console.log=function(){},window.console=console,$.hood||($.hood={}),$.body=$("body");var console=window.console||{};console.log=console.log||function(){},console.warn=console.warn||function(){},console.error=console.error||function(){},console.info=console.info||function(){},!function(e,t,o){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=o:(e[t]=o,"function"==typeof define&&define.amd&&define(t,[],function(){return o}))}(this,"jRespond",function(e,t,o){"use strict";return function(e){var t=[],a=[],n=e,i="",r="",s=0,l=100,d=500,c=d,u=function(){var e=0;return e="number"!=typeof window.innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth},h=function(e){if(e.length===o)p(e);else for(var t=0;t<e.length;t++)p(e[t])},p=function(e){var n=e.breakpoint,s=e.enter||o;t.push(e),a.push(!1),g(n)&&(s!==o&&s.call(null,{entering:i,exiting:r}),a[t.length-1]=!0)},m=function(){for(var e=[],n=[],s=0;s<t.length;s++){var l=t[s].breakpoint,d=t[s].enter||o,c=t[s].exit||o;"*"===l?(d!==o&&e.push(d),c!==o&&n.push(c)):g(l)?(d===o||a[s]||e.push(d),a[s]=!0):(c!==o&&a[s]&&n.push(c),a[s]=!1)}for(var u={entering:i,exiting:r},h=0;h<n.length;h++)n[h].call(null,u);for(var p=0;p<e.length;p++)e[p].call(null,u)},f=function(e){for(var t=!1,o=0;o<n.length;o++)if(e>=n[o].enter&&e<=n[o].exit){t=!0;break}t&&i!==n[o].label?(r=i,i=n[o].label,m()):t||""===i||(i="",m())},g=function(e){if("object"==typeof e){if(e.join().indexOf(i)>=0)return!0}else{if("*"===e)return!0;if("string"==typeof e&&i===e)return!0}},$=function(){var e=u();e!==s?(c=l,f(e)):c=d,s=e,setTimeout($,c)};return $(),{addFunc:function(e){h(e)},getBreakpoint:function(){return i}}}}(this,this.document));var jRes=jRespond([{label:"smallest",enter:0,exit:479},{label:"handheld",enter:480,exit:767},{label:"tablet",enter:768,exit:991},{label:"laptop",enter:992,exit:1199},{label:"desktop",enter:1200,exit:1e4}]);jRes.addFunc([{breakpoint:"desktop",enter:function(){$.body.addClass("device-lg")},exit:function(){$.body.removeClass("device-lg")}},{breakpoint:"laptop",enter:function(){$.body.addClass("device-md")},exit:function(){$.body.removeClass("device-md")}},{breakpoint:"tablet",enter:function(){$.body.addClass("device-sm")},exit:function(){$.body.removeClass("device-sm")}},{breakpoint:"handheld",enter:function(){$.body.addClass("device-xs")},exit:function(){$.body.removeClass("device-xs")}},{breakpoint:"smallest",enter:function(){$.body.addClass("device-xxs")},exit:function(){$.body.removeClass("device-xxs")}}]),$.fn.doesExist=function(){return $(this).length>0},$.fn.restrictToSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z-\/\/]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-slug").restrictToSlug(),$.fn.restrictToPageSlug=function(e){var t=$(this),o=e||/[^0-9a-zA-Z-\/\/]*/g,a=function(){var e=$(this).val(),t=e.replace(o,"");if((t.match(new RegExp("/","g"))||[]).length>4){var a=t.lastIndexOf("/");t=t.substring(0,a)+t.substring(a+1),$.hood.Alerts.Warning("You can only have up to 4 '/' characters in a url slug.")}e!==t&&$(this).val(t)};t.on("keyup",a),t.on("paste",a),t.on("change",a)},$(".restrict-to-page-slug").restrictToPageSlug(),$.fn.characterCounter=function(e){var t=$(this),o=function(){counter=$(this).data("counter"),max=Number($(this).attr("maxlength")),len=$(this).val().length,$(counter).text(max-len),cls="text-success",max-len<max/10&&(cls="text-danger"),$(counter).parent().removeClass("text-success").removeClass("text-danger").addClass(cls)};t.on("keyup",o),t.on("paste",o),t.on("change",o)},$(".character-counter").characterCounter(),$(".character-counter").trigger("change"),$.fn.addLoader=function(){$(this).data("loadercontent",$(this).html()),$(this).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>')},$.fn.removeLoader=function(){$(this).empty().html($(this).data("loadercontent")),$(this).removeClass("loading")},$.fn.warningAlert=function(e){var t=$(this),o=function(e){var o=e.currentTarget;return $.loadCss("sweetalert-css","/lib/sweetalert/dist/sweetalert.css"),$.getScript("/lib/sweetalert/dist/sweetalert.min.js",$.proxy(function(){swal({title:"Whoa!",text:t.data("warning"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?(url=$(o).attr("href"),window.location=url):swal("Cancelled","It's all good in the hood!","error")})},this)),!1};t.on("click",o)},$(".warning-alert").warningAlert(),$.getPlaceholders=function(e){for(var t=/\{(\w+)\}/g,o=[];match=t.exec(e);)o.push(match[1]);return o},$.commonHeight=function(e,t){var o=0;e.children(t).each(function(){var e=$(this).children();e.hasClass("max-height")?o=e.outerHeight():e.outerHeight()>o&&(o=e.outerHeight())}),e.children(t).each(function(){$(this).height(o)})},$.loadCss=function(e,t){$("link#"+e).length||$("<link/>",{id:e,rel:"stylesheet",type:"text/css",href:t}).appendTo("head")},$.getUrlVars=function(){for(var e,t=[],o=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<o.length;a++)e=o[a].split("="),t.push(e[0]),t[e[0]]=e[1];return t},$.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},"undefined"!=typeof kendo&&(kendo.data.binders.date=kendo.data.Binder.extend({init:function(e,t,o){kendo.data.Binder.fn.init.call(this,e,t,o),this.dateformat=$(e).data("dateformat")},refresh:function(){var e=this.bindings.date.get();if(e){var t=new Date(e);$(this.element).text(kendo.toString(t,this.dateformat))}}})),$.validator&&($.validator.addMethod("time",function(e,t){return this.optional(t)||/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$/i.test(e)},"Please enter a valid time."),$.validator.addMethod("ukdate",function(e,t){return e.match(/^\d\d?\/\d\d?\/\d\d\d\d$/)},"Please enter a date in the format dd/mm/yyyy.")),$.mobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Any:function(){return $.mobile.Android()||$.mobile.BlackBerry()||$.mobile.iOS()||$.mobile.Opera()||$.mobile.Windows()}},$.mobile.Android?$.mobile.BlackBerry?$.mobile.iOS?$.mobile.Opera?$.mobile.Windows?($.body.addClass("desktop-device"),$.device="desktop"):($.body.addClass("windows-device"),$.device="windows"):($.body.addClass("opera-device"),$.device="opera"):($.body.addClass("ios-device"),$.device="ios"):($.body.addClass("blackberry-device"),$.device="blackberry"):($.body.addClass("android-device"),$.device="android"),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}(),$.decodeUrl=function(e){return decodeURIComponent(e).replace("+"," ")},$.hood.LinkClasses=[{title:"None",value:""},{title:"Button link",value:"btn btn-default"},{title:"Theme coloured button link",value:"btn btn-primary"},{title:"Popup image/video",value:"colorbox-iframe"},{title:"Button popup link",value:"btn btn-default colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary colorbox-iframe"},{title:"Large link",value:"font-lg"},{title:"Large button link",value:"btn btn-default btn-lg"},{title:"Large theme coloured button link",value:"btn btn-primary btn-lg"},{title:"Large popup image/video",value:"font-lg colorbox-iframe"},{title:"Large Button popup link",value:"btn btn-default btn-lg colorbox-iframe"},{title:"Theme coloured button popup link",value:"btn btn-primary btn-lg colorbox-iframe"}],"undefined"!=typeof jQuery&&(jQuery.fn.humaneDates=function(e){var t=jQuery.extend({lowercase:!1},e);return this.each(function(){var e=jQuery(this),o=e.attr("datetime")||e.attr("title");o=humaneDate(o),o&&t.lowercase&&(o=o.toLowerCase()),o&&e.html()!==o&&e.html(o)})}),function(e,t,o){for(var a=t.getElementsByTagName("iframe"),n=0;n<a.length;n++){var i=a[n],r=/www.youtube.com|player.vimeo.com|www.londonlive.co.uk|www.slideshare.net|www.ustream.tv/;if(i.src.search(r)>0){var s=i.height/i.width*100;i.style.position="absolute",i.style.top="0",i.style.left="0",i.width="100%",i.height="100%";var l=t.createElement("div");l.className="fluid-vids",l.style.width="100%",l.style.position="relative",l.style.paddingTop=s+"%";var d=i.parentNode;d.insertBefore(l,i),l.appendChild(i)}}}(window,document),String.prototype.contains=function(e){return this.indexOf(e)!=-1},String.prototype.pick=function(e,t){var o,a="";o="undefined"==typeof t?e:e+Math.floor(Math.random()*(t-e));for(var n=0;n<o;n++)a+=this.charAt(Math.floor(Math.random()*this.length));return a},String.prototype.shuffle=function(){var e,t,o=this.split(""),a=o.length;if(a)for(;--a;)t=Math.floor(Math.random()*(a+1)),e=o[t],o[t]=o[a],o[a]=e;return o.join("")},$.hood||($.hood={}),$.hood.Uploader={Init:function(){$("body").on("click",".hood-image-attach",$.hood.Uploader.Load.Attach),$("body").on("click",".hood-image-insert",$.hood.Uploader.Load.Insert),$("body").on("click",".hood-image-set",$.hood.Uploader.Load.Set),$("body").on("click",".hood-image-switch",$.hood.Uploader.Load.Switch)},Switching:null,Load:{Attach:function(e){params={Id:$(this).data("id"),Entity:$(this).data("entity"),Field:$(this).data("field"),Type:$(this).data("type"),Refresh:$(this).data("refresh"),Tag:$(this).data("tag")},$.hood.Modals.Open("/admin/media/attach/",params,".hood-image-attach",$.proxy(function(){$("#attach-media-title").html($(this).attr("title")),$("body").off("click",".attach-media-select",$.hood.Uploader.Complete.Attach),$("body").on("click",".attach-media-select",$.hood.Uploader.Complete.Attach),$.hood.Media.Manage.Init(),$.hood.Media.Upload.Init()},this))},Insert:function(e){e.addButton("hoodimage",{text:"Insert image...",icon:!1,onclick:function(){$.hood.Modals.Open("/admin/media/insert/",null,".hood-image-attach",$.proxy(function(){$("body").off("click",".media-insert",$.proxy($.hood.Uploader.Complete.Insert,e)),$("body").on("click",".media-insert",$.proxy($.hood.Uploader.Complete.Insert,e)),$.hood.Media.Manage.Init(),$.hood.Media.Upload.Init()},this))}})},Set:function(e){try{$.hood.Designer.Loader.Show()}catch(e){}$.hood.Uploader.Switching=$($(this).data("target")),params={Restrict:$(this).data("restrict")},$.hood.Modals.Open("/admin/media/select/",params,".hood-image-set",$.proxy(function(){$("#attach-media-title").html($(this).attr("title")),$("body").off("click",".media-select",$.hood.Uploader.Complete.Set),$("body").on("click",".media-select",$.hood.Uploader.Complete.Set),$.hood.Media.Manage.Init(),$.hood.Media.Upload.Init();try{$.hood.Designer.Loader.Hide()}catch(e){}},this))},Switch:function(e){try{$.hood.Designer.Loader.Show()}catch(e){}$.hood.Uploader.Switching=$(this),params={Tag:$(this).data("target"),Restrict:$(this).data("restrict")},$.hood.Modals.Open("/admin/media/select/",params,".hood-image-switch",$.proxy(function(){$("#attach-media-title").html($(this).attr("title")),$("body").on("click",".media-select",$.hood.Uploader.Complete.Switch),$.hood.Media.Manage.Init(),$.hood.Media.Upload.Init();try{$.hood.Designer.Loader.Hide()}catch(e){}},this))}},Complete:{Attach:function(e){$(this).data("temp",$(this).html()),$(this).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>'),params={Id:$(this).data("id"),Entity:$(this).data("entity"),Field:$(this).data("field"),MediaId:$(this).data("media")},$.post("/admin/media/attach/",params,$.proxy(function(e){e.Success?($.hood.Alerts.Success("Attached!"),$.hood.Helpers.IsNullOrUndefined($(this).data("tag"))||$.hood.Helpers.IsNullOrUndefined($(this).data("refresh"))||($image=$("."+$(this).data("tag")),$image.addClass("loading"),$.get($(this).data("refresh"),{id:$(this).data("id")},$.proxy(function(e){$image=$("."+$(this).data("tag")),$image.css({"background-image":"url("+e.SmallUrl+")"}),$image.find("img").attr("src",e.SmallUrl),$image.removeClass("loading")},this)))):$.hood.Alerts.Error(e.Errors,"Error attaching.")},this)).done(function(){}).fail(function(e){$.hood.Alerts.Error(e.status+" - "+e.statusText,"Error communicating.")}).always($.proxy(function(e){$(this).removeClass("loading").html($(this).data("temp")),$.hood.Modals.Close("#attach-media-modal")},this))},Insert:function(e){url=$(e.target).data("url"),editor=this,editor.insertContent('<img alt="Your image..." src="'+url+'"/>'),$.hood.Modals.Close("#attach-media-modal")},Set:function(e){url=$(this).data("url"),tag=$.hood.Uploader.Switching,$(tag).each(function(){$(this).is("input")?$(this).val(url):($(this).attr("src",url),$(this).css({"background-image":"url("+url+")"}),$(this).find("img").attr("src",url))}),$.hood.Modals.Close("#attach-media-modal"),$.hood.Alerts.Success("Attached!")},Switch:function(e){url=$(this).data("url"),tag=$.hood.Uploader.Switching,$(tag).css({"background-image":"url("+url+")"}),$(tag).find("img").attr("src",url),$.hood.Modals.Close("#attach-media-modal"),$.hood.Alerts.Success("Attached!")}},RefreshImage:function(e,t,o){var a=$(e);a.addClass("loading"),$.get(t,{id:o},$.proxy(function(e){a.css({"background-image":"url("+e.SmallUrl+")"}),a.find("img").attr("src",e.SmallUrl),a.removeClass("loading")},this))}},$.hood.Uploader.Init(),$.hood||($.hood={}),$.hood.Alerts={Error:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"error"):this.Alert(e,t,o,"error")},Warning:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"warning"):this.Alert(e,t,o,"warning")},Message:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"info"):this.Alert(e,t,o,"info")},Success:function(e,t,o,a){a===!0?this.SweetAlert(e,t,o,"success"):this.Alert(e,t,o,"success")},Alert:function(e,t,o,a){$.getScript("/lib/toastr/toastr.min.js",$.proxy(function(){$.loadCss("toastr-css","/lib/toastr/toastr.min.css"),e=e.replace(/(?:\r\n|\r|\n)/g,"<br />"),toastr.options={closeButton:!0,debug:!0,progressBar:!0,preventDuplicates:!0,positionClass:"toast-bottom-left",showDuration:"400",hideDuration:"1000",timeOut:"7000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.options.onclick=o;toastr[a](e,t)},this))},SweetAlert:function(e,t,o,a){$.getScript("/lib/sweetalert/dist/sweetalert.min.js",$.proxy(function(){$.loadCss("sweetalert-css","/lib/sweetalert/dist/sweetalert.css"),swal({title:t,text:e,timer:55e3,type:a})},this))}},$.hood||($.hood={}),$.hood.Helpers={InIframe:function(){try{return window.self!==window.top}catch(e){return!0}},GetQueryStringParamByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),o=t.exec(location.search);return null==o?"":decodeURIComponent(o[1].replace(/\+/g," "))},InsertQueryStringParam:function(e,t){e=escape(e),t=escape(t);var o=document.location.search.substr(1).split("&");if(""==o)document.location.search="?"+e+"="+t;else{for(var a,n=o.length;n--;)if(a=o[n].split("="),a[0]==e){a[1]=t,o[n]=a.join("=");break}n<0&&(o[o.length]=[e,t].join("=")),document.location.search=o.join("&")}},IsNullOrUndefined:function(e){var t=!1;return null!==e&&"undefined"!=typeof e&&""!==e||(t=!0),t},IsEventSupported:function(e){var t=document.createElement("div");e="on"+e;var o=e in t;return o||(t.setAttribute(e,"return;"),o="function"==typeof t[e]),t=null,o},HtmlEncode:function(e){return $("<div/>").text(e).html()},HtmlDecode:function(e){return $("<div/>").html(e).text()},SlimScrollTopBottom:function(e,t){if(t)$(e).slimScroll({scrollTo:"0px"});else{var o=$(e).prop("scrollHeight")+"px";$(e).slimScroll({scrollTo:o})}},FormatCurrency:function(e,t){return t+" "+e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},FormatKilobytes:function(e){return e/=1024,e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},FormatMegabytes:function(e){return e/=1024,e/=1024,currency+" "+e.toFixed(2).replace(/./g,function(e,t,o){return t>0&&"."!==e&&(o.length-t)%3===0?","+e:e})},IsUrlExternal:function(e){var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},UrlToLocationObject:function(e){var t=document.createElement("a");return t.href=e,t},SeoUrl:function(e){var t=e.replace(/[^a-zA-Z0-9]/g," ").replace(/\s+/g,"-").toLowerCase();"-"==t.charAt(0)&&(t=t.substring(1));var o=t.length-1;return"-"==t.charAt(o)&&(t=t.substring(0,o)),t},FindAndRemoveFromArray:function(e,t,o){$.each(e,function(a,n){n[t]==o&&e.splice(a,1)})},FindAndReturnFromArray:function(e,t,o){var a=null;return $.each(e,function(e,n){n[t]==o&&(a=n)}),a},LeftPad:function(e,t){for(var o=e+"";o.length<t;)o="0"+o;return o},DateAdd:function(e,t,o){var a=new Date(e);switch(t.toLowerCase()){case"year":a.setFullYear(a.getFullYear()+o);break;case"quarter":a.setMonth(a.getMonth()+3*o);break;case"month":a.setMonth(a.getMonth()+o);break;case"week":a.setDate(a.getDate()+7*o);break;case"day":a.setDate(a.getDate()+o);break;case"hour":a.setTime(a.getTime()+36e5*o);break;case"minute":a.setTime(a.getTime()+6e4*o);break;case"second":a.setTime(a.getTime()+1e3*o);break;default:a=void 0}return a},SubmitPageToForm:function(e,t,o){"use strict";var a;if(a=$("<form />",{action:e,method:t,style:"display: none;"}),"undefined"!=typeof o&&null!==o)for(var n in o)o.hasOwnProperty(n)&&$("<input />",{type:"hidden",name:n,value:o[n]}).appendTo(a);a.appendTo("body").submit()},GenerateRandomString:function(e){return specials="!@#$&*",lowercase="abcdefghijklmnopqrstuvwxyz",uppercase="ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers="0123456789",all=lowercase+uppercase+numbers,password=(specials.pick(1)+lowercase.pick(1)+uppercase.pick(1)+all.pick(5,10)).shuffle(),password},ResetSidebarScroll:function(){$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10})},UnwrapUploader:function(e){e.unwrap().unwrap().unwrap(),e.siblings("span").remove(),e.siblings("em").remove()},InitIboxes:function(e){$(e).find(".collapse-link").click(function(){var e=$(this).closest("div.ibox"),t=$(this).find("i"),o=e.find("div.ibox-content");o.slideToggle(200),t.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){e.resize(),e.find("[id^=map-]").resize()},50)}),$(e).find(".close-link").click(function(){var e=$(this).closest("div.ibox");e.remove()}),$(e).find(".fullscreen-link").click(function(){var e=$(this).closest("div.ibox"),t=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),t.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)})},InitMetisMenu:function(e){$(e).find(".metisMenu").metisMenu()}},$.hood||($.hood={}),$.hood.Forms={GetAllowedExtensions:function(e){switch(e){case"Image":return["png","jpg","jpeg","bmp","gif"];case"Document":return["doc","docx","pdf","rtf"];case"All":return""}},GetAllowedFiles:function(e){switch(e){case"Image":return"image/png,jpg,image/jpeg,image/gif";case"Document":return"application/msword,application/pdf,text/rtf";case"All":return""}},ValidationErrorPlacement:function(e,t){if(t.is(":checkbox")||t.is(":radio")){var o=t.closest('div[class*="col-"]');o.find(":checkbox,:radio").length>1?o.append(e):e.insertAfter(t.nextAll(".lbl:eq(0)").eq(0))}else t.is(".select2")?e.insertAfter(t.siblings('[class*="select2-container"]:eq(0)')):t.is(".chosen-select")&&e.insertAfter(t.siblings('[class*="chosen-container"]:eq(0)'));t.is(".drop-error")?e.insertAfter(t.parents(".input-group")):e.insertAfter(t.parent())},ValidationSuccess:function(e){$(e).closest("label").removeClass("state-error").addClass("state-success"),$(e).remove()},ValidationInvalid:function(e,t){$(".alert-error",$(".login-form")).show()},ValidationHighlight:function(e){$(e).closest("label").removeClass("state-success").addClass("state-error")}},$.hood||($.hood={}),$.hood.Handlers={Init:function(){$("body").on("click",".select-text",$.hood.Handlers.SelectTextContent),$("body").on("click",".btn.click-select[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".click-select[data-target][data-value]",$.hood.Handlers.ClickSelect),$("body").on("click",".slide-link",$.hood.Handlers.SlideToAnchor),$("body").on("change","input[type=checkbox][data-input]",$.hood.Handlers.CheckboxChange),$("select[data-selected]").each($.hood.Handlers.SelectSetup),$("body").on("change",".inline-date",$.hood.Handlers.DateChange)},DateChange:function(e){$field=$(this).parents(".hood-date").find(".date-output"),date=$field.parents(".hood-date").find(".date-value").val(),pattern=/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/,pattern.test(date)||(date="01/01/2001"),hour=$field.parents(".hood-date").find(".hour-value").val(),$.isNumeric(hour)||(hour="00"),minute=$field.parents(".hood-date").find(".minute-value").val(),$.isNumeric(minute)||(minute="00"),$field.val(date+" "+hour+":"+minute+":00"),$field.attr("value",date+" "+hour+":"+minute+":00")},CheckboxChange:function(e){var t=new Array;$('input[data-input="'+$(this).data("input")+'"]').each(function(){$(this).is(":checked")&&t.push($(this).val())}),id="#"+$(this).data("input"),vals=JSON.stringify(t),$(id).val(vals)},SelectSetup:function(){sel=$(this).data("selected"),"undefined"!==$(this).data("selected")&&""!==$(this).data("selected")&&(selected=String($(this).data("selected")),$(this).val(selected))},ClickSelect:function(){var e=$(this);targetId="#"+e.data("target"),$(targetId).val(e.data("value")),$('.click-select[data-target="'+e.data("target")+'"]').each(function(){$(this).html($(this).data("temp")).removeClass("active")}),$('.click-select[data-target="'+e.data("target")+'"][data-value="'+e.data("value")+'"]').each(function(){$(this).data("temp",$(this).html()).html("Selected").addClass("active")})},SelectTextContent:function(){var e=$(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})},SlideToAnchor:function(){var e=$("body").scrollTop(),t=$($.attr(this,"href")).offset().top;return $("html, body").animate({scrollTop:t},Math.abs(t-e)),!1}},$.hood.Handlers.Init(),$.hood||($.hood={}),$.hood.DataList=function(element,options){this.Options=$.extend({element:element,url:"/",params:function(){},pageSize:12,pagers:".pagers",template:"#template",dataBound:function(){},refreshOnChange:"",refreshOnClick:"",serverAction:"GET",schema:{data:function(e){return e.Data},total:function(e){return e.Count}}},options||{}),this.DataSource=new kendo.data.DataSource({type:"json",transport:{read:{url:this.Options.url,type:this.Options.serverAction,data:eval(this.Options.params),contentType:"application/x-www-form-urlencoded"}},pageSize:this.Options.pageSize,serverFiltering:!1,serverPaging:!0,schema:this.Options.schema}),this.List=$(this.Options.element).kendoListView({dataSource:this.DataSource,template:kendo.template($(this.Options.template).html()),dataBound:this.Options.dataBound}),$(this.Options.pagers).hoodPager({dataSource:this.DataSource}),this.Refresh=function(){this.DataSource.read()},$(this.Options.refreshOnClick).off("click"),$(this.Options.refreshOnChange).off("change"),$("body").on("click",this.Options.refreshOnClick,$.proxy(function(e){this.Refresh()},this)),$("body").on("change",this.Options.refreshOnChange,$.proxy(function(e){this.Refresh()},this))},$.fn.hoodDataList=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodDataList")){var o=new $.hood.DataList(this,e);t.data("hoodDataList",o)}})},$(document).ready(function(){$(".hood-data").each(function(){$(this).hoodDataList({url:$(this).data("url"),params:$(this).data("filters")?$(this).data("filters"):{},pageSize:$(this).data("pagesize")?$(this).data("pagesize"):12,refreshOnChange:$(this).data("onchange")?$(this).data("onchange"):"",refreshOnClick:$(this).data("onclick")?$(this).data("onclick"):"",pagers:$(this).data("pagers")?$(this).data("pagers"):{},template:$(this).data("template")?$(this).data("template"):{},dataBound:$(this).data("databound")?$(this).data("databound"):function(){}})})}),$.hood||($.hood={}),$.hood.FileUpload=function(e,t){this.Options=$.extend({element:e,attachUrl:"/admin/media/attach",refreshUrl:null,imageTag:null,completeFunction:function(){}},t||{}),this.Options.refreshUrl=$(this.Options.element).data("refresh"),this.Options.imageTag=$(this.Options.element).data("tag"),this.Options.Image=$("."+this.Options.imageTag),this.Uploader=$(this.Options.element).kendoUpload({async:{saveUrl:"/admin/media/upload?entity="+$(this.Options.element).data("entity")+"&id="+$(this.Options.element).data("id")+"&field="+$(this.Options.element).data("field")+"&refresh="+this.Options.refreshUrl+"&tag="+this.Options.imageTag},success:$.proxy(function(e){$.hood.Alerts.Success("Uploaded!"),$.hood.Helpers.IsNullOrUndefined(this.Options.imageTag)||$.hood.Helpers.IsNullOrUndefined(this.Options.refreshUrl)||(this.Options.Image.addClass("loading"),$.get(this.Options.refreshUrl,{id:$(this.Options.element).data("id")},$.proxy(function(e){this.Options.Image.css({"background-image":"url("+e.SmallUrl+")"}),this.Options.Image.find("img").attr("src",e.SmallUrl),this.Options.Image.removeClass("loading"),this.Options.completeFunction()},this)))},this),error:function(e){e.files;"upload"===e.operation&&$.hood.Alerts.Error(e.XMLHttpRequest.response,"Error Uploading")},select:$.proxy(function(e){$.each(e.files,$.proxy(function(t,o){maxSize=4194304,$.hood.Helpers.IsNullOrUndefined($(this.Options.element).data("maxsize"))||(maxSize=Number($(this.Options.element).data("maxsize"))),yourSizeMb=(Number(o.size)/1048576).toFixed(2),maxSizeMb=(Number(maxSize)/1048576).toFixed(2),o.size>maxSize&&($.hood.Alerts.Error("The image file must be less than "+maxSizeMb+"Mb. Your file is "+yourSizeMb+"Mb.","File is too large!"),e.preventDefault()),allowedTypes="*",$.hood.Helpers.IsNullOrUndefined($(this.Options.element).data("type"))||(allowedTypes=$(this.Options.element).data("type"),"image"===allowedTypes&&(allowedTypes=".jpg.jpeg.gif.png.tiff.bmp"),"document"===allowedTypes&&(allowedTypes=".doc.docx.pdf.xls.xlsx.ppt.pptx")),"*"!==allowedTypes&&allowedTypes.contains(o.extension)===-1&&($.hood.Alerts.Error("The file you have provided is not one of the allowed types for this upload.","Wrong file type!"),e.preventDefault())},this))},this),multiple:!1})},$.fn.hoodFileUpload=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodFileUpload")){var o=new $.hood.FileUpload(this,e);t.data("hoodFileUpload",o)}})},$(document).ready(function(){$(".hood-fileupload").each(function(){$(this).hoodFileUpload({attachUrl:$(this).data("attach")?$(this).data("attach"):"/admin/media/upload",refreshUrl:$(this).data("refresh")?$(this).data("refresh"):"",imageTag:$(this).data("tag")?$(this).data("tag"):""})})}),$.hood||($.hood={}),$.hood.Observable=function(element,options){this.Options=$.extend({element:element,load:"/",save:"/",syncFunction:function(){},changeFunction:function(){this.modelSource.options.change()},evalSynced:!1},options||{}),this.syncFunction=this.Options.syncFunction,this.evalSynced=this.Options.evalSynced,this.viewModel=kendo.observable({modelSource:new kendo.data.DataSource({transport:{read:{url:this.Options.load,dataType:"json"},update:{url:this.Options.save,type:"POST",contentType:"application/x-www-form-urlencoded"},parameterMap:function(e,t){if("read"!==t&&e.models)return{models:e.models}}},batch:!0,schema:{model:{id:"Id"}},change:$.proxy(function(){this.viewModel.selectedModel=this.viewModel.modelSource.view()[0],kendo.bind(this.Options.element,this.viewModel)},this),requestEnd:$.proxy(function(e){null!=e.response.Success&&(e.response.Success?($.hood.Alerts.Success("Saved."),this.evalSynced?eval(this.syncFunction):this.syncFunction()):$.hood.Alerts.Error(e.response.Errors,"An error occurred..."))},this)}),selectedModel:null,getUrl:function(){return"/"+this.selectedModel.Slug},hasChanges:!1,save:function(){this.changeFunction(),this.modelSource.sync(),this.set("hasChanges",!1)},showForm:function(){return null!==this.get("selectedModel")},change:function(e){this.set("hasChanges",!0)},changeFunction:this.Options.changeFunction}),this.viewModel.modelSource.read(),this.Change=function(){this.viewModel.changeFunction()}},$.fn.hoodObservable=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodObservable")){var o=new $.hood.Observable(this,e);t.data("hoodObservable",o)}})},$(document).ready(function(){$(".hood-observable").each(function(){$(this).hoodObservable({load:$(this).data("load"),save:$(this).data("save"),synced:$(this).data("synced"),evalSynced:!0})})}),$.hood||($.hood={}),$.hood.Pager=function(e,t){this.Options=$.extend({element:e,pageCount:0,dataSource:null,selectedClass:"active",defaultClass:"",textClass:"",baseClass:"pagination pagination-sm",noItemTemplate:'<div class="alert alert-info text-center">No items to display.</div>'},t||{}),null!=this.Options.dataSource&&this.Options.dataSource.bind("change",$.proxy(function(e){var t=e.items;if(this.Options.pageCount=Math.ceil(this.Options.dataSource._total/this.Options.dataSource._pageSize),t.length/this.Options.dataSource._pageSize>this.Options.pageCount&&this.Options.pageCount++,0==t.length)return void $(this.Options.element).empty().append(this.Options.noItemTemplate);for(startItem=this.Options.dataSource._pageSize*(this.Options.dataSource._page-1),ts=startItem+this.Options.dataSource._pageSize,ts>this.Options.dataSource._total&&(ts=this.Options.dataSource._total),$(this.Options.element).empty().append('<ul class="'+this.Options.baseClass+' page-numbers"></ul>'),min=this.Options.dataSource._page-2,min<1&&(min=1),max=this.Options.dataSource._page+2,
max>this.Options.pageCount&&(max=this.Options.pageCount),prev=this.Options.dataSource._page-1,prev<1&&(prev=1),next=this.Options.dataSource._page+1,next>this.Options.pageCount&&(next=this.Options.pageCount),$(this.Options.element).find(".page-numbers").append('<li><a href="javascript:void(0);" class="page-link '+this.Options.defaultClass+' " data-page="'+prev+'"><i class="fa fa-angle-left"></i></a></li>'),i=min;i<=max;i++)active=this.Options.defaultClass,this.Options.dataSource._page==i&&(active=this.Options.selectedClass),$(this.Options.element).find(".page-numbers").append('<li class="'+active+'"><a href="javascript:void(0);" class="page-link" data-page="'+i+'">'+i+"</a></li>");$(this.Options.element).find(".page-numbers").append('<li><a href="javascript:void(0);" class="page-link '+this.Options.defaultClass+'" data-page="'+next+'"><i class="fa fa-angle-right"></i></a></li>'),$(this.Options.element).find(".page-link").click($.proxy(function(e){this.Options.dataSource.page($(e.target).data("page"))},this))},this))},$.fn.hoodPager=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodPager")){var o=new $.hood.Pager(this,e);t.data("hoodPager",o)}})},$.hood||($.hood={}),$.hood.FormValidator=function(e,t){this.Options=$.extend({formTag:e,validationRules:null,validationMessages:{},placeBelow:!0,submitButtonTag:null,submitUrl:null,submitFunction:null,errorElement:"div",errorClass:"text-danger help-block small",invalidHandler:$.hood.Forms.ValidationInvalid,highlight:$.hood.Forms.ValidationHighlight,success:$.hood.Forms.ValidationSuccess,errorPlacement:$.hood.Forms.ValidationErrorPlacement,serializationFunction:function(){return rtn=$(this.formTag).serialize(),rtn}},t||{}),this.LoadValidation=function(){$.hood.Helpers.IsNullOrUndefined(this.Options.formTag)||($(this.Options.formTag).find("input, select").keypress($.proxy(function(e){if(13==e.which)return $.proxy(this.submitForm(),this),e.preventDefault(),!1},this)),$(this.Options.formTag).validate({submitHandler:function(e){e.preventDefault()},errorClass:this.Options.errorClass,focusInvalid:!1,rules:this.Options.validationRules,messages:this.Options.validationMessages,invalidHandler:this.Options.invalidHandler,errorPlacement:$.proxy(function(e,t){t.siblings().remove(),this.Options.placeBelow?e.insertAfter(t):e.insertBefore(t)},this),errorElement:this.Options.errorElement,highlight:function(e){$(e).parent().removeClass("has-success").addClass("has-error")},success:function(e){$(e).parent().removeClass("has-error").addClass("has-success")}}),$.hood.Helpers.IsNullOrUndefined(this.Options.submitButtonTag)||$(this.Options.submitButtonTag).click($.proxy(this.submitForm,this)))},this.submitForm=function(){$(this.Options.formTag).valid()&&(this.TempButtonContent=$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html(),$(this.Options.submitButtonTag).removeClass("btn-primary").addClass("btn-default").html('<i class="fa fa-refresh fa-spin"></i>&nbsp;Loading...'),$(this.Options.formTag).find("input[type=checkbox]").each(function(){$(this).is(":checked")&&$(this).val("true")}),$.post(this.Options.submitUrl,this.Options.serializationFunction(),$.proxy(function(e){$(this.Options.submitButtonTag).removeClass("btn-default").addClass("btn-primary").html(this.TempButtonContent),this.Options.submitFunction(e)},this)))},this.LoadValidation(),this.Options.placeBelow&&$(this.Options.formTag).addClass("validation-below")},$.fn.hoodValidator=function(e){return this.each(function(){var t=$(this);if(!t.data("hoodValidator")){var o=new $.hood.FormValidator(this,e);t.data("hoodValidator",o)}})},$.hood||($.hood={}),$.hood.Blades={Init:function(){$("body").on("click",".blade",$.hood.Blades.Open),$("body").on("click",".close-blade",$.hood.Blades.Close)},Loading:!1,Open:function(e){e.preventDefault(),$.hood.Blades.Loading||($.hood.Blades.Loading=!0,$(this).data("temp",$(this).html()),$(this).addClass("loading").append('<i class="fa fa-refresh fa-spin margin-left-5"></i>'),$.hood.Blades.OpenBlade($(this).attr("href"),$.proxy(function(){eval($(this).data("complete")),$(this).removeClass("loading").html($(this).data("temp"))},this)))},OpenWithLoader:function(e,t,o){$.hood.Blades.Loading||($.hood.Blades.Loading=!0,$(e).data("temp",$(e).html()),$(e).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>'),this.OpenBlade(t,function(){null!=o&&o(),$(e).removeClass("loading").html($(e).data("temp"))}))},OpenBlade:function(e,t){$("#right-sidebar").removeClass("animate-all sidebar-open"),$("#right-sidebar").addClass("animate-all"),$("#right-sidebar").data("url",e),$("#right-sidebar").data("complete",t),$.get(e,null,$.proxy(function(e){$("#right-sidebar").empty(),$("#right-sidebar").html(e),$("#right-sidebar").addClass("sidebar-open"),$.hood.Helpers.ResetSidebarScroll()},this)).done(function(){t()}).fail(function(e){$.hood.Alerts.Error("There was an error loading the blade.<br/><br />"+e.status+" - "+e.statusText)}).always(function(e){$.hood.Blades.Loading=!1})},Close:function(e){$.hood.Helpers.IsNullOrUndefined(e)||e.preventDefault(),$.hood.Blades.Loading||($("#right-sidebar").removeClass("sidebar-open"),setTimeout(function(){$("#right-sidebar").empty(),$.hood.Blades.Loading=!1},1e3))},Reload:function(){$("#right-sidebar").hasClass("sidebar-open")&&$.hood.Blades.OpenBlade($("#right-sidebar").data("url"),$("#right-sidebar").data("complete"))}},$.hood.Blades.Init(),$.hood||($.hood={}),$.hood.Modals={Loading:!1,Open:function(e,t,o,a){$.hood.Modals.Loading||($.hood.Modals.Loading=!0,$(o).data("temp",$(o).html()),$(o).addClass("loading").append('<i class="fa fa-refresh fa-spin m-l-sm"></i>'),$.get(e,t,function(e){modalId="#"+$(e).attr("id"),$(modalId).length&&$(modalId).remove(),$("body").append(e),$(modalId).modal()}).done(function(){if(!$.hood.Helpers.IsNullOrUndefined(a))try{a()}catch(e){$.hood.Alerts.Error(e.message)}}).fail(function(e){$.hood.Alerts.Error("There was an error loading the modal window.<br/><br />"+e.status+" - "+e.statusText)}).always(function(e){$(o).removeClass("loading").html($(o).data("temp")),$("body").css({"padding-right":0}),$.hood.Modals.Loading=!1}))},Close:function(e){$(e).modal("hide"),$(e).remove(),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}},$.hood||($.hood={}),$.hood.Inline={Init:function(){$(".hood-inline:not(.refresh)").each($.hood.Inline.Load),$("body").on("click",".hood-inline-task",$.hood.Inline.Task)},Refresh:function(){$(".hood-inline").each($.hood.Inline.Load)},Load:function(e){$.hood.Inline.Reload(this)},Reload:function(tag,complete){$(tag).addClass("loading"),params=null,$(tag).attr("data-params")&&(params=eval($(tag).data("params")));var urlLoad=$(tag).data("url");$.get(urlLoad,params,function(e){$(tag).html(e);try{$.hood.Helpers.InitMetisMenu(tag)}catch(e){}try{$.hood.Helpers.InitIboxes(tag)}catch(e){}}).fail(function(e){$.hood.Alerts.Error("There was an error loading the inline panel's URL:<br/><strong>"+urlLoad+"</strong>")}).always(function(data){$(tag).attr("data-complete")&&eval($(tag).data("complete")),$.hood.Helpers.IsNullOrUndefined(complete)||complete(),$.hood.Modals.Loading=!1,$(tag).removeClass("loading")})},Task:function(e){e.preventDefault(),$tagcontents=$(e.currentTarget).html(),$(e.currentTarget).addClass("loading");var urlLoad=$(e.currentTarget).attr("href");$.get(urlLoad,null,function(e){e.Success?$.hood.Alerts.Success(e.Message):$.hood.Alerts.Error(e.Errors)}).done($.proxy(function(){$(this).attr("data-complete")&&eval($(this).data("complete"))},e.currentTarget)).fail(function(e){$.hood.Alerts.Error("There was an error processing the AJAX request:<br/><strong>"+urlLoad+"</strong>")}).always(function(t){$.hood.Modals.Loading=!1,$(e.currentTarget).removeClass("loading")})}},$.hood.Inline.Init(),$.hood||($.hood={}),$.hood.Media={Init:function(){$("body").on("click",".delete-media",this.Delete),$("body").on("click",".delete-directory",this.DeleteDirectory),$("body").on("click",".create-directory",this.CreateDirectory),$("#media-list").doesExist()&&this.Manage.Init(),$("#media-upload").doesExist()&&this.Upload.Init()},Manage:{Init:function(){$("#media-list").hoodDataList({url:"/admin/media/get",params:function(){return{search:$("#media-search").val(),status:$("#media-status").val(),sort:$("#media-sort").val(),type:$("#media-type").val(),directory:$("#media-directory").val()}},pageSize:12,pagers:".media-pager",template:"#media-template",dataBound:function(){},refreshOnChange:".media-change",refreshOnClick:".media-click",serverAction:"GET"})},Refresh:function(){$.hood.Media.RefreshDirectories(),$("#media-list").doesExist()&&$("#media-list").data("hoodDataList").Refresh()}},Upload:{Init:function(){Dropzone.autoDiscover=!1;var e=new Dropzone("#media-upload",{url:$.hood.Media.Upload.UploadUrl,thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:!1,paramName:"files",autoProcessQueue:!0,previewsContainer:!1,clickable:"#media-add",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});e.on("success",function(e,t){0==t.Success?$.hood.Alerts.Error("Uploads failed: "+t.Message):$.hood.Alerts.Success("Uploads completed successfully.")}),e.on("addedfile",function(e){}),e.on("totaluploadprogress",function(e){document.querySelector("#media-total-progress .progress-bar").style.width=e+"%"}),e.on("sending",function(e){document.querySelector("#media-total-progress").style.opacity="1"}),e.on("complete",function(e){$.hood.Media.Manage.Refresh()}),e.on("queuecomplete",function(e){document.querySelector("#media-total-progress").style.opacity="0",$.hood.Media.Manage.Refresh()})},UploadUrl:function(){return"/admin/media/upload/simple?directory="+$("#media-directory").val()}},RefreshDirectories:function(){$.hood.Inline.Reload(".directories",function(){$(".media-click").parent("li").removeClass("active"),$('.media-click[data-value="'+$("#media-directory").val()+'"]').parent("li").addClass("active")})},RestrictDir:function(){var e=/[^0-9A-Za-z- ]*/g,t=$(this).val(),o=t.replace(e,"");t!==o&&$(this).val(o)},CreateDirectory:function(){$("body").on("keyup",".sweet-alert input",$.hood.Media.RestrictDir),swal({title:"Create directory",text:"Please enter a name for your new directory:",type:"input",showCancelButton:!0,closeOnCancel:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,animation:"slide-from-top",inputPlaceholder:"Directory name..."},function(e){return e!==!1&&(""===e?(swal.showInputError("You didn't supply a directory name, we can't create one without it!"),!1):($.get("/admin/media/addDirectory/",{directory:e},function(e){e.Success?($.hood.Media.Manage.Refresh(),swal("Woohoo!","Directory has been successfully added...","success")):swal("Oops!","There was a problem creating the new directory:\n\n"+e.Errors,"error")}),$("body").off("keyup",".sweet-alert input",$.hood.Media.RestrictDir),!0))})},Delete:function(e){var t=$(this);swal({title:"Are you sure?",text:"The media file will be permanently removed.\n\nWarning: Ensure this file is not attached to any posts, pages or features of the site, or it will appear as a broken image or file.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/media/delete",{id:t.data("id")},function(e){e.Success?($.hood.Media.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Deleted!",text:"The media file has now been removed from the website.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem deleting the media file: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},DeleteDirectory:function(e){$(this);message="The directory and all files will be permanently removed.\n\nWarning: Ensure these files are not attached to any posts, pages or features of the site, or it will appear as a broken image or file.",""==$("#media-directory").val()&&(message="You have selected to delete All directories, this will remove ALL files and ALL directories from the site. Are you sure!?"),swal({title:"Are you sure?",text:message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/media/directory/delete",{directory:$("#media-directory").val()},function(e){e.Success?($.hood.Media.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Deleted!",text:"The directory has now been removed from the website.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem directory the . "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})}},$.hood.Media.Init(),$.hood||($.hood={}),$.hood.Options={Init:function(){$("body").on("click",".update-site-setting",this.Controls.UpdateSetting),$("body").on("click",".manage-options-click",this.Manage.Refresh),$("body").on("change",".manage-options-change",this.Manage.Refresh),$("#manage-options-list").doesExist()&&this.Manage.Init()},Manage:{Init:function(){this.Datasource=new kendo.data.DataSource({transport:{read:{url:"/admin/options/get",dataType:"json",data:function(){return{search:$("#manage-options-search").val(),sort:$("#manage-options-sort").val(),type:$("#manage-options-type").val()}},contentType:"application/x-www-form-urlencoded"},update:{url:"/admin/options/update",type:"POST",contentType:"application/x-www-form-urlencoded"},destroy:{url:"/admin/options/delete",type:"POST",contentType:"application/x-www-form-urlencoded"},create:{type:"POST",url:"/admin/options/add",contentType:"application/x-www-form-urlencoded"}},batch:!0,pageSize:20,serverFiltering:!1,serverPaging:!0,schema:{model:{id:"Id",fields:{Id:{validation:{required:!0}},Value:{validation:{required:!0}}}},data:function(e){return e.Data},total:function(e){return e.Count}}}),$("#manage-options-list").kendoGrid({dataSource:this.Datasource,pageable:!0,columns:[{field:"Id",title:"Key",width:"25%"},{field:"Value",title:"Value"},{command:["edit","destroy"],title:"&nbsp;",width:"250px"}],editable:"inline"})},Refresh:function(){$("#manage-options-list").data("kendoGrid").dataSource.read()}},Controls:{UpdateSetting:function(e){$this=this,$content=$($this).html(),$($this).removeClass("btn-primary").addClass("btn-default").html('<i class="fa fa-refresh fa-spin"></i>&nbsp;Loading...'),$.post("/admin/options/set/",{name:$($this).data("name"),value:$($this).data("value")},function(e){e.Success?($.hood.Alerts.Warning("Refreshing now, please wait...","Saved."),window.location=window.location):$.hood.Alerts.Warning(e.Errors,"Error Processing")}).done(function(){}).fail(function(){$.hood.Alerts.Warning("There was an error communicating with the server.")}).always(function(){$($this).removeClass("btn-default").addClass("btn-primary").html($content)})}}},$.hood.Options.Init(),$.hood||($.hood={}),$.hood.Users={Init:function(){$("body").on("click",".delete-user",this.Delete),$("body").on("click",".create-user",this.Create.Init),$("body").on("click",".add-to-role",this.Edit.AddToRole),$("body").on("click",".remove-from-role",this.Edit.RemoveFromRole),$("body").on("change","#cuGeneratePassword",this.Create.GeneratePassword),$("#manage-users-list").doesExist()&&this.Manage.Init(),$("#edit-user-form").doesExist()&&this.Edit.Init()},Manage:{Init:function(){$("#manage-users-list").hoodDataList({url:"/admin/users/get",params:$.hood.Users.Manage.Filter,pageSize:12,pagers:".manage-users-pager",template:"#manage-users-template",dataBound:function(){},refreshOnChange:".manage-users-change",refreshOnClick:".manage-users-click",serverAction:"GET"})},Filter:function(){return{search:$("#manage-users-search").val(),status:$("#manage-users-status").val(),sort:$("#manage-users-sort").val(),role:$("#manage-users-role").val()}},Refresh:function(){$("#manage-users-list").doesExist()&&$("#manage-users-list").data("hoodDataList").Refresh()}},Delete:function(e){var t=$(this);swal({title:"Are you sure?",text:"The user will be permanently removed and all associated files will be deleted from the system.\n\nThis process CANNOT be undone!\n\nNote: This process will also cancel any active subscriptions.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/users/delete",{id:t.data("id")},function(e){e.Success?($("#manage-users-list").data("hoodDataList").Refresh(),swal("Deleted","The user has now been removed from the website.","success")):swal("Error","There was a problem deleting the user:\n\n"+e.Errors,"error")}):swal("Cancelled","It's all good in the hood!","error")})},Create:{Init:function(e){$("button.create-user").removeClass("btn-primary").addClass("btn-default").html('<i class="fa fa-refresh fa-spin"></i>&nbsp;Loading...'),$("#right-sidebar").removeClass("animate-all sidebar-open"),setTimeout(function(){$("#right-sidebar").empty()}),$("#right-sidebar").addClass("animate-all"),$.get("/admin/users/create/",null,function(e){$("#right-sidebar").html(e),$("#right-sidebar").addClass("sidebar-open"),$("button.create-user").removeClass("btn-default").addClass("btn-primary").html('<i class="fa fa-user-plus"></i>&nbsp;Create new user'),$.hood.Users.Create.SetupCreateForm(),$.hood.Helpers.ResetSidebarScroll()})},CancelCreate:function(e){$("#right-sidebar").removeClass("animate-all sidebar-open"),setTimeout(function(){$("#right-sidebar").empty()})},SetupCreateForm:function(){$("#create-user-form").hoodValidator({validationRules:{cuFirstName:{required:!0},cuLastName:{required:!0},cuUserName:{required:!0,email:!0},cuPassword:{required:!0}},submitButtonTag:$("#create-user-submit"),submitUrl:"/admin/users/add",submitFunction:function(e){e.Success?($("#manage-users-list").data("hoodDataList").Refresh(),swal("Created!","The user has now been created and can log in right away!","success")):swal("Error","There was a problem creating the user:\n\n"+e.Errors,"error")}})},GeneratePassword:function(){$(this).is(":checked")?$("#cuPassword").val($.hood.Helpers.GenerateRandomString(0)):$("#cuPassword").val("")}},Edit:{Init:function(){$("body").on("click",".reset-password",this.ResetPassword)},ResetPassword:function(){swal({title:"Reset password",text:"Please enter a new password for the user...",type:"input",showCancelButton:!0,closeOnCancel:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,animation:"slide-from-top",inputPlaceholder:"New password..."},function(e){return e!==!1&&(""===e?(swal.showInputError("You didn't supply a new password, we can't reset the password without it!"),!1):void $.post("/admin/users/reset/",{id:$("#edit-user-form").data("id"),password:e},function(e){e.Success?swal("Success!","The password has been reset.","success"):swal("Oops!","There was a problem resetting the password:\n\n"+e.Errors,"error")}))})},AddToRole:function(){$userID=$(this).data("id"),$.post("/admin/users/addtorole/",{id:$(this).data("id"),role:$("#roleToAdd").val()},function(e){e.Success?($.hood.Users.LoadRoles("#role-list",$userID),swal({title:"Added!",text:"The user has now been added to the new role.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem adding the user to the role:\n\n"+e.Errors,timer:1300,type:"error"})})},RemoveFromRole:function(){$userID=$(this).data("id"),$.post("/admin/users/removefromrole/",{id:$(this).data("id"),role:$(this).data("role")},function(e){e.Success?($.hood.Users.LoadRoles("#role-list",$userID),swal({title:"Removed!",text:"The user has now been removed from the role.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem removing the user from the role:\n\n"+e.Errors,timer:1300,type:"error"})})}},LoadRoles:function(e,t){$this=$(e),$.get("/admin/users/roles/",{id:t},function(e){$this.html(e)})}},$.hood.Users.Init(),$.hood||($.hood={}),$.hood.Themes={Init:function(){$("body").on("click",".activate-theme",this.Activate)},Activate:function(e){var t=$(this);swal({title:"Are you sure?",text:"The site will change themes, and the selected theme will be live right away.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/themes/activate",{name:t.data("name")},function(e){e.Success?window.location="/admin/theme":swal("Error","There was a problem activating the theme:\n\n"+e.Errors,"error")}):swal("Cancelled","It's all good in the hood!","error")})}},$.hood.Themes.Init(),$.hood||($.hood={}),$.hood.Property={Init:function(){$("body").on("click",".delete-property",this.Delete),$("body").on("click",".archive-property",this.Archive),$("body").on("click",".publish-property",this.Publish),$("body").on("click",".create-property",this.Create.Init),$("#manage-property-list").doesExist()&&this.Manage.Init(),$("#edit-property").doesExist()&&this.Edit.Init()},Manage:{Loaded:!1,Init:function(){vars=$.getUrlVars(),"undefined"!=typeof vars.search&&""!==vars.search&&$("#manage-property-search").val($.decodeUrl(vars.search)),"undefined"!=typeof vars.sort&&""!==vars.sort&&$("#manage-property-sort").val($.decodeUrl(vars.sort)),"undefined"!=typeof vars.type&&""!==vars.type&&$("#manage-property-type").val($.decodeUrl(vars.type)),"undefined"!=typeof vars.planning&&""!==vars.planning&&$("#manage-property-planning").val($.decodeUrl(vars.planning)),"false"===vars.all?$("#manage-property-showall").prop("checked",!1):$("#manage-property-showall").prop("checked",!0),$("#manage-property-list").hoodDataList({url:"/admin/property/get",params:this.Params,pageSize:12,pagers:".manage-property-pager",template:"#manage-property-template",dataBound:function(){if($.hood.Property.Manage.Loaded||(page=$.getUrlVars().page,isNaN(page)&&(page=1),this.dataSource.page(page),$.hood.Property.Manage.Loaded=!0),history.pushState){var e=location.pathname+"?"+$.param($.hood.Property.Manage.Params())+"&page="+this.dataSource.page();window.history.pushState({path:e},"",e)}},refreshOnChange:".manage-property-change",refreshOnClick:".manage-property-click",serverAction:"GET"})},Params:function(){return{search:$("#manage-property-search").val(),sort:$("#manage-property-sort").val(),type:$("#manage-property-type").val(),planning:$("#manage-property-planning").val(),all:$("#manage-property-showall").is(":checked")}},Filter:function(){return{search:$("#manage-property-search").val(),sort:$("#manage-property-sort").val()}},Refresh:function(){$("#manage-property-list").doesExist()&&$("#manage-property-list").data("hoodDataList").Refresh(),$.hood.Blades.Reload()}},Delete:function(e){var t=$(this);swal({title:"Are you sure?",text:"The property will be permanently removed.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/property/delete",{id:t.data("id")},function(e){e.Success?($("#manage-property-list").doesExist()||(window.location="/admin/property/"),$.hood.Property.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Deleted!",text:"The property has now been removed from the website.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem deleting the property: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Publish:function(e){var t=$(this);swal({title:"Are you sure?",text:"The property will be visible on the website.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/property/publish",{id:t.data("id")},function(e){e.Success?($("#manage-property-list").doesExist()||(window.location="/admin/property/"),$.hood.Property.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Published!",text:"The property has now been published.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem publishing the property: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Archive:function(e){var t=$(this);swal({title:"Are you sure?",text:"The property will be hidden from the website.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/property/archive",{id:t.data("id")},function(e){e.Success?($("#manage-property-list").doesExist()||(window.location="/admin/property/"),$.hood.Property.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Archived!",text:"The property has now been archived.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem archiving the property: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Create:{Init:function(e){e.preventDefault(),$.hood.Blades.OpenWithLoader("button.create-property","/admin/property/create/",$.hood.Property.Create.SetupCreateForm)},SetupCreateForm:function(){$("#create-property-form").find(".datepicker").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,orientation:"bottom",format:"dd/mm/yyyy"}),$("#create-property-form").hoodValidator({validationRules:{cpTitle:{required:!0},cpAddress1:{required:!0},cpCity:{required:!0},cpCounty:{required:!0},cpCountry:{required:!0},cpPostcode:{required:!0},cpPublishDate:{required:!0,ukdate:!0}},submitButtonTag:$("#create-property-submit"),submitUrl:"/admin/property/add",submitFunction:function(e){e.Success?($("#manage-property-list").data("hoodDataList").Refresh(),swal("Created!","The property has now been created!","success")):swal("Error","There was a problem creating the property:\n\n"+e.Errors,"error")}}),$.hood.Handlers.Addresses.InitAutocomplete()}},Edit:{Init:function(){this.LoadEditors("#edit-property"),$.hood.Property.Upload.InitImageUploader(),$.hood.Property.Upload.InitFloorplanUploader(),$("body").on("click",".add-floor",this.AddFloor),$("body").on("click",".delete-floor",this.DeleteFloor),$("body").on("change",".recalc-floor",this.RecalcFloor)},AddFloor:function(){var e=$("#Floor-Number").val(),t=$.hood.Property.Edit.GetFloorsList();return exists=!1,$.each(t,function(t,o){o.Number==e&&(exists=!0)}),exists?void $.hood.Alerts.Error("Cannot insert two floors with the same number."):(newFloor={Name:$("#Floor-Name").val(),SquareFeet:$("#Floor-SquareFeet").val(),SquareMetres:$("#Floor-SquareMetres").val(),Number:$("#Floor-Number").val()},t.push(newFloor),$.hood.Property.Edit.ReRenderFloors(t),void $("#Floors").val(JSON.stringify(t)))},DeleteFloor:function(){var e=$.hood.Property.Edit.GetFloorsList(),t=$(this).data("number");e=$.grep(e,function(e){return e.Number!=t}),$.hood.Property.Edit.ReRenderFloors(e),$("#Floors").val(JSON.stringify(e))},RecalcFloor:function(e){"Floor-SquareMetres"==this.id?$("#Floor-SquareFeet").val(10.7639*Number($(this).val())):$("#Floor-SquareMetres").val(Number($(this).val())/10.7639)},GetFloorsList:function(){if(floorsInput=$("#Floors").val(),null!=floorsInput&&""!=floorsInput){var e=JSON.parse(floorsInput);for(var t in e)if(e[t].hasOwnProperty("Name"))return e}return new Array},ReRenderFloors:function(e){for(e.sort(function(e,t){var o=Number(e.Number),a=Number(t.Number);return o<a?-1:o>a?1:0}),newList=$(".floor-list").empty(),i=0;i<e.length;i++)newList.append("<div class='row m-b-xs'><div class='col-xs-4'><strong>"+e[i].Name+"</strong> "+e[i].Number+"</div><div class='col-xs-8'>"+$.numberWithCommas(Math.round(e[i].SquareMetres))+" m<sup>2</sup> ["+$.numberWithCommas(Math.round(e[i].SquareFeet))+" sq. ft.] <a class='delete-floor btn btn-xs bg-color-red txt-color-white' data-number='"+e[i].Number+"'><i class='fa fa-trash-o'></i></a></div></div>")},Blade:function(){this.LoadEditors("#property-blade"),$("#property-blade select").each($.hood.Handlers.SelectSetup),$("#property-blade-form").hoodValidator({validationRules:{Title:{required:!0},Excerpt:{required:!0}},submitButtonTag:$("#save-blade"),submitUrl:"/admin/property/save/"+$("#property-blade-form").data("id"),submitFunction:function(e){e.Succeeded?($("#manage-property-list").data("hoodDataList").Refresh(),$.hood.Alerts.Success("Updated.")):$.hood.Alerts.Error("There was an error saving.")}})},LoadEditors:function(e){$(e).find(".datepicker").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!0,calendarWeeks:!0,autoclose:!0,orientation:"bottom",format:"dd/mm/yyyy"})}},Upload:{InitImageUploader:function(){Dropzone.autoDiscover=!1;var e=new Dropzone("#property-gallery-upload",{url:"/admin/property/upload/gallery?id="+$("#property-gallery-upload").data("id"),thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:!1,paramName:"files",autoProcessQueue:!0,previewsContainer:!1,clickable:"#property-gallery-add",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});e.on("success",function(e,t){0==t.Success?$.hood.Alerts.Error("Uploads failed: "+t.Error):$.hood.Alerts.Success("Uploads completed successfully.")}),e.on("totaluploadprogress",function(e){document.querySelector("#gallery-total-progress .progress-bar").style.width=e+"%"}),e.on("sending",function(e){document.querySelector("#gallery-total-progress").style.opacity="1"}),e.on("complete",function(e){$.hood.Inline.Refresh(".gallery")}),e.on("queuecomplete",function(e){document.querySelector("#gallery-total-progress").style.opacity="0",$.hood.Inline.Refresh(".gallery")})},InitFloorplanUploader:function(){Dropzone.autoDiscover=!1;var e=new Dropzone("#property-floorplans-upload",{url:"/admin/property/upload/floorplan?id="+$("#property-floorplans-upload").data("id"),thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:!1,paramName:"files",autoProcessQueue:!0,previewsContainer:!1,clickable:"#property-floorplans-add",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});e.on("success",function(e,t){0==t.Success?$.hood.Alerts.Error("Uploads failed: "+t.Error):$.hood.Alerts.Success("Uploads completed successfully.")}),e.on("totaluploadprogress",function(e){document.querySelector("#floorplans-total-progress .progress-bar").style.width=e+"%"}),e.on("sending",function(e){document.querySelector("#floorplans-total-progress").style.opacity="1"}),e.on("complete",function(e){$.hood.Inline.Refresh(".gallery")}),e.on("queuecomplete",function(e){document.querySelector("#floorplans-total-progress").style.opacity="0",$.hood.Inline.Refresh(".floorplans"),$.hood.Alerts.Success("Uploads completed successfully.")})}}},$.hood.Property.Init(),$.hood||($.hood={}),$.hood.Subscriptions={Init:function(){$("body").on("click",".delete-subscription",this.Delete),$("body").on("click",".create-subscription",this.Create.Init),$("#manage-subscription-list").doesExist()&&this.Manage.Init(),$("#manage-subscriber-list").doesExist()&&this.Subscribers.Init(),$("#edit-subscription").doesExist()&&this.Edit.Init()},Manage:{Init:function(){$("#manage-subscription-list").hoodDataList({url:"/admin/subscriptions/get",params:function(){return{search:$("#manage-subscription-search").val(),sort:$("#manage-subscription-sort").val()}},pageSize:12,pagers:".manage-subscription-pager",template:"#manage-subscription-template",dataBound:function(){},refreshOnChange:".manage-subscription-change",refreshOnClick:".manage-subscription-click",
serverAction:"GET"})},Filter:function(){return{search:$("#manage-subscription-search").val(),sort:$("#manage-subscription-sort").val()}},Refresh:function(){$("#manage-subscription-list").doesExist()&&$("#manage-subscription-list").data("hoodDataList").Refresh(),$.hood.Blades.Reload()}},Subscribers:{Init:function(){$("#manage-subscriber-list").hoodDataList({url:"/admin/subscribers/get",params:function(){return{subscriptionId:$("#manage-subscriber-type").val(),search:$("#manage-subscriber-search").val(),sort:$("#manage-subscriber-sort").val()}},pageSize:12,pagers:".manage-subscriber-pager",template:"#manage-subscriber-template",dataBound:function(){},refreshOnChange:".manage-subscriber-change",refreshOnClick:".manage-subscriber-click",serverAction:"GET"})},Filter:function(){return{search:$("#manage-subscriber-search").val(),sort:$("#manage-subscriber-sort").val()}},Refresh:function(){$("#manage-subscriber-list").doesExist()&&$("#manage-subscriber-list").data("hoodDataList").Refresh(),$.hood.Blades.Reload()}},Delete:function(e){var t=$(this);swal({title:"Are you sure?",text:"The subscription will be permanently removed.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/subscriptions/delete",{id:t.data("id")},function(e){e.Success?($("#manage-subscription-list").doesExist()||(window.location="/admin/subscriptions/"),$.hood.Subscriptions.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Deleted!",text:"The subscription has now been removed from the website.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem deleting the subscription: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Create:{Init:function(e){e.preventDefault(),$.hood.Blades.OpenWithLoader("button.create-subscription","/admin/subscriptions/create/",$.hood.Subscriptions.Create.SetupCreateForm)},SetupCreateForm:function(){$("#create-subscription-form").find(".datepicker").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,orientation:"bottom",format:"dd/mm/yyyy"}),$("#create-subscription-form").hoodValidator({validationRules:{Title:{required:!0},Description:{required:!0},Amount:{required:!0},Currency:{required:!0},Interval:{required:!0},IntervalCount:{required:!0},Name:{required:!0}},submitButtonTag:$("#create-subscription-submit"),submitUrl:"/admin/subscriptions/add",submitFunction:function(e){e.Success?($("#manage-subscription-list").data("hoodDataList").Refresh(),swal("Created!","The subscription has now been created!","success")):swal("Error","There was a problem creating the subscription:\n\n"+e.Errors,"error")}})}},Edit:{Init:function(){this.LoadEditors("#edit-subscription"),$.hood.Editor.Init(".edit-subscription-editor")},Blade:function(){this.LoadEditors("#subscription-blade"),$("#subscription-blade select").each($.hood.Handlers.SelectSetup),$("#subscription-blade-form").hoodValidator({validationRules:{Title:{required:!0},Excerpt:{required:!0}},submitButtonTag:$("#save-blade"),submitUrl:"/admin/subscriptions/save/"+$("#subscription-blade-form").data("id"),submitFunction:function(e){e.Succeeded?($("#manage-subscription-list").data("hoodDataList").Refresh(),$.hood.Alerts.Success("Updated.")):$.hood.Alerts.Error("There was an error saving.")}})},LoadEditors:function(e){$(e).find(".datepicker").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!0,calendarWeeks:!0,autoclose:!0,orientation:"bottom",format:"dd/mm/yyyy"})}}},$.hood.Subscriptions.Init(),$.hood||($.hood={}),$.hood.Content={Init:function(){$("body").on("click",".delete-content",this.Delete),$("body").on("click",".delete-content-field",this.Meta.Delete),$("body").on("click",".clone-content",this.Clone),$("body").on("click",".create-content",this.Create.Init),$("body").on("click",".publish-content",this.Publish),$("body").on("click",".archive-content",this.Archive),$("body").on("click",".create-content",this.Create.Init),$("body").on("click",".edit-category",this.Categories.Edit),$("body").on("click",".save-category",this.Categories.Save),$("body").on("click",".add-category",this.Categories.Add),$("body").on("click",".delete-category",this.Categories.Delete),$("body").on("click",".add-custom-field",this.Types.AddField),$("body").on("click",".delete-custom-field",this.Types.DeleteField),$("body").on("keyup","#Slug",function(){$(".slug-display").html($(this).val())}),$("#manage-content-list").doesExist()&&this.Manage.Init(),$("#edit-content").doesExist()&&this.Edit.Init(),$("#add-field-form").doesExist()&&this.Meta.Init()},Types:{AddField:function(){var e=$("#custom-field-name-"+$(this).data("id")).val(),t=$.hood.Content.Types.GetFieldsList($(this).data("id"));return exists=!1,$.each(t,function(t,o){o.Name==e&&(exists=!0)}),exists?void $.hood.Alerts.Error("Cannot insert two fields with the same number."):(newField={Name:"Custom."+$("#custom-field-name-"+$(this).data("id")).val(),Default:$("#custom-field-default-"+$(this).data("id")).val(),Type:$("#custom-field-type-"+$(this).data("id")).val(),System:!1},t.push(newField),$.hood.Content.Types.ReRenderFields(t,$(this).data("id")),$("#fields-"+$(this).data("id")).val(JSON.stringify(t)),void $.hood.Alerts.Success("Added field."))},DeleteField:function(){var e=$.hood.Content.Types.GetFieldsList($(this).data("id")),t=$(this).data("name");e=$.grep(e,function(e){return e.Name!=t}),$.hood.Content.Types.ReRenderFields(e,$(this).data("id")),$("#fields-"+$(this).data("id")).val(JSON.stringify(e)),$.hood.Alerts.Success("Deleted field.")},GetFieldsList:function(e){if(fieldsInput=$("#fields-"+e).val(),null!=fieldsInput&&""!=fieldsInput){var t=JSON.parse(fieldsInput);for(var o in t)if(t[o].hasOwnProperty("Name"))return t}return new Array},ReRenderFields:function(e,t){for(newList=$("#field-list-"+t).empty(),i=0;i<e.length;i++)fld="<tr><td class='col-xs-8'><strong>"+e[i].Name+"</strong> "+e[i].Type+"</td><td class='col-xs-4 text-right'>",e[i].System?fld+='<span class="label label-default">System Field</span>':fld+="<a class='delete-custom-field btn btn-xs bg-color-red txt-color-white' data-name='"+e[i].Name+"' data-id='"+t+"'><i class='fa fa-trash-o'></i></a>",fld+="</td></tr>",newList.append(fld)}},Categories:{Edit:function(e){$(this);e.preventDefault(),$.hood.Blades.OpenWithLoader(".edit-category","/admin/categories/edit/"+$(this).data("id")+"?type="+$(this).data("type"),null)},Save:function(e){$.post("/admin/categories/save/",$("#edit-category-form").serialize(),function(e){e.Success?($.hood.Inline.Reload(".categorylist"),swal({title:"Saved!",text:"The category has been saved.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem saving the category: "+e.Error,timer:1300,type:"error"})})},Add:function(e){$.post("/admin/categories/add/",$("#add-category-form").serialize(),function(e){e.Success?($.hood.Inline.Reload(".categorylist"),swal({title:"Saved!",text:"The category has been added.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem adding the category: "+e.Error,timer:1300,type:"error"})})},Delete:function(){var e=$(this);swal({title:"Are you sure?",text:"The field will be permanently removed.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(t){t?$.post("/admin/categories/delete/"+e.data("id"),null,function(e){e.Success?($.hood.Inline.Reload(".categorylist"),swal({title:"Deleted!",text:"The field has now been removed from the website.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem deleting the field: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})}},Manage:{Init:function(){$("#manage-content-list").hoodDataList({url:"/admin/content/get",params:function(){return{search:$("#manage-content-search").val(),sort:$("#manage-content-sort").val(),category:$("#manage-content-category").val(),type:$("#manage-content-list").data("type")}},pageSize:12,pagers:".manage-content-pager",template:"#manage-content-template",dataBound:function(){},refreshOnChange:".manage-content-change",refreshOnClick:".manage-content-click",serverAction:"GET"})},Filter:function(){return{search:$("#manage-content-search").val(),sort:$("#manage-content-sort").val()}},Refresh:function(){$("#manage-content-list").doesExist()&&$("#manage-content-list").data("hoodDataList").Refresh(),$.hood.Blades.Reload()}},Delete:function(e){var t=$(this);swal({title:"Are you sure?",text:"The content will be permanently removed.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/content/"+t.data("id")+"/delete",null,function(e){e.Success?($("#manage-content-list").doesExist()||(window.location="/admin/content/"+t.data("type")+"/manage/"),$.hood.Content.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Deleted!",text:"The content has now been removed from the website.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem deleting the content: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Publish:function(e){var t=$(this);swal({title:"Are you sure?",text:"The item will be visible on the website.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/content/"+t.data("id")+"/publish",null,function(e){e.Success?($.hood.Content.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Published!",text:"The item has now been published.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem publishing the item: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Archive:function(e){var t=$(this);swal({title:"Are you sure?",text:"The item will be hidden from the website.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/content/"+t.data("id")+"/archive",null,function(e){e.Success?($.hood.Content.Manage.Refresh(),$.hood.Blades.Close(),swal({title:"Archived!",text:"The item has now been archived.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem archiving the item: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Clone:function(e){var t=$(this);$.post("/admin/content/"+t.data("id")+"/clone",null,function(e){e.Success?(window.location="/admin/edit/"+e.id,swal({title:"Cloned!",text:"The content has now been cloned just forwarding you to the new content...",type:"success"}),$.hood.Content.Manage.Refresh(),$.hood.Blades.Close()):swal({title:"Error!",text:"There was a problem cloning the content: "+e.Errors,timer:1300,type:"error"})})},Create:{Init:function(e){var t=$(this);e.preventDefault(),$.hood.Blades.OpenWithLoader("button.create-content","/admin/content/"+t.data("type")+"/create/",$.hood.Content.Create.SetupCreateForm)},SetupCreateForm:function(){$("#create-content-form").find(".datepicker").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,orientation:"bottom",format:"dd/mm/yyyy"}),$("#create-content-form").hoodValidator({validationRules:{cpTitle:{required:!0},cpExcept:{required:!0},cpPublishDate:{required:!0,ukdate:!0}},submitButtonTag:$("#create-content-submit"),submitUrl:"/admin/content/add",submitFunction:function(e){e.Success?($("#manage-content-list").data("hoodDataList").Refresh(),swal("Created!","The content has now been created!","success")):swal("Error","There was a problem creating the content:\n\n"+e.Errors,"error")}});var e;new autoComplete({selector:"input.autocomplete-category",source:function(t,o){try{e.abort()}catch(e){}e=$.getJSON("/admin/content/categorysuggestions/",{query:t},function(e){o(e)})}})}},Edit:{Init:function(){this.LoadEditors("#edit-content"),$.hood.Content.Upload.InitImageUploader(),$("#designer-window").doesExist()&&this.Designer.Init(),$("body").on("click","#add-content-category",this.Categories.AddCategory),$("body").on("click",".remove-category",this.Categories.RemoveCategory);var e;new autoComplete({selector:"input.autocomplete-category",source:function(t,o){try{e.abort()}catch(e){}e=$.getJSON("/admin/content/categorysuggestions/",{query:t},function(e){o(e)})}})},Categories:{AddCategory:function(){$.post($(this).data("url"),{category:$("#content-category-name").val()},function(e){e.Success?$.hood.Alerts.Success("Added category."):$.hood.Alerts.Error("Couldn't add the category: "+e.Error),$.hood.Inline.Refresh(".categories")})},RemoveCategory:function(){alert("not implemented")}},Designer:{Window:$("#designer-window"),Area:function(){return $("#designer-window").contents().find("#editable-content")},Init:function(){$("body").on("change","#preview-size",function(){$("#designer-window").attr("class","designer-window "+$(this).val())}),$("body").on("change","#Body",function(){$.hood.Content.Designer.Area().html($(this).val())})}},LoadEditors:function(e){$(e).find(".datepicker").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!0,calendarWeeks:!0,autoclose:!0,orientation:"bottom",format:"dd/mm/yyyy"})}},Meta:{Create:function(){$("#add-field-form").hoodValidator({validationRules:{cfName:{required:!0},cfType:{required:!0}},submitButtonTag:$("#add-field-submit"),submitUrl:"/admin/content/addmeta",submitFunction:function(e){e.Success?($.hood.Inline.Reload("#content-meta-fields"),swal("Created!","The field has now been created!","success")):swal("Error","There was a problem creating the content:\n\n"+e.Errors,"error")}})},Delete:function(){var e=$(this);swal({title:"Are you sure?",text:"The field will be permanently removed.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(t){t?$.post("/admin/content/deletemeta",{id:e.data("id")},function(e){e.Success?($.hood.Inline.Reload("#content-meta-fields"),$.hood.Blades.Close(),swal({title:"Deleted!",text:"The field has now been removed from the website.",timer:1300,type:"success"})):swal({title:"Error!",text:"There was a problem deleting the field: "+e.Errors,timer:1300,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})}},Upload:{InitImageUploader:function(){if($("#content-gallery-upload").doesExist()){Dropzone.autoDiscover=!1;var e=new Dropzone("#content-gallery-upload",{url:"/admin/content/"+$("#content-gallery-upload").data("id")+"/upload/gallery",thumbnailWidth:80,thumbnailHeight:80,parallelUploads:5,previewTemplate:!1,paramName:"files",autoProcessQueue:!0,previewsContainer:!1,clickable:"#content-gallery-add",dictDefaultMessage:'<span><i class="fa fa-cloud-upload fa-4x"></i><br />Drag and drop files here, or simply click me!</div>',dictResponseError:"Error while uploading file!"});e.on("success",function(e,t){t.Success===!1?$.hood.Alerts.Error("Uploads failed: "+t.Error):$.hood.Alerts.Success("Uploads completed successfully.")}),e.on("addedfile",function(e){}),e.on("totaluploadprogress",function(e){document.querySelector("#gallery-total-progress .progress-bar").style.width=e+"%"}),e.on("sending",function(e){document.querySelector("#gallery-total-progress").style.opacity="1"}),e.on("complete",function(e){$.hood.Inline.Refresh(".gallery")}),e.on("queuecomplete",function(e){document.querySelector("#gallery-total-progress").style.opacity="0",$.hood.Inline.Refresh(".gallery")})}}}},$(window).load(function(){$.hood.Content.Init()}),$.hood||($.hood={}),$.hood.Google={Maps:function(){$(".google-map").each(function(){var e={lat:$(this).data("lat"),lng:$(this).data("long")},t=new google.maps.Map(this,{zoom:$(this).data("zoom")||15,center:e,scrollwheel:!1});new google.maps.Marker({position:e,map:t,title:$(this).data("marker")});$(window).resize(function(){google.maps.event.trigger(t,"resize")}),google.maps.event.trigger(t,"resize")})},Addresses:{AddressForm:{QuickName:"{route}, {postal_town}, {postal_code}",Number:"{street_number}",Address1:"{route}",Address2:"{locality}",City:"{postal_town}",County:"{administrative_area_level_2}",Country:"{country}",Postcode:"{postal_code}"},placeSearch:null,place:null,autocomplete:null,InitAutocomplete:function(){this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("address-autocomplete"),{types:["geocode"]}),this.autocomplete.addListener("place_changed",$.hood.Google.Addresses.FillInAddress)},FillInAddress:function(){$.hood.Google.Addresses.place=$.hood.Google.Addresses.autocomplete.getPlace();for(var e in $.hood.Google.Addresses.AddressForm)if($("#"+e).doesExist()){$("#"+e).val(""),newVal=$.hood.Google.Addresses.AddressForm[e],placeholders=$.getPlaceholders(newVal);for(var t in placeholders)newVal=newVal.replace("{"+placeholders[t]+"}",$.hood.Google.Addresses.GetValueFromAddressComponents(placeholders[t]));newVal.contains("undefined")||$("#"+e).val(newVal)}$("#Latitude").val($.hood.Google.Addresses.place.geometry.location.lat),$("#Longitude").val($.hood.Google.Addresses.place.geometry.location.lng)},GetValueFromAddressComponents:function(e){for(var t=0;t<$.hood.Google.Addresses.place.address_components.length;t++){var o=$.hood.Google.Addresses.place.address_components[t].types[0];if(o==e)return $.hood.Google.Addresses.place.address_components[t].long_name}},GeoLocate:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},o=new google.maps.Circle({center:t,radius:e.coords.accuracy});$.hood.Google.Addresses.autocomplete.setBounds(o.getBounds())})}},ClusteredMap:function(){var mapElement=$("#clustered-map");if(mapElement.length){var scrollWheel=!1;mapElement.attr("data-scrollwheel")&&(scrollWheel=mapElement.data("scrollwheel"));var zoom=!1;mapElement.attr("data-zoom")&&(zoom=mapElement.data("zoom"));var map=new google.maps.Map(document.getElementById("clustered-map"),{zoom:zoom,scrollwheel:scrollWheel,center:{lat:mapElement.data("lat"),lng:mapElement.data("long")}}),labels="ABCDEFGHIJKLMNOPQRSTUVWXYZ",locations=mapElement.data("locations"),clickFunction=mapElement.data("click"),markers=locations.map(function(location,i){var marker=new google.maps.Marker({position:new google.maps.LatLng(location.Latitude,location.Longitude),label:location.Title});return marker.addListener("click",function(){eval(clickFunction+"("+location.AssociatedId+")")}),marker}),markerCluster=new MarkerClusterer(map,markers,{imagePath:"/lib/hood/images/maps/m"})}}},$(document).ready(function(){function e(){var e=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",e+"px");var t=$("nav.navbar-default").height(),o=$("#page-wrapper").height();t>o&&$("#page-wrapper").css("min-height",t+"px"),t<o&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&$("#page-wrapper").css("min-height",$(window).height()-60+"px")}$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small"),$.hood.Helpers.InitIboxes("body"),$.hood.Helpers.InitMetisMenu("#side-menu"),$(".close-canvas-menu").click(function(){$("body").toggleClass("mini-nav"),SmoothlyMenu()}),$(".right-sidebar-toggle").click(function(){$("#right-sidebar").toggleClass("sidebar-open")}),$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10}),$(".open-small-chat").click(function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")}),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4}),$(".check-link").click(function(){var e=$(this).find("i"),t=$(this).next("span");return e.toggleClass("fa-check-square").toggleClass("fa-square-o"),t.toggleClass("todo-completed"),!1}),"undefined"!=typeof Storage&&("small"==localStorage.getItem("hood-admin-minimised")?$("body").addClass("mini-nav"):$("body").removeClass("mini-nav")),$(".sidebar-toggle").click(function(){$("body").toggleClass("mini-nav"),SmoothlyMenu(),"undefined"!=typeof Storage&&($("body").hasClass("mini-nav")?localStorage.setItem("hood-admin-minimised","small"):localStorage.setItem("hood-admin-minimised","large"))}),$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),$(".modal").appendTo("body"),e(),$(window).bind("load",function(){$("body").hasClass("fixed-sidebar")&&$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}),$(window).scroll(function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")}),$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||e()}),$("[data-toggle=popover]").popover(),$(".full-height-scroll").slimscroll({height:"100%"})}),$(document).ready(function(){if(localStorageSupport){var e=localStorage.getItem("collapse_menu"),t=localStorage.getItem("fixedsidebar"),o=localStorage.getItem("fixednavbar"),a=localStorage.getItem("boxedlayout"),n=localStorage.getItem("fixedfooter"),i=$("body");"on"==t&&(i.addClass("fixed-sidebar"),$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})),"on"==e&&(i.hasClass("fixed-sidebar")?i.hasClass("body-small")||i.addClass("mini-nav"):i.hasClass("body-small")||i.addClass("mini-nav")),"on"==o&&($(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top"),i.addClass("fixed-nav")),"on"==a&&i.addClass("boxed-layout"),"on"==n&&$(".footer").addClass("fixed")}}),$.hood||($.hood={}),$.hood.Admin={Init:function(){$.hood.Helpers.InitMetisMenu(document),$.hood.Helpers.InitIboxes(document),tinymce.init({selector:".tinymce-full-admin",height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor media","searchreplace visualblocks code fullscreen","insertdatetime media contextmenu paste code"],toolbar:"styleselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | undo redo | link image media hoodimage | code",link_class_list:$.hood.LinkClasses,setup:$.hood.Uploader.Load.Insert,content_css:[]}),tinymce.init({selector:".tinymce-full",height:500,plugins:["advlist autolink lists link image charmap print preview anchor media","searchreplace visualblocks code fullscreen","insertdatetime media contextmenu paste code"],menubar:!1,toolbar:"styleselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | undo redo | link image media hoodimage",link_class_list:$.hood.LinkClasses,setup:$.hood.Uploader.Load.Insert,content_css:[]}),tinymce.init({selector:".tinymce-simple-admin",height:150,plugins:["advlist autolink lists link image charmap print preview anchor media","searchreplace visualblocks code fullscreen","insertdatetime media contextmenu paste code"],menubar:!1,toolbar:"bold italic | bullist numlist | undo redo | link | code",link_class_list:$.hood.LinkClasses,content_css:[]}),tinymce.init({selector:".tinymce-simple",height:150,plugins:["advlist autolink lists link image charmap print preview anchor media","searchreplace visualblocks code fullscreen","insertdatetime media contextmenu paste code"],menubar:!1,toolbar:"bold italic | bullist numlist | undo redo | link",link_class_list:$.hood.LinkClasses,content_css:[]}),$(".colorpicker-component").colorpicker()}},$(window).load(function(){$.hood.Admin.Init()});