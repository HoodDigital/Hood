$.hood||($.hood={}),$.hood.DataList=function(element,options){this.Options=$.extend({element:element,url:"/",params:function(){},pageSize:12,pagers:".pagers",template:"#template",dataBound:function(){},refreshOnChange:"",refreshOnClick:"",serverAction:"GET",schema:{data:function(t){return t.Data},total:function(t){return t.Count}}},options||{}),this.DataSource=new kendo.data.DataSource({type:"json",transport:{read:{url:this.Options.url,type:this.Options.serverAction,data:eval(this.Options.params),contentType:"application/x-www-form-urlencoded"}},pageSize:this.Options.pageSize,serverFiltering:!1,serverPaging:!0,schema:this.Options.schema}),this.List=$(this.Options.element).kendoListView({dataSource:this.DataSource,template:kendo.template($(this.Options.template).html()),dataBound:this.Options.dataBound}),$(this.Options.pagers).hoodPager({dataSource:this.DataSource}),this.Refresh=function(){this.DataSource.read()},$(this.Options.refreshOnClick).off("click"),$(this.Options.refreshOnChange).off("change"),$("body").on("click",this.Options.refreshOnClick,$.proxy(function(t){this.Refresh()},this)),$("body").on("change",this.Options.refreshOnChange,$.proxy(function(t){this.Refresh()},this))},$.fn.hoodDataList=function(t){return this.each(function(){var a=$(this);if(!a.data("hoodDataList")){var e=new $.hood.DataList(this,t);a.data("hoodDataList",e)}})},$(document).on("ready",function(){$(".hood-data").each(function(){$(this).hoodDataList({url:$(this).data("url"),params:$(this).data("filters")?$(this).data("filters"):{},pageSize:$(this).data("pagesize")?$(this).data("pagesize"):12,refreshOnChange:$(this).data("onchange")?$(this).data("onchange"):"",refreshOnClick:$(this).data("onclick")?$(this).data("onclick"):"",pagers:$(this).data("pagers")?$(this).data("pagers"):{},template:$(this).data("template")?$(this).data("template"):{},dataBound:$(this).data("databound")?$(this).data("databound"):function(){}})})});