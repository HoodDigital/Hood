$.hood||($.hood={}),$.hood.Api={Init:function(){$("body").on("click",".delete-api-key",this.Delete),$("body").on("click",".create-api-key",this.Create.Init),$("body").on("click",".activate-api-key",this.Activate),$("body").on("click",".deactivate-api-key",this.Deactivate),$("body").on("click",".create-api-key",this.Create.Init)},Delete:function(e){var t=$(this);swal({title:"Are you sure?",text:"The api key will be permanently removed.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/api/keys/delete/"+t.data("id"),null,function(e){e.Success?($.hood.Blades.Close(),swal({title:"Deleted!",text:"The api key has now been removed from the website.",timer:1300,type:"success"}),setTimeout(function(){window.location=e.Url},500)):swal({title:"Error!",text:"There was a problem deleting the api key: "+e.Errors,timer:5e3,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Activate:function(e){var t=$(this);swal({title:"Are you sure?",text:"The key will usable right away.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/api/keys/activate/"+t.data("id"),null,function(e){e.Success?(swal({title:"Activated!",text:"The key has now been activated.",timer:1300,type:"success"}),setTimeout(function(){window.location=e.Url},500)):swal({title:"Error!",text:"There was a problem publishing the key: "+e.Errors,timer:5e3,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Deactivate:function(e){var t=$(this);swal({title:"Are you sure?",text:"The key will be unusable.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, cancel!",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,closeOnCancel:!1},function(e){e?$.post("/admin/api/keys/deactivate/"+t.data("id"),null,function(e){e.Success?(swal({title:"Deactivated!",text:"The key has now been deactivated.",timer:1300,type:"success"}),setTimeout(function(){window.location=e.Url},500)):swal({title:"Error!",text:"There was a problem deactivating the key: "+e.Errors,timer:5e3,type:"error"})}):swal("Cancelled","It's all good in the hood!","error")})},Create:{Init:function(e){$(this);e.preventDefault(),$.hood.Blades.OpenWithLoader("button.create-api-key","/admin/api/keys/create/",$.hood.Api.Create.SetupCreateForm)},SetupCreateForm:function(){$("#create-api-key-form").find(".datepicker").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,orientation:"bottom",format:"dd/mm/yyyy"}),$("#create-api-key-form").hoodValidator({validationRules:{Title:{required:!0},Description:{required:!0}},submitButtonTag:$("#create-api-key-submit"),submitUrl:"/admin/api/keys/create",submitFunction:function(e){e.Success?(swal("Created!","The api key has now been created!","success"),setTimeout(function(){window.location=e.Url},500)):swal("Error","There was a problem creating the api key:\n\n"+e.Errors,"error")}})}}},$(window).on("load",function(){$.hood.Api.Init()});