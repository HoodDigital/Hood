function initGoogleMapsComplete(){$("#address-autocomplete").length>0&&$.hood.Google.Addresses.InitAutocomplete(),$.hood.Google.Maps(),$.hood.Google.ClusteredMap();try{initMap()}catch(e){}}$.hood||($.hood={}),$.hood.Google={Maps:function(){$(".google-map").each(function(){var e={lat:$(this).data("lat"),lng:$(this).data("long")},o=new google.maps.Map(this,{zoom:$(this).data("zoom")||15,center:e,scrollwheel:!1});new google.maps.Marker({position:e,map:o,title:$(this).data("marker")})})},Addresses:{AddressForm:{QuickName:"{route}, {postal_town}, {postal_code}",Number:"{street_number}",Address1:"{route}",Address2:"{locality}",City:"{postal_town}",County:"{administrative_area_level_2}",Country:"{country}",Postcode:"{postal_code}"},placeSearch:null,place:null,autocomplete:null,InitAutocomplete:function(){this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("address-autocomplete"),{types:["geocode"]}),this.autocomplete.addListener("place_changed",$.hood.Google.Addresses.FillInAddress)},FillInAddress:function(){$.hood.Google.Addresses.place=$.hood.Google.Addresses.autocomplete.getPlace();for(var e in $.hood.Google.Addresses.AddressForm)if($("#"+e).doesExist()){$("#"+e).val(""),newVal=$.hood.Google.Addresses.AddressForm[e],placeholders=$.getPlaceholders(newVal);for(var o in placeholders)newVal=newVal.replace("{"+placeholders[o]+"}",$.hood.Google.Addresses.GetValueFromAddressComponents(placeholders[o]));newVal.contains("undefined")||$("#"+e).val(newVal)}$("#Latitude").val($.hood.Google.Addresses.place.geometry.location.lat),$("#Longitude").val($.hood.Google.Addresses.place.geometry.location.lng)},GetValueFromAddressComponents:function(e){for(var o=0;o<$.hood.Google.Addresses.place.address_components.length;o++){var a=$.hood.Google.Addresses.place.address_components[o].types[0];if(a==e)return $.hood.Google.Addresses.place.address_components[o].long_name}},GeoLocate:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude},a=new google.maps.Circle({center:o,radius:e.coords.accuracy});$.hood.Google.Addresses.autocomplete.setBounds(a.getBounds())})}},ClusteredMap:function(){var mapElement=$("#clustered-map");if(mapElement)var map=new google.maps.Map(document.getElementById("clustered-map"),{zoom:7,center:{lat:mapElement.data("lat"),lng:mapElement.data("long")}}),labels="ABCDEFGHIJKLMNOPQRSTUVWXYZ",locations=mapElement.data("locations"),clickFunction=mapElement.data("click"),markers=locations.map(function(location,i){var marker=new google.maps.Marker({position:new google.maps.LatLng(location.Latitude,location.Longitude),label:location.Title});return marker.addListener("click",function(){eval(clickFunction+"("+location.AssociatedId+")")}),marker}),markerCluster=new MarkerClusterer(map,markers,{imagePath:"/lib/hood/images/maps/m"})}};