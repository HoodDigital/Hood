@inject IThemesService _themes
@inject ISiteConfiguration _site
@{
    IntegrationSettings _plugins = _site.GetIntegrationSettings();
}
<environment names="Development,Staging,ErrorTesting">
    <script src="~/lib/jquery/dist/jquery.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.min.js" asp-append-version="true"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js" asp-append-version="true"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js" asp-append-version="true"></script>
    <script src="~/lib/FitVids/jquery.fitvids.js" asp-append-version="true"></script>
    <script src="~/lib/loaders.css/loaders.css.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/globals.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/stringhelpers.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/alerts.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/helpers.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/forms.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/handlers.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/validator.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/modals.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/inline.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/addresses.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/includes/cart.js" asp-append-version="true"></script>
    <script src="~/lib/hood/src/js/app.js" asp-append-version="true"></script>
    @if (_themes.CurrentTheme == "default")
    {
        <script src="~/js/site.js" asp-append-version="true"></script>
    }
    else
    {
        <script src="@string.Format("~/themes/{0}/js/site.js", _themes.CurrentTheme)" asp-append-version="true"></script>
    }
</environment>
<environment names="Production,PreProduction">
    @if (_themes.CurrentTheme == "default")
    {
        <script src="~/js/site.packaged.js" asp-append-version="true"></script>
    }
    else
    {
        <script src="@string.Format("~/themes/{0}/js/site.packaged.js", _themes.CurrentTheme)" asp-append-version="true"></script>
    }
</environment>
@if (_plugins.GoogleMapsApiKey.IsSet() && (_plugins.EnableGoogleMaps || _plugins.EnableGoogleGeocoding))
{
    <script async defer src="@string.Format("https://maps.googleapis.com/maps/api/js?key={0}&callback=initGoogleMapsComplete{1}", _plugins.GoogleMapsApiKey, _plugins.EnableGoogleGeocoding ? "&libraries=places" : "")"></script>
}