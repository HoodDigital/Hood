@model AccountSettings
@{
    ViewData["Title"] = "Account Settings";
}
@section buttons {
    @if (User.IsAdminOrBetter())
    {
        <a asp-action="ResetAccount" class="btn btn-danger warning-alert" data-warning="This will completely reset these settings to their default state, are you sure!?"><i class="fa fa-refresh"></i> Reset to Default</a>
    }
}
<div class="card">
    <div class="card-header">
        <div class="row align-items-center">
            <ul class="nav nav-tabs card-header-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="registration-tab" data-toggle="tab" href="#registration" role="tab" aria-controls="profile" aria-selected="false">
                        Registration Settings
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#welcome-email" role="tab" aria-controls="profile" aria-selected="false">
                        Link
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="card-body p-4">
        <div class="tab-content">
            <div id="registration" class="tab-pane active" role="tabpanel" aria-labelledby="registration-tab">
                <h3>Registration Settings</h3>
                <p>
                    Enable or disable apsects of the site's registration and account system.
                </p>
                <hr />
                <div class="form-group">
                    <div class="custom-control custom-checkbox">
                        <input asp-for="EnableRegistration" class="custom-control-input">
                        <label asp-for="EnableRegistration" class="custom-control-label"></label>
                    </div>
                    <small class="form-text text-info">Note: Disabling registration will prevent users signing up to your site, you will have to add users manually.</small>
                </div>
                <hr />
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label" asp-for="RegistrationType"></label>
                    <div class="col-sm-8">
                        <select asp-for="RegistrationType" class="form-control">
                            <option value="default">Default registration</option>
                            <option value="code">Email code based registration</option>
                        </select>
                        <small class="form-text text-info">Note: Email Code based registration will force the user to validate their email address before completing registration.</small>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label" asp-for="CodeExpiry"></label>
                    <div class="col-sm-8">
                        <input asp-for="CodeExpiry" type="text" class="form-control" />
                        <small class="form-text text-info">Note: Set (in hours) the time for your registration codes to expire, user's will need to resend their code if they wait too long.</small>
                    </div>
                </div>
            </div>
            <div id="welcome-email" class="tab-pane">
                <h3>Welcome Email Settings</h3>
                <p>
                    This is the content in the user welcome email, the email sent back to the user when they create an account. You can add placeholders to any of these fields such as {SITETITLE}, {SITEOWNERNAME}, {SITEEMAIL}, {SITEPHONE}, {USEREMAIL}, {FULLNAME}, {FIRSTNAME}, {LASTNAME}.
                </p>
                <hr />
                <div class="form-group">
                    <div class="custom-control custom-checkbox">
                        <input asp-for="EnableWelcome" class="custom-control-input">
                        <label asp-for="EnableWelcome" class="custom-control-label"></label>
                    </div>
                    <small class="form-text text-info">Note: This will send a formatted welcome email to new account holders.</small>
                </div>
                <div class="form-group">
                    <div class="custom-control custom-checkbox">
                        <input asp-for="NotifyNewAccount" class="custom-control-input">
                        <label asp-for="NotifyNewAccount" class="custom-control-label"></label>
                    </div>
                    <small class="form-text text-info">Note: This will copy in the NewAccountNotifications role on the above email.</small>
                </div>
                <hr />
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label" asp-for="WelcomeTitle"></label>
                    <div class="col-sm-9">
                        <input asp-for="WelcomeTitle" class="form-control">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label" asp-for="WelcomeSubject"></label>
                    <div class="col-sm-9">
                        <input asp-for="WelcomeSubject" class="form-control">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label" asp-for="WelcomeMessage"></label>
                    <div class="col-sm-9">
                        <textarea asp-for="WelcomeMessage" class="form-control tinymce-simple"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
