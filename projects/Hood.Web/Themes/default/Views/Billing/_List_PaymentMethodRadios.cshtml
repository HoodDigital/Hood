@model PaymentMethodsModel
@{
    Layout = null;
}
@if (Model.PaymentMethods != null)
{
    <div class="accordion">
        @foreach (var itm in Model.PaymentMethods)
        {
            switch (itm.Type)
            {
                case Stripe.SourceType.Card:

                    <div class="form-group">
                        <div class="checkbox">
                            <input type="radio" class="buy-plan-method" id="buy-plan-method-@itm.Id" name="buy-plan-method" value="@itm.Id" @(itm.Id == Model.Customer.InvoiceSettings.DefaultPaymentMethodId ? "checked" : "") />
                            <label for="buy-plan-method-@itm.Id">
                                @switch (itm.Card.Brand)
                                {
                                    case "Visa":
                                        <img class="card-icon m-r-xs" src="~/hood/images/cards/visa.png" />
                                        break;
                                    case "American Express":
                                        <img class="card-icon m-r-xs" src="~/hood/images/cards/AmericanExpress.png" />
                                        break;
                                    case "MasterCard":
                                        <img class="card-icon m-r-xs" src="~/hood/images/cards/MasterCard.png" />
                                        break;
                                    case "Discover":
                                        <img class="card-icon m-r-xs" src="~/hood/images/cards/Discover.png" />
                                        break;
                                    case "JCB":
                                        <img class="card-icon m-r-xs" src="~/hood/images/cards/JCB.png" />
                                        break;
                                    case "Diners Club":
                                        <img class="card-icon m-r-xs" src="~/hood/images/cards/DinersClub.png" />
                                        break;
                                }
                                <span>Card ending in <strong>@itm.Card.Last4</strong></span>
                            </label>
                        </div>
                    </div>

                    break;
            }
        }
    </div>
}
else
{
    <div class="alert alert-danger">
        <p><i class="fa fa-exclamation-triangle m-r-xs"></i>You do not have any saved cards.</p>
    </div>
}
