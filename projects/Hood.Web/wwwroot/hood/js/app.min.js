"use strict";$.window=$(window),$.hood||($.hood={}),$.hood.App={Options:{Header:{Target:"#header",Sticky:!0,StickyClass:"sticky-header"},Alerts:!0,Colorbox:!0,ContactForms:!0,Forums:!0,PaymentPages:!0,RichTextEditors:$(".tinymce-public").length},Init:function(o){$.hood.App.Options=$.extend($.hood.App.Options,o||{}),o&&o.Header&&($.hood.App.Options.Header=$.extend($.hood.App.Options.Header,o.Header||{})),$.hood.App.Header.Init(),$.hood.App.Options.PaymentPages&&$.hood.App.PaymentPages.Init(),$.hood.App.Options.FitVids&&$.hood.App.ResizeVideos(),$.hood.App.Options.ContactForms&&$.hood.App.ContactForms.Init(),$.hood.App.Options.Colorbox&&$.hood.App.Colorbox(),$.hood.App.Options.LoadSharers&&$.hood.App.Sharers(),$.hood.App.Options.RichTextEditors&&$.hood.App.RichTextEditors()},Ready:function(){$.hood.App.Init(),$.hood.App.Resize()},Load:function(){},Resize:function(){},Header:{Init:function(){$.hood.App.Options.Header.Sticky&&($.hood.App.Header.StickyMenu(),$.window.on("scroll",function(){$.hood.App.Header.StickyMenu()}))},StickyMenu:function(){var o=0,e=$($.hood.App.Options.Header.Target);e.length>0&&(o=e.offset().top);var t=e.height(),i=$.window.height()+2*t,a=$(document).height();$.window.scrollTop()>o&&a>i?e.addClass($.hood.App.Options.Header.StickyClass):$.hood.App.Header.RemoveStickyness()},RemoveStickyness:function(){var o=$($.hood.App.Options.Header.Target);o.hasClass($.hood.App.Options.Header.StickyClass)&&o.removeClass($.hood.App.Options.Header.StickyClass)}},ContactForms:{Init:function(){$(".contact-form .thank-you").hide(),$(".contact-form .form-submit").show(),$("body").on("submit",".contact-form",function(o){return o.preventDefault(),$(this).addClass("loading"),$.hood.App.ContactForms.Submit(this),!1})},Submit:function(o){var e=$(o);return e.valid()&&$.post(e.attr("action"),e.serialize(),function(o){o.Success?(e.attr("data-redirect")&&(window.location=e.attr("data-redirect")),e.attr("data-alert-message")&&$.hood.Alerts.Success(e.attr("data-alert-message"),"Success",null,!0),e.find(".form").hide(),e.find(".thank-you").show()):e.attr("data-alert-error")?$.hood.Alerts.Error(e.attr("data-alert-error"),"Error",null,!0):$.hood.Alerts.Error("There was an error sending the message: "+o.Errors,"Error",null,!0),e.removeClass("loading")}),!1}},Alerts:function(){$(".alert.auto-dismiss").fadeTo(5e3,500).slideUp(500,function(){$(".alert.auto-dismiss").slideUp(500)})},Colorbox:function(){$(".colorbox").colorbox({rel:"gallery",maxWidth:"95%",maxHeight:"95%"}),$(".colorbox-iframe").colorbox({iframe:!0,maxWidth:"95%",maxHeight:"95%",innerWidth:640,innerHeight:390})},Forums:{Init:function(){var o=$.getUrlVars().highlight;if($.isNumeric(o)){var e=$("#post-"+o);$("html,body").animate({scrollTop:e.offset().top-$.hood.App.Options.Scroll.Offset},"slow"),e.addClass("highlight"),"Created"===$.getUrlVars().message&&e.addClass("created")}var t=$.getUrlVars().reply;if($.isNumeric(t)){var i=$("#forum-post-form");$("html,body").animate({scrollTop:i.offset().top-$.hood.App.Options.Scroll.Offset},"slow")}$(".forum").on("click",".edit-post",function(o){$(this).parents(".post").find(".post-view").slideToggle(),$(this).parents(".post").find(".edit-view").slideToggle()})}},ResizeVideos:function(){return $().fitVids?void $("body").fitVids({customSelector:"iframe[src^='http://www.dailymotion.com/embed'], iframe[src*='maps.google.com'], iframe[src*='google.com/maps']",ignore:".no-fv"}):(console.log("resizeVideos: FitVids not Defined."),!0)},PaymentPages:{Init:function(){$("body").on("click",".btn.price-select[data-target][data-value]",$.hood.App.PaymentPages.PriceSelect),$("body").on("click",".change-price-option",$.hood.App.PaymentPages.ChangePrice)},ChangePrice:function(){$("#price-panel").collapse("show"),$("#billing-panel").collapse("hide"),$("#confirm-panel").collapse("hide")},PriceSelect:function(){var o=$(this);targetId="#"+o.data("target"),$(targetId).val(o.data("value")),$(".selected-price-text").html($(targetId).find(":selected").text()),$('.price-select[data-target="'+o.data("target")+'"]').each(function(){$(this).html($(this).data("temp")).removeClass("active")}),$('.price-select[data-target="'+o.data("target")+'"][data-value="'+o.data("value")+'"]').each(function(){$(this).data("temp",$(this).html()).html("Selected").addClass("active")}),$("#price-panel").collapse("hide"),$("#billing-panel").collapse("show"),$("#confirm-panel").collapse("hide")}},RichTextEditors:function(){tinymce.init({selector:".tinymce-public",height:250,plugins:["advlist autolink lists link image charmap print preview anchor media","searchreplace visualblocks code fullscreen","insertdatetime media contextmenu paste emoticons"],menubar:!1,toolbar:"styleselect | bold italic | bullist numlist outdent indent | undo redo | link image media emoticons",image_dimensions:!1,body_class:"tiny-mce-body",content_css:"/css/site.css"})}},$(function(){$.hood.App.Ready()}),$(window).on("load",$.hood.App.Load),$(window).on("resize",$.hood.App.Resize);