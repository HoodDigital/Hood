"use strict";$.hood||($.hood={}),$.hood.Subscriptions={Init:function(){$("body").on("click",".subscriptions-subs-delete",$.hood.Subscriptions.Subscriptions.Delete),$("body").on("click",".subscriptions-plans-delete",$.hood.Subscriptions.Plans.Delete),$("#subscriptions-plans-edit-form").doesExist()&&$.hood.Subscriptions.Plans.Edit(),$("body").on("click",".subscriptions-products-delete",$.hood.Subscriptions.Products.Delete),$("#subscriptions-products-edit-form").doesExist()&&$.hood.Subscriptions.Products.Edit(),$("#subscriptions-stripe-edit-form").doesExist()&&$.hood.Subscriptions.Stripe.Edit()},Lists:{Plans:{Loaded:function(){$.hood.Loader(!1)},Reload:function(s){$("#subscriptions-plans-list").doesExist()&&$.hood.Inline.Reload($("#subscriptions-plans-list"),s)}},Stripe:{Loaded:function(){$.hood.Loader(!1)},Reload:function(s){$("#subscriptions-stripe-list").doesExist()&&$.hood.Inline.Reload($("#subscriptions-stripe-list"),s)}},StripeProducts:{Loaded:function(){$.hood.Loader(!1)},Reload:function(s){$("#subscriptions-stripe-products-list").doesExist()&&$.hood.Inline.Reload($("#subscriptions-stripe-products-list"),s)}},Products:{Loaded:function(){$.hood.Loader(!1)},Reload:function(s){$("#subscriptions-products-list").doesExist()&&$.hood.Inline.Reload($("#subscriptions-products-list"),s)}},Subscribers:{Loaded:function(){$.hood.Loader(!1)},Reload:function(s){$("#subscriptions-subscribers-list").doesExist()&&$.hood.Inline.Reload($("#subscriptions-subscribers-list"),s)}}},Subscriptions:{Delete:function(s){s.preventDefault();var o=$(this),t=function(s){s&&$.post(o.attr("href"),function(s){$.hood.Helpers.ProcessResponse(s),$.hood.Subscriptions.Lists.Subscribers.Reload(),s.Success&&o&&o.data("redirect")&&($.hood.Alerts.Success("<strong>Subscription deleted, redirecting...</strong><br />Just taking you back to the subscription list."),setTimeout(function(){window.location=o.data("redirect")},1500))})};$.hood.Alerts.Confirm("The subscription will be removed from the site, however record of the subscription will remain in your Stripe account.","Are you sure?",t,"error",'<span class="text-danger"><i class="fa fa-exclamation-triangle"></i> <strong>This process CANNOT be undone!</strong></span>')}},Plans:{Delete:function(s){s.preventDefault();var o=$(this),t=function(s){s&&$.post(o.attr("href"),function(s){$.hood.Helpers.ProcessResponse(s),$.hood.Subscriptions.Lists.Plans.Reload(),s.Success&&o&&o.data("redirect")&&($.hood.Alerts.Success("<strong>Plan deleted, redirecting...</strong><br />Just taking you back to the subscription plan list."),setTimeout(function(){window.location=o.data("redirect")},1500))})};$.hood.Alerts.Confirm("The plan will be permanently removed.","Are you sure?",t,"error",'<span class="text-danger"><i class="fa fa-exclamation-triangle"></i> <strong>This process CANNOT be undone!</strong></span>')},Create:function(){$("#subscriptions-plans-create-form").hoodValidator({validationRules:{Name:{required:!0},Description:{required:!0},CreatePrice:{required:!0},Currency:{required:!0},Interval:{required:!0},IntervalCount:{required:!0}},submitButtonTag:$("#subscriptions-plans-create-submit"),submitUrl:$("#subscriptions-plans-create-form").attr("action"),submitFunction:function(s){$.hood.Helpers.ProcessResponse(s),$.hood.Subscriptions.Lists.Plans.Reload()}})}},Products:{Delete:function(s){s.preventDefault();var o=$(this),t=function(s){s&&$.post(o.attr("href"),function(s){$.hood.Helpers.ProcessResponse(s),$.hood.Subscriptions.Lists.Products.Reload(),s.Success&&o&&o.data("redirect")&&($.hood.Alerts.Success("<strong>Product deleted, redirecting...</strong><br />Just taking you back to the subscription product list."),setTimeout(function(){window.location=o.data("redirect")},1500))})};$.hood.Alerts.Confirm("The product will be permanently removed.","Are you sure?",t,"error",'<span class="text-danger"><i class="fa fa-exclamation-triangle"></i> <strong>This process CANNOT be undone!</strong></span>')},Create:function(){$("#susbcriptions-products-create-form").find(".datepicker").datetimepicker({locale:"en-gb",format:"L"}),$("#susbcriptions-products-create-form").hoodValidator({validationRules:{DisplayName:{required:!0}},submitButtonTag:$("#susbcriptions-products-create-submit"),submitUrl:$("#susbcriptions-products-create-form").attr("action"),submitFunction:function(s){$.hood.Helpers.ProcessResponse(s),$.hood.Subscriptions.Lists.Products.Reload()}})}}},$(document).ready($.hood.Subscriptions.Init);