{"version":3,"sources":["webpack://hoodcms/./node_modules/@simonwep/pickr/dist/pickr.min.js","webpack://hoodcms/./node_modules/dropzone/dist/dropzone.js","webpack://hoodcms/./node_modules/jquery-toast-plugin/dist/jquery.toast.min.js","webpack://hoodcms/./node_modules/sweetalert2/dist/sweetalert2.all.js","webpack://hoodcms/./node_modules/tinymce/tinymce.js","webpack://hoodcms/./src/ts/core/Alerts.ts","webpack://hoodcms/./src/ts/core/ColorPicker.ts","webpack://hoodcms/./src/ts/core/DataList.ts","webpack://hoodcms/./src/ts/core/Editors.ts","webpack://hoodcms/./src/ts/core/Handlers.ts","webpack://hoodcms/./src/ts/core/Helpers.ts","webpack://hoodcms/./src/ts/core/HoodController.ts","webpack://hoodcms/./src/ts/core/Inline.ts","webpack://hoodcms/./src/ts/core/Loader.ts","webpack://hoodcms/./src/ts/core/Media.ts","webpack://hoodcms/./src/ts/core/Modal.ts","webpack://hoodcms/./src/ts/core/Response.ts","webpack://hoodcms/./src/ts/core/Uploader.ts","webpack://hoodcms/./src/ts/core/Validator.ts","webpack://hoodcms/./src/ts/extensions/jqueryExtensions.ts","webpack://hoodcms/./src/ts/extensions/numberExtensions.ts","webpack://hoodcms/./src/ts/extensions/stringExtensions.ts","webpack://hoodcms/external \"bootstrap\"","webpack://hoodcms/external \"jQuery\"","webpack://hoodcms/webpack/bootstrap","webpack://hoodcms/webpack/runtime/compat get default export","webpack://hoodcms/webpack/runtime/define property getters","webpack://hoodcms/webpack/runtime/global","webpack://hoodcms/webpack/runtime/hasOwnProperty shorthand","webpack://hoodcms/webpack/runtime/make namespace object","webpack://hoodcms/./src/ts/login.ts"],"names":["window","module","exports","t","e","o","n","i","l","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","HTMLCollection","NodeList","Array","from","isArray","capture","slice","arguments","a","u","document","createElement","innerHTML","trim","firstElementChild","getAttribute","removeAttribute","children","push","keys","length","path","composedPath","target","parentElement","Element","split","reduce","querySelector","shadowRoot","Number","shiftKey","ctrlKey","deltaY","selectionStart","replace","focus","setSelectionRange","preventDefault","dispatchEvent","Event","passive","min","h","max","floor","f","round","Math","v","b","g","y","_","isNaN","w","match","map","parseInt","A","toLowerCase","getContext","fillStyle","cmyk","rgba","hsla","hsva","hexa","test","exec","values","type","join","substring","C","toFixed","toString","padStart","toUpperCase","clone","k","$","options","assign","lock","onchange","onstop","key","activeElement","wrapper","update","cache","x","startsWith","_tapstop","_tapmove","cancelable","element","getBoundingClientRect","touches","clientX","clientY","left","width","top","height","style","offsetWidth","offsetHeight","_tapstart","_keyboard","S","className","elements","forEach","classList","stopPropagation","destroy","O","variantFlipOrder","start","middle","end","positionFlipOrder","right","bottom","position","margin","E","HTMLElement","reference","popper","Error","container","documentElement","vs","vm","ve","hs","hm","he","L","configurable","writable","this","init","save","hide","show","clear","change","changestop","cancel","swatchselect","DEFAULT_OPTIONS","swatches","components","theme","sliders","lockOpacity","padding","includes","interaction","preview","opacity","hue","palette","_preBuild","_buildComponents","_bindEvents","_finalBuild","addSwatch","button","app","_root","_nanopop","setAttribute","_t","_setupAnimationFrame","requestAnimationFrame","setColor","_rePositioningPicker","defaultRepresentation","_representation","setColorRepresentation","showAlways","_initializingActive","_emit","useAsButton","inline","appClass","input","hex","find","hidden","add","contains","el","appendChild","root","removeChild","nextSibling","insertBefore","remove","parentNode","replaceChild","disabled","disable","comparison","transition","lastColor","repeat","_color","_lastColor","picker","currentColor","_recalc","_updateOutput","toRGBA","background","color","toHEXA","_swatchColors","slider","backgroundColor","trigger","selectable","_components","_clearColor","setHSVA","toHSVA","applyColor","result","stopImmediatePropagation","closeWithKey","isOpen","code","some","adjustableNumbers","getColorRepresentation","toPrecision","autoReposition","closeOnScroll","setTimeout","clearTimeout","_eventBindings","body","innerHeight","innerWidth","outputPrecision","i18n","I18N_DEFAULTS","_eventListener","indexOf","splice","_parseLocalColor","cancelAnimationFrame","click","factory","self","__webpack_modules__","3099","it","TypeError","String","6077","__unused_webpack_exports","isObject","1223","wellKnownSymbol","definePropertyModule","UNSCOPABLES","ArrayPrototype","undefined","1530","charAt","index","unicode","5787","Constructor","name","9670","4019","ArrayBuffer","DataView","260","NAME","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","has","classof","createNonEnumerableProperty","redefine","getPrototypeOf","setPrototypeOf","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","isPrototypeOf","TO_STRING_TAG","TYPED_ARRAY_TAG","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isTypedArray","klass","Function","aTypedArray","aTypedArrayConstructor","ARRAY","TypedArrayConstructor","exportTypedArrayMethod","KEY","property","forced","exportTypedArrayStaticMethod","error","isView","3331","redefineAll","fails","anInstance","toInteger","toLength","toIndex","IEEE754","getOwnPropertyNames","arrayFill","setToStringTag","InternalStateModule","getInternalState","setInternalState","set","ARRAY_BUFFER","DATA_VIEW","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","RangeError","packIEEE754","pack","unpackIEEE754","unpack","packInt8","number","packInt16","packInt32","unpackInt32","buffer","packFloat32","packFloat64","addGetter","view","count","isLittleEndian","intIndex","store","byteLength","bytes","byteOffset","reverse","conversion","NaN","ArrayBufferPrototype","j","constructor","testView","nativeSetInt8","setInt8","getInt8","setUint8","unsafe","bufferLength","offset","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","1048","toObject","toAbsoluteIndex","copyWithin","len","to","inc","1285","argumentsLength","endPos","8533","$forEach","STRICT_METHOD","arrayMethodIsStrict","callbackfn","8457","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","step","iterator","next","mapfn","mapping","iteratorMethod","done","1318","toIndexedObject","createMethod","IS_INCLUDES","$this","fromIndex","2092","IndexedObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","that","specificCreate","boundFunction","filter","every","findIndex","filterOut","6583","nativeLastIndexOf","lastIndexOf","NEGATIVE_ZERO","FORCED","searchElement","apply","1194","V8_VERSION","SPECIES","METHOD_NAME","array","foo","Boolean","9341","argument","method","3671","aFunction","IS_RIGHT","memo","5417","originalArray","3411","anObject","iteratorClose","fn","ENTRIES","7072","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","object","4326","648","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","9920","ownKeys","getOwnPropertyDescriptorModule","source","getOwnPropertyDescriptor","8544","F","4994","IteratorPrototype","createPropertyDescriptor","Iterators","returnThis","IteratorConstructor","8880","9114","bitmap","6135","toPrimitive","propertyKey","654","createIteratorConstructor","IS_PURE","IteratorsCore","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","Iterable","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","proto","9781","317","EXISTS","8324","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","8113","getBuiltIn","7392","version","userAgent","process","versions","v8","748","2109","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","sham","7293","7007","regexpExec","REPLACE_SUPPORTS_NAMED_GROUPS","re","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","flags","nativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","stringMethod","regexMethod","RegExp","string","arg","9974","5005","variable","namespace","1246","8554","647","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","captures","namedCaptures","replacement","tailPos","symbols","ch","7854","check","globalThis","6656","3501","490","4664","1179","abs","pow","log","LN2","mantissaLength","exponent","mantissa","exponentLength","eMax","eBias","rt","sign","Infinity","nBits","8361","propertyIsEnumerable","9587","dummy","Wrapper","NewTarget","NewTargetPrototype","2788","functionToString","inspectSource","9909","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","WeakMap","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","7659","3157","4705","feature","detection","data","normalize","POLYFILL","NATIVE","111","1913","7850","MATCH","isRegExp","9212","returnMethod","3383","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","7497","133","getOwnPropertySymbols","590","url","URL","searchParams","pathname","toJSON","sort","href","URLSearchParams","username","host","hash","8536","1574","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","nativeAssign","B","symbol","alphabet","chr","T","concat","30","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","display","src","contentWindow","open","Properties","6048","3070","__unused_webpack_module","IE8_DOM_DEFINE","nativeDefineProperty","P","Attributes","1236","nativeGetOwnPropertyDescriptor","8006","internalObjectKeys","5181","9518","CORRECT_PROTOTYPE_GETTER","6324","names","1956","5296","nativePropertyIsEnumerable","NASHORN_BUG","1","V","7674","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","288","3887","getOwnPropertyNamesModule","857","2248","1320","enforceInternalState","TEMPLATE","simple","7651","R","2261","re1","re2","regexpFlags","stickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","sticky","charsAdded","strCopy","multiline","7066","ignoreCase","dotAll","2999","RE","4488","3505","6340","CONSTRUCTOR_NAME","8003","TAG","6200","5465","SHARED","2309","mode","copyright","6707","defaultConstructor","8710","requireObjectCoercible","CONVERT_TO_STRING","pos","first","second","size","charCodeAt","codeAt","3197","maxInt","regexNonASCII","regexSeparators","OVERFLOW_ERROR","stringFromCharCode","fromCharCode","digitToBasic","digit","adapt","delta","numPoints","firstTime","baseMinusTMin","base","encode","currentValue","output","inputLength","counter","extra","ucs2decode","bias","basicLength","handledCPCount","handledCPCountPlusOne","q","qMinusT","baseMinusT","label","encoded","labels","6091","whitespaces","3111","whitespace","ltrim","rtrim","1400","integer","7067","5656","9958","ceil","7466","7908","4590","toPositiveInteger","BYTES","3002","7593","PREFERRED_STRING","val","valueOf","1694","9843","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","ArrayBufferViewCore","ArrayBufferModule","toOffset","typedArrayFrom","setSpecies","inheritIfRequired","BYTES_PER_ELEMENT","WRONG_LENGTH","fromList","list","isArrayBuffer","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructorPrototype","exported","addElement","getter","typedArrayOffset","$length","$len","3832","checkCorrectnessOfIteration","iterable","3074","speciesConstructor","instance","7321","9711","id","postfix","random","3307","NATIVE_SYMBOL","5112","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","1361","8264","arrayBufferModule","2222","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","7327","$filter","2772","$indexOf","nativeIndexOf","6992","addToUnscopables","defineIterator","ARRAY_ITERATOR","iterated","kind","Arguments","1249","$map","7042","HAS_SPECIES_SUPPORT","nativeSlice","fin","561","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","8309","FunctionPrototype","FunctionPrototypeToString","nameRE","489","nativeGetPrototypeOf","1539","4916","9714","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","8783","STRING_ITERATOR","point","4723","fixRegExpWellKnownSymbolLogic","advanceStringIndex","regExpExec","nativeMatch","maybeCallNative","matcher","res","rx","fullUnicode","matchStr","5306","getSubstitution","reason","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","replacerArgs","3123","callRegExpExec","arrayPush","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","separator","limit","lim","lastLength","lastLastIndex","separatorCopy","splitter","unicodeMatching","z","3210","$trim","forcedStringTrimMethod","2990","$copyWithin","8927","$every","3105","$fill","5035","fromSpeciesAndList","7174","$findIndex","predicate","4345","$find","2846","4731","$includes","7209","6319","ArrayIterators","arrayValues","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","8867","$join","7789","$lastIndexOf","3739","4483","$reduceRight","9368","$reduce","2056","3462","678","$slice","7462","$some","3824","$sort","comparefn","5021","begin","beginIndex","2974","$toLocaleString","toLocaleString","TO_LOCALE_STRING_BUG","5016","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","2472","createTypedArrayConstructor","4747","DOMIterables","COLLECTION_NAME","Collection","CollectionPrototype","3948","ArrayIteratorMethods","ArrayValues","1637","USE_NATIVE_URL","hasOwn","getIterator","$fetch","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","getInternalIteratorState","plus","sequences","percentSequence","percentDecode","sequence","decodeURIComponent","deserialize","serialize","encodeURIComponent","parseSearchParams","query","attribute","entry","attributes","shift","updateSearchParams","validateArgumentsLength","passed","required","URLSearchParamsIterator","params","URLSearchParamsConstructor","entryIterator","entryNext","updateURL","URLSearchParamsPrototype","append","getAll","found","entriesIndex","sliceIndex","callback","fetch","headers","args","getState","285","EOF","arrayFrom","toASCII","URLSearchParamsModule","NativeURL","getInternalSearchParamsState","getInternalURLState","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","parseHost","codePoints","parseIPv6","isSpecial","parseIPv4","percentEncode","C0ControlPercentEncodeSet","partsLength","numbers","part","radix","ipv4","parts","pop","numbersSeen","ipv4Piece","swaps","swap","address","pieceIndex","compress","pointer","char","serializeHost","ignore0","unshift","ipv6","maxIndex","maxLength","currStart","currLength","findLongestZeroSequence","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","specialSchemes","ftp","file","http","https","ws","wss","scheme","includesCredentials","password","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","normalized","startsWithWindowsDriveLetter","third","shortenURLsPath","pathSize","isSingleDot","segment","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","bufferCodePoints","failure","seenAt","seenBracket","seenPasswordToken","port","fragment","codePoint","encodedCodePoints","URLConstructor","baseState","urlString","searchParamsState","serializeURL","origin","getOrigin","protocol","getProtocol","getUsername","getPassword","getHost","hostname","getHostname","getPort","getPathname","search","getSearch","getSearchParams","getHash","URLPrototype","accessorDescriptor","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","blob","__webpack_module_cache__","moduleId","definition","obj","prop","__webpack_exports__","_createForOfIteratorHelper","allowArrayLike","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_e","err","normalCompletion","didErr","_e2","return","arr","arr2","_defineProperties","props","Dropzone","dropzone_dist","Emitter","_classCallCheck","protoProps","staticProps","event","_callbacks","callbacks","_len","_key","_step","_iterator","makeEvent","eventName","detail","bubbles","CustomEvent","evt","createEvent","initCustomEvent","options_createForOfIteratorHelper","options_arrayLikeToArray","options_unsupportedIterableToArray","src_options","withCredentials","timeout","parallelUploads","uploadMultiple","chunking","forceChunking","chunkSize","parallelChunkUploads","retryChunks","retryChunksLimit","maxFilesize","paramName","createImageThumbnails","maxThumbnailFilesize","thumbnailWidth","thumbnailHeight","thumbnailMethod","resizeWidth","resizeHeight","resizeMimeType","resizeQuality","resizeMethod","filesizeBase","maxFiles","clickable","ignoreHiddenFiles","acceptedFiles","acceptedMimeTypes","autoProcessQueue","autoQueue","addRemoveLinks","previewsContainer","disablePreviews","hiddenInputContainer","renameFilename","renameFile","forceFallback","dictDefaultMessage","dictFallbackMessage","dictFallbackText","dictFileTooBig","dictInvalidFileType","dictResponseError","dictCancelUpload","dictUploadCanceled","dictCancelUploadConfirmation","dictRemoveFile","dictRemoveFileConfirmation","dictMaxFilesExceeded","dictFileSizeUnits","tb","gb","mb","kb","files","xhr","chunk","dzuuid","upload","uuid","dzchunkindex","dztotalfilesize","dzchunksize","dztotalchunkcount","totalChunkCount","dzchunkbyteoffset","accept","chunksUploaded","fallback","messageElement","getElementsByTagName","child","span","textContent","innerText","getFallbackForm","resize","info","srcX","srcY","srcWidth","srcHeight","srcRatio","trgRatio","trgWidth","trgHeight","transformFile","resizeImage","previewTemplate","drop","dragstart","dragend","dragenter","dragover","dragleave","paste","reset","addedfile","_this","previewElement","_step2","_iterator2","querySelectorAll","node","_step3","_iterator3","filesize","_removeLink","_step4","removeFileEvent","status","UPLOADING","confirm","removeFile","_iterator4","addEventListener","removedfile","_updateMaxFilesReachedClass","thumbnail","dataUrl","_step5","_iterator5","thumbnailElement","alt","message","_step6","_iterator6","errormultiple","processing","processingmultiple","uploadprogress","progress","bytesSent","_step7","_iterator7","nodeName","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","emit","canceledmultiple","complete","completemultiple","maxfilesexceeded","maxfilesreached","queuecomplete","addedfiles","_typeof","dropzone_createForOfIteratorHelper","dropzone_arrayLikeToArray","dropzone_unsupportedIterableToArray","dropzone_classCallCheck","dropzone_defineProperties","dropzone_createClass","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","Proxy","Date","_isNativeReflectConstruct","Super","_getPrototypeOf","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_Emitter","subClass","superClass","_inherits","_super","clickableElements","listeners","nodeType","dropzone","instances","elementOptions","optionsForElement","extend","isBrowserSupported","getExistingFallback","getElement","getElements","accepted","getFilesWithStatus","QUEUED","ADDED","_this2","tagName","setupHiddenFileInput","hiddenFileInput","visibility","addFile","webkitURL","events","on","updateTotalUploadProgress","getAddedFiles","getUploadingFiles","getQueuedFiles","noPropagation","dataTransfer","types","containsFiles","returnValue","efct","effectAllowed","dropEffect","clickableElement","elementInside","enable","removeAllFiles","totalUploadProgress","totalBytesSent","totalBytes","getActiveFiles","total","existingFallback","form","fieldsString","_getParamName","fields","getFallback","_i","_arr","elementListeners","listener","removeEventListener","_this3","removeEventListeners","cancelUpload","setupEventListeners","selectedSize","selectedUnit","units","unit","getAcceptedFiles","items","webkitGetAsEntry","_addFilesFromItems","handleFiles","clipboardData","transform","_this4","item","isFile","getAsFile","isDirectory","_addFilesFromDirectory","directory","_this5","dirReader","createReader","errorHandler","console","methodName","readEntries","fullPath","isValidFile","_this6","uuidv4","filename","_renameFile","_enqueueThumbnail","_errorProcessing","enqueueFile","_step8","_iterator8","_this7","processQueue","_this8","_thumbnailQueue","_processThumbnailQueue","_this9","_processingThumbnail","createThumbnail","without","cancelIfNecessary","_step9","_iterator9","_this10","canvas","resizedDataURL","toDataURL","ExifRestore","restore","dataURL","dataURItoBlob","fixOrientation","_this11","fileReader","FileReader","onload","createThumbnailFromUrl","readAsDataURL","mockFile","imageUrl","crossOrigin","_this12","resizeThumbnail","onDone","_this13","img","getComputedStyle","loadExif","EXIF","getData","getTag","orientation","resizeInfo","ctx","translate","scale","rotate","PI","drawImageIOSFix","trgX","trgY","onerror","processingLength","queuedFiles","processFiles","processFile","_step10","_iterator10","uploadFiles","_step11","groupedFiles","_getFilesWithXhr","_iterator11","CANCELED","abort","_step12","_iterator12","_groupedFile","option","_this14","_transformFiles","transformedFiles","transformedFile","chunked","_transformedFile","chunks","handleNextChunk","chunkIndex","dataBlock","webkitSlice","retries","_uploadData","finishedChunkUpload","response","allFinished","SUCCESS","_finished","dataBlocks","_i2","_step13","_this15","XMLHttpRequest","_iterator13","resolveOption","_finishedUploading","ontimeout","_handleUploadError","onprogress","_updateFilesUploadProgress","Accept","headerName","headerValue","setRequestHeader","formData","FormData","additionalParams","_getChunk","_step14","_iterator14","_file","_addFormElementData","_i3","submitRequest","_this16","doneCounter","_loop","_step15","_iterator15","inputName","inputType","hasAttribute","_step16","_iterator16","selected","checked","_file2","loaded","_step17","_iterator17","readyState","responseType","responseText","getResponseHeader","JSON","parse","warn","send","_step18","_iterator18","_step19","_iterator19","ERROR","_len2","objects","_key2","_i4","_objects","initClass","camelize","forElement","autoDiscover","discover","dropzones","checkElements","_step20","_iterator20","_step21","_iterator21","blockedBrowsers","capableBrowser","File","Blob","blacklistedBrowsers","_step22","_iterator22","navigator","dataURI","byteString","atob","mimeString","ab","ia","asc","rejectedItem","div","childNodes","els","_step23","_iterator23","_step24","_iterator24","question","rejected","_step25","mimeType","baseMimeType","_iterator25","validType","jQuery","each","ACCEPTED","PROCESSING","sx","sy","sw","sh","dx","dy","dw","dh","vertSquashRatio","naturalWidth","ih","naturalHeight","drawImage","getImageData","ey","py","ratio","detectVerticalSquash","KEY_STR","chr1","chr2","chr3","enc1","enc2","enc3","enc4","origFileBase64","resizedFileBase64","rawImage","decode64","segments","slice2Segments","image","exifManipulation","encode64","exifArray","getExifArray","newImageArray","insertExif","seg","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","_autoDiscoverFunction","win","doc","rem","pre","createEventObject","doScroll","frameElement","poll","contentLoaded","_positionClasses","_defaultIcons","prepareOptions","toast","text","setup","addToDom","bindToast","animate","_toastEl","allowToastClose","heading","bgColor","css","textColor","textAlign","icon","addClass","inArray","_container","outerWidth","outerHeight","processLoader","showHideTransition","fadeOut","slideUp","beforeShow","afterShown","beforeHide","afterHidden","stack","empty","canAutoHide","hideAfter","loader","loaderBg","attr","fadeIn","slideDown","_createClass","_extends","_construct","Parent","Class","_superPropBase","_get","receiver","desc","consolePrefix","uniqueArray","capitalizeFirstLetter","objectValues","toArray","nodeList","previousWarnOnceMessages","warnOnce","warnAboutDeprecation","deprecatedParam","useInstead","callIfFunction","hasToPromiseFn","toPromise","asPromise","Promise","resolve","isPromise","DismissReason","freeze","backdrop","esc","timer","isJqueryElement","elem","jquery","isElement","argsToParams","swalPrefix","prefix","swalClasses","iconTypes","getContainer","elementBySelector","selectorString","elementByClass","getPopup","popup","getIcon","getTitle","title","getContent","getHtmlContainer","getImage","getProgressSteps","getValidationMessage","getConfirmButton","actions","getDenyButton","deny","getInputLabel","getLoader","getCancelButton","getActions","getHeader","header","getFooter","footer","getTimerProgressBar","getCloseButton","focusable","getFocusableElements","focusableElementsWithTabindex","otherFocusableElements","isVisible","isModal","isToast","isLoading","states","previousBodyPadding","setInnerHtml","parsed","DOMParser","parseFromString","hasClass","removeCustomClasses","showClass","applyCustomClass","customClass","getInput","getChildByClass","checkbox","radio","range","oldInputVal","focusInput","toggleClass","condition","removeClass","applyNumericalStyle","removeProperty","setStyle","parent","selector","toggle","getClientRects","allButtonsAreHidden","isScrollable","scrollHeight","clientHeight","hasCssAnimation","animDuration","parseFloat","getPropertyValue","transDuration","haystack","needle","animateTimerProgressBar","timerProgressBar","stopTimerProgressBar","timerProgressBarWidth","timerProgressBarFullWidth","timerProgressBarPercent","isNodeEnv","sweetHTML","select","textarea","resetOldContainer","oldContainer","resetValidationMessage","Swal","addInputChangeListeners","rangeOutput","oninput","getTarget","setupAccessibility","setupRTL","targetElement","direction","rtl","oldContainerExisted","parseHtmlToContainer","param","handleObject","handleJqueryElem","cloneNode","animationEndEvent","testEl","transEndEventNames","WebkitAnimation","OAnimation","animation","measureScrollbar","scrollDiv","scrollbarWidth","clientWidth","renderActions","confirmButton","denyButton","cancelButton","showConfirmButton","showDenyButton","showCancelButton","renderButton","handleButtonsStyling","reverseButtons","loaderHtml","buttonsStyling","styled","confirmButtonColor","denyButtonColor","cancelButtonColor","buttonType","handleBackdropParam","handlePositionParam","center","handleGrowParam","grow","growClass","renderContainer","allowOutsideClick","queueStep","privateProps","promise","innerParams","domCache","inputTypes","renderInput","rerender","inputClass","inputContainer","setAttributes","inputAttributes","showInput","setCustomClass","renderInputType","getInputContainer","removeAttributes","attrName","setInputPlaceholder","placeholder","inputPlaceholder","setInputLabel","prependTo","inputLabel","labelClass","insertAdjacentElement","email","tel","inputValue","rangeInput","checkboxContainer","getPadding","paddingLeft","paddingRight","initialPopupWidth","MutationObserver","contentWidth","observe","attributeFilter","renderContent","htmlContainer","renderFooter","renderCloseButton","closeButton","closeButtonHtml","showCloseButton","closeButtonAriaLabel","renderIcon","setContent","applyStyles","iconHtml","iconType","adjustSuccessIconBackgoundColor","popupBackgroundColor","successIconParts","iconContent","warning","iconColor","borderColor","sel","renderImage","imageAlt","imageWidth","imageHeight","currentSteps","queue","steps","resetAndResolve","queueResult","fire","then","dismiss","getQueueStep","insertQueueStep","deleteQueueStep","createStepElement","stepEl","createLineElement","lineEl","progressStepsDistance","renderProgressSteps","progressStepsContainer","progressSteps","currentProgressStep","renderTitle","titleText","renderHeader","renderPopup","addClasses","modal","render","didRender","onRender","isVisible$1","clickConfirm","clickDeny","clickCancel","mixin","mixinParams","MixinSwal","priorityMixinParams","showLoading","buttonToReplace","loading","RESTORE_FOCUS_TIMEOUT","globalState","focusPreviousActiveElement","previousActiveElement","restoreActiveElement","returnFocus","scrollX","scrollY","restoreFocusTimeout","scrollTo","getTimerLeft","stopTimer","stop","resumeTimer","remaining","toggleTimer","running","increaseTimer","increase","isTimerRunning","isRunning","bodyClickListenerAdded","clickHandlers","bindClickHandler","bodyClickListener","template","defaultParams","hideClass","heightAuto","allowEscapeKey","allowEnterKey","stopKeydownPropagation","keydownListenerCapture","preConfirm","preDeny","confirmButtonText","confirmButtonAriaLabel","denyButtonText","denyButtonAriaLabel","cancelButtonText","cancelButtonAriaLabel","focusConfirm","focusDeny","focusCancel","showLoaderOnConfirm","showLoaderOnDeny","inputOptions","inputAutoTrim","inputValidator","returnInputValueOnDeny","validationMessage","onBeforeOpen","onOpen","willOpen","didOpen","onClose","onAfterClose","willClose","didClose","onDestroy","didDestroy","scrollbarPadding","updatableParams","deprecatedParams","toastIncompatibleParams","isValidParameter","isUpdatableParameter","isDeprecatedParameter","checkIfParamIsValid","checkIfToastParamIsValid","checkIfParamIsDeprecated","showWarningsForParams","staticMethods","enableLoading","hideLoading","getElementsByClassName","getInput$1","fixScrollbar","undoScrollbar","iOSfix","MSStream","platform","maxTouchPoints","iosfix","scrollTop","lockBodyScroll","addBottomPaddingForTallPopups","bottomPanelHeight","paddingBottom","preventTouchMove","ontouchstart","shouldPreventTouchMove","ontouchmove","isStylys","isZoom","touchType","undoIOSfix","isIE11","MSInputMethodContext","documentMode","fixVerticalPositionIE","offsetTop","alignItems","IEfix","undoIEfix","setAriaHidden","unsetAriaHidden","privateMethods","swalPromiseResolve","removePopupAndResetState","triggerDidCloseAndDispose","keydownTarget","keydownHandler","keydownHandlerAdded","removeBodyClasses","shown","resolveValue","prepareResolveValue","handlePopupAnimation","isConfirmed","isDenied","isDismissed","animationIsSupported","runDidClose","animatePopup","swalCloseEventFinishedCallback","_destroy","setButtonsDisabled","buttons","setInputDisabled","radios","enableButtons","disableButtons","enableInput","disableInput","showValidationMessage","inputerror","resetValidationMessage$1","getProgressSteps$1","Timer","delay","started","defaultInputValidators","setDefaultInputValidators","validateCustomTargetElement","setParameters","swalStringParams","getTemplateParams","templateContent","showWarningsForElements","getSwalParams","getSwalButtons","getSwalImage","getSwalIcon","getSwalInput","getSwalStringParams","showWarningsForAttributes","optionValue","optionName","paramNames","allowedElements","allowedAttributes","SHOW_CLASS_TIMEOUT","openPopup","initialBodyOverflow","overflowY","addClasses$1","setScrollingVisibility","fixScrollContainer","runDidOpen","swalOpenAnimationFinished","setProperty","handleInputOptionsAndValue","handleInputOptions","handleInputValue","getInputValue","getCheckboxValue","getRadioValue","getFileValue","processInputOptions","populateInputOptions","formatInputOptions","renderOption","optionLabel","isSelected","inputOption","optgroup","radioValue","radioLabel","radioInput","radioLabelElement","Map","valueFormatted","handleConfirmButtonClick","handleConfirmOrDenyWithInput","handleDenyButtonClick","handleCancelButtonClick","dismissWith","handleInputValidator","checkValidity","preDenyValue","closePopup","succeedWith","preConfirmValue","addKeydownHandler","setFocus","increment","focusableElements","arrowKeysNextButton","arrowKeysPreviousButton","escKeys","handleEnter","handleTab","handleArrows","handleEsc","isComposing","outerHTML","btnIndex","sibling","buttonToFocus","handlePopupClick","handleToastClick","handleModalMousedown","handleContainerMousedown","handleModalClick","onclick","ignoreOutsideClick","onmousedown","onmouseup","_main","userParams","currentInstance","prepareParams","populateDomCache","swalPromise","templateParams","setupTimer","initFocus","globalState$$1","focusButton","blurActiveElement","blur","validUpdatableParams","updatedParams","deferDisposalTimer","runDidDestroy","disposeSwal","unsetWeakMaps","instanceMethods","disableLoading","closeModal","closeToast","SweetAlert","outerParams","onFulfilled","onFinally","_currentInstance","Sweetalert2","swal","sweetAlert","styleSheet","cssText","typeOf","eq","eqString","eqArray","eqa","eqSortedArray","compareFn","contramap","xs","eqRecord","kx","ky","eqAny","tx","isEquatableType","isType","isSimpleType","eq$1","isString","isNull","isBoolean","isUndefined","isNullable","isNonNullable","isFunction","isNumber","noop","compose","fa","fb","constant","identity","curry","initialArgs","restArgs","all","not","die","msg","never","always","none","NONE","isNone","thunk","fold","_s","is","isSome","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","or","orThunk","exists","forall","equals","equals_","constant_a","me","elementEq","Optional","nativePush","rawIndexOf","ts","pred","eachr","foldr","acc","foldl","until","findUntil","flatten","difference","a1","a2","last","from$1","each$1","map$1","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","bifilter","filter$1","mapToArray","get$1","hasNonNullableKey","isArray$1","each$2","cb","map$2","out","filter$2","indexOf$1","collection","iteratee","accumulator","thisArg","findIndex$1","last$1","__assign","__spreadArrays","il","jl","unknown","nu","major","minor","Version","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","group","find$1","detect$1","candidates","candidate","UaString","browsers","browser","current","oses","os","contains$1","substr","checkRange","blank","lTrim","rTrim","isNotEmpty","normalVersionRegex","checkContains","uastring","PlatformInfo","edge","chrome","firefox","safari","nu$1","isBrowser","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","ie","windows","android","linux","solaris","freebsd","chromeos","nu$2","isOS","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","osx","PlatformDetection","mediaMatch","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","matchMedia","matches","cached","detect$3","platform$1","webkit","fileApi","windowsPhone","Env","gecko","mac","iOS","contentEditable","transparentSrc","caretAfter","getSelection","ceFalse","cacheSuffix","experimentalShadowDom","canHaveCSP","desktop","whiteSpaceRegExp","trim$1","walk","Tools","makeMap","delim","grep","exts","ext","name_1","sp","scn","de","cn","ns","createNS","onCreate","static","explode","_addCacheSuffix","fromDom","dom","SugarElement","fromHtml","scope","hasChildNodes","fromTag","fromText","createTextNode","fromPoint","docElm","elementFromPoint","toArray$1","recurse","cur","is$1","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","eq$2","e1","e2","ieContains","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","contains$2","d1","d2","regularContains","isType$1","isText","isDocument","isDocumentFragment","owner","ownerDocument","documentOrOwner","dos","defaultView","prevSibling","previousSibling","prevSiblings","nextSiblings","cs","firstChild","lastChild","isShadowRoot","supported","attachShadow","getRootNode","isSupported","getStyleContainer","getHead","getShadowHost","isOpenShadowHost","before","marker","after","prepend","append$1","rogue","unwrap","children$1","inBody","fbc","fab","getShadowRoot","SugarPosition","firstDefinedOrZero","viewport","offsetLeft","box","boxPosition","get$2","_DOC","scrollLeft","intoView","alignToTop","scrollIntoViewIfNeeded","scrollIntoView","bounds","getBounds","_win","scroll","get$3","visualViewport","pageLeft","pageTop","isNodeType","isRestrictedNode","isElement$1","matchNodeNames","lowercasedNames","matchStyleValues","computed","isBogus","isTable","hasContentEditableState","isTextareaOrInput","isText$1","isComment$1","isDocument$1","isDocumentFragment$1","isBr","isImg","isContentEditableTrue","isContentEditableFalse","isTableCell","isMedia","isSupported$1","rawSet","setAll","attrs","get$4","getOpt","remove$1","setAll$1","internalSet","get$5","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","browser$1","firstElement","nodes","hasChild","elm","getPos","rootElm","offsetParent","clientLeft","clientTop","caption","bodyTop","captionTop","captionHeight","getTableCaptionDeltaY","exports$1","module$1","define","require","amd","EphoxContactWrapper","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","run","runClearTimeout","Item","nextTick","env","argv","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","2","setImmediate","setTimeoutFunc","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","onRejected","ret","reject","newValue","finale","_unhandledRejectionFn","Handler","ex","prom","race","_setImmediateFn","_setUnhandledRejectionFn","3","clearImmediate","immediateIds","nextImmediateId","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","4","promisePolyfill","Global","boltExport","nu$3","baseFn","nCallback","isReady","cbs","LazyValue","pure","errorReporter","make","aFutureB","anonBind","futureB","toLazy","toCached","Future","par","asyncValues","asyncValue","isValue","isError","_opt","_f","onValue","mapError","toOptional","opt","onError","Result","fromOption","Adt","cases","constructors","adt","acase","keys$1","argLength","branches","branchKeys","reqKey","foldArgs","unite","bothErrors","firstError","secondError","bothValues","ClosestOrAncestor","ancestor","isRoot","requestAnimationFramePromise","attrValue","support","Expr","getText","isXML","tokenize","compile","outermostContext","sortInput","hasDuplicate","setDocument","document$1","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains$3","closest","child$1","ancestor$1","descendant","one","closest$1","promiseObj","asap","immediateFn","catch","wrappedSetTimeout","time","wrappedSetInterval","debounce","func","Delay","requestAnimationFrameFunc","vendors","setEditorTimeout","editor","removed","setEditorInterval","throttle","StyleSheetLoader","documentOrShadowRoot","settings","idCount","loadedStates","edos","maxLoadTime","load","link","urlWithSuffix","failed","getOrCreateState","waitForWebKitLinkLoaded","waitCallback","styleSheets","ownerNode","testCallback","now","startTime","linkElem","rel","contentCssCors","referrerPolicy","loadF","unload","styleContainer","loadAll","urls","futures","pass","fail","partition","unloadAll","_setReferrerPolicy","referenceElement","rootDom","sl","create$1","DomTreeWalker","startNode","rootNode","prev","prev2","shallow","findSibling","findPreviousNode","startName","siblingName","lazyLookup","lookup","mapToObject","isHeading","isBlock","isInline","isBr$1","isTextBlock","isList","isListItem","isTableSection","isTableCell$1","isWsPreserveElement","nbsp","ZWSP","isZwsp$1","trim$2","isElement$2","isText$2","isCaretContainerBlock","isCaretContainerInline","isCaretContainer","hasContent","isBeforeInline","isAtStart","isAfterInline","isAtEnd","insertBlock","blockName","br","blockNode","startsWithCaretContainer","endsWithCaretContainer","showCaretContainerBlock","caretContainer","brs","lastBr","isContentEditableTrue$1","isContentEditableFalse$1","isBr$2","isText$3","isInvalidTextElement","isAtomicInline","isTable$2","isCaretContainer$1","isCaretCandidate","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate","isInEditable","whiteSpaceRegExp$1","isWhitespaceText","hasWhitespacePreserveParent","rootElement","isContent","isWhitespace","isNamedAnchor","isBookmark","isBogus$1","isBogusAll$1","isEmpty","skipBogus","targetNode","brCount","walker","isEmptyNode","isInlineContent","isBookmarkNode","isSpan","isKeepTextNode","prevIsInline","nextIsInline","surroundedByInlineContent","trimNode","currentChildren","isDocument$2","isKeepElement","makeMap$1","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","128","130","131","132","134","135","136","137","138","139","140","142","145","146","147","148","149","150","151","152","153","154","155","156","158","159","baseEntities","'","reverseEntities","buildEntitiesLookup","entity","namedEntities","encodeRaw","encodeNumeric","encodeNamed","entities","Entities","encodeAllRaw","getEncodeFunc","entitiesMap","nameMap","named","numeric","decode","nativeDecode","mapCache","dummyObj","makeMap$2","each$3","extend$1","explode$1","compileElementMap","styles","Schema","patternElements","customElementsMap","specialElements","createLookupTable","defaultValue","extendWith","schemaItems","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","schema","ni","attributesOrder","arrayToMap","addAttrs","schemaItem","table","script","compileSchema","verify_html","valid_elements","validStyles","valid_styles","invalidStyles","invalid_styles","validClasses","valid_classes","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","nonEmptyOrMoveCaretBeforeOnEnter","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","blockElementsMap","textInlineElementsMap","special","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","validElementsArr","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","pattern","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","rule","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","custom_elements","valid_children","extended_valid_elements","dd","dt","li","td","th","tr","tbody","thead","tfoot","legend","area","parents","parentsRequired","invalid_elements","getValidStyles","getValidClasses","getBlockElements","getInvalidStyles","getShortEndedElements","getTextBlockElements","getTextInlineElements","getBoolAttrs","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","isValidChild","isValid","attrPatterns","getCustomElements","toHex","Styles","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","encodingItems","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","suffix","noJoin","canCompress","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","border","serializeStyles","styleList","i_1","styleMap","mouseEventRe","deprecated","keyLocation","layerX","layerY","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","returnFalse","returnTrue","addEvent","attachEvent","removeEvent","detachEvent","fix","originalEvent","srcElement","isMouseEvent","pageX","eventDoc","pageY","defaultPrevented","isDefaultPrevented","cancelBubble","isPropagationStopped","isImmediatePropagationStopped","hasIsDefaultPrevented","metaKey","bindOnReady","eventUtils","domLoaded","readyHandler","EventUtils","expando","hasMouseEnterLeave","hasFocusIn","callbackList","fakeName","nativeHandler","defaultNativeHandler","executeHandlers","namesList","mouseEnterLeave","currentTarget","related","relatedTarget","unbind","ci","eventMap","clean","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","push_native","indexOf$2","identifier","pseudos","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","escaped","escapedWhitespace","high","Sizzle","context","seed","old","nid","newContext","newSelector","getElementById","qsa","toSelector","testContext","qsaError","cacheLength","markFunction","siblingCheck","diff","sourceIndex","createPositionalPseudo","matchIndexes","setFilters","tokens","addCombinator","combinator","checkNonElements","doneName","xml","oldCache","outerCache","newCache","elementMatcher","matchers","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","elems","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","relative","implicitRelative","matchContext","matchAnyContext","hasCompare","getTop","getById","attrId","tmp","disconnectedMatch","adown","bup","compare","sortDetached","aup","ap","bp","expr","matchesSelector","attrHandle","getAttributeNode","specified","uniqueSort","duplicates","detectDuplicates","sortStable","nodeValue","selectors","createPseudo","excess","unquoted","nodeNameSelector","operator","what","forward","ofType","nodeIndex","useCache","pseudo","idx","lang","elemLang","location","hasFocus","tabIndex","enabled","selectedIndex","even","odd","lt","gt","nth","createInputPseudo","createButtonPseudo","filters","parseOnly","soFar","preFilters","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","token","compiled","push$1","slice$1","rquickExpr$1","skipUniques","isDefined","isString$1","createFragment","fragDoc","frag","createDocumentFragment","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","wrap$1","lastParent","newWrapper","numericCssMap","booleanMap","propFix","for","class","readonly","cssFix","float","attrHooks","cssHooks","DomQueryConstructor","whiteSpaceRegExp$2","trim$3","each$4","unique","hook","removeAttr","camel","dashed","currentStyle","appendTo","replaceWith","wrap","wrapAll","wrapInner","contents","classState","existingClassName","sibling$1","firstSibling","contentDocument","wrappedResult","parentsUntil","nextUntil","prevUntil","overrideDefaults","defaults","sub","each$5","grep$1","simpleSelectorRe","updateInternalStyleAttr","$elm","rawValue","findNodeIndex","lastNodeType","DOMUtils","addedStyles","styleSheetLoader","boundEvents","ownEvents","getRoot","$$","getAttrib","defaultVal","getAttribs","setAttrib","originalValue","onSetAttrib","attrElm","root_element","getPos$1","getStyle","getSize","elms","getParents","collect","selectorVal","_findSib","setAttribs","setHTML","canHaveHTML","parentElm","newElm","keepChildren","$node","cls","oldElm","isNonEmptyElement","createRng","createRange","rv","getContentEditable","stdMode","boxModel","deep","clone_1","getViewPort","argWin","vp","getRect","getParent","getNext","getPrev","createHTML","outHtml","update_styles","setStyles","stylesArg","removeAllAttribs","removeAttributeNode","parseStyle","serializeStyle","addStyle","styleElm","DOM","loadCSS","isHidden","uniqueId","getOuterHTML","setOuterHTML","insertAfter","referenceNode","rename","attrNode","findCommonAncestor","pe","ps","rgbVal","bogusVal","splitElm","replacementElm","beforeFragment","afterFragment","setStart","setEnd","extractContents","getContentEditableParent","isChildOf","dumpRng","startContainer","startOffset","endContainer","endOffset","keepValues","keep_values","keepUrlHook","setupAttrHooks","each$6","grep$2","ScriptLoader","scriptLoadedCallbacks","queueLoadedCallbacks","loadScript","cleanup","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","notifyCallbacks","Cell","initial","currentCode","getLanguageData","I18n","setCode","newCode","getCode","langData","translation","getLangData","textstr","removeContext","isTokenised","values_1","$1","$2","isRtl","hasCode","AddOnManager","_listeners","runListeners","matchedListeners","dependencies","createUrl","baseUrl","dep","resource","addOnUrl","baseURL","deps","newUrl","loadDependencies","waitFor","requireLangPack","languages","languageLoad","language","addOn","addOnConstructor","addComponents","pluginName","pluginUrl","PluginManager","ThemeManager","rate","last$2","read","supports","add$2","clazz","add$1","remove$3","remove$2","add$3","cleanClass","get$6","has$2","descendants","descendants$1","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","rng","selection","getRng","getBody","an","newStart","getAttr","has$1","findMarkers","_registry","changeCallbacks","withCallbacks","updateCallbacks","callbackMap","outputData","previous","onNodeChange","comparator","copy","annotations","fireNoAnnotation","_a","fireCallbacks","setup$1","registry","serializer","addNodeFilter","spans","identifyParserNode","persistent","generate$1","getTime","set$1","docDom","contentElements","clone$1","original","isDeep","TextWalker","isBoundary","TextSeeker","isBlockBoundary","newOffset","backwards","forwards","lift2","oa","ob","clone$2","rect","collapse","toStart","isValidOverflow","rect1","rect2","isAbove","halfHeight","isBelow","containsXY","getSelectedNode","getNode","extendingChars","isExtendingChar","isElement$3","isCaretCandidate$1","isBlock$1","isFloated","isValidElementCaretCandidate","and","isNotPre","isText$4","isBr$3","resolveIndex","isWhiteSpace","isRange","isHiddenWhiteSpaceRange","isZeroRect","clientRect","clientRects","brNode","nbsp$1","getBrClientRect","sc","ec","so","eo","newRng","cloneRange","setEndAfter","getBoundingClientRectWebKitText","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","beforeNode","addUniqueAndValidRect","addCharacterOffset","CaretPosition","toRange","isEqual","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","HDirection","trimEmptyTextNode","rangeInsertNode","insertNode","insertFragment","isText$5","isBogus$2","nodeIndex$1","normalizedParent","getChildNodes","equal$1","createPathItem","numTextFragments","normalizedNodeIndex","create$3","outputOffset","normalizedTextOffset","resolve$1","paths","resolvePathItem","dataLen","targetOffset","findTextPosition","isContentEditableFalse$2","getPoint","trimmedOffset","getNormalizedTextOffset","findIndex$2","moveEndPoint","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","bookmark","isCollapsed","getLocation","createBookmarkSpan","filled","getPersistentBookmark","collapsed","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark","getCaretBookmark","getRangeBookmark","getUndoBookmark","DOM$1","getBodySetting","getParam","bodyObj","getContentSecurityPolicy","getForcedRootBlock","block","getForcedRootBlockAttrs","isAutomaticUploadsEnabled","shouldReuseFileName","getIconPackName","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","shouldIndentUseMargin","getFontCss","fontCss","getObjectResizing","getEventRoot","getTheme","shouldValidate","isInlineBoundariesEnabled","hasContentCssCors","getPlugins","isElement$4","isText$6","removeNode","trimCount","trimmedText","deleteZwspChars","deleteData","removeUnchanged","remove$5","removeElementAndReposition","newPosition","removeTextCaretContainer","removeTextAndReposition","removeAndReposition","removeElementCaretContainer","caretContainerNode","browser$2","isContentEditableFalse$3","isMedia$1","isTableCell$2","getAbsoluteClientRect","rootRect","FakeCaret","cursorInterval","lastVisualCaret","rootBlock","caretBlock","fakeCaretTargetNodes","trimInlineCaretContainers","caretState","caret","startBlink","textNode","splitText","insertInline","isInlineFakeCaretTarget","getCss","reposition","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableFalse$4","isMedia$2","isBlockLike","isCaretContainer$2","isCaretContainerBlock$1","isElement$5","isCaretCandidate$2","isForwards","isBackwards","skipCaretContainers","findNode","predicateFn","isCefOrCaretContainer","getParentBlock","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","setStartBefore","setEndBefore","setStartAfter","isNodesInSameBlock","node1","node2","lean","before$2","after$1","normalizeRange","leanLeft","leanRight","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","expected","isContentEditableFalse$5","isText$7","isElement$6","isBr$4","isCaretCandidate$3","isAtomic$1","isAtomicContentEditableFalse","isEditableCaretCandidate$1","nodeAtIndex","getCaretCandidatePosition","findCaretPosition","startPos","nextNode","innerNode","Forwards","moveForwardFromBr","rootContentEditableFalseElm","CaretWalker","Backwards","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigate","navigateIgnore","ignoreFilter","positionIn","walkToPositionIn","nextPosition","prevPosition","firstPositionIn","lastPositionIn","CARET_ID","isCaretNode","getParentCaretContainer","addBogus","tryFindRangePosition","padEmptyCaretContainer","isEmpty$1","insertZwsp","setEndPoint","isValidTextNode","restoreEndPoint","appendData","resolve$2","isPathBookmark","resolvePaths","isStringPathBookmark","resolveCaretPositionBookmark","isIdBookmark","spos","epos","resolveId","isIndexBookmark","selectNode","resolveIndex$1","isRangeBookmark","getBookmark$1","setRng","isBookmarkNode$1","isNbsp","actual","isWhiteSpace$1","isContent$1","isNode","moveStart","isInlineBlock","isWhiteSpaceNode","getNonWhiteSpaceSibling","nextName","isTextBlock$1","ed","allowSpaces","replaceVars","vars","isEq","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$1","areSimilarFormats","formatName","otherFormatName","validKeys","filterObj","format","validKey","formatter","fmt1","filteredFmt1","fmt2","filteredFmt2","equal","isBlockFormat","isSelectorFormat","isInlineFormat","hasBlockChildren","isBookmarkNode$2","getParents$2","isWhiteSpaceNode$1","isTextBlock$2","findParentContentEditable","walkText","findSpace","findContent","findWordEndPoint","includeTrailingSpaces","lastTextNode","textSeeker","textOffset","findSelectorEndPoint","curFormat","findBlockEndPoint","scopeRoot","isAtBlockBoundary","findParentContainer","block_expand","isSelfOrParentBookmark","expandRng","includeTrailingSpace","expand","clampToExistingChildren","walk$1","exclude","collectSiblings","endNode","siblings","findEndPoint","walkBoundary","parent_1","siblings_1","startPoint","getRanges","ranges","rangeCount","getRangeAt","getCellsFromRanges","getSelectedNodes","getCellsFromElementOrRanges","selectedCells","getCellsFromEditor","getSel","getFirstChildren","getLastChildren","hasAllContentsSelected","getStartNode","getEndNode","moveEndPoint$1","hasAnyRanges","runOnRanges","executor","fakeSelectionNodes","fakeNodeRng","preserve","fillBookmark","api","getOption","NodeValue","get$8","wrapName","isZeroWidth","isAnnotation","makeAnnotation","eDoc","decorate","_b","__rest","master","_c","_d","classes","add$4","annotate","newWrappers","getDoc","finishWrapper","processElements","processElement","processNodes","annotateWithBookmark","undoManager","transact","initialRng","hasFakeSelection","applyWordGrab","selectionRng","Annotator","register","changes","annotationChanged","markers","nodesAlready","findAll","BookmarkManager","getContentEditableRoot","isXYWithinRange","fireError","errorType","VK","BACKSPACE","DELETE","DOWN","ENTER","LEFT","RIGHT","SPACEBAR","TAB","UP","PAGE_UP","PAGE_DOWN","END","HOME","modifierPressed","altKey","metaKeyPressed","isContentEditableFalse$6","ControlSelection","selectedElm","selectedElmGhost","resizeHelper","selectedHandle","resizeBackdrop","startX","startY","startW","startH","resizeStarted","startScrollWidth","startScrollHeight","elementSelectionAttr","editableDoc","rootDocument","resizeHandles","nw","ne","se","isImage","contextMenuSelectImage","touch","isEventOnImageOutsideRange","getResizeTargets","isResizable","setSizeProp","targets","setGhostElmSize","ghostElm","resizeGhostElement","deltaX","resizeHelperX","resizeHelperY","screenX","screenY","getResizeImgProportional","selectedElmX","selectedElmY","scrollWidth","fireObjectResizeStart","endGhostResize","wasResizeStarted","showResizeRect","fireObjectResized","nodeChanged","targetElm","unbindResizeHandleEvents","targetWidth","targetHeight","hideResizeRect","selectedValue","handleElm","startDrag","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","getStart","getEnd","isWithinContentEditableFalse","execCommand","handleMSControlSelect_1","delayedSelect","throttledUpdateResizeRect","composing","hasCeProperty","fromPoint$1","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","moveToPoint","rects","moveToElementText","findClosestIeRange","findParent","moveOutOfContentEditableFalse","isEq$1","rng1","hasParent","findParent$1","hasParentWithName","isTable$3","isTableCell$3","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","normRng","split$1","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","documentFocusInHandler","api$1","getOffset","aggregate","properties","getOuter","cumulativeInclusions","Dimension","walkUp","navigation","rest","Navigation","find$2","frames","pathTo","loc","excludeFromDescend","markerInfo","cleanupFun","pageYOffset","pageXOffset","absolute","get$9","createMarker","descend","withMarker","preserveWith","applyWithMarker","withScrollEvents","fireScrollIntoViewEvent","fireAfterScrollIntoViewEvent","withElement","elementMarker","startElement","endElement","scrollToMarker","viewHeight","intoWindowIfNeeded","viewportBottom","markerTop","markerBottom","largerThanViewport","intoWindow","intoFrame","frameViewHeight","op","viewportBounds","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","scrollRangeIntoView","SimRange","soffset","finish","foffset","Situ","situ","adt$1","domRange","exact","SimSelection","exactFromRange","simRange","getWin","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart$1","browser$3","clamp","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","getBookmark$2","readRange","bookmarkToNativeRng","newBookmark","validate","FocusManager","isEditorUIElement","registerEditorEvents","throttledStore","registerFocusOut","registerMouseUp","selectionChange","isManualNodeChange","mouseUpPage","registerPageMouseUp","DOM$2","isUIElement","customSelector","getCustomUiSelector","isEditorUIElement$1","registerEvents","editorManager","focusedEditor","setActive","blurredEditor","getActiveElement","activeEditor","composed","getOriginalEventTarget","unregisterDocumentEvents","getFocusInElement","getCollapsedNode","normalizeSelection","caretPos","focusBody","hasElementFocus","hasFocus$1","rawBody","hasInlineFocus","iframeElement","hasIframeFocus","hasEditorOrUiFocus","hasUiFocus","activateEditor","focus$1","skipFocus","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","getContentEditableHost","focusEditor","getEndpointElement","real","getStart$2","skipEmptyTextNodes","orig","processRanges","typeLookup","walk$2","isEmptyTextNode$1","AstNode","insert","selfAttrs","cloneAttrs","selfAttr","shortEnded","refNode","restoreDataUris","imageId","uris","safeSvgDataUrlElements","isInvalidUri","uri","allow_html_data_urls","allowSvgDataUrls","blockSvgDataUris","findEndTagIndex","startIndex","shortEndedElements","tokenRegExp","checkBogusAttribute","regExp","attrString","SaxParser","fix_self_closing","comment","cdata","pi","doctype","parseInternal","base64Extract","endRegExp","attrList","textData","isInternalElement","isShortEnded","elementRule","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","filteredUrlAttrs","scriptUriRegExp","parsingMode","processEndTag","valid","processText","processComment","allow_conditional_comments","processMalformedComment","startTag","endIndex","lcHtml","isConditionalComment","endIfIndex","endCommentRegexp","findCommentEndIndex","parseAttribute","val2","val3","attrRule","processAttr","fillAttrsMap","isValidPrefixAttrName","unescape","attrRegExp","selfClosing","self_closing_elements","removeInternalElements","remove_internals","fixSelfClosing","processHtml","matchText","bogusValue","preserve_cdata","dataImageUri","extractBase64DataUris","findEndTag","trimInternal","endTagIndex","matchLength","bogusAllRegExp","tempAttrs","trimContentRegExp","trimHtml","getTempAttrs","trimExternal","getContentFromBody","getInner","no_events","emptyRegExp","trimEmptyContents","each$7","ElementUtils","attribs","compareObjects","obj1","obj2","makeMap$3","Writer","indent","indentBefore","indent_before","indentAfter","indent_after","entity_encoding","htmlOutput","element_format","HtmlSerializer","writer","handlers","8","7","10","11","sortedAttrs","handler","inner","nonInheritableStyles","Set","shorthandStyleProps","getStyleProps","hasInheritableStyles","isNonInheritableStyle","hasStyleConflict","nodeStyleProps","parentNodeStyleProps","valueMismatch","parentValue","nodeStyleProp","propExists","longhandProps","isChar","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBogusAll","isBeforeImageBlock","isAfterImageBlock","isBeforeMedia","isAfterMedia","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","removeTrailingBr","allBrs","rawNode","getLastChildren$1","fillWithPaddingBr","trimBlockTrailingBr","lastChildPrevSibling","parentsUntil$1","rawParent","parents$1","parentsAndSelf","navigateIgnoreEmptyTextNodes","getClosestBlock","isAtBeforeAfterBlockBoundary","newPos","fromBlock","isAtBlockBoundary$1","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isBr$5","findBr","parentBlocks","isBeforeBr","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","isInMiddleOfText","getClosestBlock$1","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","needsToBeNbspLeft","needsToBeNbspRight","needsToBeNbsp","isNbspAt","hasNbsp","normalizeNbspInMiddleOfTextNode","newText","chars","normalizeNbspMiddle","normalizeNbsps","firstPos","normalizeNbspAtStart","lastPos","normalizeNbspAtEnd","normalizeNbspsInEditor","normalize$1","isEndOfContent","isStartOfContent","replaceData","previousCharIsSpace","normalizeContent","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","mergeToPrev","whitespaceOffset","newNode","insertData","needsReposition","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwards","startPosition","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition$1","setSelection","isBlock$2","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","oc","prevTextOpt","nextTextOpt","deleteElement","moveCaret","afterDeletePos","parentBlock","normalizedAfterDeletePos","isInlineElement","setCursorLocation","paddPos","tableCellRng","deleteAction","removeTable","emptyCells","deleteCellSelection","getClosestCell","getClosestTable","cell","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableCells","partialSelection","startCell","endCell","isWithinSameTable","getCellRangeFromStartTable","getTableSelection","optCellRng","cRng","cells","tableSelection","getTableSelectionFromCellRng","getCellIndex","isSingleCellTableContentSelected","rows","isSingleCellTable","getAction","getSelectedCells","getActionFromRange","isRootFromElement","getCellRng","freefallRtl","deleteCellContents","deleteContents","lastNode","lastBlock","additionalCleanupNodes","deleteTableElement","deleteTableRange","startElm","getParentCaption","action","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","toCell","deleteBetweenCells","isNearTable","deleteCaret","fromPos","isBeforeOrAfterTable","deleteCaretCaption","backspaceDelete","deleteRange","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","createRange$1","normalize$2","isPaddedEmptyBlock","hasOnlyOneChild","isPaddingNode","isListFragment","nonEmptyElements","isEmptyFragmentElement","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","newCaretPos","findFirstIn","insertAtCaret","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","caretWalker","beforeRng","afterRng","cloneContents","getSplit","insertMiddle","isTableCell$4","deleteSelectedContent","isTableCellContentSelected","insertHtmlAtCaret","details","trimOrPadLeftRight","parser","merge","bookmarkHtml","caretElement","canHaveChildren","parserArgs","isParentBlockLi","markFragmentElements","_selectionOverrides","showBlockCaretContainer","invalid","validInsertion","textInlineElements","root_1","elementUtils_1","reduceInlineTextElements","nextRng","parentEditableFalseElm","getContentEditableFalseParent","isPartOfFragment","findNextCaretRng","moveSelectionToMarker","trimBrsFromTableCell","addVisual","traverse","filter$3","nodeFilters","attributeFilters","nodeMatches","attrMatches","name_2","findMatchingNodes","isTreeNode","setEditorHtml","moveSelection","setContentInternal","getNodeFilters","getAttributeFilters","setContentTree","forcedRootBlockName","padd","isRootContent","setContentString","sibling$2","ensureIsRoot","closest$2","transformed","ancestor$3","isEq$2","matchesUnInheritedFormatSelector","formatList","inherit","matchParents","matchNode","matchName","matchItems","itemName","similar","onmatch","closest$3","rawElm","findMap","matchAllOnNode","formatNames","matchSimilar","isVariableValue","field","fieldValues","isVariableFormatName","ZWSP$1","CARET_ID$1","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","fill","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","formatNode","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","insertCaretContainerNode","cleanedFormatNode","validFormats","matchedFormats","fmtName","clonedFormatNode","cleanFormatNode","caretTextNode","setup$3","keyCode","disableCaretContainer","isFormatElement","postProcessHooks","filter$4","each$8","addPostProcessHook","blocks","isPre","getSelectedBlocks","pre1","pre2","each$9","isElementNode","findElementSibling","mergeSiblingsNodes","tmpSibling","elementUtils","mergeSiblings","merge_siblings","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","removeResult","MCE_ATTR_RE","each$a","isEq$3","isChildOfInlineParent","lastIdx","normalizeTableSelection","isTableCellOrRow","childNode","wrap$2","wrapWithSiblings","find$3","removeFormatInternal","compareNode","stylesModified","matchName$1","links","isColorFormatAndAnchor","preserve_attributes","attrsToPreserve","remove_similar","valueOut","rootBlockElm","forcedRootBlock","list_block","forced_root_block_attrs","removeNode$1","removeFormat","newName","removeFormatFromClone","remove$6","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","lastContentEditable","isRemoveBookmarkNode","removeRngStyle","textDecoration","ceFalseOverride","each$b","mergeWithChildren","clear_child_styles","clearChildStyles","each$c","hasFormatProperty","applyFormat","setElementFormat","fmt","onformat","styleVal","applyNodeStyle","applyRngStyle","nodeSpecific","wrapElm","currentWrapElm","parentName","canFormatEmptyLines","validBRParentElements","figcaption","summary","hasCaretNodeSibling","canFormatBR","getChildElementNode","isElementNode$1","childCount","isEmptyTextNode","getChildCount","mergeStyles","merge_with_parents","mergeWithParents","mergeBackgroundColorAndFontSize","processTextDecorationsAndColor","mergeTextDecorationsAndColor","mergeSubSup","wordcharRegex","importNode","applyCaretFormat","curSelNode","firstFormat","forced_root_block","defaultBlock","fake","postProcess","formatItem","updateAndFireChangeCallbacks","currentFormats","formatChangeData","formatsList","newFormats","remainingFormats","filterRemainingFormats","formatChangedInternal","registeredFormatListeners","formats","setup$4","formatChangeItems","addListeners","removeListeners","fromElements","tableModel","tableRow","cellPosition","getSpan","cellExists","getWidth","row","findElementPos","extractRows","newRows","fromDom$1","tableElm","rowspan","colspan","y2","x2","fillout","skipCellsX","toDom","tableElement","tableBody","createDomTable","modelRowsToDomRows","subsection","subTable","getFullySelectedListWrappers","_li","findParentListContainer","listCont","listElm","listStyles","_style","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","wrapped","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","read$1","getSelectionFragment","isCollapsibleWhitespace","getInnerText","bin","shouldTrim","trimLeadingCollapsibleText","getSelectedContentInternal","parentBlockOpt","contextNodeName","getContextNodeName","shouldTrimSpaces","nonRenderedText","parentBlockText","textIndex","getTextContent","tmpElm","contextual","getSerializedContent","getOuterHtml","insertAt","createFragment$1","fragments","vDown","vUp","buildScript","buildSnake","getMiddleSnake","currentFragments","removeAt","applyDiff","start1","end1","start2","end2","diag","i2","snake","sum","undoLevelDocument","createFromEditor","trimmedFragments","trimmed","beforeBookmark","createFragmentedLevel","createCompleteLevel","applyToEditor","level","getLevelContent","getCleanLevelContent","implementation","createHTMLDocument","isEq$4","level1","level2","hasEqualContent","hasEqualCleanedContent","isUnlocked","locks","setTyping","typing","endTyping","makePlainAdaptor","beforeChange","addUndoLevel","currentLevel","lastLevel","bm","customUndoRedoLevels","getCustomUndoRedoLevels","setDirty","undo","redo","hasUndo","hasRedo","ignore","callback1","callback2","matchAll","matchedFormatNames","checkedMap","canApply","formatChanged","getContentInternal","insertContent","hasVisual","isVisualAidsEnabled","matchedElm","getVisualAidsTableClass","value_1","cls_1","getVisualAidsAnchorClass","addVisualInternal","getModel","isRtc","plugins","setup$5","editorCast","rtcPlugin","getRtcSetup","rtcInstance","rtcEditor","defaultVars","unsupported","_undoManager","_locks","_index","_node","_similar","_rfl","_format","_details","getRawModel","makeRtcAdaptor","rtc","isRemote","nul","makeNoopAdaptor","getRtcInstanceWithFallback","getRtcInstanceWithError","getContent$1","getSelectedContent","mergeAndNormalizeText","outerNode","outer","outerElm","oldLength","walkPastBookmark","normalizeTextIfRequired","setContent$1","contentArgs","setupArgs","contextBlock","contextArgs","cleanContent","prevText","nextText","rngSetContent","createContextualFragment","deleteFromCallbackMap","newCallbacks","merger","isNativeIeSelection","isAttachedToDom","EditorSelection","selectedRange","explicitRange","selectorChangedWithUnbind","selectorChangedData","currentSelectors","matchedSelectors","SelectorChanged","getRng$1","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","anchorNode","START_TO_START","END_TO_END","isValidRange","ieRange","removeAllRanges","addRange","setBaseAndExtent","focusNode","isForward","anchorRange","anchorOffset","focusRange","focusOffset","bookmarkManager","controlSelection","select$1","compareEndPoints","setNode","getNode$1","endElm","selectedBlocks","selectorChanged","getScrollContainer","scrollContainer","scrollElementIntoView","placeCaretAt","addFontToSpansFilter","domParser","fontSizes","face","removeAttrs","addFilters","convert_fonts_to_spans","font_size_legacy_values","addStrikeToSpanFilter","parseDataUri$1","uriParts","buildBlob","uriToBlob","rejectWithError","xhr_1","blobUriToBlob","imageToBlobInfo","blobCache","base64","blobInfo","getByData","getByUri","reader","onloadend","blobToDataUri","dataUri","ImageScanner","uploadStatus","cachedPromises","images","getAllImages","isUploaded","promises","imageInfo","newPromise","paddEmptyNode","blockElements","padd_empty_with_br","hasOnlyChild","isEmpty$2","whitespaceElements","isPadded","registerBase64ImageFilter","blob_cache","processImage","inputSrc","isInternalImageSource","isBogusImage","parseDataUri","images_dataimg_filter","imgElem_1","Image","isValidDataImg","blobUri","addAttributeFilter","makeMap$4","each$d","explode$2","extend$2","DomParser","matchedNodes","matchedAttributes","root_name","filterNode","fi","fl","isInWhiteSpacePreservedElement","invalidChildren","rootBlockName","getRootBlockName","whiteSpaceElements","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","createNode","removeWhitespaceBefore","textNodeNext","textVal","cloneAndExcludeBlocks","isLineBreakNode","attrFiltersLen","tempNode","isPaddedWithNbsp","newParent","currentNode","nonSplitableElements","textBlockElements","fixed","fixInvalidChildren","rootBlockNode","addRootBlocks","remove_trailing_brs","prevName","newRel","allow_unsafe_link_target","appendRel","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","register$2","inline_styles","register$1","hasEventListeners","shouldFireEvent","oldDoc","impl","firePreProcess","preProcess","addTempAttr","htmlParser","toHtml","firePostProcess","postProcess$1","serializeNode","DomSerializerImpl","internalName","register$3","getHtmlFromNode","brNode1","brNode2","trimTrailingBr","parseHtml","addRules","rules","setRules","DomSerializer","domSerializer","getContent$2","setContent$2","DOM$3","safeDestroy","remove$7","editorUpload","is_removing","unbindAllNativeEvents","hasHiddenInput","fireRemove","orgDisplay","restoreOriginalStyles","fireDetach","automatic","destroyed","_beforeUnload","formElement","_mceOldSubmit","submit","formEventDelegate","restoreForm","contentAreaContainer","editorContainer","bodyElement","clearDomReferences","hasOwnProperty$2","deepMerge","curObject","deviceDetection","legacyMobilePlugins","defaultTouchSettings","table_grid","object_resizing","normalizePlugins","pluginNames","trimmedPlugins","extractSections","sections","sectionResult","hasSection","getToolbarMode","getDefaultMobileSettings","mobileSettings","defaultMobileSettings","toolbar_mode","toolbar_sticky","menubar","getExternalPlugins$1","overrideSettings","userDefinedExternalPlugins","external_plugins","getPlatformPlugins","isMobileDevice","desktopPlugins","mobilePlugins","section","isSectionTheme","processPlugins","defaultOverrideSettings","forcedPlugins","forced_plugins","mobileConfig","getSectionConfig","combinedPlugins","combinePlugins","combineSettings","defaultSettings","defaultDeviceSettings","mobile","extendedSettings","isOnMobile","sectionSettings","getSection","getEditorSettings","documentBaseUrl","baseDefaults","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","visual","hidden_input","convertURL","getDefaultSettings","getFiltered","getParamObject","IconManager","iconPack","icons","getProp","propName","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","isXYInContentArea","bodyElm","transposedPoint","getBoundingClientRect$1","transpose","isInsideElementContentArea","isEditorAttachedToDom","rawContainer","getContentAreaContainer","NotificationManager","notifications","getImplementation","unimplemented","getNotificationManagerImpl","getArgs","getTopNotification","closeNotification","notification","otherNotification","spec","fireEvent","progressBar","getEl","addNotification","serviceMessage","getServiceMessage","getNotifications","BreakType","WindowManager","dialogs","getWindowManagerImpl","openUrl","alert","getParams","setParams","funcBind","addDialog","dialog","fireOpenEvent","closeDialog","fireCloseEvent","otherDialog","storeSelectionAndOpenDialog","openDialog","windowManagerImpl","displayNotification","notificationManager","displayError","_skinLoaded","logError","createLoadError","pluginLoadError","initError","getContentCssUrls","transformToUrls","contentCss","getContentCss","cssLinks","skinUrl","contentCssFile","isContentCssSkinName","documentBaseURI","toAbsolute","appendContentCssFromSettings","contentCSS","getFontCssUrls","UploadStatus","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","count$1","rnd","Uploader","pendingPromises","defaultHandler","credentials","path1","path2","json","basePath","handlerSuccess","handlerFailure","resolvePending","uploadBlobs","blobInfos","openNotification","pendingUploadBlobInfo","closeNotification_1","failureOptions","percent","uploadBlobInfo","createUploader","EditorUpload","uploader","imageScanner","toBlobInfo","mime","findFirst","cachedBlobInfo","removeByUri","BlobCache","urlFilters","changeHandler","lastChangedLevel","fireIfChanged","UploadChangeHandler","aliveGuard","replaceString","replaceImageUrl","targetUrl","replacementUrl","replacementString","replaceUrlInUndoStack","uploadImages","scanForImages","imageInfos","imagesToRemove","filteredResult","uploadInfo","shouldReplaceBlobUris","replaceImageUriInView","uploadError","uploadUri","uploadImagesAuto","isValidDataUriImage","imgElm","getImagesDataImgFilter","dataImgFilter","resultItem","replaceBlobUris","source_view","addFilter","FormatRegistry","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","aligncenter","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","fontFamily","fontsize","fontSize","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","_fmt","_itemName","removeformat","get$a","getFormats","unregister","each$e","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","parentCandidate","ancestorName","parentRequired","elmRule","getRequiredParent","siblingElm","parseSelectorItem","$0","$3","$4","getCssText","previewFrag","parentFontSize","previewCss","previewStyles","getPreviewStyles","removeVars","previewOpt","previewElm","Formatter","formatChangeState","addShortcut","setup$6","applyFormat$1","removeFormat$1","toggleFormat","matchFormat","closestFormat","matchAllFormats","matchNodeFormat","canApplyFormat","UndoManager","beforeChange$1","addUndoLevel$1","undo$1","redo$1","clear$1","reset$1","hasUndo$1","hasRedo$1","transact$1","ignore$1","extra$1","isFirstTypedCharacter","addNonTypingUndoLevel","cmd","command","isDirty","modKey","isInsertFromPasteOrDrop","registerEvents$1","addKeyboardShortcuts","nonTypingKeycodes","placeholderAttr","isKeyboardEvent","isDeleteEvent","setup$7","getPlaceholder","updatePlaceholder","isNonTypingKeyboardEvent","showPlaceholder","isTypingKeyboardEvent","isForcedRootBlockFalse","isVisuallyEmpty","firePlaceholderToggle","strongRtl","isInlineTarget","getInlineBoundarySelector","isRtl$1","findRootInline","findInlineParents","normalizePosition","normalizeForwards","normalizeBackwards","getParentBlock$1","isBeforeRoot","paddEmptyBody","placeCaretInEmptyBody","blockBoundary","getBlockPosition","containerElm","blockPosition","readFromRange","fromBlockPos","toBlockPos","blockPos","lastPositionInBlock","skipLastBr","isDifferentBlocks","parent1","parent2","hasSameParent","isEditable","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","nestedBlockMerge","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","parentsAndSelf$1","findInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","block1","block2","backspaceDelete$1","read$3","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange$1","emptyEditor","deleteRangeMergeBlocks","backspaceDelete$2","_forward","isContentEditableTrue$2","isContentEditableFalse$7","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","isBeforeBoundary","isAfterBoundary","deleteContentAndShowCaret","peekCaretPosition","caretRange","trimEmptyTextNode$1","backspaceDelete$3","getNextPosFn","isBeforeFn","nextCaretPosition","deleteBoundaryText","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","getAncestorCe","backspaceDeleteCaret","selectedNode","read$4","hideFakeCaret","deleteElement$1","backspaceDeleteRange","paddEmptyElement","backspaceDelete$4","backspaceDelete$5","deleteCaret$1","isText$8","startsWithCaretContainer$1","endsWithCaretContainer$1","createZwsp","insertInline$1","insertBefore$1","insertAfter$1","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","evaluateUntil","fns","Location","rescope","before$4","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","after$3","isValidLocation","readLocation","getName","outside","inside","betweenInlines","fromInline","toInline","hasSameParentBlock","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation","findLocationTraverse","moveRel","modify","moveByWord","hasSelectionModifyApi","VDirection","flip","positions","walk$3","getBreakType","currentPos","nextPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastRect","newRect","lastDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","getNodeClientRects","toArrayWithNode","customEventRootDelegates","beforeUnloadDelegate","walkUntil","isAboveFn","isBeflowFn","line","targetClientRect","findUntil$1","upUntil","Up","downUntil","Down","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","isContentEditableFalse$8","findNode$1","distanceToRectLeft","distanceToRectRight","isInsideX","isInsideY","findClosestClientRect","oldClientRect","oldDistance","newDistance","walkUntil$1","includeChildren","closestFakeCaret","fakeTargetNodeRects","getFakeCaretTargets","targetNodeRects","closestNodeRect","targetNodeRect","checkPosFn","lineRects","findLineNodeRects","caretInfo","moveToRange","renderRangeCaretOpt","moveHorizontally","isBefore","isAfter","rangeIsInContainerBlock","isRangeInCaretContainerBlock","moveVertically","caretClientRect","linePositions","nextLinePositions","nextLineRect","dist1","dist2","caretPositions","isBelowFn","getClientRect","positionsUntil","closestNextLineRect","getLineEndPoint","moveToLineEndPoint","setCaretPosition","setSelected","renderCaretLocation","safeRemoveCaretContainer","isAtZwsp","move","isInlineTarget$1","findLocation$1","moveWord","_caret","setupSelectedState","inlineBoundaries","selectedInlines","targetInlines","toggleInlines","inlines","_inline","renderInsideInlineCaret","moveNextWord","movePrevWord","moveToLineEndPoint$1","linePoint","outsideLoc","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope$1","toPosition","normalizedFirstPos","normalizedLastPos","hasOnlyTwoOrLessPositionsLeft","backspaceDelete$6","hasOnlyOneChild$1","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret$2","getParentInlines","normalizedFromPos","prevPos","willDeleteLastPositionInElement","backspaceDelete$7","deleteElement$2","backspaceDelete$8","isNearMedia","deleteCaret$3","deleteRange$2","parseIndentValue","getIndentStyleName","useMargin","canOutdent","getBlocksToIndent","isReadOnly","indentStyleName","intentValue","validateBlocks","isListComponent","parentIsListComponent","indentation","getIndentation","indentUnit","indentValue","queryCommandState","styleValue","indentElement","backspaceDelete$9","nativeCommand","setup$8","addCommand","deleteCommand","forwardDeleteCommand","getTouch","setup$9","startData","longpressFired","debounceLongpress","distX","distY","isFarEnough","isEqualNode","isBlockElement","isValidTarget","shouldRemoveTextNode","rootNodeName","hasBlockParent","restoreSelection","blockCaretContainer","removeIeControlRect","handleBlockContainer","findBlockCaretContainer","isContentEditableFalse$9","exitPreBlock","getVisualCaretPosition$1","hasForcedRootBlock","newBlock","textBlock","createTextBlock","getHorizontalRange","moveToCeFalseHorizontally","getVerticalRange","down","moveToCeFalseVertically","moveH","newRange","moveV","moveToLineEndPoint$2","isTarget","rangeBefore","insertElement","insertEmptyLine","insertBr","insertBlock$1","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","rootBlockAttrs","getClosestTargetBlock","moveV$1","match$1","patterns","defaultPatterns","matchesEvent","execute","moveH$1","moveV$2","moveToLineEndPoint$3","getClosestCell$1","getYAxisValue","isTargetCorner","corners","newCorner","oldCorner","oldDist","sqrt","newDist","findClosestCorner","tds","deflate","getCorners","corner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","isAtTableCellLine","lineInfo","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","_td","isCaretAtStartOrEndOfTable","getTable","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","move$1","mover","moveH$2","moveV$3","setup$c","executeKeydownOverride","setup$d","executeKeydownOverride$1","executeKeyupOverride","moveToCaretPosition","firstNonWhiteSpaceNodeSibling","getParentBlock$2","hasParent$1","isListBlock","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","createNewBlock","newBlockName","isFirstChild","tmpRng","hasFirstChild","isEmptyAnchor","emptyBlock","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","getEditableRoot$1","editableRoot","setForcedBlockAttrs","forcedRootBlockAttrs","attrStyles","currentStyles","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","applyAttributes","insert$1","parentBlockName","isAfterLastNodeInContainer","clonedNode","shouldKeepStyles","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","containerBlockName","shouldEndContainerOnEmptyBlock","isTableCell$5","wrapSelfAndSiblingsInDefaultBlock","includeZwspInRange","trimZwsp","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","moveSelectionToBr","brElm","extraBr","insertBrAtCaret","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","insert$2","anchorLocation","readInlineAnchorLocation","newLineAction","shouldBlockNewLine$1","_shiftKey","getNoNewLineSelector","shouldBlockNewLine","isBrMode","requiredState","inListBlock","isListItemParentBlock","inBlock","getParentBlockName","inPreBlock","shouldPutBrInPre$1","shouldPutBrInPre","inBrContext","getBrNewLineSelector","shouldInsertBr","hasShiftKey","_editor","canInsertIntoEditableRoot","rootEditable","getEditableRoot","match$2","predicates","insert$3","getAction$1","setup$e","handleEnterKeyEvent","setup$f","executeKeydownOverride$2","browser$4","setup$g","keypressThrotter","setupIeInput","platform$2","isPageUpDown","setNodeChangeBlocker","blocked","setup$h","executeKeyupAction","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","setSelection$1","setup$i","executeKeydownOverride$3","registerKeyboardOverrides","setup$b","NodeChange","lastRng","lastPath","nativeRng","fakeRng","isSameElementPath","initialized","currentPath","setup$k","preventSummaryToggle","filterDetails","isTextBlockNode","setup$l","normalizeSelection$1","getAbsolutePosition","calc","bodyPosition","getBodyPosition","scrollPosition","getScrollPosition","mousePosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$a","isContentEditableTrue$3","createGhost","clonedElm","overflow","boxSizing","removeElement","start$1","isLeftMouseButtonPressed","ceElm","elmPos","dragging","maxX","maxY","relX","relY","ghost","dragElement","isValidDropTarget","targetClone_1","cloneElm","removeDragState","bindFakeDragEvents","subject","isSet","pageDom","dragStartHandler","dragHandler","throttledPlaceCaretAt","movement","targetPos","applyRelPos","overflowX","moveGhost","move$2","dropHandler","dragEndHandler","realTarget","blockIeDrop","shouldBlockUnsupportedDrop","preventFileDrop","preventFileDropIfUIElement","editorRoot","eventNames","blockUnsupportedFileDrop","isContentEditableTrue$4","isContentEditableFalse$b","getContentEditableRoot$1","SelectionOverrides","selectedElement","fakeCaret","realSelectionId","isFakeSelectionTargetElement","setRange","getRange","isWithinCaretContainer","isRangeInCaretContainer","normalizeShortEndedElementSelection","selectElement","targetClone","origTargetClone","$realSelectionContainer","setupOffscreenSelection","nodeElm","setElementSelection","afterNode","removeElementSelection","contentEditableRoot","hasNormalCaretPosition","hasBetterMouseTarget","targetBlock","fakeCaretInfo","realSelectionElement","clearData","setData","outerText","renderFocusCaret","setup$m","setup$n","Quirks","getAttributeApplyFunction","isSelectionAcrossElements","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","setEditorCommandState","emptyEditorWhenDeleting","serializeRng","allRng","allContentsSelected","selectAll","shortcuts","Range","body_1","selectControlElements","disableBackspaceIntoATable","setGeckoEditingOptions","addBrAfterLastLinks","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","tapLinksAndImages","blockFormSubmitInsideEditor","ieInternalDragAndDrop","selectionHtml","internalContent","escape","setMceInternalContent","getMceInternalContent","internal","queryCommandSupported","setAttributeNode","DOM$4","getRootName","removeUndefined","mkParserSettings","moveSelectionToFirstCaretPosition","storeNative","initEditor","bindPendingEventDelegates","fireInit","execCallback","auto_focus","autoFocus","getStyleSheetLoader","ui","loadContentCss","removeCss","framedFonts","makeStylesheetLoadingPromises","preInit","browser_spellcheck","gecko_spellcheck","spellcheck","firePostRender","directionality","getDirectionality","protect","startContent","contentCssText_1","content_style","appendStyle","initContentBody","skipWrite","orgVisibility","iframeHTML","hex_colors","force_hex_style_colors","createParser","boolean_attributes","move_caret_before_on_enter_elements","non_empty_elements","short_ended_elements","text_inline_elements","whitespace_elements","mkSerializerSettings","annotator","_nodeChangeDispatcher","setup$j","setup$a","firePreInit","loadingRtc","setProgressState","_rtcMode","DOM$5","getIframeHtml","getDocType","getDocumentBaseUrl","getURI","bodyId","getBodyId","bodyClass","getBodyClass","createIframe","ifr","customAttrs","frameBorder","allowTransparency","createIframeElement","getIframeAttrs","isDomainRelaxed","bodyUuid","domainRelaxUrl","relaxDomain","iframeContainer","DOM$6","initPlugin","initializedPlugins","plugin","pluginInstance","pluginInitError","trimLegacyPrefix","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","renderThemeUi","renderUI","renderFromLoadedTheme","iframeHeight","renderFromThemeFunc","init$2","iconPackName","currentIcons","loadIcons","svgData","addIcon","initIcons","Theme","initTheme","initPlugins","renderInfo","uiApiFacade","isDisabled","augmentEditorUiApi","boxInfo","init$1","DOM$7","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","getLanguageUrl","url_1","languageLoadError","getIconsUrlMetaFromName","defaultIconsUrl","customIconsUrl","getIconsUrl","getIconsUrlMetaFromUrl","cat","urlMeta","iconsLoadError","themeUrl","getThemeUrl","loadTheme","getExternalPlugins","depPlugin","url_2","loadPlugins","snapshot","getStyleSheetLoader$1","isInline$1","resetContent","shouldPatchSubmit","triggerSave","windowManager","isEncodingXml","shouldAddFormSubmitTrigger","shouldAddUnloadTrigger","set_dirty","addVisual$1","legacyPropNames","getSpecifiedFontProp","legacyPropName","getProperty","getFontProp","getComputedFontProp","getFontSize","getFontFamily","findFirstCaretElement","mapRange","mapper","getCaretElement","fromFontSizeNumber","fontSizeNumber","getFontStyleValues","fontClasses","getFontSizeClasses","normalizeFontNames","font","fonts","insertAtCaret$1","processValue","each$f","map$3","inArray$2","EditorCommands","commands","setupCommands","skip_focus","customCommand","queryCommandValue","addCommands","commandList","addQueryStateHandler","addQueryValueHandler","hasCustomCommand","execNativeCommand","isFormatMatch","storeSelection","selectionBookmark","queryCommandEnabled","align","listParent","fontNameAction","fontSizeAction","lineHeightAction","anchor","editingHost","selectNodeContents","alignStates","Undo","Redo","fontNameQuery","fontSizeQuery","lineHeightQuery","internalContentEditableAttr","setContentEditable","toggleReadOnly","removeFakeSelection","switchOnContentEditableTrue","restoreFakeSelection","isReadOnly$1","registerFilters","processReadonlyEvents","isClickEvent","getAnchorHrefOpt","targetEl","numChars","removeFromStart","nativeEvents","EventDispatcher","bindings","toggleEvent","isNative","nameIn","argsIn","beforeFire","wrappedCallback","currentName","bindingName","hi","getEventDispatcher","_eventDispatcher","toggleNativeEvent","Observable","bubble","dispatcherArgs","DOM$8","getEventTarget","eventRoot","isListening","bindEventDelegate","delegate","delegates","eventRootElm","editors","EditorObservable","_pendingNativeEvents","defaultModes","switchToMode","activeMode","availableModes","oldMode","newMode","activate","deactivate","editorReadOnly","fireSwitchMode","create$5","design","registerReadOnlyContentFilters","registerReadOnlySelectionBlockers","setMode","registerMode","each$g","explode$3","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","parseShortcut","shortcut","charCode","access","ctrl","meta","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","matchShortcut","subpatterns","executeShortcutAction","cmdFunc","normalizeCommandFunc","createShortcut","bridge","menuItems","popups","contextMenus","contextToolbars","sidebars","addButton","addGroupToolbarButton","addToggleButton","addMenuButton","addSplitButton","addMenuItem","addNestedMenuItem","addToggleMenuItem","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","create$6","each$h","trim$4","queryParts","DEFAULT_PORTS","mailto","URI","baseUri","base_uri","isProtocolRelative","toAbsPath","urlMatch","userInfo","uriComponents","setPath","pathMatch","toRelative","relativeUri","tu","uu","toRelPath","noHost","absoluteUri","isSameOrigin","defaultPort","breakPoint","normalizedBase","outPath","nb","normalizedPath","noProtoHost","DOM$9","extend$3","each$i","resolve$3","ie$1","Editor","loadedCSS","isNotDirty","documentBaseURL","base_url","_setBaseUrl","baseURI","referrer_policy","language_load","editorCommands","cache_suffix","modeInstance","callbackLookup","hasPlugin","initialContent","oldState","urlconverter_callback","_scanForImages","DOM$a","explode$4","each$j","extend$4","instanceCounter","boundGlobalEvents","legacyEditors","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","tinymce","tinyMCEPreInit","srcScript","currentScript","pluginBaseUrls","plugin_base_urls","pluginBaseUrl","invalidInlineTargets","createId","provideResults","initEditors","initCount","createEditor","forms","editor_deselector","editor_selector","findTargets","isInvalidInlineTarget","addI18n","tasks","resultFns","extendClass","initializing","round$1","relativePosition","targetW","targetH","relChars","create$7","Rect","inflate","findBestRelativePosition","constrainRect","rels","intersect","cropRect","x1","y1","clampRect","fixedSize","cx2","cy2","underflowX1","underflowY1","overflowX2","overflowY2","fromClientRect","Resource","loadErrMsg","runErrMsg","task","waiter","resolveCb","rejectCb","completer","awaiter","each$k","extend$5","mixins","Mixins","Methods","fieldName","Statics","Defaults","member","localStorage","min$1","max$1","round$2","JSONUtils","stringify","hexCode","JSONP","XHR","ready","async","success_scope","error_scope","overrideMimeType","content_type","crossDomain","requestheaders","extend$6","JSONRequest","sendRPC","ecb","scb","xhrArgs","ty","setItem","removeItem","storage","getItem","publicApi","geom","util","LocalStorage","Color","saturation","brightness","side","chroma","hsvToRgb","toRgb","toHsv","minRGB","maxRGB","rgb2hsv","ImageUploader","showNotification","TreeWalker","Serializer","Selection","isMac","tinyMCE","exportToWindowGlobal","exportToModuleLoaders","BootstrapSwal","Alerts","prompt","autocapitalize","updateColorFieldValue","elemId","colorHex","getColor","pickrs","pickr","proxy","hoodDataList","pageUrl","listUrl","reload","$form","history","pushState","newurl","Inline","linkClasses","imageClasses","richTextEditors","colorPickers","eventSource","toolbar","link_class_list","image_class_list","image_dimensions","content_css","currentEditor","mediaModal","ModalController","onComplete","sender","service","MediaService","beforeAction","mediaObject","onAction","onListLoad","onListRender","onListComplete","jqXHR","textStatus","errorThrown","ScrollToTop","ScrollToTarget","SlideToAnchor","SubmitOnChange","DateChange","CheckboxChange","SelectSetup","SelectTextContent","ClickSelect","ClickSelectClean","IconSelector","$target","$header","headerOffset","$field","date","hour","minute","vals","mouseup","targetId","isNullOrUndefined","rc","insertQueryStringParamToUrl","kvp","Editors","Handlers","setupLoaders","MediaModal","$tag","onLoad","handleError","post","Loader","galleryInitialised","selectedMedia","delete","createDirectory","deleteDirectory","media","DataList","initUploader","galleryAdd","uploadButton","progressArea","progressText","Response","totalProgress","createDirectoryModal","Validator","uploadUrl","attach","galleryClick","currentBlade","thumbUrl","smallUrl","mediumUrl","largeUrl","refresh","mediaId","isMediaSelected","mediaIds","added","genericFileType","$image","initGallery","dataset","hoodMediaTarget","hoodMedia","hoodMediaUrl","hoodMediaRefresh","hoodMediaSize","closePrevious","createElementFromHTML","Modal","dispose","htmlString","autoHide","errors","singleImage","gallery","refreshImage","jsontag","avatarDropzone","previewNode","galleryDropzone","errorAlert","serializationFunction","submitForm","checkboxes","onSubmit","restrictPattern","restrictHandler","newVal","characterCounterHandler","formatCurrency","currency","formatKilobytes","formatMegabytes","htmlEncode","htmlDecode","pick","shuffle","toSeoUrl","bootstrap","__webpack_require__","cachedModule"],"mappings":";oEAC+LA,OAA9HC,EAAOC,QAAiJ,SAASC,GAAG,IAAIC,EAAE,GAAG,SAASC,EAAEC,GAAG,GAAGF,EAAEE,GAAG,OAAOF,EAAEE,GAAGJ,QAAQ,IAAIK,EAAEH,EAAEE,GAAG,CAACC,EAAED,EAAEE,GAAE,EAAGN,QAAQ,IAAI,OAAOC,EAAEG,GAAGG,KAAKF,EAAEL,QAAQK,EAAEA,EAAEL,QAAQG,GAAGE,EAAEC,GAAE,EAAGD,EAAEL,QAAQ,OAAOG,EAAEK,EAAEP,EAAEE,EAAEM,EAAEP,EAAEC,EAAEO,EAAE,SAAST,EAAEC,EAAEE,GAAGD,EAAEA,EAAEF,EAAEC,IAAIS,OAAOC,eAAeX,EAAEC,EAAE,CAACW,YAAW,EAAGC,IAAIV,KAAKD,EAAEY,EAAE,SAASd,GAAG,oBAAoBe,QAAQA,OAAOC,aAAaN,OAAOC,eAAeX,EAAEe,OAAOC,YAAY,CAACC,MAAM,WAAWP,OAAOC,eAAeX,EAAE,aAAa,CAACiB,OAAM,KAAMf,EAAEF,EAAE,SAASA,EAAEC,GAAG,GAAG,EAAEA,IAAID,EAAEE,EAAEF,IAAI,EAAEC,EAAE,OAAOD,EAAE,GAAG,EAAEC,GAAG,iBAAiBD,GAAGA,GAAGA,EAAEkB,WAAW,OAAOlB,EAAE,IAAIG,EAAEO,OAAOS,OAAO,MAAM,GAAGjB,EAAEY,EAAEX,GAAGO,OAAOC,eAAeR,EAAE,UAAU,CAACS,YAAW,EAAGK,MAAMjB,IAAI,EAAEC,GAAG,iBAAiBD,EAAE,IAAI,IAAII,KAAKJ,EAAEE,EAAEO,EAAEN,EAAEC,EAAE,SAASH,GAAG,OAAOD,EAAEC,IAAImB,KAAK,KAAKhB,IAAI,OAAOD,GAAGD,EAAEC,EAAE,SAASH,GAAG,IAAIC,EAAED,GAAGA,EAAEkB,WAAW,WAAW,OAAOlB,EAAEqB,SAAS,WAAW,OAAOrB,GAAG,OAAOE,EAAEO,EAAER,EAAE,IAAIA,GAAGA,GAAGC,EAAEA,EAAE,SAASF,EAAEC,GAAG,OAAOS,OAAOY,UAAUC,eAAejB,KAAKN,EAAEC,IAAIC,EAAEsB,EAAE,GAAGtB,EAAEA,EAAEuB,EAAE,GAAj5B,CAAq5B,CAAC,SAASzB,EAAEC,EAAEC,GAAG,aAAaA,EAAEY,EAAEb,GAAG,IAAIE,EAAE,GAAG,SAASC,EAAEJ,EAAEC,EAAEC,EAAEC,EAAEC,EAAE,IAAIH,aAAayB,gBAAgBzB,aAAa0B,SAAS1B,EAAE2B,MAAMC,KAAK5B,GAAG2B,MAAME,QAAQ7B,KAAKA,EAAE,CAACA,IAAI2B,MAAME,QAAQ5B,KAAKA,EAAE,CAACA,IAAI,IAAI,MAAMY,KAAKb,EAAE,IAAI,MAAMA,KAAKC,EAAEY,EAAEd,GAAGC,EAAEE,EAAE,CAAC4B,SAAQ,KAAM3B,IAAI,OAAOwB,MAAMN,UAAUU,MAAM1B,KAAK2B,UAAU,GAAG/B,EAAEY,EAAEX,GAAGD,EAAEO,EAAEN,EAAE,MAAK,WAAY,OAAOW,KAAKZ,EAAEO,EAAEN,EAAE,OAAM,WAAY,OAAOsB,KAAKvB,EAAEO,EAAEN,EAAE,2BAA0B,WAAY,OAAO+B,KAAKhC,EAAEO,EAAEN,EAAE,sBAAqB,WAAY,OAAOE,KAAKH,EAAEO,EAAEN,EAAE,aAAY,WAAY,OAAOK,KAAKN,EAAEO,EAAEN,EAAE,kBAAiB,WAAY,OAAOqB,KAAKtB,EAAEO,EAAEN,EAAE,0BAAyB,WAAY,OAAOgC,KAAK,MAAMrB,EAAEV,EAAEgB,KAAK,KAAK,oBAAoBK,EAAErB,EAAEgB,KAAK,KAAK,uBAAuB,SAASc,EAAElC,GAAG,MAAMC,EAAEmC,SAASC,cAAc,OAAO,OAAOpC,EAAEqC,UAAUtC,EAAEuC,OAAOtC,EAAEuC,kBAAkB,SAASnC,EAAEL,GAAG,MAAMC,EAAE,CAACD,EAAEC,KAAK,MAAMC,EAAEF,EAAEyC,aAAaxC,GAAG,OAAOD,EAAE0C,gBAAgBzC,GAAGC,GAAGA,EAAE,CAACF,EAAEG,EAAE,MAAM,MAAMC,EAAEH,EAAED,EAAE,QAAQc,EAAEb,EAAED,EAAE,QAAQyB,EAAErB,EAAED,EAAEC,GAAG,GAAGD,EAAEW,IAAIX,EAAEW,GAAGd,GAAG,IAAI,MAAMG,KAAKyB,MAAMC,KAAK7B,EAAE2C,UAAU,CAAC,MAAM3C,EAAEC,EAAEE,EAAE,QAAQC,EAAEF,EAAEC,EAAEH,EAAE,GAAGyB,GAAGzB,IAAIyB,EAAEzB,KAAKyB,EAAEzB,GAAG,KAAK4C,KAAKlC,OAAOmC,KAAKzC,GAAG0C,OAAO1C,EAAED,GAAG,OAAOA,GAAG,OAAOD,EAAEgC,EAAElC,IAAI,SAASQ,EAAER,GAAG,IAAIC,EAAED,EAAE+C,MAAM/C,EAAEgD,cAAchD,EAAEgD,eAAe,GAAG/C,EAAE,OAAOA,EAAE,IAAIC,EAAEF,EAAEiD,OAAOC,cAAc,IAAIjD,EAAE,CAACD,EAAEiD,OAAO/C,GAAGA,EAAEA,EAAEgD,eAAejD,EAAE2C,KAAK1C,GAAG,OAAOD,EAAE2C,KAAKR,SAASvC,QAAQI,EAAE,SAASuB,EAAExB,GAAG,OAAOA,aAAamD,QAAQnD,EAAE,iBAAiBA,EAAEA,EAAEoD,MAAM,OAAOC,QAAO,CAACrD,EAAEC,EAAEC,EAAEC,KAAKH,EAAEA,EAAEsD,cAAcrD,GAAGC,EAAEC,EAAE2C,OAAO,EAAE9C,EAAEuD,WAAWvD,IAAGoC,UAAU,KAAK,SAASD,EAAEnC,EAAEC,EAAE,CAACD,GAAGA,IAAI,SAASE,EAAEA,GAAG,MAAMC,EAAE,CAAC,KAAK,IAAI,IAAIqD,OAAOtD,EAAEuD,UAAU,EAAEvD,EAAEwD,WAAWxD,EAAEyD,OAAO,EAAE,GAAG,GAAG,IAAIvD,EAAE,EAAEU,EAAEd,EAAE4D,eAAe5D,EAAEiB,MAAMjB,EAAEiB,MAAM4C,QAAQ,WAAU,CAAC7D,EAAEE,IAAIA,GAAGY,GAAGZ,EAAEF,EAAE8C,QAAQhC,GAAGA,EAAEZ,EAAED,EAAEuD,OAAOxD,GAAGG,EAAEC,KAAKA,IAAIJ,KAAIA,EAAE8D,QAAQ9D,EAAE+D,kBAAkBjD,EAAEA,GAAGZ,EAAE8D,iBAAiBhE,EAAEiE,cAAc,IAAIC,MAAM,UAAUpD,EAAEd,EAAE,SAAQ,IAAIc,EAAEjB,OAAO,QAAQK,EAAE,CAACiE,SAAQ,MAAMrD,EAAEd,EAAE,QAAO,IAAIyB,EAAE5B,OAAO,QAAQK,KAAI,MAAMkE,IAAIC,EAAEC,IAAI7D,EAAE8D,MAAMC,EAAEC,MAAMlE,GAAGmE,KAAK,SAASC,EAAE3E,EAAEC,EAAEC,GAAGD,GAAG,IAAIC,GAAG,IAAI,MAAMC,EAAEqE,EAAExE,EAAEA,EAAE,IAAI,GAAGI,EAAEJ,EAAEG,EAAEW,EAAEZ,GAAG,EAAED,GAAGwB,EAAEvB,GAAG,EAAEE,EAAEH,GAAGiC,EAAEhC,GAAG,GAAG,EAAEE,GAAGH,GAAGI,EAAEF,EAAE,EAAE,MAAM,CAAC,IAAI,CAACD,EAAEuB,EAAEX,EAAEA,EAAEoB,EAAEhC,GAAGG,GAAG,IAAI,CAAC6B,EAAEhC,EAAEA,EAAEuB,EAAEX,EAAEA,GAAGT,GAAG,IAAI,CAACS,EAAEA,EAAEoB,EAAEhC,EAAEA,EAAEuB,GAAGpB,IAAI,SAASuE,EAAE5E,EAAEC,EAAEC,GAAG,MAAMC,GAAG,GAAGF,GAAG,OAAOC,GAAG,KAAK,EAAE,OAAO,IAAIC,IAAIF,EAAE,IAAIE,EAAE,EAAEA,EAAE,GAAGF,EAAEC,GAAG,EAAEC,GAAGF,EAAEC,GAAG,EAAE,EAAEC,IAAI,CAACH,EAAE,IAAIC,EAAE,IAAIE,GAAG,SAAS0E,EAAE7E,EAAEC,EAAEC,GAAG,MAAMC,EAAEkE,EAAErE,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKE,EAAEK,EAAET,EAAEC,EAAEC,GAAGY,EAAEV,EAAED,EAAE,IAAIsB,EAAES,EAAE,GAAG,IAAIpB,EAAEW,EAAES,EAAE,MAAM,CAACA,EAAEpB,EAAEV,EAAE,MAAMD,IAAIC,EAAEJ,GAAG,EAAEc,EAAE,GAAGA,EAAET,IAAID,EAAEH,GAAG,EAAEa,EAAE,GAAGA,EAAEN,IAAIJ,EAAEF,GAAG,EAAEY,EAAE,GAAGA,EAAEd,IAAII,EAAEqB,EAAEjB,EAAEH,EAAEJ,IAAIG,EAAEqB,EAAE,EAAE,EAAEtB,EAAEK,EAAEN,IAAIE,IAAIqB,EAAE,EAAE,EAAEpB,EAAEF,GAAGsB,EAAE,EAAEA,GAAG,EAAEA,EAAE,IAAIA,GAAG,GAAG,MAAM,CAAC,IAAIA,EAAE,IAAIS,EAAE,IAAI9B,GAAG,SAAS0E,EAAE9E,EAAEC,EAAEC,EAAEC,GAAiB,OAAdF,GAAG,IAAIC,GAAG,IAAU,IAAI2E,EAAE,KAAK,EAAER,EAAE,GAAGrE,GAAG,MAAM,GAAGG,GAAG,MAAMA,IAAI,KAAK,EAAEkE,EAAE,EAAEpE,GAAG,EAAEE,GAAGA,IAAI,KAAK,EAAEkE,EAAE,EAAEnE,GAAG,EAAEC,GAAGA,MAAM,SAAS4E,EAAE/E,EAAEC,EAAEC,GAAGD,GAAG,IAAI,MAAME,EAAE,GAAGF,IAAIC,GAAG,KAAK,GAAGA,EAAE,EAAEA,IAAIA,EAAED,GAAG,IAAIG,EAAE,KAAKF,EAAED,GAAG,MAAM,CAACD,EAAEgF,MAAM7E,GAAG,EAAEA,EAAEC,GAAG,SAAS6E,EAAEjF,GAAG,OAAO6E,KAAK7E,EAAEkF,MAAM,SAASC,KAAInF,GAAGoF,SAASpF,EAAE,OAAM,SAASqF,EAAErF,GAAGA,EAAEA,EAAEkF,MAAM,eAAe,SAASlF,GAAG,GAAG,UAAUA,EAAEsF,cAAc,MAAM,OAAO,MAAMrF,EAAEmC,SAASC,cAAc,UAAUkD,WAAW,MAAM,OAAOtF,EAAEuF,UAAUxF,EAAE,SAASC,EAAEuF,UAAU,KAAKvF,EAAEuF,UAAjK,CAA4KxF,GAAGA,EAAE,MAAMC,EAAE,CAACwF,KAAK,6DAA6DC,KAAK,wEAAwEC,KAAK,wEAAwEC,KAAK,wEAAwEC,KAAK,4DAA4D3F,EAAEF,GAAGA,EAAEmF,KAAInF,GAAG,oBAAoB8F,KAAK9F,GAAGwD,OAAOxD,QAAG,IAAQ,IAAIG,EAAEH,EAAE,IAAI,MAAMI,KAAKH,EAAE,CAAC,KAAKE,EAAEF,EAAEG,GAAG2F,KAAK/F,IAAI,SAAS,MAAMc,EAAEd,KAAKG,EAAE,KAAK,iBAAiBH,GAAG,OAAOI,GAAG,IAAI,OAAO,CAAC,MAAM,CAACJ,EAAEC,EAAEa,EAAEW,GAAGvB,EAAEC,GAAG,GAAGH,EAAE,KAAKC,EAAE,KAAKa,EAAE,KAAKW,EAAE,IAAI,MAAMzB,EAAE,MAAM,CAACgG,OAAOlB,EAAE9E,EAAEC,EAAEa,EAAEW,GAAGwE,KAAK7F,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAACJ,EAAEC,EAAEwB,EAAES,GAAGhC,EAAEC,GAAG,GAAGH,EAAE,KAAKC,EAAE,KAAKwB,EAAE,KAAKS,EAAE,GAAGA,EAAE,IAAIpB,EAAEoB,GAAG,MAAMlC,EAAE,MAAM,CAACgG,OAAO,IAAInB,EAAE7E,EAAEC,EAAEwB,GAAGS,GAAGA,EAAEA,EAAE+D,KAAK7F,GAAG,IAAI,OAAO,CAAC,IAAI,CAACJ,GAAGG,EAAE,IAAIH,EAAE8C,QAAQ,IAAI9C,EAAE8C,SAAS9C,EAAEA,EAAEoD,MAAM,IAAI+B,KAAInF,GAAGA,EAAEA,IAAGkG,KAAK,KAAK,MAAMjG,EAAED,EAAEmG,UAAU,EAAE,GAAG,IAAIjG,EAAEF,EAAEmG,UAAU,GAAG,OAAOjG,EAAEA,EAAEkF,SAASlF,EAAE,IAAI,SAAI,EAAO,CAAC8F,OAAO,IAAIf,EAAEhF,GAAGC,GAAGgC,EAAEhC,EAAE+F,KAAK7F,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAACJ,EAAEC,EAAEwB,EAAES,GAAGhC,EAAEC,GAAG,GAAGH,EAAE,KAAKC,EAAE,KAAKwB,EAAE,KAAKS,EAAE,GAAGA,EAAE,IAAIpB,EAAEoB,GAAG,MAAMlC,EAAE,MAAM,CAACgG,OAAO,IAAIjB,EAAE/E,EAAEC,EAAEwB,GAAGS,GAAGA,EAAEA,EAAE+D,KAAK7F,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAACJ,EAAEC,EAAEwB,EAAES,GAAGhC,EAAEC,GAAG,GAAGH,EAAE,KAAKC,EAAE,KAAKwB,EAAE,KAAKS,EAAE,GAAGA,EAAE,IAAIpB,EAAEoB,GAAG,MAAMlC,EAAE,MAAM,CAACgG,OAAO,CAAChG,EAAEC,EAAEwB,EAAES,GAAGA,EAAEA,EAAE+D,KAAK7F,KAAK,MAAM,CAAC4F,OAAO,KAAKC,KAAK,MAAM,SAASG,EAAEpG,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAAG,MAAMC,EAAE,CAACJ,EAAEC,IAAI,CAACC,GAAE,IAAKD,GAAGC,EAAEF,EAAEmF,KAAInF,GAAGwD,OAAOxD,EAAEqG,QAAQnG,MAAKF,GAAGc,EAAE,CAACuD,EAAErE,EAAEyB,EAAExB,EAAE0E,EAAEzE,EAAEgC,EAAE/B,EAAE,SAAS,MAAMH,EAAE,CAACc,EAAEuD,EAAEvD,EAAEW,EAAEX,EAAE6D,EAAE7D,EAAEoB,GAAG,OAAOlC,EAAEsG,SAASlG,EAAEJ,GAAEA,GAAG,QAAQA,EAAE,OAAOA,EAAE,QAAQA,EAAE,QAAQc,EAAEoB,OAAMlC,GAAG,SAAS,MAAMA,EAAE,IAAI4E,EAAE9D,EAAEuD,EAAEvD,EAAEW,EAAEX,EAAE6D,GAAG7D,EAAEoB,GAAG,OAAOlC,EAAEsG,SAASlG,EAAEJ,GAAEA,GAAG,QAAQA,EAAE,OAAOA,EAAE,QAAQA,EAAE,QAAQc,EAAEoB,OAAMlC,GAAG,SAAS,MAAMA,EAAE,IAAI2E,EAAE7D,EAAEuD,EAAEvD,EAAEW,EAAEX,EAAE6D,GAAG7D,EAAEoB,GAAG,OAAOlC,EAAEsG,SAASlG,EAAEJ,GAAEA,GAAG,QAAQA,EAAE,OAAOA,EAAE,OAAOA,EAAE,OAAOc,EAAEoB,OAAMlC,GAAG,SAAS,MAAMA,EAAE,SAASA,EAAEC,EAAEC,GAAG,MAAMC,EAAEwE,EAAE3E,EAAEC,EAAEC,GAAGE,EAAED,EAAE,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAIsB,EAAEtB,EAAE,GAAG,IAAI+B,EAAEmC,EAAE,EAAEjE,EAAE,EAAEU,EAAE,EAAEW,GAAG,MAAM,CAAC,KAAK,IAAIS,EAAE,GAAG,EAAE9B,EAAE8B,IAAI,EAAEA,IAAI,KAAK,IAAIA,EAAE,GAAG,EAAEpB,EAAEoB,IAAI,EAAEA,IAAI,KAAK,IAAIA,EAAE,GAAG,EAAET,EAAES,IAAI,EAAEA,IAAI,IAAIA,GAAlL,CAAsLpB,EAAEuD,EAAEvD,EAAEW,EAAEX,EAAE6D,GAAG,OAAO3E,EAAEsG,SAASlG,EAAEJ,GAAEA,GAAG,QAAQA,EAAE,QAAQA,EAAE,QAAQA,EAAE,QAAQA,EAAE,SAAQA,GAAG,SAAS,MAAMA,EAAE,SAASA,EAAEC,EAAEC,GAAG,OAAOyE,EAAE3E,EAAEC,EAAEC,GAAGiF,KAAInF,GAAGO,EAAEP,GAAGsG,SAAS,IAAIC,SAAS,EAAE,OAApE,CAA2EzF,EAAEuD,EAAEvD,EAAEW,EAAEX,EAAE6D,GAAG1E,EAAEa,EAAEoB,GAAG,EAAE,GAAGsB,QAAQ,IAAI1C,EAAEoB,GAAGmE,QAAQ,IAAIC,SAAS,IAAIE,cAAcD,SAAS,EAAE,KAAK,OAAOtG,GAAGD,EAAE4C,KAAK3C,GAAGD,EAAEsG,SAAS,IAAI,IAAItG,EAAEkG,KAAK,IAAIM,cAAcxG,GAAGyG,MAAM,IAAIL,EAAEtF,EAAEuD,EAAEvD,EAAEW,EAAEX,EAAE6D,EAAE7D,EAAEoB,IAAI,OAAOpB,EAAE,MAAM4F,EAAE1G,GAAG0E,KAAKJ,IAAII,KAAKN,IAAIpE,EAAE,GAAG,GAAG,SAAS2G,EAAE3G,GAAG,MAAMC,EAAE,CAAC2G,QAAQlG,OAAOmG,OAAO,CAACC,KAAK,KAAKC,SAAS,IAAI,EAAEC,OAAO,IAAI,GAAGhH,GAAG,UAAUA,GAAG,MAAM4G,QAAQ1G,GAAGD,GAAGgG,KAAK9F,EAAE8G,IAAI7G,GAAGJ,EAAE,GAAGoC,SAAS8E,gBAAgBhH,EAAEiH,QAAQ,CAAC,MAAML,KAAK5G,GAAGD,EAAE2G,QAAQ9F,EAAE,YAAYV,EAAEqB,EAAE,eAAerB,EAAE8B,EAAE,cAAc9B,EAAEC,EAAE,cAAcD,EAAE,GAAG,YAAYD,IAAIW,GAAGW,GAAGS,GAAG7B,GAAG,CAAC,IAAIF,EAAE,EAAEC,EAAE,EAAE,MAAMF,EAAEC,EAAEW,GAAGW,EAAE,GAAG,EAAE,MAAMvB,EAAEC,EAAEW,GAAGW,GAAG,EAAE,GAAGrB,EAAEU,GAAG,EAAEoB,EAAE,EAAE,EAAE/B,EAAEE,GAAG,EAAEoB,EAAE,EAAE,GAAGxB,EAAEmH,OAAOV,EAAEzG,EAAEoH,MAAMC,EAAE,IAAInH,GAAGuG,EAAEzG,EAAEoH,MAAMvC,EAAE,IAAI1E,IAAIJ,EAAEgE,sBAAsB5D,EAAEmH,WAAW,WAAWtH,EAAE2G,QAAQI,SAAShH,EAAEgE,oBAAoB,UAAUhE,GAAGc,EAAEsB,SAAS,CAAC,UAAU,WAAW,eAAenC,EAAEuH,UAAU1G,EAAEsB,SAAS,CAAC,YAAY,aAAanC,EAAEwH,UAAUzH,EAAE0H,YAAY1H,EAAEgE,iBAAiB/D,EAAEwH,SAASzH,IAAI,SAASA,GAAG,MAAM4G,QAAQ1G,EAAEmH,MAAMlH,GAAGF,GAAG6G,KAAK1G,EAAEuH,QAAQ7G,EAAEqG,QAAQ1F,GAAGvB,EAAEgC,EAAET,EAAEmG,wBAAwB,IAAIvH,EAAE,EAAEG,EAAE,EAAE,GAAGR,EAAE,CAAC,MAAMC,EAAED,GAAGA,EAAE6H,SAAS7H,EAAE6H,QAAQ,GAAGxH,EAAEL,GAAGC,GAAGD,GAAG8H,QAAQ,EAAEtH,EAAER,GAAGC,GAAGD,GAAG+H,QAAQ,EAAE1H,EAAE6B,EAAE8F,KAAK3H,EAAE6B,EAAE8F,KAAK3H,EAAE6B,EAAE8F,KAAK9F,EAAE+F,QAAQ5H,EAAE6B,EAAE8F,KAAK9F,EAAE+F,OAAOzH,EAAE0B,EAAEgG,IAAI1H,EAAE0B,EAAEgG,IAAI1H,EAAE0B,EAAEgG,IAAIhG,EAAEiG,SAAS3H,EAAE0B,EAAEgG,IAAIhG,EAAEiG,QAAQ9H,GAAG6B,EAAE8F,KAAKxH,GAAG0B,EAAEgG,SAAS/H,IAAIE,EAAEF,EAAEmH,EAAEpF,EAAE+F,MAAMzH,EAAEL,EAAE2E,EAAE5C,EAAEiG,QAAQ,MAAM/H,IAAIU,EAAEsH,MAAMJ,KAAK,QAAQ3H,EAAE6B,EAAE+F,MAAM,UAAUnH,EAAEuH,YAAY,QAAQ,MAAMjI,IAAIU,EAAEsH,MAAMF,IAAI,QAAQ1H,EAAE0B,EAAEiG,OAAO,UAAUrH,EAAEwH,aAAa,QAAQrI,EAAEoH,MAAM,CAACC,EAAEjH,EAAE6B,EAAE+F,MAAMnD,EAAEtE,EAAE0B,EAAEiG,QAAQ,MAAM3G,EAAEkF,EAAErG,EAAE6B,EAAE+F,OAAO9F,EAAEuE,EAAElG,EAAE0B,EAAEiG,QAAQ,OAAO/H,GAAG,IAAI,IAAI,OAAOF,EAAE6G,SAASvF,GAAG,IAAI,IAAI,OAAOtB,EAAE6G,SAAS5E,GAAG,QAAQ,OAAOjC,EAAE6G,SAASvF,EAAEW,KAAK,WAAWlC,EAAE2G,QAAQI,SAASvF,EAAEW,SAAS,CAAC,UAAU,WAAW,eAAenC,EAAEuH,UAAU/F,EAAEW,SAAS,CAAC,YAAY,aAAanC,EAAEwH,WAAW,UAAUxH,EAAEwH,YAAY,OAAOzH,EAAE,EAAEE,EAAE,GAAG,MAAM8H,KAAK7H,EAAE+H,IAAI9H,EAAE6H,MAAMnH,EAAEqH,OAAO1G,GAAGxB,EAAE2G,QAAQO,QAAQS,wBAAwB,MAAM3H,EAAE2G,QAAQE,OAAO5G,EAAEF,GAAGC,EAAEwH,SAAS,CAACK,QAAQ3H,EAAEW,EAAEd,EAAE+H,QAAQ3H,EAAEqB,EAAEvB,KAAK,UAAU,MAAM0G,QAAQ5G,EAAEuI,UAAUrI,EAAEsI,UAAUrI,GAAGF,EAAEwB,EAAEW,SAAS,CAAC,UAAU,SAASjC,GAAGsB,EAAE,CAACzB,EAAEmH,QAAQnH,EAAE2H,SAAS,YAAYzH,GAAGuB,EAAE,CAACzB,EAAEmH,QAAQnH,EAAE2H,SAAS,aAAazH,EAAE,CAACiE,SAAQ,OAAQyC,QAAQ1G,EAAEqI,UAAUpI,EAAEqI,UAAUpI,GAAGH,EAAE,OAAOa,EAAE,CAACZ,EAAEiH,QAAQjH,EAAEyH,SAAS,YAAYxH,GAAGW,EAAE,CAACZ,EAAEiH,QAAQjH,EAAEyH,SAAS,aAAaxH,EAAE,CAACgE,SAAQ,IAAKrD,EAAEsB,SAAS,CAAC,UAAU,SAAShC,GAAGH,EAAE,SAASwI,EAAEzI,EAAE,IAAIA,EAAEU,OAAOmG,OAAO,CAACE,SAAS,IAAI,EAAE2B,UAAU,GAAGC,SAAS,IAAI3I,GAAG,MAAMC,EAAEa,EAAEd,EAAE2I,SAAS,SAAQ1I,IAAID,EAAE2I,SAASC,SAAQ1I,GAAGA,EAAE2I,UAAU5I,EAAEgD,SAAS/C,EAAE,MAAM,UAAUF,EAAE0I,aAAY1I,EAAE+G,SAAS9G,GAAGA,EAAE6I,qBAAoB,MAAM,CAACC,QAAQ,IAAItH,KAAKxB,IAE9gR,MAAM+I,EAAE,CAACC,iBAAiB,CAACC,MAAM,MAAMC,OAAO,MAAMC,IAAI,OAAOC,kBAAkB,CAACnB,IAAI,OAAOoB,MAAM,OAAOC,OAAO,OAAOvB,KAAK,QAAQwB,SAAS,SAASC,OAAO,GAAGC,EAAE,CAAC1J,EAAEC,EAAEC,KAAK,MAAMC,EAAE,iBAAiBH,GAAGA,aAAa2J,YAAY,CAACC,UAAU5J,EAAE6J,OAAO5J,KAAKC,GAAGF,EAAE,MAAM,CAAC,OAAOA,EAAEG,GAAG,MAAMyJ,UAAU3J,EAAE4J,OAAO3J,GAAGQ,OAAOmG,OAAO1G,EAAEH,GAAG,IAAIE,IAAID,EAAE,MAAM,IAAI6J,MAAM,yCAAyC,MAAM,EAAE9J,EAAEC,EAAEC,KAAK,MAAM6J,UAAU5J,EAAEsJ,OAAOrJ,EAAEoJ,SAAS1I,EAAEmI,iBAAiBxH,EAAE4H,kBAAkBnH,GAAG,CAAC6H,UAAU3H,SAAS4H,gBAAgBpC,2BAA2BoB,KAAK9I,IAAI8H,KAAK3H,EAAE6H,IAAI1H,GAAGP,EAAEmI,MAAMnI,EAAEmI,MAAMJ,KAAK,IAAI/H,EAAEmI,MAAMF,IAAI,IAAI,MAAM1G,EAAExB,EAAE4H,wBAAwBzF,EAAElC,EAAE2H,wBAAwBvD,EAAE,CAACrE,EAAEwB,EAAE0G,IAAI/F,EAAEgG,OAAO/H,EAAEwE,EAAEpD,EAAE+H,OAAOnJ,EAAEU,EAAEU,EAAE8H,MAAMlJ,EAAEC,EAAEmB,EAAEwG,KAAK7F,EAAE8F,MAAM7H,GAAGK,EAAE,CAACwJ,GAAGzI,EAAEwG,KAAKkC,GAAG1I,EAAEwG,KAAKxG,EAAEyG,MAAM,GAAG9F,EAAE8F,MAAM,EAAEkC,GAAG3I,EAAEwG,KAAKxG,EAAEyG,MAAM9F,EAAE8F,MAAMmC,GAAG5I,EAAE0G,IAAImC,GAAG7I,EAAE+H,OAAO/H,EAAE2G,OAAO,EAAEhG,EAAEgG,OAAO,EAAEmC,GAAG9I,EAAE+H,OAAOpH,EAAEgG,SAAS3D,EAAEjE,EAAE,UAAUO,EAAEsC,MAAM,KAAKuB,EAAEzC,EAAEsC,GAAGI,EAAEnD,EAAElB,IAAI2H,IAAIrD,EAAEmD,KAAKlD,EAAEyE,OAAOxE,EAAEuE,MAAMrE,GAAG9E,EAAE,IAAI,MAAMH,KAAK2E,EAAE,CAAC,MAAMzE,EAAE,MAAMF,GAAG,MAAMA,EAAEG,EAAEkE,EAAErE,IAAII,EAAEU,GAAGZ,EAAE,CAAC,MAAM,QAAQ,CAAC,OAAO,QAAQuB,EAAES,GAAGhC,EAAE,CAACiC,EAAEgG,OAAOhG,EAAE8F,OAAO,CAAC9F,EAAE8F,MAAM9F,EAAEgG,SAAS9H,EAAEG,GAAGN,EAAE,CAAC6E,EAAEE,GAAG,CAACA,EAAEF,IAAIvD,EAAEgD,GAAGtE,EAAE,CAAC2E,EAAEC,GAAG,CAACA,EAAED,GAAG,KAAK1E,EAAEqB,GAAGrB,EAAEsB,EAAEpB,GAAG,IAAI,MAAMoB,KAAKmD,EAAE,CAAC,MAAMvE,EAAEI,GAAGP,EAAE,IAAI,KAAKuB,GAAG,KAAKpB,EAAEmE,GAAGnE,EAAE6B,EAAE1B,GAAG,OAAOP,EAAEmI,MAAMtH,GAAGT,EAAE8B,EAAErB,GAAG,KAAKb,EAAEmI,MAAMhI,GAAGD,EAAEgC,EAAE/B,GAAG,KAAKJ,EAAEyB,GAAG,OAAOxB,EAAEmI,MAAMJ,KAAK3H,EAAEJ,EAAEmI,MAAMF,IAAI1H,EAAE,MAAr4B,CAA44BP,EAAEC,EAAEC,MAAM,SAASoK,EAAEvK,EAAEC,EAAEC,GAAG,OAAOD,KAAKD,EAAEU,OAAOC,eAAeX,EAAEC,EAAE,CAACgB,MAAMf,EAAEU,YAAW,EAAG4J,cAAa,EAAGC,UAAS,IAAKzK,EAAEC,GAAGC,EAAEF,EAAE,MAAMsH,EAAE,YAAYtH,GAAGuK,EAAEG,KAAK,uBAAsB,GAAIH,EAAEG,KAAK,WAAU,GAAIH,EAAEG,KAAK,WAAW,MAAMH,EAAEG,KAAK,QAAQ,MAAMH,EAAEG,KAAK,SAAStE,KAAKmE,EAAEG,KAAK,aAAatE,KAAKmE,EAAEG,KAAK,gBAAgB,IAAIH,EAAEG,KAAK,uBAAuB,MAAMH,EAAEG,KAAK,iBAAiB,CAACC,KAAK,GAAGC,KAAK,GAAGC,KAAK,GAAGC,KAAK,GAAGC,MAAM,GAAGC,OAAO,GAAGC,WAAW,GAAGC,OAAO,GAAGC,aAAa,KAAKT,KAAK9D,QAAQ5G,EAAEU,OAAOmG,OAAO,IAAIS,EAAE8D,iBAAiBpL,GAAG,MAAMqL,SAASpL,EAAEqL,WAAWpL,EAAEqL,MAAMpL,EAAEqL,QAAQpL,EAAEqL,YAAY3K,EAAE4K,QAAQjK,GAAGzB,EAAE,CAAC,OAAO,YAAY2L,SAASxL,KAAKC,IAAIJ,EAAEwL,QAAQ,KAAKtL,EAAE0L,cAAc1L,EAAE0L,YAAY,IAAI,MAAMC,QAAQ3J,EAAE4J,QAAQzL,EAAE0L,IAAIvL,EAAEwL,QAAQxK,GAAGtB,EAAEA,EAAE4L,SAAShL,GAAGT,EAAEH,EAAE8L,QAAQxK,GAAGU,GAAG7B,GAAGG,EAAEkK,KAAKuB,YAAYvB,KAAKwB,mBAAmBxB,KAAKyB,cAAczB,KAAK0B,cAAcnM,GAAGA,EAAE6C,QAAQ7C,EAAE2I,SAAQ5I,GAAG0K,KAAK2B,UAAUrM,KAAI,MAAMsM,OAAOnK,EAAEoK,IAAIlI,GAAGqG,KAAK8B,MAAM9B,KAAK+B,SAAS/C,EAAEvH,EAAEkC,EAAE,CAACoF,OAAOhI,IAAIU,EAAEuK,aAAa,OAAO,UAAUvK,EAAEuK,aAAa,aAAahC,KAAKiC,GAAG,eAAe,MAAMlM,EAAEiK,KAAKA,KAAKkC,qBAAqBC,uBAAsB,SAAU5M,IAAI,IAAIoE,EAAEgE,YAAY,OAAOwE,sBAAsB5M,GAAGQ,EAAEqM,SAAS9M,EAAEqB,SAASZ,EAAEsM,uBAAuB/M,EAAEgN,wBAAwBvM,EAAEwM,gBAAgBjN,EAAEgN,sBAAsBvM,EAAEyM,uBAAuBzM,EAAEwM,kBAAkBjN,EAAEmN,YAAY1M,EAAEqK,OAAOrK,EAAE2M,qBAAoB,EAAG3M,EAAE4M,MAAM,WAAW,YAAY,MAAMzG,QAAQ5G,GAAG0K,KAAK,IAAI,MAAMzK,IAAI,CAAC,KAAK,aAAaD,EAAEC,GAAGuB,EAAExB,EAAEC,IAAIyK,KAAK8B,MAAM,CAACxM,IAAI,MAAMsL,WAAWrL,EAAEqN,YAAYpN,EAAEqN,OAAOpN,EAAEqN,SAASpN,EAAEmL,MAAMzK,EAAE2K,YAAYhK,GAAGzB,EAAE4G,QAAQ1E,EAAElC,GAAGA,EAAE,GAAG,8BAA8BQ,EAAEP,GAAGD,EAAE2M,GAAG1M,GAAGuB,EAAEnB,EAAE,sDAAsDH,EAAE,GAAG,gHAAgHE,GAAG,mBAAmBU,MAAMX,EAAE,0BAA0B,kBAAkBK,EAAE,sEAAsE0B,EAAEjC,EAAE+L,wEAAwE9J,EAAEjC,EAAE4L,sGAAsGrL,EAAE,uUAAuUA,EAAE,uHAAuH0B,EAAEjC,EAAE8L,2JAA2JvL,EAAE,sHAAsH0B,EAAEjC,EAAE6L,mKAAmKtL,EAAE,qHAAqHP,EAAE+L,QAAQ,GAAG,mGAAmG9J,EAAExB,OAAOmC,KAAK5C,EAAE2L,aAAa9I,gGAAgGZ,EAAEjC,EAAE2L,YAAY6B,sBAAsBjN,EAAE,iGAAiGiB,EAAE,MAAM,yBAAyBS,EAAEjC,EAAE2L,YAAY8B,qFAAqFjM,EAAE,MAAM,yBAAyBS,EAAEjC,EAAE2L,YAAYlG,sFAAsFjE,EAAE,MAAM,yBAAyBS,EAAEjC,EAAE2L,YAAYjG,sFAAsFlE,EAAE,MAAM,yBAAyBS,EAAEjC,EAAE2L,YAAYhG,0GAA0G1D,EAAEjC,EAAE2L,YAAYnG,oEAAoEjF,EAAE,8BAA8B0B,EAAEjC,EAAE2L,YAAYhB,qBAAqBpK,EAAE,kFAAkFA,EAAE,gCAAgC0B,EAAEjC,EAAE2L,YAAYV,uBAAuB1K,EAAE,kFAAkFA,EAAE,+BAA+B0B,EAAEjC,EAAE2L,YAAYb,sBAAsBvK,EAAE,6EAA6E2B,EAAEX,EAAEoK,YAAY,OAAOzJ,EAAEyE,QAAQ+G,MAAK3N,IAAIA,EAAE4N,SAAS5N,EAAE6I,UAAUgF,IAAI,YAAW1L,EAAE8D,KAAK,IAAI9D,EAAEyE,QAAQ+G,MAAK3N,GAAGA,EAAE6I,UAAUiF,SAAS,YAAWtM,GAAhtG,CAAotGkJ,MAAM1K,EAAEsN,cAAc5C,KAAK8B,MAAMF,OAAOtM,EAAE+N,IAAI/N,EAAE+J,UAAUiE,YAAYtD,KAAK8B,MAAMyB,MAAM,cAAc,MAAMjO,EAAE0K,KAAK9D,QAAQ3G,EAAEyK,KAAK8B,MAAM,GAAGxM,EAAE+J,UAAUmE,YAAYjO,EAAEgO,MAAMjO,EAAEuN,OAAO,CAAC,MAAMrN,EAAEF,EAAE+N,GAAG7K,cAAclD,EAAE+N,GAAGI,YAAYjO,EAAEkO,aAAanO,EAAEsM,IAAIvM,EAAE+N,GAAGI,aAAajO,EAAE8N,YAAY/N,EAAEsM,UAAUvM,EAAE+J,UAAUiE,YAAY/N,EAAEsM,KAAKvM,EAAEsN,YAAYtN,EAAEuN,QAAQvN,EAAE+N,GAAGM,SAASrO,EAAE+N,GAAGO,WAAWC,aAAatO,EAAEgO,KAAKjO,EAAE+N,IAAI/N,EAAEwO,UAAU9D,KAAK+D,UAAUzO,EAAE0O,aAAazO,EAAEqM,OAAOlE,MAAMuG,WAAW,OAAO3O,EAAEsN,cAAcrN,EAAE4L,QAAQ+C,UAAUxG,MAAMuG,WAAW,SAASjE,KAAKG,OAAO,mBAAmB,MAAM7K,EAAE0K,KAAKzK,EAAEyK,KAAK9D,QAAQ0E,WAAWpL,GAAGF,EAAE4G,QAAQ4E,SAAS,KAAKqD,OAAO,IAAI1O,EAAEC,GAAGF,EAAEgF,MAAM,YAAYhF,EAAE,GAAGY,EAAE,IAAI4J,KAAKoE,SAASpE,KAAKoE,OAAOpE,KAAKqE,WAAWtI,SAAShF,EAAE,CAACuK,QAAQrF,EAAE,CAACgB,QAAQ3H,EAAEwM,MAAMR,QAAQgD,OAAO7H,QAAQnH,EAAEwM,MAAMR,QAAQA,QAAQhF,OAAO,IAAIhH,EAAEqN,MAAM,aAAa,SAASrN,GAAG,SAASE,EAAEC,GAAG,IAAIF,EAAE+L,QAAQ,OAAO,MAAM5L,EAAEU,KAAK0L,MAAM/K,EAAEmF,QAAQ1E,GAAGlC,GAAG4O,UAAUvO,EAAE4O,aAAazO,GAAGiB,EAAEoK,QAAQ7L,EAAEkP,UAAU9O,EAAEqB,EAAE,IAAIvB,EAAEE,EAAEuE,EAAE,IAAI,IAAIxE,EAAEC,EAAEuE,EAAE,IAAIvE,EAAEuE,EAAE,GAAG3E,EAAEmP,cAAc,WAAW,MAAM3N,EAAEpB,EAAEgP,SAAS9I,SAAS,GAAGoE,KAAK/C,QAAQS,MAAMiH,WAAW7N,EAAEkJ,KAAKvD,QAAQiB,MAAMiH,WAAW,mEAAmEjP,EAAE8B,4EAA4E9B,EAAEiE,iBAAiBjE,EAAE8B,2BAA2B9B,EAAE8B,4BAA4BA,EAAEwM,WAAWxM,EAAEoL,aAAatN,EAAE+O,aAAa1O,EAAE+H,MAAMkH,MAAM9N,IAAIC,EAAE6K,OAAOlE,MAAMkH,MAAM9N,EAAEC,EAAE6K,OAAOzD,UAAUwF,OAAO,UAAU,MAAMlM,EAAE/B,EAAEmP,SAASjJ,WAAW,IAAI,MAAMyH,GAAG9N,EAAEqP,MAAMpP,KAAKF,EAAEwP,cAAcvP,EAAE4I,UAAU1G,IAAIjC,EAAEqP,SAASjJ,WAAW,MAAM,UAAU,cAAc9F,EAAE4H,MAAMkH,MAAM9N,KAAKuK,IAAIpF,EAAE,CAACG,KAAK,MAAM1G,EAAE,IAAI,IAAIuH,QAAQ3H,EAAEwM,MAAMT,IAAIiD,OAAO7H,QAAQnH,EAAEwM,MAAMT,IAAI0D,OAAOzI,OAAO,IAAIhH,EAAEqN,MAAM,aAAa,SAASrN,GAAG,SAASE,GAAG,IAAID,EAAE8L,MAAM9L,EAAE+L,QAAQ,OAAO,MAAM7L,EAAEW,IAAId,EAAEkP,UAAU/O,EAAEkE,EAAE,IAAInE,GAAGwK,KAAK/C,QAAQS,MAAMsH,gBAAgB,OAAOvP,EAAEkE,gBAAgB5C,EAAEuK,QAAQ2D,aAAa7D,QAAQnF,EAAE,CAACG,KAAK,MAAM3G,EAAE,IAAI,IAAIwH,QAAQ3H,EAAEwM,MAAMV,QAAQkD,OAAO7H,QAAQnH,EAAEwM,MAAMV,QAAQ2D,OAAOzI,OAAO,IAAIhH,EAAEqN,MAAM,aAAa,SAASrN,GAAG,SAASE,GAAG,IAAID,EAAE6L,UAAU7L,EAAE+L,QAAQ,OAAO,MAAM7L,EAAEW,IAAId,EAAEkP,UAAU/O,EAAE+B,EAAEwC,KAAKD,MAAM,IAAIvE,GAAG,KAAKwK,KAAK/C,QAAQS,MAAMiH,WAAW,iBAAiBlP,EAAE+B,KAAKT,EAAEuK,QAAQ2D,aAAaC,WAAWnH,EAAE,CAACE,SAAS3I,EAAEwM,MAAMZ,YAAYhF,QAAQ8B,UAAU,SAAS,SAASzI,GAAGD,EAAEiN,gBAAgBhN,EAAEgD,OAAOR,aAAa,aAAa+D,cAAcxG,EAAEkP,SAASlP,EAAEmP,cAAc,cAAczE,KAAKmF,YAAYpO,EAAE,cAAc,MAAM+K,MAAMxM,EAAE4G,QAAQ3G,GAAGyK,KAAKxK,EAAE,CAACY,EAAEd,EAAE4L,YAAYb,MAAM,SAAQ,IAAIL,KAAKoF,gBAAehP,EAAE,CAACd,EAAE4L,YAAYV,OAAOlL,EAAE6L,QAAQ+C,WAAW,SAAQ,KAAKlE,KAAK2C,MAAM,UAAU3C,KAAKqF,YAAYrF,KAAKqE,YAAYrE,KAAKoE,QAAQkB,UAAS,MAAMlP,EAAEd,EAAE4L,YAAYhB,KAAK,SAAQ,MAAMF,KAAKuF,eAAehQ,EAAEkN,YAAYzC,KAAKG,UAAS/J,EAAEd,EAAE4L,YAAYsE,OAAO,CAAC,QAAQ,UAASlQ,IAAI0K,KAAKoC,SAAS9M,EAAEiD,OAAOhC,OAAM,KAAMyJ,KAAK0C,sBAAsB1C,KAAK2C,MAAM,SAAS3C,KAAKoE,OAAO,QAAQpE,MAAMA,KAAK2C,MAAM,aAAa,QAAQ3C,OAAO1K,EAAEmQ,8BAA6BrP,EAAEd,EAAE4L,YAAYsE,OAAO,CAAC,QAAQ,SAAQlQ,IAAI0K,KAAKwE,QAAQ,SAASlP,EAAEiG,KAAKyE,KAAKwE,SAASxE,KAAKyE,cAAc,SAAQrO,EAAE,CAACd,EAAEgM,QAAQA,QAAQhM,EAAEgM,QAAQgD,OAAOhP,EAAE+L,IAAI0D,OAAOzP,EAAE+L,IAAIiD,OAAOhP,EAAE8L,QAAQ2D,OAAOzP,EAAE8L,QAAQkD,QAAQ,CAAC,YAAY,eAAc,IAAItE,KAAKwE,SAAQ,GAAG,CAAC/K,SAAQ,KAAM,IAAIlE,EAAEkN,WAAW,CAAC,MAAMhN,EAAEF,EAAEmQ,aAAalQ,EAAE0C,KAAK9B,EAAEd,EAAEsM,OAAO,SAAQ,IAAI5B,KAAK2F,SAAS3F,KAAKG,OAAOH,KAAKI,SAAQhK,EAAEsB,SAAS,SAAQpC,GAAG0K,KAAK2F,WAAWrQ,EAAEiH,MAAM9G,GAAGH,EAAEsQ,OAAOnQ,IAAIuK,KAAKG,SAAQ/J,EAAEsB,SAAS,CAAC,aAAa,cAAanC,IAAIyK,KAAK2F,WAAW7P,EAAEP,GAAGsQ,MAAKtQ,GAAGA,IAAID,EAAEuM,KAAKtM,IAAID,EAAEsM,UAAS5B,KAAKG,SAAQ,CAAC9I,SAAQ,KAAM,GAAG9B,EAAEuQ,kBAAkB,CAAC,MAAMvQ,EAAE,CAACyF,KAAK,CAAC,IAAI,IAAI,IAAI,GAAGE,KAAK,CAAC,IAAI,IAAI,IAAI,GAAGD,KAAK,CAAC,IAAI,IAAI,IAAI,GAAGF,KAAK,CAAC,IAAI,IAAI,IAAI,MAAMtD,EAAEnC,EAAE4L,YAAYsE,QAAO,CAAClQ,EAAEE,EAAEC,KAAK,MAAMC,EAAEH,EAAEyK,KAAK+F,yBAAyBnL,eAAe,GAAGlF,EAAE,CAAC,MAAMH,EAAEG,EAAED,GAAGW,EAAEd,GAAGC,GAAG,IAAI,IAAIC,EAAEA,GAAG,OAAOY,GAAG,EAAE,EAAE0C,QAAQ1C,EAAEb,EAAEa,EAAEb,GAAGyQ,YAAY,IAAI,OAAO1Q,KAAI,GAAGC,EAAE0Q,iBAAiB1Q,EAAEsN,OAAO,CAAC,IAAIvN,EAAE,KAAK,MAAMG,EAAEuK,KAAKxK,EAAE0C,KAAK9B,EAAEjB,OAAO,CAAC,SAAS,WAAU,KAAKM,EAAEkQ,WAAWpQ,EAAE2Q,eAAezQ,EAAE0K,OAAO,OAAO7K,GAAGA,EAAE6Q,YAAW,IAAI7Q,EAAE,MAAK,KAAK6M,uBAAsB,SAAU5M,IAAIE,EAAE4M,uBAAuB,OAAO/M,GAAG6M,sBAAsB5M,QAAQ6Q,aAAa9Q,GAAGA,EAAE6Q,YAAW,IAAI7Q,EAAE,MAAK,SAAQ,CAAC+B,SAAQ,KAAM2I,KAAKqG,eAAe7Q,EAAE,uBAAuB,MAAM0G,QAAQ5G,GAAG0K,KAAK,IAAI1K,EAAEuN,SAAY7C,KAAK+B,SAASrF,OAAO,CAAC2C,UAAU3H,SAAS4O,KAAKpJ,wBAAwB4B,SAASxJ,EAAEwJ,WAAW,CAAC,MAAMxJ,EAAE0K,KAAK8B,MAAMD,IAAItM,EAAED,EAAE4H,wBAAwB5H,EAAEoI,MAAMF,KAAKrI,OAAOoR,YAAYhR,EAAEkI,QAAQ,EAAE,KAAKnI,EAAEoI,MAAMJ,MAAMnI,OAAOqR,WAAWjR,EAAEgI,OAAO,EAAE,MAAO,cAAcjI,GAAG,MAAMwM,MAAMvM,EAAE6O,OAAO5O,EAAE0G,QAAQzG,GAAGuK,KAAK,GAAGzK,EAAE2L,YAAY3F,OAAO,CAAC,MAAMjG,EAAE,KAAKC,EAAE2L,YAAY3F,OAAOxD,aAAa,aAAaxC,EAAE2L,YAAYsE,OAAOjP,MAAM,mBAAmBf,EAAEF,GAAGE,EAAEF,KAAKsG,SAASnG,EAAEgR,iBAAiB,IAAIzG,KAAK0C,qBAAqB1C,KAAKwE,SAASxE,KAAK2C,MAAM,SAASnN,EAAEF,EAAE0K,MAAM,YAAY1K,GAAE,GAAI,MAAMwM,MAAMvM,EAAE2G,QAAQ1G,GAAGwK,KAAKxK,EAAEoN,cAAcrN,EAAEqM,OAAOlE,MAAMkH,MAAM,uBAAuBrP,EAAEqM,OAAOzD,UAAUgF,IAAI,SAAS3N,EAAEiN,YAAYzC,KAAKG,OAAOH,KAAKqE,WAAW,KAAKrE,KAAK0C,qBAAqBpN,IAAI0K,KAAK2C,MAAM,OAAO,MAAM3C,KAAK2C,MAAM,UAAU,iBAAiBrN,GAAG,MAAMgG,OAAO/F,EAAEgG,KAAK/F,EAAEgC,EAAE/B,GAAGkF,EAAErF,IAAIyL,YAAYrL,GAAGsK,KAAK9D,QAAQ9F,OAAE,IAASX,GAAG,IAAIA,EAAE,OAAOF,GAAG,IAAIA,EAAE6C,SAAS7C,EAAE,QAAG,GAAQ,CAAC+F,QAAQ/F,GAAGG,GAAGU,EAAE,KAAKb,EAAEgG,KAAK/F,GAAG,GAAGF,GAAG,OAAO0K,KAAK9D,QAAQwK,KAAKpR,IAAIsH,EAAE+J,cAAcrR,GAAG,MAAMA,KAAKC,GAAGyK,KAAK4G,eAAetR,GAAG4I,SAAQ5I,GAAGA,KAAKC,EAAEyK,QAAO,GAAG1K,EAAEC,GAAG,OAAOyK,KAAK4G,eAAetR,GAAG4C,KAAK3C,GAAGyK,KAAK,IAAI1K,EAAEC,GAAG,MAAMC,EAAEwK,KAAK4G,eAAetR,IAAI,GAAGG,EAAED,EAAEqR,QAAQtR,GAAG,OAAOE,GAAGD,EAAEsR,OAAOrR,EAAE,GAAGuK,KAAK,UAAU1K,GAAG,MAAMgG,OAAO/F,GAAGyK,KAAK+G,iBAAiBzR,GAAG,GAAGC,EAAE,CAAC,MAAMuP,cAAcxP,EAAEwM,MAAMtM,GAAGwK,KAAKvK,EAAEiG,KAAKnG,GAAGG,EAAE8B,EAAE,uCAAuC/B,EAAEiP,SAAS9I,SAAS,mBAAmBoE,KAAKiC,GAAG,oBAAoB,OAAOzM,EAAEmL,SAAS2C,YAAY5N,GAAGJ,EAAE4C,KAAK,CAACmL,GAAG3N,EAAEkP,MAAMnP,IAAIuK,KAAKqG,eAAenO,KAAK9B,EAAEV,EAAE,SAAQ,KAAKsK,KAAKqF,WAAW5P,EAAE6P,UAAS,GAAItF,KAAK2C,MAAM,eAAelN,GAAGuK,KAAK2C,MAAM,SAASlN,EAAE,SAASuK,WAAS,EAAG,OAAM,EAAG,aAAa1K,GAAG,MAAMC,EAAEyK,KAAK8E,cAAcxP,GAAG,GAAGC,EAAE,CAAC,MAAM8N,GAAG7N,GAAGD,EAAE,OAAOyK,KAAK8B,MAAMnB,SAAS6C,YAAYhO,GAAGwK,KAAK8E,cAAcgC,OAAOxR,EAAE,IAAG,EAAG,OAAM,EAAG,WAAWA,GAAE,GAAI,MAAM6L,QAAQ5L,EAAEqM,OAAOpM,GAAGwK,KAAK8B,MAAMrM,EAAEuK,KAAKoE,OAAOM,SAAS9I,SAAS,GAAG,OAAOrG,EAAE2O,UAAUxG,MAAMkH,MAAMnP,EAAEuK,KAAK9D,QAAQ0G,cAAcpN,EAAEkI,MAAMkH,MAAMnP,GAAGD,EAAE2I,UAAUwF,OAAO,SAAS3D,KAAKqE,WAAWrE,KAAKoE,OAAOrI,QAAQiE,KAAK0C,qBAAqBpN,GAAG0K,KAAK2C,MAAM,OAAO3C,KAAKoE,QAAQpE,KAAK,UAAUgH,qBAAqBhH,KAAKkC,sBAAsBlC,KAAKqG,eAAenI,SAAQ5I,GAAGyB,KAAKzB,KAAIU,OAAOmC,KAAK6H,KAAKmF,aAAajH,SAAQ5I,GAAG0K,KAAKmF,YAAY7P,GAAG+I,YAAW,mBAAmB2B,KAAK3B,UAAU,MAAMkF,KAAKjO,EAAEuM,IAAItM,GAAGyK,KAAK8B,MAAMxM,EAAEkD,eAAelD,EAAEkD,cAAcgL,YAAYlO,GAAGC,EAAEiD,cAAcgL,YAAYjO,GAAGS,OAAOmC,KAAK6H,MAAM9B,SAAQ5I,GAAG0K,KAAK1K,GAAG,OAAM,OAAO,OAAO0K,KAAK8B,MAAMD,IAAI1D,UAAUwF,OAAO,WAAW3D,KAAK2C,MAAM,QAAQ3C,KAAK,OAAO,OAAOA,KAAK9D,QAAQ4H,WAAW9D,KAAK8B,MAAMD,IAAI1D,UAAUgF,IAAI,WAAWnD,KAAKqC,uBAAuBrC,KAAK2C,MAAM,OAAO3C,KAAKoE,SAASpE,KAAK,SAAS,OAAOA,KAAK8B,MAAMD,IAAI1D,UAAUiF,SAAS,WAAW,QAAQ9N,EAAE,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,GAAE,GAAI,MAAMU,EAAE4J,KAAKwE,QAAQ,GAAGxE,KAAKwE,SAAQ,EAAGlP,EAAE,GAAGA,EAAE,KAAKC,EAAE,GAAGA,EAAE,KAAKC,EAAE,GAAGA,EAAE,KAAKC,EAAE,GAAGA,EAAE,EAAE,OAAM,EAAGuK,KAAKoE,OAAO1I,EAAEpG,EAAEC,EAAEC,EAAEC,GAAG,MAAM4L,IAAItK,EAAEqK,QAAQ5J,EAAE8J,QAAQ3L,GAAGqK,KAAKmF,YAAY,OAAOpO,EAAE2F,OAAOpH,EAAE,KAAKkC,EAAEkF,OAAOjH,GAAGE,EAAE+G,OAAOnH,EAAE,IAAI,EAAEC,EAAE,KAAKE,GAAGsK,KAAKuF,aAAanP,GAAG4J,KAAKyE,gBAAgBzE,KAAKwE,QAAQpO,GAAE,EAAG,SAASd,EAAEC,GAAE,GAAI,GAAG,OAAOD,EAAE,OAAO0K,KAAKoF,YAAY7P,IAAG,EAAG,MAAM+F,OAAO9F,EAAE+F,KAAK9F,GAAGuK,KAAK+G,iBAAiBzR,GAAG,GAAGE,EAAE,CAAC,MAAMF,EAAEG,EAAEqG,eAAeI,QAAQxG,GAAGsK,KAAK8B,MAAMZ,YAAY9K,EAAEV,EAAEuN,MAAK1N,GAAGA,EAAEwC,aAAa,eAAezC,IAAG,GAAGc,IAAIA,EAAE8M,OAAO,IAAI,MAAM5N,KAAKI,EAAEJ,EAAE6I,UAAU7I,IAAIc,EAAE,MAAM,UAAU,UAAU,QAAQ4J,KAAKqF,WAAW7P,EAAED,IAAIyK,KAAKwC,uBAAuBlN,GAAG,OAAM,EAAG,uBAAuBA,GAAG,OAAOA,EAAEA,EAAEwG,gBAAgBkE,KAAK8B,MAAMZ,YAAYhF,QAAQ+G,MAAK1N,GAAGA,EAAEwC,aAAa,aAAa8E,WAAWvH,KAAKC,EAAE0R,UAAS,yBAAyB,OAAOjH,KAAKuC,gBAAgB,WAAW,OAAOvC,KAAKoE,OAAO,mBAAmB,OAAOpE,KAAKqE,WAAW,UAAU,OAAOrE,KAAK8B,MAAM,UAAU,OAAO9B,KAAKG,OAAOH,KAAK9D,QAAQ4H,UAAS,EAAG9D,KAAK8B,MAAMF,OAAOzD,UAAUgF,IAAI,YAAYnD,KAAK,SAAS,OAAOA,KAAK9D,QAAQ4H,UAAS,EAAG9D,KAAK8B,MAAMF,OAAOzD,UAAUwF,OAAO,YAAY3D,MAAMH,EAAEjD,EAAE,QAAQnH,GAAGoK,EAAEjD,EAAE,UAAU,SAASiD,EAAEjD,EAAE,gBAAgB,CAAC,YAAY,sBAAsB,aAAa,6BAA6B,aAAa,eAAe,iBAAiB,qBAAqB,WAAW,OAAO,aAAa,SAAS,YAAY,QAAQ,gBAAgB,iBAAiB,kBAAkB,mBAAmB,iBAAiB,kBAAkB,aAAa,oBAAoB,eAAe,uBAAuB,WAAW,uBAAuB,eAAe,qBAAqBiD,EAAEjD,EAAE,kBAAkB,CAACkG,SAAS,KAAKjC,MAAM,UAAU+B,aAAY,EAAG5B,QAAQ,EAAE8C,UAAS,EAAGE,YAAW,EAAGkC,eAAc,EAAGO,gBAAgB,EAAE1F,aAAY,EAAGkF,gBAAe,EAAG5G,UAAU,OAAOuB,WAAW,CAACM,YAAY,IAAIwF,KAAK,GAAG/F,SAAS,KAAKkC,QAAO,EAAG/B,QAAQ,KAAKnK,QAAQ,UAAU2L,sBAAsB,KAAKxD,SAAS,gBAAgBgH,mBAAkB,EAAGrD,YAAW,EAAGiD,aAAa,WAAW7F,EAAEjD,EAAE,UAAStH,GAAG,IAAIsH,EAAEtH,KAAIC,EAAEoB,QAAQiG,KAAKjG,S,+CCHj5d,IAAiDuQ,EAS9CC,KAT8CD,EASxC,WACT,OAAgB,WACN,IAAIE,EAAsB,CAE9BC,KACA,SAAUjS,GAEhBA,EAAOC,QAAU,SAAUiS,GACzB,GAAiB,mBAANA,EACT,MAAMC,UAAUC,OAAOF,GAAM,sBAC7B,OAAOA,IAMLG,KACA,SAAUrS,EAAQsS,EAA0B,GAElD,IAAIC,EAAW,EAAoB,KAEnCvS,EAAOC,QAAU,SAAUiS,GACzB,IAAKK,EAASL,IAAc,OAAPA,EACnB,MAAMC,UAAU,aAAeC,OAAOF,GAAM,mBAC5C,OAAOA,IAMLM,KACA,SAAUxS,EAAQsS,EAA0B,GAElD,IAAIG,EAAkB,EAAoB,MACtCpR,EAAS,EAAoB,IAC7BqR,EAAuB,EAAoB,MAE3CC,EAAcF,EAAgB,eAC9BG,EAAiB9Q,MAAMN,UAIQqR,MAA/BD,EAAeD,IACjBD,EAAqBhO,EAAEkO,EAAgBD,EAAa,CAClDjI,cAAc,EACdvJ,MAAOE,EAAO,QAKlBrB,EAAOC,QAAU,SAAUkH,GACzByL,EAAeD,GAAaxL,IAAO,IAM/B2L,KACA,SAAU9S,EAAQsS,EAA0B,GAElD,aAEA,IAAIS,EAAS,EAAoB,MAAMA,OAIvC/S,EAAOC,QAAU,SAAU0I,EAAGqK,EAAOC,GACnC,OAAOD,GAASC,EAAUF,EAAOpK,EAAGqK,GAAOhQ,OAAS,KAMhDkQ,KACA,SAAUlT,GAEhBA,EAAOC,QAAU,SAAUiS,EAAIiB,EAAaC,GAC1C,KAAMlB,aAAciB,GAClB,MAAMhB,UAAU,cAAgBiB,EAAOA,EAAO,IAAM,IAAM,cAC1D,OAAOlB,IAMLmB,KACA,SAAUrT,EAAQsS,EAA0B,GAElD,IAAIC,EAAW,EAAoB,KAEnCvS,EAAOC,QAAU,SAAUiS,GACzB,IAAKK,EAASL,GACZ,MAAMC,UAAUC,OAAOF,GAAM,qBAC7B,OAAOA,IAMLoB,KACA,SAAUtT,GAEhBA,EAAOC,QAAiC,oBAAhBsT,aAAmD,oBAAbC,UAKxDC,IACA,SAAUzT,EAAQsS,EAA0B,GAElD,aAEA,IA4BIoB,EA5BAC,EAAsB,EAAoB,MAC1CC,EAAc,EAAoB,MAClCC,EAAS,EAAoB,MAC7BtB,EAAW,EAAoB,KAC/BuB,EAAM,EAAoB,MAC1BC,EAAU,EAAoB,KAC9BC,EAA8B,EAAoB,MAClDC,EAAW,EAAoB,MAC/BpT,EAAiB,EAAoB,MAAM6D,EAC3CwP,EAAiB,EAAoB,MACrCC,EAAiB,EAAoB,MACrC1B,EAAkB,EAAoB,MACtC2B,EAAM,EAAoB,MAE1BC,EAAYR,EAAOQ,UACnBC,EAAqBD,GAAaA,EAAU7S,UAC5C+S,EAAoBV,EAAOU,kBAC3BC,EAA6BD,GAAqBA,EAAkB/S,UACpEiT,EAAaJ,GAAaH,EAAeG,GACzCK,EAAsBJ,GAAsBJ,EAAeI,GAC3DK,EAAkB/T,OAAOY,UACzBoT,EAAgBD,EAAgBC,cAEhCC,EAAgBpC,EAAgB,eAChCqC,EAAkBV,EAAI,mBAEtBW,EAA4BpB,KAAyBQ,GAA4C,UAA1BJ,EAAQF,EAAOmB,OACtFC,GAA0B,EAG1BC,EAA6B,CAC/Bb,UAAW,EACXc,WAAY,EACZZ,kBAAmB,EACnBa,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,YAAa,EACbC,aAAc,EACdC,aAAc,GAGZC,EAA8B,CAChCC,cAAe,EACfC,eAAgB,GAWdC,EAAe,SAAU3D,GAC3B,IAAKK,EAASL,GAAK,OAAO,EAC1B,IAAI4D,EAAQ/B,EAAQ7B,GACpB,OAAO4B,EAAIoB,EAA4BY,IAClChC,EAAI4B,EAA6BI,IA0DxC,IAAKpC,KAAQwB,EACNrB,EAAOH,KAAOqB,GAA4B,GAIjD,KAAKA,GAAkD,mBAAdN,GAA4BA,IAAesB,SAASvU,aAE3FiT,EAAa,WACX,MAAMtC,UAAU,yBAEd4C,GAA2B,IAAKrB,KAAQwB,EACtCrB,EAAOH,IAAOS,EAAeN,EAAOH,GAAOe,GAInD,KAAKM,IAA8BL,GAAuBA,IAAwBC,KAChFD,EAAsBD,EAAWjT,UAC7BuT,GAA2B,IAAKrB,KAAQwB,EACtCrB,EAAOH,IAAOS,EAAeN,EAAOH,GAAMlS,UAAWkT,GAS7D,GAJIK,GAA6Bb,EAAeM,KAAgCE,GAC9EP,EAAeK,EAA4BE,GAGzCd,IAAgBE,EAAIY,EAAqBG,GAK3C,IAAKnB,KAJLuB,GAA0B,EAC1BpU,EAAe6T,EAAqBG,EAAe,CAAE9T,IAAK,WACxD,OAAOwR,EAAS3H,MAAQA,KAAKkK,QAAmBjC,KAErCqC,EAAgCrB,EAAOH,IAClDM,EAA4BH,EAAOH,GAAOoB,EAAiBpB,GAI/D1T,EAAOC,QAAU,CACf8U,0BAA2BA,EAC3BD,gBAAiBG,GAA2BH,EAC5CkB,YA/FgB,SAAU9D,GAC1B,GAAI2D,EAAa3D,GAAK,OAAOA,EAC7B,MAAMC,UAAU,gCA8FhB8D,uBA3F2B,SAAU3P,GACrC,GAAI6N,GACF,GAAIS,EAAcpU,KAAKiU,EAAYnO,GAAI,OAAOA,OACzC,IAAK,IAAI4P,KAAShB,EAA4B,GAAIpB,EAAIoB,EAA4BxB,GAAO,CAC9F,IAAIyC,EAAwBtC,EAAOqC,GACnC,GAAIC,IAA0B7P,IAAM6P,GAAyBvB,EAAcpU,KAAK2V,EAAuB7P,IACrG,OAAOA,EAET,MAAM6L,UAAU,4CAoFlBiE,uBAjF2B,SAAUC,EAAKC,EAAUC,GACpD,GAAK3C,EAAL,CACA,GAAI2C,EAAQ,IAAK,IAAIL,KAAShB,EAA4B,CACxD,IAAIiB,EAAwBtC,EAAOqC,GAC/BC,GAAyBrC,EAAIqC,EAAsB3U,UAAW6U,WACzDF,EAAsB3U,UAAU6U,GAGtC3B,EAAoB2B,KAAQE,GAC/BtC,EAASS,EAAqB2B,EAAKE,EAASD,EACxCvB,GAA6BT,EAAmB+B,IAAQC,KAwE9DE,6BApEiC,SAAUH,EAAKC,EAAUC,GAC1D,IAAIL,EAAOC,EACX,GAAKvC,EAAL,CACA,GAAIO,EAAgB,CAClB,GAAIoC,EAAQ,IAAKL,KAAShB,GACxBiB,EAAwBtC,EAAOqC,KACFpC,EAAIqC,EAAuBE,WAC/CF,EAAsBE,GAGjC,GAAK5B,EAAW4B,KAAQE,EAKjB,OAHL,IACE,OAAOtC,EAASQ,EAAY4B,EAAKE,EAASD,EAAWvB,GAA6BV,EAAUgC,IAAQC,GACpG,MAAOG,KAGb,IAAKP,KAAShB,IACZiB,EAAwBtC,EAAOqC,KACAC,EAAsBE,KAAQE,GAC3DtC,EAASkC,EAAuBE,EAAKC,KAiDzCI,OAlHW,SAAgBxE,GAC3B,IAAKK,EAASL,GAAK,OAAO,EAC1B,IAAI4D,EAAQ/B,EAAQ7B,GACpB,MAAiB,aAAV4D,GACFhC,EAAIoB,EAA4BY,IAChChC,EAAI4B,EAA6BI,IA8GtCD,aAAcA,EACdpB,WAAYA,EACZC,oBAAqBA,IAMjBiC,KACA,SAAU3W,EAAQsS,EAA0B,GAElD,aAEA,IAAIuB,EAAS,EAAoB,MAC7BD,EAAc,EAAoB,MAClCD,EAAsB,EAAoB,MAC1CK,EAA8B,EAAoB,MAClD4C,EAAc,EAAoB,MAClCC,EAAQ,EAAoB,MAC5BC,EAAa,EAAoB,MACjCC,EAAY,EAAoB,MAChCC,EAAW,EAAoB,MAC/BC,EAAU,EAAoB,MAC9BC,EAAU,EAAoB,MAC9BhD,EAAiB,EAAoB,MACrCC,EAAiB,EAAoB,MACrCgD,EAAsB,EAAoB,MAAMzS,EAChD7D,EAAiB,EAAoB,MAAM6D,EAC3C0S,EAAY,EAAoB,MAChCC,EAAiB,EAAoB,MACrCC,EAAsB,EAAoB,MAE1CC,EAAmBD,EAAoBvW,IACvCyW,EAAmBF,EAAoBG,IACvCC,EAAe,cACfC,EAAY,WAGZC,EAAc,cACdC,EAAoBhE,EAAmB,YACvCiE,EAAeD,EACfE,EAAYlE,EAAgB,SAC5BmE,EAAqBD,GAAaA,EAAmB,UACrDpD,EAAkB/T,OAAOY,UACzByW,EAAapE,EAAOoE,WAEpBC,EAAchB,EAAQiB,KACtBC,EAAgBlB,EAAQmB,OAExBC,EAAW,SAAUC,GACvB,MAAO,CAAU,IAATA,IAGNC,EAAY,SAAUD,GACxB,MAAO,CAAU,IAATA,EAAeA,GAAU,EAAI,MAGnCE,EAAY,SAAUF,GACxB,MAAO,CAAU,IAATA,EAAeA,GAAU,EAAI,IAAMA,GAAU,GAAK,IAAMA,GAAU,GAAK,MAG7EG,EAAc,SAAUC,GAC1B,OAAOA,EAAO,IAAM,GAAKA,EAAO,IAAM,GAAKA,EAAO,IAAM,EAAIA,EAAO,IAGjEC,EAAc,SAAUL,GAC1B,OAAOL,EAAYK,EAAQ,GAAI,IAG7BM,EAAc,SAAUN,GAC1B,OAAOL,EAAYK,EAAQ,GAAI,IAG7BO,EAAY,SAAU3F,EAAahM,GACrCtG,EAAesS,EAAqB,UAAGhM,EAAK,CAAEpG,IAAK,WAAc,OAAOwW,EAAiB3M,MAAMzD,OAG7FpG,EAAM,SAAUgY,EAAMC,EAAOhG,EAAOiG,GACtC,IAAIC,EAAWjC,EAAQjE,GACnBmG,EAAQ5B,EAAiBwB,GAC7B,GAAIG,EAAWF,EAAQG,EAAMC,WAAY,MAAMnB,EAAWL,GAC1D,IAAIyB,EAAQ9B,EAAiB4B,EAAMR,QAAQU,MACvCjQ,EAAQ8P,EAAWC,EAAMG,WACzBnB,EAAOkB,EAAMnX,MAAMkH,EAAOA,EAAQ4P,GACtC,OAAOC,EAAiBd,EAAOA,EAAKoB,WAGlC9B,EAAM,SAAUsB,EAAMC,EAAOhG,EAAOwG,EAAYrY,EAAO8X,GACzD,IAAIC,EAAWjC,EAAQjE,GACnBmG,EAAQ5B,EAAiBwB,GAC7B,GAAIG,EAAWF,EAAQG,EAAMC,WAAY,MAAMnB,EAAWL,GAI1D,IAHA,IAAIyB,EAAQ9B,EAAiB4B,EAAMR,QAAQU,MACvCjQ,EAAQ8P,EAAWC,EAAMG,WACzBnB,EAAOqB,GAAYrY,GACdb,EAAI,EAAGA,EAAI0Y,EAAO1Y,IAAK+Y,EAAMjQ,EAAQ9I,GAAK6X,EAAKc,EAAiB3Y,EAAI0Y,EAAQ1Y,EAAI,IAG3F,GAAKqT,EA0FE,CAEL,IAAKkD,GAAM,WACTgB,EAAkB,QACbhB,GAAM,WACX,IAAIgB,GAAmB,OACnBhB,GAAM,WAIV,OAHA,IAAIgB,EACJ,IAAIA,EAAkB,KACtB,IAAIA,EAAkB4B,KACf5B,EAAkBzE,MAAQsE,KAC/B,CAOF,IADA,IAC+DvQ,EAD3DuS,GAJJ5B,EAAe,SAAqB9U,GAElC,OADA8T,EAAWlM,KAAMkN,GACV,IAAID,EAAkBZ,EAAQjU,MAEU,UAAI6U,EAA2B,UACvE9U,EAAOoU,EAAoBU,GAAoB8B,EAAI,EAAQ5W,EAAKC,OAAS2W,IACzExS,EAAMpE,EAAK4W,QAAS7B,GACzB9D,EAA4B8D,EAAc3Q,EAAK0Q,EAAkB1Q,IAGrEuS,EAAqBE,YAAc9B,EAIjC3D,GAAkBD,EAAe8D,KAAwBrD,GAC3DR,EAAe6D,EAAoBrD,GAIrC,IAAIkF,EAAW,IAAI9B,EAAU,IAAID,EAAa,IAC1CgC,EAAgB9B,EAAmB+B,QACvCF,EAASE,QAAQ,EAAG,YACpBF,EAASE,QAAQ,EAAG,aAChBF,EAASG,QAAQ,IAAOH,EAASG,QAAQ,IAAIpD,EAAYoB,EAAoB,CAC/E+B,QAAS,SAAiBT,EAAYnY,GACpC2Y,EAActZ,KAAKoK,KAAM0O,EAAYnY,GAAS,IAAM,KAEtD8Y,SAAU,SAAkBX,EAAYnY,GACtC2Y,EAActZ,KAAKoK,KAAM0O,EAAYnY,GAAS,IAAM,MAErD,CAAE+Y,QAAQ,SApIbpC,EAAe,SAAqB9U,GAClC8T,EAAWlM,KAAMkN,EAAcJ,GAC/B,IAAI0B,EAAanC,EAAQjU,GACzBwU,EAAiB5M,KAAM,CACrByO,MAAOjC,EAAU5W,KAAK,IAAIsB,MAAMsX,GAAa,GAC7CA,WAAYA,IAETxF,IAAahJ,KAAKwO,WAAaA,IAGtCrB,EAAY,SAAkBY,EAAQW,EAAYF,GAChDtC,EAAWlM,KAAMmN,EAAWJ,GAC5Bb,EAAW6B,EAAQb,EAAcH,GACjC,IAAIwC,EAAe5C,EAAiBoB,GAAQS,WACxCgB,EAASrD,EAAUuC,GACvB,GAAIc,EAAS,GAAKA,EAASD,EAAc,MAAMlC,EAAW,gBAE1D,GAAImC,GADJhB,OAA4BvG,IAAfuG,EAA2Be,EAAeC,EAASpD,EAASoC,IAC/Ce,EAAc,MAAMlC,EA9E/B,gBA+EfT,EAAiB5M,KAAM,CACrB+N,OAAQA,EACRS,WAAYA,EACZE,WAAYc,IAETxG,IACHhJ,KAAK+N,OAASA,EACd/N,KAAKwO,WAAaA,EAClBxO,KAAK0O,WAAac,IAIlBxG,IACFkF,EAAUhB,EAAc,cACxBgB,EAAUf,EAAW,UACrBe,EAAUf,EAAW,cACrBe,EAAUf,EAAW,eAGvBnB,EAAYmB,EAAmB,UAAG,CAChCiC,QAAS,SAAiBV,GACxB,OAAOvY,EAAI6J,KAAM,EAAG0O,GAAY,IAAM,IAAM,IAE9Ce,SAAU,SAAkBf,GAC1B,OAAOvY,EAAI6J,KAAM,EAAG0O,GAAY,IAElCgB,SAAU,SAAkBhB,GAC1B,IAAID,EAAQtY,EAAI6J,KAAM,EAAG0O,EAAYnX,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,GAC3E,OAAQwG,EAAM,IAAM,EAAIA,EAAM,KAAO,IAAM,IAE7CkB,UAAW,SAAmBjB,GAC5B,IAAID,EAAQtY,EAAI6J,KAAM,EAAG0O,EAAYnX,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,GAC3E,OAAOwG,EAAM,IAAM,EAAIA,EAAM,IAE/BmB,SAAU,SAAkBlB,GAC1B,OAAOZ,EAAY3X,EAAI6J,KAAM,EAAG0O,EAAYnX,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,KAEpF4H,UAAW,SAAmBnB,GAC5B,OAAOZ,EAAY3X,EAAI6J,KAAM,EAAG0O,EAAYnX,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,MAAgB,GAEpG6H,WAAY,SAAoBpB,GAC9B,OAAOlB,EAAcrX,EAAI6J,KAAM,EAAG0O,EAAYnX,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,GAAY,KAElG8H,WAAY,SAAoBrB,GAC9B,OAAOlB,EAAcrX,EAAI6J,KAAM,EAAG0O,EAAYnX,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,GAAY,KAElGkH,QAAS,SAAiBT,EAAYnY,GACpCsW,EAAI7M,KAAM,EAAG0O,EAAYhB,EAAUnX,IAErC8Y,SAAU,SAAkBX,EAAYnY,GACtCsW,EAAI7M,KAAM,EAAG0O,EAAYhB,EAAUnX,IAErCyZ,SAAU,SAAkBtB,EAAYnY,GACtCsW,EAAI7M,KAAM,EAAG0O,EAAYd,EAAWrX,EAAOgB,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,IAEnFgI,UAAW,SAAmBvB,EAAYnY,GACxCsW,EAAI7M,KAAM,EAAG0O,EAAYd,EAAWrX,EAAOgB,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,IAEnFiI,SAAU,SAAkBxB,EAAYnY,GACtCsW,EAAI7M,KAAM,EAAG0O,EAAYb,EAAWtX,EAAOgB,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,IAEnFkI,UAAW,SAAmBzB,EAAYnY,GACxCsW,EAAI7M,KAAM,EAAG0O,EAAYb,EAAWtX,EAAOgB,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,IAEnFmI,WAAY,SAAoB1B,EAAYnY,GAC1CsW,EAAI7M,KAAM,EAAG0O,EAAYV,EAAazX,EAAOgB,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,IAErFoI,WAAY,SAAoB3B,EAAYnY,GAC1CsW,EAAI7M,KAAM,EAAG0O,EAAYT,EAAa1X,EAAOgB,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,MAiDzFwE,EAAeS,EAAcJ,GAC7BL,EAAeU,EAAWJ,GAE1B3X,EAAOC,QAAU,CACfsT,YAAauE,EACbtE,SAAUuE,IAMNmD,KACA,SAAUlb,EAAQsS,EAA0B,GAElD,aAEA,IAAI6I,EAAW,EAAoB,MAC/BC,EAAkB,EAAoB,MACtCpE,EAAW,EAAoB,MAE/B1S,EAAMM,KAAKN,IAIftE,EAAOC,QAAU,GAAGob,YAAc,SAAoBlY,EAAkBiG,GACtE,IAAIF,EAAIiS,EAASvQ,MACb0Q,EAAMtE,EAAS9N,EAAElG,QACjBuY,EAAKH,EAAgBjY,EAAQmY,GAC7BvZ,EAAOqZ,EAAgBhS,EAAOkS,GAC9BhS,EAAMnH,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,EAC5CmG,EAAQ1U,QAAauO,IAARvJ,EAAoBgS,EAAMF,EAAgB9R,EAAKgS,IAAQvZ,EAAMuZ,EAAMC,GAChFC,EAAM,EAMV,IALIzZ,EAAOwZ,GAAMA,EAAKxZ,EAAOiX,IAC3BwC,GAAO,EACPzZ,GAAQiX,EAAQ,EAChBuC,GAAMvC,EAAQ,GAETA,KAAU,GACXjX,KAAQmH,EAAGA,EAAEqS,GAAMrS,EAAEnH,UACbmH,EAAEqS,GACdA,GAAMC,EACNzZ,GAAQyZ,EACR,OAAOtS,IAMLuS,KACA,SAAUzb,EAAQsS,EAA0B,GAElD,aAEA,IAAI6I,EAAW,EAAoB,MAC/BC,EAAkB,EAAoB,MACtCpE,EAAW,EAAoB,MAInChX,EAAOC,QAAU,SAAckB,GAO7B,IANA,IAAI+H,EAAIiS,EAASvQ,MACb5H,EAASgU,EAAS9N,EAAElG,QACpB0Y,EAAkBvZ,UAAUa,OAC5BgQ,EAAQoI,EAAgBM,EAAkB,EAAIvZ,UAAU,QAAK0Q,EAAW7P,GACxEsG,EAAMoS,EAAkB,EAAIvZ,UAAU,QAAK0Q,EAC3C8I,OAAiB9I,IAARvJ,EAAoBtG,EAASoY,EAAgB9R,EAAKtG,GACxD2Y,EAAS3I,GAAO9J,EAAE8J,KAAW7R,EACpC,OAAO+H,IAMH0S,KACA,SAAU5b,EAAQsS,EAA0B,GAElD,aAEA,IAAIuJ,EAAW,EAAoB,MAAM/S,QAGrCgT,EAFsB,EAAoB,KAE1BC,CAAoB,WAIxC/b,EAAOC,QAAW6b,EAEd,GAAGhT,QAF2B,SAAiBkT,GACjD,OAAOH,EAASjR,KAAMoR,EAAY7Z,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,KAMpEoJ,KACA,SAAUjc,EAAQsS,EAA0B,GAElD,aAEA,IAAIhR,EAAO,EAAoB,MAC3B6Z,EAAW,EAAoB,MAC/Be,EAA+B,EAAoB,MACnDC,EAAwB,EAAoB,MAC5CnF,EAAW,EAAoB,MAC/BoF,EAAiB,EAAoB,MACrCC,EAAoB,EAAoB,MAI5Crc,EAAOC,QAAU,SAAcqc,GAC7B,IAOItZ,EAAQoN,EAAQmM,EAAMC,EAAUC,EAAMtb,EAPtC+H,EAAIiS,EAASmB,GACbhW,EAAmB,mBAARsE,KAAqBA,KAAO9I,MACvC4Z,EAAkBvZ,UAAUa,OAC5B0Z,EAAQhB,EAAkB,EAAIvZ,UAAU,QAAK0Q,EAC7C8J,OAAoB9J,IAAV6J,EACVE,EAAiBP,EAAkBnT,GACnC8J,EAAQ,EAIZ,GAFI2J,IAASD,EAAQpb,EAAKob,EAAOhB,EAAkB,EAAIvZ,UAAU,QAAK0Q,EAAW,IAE3DA,MAAlB+J,GAAiCtW,GAAKxE,OAASqa,EAAsBS,GAWvE,IADAxM,EAAS,IAAI9J,EADbtD,EAASgU,EAAS9N,EAAElG,SAEdA,EAASgQ,EAAOA,IACpB7R,EAAQwb,EAAUD,EAAMxT,EAAE8J,GAAQA,GAAS9J,EAAE8J,GAC7CoJ,EAAehM,EAAQ4C,EAAO7R,QAThC,IAFAsb,GADAD,EAAWI,EAAepc,KAAK0I,IACfuT,KAChBrM,EAAS,IAAI9J,IACLiW,EAAOE,EAAKjc,KAAKgc,IAAWK,KAAM7J,IACxC7R,EAAQwb,EAAUT,EAA6BM,EAAUE,EAAO,CAACH,EAAKpb,MAAO6R,IAAQ,GAAQuJ,EAAKpb,MAClGib,EAAehM,EAAQ4C,EAAO7R,GAWlC,OADAiP,EAAOpN,OAASgQ,EACT5C,IAMH0M,KACA,SAAU9c,EAAQsS,EAA0B,GAElD,IAAIyK,EAAkB,EAAoB,MACtC/F,EAAW,EAAoB,MAC/BoE,EAAkB,EAAoB,MAGtC4B,EAAe,SAAUC,GAC3B,OAAO,SAAUC,EAAOjP,EAAIkP,GAC1B,IAGIhc,EAHA+H,EAAI6T,EAAgBG,GACpBla,EAASgU,EAAS9N,EAAElG,QACpBgQ,EAAQoI,EAAgB+B,EAAWna,GAIvC,GAAIia,GAAehP,GAAMA,GAAI,KAAOjL,EAASgQ,GAG3C,IAFA7R,EAAQ+H,EAAE8J,OAEG7R,EAAO,OAAO,OAEtB,KAAM6B,EAASgQ,EAAOA,IAC3B,IAAKiK,GAAejK,KAAS9J,IAAMA,EAAE8J,KAAW/E,EAAI,OAAOgP,GAAejK,GAAS,EACnF,OAAQiK,IAAgB,IAI9Bjd,EAAOC,QAAU,CAGf4L,SAAUmR,GAAa,GAGvBvL,QAASuL,GAAa,KAMlBI,KACA,SAAUpd,EAAQsS,EAA0B,GAElD,IAAIhR,EAAO,EAAoB,MAC3B+b,EAAgB,EAAoB,MACpClC,EAAW,EAAoB,MAC/BnE,EAAW,EAAoB,MAC/BsG,EAAqB,EAAoB,MAEzCxa,EAAO,GAAGA,KAGVka,EAAe,SAAUO,GAC3B,IAAIC,EAAiB,GAARD,EACTE,EAAoB,GAARF,EACZG,EAAkB,GAARH,EACVI,EAAmB,GAARJ,EACXK,EAAwB,GAARL,EAChBM,EAAwB,GAARN,EAChBO,EAAmB,GAARP,GAAaK,EAC5B,OAAO,SAAUV,EAAOlB,EAAY+B,EAAMC,GASxC,IARA,IAOI7c,EAAOiP,EAPPlH,EAAIiS,EAAS+B,GACbnL,EAAOsL,EAAcnU,GACrB+U,EAAgB3c,EAAK0a,EAAY+B,EAAM,GACvC/a,EAASgU,EAASjF,EAAK/O,QACvBgQ,EAAQ,EACR3R,EAAS2c,GAAkBV,EAC3Bna,EAASqa,EAASnc,EAAO6b,EAAOla,GAAUya,GAAaI,EAAgBxc,EAAO6b,EAAO,QAAKrK,EAExF7P,EAASgQ,EAAOA,IAAS,IAAI8K,GAAY9K,KAASjB,KAEtD3B,EAAS6N,EADT9c,EAAQ4Q,EAAKiB,GACiBA,EAAO9J,GACjCqU,GACF,GAAIC,EAAQra,EAAO6P,GAAS5C,OACvB,GAAIA,EAAQ,OAAQmN,GACvB,KAAK,EAAG,OAAO,EACf,KAAK,EAAG,OAAOpc,EACf,KAAK,EAAG,OAAO6R,EACf,KAAK,EAAGlQ,EAAKtC,KAAK2C,EAAQhC,QACrB,OAAQoc,GACb,KAAK,EAAG,OAAO,EACf,KAAK,EAAGza,EAAKtC,KAAK2C,EAAQhC,GAIhC,OAAOyc,GAAiB,EAAIF,GAAWC,EAAWA,EAAWxa,IAIjEnD,EAAOC,QAAU,CAGf6I,QAASkU,EAAa,GAGtB3X,IAAK2X,EAAa,GAGlBkB,OAAQlB,EAAa,GAGrBvM,KAAMuM,EAAa,GAGnBmB,MAAOnB,EAAa,GAGpBnP,KAAMmP,EAAa,GAGnBoB,UAAWpB,EAAa,GAGxBqB,UAAWrB,EAAa,KAMpBsB,KACA,SAAUte,EAAQsS,EAA0B,GAElD,aAEA,IAAIyK,EAAkB,EAAoB,MACtChG,EAAY,EAAoB,MAChCC,EAAW,EAAoB,MAC/B+E,EAAsB,EAAoB,MAE1CzX,EAAMM,KAAKN,IACXia,EAAoB,GAAGC,YACvBC,IAAkBF,GAAqB,EAAI,CAAC,GAAGC,YAAY,GAAI,GAAK,EACpE1C,EAAgBC,EAAoB,eACpC2C,EAASD,IAAkB3C,EAI/B9b,EAAOC,QAAUye,EAAS,SAAqBC,GAE7C,GAAIF,EAAe,OAAOF,EAAkBK,MAAMhU,KAAMzI,YAAc,EACtE,IAAI+G,EAAI6T,EAAgBnS,MACpB5H,EAASgU,EAAS9N,EAAElG,QACpBgQ,EAAQhQ,EAAS,EAGrB,IAFIb,UAAUa,OAAS,IAAGgQ,EAAQ1O,EAAI0O,EAAO+D,EAAU5U,UAAU,MAC7D6Q,EAAQ,IAAGA,EAAQhQ,EAASgQ,GAC1BA,GAAS,EAAGA,IAAS,GAAIA,KAAS9J,GAAKA,EAAE8J,KAAW2L,EAAe,OAAO3L,GAAS,EACzF,OAAQ,GACNuL,GAKEM,KACA,SAAU7e,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAC5BpE,EAAkB,EAAoB,MACtCqM,EAAa,EAAoB,MAEjCC,EAAUtM,EAAgB,WAE9BzS,EAAOC,QAAU,SAAU+e,GAIzB,OAAOF,GAAc,KAAOjI,GAAM,WAChC,IAAIoI,EAAQ,GAKZ,OAJkBA,EAAMrF,YAAc,IAC1BmF,GAAW,WACrB,MAAO,CAAEG,IAAK,IAE2B,IAApCD,EAAMD,GAAaG,SAASD,SAOjCE,KACA,SAAUpf,EAAQsS,EAA0B,GAElD,aAEA,IAAIuE,EAAQ,EAAoB,MAEhC7W,EAAOC,QAAU,SAAU+e,EAAaK,GACtC,IAAIC,EAAS,GAAGN,GAChB,QAASM,GAAUzI,GAAM,WAEvByI,EAAO9e,KAAK,KAAM6e,GAAY,WAAc,MAAM,GAAM,QAOtDE,KACA,SAAUvf,EAAQsS,EAA0B,GAElD,IAAIkN,EAAY,EAAoB,MAChCrE,EAAW,EAAoB,MAC/BkC,EAAgB,EAAoB,MACpCrG,EAAW,EAAoB,MAG/BgG,EAAe,SAAUyC,GAC3B,OAAO,SAAU1B,EAAM/B,EAAYN,EAAiBgE,GAClDF,EAAUxD,GACV,IAAI9S,EAAIiS,EAAS4C,GACbhM,EAAOsL,EAAcnU,GACrBlG,EAASgU,EAAS9N,EAAElG,QACpBgQ,EAAQyM,EAAWzc,EAAS,EAAI,EAChC1C,EAAImf,GAAY,EAAI,EACxB,GAAI/D,EAAkB,EAAG,OAAa,CACpC,GAAI1I,KAASjB,EAAM,CACjB2N,EAAO3N,EAAKiB,GACZA,GAAS1S,EACT,MAGF,GADA0S,GAAS1S,EACLmf,EAAWzM,EAAQ,EAAIhQ,GAAUgQ,EACnC,MAAMb,UAAU,+CAGpB,KAAMsN,EAAWzM,GAAS,EAAIhQ,EAASgQ,EAAOA,GAAS1S,EAAO0S,KAASjB,IACrE2N,EAAO1D,EAAW0D,EAAM3N,EAAKiB,GAAQA,EAAO9J,IAE9C,OAAOwW,IAIX1f,EAAOC,QAAU,CAGfiI,KAAM8U,GAAa,GAGnBxT,MAAOwT,GAAa,KAMhB2C,KACA,SAAU3f,EAAQsS,EAA0B,GAElD,IAAIC,EAAW,EAAoB,KAC/BvQ,EAAU,EAAoB,MAG9B+c,EAFkB,EAAoB,KAE5BtM,CAAgB,WAI9BzS,EAAOC,QAAU,SAAU2f,EAAe5c,GACxC,IAAIsD,EASF,OAREtE,EAAQ4d,KAGM,mBAFhBtZ,EAAIsZ,EAAchG,cAEatT,IAAMxE,QAASE,EAAQsE,EAAE9E,WAC/C+Q,EAASjM,IAEN,QADVA,EAAIA,EAAEyY,MACUzY,OAAIuM,GAH+CvM,OAAIuM,GAKlE,SAAWA,IAANvM,EAAkBxE,MAAQwE,GAAc,IAAXtD,EAAe,EAAIA,KAM1D6c,KACA,SAAU7f,EAAQsS,EAA0B,GAElD,IAAIwN,EAAW,EAAoB,MAC/BC,EAAgB,EAAoB,MAGxC/f,EAAOC,QAAU,SAAUuc,EAAUwD,EAAI7e,EAAO8e,GAC9C,IACE,OAAOA,EAAUD,EAAGF,EAAS3e,GAAO,GAAIA,EAAM,IAAM6e,EAAG7e,GAEvD,MAAOsV,GAEP,MADAsJ,EAAcvD,GACR/F,KAOJyJ,KACA,SAAUlgB,EAAQsS,EAA0B,GAElD,IAEI6N,EAFkB,EAAoB,KAE3B1N,CAAgB,YAC3B2N,GAAe,EAEnB,IACE,IAAIC,EAAS,EACTC,EAAqB,CACvB7D,KAAM,WACJ,MAAO,CAAEI,OAAQwD,MAEnB,OAAU,WACRD,GAAe,IAGnBE,EAAmBH,GAAY,WAC7B,OAAOvV,MAGT9I,MAAMC,KAAKue,GAAoB,WAAc,MAAM,KACnD,MAAO7J,IAETzW,EAAOC,QAAU,SAAUgG,EAAMsa,GAC/B,IAAKA,IAAiBH,EAAc,OAAO,EAC3C,IAAII,GAAoB,EACxB,IACE,IAAIC,EAAS,GACbA,EAAON,GAAY,WACjB,MAAO,CACL1D,KAAM,WACJ,MAAO,CAAEI,KAAM2D,GAAoB,MAIzCva,EAAKwa,GACL,MAAOhK,IACT,OAAO+J,IAMHE,KACA,SAAU1gB,GAEhB,IAAIwG,EAAW,GAAGA,SAElBxG,EAAOC,QAAU,SAAUiS,GACzB,OAAO1L,EAAShG,KAAK0R,GAAIhQ,MAAM,GAAI,KAM/Bye,IACA,SAAU3gB,EAAQsS,EAA0B,GAElD,IAAIsO,EAAwB,EAAoB,MAC5CC,EAAa,EAAoB,MAGjChM,EAFkB,EAAoB,KAEtBpC,CAAgB,eAEhCqO,EAAuE,aAAnDD,EAAW,WAAc,OAAO1e,UAArB,IAUnCnC,EAAOC,QAAU2gB,EAAwBC,EAAa,SAAU3O,GAC9D,IAAIhJ,EAAG6X,EAAK3Q,EACZ,YAAcyC,IAAPX,EAAmB,YAAqB,OAAPA,EAAc,OAEM,iBAAhD6O,EAXD,SAAU7O,EAAI/K,GACzB,IACE,OAAO+K,EAAG/K,GACV,MAAOsP,KAQSuK,CAAO9X,EAAItI,OAAOsR,GAAK2C,IAA8BkM,EAEnED,EAAoBD,EAAW3X,GAEH,WAA3BkH,EAASyQ,EAAW3X,KAAsC,mBAAZA,EAAE+X,OAAuB,YAAc7Q,IAMtF8Q,KACA,SAAUlhB,EAAQsS,EAA0B,GAElD,IAAIwB,EAAM,EAAoB,MAC1BqN,EAAU,EAAoB,MAC9BC,EAAiC,EAAoB,MACrD1O,EAAuB,EAAoB,MAE/C1S,EAAOC,QAAU,SAAUkD,EAAQke,GAIjC,IAHA,IAAIte,EAAOoe,EAAQE,GACfxgB,EAAiB6R,EAAqBhO,EACtC4c,EAA2BF,EAA+B1c,EACrDpE,EAAI,EAAGA,EAAIyC,EAAKC,OAAQ1C,IAAK,CACpC,IAAI6G,EAAMpE,EAAKzC,GACVwT,EAAI3Q,EAAQgE,IAAMtG,EAAesC,EAAQgE,EAAKma,EAAyBD,EAAQla,OAOlFoa,KACA,SAAUvhB,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAEhC7W,EAAOC,SAAW4W,GAAM,WACtB,SAAS2K,KAET,OADAA,EAAEhgB,UAAUoY,YAAc,KACnBhZ,OAAOsT,eAAe,IAAIsN,KAASA,EAAEhgB,cAMxCigB,KACA,SAAUzhB,EAAQsS,EAA0B,GAElD,aAEA,IAAIoP,EAAoB,EAAoB,MAAMA,kBAC9CrgB,EAAS,EAAoB,IAC7BsgB,EAA2B,EAAoB,MAC/CtK,EAAiB,EAAoB,MACrCuK,EAAY,EAAoB,MAEhCC,EAAa,WAAc,OAAOjX,MAEtC5K,EAAOC,QAAU,SAAU6hB,EAAqBpO,EAAM+I,GACpD,IAAI5H,EAAgBnB,EAAO,YAI3B,OAHAoO,EAAoBtgB,UAAYH,EAAOqgB,EAAmB,CAAEjF,KAAMkF,EAAyB,EAAGlF,KAC9FpF,EAAeyK,EAAqBjN,GAAe,GAAO,GAC1D+M,EAAU/M,GAAiBgN,EACpBC,IAMHC,KACA,SAAU/hB,EAAQsS,EAA0B,GAElD,IAAIsB,EAAc,EAAoB,MAClClB,EAAuB,EAAoB,MAC3CiP,EAA2B,EAAoB,MAEnD3hB,EAAOC,QAAU2T,EAAc,SAAU6M,EAAQtZ,EAAKhG,GACpD,OAAOuR,EAAqBhO,EAAE+b,EAAQtZ,EAAKwa,EAAyB,EAAGxgB,KACrE,SAAUsf,EAAQtZ,EAAKhG,GAEzB,OADAsf,EAAOtZ,GAAOhG,EACPsf,IAMHuB,KACA,SAAUhiB,GAEhBA,EAAOC,QAAU,SAAUgiB,EAAQ9gB,GACjC,MAAO,CACLL,aAAuB,EAATmhB,GACdvX,eAAyB,EAATuX,GAChBtX,WAAqB,EAATsX,GACZ9gB,MAAOA,KAOL+gB,KACA,SAAUliB,EAAQsS,EAA0B,GAElD,aAEA,IAAI6P,EAAc,EAAoB,MAClCzP,EAAuB,EAAoB,MAC3CiP,EAA2B,EAAoB,MAEnD3hB,EAAOC,QAAU,SAAUwgB,EAAQtZ,EAAKhG,GACtC,IAAIihB,EAAcD,EAAYhb,GAC1Bib,KAAe3B,EAAQ/N,EAAqBhO,EAAE+b,EAAQ2B,EAAaT,EAAyB,EAAGxgB,IAC9Fsf,EAAO2B,GAAejhB,IAMvBkhB,IACA,SAAUriB,EAAQsS,EAA0B,GAElD,aAEA,IAAIzL,EAAI,EAAoB,MACxByb,EAA4B,EAAoB,MAChDpO,EAAiB,EAAoB,MACrCC,EAAiB,EAAoB,MACrCkD,EAAiB,EAAoB,MACrCrD,EAA8B,EAAoB,MAClDC,EAAW,EAAoB,MAC/BxB,EAAkB,EAAoB,MACtC8P,EAAU,EAAoB,MAC9BX,EAAY,EAAoB,MAChCY,EAAgB,EAAoB,MAEpCd,EAAoBc,EAAcd,kBAClCe,EAAyBD,EAAcC,uBACvCtC,EAAW1N,EAAgB,YAC3BiQ,EAAO,OACPC,EAAS,SACT1C,EAAU,UAEV4B,EAAa,WAAc,OAAOjX,MAEtC5K,EAAOC,QAAU,SAAU2iB,EAAUlP,EAAMoO,EAAqBrF,EAAMoG,EAASC,EAAQpE,GACrF4D,EAA0BR,EAAqBpO,EAAM+I,GAErD,IAkBIsG,EAA0BC,EAAS3M,EAlBnC4M,EAAqB,SAAUC,GACjC,GAAIA,IAASL,GAAWM,EAAiB,OAAOA,EAChD,IAAKV,GAA0BS,KAAQE,EAAmB,OAAOA,EAAkBF,GACnF,OAAQA,GACN,KAAKR,EACL,KAAKC,EACL,KAAK1C,EAAS,OAAO,WAAqB,OAAO,IAAI6B,EAAoBlX,KAAMsY,IAC/E,OAAO,WAAc,OAAO,IAAIpB,EAAoBlX,QAGpDiK,EAAgBnB,EAAO,YACvB2P,GAAwB,EACxBD,EAAoBR,EAASphB,UAC7B8hB,EAAiBF,EAAkBjD,IAClCiD,EAAkB,eAClBP,GAAWO,EAAkBP,GAC9BM,GAAmBV,GAA0Ba,GAAkBL,EAAmBJ,GAClFU,EAA4B,SAAR7P,GAAkB0P,EAAkBI,SAA4BF,EAiCxF,GA7BIC,IACFR,EAA2B7O,EAAeqP,EAAkB/iB,KAAK,IAAIoiB,IACjElB,IAAsB9gB,OAAOY,WAAauhB,EAAyBtG,OAChE8F,GAAWrO,EAAe6O,KAA8BrB,IACvDvN,EACFA,EAAe4O,EAA0BrB,GACa,mBAAtCqB,EAAyB5C,IACzCnM,EAA4B+O,EAA0B5C,EAAU0B,IAIpExK,EAAe0L,EAA0BlO,GAAe,GAAM,GAC1D0N,IAASX,EAAU/M,GAAiBgN,KAKxCgB,GAAWF,GAAUW,GAAkBA,EAAelQ,OAASuP,IACjEU,GAAwB,EACxBF,EAAkB,WAAoB,OAAOG,EAAe9iB,KAAKoK,QAI7D2X,IAAW7D,GAAW0E,EAAkBjD,KAAcgD,GAC1DnP,EAA4BoP,EAAmBjD,EAAUgD,GAE3DvB,EAAUlO,GAAQyP,EAGdN,EAMF,GALAG,EAAU,CACR9c,OAAQ+c,EAAmBN,GAC3B5f,KAAM+f,EAASK,EAAkBF,EAAmBP,GACpDc,QAASP,EAAmBhD,IAE1BvB,EAAQ,IAAKrI,KAAO2M,GAClBP,GAA0BY,KAA2BhN,KAAO+M,KAC9DnP,EAASmP,EAAmB/M,EAAK2M,EAAQ3M,SAEtCxP,EAAE,CAAE1D,OAAQuQ,EAAM+P,OAAO,EAAMlN,OAAQkM,GAA0BY,GAAyBL,GAGnG,OAAOA,IAMHU,KACA,SAAU1jB,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAGhC7W,EAAOC,SAAW4W,GAAM,WACtB,OAA8E,GAAvEjW,OAAOC,eAAe,GAAI,EAAG,CAAEE,IAAK,WAAc,OAAO,KAAQ,OAMpE4iB,IACA,SAAU3jB,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAC7BtB,EAAW,EAAoB,KAE/BjQ,EAAWuR,EAAOvR,SAElBshB,EAASrR,EAASjQ,IAAaiQ,EAASjQ,EAASC,eAErDvC,EAAOC,QAAU,SAAUiS,GACzB,OAAO0R,EAASthB,EAASC,cAAc2P,GAAM,KAMzC2R,KACA,SAAU7jB,GAIhBA,EAAOC,QAAU,CACf6jB,YAAa,EACbC,oBAAqB,EACrBC,aAAc,EACdC,eAAgB,EAChBC,YAAa,EACbC,cAAe,EACfC,aAAc,EACdC,qBAAsB,EACtBC,SAAU,EACVC,kBAAmB,EACnB3iB,eAAgB,EAChB4iB,gBAAiB,EACjBC,kBAAmB,EACnBC,UAAW,EACXC,cAAe,EACfC,aAAc,EACd/iB,SAAU,EACVgjB,iBAAkB,EAClBC,OAAQ,EACRC,YAAa,EACbC,cAAe,EACfC,cAAe,EACfC,eAAgB,EAChBC,aAAc,EACdC,cAAe,EACfC,iBAAkB,EAClBC,iBAAkB,EAClBC,eAAgB,EAChBC,iBAAkB,EAClBC,cAAe,EACfC,UAAW,IAMPC,KACA,SAAU3lB,EAAQsS,EAA0B,GAElD,IAAIsT,EAAa,EAAoB,MAErC5lB,EAAOC,QAAU2lB,EAAW,YAAa,cAAgB,IAKnDC,KACA,SAAU7lB,EAAQsS,EAA0B,GAElD,IAMIlN,EAAO0gB,EANPjS,EAAS,EAAoB,MAC7BkS,EAAY,EAAoB,MAEhCC,EAAUnS,EAAOmS,QACjBC,EAAWD,GAAWA,EAAQC,SAC9BC,EAAKD,GAAYA,EAASC,GAG1BA,EAEFJ,GADA1gB,EAAQ8gB,EAAG5iB,MAAM,MACD,GAAK8B,EAAM,GAClB2gB,MACT3gB,EAAQ2gB,EAAU3gB,MAAM,iBACVA,EAAM,IAAM,MACxBA,EAAQ2gB,EAAU3gB,MAAM,oBACb0gB,EAAU1gB,EAAM,IAI/BpF,EAAOC,QAAU6lB,IAAYA,GAKvBK,IACA,SAAUnmB,GAGhBA,EAAOC,QAAU,CACf,cACA,iBACA,gBACA,uBACA,iBACA,WACA,YAMImmB,KACA,SAAUpmB,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAC7ByN,EAA2B,EAAoB,MAAM5c,EACrDsP,EAA8B,EAAoB,MAClDC,EAAW,EAAoB,MAC/BoS,EAAY,EAAoB,MAChCC,EAA4B,EAAoB,MAChDC,EAAW,EAAoB,MAgBnCvmB,EAAOC,QAAU,SAAU6G,EAASua,GAClC,IAGYle,EAAQgE,EAAKqf,EAAgBC,EAAgBC,EAHrDC,EAAS7f,EAAQ3D,OACjByjB,EAAS9f,EAAQ+M,OACjBgT,EAAS/f,EAAQggB,KASrB,GANE3jB,EADEyjB,EACO/S,EACAgT,EACAhT,EAAO8S,IAAWN,EAAUM,EAAQ,KAEnC9S,EAAO8S,IAAW,IAAInlB,UAEtB,IAAK2F,KAAOka,EAAQ,CAQ9B,GAPAoF,EAAiBpF,EAAOla,GAGtBqf,EAFE1f,EAAQigB,aACVL,EAAapF,EAAyBne,EAAQgE,KACfuf,EAAWvlB,MACpBgC,EAAOgE,IACtBof,EAASK,EAASzf,EAAMwf,GAAUE,EAAS,IAAM,KAAO1f,EAAKL,EAAQyP,cAE5C1D,IAAnB2T,EAA8B,CAC3C,UAAWC,UAA0BD,EAAgB,SACrDF,EAA0BG,EAAgBD,IAGxC1f,EAAQkgB,MAASR,GAAkBA,EAAeQ,OACpDhT,EAA4ByS,EAAgB,QAAQ,GAGtDxS,EAAS9Q,EAAQgE,EAAKsf,EAAgB3f,MAOpCmgB,KACA,SAAUjnB,GAEhBA,EAAOC,QAAU,SAAUgG,GACzB,IACE,QAASA,IACT,MAAOwQ,GACP,OAAO,KAOLyQ,KACA,SAAUlnB,EAAQsS,EAA0B,GAElD,aAGA,EAAoB,MACpB,IAAI2B,EAAW,EAAoB,MAC/B4C,EAAQ,EAAoB,MAC5BpE,EAAkB,EAAoB,MACtC0U,EAAa,EAAoB,MACjCnT,EAA8B,EAAoB,MAElD+K,EAAUtM,EAAgB,WAE1B2U,GAAiCvQ,GAAM,WAIzC,IAAIwQ,EAAK,IAMT,OALAA,EAAGphB,KAAO,WACR,IAAImK,EAAS,GAEb,OADAA,EAAOkX,OAAS,CAAEllB,EAAG,KACdgO,GAEyB,MAA3B,GAAGrM,QAAQsjB,EAAI,WAKpBE,EACgC,OAA3B,IAAIxjB,QAAQ,IAAK,MAGtByjB,EAAU/U,EAAgB,WAE1BgV,IACE,IAAID,IAC6B,KAA5B,IAAIA,GAAS,IAAK,MAOzBE,GAAqC7Q,GAAM,WAE7C,IAAIwQ,EAAK,OACLM,EAAeN,EAAGphB,KACtBohB,EAAGphB,KAAO,WAAc,OAAO0hB,EAAa/I,MAAMhU,KAAMzI,YACxD,IAAIiO,EAAS,KAAK9M,MAAM+jB,GACxB,OAAyB,IAAlBjX,EAAOpN,QAA8B,MAAdoN,EAAO,IAA4B,MAAdA,EAAO,MAG5DpQ,EAAOC,QAAU,SAAUoW,EAAKrT,EAAQiD,EAAM+gB,GAC5C,IAAIY,EAASnV,EAAgB4D,GAEzBwR,GAAuBhR,GAAM,WAE/B,IAAI3N,EAAI,GAER,OADAA,EAAE0e,GAAU,WAAc,OAAO,GACZ,GAAd,GAAGvR,GAAKnN,MAGb4e,EAAoBD,IAAwBhR,GAAM,WAEpD,IAAIkR,GAAa,EACbV,EAAK,IAkBT,MAhBY,UAARhR,KAIFgR,EAAK,IAGFzN,YAAc,GACjByN,EAAGzN,YAAYmF,GAAW,WAAc,OAAOsI,GAC/CA,EAAGW,MAAQ,GACXX,EAAGO,GAAU,IAAIA,IAGnBP,EAAGphB,KAAO,WAAiC,OAAnB8hB,GAAa,EAAa,MAElDV,EAAGO,GAAQ,KACHG,KAGV,IACGF,IACAC,GACQ,YAARzR,KACC+Q,IACAG,GACCE,IAEM,UAARpR,IAAoBqR,EACrB,CACA,IAAIO,EAAqB,IAAIL,GACzB5E,EAAU/c,EAAK2hB,EAAQ,GAAGvR,IAAM,SAAU6R,EAAcC,EAAQC,EAAKC,EAAMC,GAC7E,OAAIH,EAAOliB,OAASkhB,EACdU,IAAwBS,EAInB,CAAEzL,MAAM,EAAM1b,MAAO8mB,EAAmBznB,KAAK2nB,EAAQC,EAAKC,IAE5D,CAAExL,MAAM,EAAM1b,MAAO+mB,EAAa1nB,KAAK4nB,EAAKD,EAAQE,IAEtD,CAAExL,MAAM,KACd,CACD0K,iBAAkBA,EAClBE,6CAA8CA,IAE5Cc,EAAevF,EAAQ,GACvBwF,EAAcxF,EAAQ,GAE1B/O,EAAS7B,OAAO5Q,UAAW6U,EAAKkS,GAChCtU,EAASwU,OAAOjnB,UAAWomB,EAAkB,GAAV5kB,EAG/B,SAAU0lB,EAAQC,GAAO,OAAOH,EAAYhoB,KAAKkoB,EAAQ9d,KAAM+d,IAG/D,SAAUD,GAAU,OAAOF,EAAYhoB,KAAKkoB,EAAQ9d,QAItDoc,GAAMhT,EAA4ByU,OAAOjnB,UAAUomB,GAAS,QAAQ,KAMpEgB,KACA,SAAU5oB,EAAQsS,EAA0B,GAElD,IAAIkN,EAAY,EAAoB,MAGpCxf,EAAOC,QAAU,SAAU+f,EAAIjC,EAAM/a,GAEnC,GADAwc,EAAUQ,QACGnN,IAATkL,EAAoB,OAAOiC,EAC/B,OAAQhd,GACN,KAAK,EAAG,OAAO,WACb,OAAOgd,EAAGxf,KAAKud,IAEjB,KAAK,EAAG,OAAO,SAAU3b,GACvB,OAAO4d,EAAGxf,KAAKud,EAAM3b,IAEvB,KAAK,EAAG,OAAO,SAAUA,EAAG0C,GAC1B,OAAOkb,EAAGxf,KAAKud,EAAM3b,EAAG0C,IAE1B,KAAK,EAAG,OAAO,SAAU1C,EAAG0C,EAAGpE,GAC7B,OAAOsf,EAAGxf,KAAKud,EAAM3b,EAAG0C,EAAGpE,IAG/B,OAAO,WACL,OAAOsf,EAAGpB,MAAMb,EAAM5b,cAOpB0mB,KACA,SAAU7oB,EAAQsS,EAA0B,GAElD,IAAIrP,EAAO,EAAoB,KAC3B4Q,EAAS,EAAoB,MAE7B2L,EAAY,SAAUsJ,GACxB,MAA0B,mBAAZA,EAAyBA,OAAWjW,GAGpD7S,EAAOC,QAAU,SAAU8oB,EAAWzJ,GACpC,OAAOnd,UAAUa,OAAS,EAAIwc,EAAUvc,EAAK8lB,KAAevJ,EAAU3L,EAAOkV,IACzE9lB,EAAK8lB,IAAc9lB,EAAK8lB,GAAWzJ,IAAWzL,EAAOkV,IAAclV,EAAOkV,GAAWzJ,KAMrF0J,KACA,SAAUhpB,EAAQsS,EAA0B,GAElD,IAAIyB,EAAU,EAAoB,KAC9B6N,EAAY,EAAoB,MAGhCzB,EAFkB,EAAoB,KAE3B1N,CAAgB,YAE/BzS,EAAOC,QAAU,SAAUiS,GACzB,GAAUW,MAANX,EAAiB,OAAOA,EAAGiO,IAC1BjO,EAAG,eACH0P,EAAU7N,EAAQ7B,MAMnB+W,KACA,SAAUjpB,EAAQsS,EAA0B,GAElD,IAAIwN,EAAW,EAAoB,MAC/BzD,EAAoB,EAAoB,MAE5Crc,EAAOC,QAAU,SAAUiS,GACzB,IAAI0K,EAAiBP,EAAkBnK,GACvC,GAA6B,mBAAlB0K,EACT,MAAMzK,UAAUC,OAAOF,GAAM,oBAC7B,OAAO4N,EAASlD,EAAepc,KAAK0R,MAMlCgX,IACA,SAAUlpB,EAAQsS,EAA0B,GAElD,IAAI6I,EAAW,EAAoB,MAE/B1W,EAAQG,KAAKH,MACbV,EAAU,GAAGA,QACbolB,EAAuB,4BACvBC,EAAgC,oBAGpCppB,EAAOC,QAAU,SAAUopB,EAASjB,EAAK1e,EAAU4f,EAAUC,EAAeC,GAC1E,IAAIC,EAAU/f,EAAW2f,EAAQrmB,OAC7BvC,EAAI6oB,EAAStmB,OACb0mB,EAAUN,EAKd,YAJsBvW,IAAlB0W,IACFA,EAAgBpO,EAASoO,GACzBG,EAAUP,GAELplB,EAAQvD,KAAKgpB,EAAaE,GAAS,SAAUtkB,EAAOukB,GACzD,IAAI1nB,EACJ,OAAQ0nB,EAAG5W,OAAO,IAChB,IAAK,IAAK,MAAO,IACjB,IAAK,IAAK,OAAOsW,EACjB,IAAK,IAAK,OAAOjB,EAAIlmB,MAAM,EAAGwH,GAC9B,IAAK,IAAK,OAAO0e,EAAIlmB,MAAMunB,GAC3B,IAAK,IACHxnB,EAAUsnB,EAAcI,EAAGznB,MAAM,GAAI,IACrC,MACF,QACE,IAAI7B,GAAKspB,EACT,GAAU,IAANtpB,EAAS,OAAO+E,EACpB,GAAI/E,EAAII,EAAG,CACT,IAAIiE,EAAID,EAAMpE,EAAI,IAClB,OAAU,IAANqE,EAAgBU,EAChBV,GAAKjE,OAA8BoS,IAApByW,EAAS5kB,EAAI,GAAmBilB,EAAG5W,OAAO,GAAKuW,EAAS5kB,EAAI,GAAKilB,EAAG5W,OAAO,GACvF3N,EAETnD,EAAUqnB,EAASjpB,EAAI,GAE3B,YAAmBwS,IAAZ5Q,EAAwB,GAAKA,OAOlC2nB,KACA,SAAU5pB,EAAQsS,EAA0B,GAElD,IAAIuX,EAAQ,SAAU3X,GACpB,OAAOA,GAAMA,EAAGtN,MAAQA,MAAQsN,GAIlClS,EAAOC,QAEL4pB,EAA2B,iBAAdC,YAA0BA,aACvCD,EAAuB,iBAAV9pB,QAAsBA,SACnC8pB,EAAqB,iBAAR9X,MAAoBA,OACjC8X,EAAsC,iBAAzB,EAAoB9kB,GAAiB,EAAoBA,IAEtE,WAAe,OAAO6F,KAAtB,IAAoCmL,SAAS,cAATA,IAKhCgU,KACA,SAAU/pB,GAEhB,IAAIyB,EAAiB,GAAGA,eAExBzB,EAAOC,QAAU,SAAUiS,EAAI/K,GAC7B,OAAO1F,EAAejB,KAAK0R,EAAI/K,KAM3B6iB,KACA,SAAUhqB,GAEhBA,EAAOC,QAAU,IAKXgqB,IACA,SAAUjqB,EAAQsS,EAA0B,GAElD,IAAIsT,EAAa,EAAoB,MAErC5lB,EAAOC,QAAU2lB,EAAW,WAAY,oBAKlCsE,KACA,SAAUlqB,EAAQsS,EAA0B,GAElD,IAAIsB,EAAc,EAAoB,MAClCiD,EAAQ,EAAoB,MAC5BtU,EAAgB,EAAoB,KAGxCvC,EAAOC,SAAW2T,IAAgBiD,GAAM,WACtC,OAEQ,GAFDjW,OAAOC,eAAe0B,EAAc,OAAQ,IAAK,CACtDxB,IAAK,WAAc,OAAO,KACzBqB,MAMC+nB,KACA,SAAUnqB,GAGhB,IAAIoqB,EAAMxlB,KAAKwlB,IACXC,EAAMzlB,KAAKylB,IACX5lB,EAAQG,KAAKH,MACb6lB,EAAM1lB,KAAK0lB,IACXC,EAAM3lB,KAAK2lB,IA6EfvqB,EAAOC,QAAU,CACfkY,KA5ES,SAAUI,EAAQiS,EAAgBnR,GAC3C,IAOIoR,EAAUC,EAAUhqB,EAPpBiY,EAAS,IAAI7W,MAAMuX,GACnBsR,EAAyB,EAARtR,EAAYmR,EAAiB,EAC9CI,GAAQ,GAAKD,GAAkB,EAC/BE,EAAQD,GAAQ,EAChBE,EAAwB,KAAnBN,EAAwBH,EAAI,GAAI,IAAMA,EAAI,GAAI,IAAM,EACzDU,EAAOxS,EAAS,GAAgB,IAAXA,GAAgB,EAAIA,EAAS,EAAI,EAAI,EAC1DvF,EAAQ,EAkCZ,KAhCAuF,EAAS6R,EAAI7R,KAECA,GAAUA,IAAWyS,KAEjCN,EAAWnS,GAAUA,EAAS,EAAI,EAClCkS,EAAWG,IAEXH,EAAWhmB,EAAM6lB,EAAI/R,GAAUgS,GAC3BhS,GAAU7X,EAAI2pB,EAAI,GAAII,IAAa,IACrCA,IACA/pB,GAAK,IAGL6X,GADEkS,EAAWI,GAAS,EACZC,EAAKpqB,EAELoqB,EAAKT,EAAI,EAAG,EAAIQ,IAEfnqB,GAAK,IAChB+pB,IACA/pB,GAAK,GAEH+pB,EAAWI,GAASD,GACtBF,EAAW,EACXD,EAAWG,GACFH,EAAWI,GAAS,GAC7BH,GAAYnS,EAAS7X,EAAI,GAAK2pB,EAAI,EAAGG,GACrCC,GAAsBI,IAEtBH,EAAWnS,EAAS8R,EAAI,EAAGQ,EAAQ,GAAKR,EAAI,EAAGG,GAC/CC,EAAW,IAGRD,GAAkB,EAAG7R,EAAO3F,KAAsB,IAAX0X,EAAgBA,GAAY,IAAKF,GAAkB,GAGjG,IAFAC,EAAWA,GAAYD,EAAiBE,EACxCC,GAAkBH,EACXG,EAAiB,EAAGhS,EAAO3F,KAAsB,IAAXyX,EAAgBA,GAAY,IAAKE,GAAkB,GAEhG,OADAhS,IAAS3F,IAAiB,IAAP+X,EACZpS,GA+BPN,OA5BW,SAAUM,EAAQ6R,GAC7B,IAQIE,EARArR,EAAQV,EAAO3V,OACf2nB,EAAyB,EAARtR,EAAYmR,EAAiB,EAC9CI,GAAQ,GAAKD,GAAkB,EAC/BE,EAAQD,GAAQ,EAChBK,EAAQN,EAAiB,EACzB3X,EAAQqG,EAAQ,EAChB0R,EAAOpS,EAAO3F,KACdyX,EAAkB,IAAPM,EAGf,IADAA,IAAS,EACFE,EAAQ,EAAGR,EAAsB,IAAXA,EAAiB9R,EAAO3F,GAAQA,IAASiY,GAAS,GAI/E,IAHAP,EAAWD,GAAY,IAAMQ,GAAS,EACtCR,KAAcQ,EACdA,GAAST,EACFS,EAAQ,EAAGP,EAAsB,IAAXA,EAAiB/R,EAAO3F,GAAQA,IAASiY,GAAS,GAC/E,GAAiB,IAAbR,EACFA,EAAW,EAAII,MACV,IAAIJ,IAAaG,EACtB,OAAOF,EAAWjR,IAAMsR,GAAO,IAAYC,IAE3CN,GAAsBL,EAAI,EAAGG,GAC7BC,GAAsBI,EACtB,OAAQE,GAAQ,EAAI,GAAKL,EAAWL,EAAI,EAAGI,EAAWD,MAWpDU,KACA,SAAUlrB,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAC5B9C,EAAU,EAAoB,MAE9BzQ,EAAQ,GAAGA,MAGftD,EAAOC,QAAU4W,GAAM,WAGrB,OAAQjW,OAAO,KAAKuqB,qBAAqB,MACtC,SAAUjZ,GACb,MAAsB,UAAf6B,EAAQ7B,GAAkB5O,EAAM9C,KAAK0R,EAAI,IAAMtR,OAAOsR,IAC3DtR,QAKEwqB,KACA,SAAUprB,EAAQsS,EAA0B,GAElD,IAAIC,EAAW,EAAoB,KAC/B4B,EAAiB,EAAoB,MAGzCnU,EAAOC,QAAU,SAAUid,EAAOmO,EAAOC,GACvC,IAAIC,EAAWC,EAUf,OAPErX,GAE0C,mBAAlCoX,EAAYF,EAAMzR,cAC1B2R,IAAcD,GACd/Y,EAASiZ,EAAqBD,EAAU/pB,YACxCgqB,IAAuBF,EAAQ9pB,WAC/B2S,EAAe+I,EAAOsO,GACjBtO,IAMHuO,KACA,SAAUzrB,EAAQsS,EAA0B,GAElD,IAAI6G,EAAQ,EAAoB,MAE5BuS,EAAmB3V,SAASvP,SAGE,mBAAvB2S,EAAMwS,gBACfxS,EAAMwS,cAAgB,SAAUzZ,GAC9B,OAAOwZ,EAAiBlrB,KAAK0R,KAIjClS,EAAOC,QAAUkZ,EAAMwS,eAKjBC,KACA,SAAU5rB,EAAQsS,EAA0B,GAElD,IAUImF,EAAK1W,EAAK+S,EAVV+X,EAAkB,EAAoB,MACtChY,EAAS,EAAoB,MAC7BtB,EAAW,EAAoB,KAC/ByB,EAA8B,EAAoB,MAClD8X,EAAY,EAAoB,MAChCC,EAAS,EAAoB,MAC7BC,EAAY,EAAoB,MAChCC,EAAa,EAAoB,MAEjCC,EAAUrY,EAAOqY,QAgBrB,GAAIL,EAAiB,CACnB,IAAI1S,EAAQ4S,EAAOI,QAAUJ,EAAOI,MAAQ,IAAID,GAC5CE,EAAQjT,EAAMpY,IACdsrB,EAAQlT,EAAMrF,IACdwY,EAAQnT,EAAM1B,IAClBA,EAAM,SAAUvF,EAAIqa,GAGlB,OAFAA,EAASC,OAASta,EAClBoa,EAAM9rB,KAAK2Y,EAAOjH,EAAIqa,GACfA,GAETxrB,EAAM,SAAUmR,GACd,OAAOka,EAAM5rB,KAAK2Y,EAAOjH,IAAO,IAElC4B,EAAM,SAAU5B,GACd,OAAOma,EAAM7rB,KAAK2Y,EAAOjH,QAEtB,CACL,IAAIua,EAAQT,EAAU,SACtBC,EAAWQ,IAAS,EACpBhV,EAAM,SAAUvF,EAAIqa,GAGlB,OAFAA,EAASC,OAASta,EAClB8B,EAA4B9B,EAAIua,EAAOF,GAChCA,GAETxrB,EAAM,SAAUmR,GACd,OAAO4Z,EAAU5Z,EAAIua,GAASva,EAAGua,GAAS,IAE5C3Y,EAAM,SAAU5B,GACd,OAAO4Z,EAAU5Z,EAAIua,IAIzBzsB,EAAOC,QAAU,CACfwX,IAAKA,EACL1W,IAAKA,EACL+S,IAAKA,EACL4Y,QAjDY,SAAUxa,GACtB,OAAO4B,EAAI5B,GAAMnR,EAAImR,GAAMuF,EAAIvF,EAAI,KAiDnCya,UA9Cc,SAAUpP,GACxB,OAAO,SAAUrL,GACf,IAAIia,EACJ,IAAK5Z,EAASL,KAAQia,EAAQprB,EAAImR,IAAK/L,OAASoX,EAC9C,MAAMpL,UAAU,0BAA4BoL,EAAO,aACnD,OAAO4O,MA+CPS,KACA,SAAU5sB,EAAQsS,EAA0B,GAElD,IAAIG,EAAkB,EAAoB,MACtCmP,EAAY,EAAoB,MAEhCzB,EAAW1N,EAAgB,YAC3BG,EAAiB9Q,MAAMN,UAG3BxB,EAAOC,QAAU,SAAUiS,GACzB,YAAcW,IAAPX,IAAqB0P,EAAU9f,QAAUoQ,GAAMU,EAAeuN,KAAcjO,KAM/E2a,KACA,SAAU7sB,EAAQsS,EAA0B,GAElD,IAAIyB,EAAU,EAAoB,MAIlC/T,EAAOC,QAAU6B,MAAME,SAAW,SAAiB2mB,GACjD,MAAuB,SAAhB5U,EAAQ4U,KAMXmE,KACA,SAAU9sB,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAE5B2S,EAAc,kBAEdjD,EAAW,SAAUwG,EAASC,GAChC,IAAI7rB,EAAQ8rB,EAAKC,EAAUH,IAC3B,OAAO5rB,GAASgsB,GACZhsB,GAASisB,IACW,mBAAbJ,EAA0BnW,EAAMmW,KACrCA,IAGJE,EAAY3G,EAAS2G,UAAY,SAAUxE,GAC7C,OAAOtW,OAAOsW,GAAQ3kB,QAAQylB,EAAa,KAAKhkB,eAG9CynB,EAAO1G,EAAS0G,KAAO,GACvBG,EAAS7G,EAAS6G,OAAS,IAC3BD,EAAW5G,EAAS4G,SAAW,IAEnCntB,EAAOC,QAAUsmB,GAKX8G,IACA,SAAUrtB,GAEhBA,EAAOC,QAAU,SAAUiS,GACzB,MAAqB,iBAAPA,EAAyB,OAAPA,EAA4B,mBAAPA,IAMjDob,KACA,SAAUttB,GAEhBA,EAAOC,SAAU,GAKXstB,KACA,SAAUvtB,EAAQsS,EAA0B,GAElD,IAAIC,EAAW,EAAoB,KAC/BwB,EAAU,EAAoB,MAG9ByZ,EAFkB,EAAoB,KAE9B/a,CAAgB,SAI5BzS,EAAOC,QAAU,SAAUiS,GACzB,IAAIub,EACJ,OAAOlb,EAASL,UAAmCW,KAA1B4a,EAAWvb,EAAGsb,MAA0BC,EAA0B,UAAf1Z,EAAQ7B,MAMhFwb,KACA,SAAU1tB,EAAQsS,EAA0B,GAElD,IAAIwN,EAAW,EAAoB,MAEnC9f,EAAOC,QAAU,SAAUuc,GACzB,IAAImR,EAAenR,EAAiB,OACpC,QAAqB3J,IAAjB8a,EACF,OAAO7N,EAAS6N,EAAantB,KAAKgc,IAAWrb,QAO3CysB,KACA,SAAU5tB,EAAQsS,EAA0B,GAElD,aAEA,IAcIoP,EAAmBmM,EAAmCC,EAdtDjX,EAAQ,EAAoB,MAC5B3C,EAAiB,EAAoB,MACrCF,EAA8B,EAAoB,MAClDF,EAAM,EAAoB,MAC1BrB,EAAkB,EAAoB,MACtC8P,EAAU,EAAoB,MAE9BpC,EAAW1N,EAAgB,YAC3BgQ,GAAyB,EAQzB,GAAG1f,OAGC,SAFN+qB,EAAgB,GAAG/qB,SAIjB8qB,EAAoC3Z,EAAeA,EAAe4Z,OACxBltB,OAAOY,YAAWkgB,EAAoBmM,GAHlDpL,GAAyB,GAO3D,IAAIsL,EAA8Clb,MAArB6O,GAAkC7K,GAAM,WACnE,IAAI7Q,EAAO,GAEX,OAAO0b,EAAkBvB,GAAU3f,KAAKwF,KAAUA,KAGhD+nB,IAAwBrM,EAAoB,IAG1Ca,IAAWwL,GAA4Bja,EAAI4N,EAAmBvB,IAClEnM,EAA4B0N,EAAmBvB,GA1BhC,WAAc,OAAOvV,QA6BtC5K,EAAOC,QAAU,CACfyhB,kBAAmBA,EACnBe,uBAAwBA,IAMpBuL,KACA,SAAUhuB,GAEhBA,EAAOC,QAAU,IAKXguB,IACA,SAAUjuB,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAEhC7W,EAAOC,UAAYW,OAAOstB,wBAA0BrX,GAAM,WAGxD,OAAQzE,OAAOnR,cAMXktB,IACA,SAAUnuB,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAC5BpE,EAAkB,EAAoB,MACtC8P,EAAU,EAAoB,MAE9BpC,EAAW1N,EAAgB,YAE/BzS,EAAOC,SAAW4W,GAAM,WACtB,IAAIuX,EAAM,IAAIC,IAAI,gBAAiB,YAC/BC,EAAeF,EAAIE,aACnBle,EAAS,GAMb,OALAge,EAAIG,SAAW,QACfD,EAAaxlB,SAAQ,SAAU3H,EAAOgG,GACpCmnB,EAAqB,OAAE,KACvBle,GAAUjJ,EAAMhG,KAEVohB,IAAY6L,EAAII,SAClBF,EAAaG,MACD,2BAAbL,EAAIM,MACsB,MAA1BJ,EAAavtB,IAAI,MACuB,QAAxCqR,OAAO,IAAIuc,gBAAgB,WAC1BL,EAAanO,IAEsB,MAApC,IAAIkO,IAAI,eAAeO,UACsC,MAA7D,IAAID,gBAAgB,IAAIA,gBAAgB,QAAQ5tB,IAAI,MAEpB,eAAhC,IAAIstB,IAAI,eAAeQ,MAEQ,YAA/B,IAAIR,IAAI,cAAcS,MAEX,SAAX1e,GAEwC,MAAxC,IAAIie,IAAI,gBAAYxb,GAAWgc,SAMhCE,KACA,SAAU/uB,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAC7B8X,EAAgB,EAAoB,MAEpCO,EAAUrY,EAAOqY,QAErBlsB,EAAOC,QAA6B,mBAAZisB,GAA0B,cAAclmB,KAAK2lB,EAAcO,KAK7E8C,KACA,SAAUhvB,EAAQsS,EAA0B,GAElD,aAEA,IAAIsB,EAAc,EAAoB,MAClCiD,EAAQ,EAAoB,MAC5BoY,EAAa,EAAoB,MACjCC,EAA8B,EAAoB,MAClDC,EAA6B,EAAoB,MACjDhU,EAAW,EAAoB,MAC/BkC,EAAgB,EAAoB,MAEpC+R,EAAexuB,OAAOmG,OACtBlG,EAAiBD,OAAOC,eAI5Bb,EAAOC,SAAWmvB,GAAgBvY,GAAM,WAEtC,GAAIjD,GAQiB,IARFwb,EAAa,CAAEtqB,EAAG,GAAKsqB,EAAavuB,EAAe,GAAI,IAAK,CAC7EC,YAAY,EACZC,IAAK,WACHF,EAAe+J,KAAM,IAAK,CACxBzJ,MAAO,EACPL,YAAY,OAGd,CAAEgE,EAAG,KAAMA,EAAS,OAAO,EAE/B,IAAIS,EAAI,GACJ8pB,EAAI,GAEJC,EAASruB,SACTsuB,EAAW,uBAGf,OAFAhqB,EAAE+pB,GAAU,EACZC,EAASjsB,MAAM,IAAIwF,SAAQ,SAAU0mB,GAAOH,EAAEG,GAAOA,KACf,GAA/BJ,EAAa,GAAI7pB,GAAG+pB,IAAgBL,EAAWG,EAAa,GAAIC,IAAIjpB,KAAK,KAAOmpB,KACpF,SAAgBpsB,EAAQke,GAM3B,IALA,IAAIoO,EAAItU,EAAShY,GACbuY,EAAkBvZ,UAAUa,OAC5BgQ,EAAQ,EACRkb,EAAwBgB,EAA4BxqB,EACpDymB,EAAuBgE,EAA2BzqB,EAC/CgX,EAAkB1I,GAMvB,IALA,IAII7L,EAJAwB,EAAI0U,EAAclb,UAAU6Q,MAC5BjQ,EAAOmrB,EAAwBe,EAAWtmB,GAAG+mB,OAAOxB,EAAsBvlB,IAAMsmB,EAAWtmB,GAC3F3F,EAASD,EAAKC,OACd2W,EAAI,EAED3W,EAAS2W,GACdxS,EAAMpE,EAAK4W,KACN/F,IAAeuX,EAAqB3qB,KAAKmI,EAAGxB,KAAMsoB,EAAEtoB,GAAOwB,EAAExB,IAEpE,OAAOsoB,GACPL,GAKEO,GACA,SAAU3vB,EAAQsS,EAA0B,GAElD,IAmDIsd,EAnDA9P,EAAW,EAAoB,MAC/B+P,EAAmB,EAAoB,MACvCC,EAAc,EAAoB,KAClC7D,EAAa,EAAoB,MACjC8D,EAAO,EAAoB,KAC3BC,EAAwB,EAAoB,KAC5ChE,EAAY,EAAoB,MAMhCiE,EAAWjE,EAAU,YAErBkE,EAAmB,aAEnBC,EAAY,SAAUC,GACxB,MAAOC,WAAmBD,EAAnBC,cAmCLC,EAAkB,WACpB,IAEEV,EAAkBttB,SAASiuB,QAAU,IAAIC,cAAc,YACvD,MAAO/Z,IA1BoB,IAIzBga,EAFAC,EAyBJJ,EAAkBV,EApCY,SAAUA,GACxCA,EAAgBe,MAAMR,EAAU,KAChCP,EAAgBgB,QAChB,IAAIC,EAAOjB,EAAgBkB,aAAalwB,OAExC,OADAgvB,EAAkB,KACXiB,EA+B6BE,CAA0BnB,KAzB1Dc,EAASV,EAAsB,WAG5B1nB,MAAM0oB,QAAU,OACvBjB,EAAK7hB,YAAYwiB,GAEjBA,EAAOO,IAAM7e,OALJ,gBAMTqe,EAAiBC,EAAOQ,cAAc5uB,UACvB6uB,OACfV,EAAeE,MAAMR,EAAU,sBAC/BM,EAAeG,QACRH,EAAejP,GAgBtB,IADA,IAAIxe,EAAS8sB,EAAY9sB,OAClBA,YAAiBstB,EAAyB,UAAER,EAAY9sB,IAC/D,OAAOstB,KAGTrE,EAAWgE,IAAY,EAIvBjwB,EAAOC,QAAUW,OAAOS,QAAU,SAAgB6H,EAAGkoB,GACnD,IAAIhhB,EAQJ,OAPU,OAANlH,GACFgnB,EAA0B,UAAIpQ,EAAS5W,GACvCkH,EAAS,IAAI8f,EACbA,EAA0B,UAAI,KAE9B9f,EAAO6f,GAAY/mB,GACdkH,EAASkgB,SACMzd,IAAfue,EAA2BhhB,EAASyf,EAAiBzf,EAAQghB,KAMhEC,KACA,SAAUrxB,EAAQsS,EAA0B,GAElD,IAAIsB,EAAc,EAAoB,MAClClB,EAAuB,EAAoB,MAC3CoN,EAAW,EAAoB,MAC/BmP,EAAa,EAAoB,MAIrCjvB,EAAOC,QAAU2T,EAAchT,OAAOivB,iBAAmB,SAA0B3mB,EAAGkoB,GACpFtR,EAAS5W,GAKT,IAJA,IAGI/B,EAHApE,EAAOksB,EAAWmC,GAClBpuB,EAASD,EAAKC,OACdgQ,EAAQ,EAELhQ,EAASgQ,GAAON,EAAqBhO,EAAEwE,EAAG/B,EAAMpE,EAAKiQ,KAAUoe,EAAWjqB,IACjF,OAAO+B,IAMHooB,KACA,SAAUC,EAAyBtxB,EAAS,GAElD,IAAI2T,EAAc,EAAoB,MAClC4d,EAAiB,EAAoB,MACrC1R,EAAW,EAAoB,MAC/BqC,EAAc,EAAoB,MAElCsP,EAAuB7wB,OAAOC,eAIlCZ,EAAQyE,EAAIkP,EAAc6d,EAAuB,SAAwBvoB,EAAGwoB,EAAGC,GAI7E,GAHA7R,EAAS5W,GACTwoB,EAAIvP,EAAYuP,GAAG,GACnB5R,EAAS6R,GACLH,EAAgB,IAClB,OAAOC,EAAqBvoB,EAAGwoB,EAAGC,GAClC,MAAOlb,IACT,GAAI,QAASkb,GAAc,QAASA,EAAY,MAAMxf,UAAU,2BAEhE,MADI,UAAWwf,IAAYzoB,EAAEwoB,GAAKC,EAAWxwB,OACtC+H,IAMH0oB,KACA,SAAUL,EAAyBtxB,EAAS,GAElD,IAAI2T,EAAc,EAAoB,MAClCub,EAA6B,EAAoB,MACjDxN,EAA2B,EAAoB,MAC/C5E,EAAkB,EAAoB,MACtCoF,EAAc,EAAoB,MAClCrO,EAAM,EAAoB,MAC1B0d,EAAiB,EAAoB,MAErCK,EAAiCjxB,OAAO0gB,yBAI5CrhB,EAAQyE,EAAIkP,EAAcie,EAAiC,SAAkC3oB,EAAGwoB,GAG9F,GAFAxoB,EAAI6T,EAAgB7T,GACpBwoB,EAAIvP,EAAYuP,GAAG,GACfF,EAAgB,IAClB,OAAOK,EAA+B3oB,EAAGwoB,GACzC,MAAOjb,IACT,GAAI3C,EAAI5K,EAAGwoB,GAAI,OAAO/P,GAA0BwN,EAA2BzqB,EAAElE,KAAK0I,EAAGwoB,GAAIxoB,EAAEwoB,MAMvFI,KACA,SAAUP,EAAyBtxB,EAAS,GAElD,IAAI8xB,EAAqB,EAAoB,MAGzC9F,EAFc,EAAoB,KAETyD,OAAO,SAAU,aAI9CzvB,EAAQyE,EAAI9D,OAAOuW,qBAAuB,SAA6BjO,GACrE,OAAO6oB,EAAmB7oB,EAAG+iB,KAMzB+F,KACA,SAAUT,EAAyBtxB,GAEzCA,EAAQyE,EAAI9D,OAAOstB,uBAKb+D,KACA,SAAUjyB,EAAQsS,EAA0B,GAElD,IAAIwB,EAAM,EAAoB,MAC1BqH,EAAW,EAAoB,MAC/B6Q,EAAY,EAAoB,MAChCkG,EAA2B,EAAoB,MAE/CjC,EAAWjE,EAAU,YACrBrX,EAAkB/T,OAAOY,UAI7BxB,EAAOC,QAAUiyB,EAA2BtxB,OAAOsT,eAAiB,SAAUhL,GAE5E,OADAA,EAAIiS,EAASjS,GACT4K,EAAI5K,EAAG+mB,GAAkB/mB,EAAE+mB,GACH,mBAAjB/mB,EAAE0Q,aAA6B1Q,aAAaA,EAAE0Q,YAChD1Q,EAAE0Q,YAAYpY,UACd0H,aAAatI,OAAS+T,EAAkB,OAM7Cwd,KACA,SAAUnyB,EAAQsS,EAA0B,GAElD,IAAIwB,EAAM,EAAoB,MAC1BiJ,EAAkB,EAAoB,MACtCtL,EAAU,EAAoB,MAAMA,QACpCwa,EAAa,EAAoB,MAErCjsB,EAAOC,QAAU,SAAUwgB,EAAQ2R,GACjC,IAGIjrB,EAHA+B,EAAI6T,EAAgB0D,GACpBngB,EAAI,EACJ8P,EAAS,GAEb,IAAKjJ,KAAO+B,GAAI4K,EAAImY,EAAY9kB,IAAQ2M,EAAI5K,EAAG/B,IAAQiJ,EAAOtN,KAAKqE,GAEnE,KAAOirB,EAAMpvB,OAAS1C,GAAOwT,EAAI5K,EAAG/B,EAAMirB,EAAM9xB,SAC7CmR,EAAQrB,EAAQjJ,IAAQiJ,EAAOtN,KAAKqE,IAEvC,OAAOiJ,IAMHiiB,KACA,SAAUryB,EAAQsS,EAA0B,GAElD,IAAIyf,EAAqB,EAAoB,MACzCjC,EAAc,EAAoB,KAItC9vB,EAAOC,QAAUW,OAAOmC,MAAQ,SAAcmG,GAC5C,OAAO6oB,EAAmB7oB,EAAG4mB,KAMzBwC,KACA,SAAUf,EAAyBtxB,GAEzC,aAEA,IAAIsyB,EAA6B,GAAGpH,qBAChC7J,EAA2B1gB,OAAO0gB,yBAGlCkR,EAAclR,IAA6BiR,EAA2B/xB,KAAK,CAAEiyB,EAAG,GAAK,GAIzFxyB,EAAQyE,EAAI8tB,EAAc,SAA8BE,GACtD,IAAIhM,EAAapF,EAAyB1W,KAAM8nB,GAChD,QAAShM,GAAcA,EAAW5lB,YAChCyxB,GAKEI,KACA,SAAU3yB,EAAQsS,EAA0B,GAGlD,IAAIwN,EAAW,EAAoB,MAC/B8S,EAAqB,EAAoB,MAK7C5yB,EAAOC,QAAUW,OAAOuT,iBAAmB,aAAe,GAAK,WAC7D,IAEI0e,EAFAC,GAAiB,EACjB9sB,EAAO,GAEX,KACE6sB,EAASjyB,OAAO0gB,yBAAyB1gB,OAAOY,UAAW,aAAaiW,KACjEjX,KAAKwF,EAAM,IAClB8sB,EAAiB9sB,aAAgBlE,MACjC,MAAO2U,IACT,OAAO,SAAwBvN,EAAGua,GAKhC,OAJA3D,EAAS5W,GACT0pB,EAAmBnP,GACfqP,EAAgBD,EAAOryB,KAAK0I,EAAGua,GAC9Bva,EAAE6pB,UAAYtP,EACZva,GAdoD,QAgBzD2J,IAKAmgB,IACA,SAAUhzB,EAAQsS,EAA0B,GAElD,aAEA,IAAIsO,EAAwB,EAAoB,MAC5C7M,EAAU,EAAoB,KAIlC/T,EAAOC,QAAU2gB,EAAwB,GAAGpa,SAAW,WACrD,MAAO,WAAauN,EAAQnJ,MAAQ,MAMhCqoB,KACA,SAAUjzB,EAAQsS,EAA0B,GAElD,IAAIsT,EAAa,EAAoB,MACjCsN,EAA4B,EAAoB,MAChDhE,EAA8B,EAAoB,MAClDpP,EAAW,EAAoB,MAGnC9f,EAAOC,QAAU2lB,EAAW,UAAW,YAAc,SAAiB1T,GACpE,IAAInP,EAAOmwB,EAA0BxuB,EAAEob,EAAS5N,IAC5Cgc,EAAwBgB,EAA4BxqB,EACxD,OAAOwpB,EAAwBnrB,EAAK2sB,OAAOxB,EAAsBhc,IAAOnP,IAMpEowB,IACA,SAAUnzB,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAEjC7T,EAAOC,QAAU4T,GAKXuf,KACA,SAAUpzB,EAAQsS,EAA0B,GAElD,IAAI2B,EAAW,EAAoB,MAEnCjU,EAAOC,QAAU,SAAUkD,EAAQ8tB,EAAKnqB,GACtC,IAAK,IAAIK,KAAO8pB,EAAKhd,EAAS9Q,EAAQgE,EAAK8pB,EAAI9pB,GAAML,GACrD,OAAO3D,IAMHkwB,KACA,SAAUrzB,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAC7BG,EAA8B,EAAoB,MAClDF,EAAM,EAAoB,MAC1BuS,EAAY,EAAoB,MAChCsF,EAAgB,EAAoB,MACpCrU,EAAsB,EAAoB,MAE1CC,EAAmBD,EAAoBvW,IACvCuyB,EAAuBhc,EAAoBoV,QAC3C6G,EAAWnhB,OAAOA,QAAQ9O,MAAM,WAEnCtD,EAAOC,QAAU,SAAUiJ,EAAG/B,EAAKhG,EAAO2F,GACzC,IAGIqlB,EAHAjS,IAASpT,KAAYA,EAAQoT,OAC7BsZ,IAAS1sB,KAAYA,EAAQhG,WAC7BimB,IAAcjgB,KAAYA,EAAQigB,YAElB,mBAAT5lB,IACS,iBAAPgG,GAAoB2M,EAAI3S,EAAO,SACxC6S,EAA4B7S,EAAO,OAAQgG,IAE7CglB,EAAQmH,EAAqBnyB,IAClBkgB,SACT8K,EAAM9K,OAASkS,EAASntB,KAAmB,iBAAPe,EAAkBA,EAAM,MAG5D+B,IAAM2K,GAIEqG,GAEA6M,GAAe7d,EAAE/B,KAC3BqsB,GAAS,UAFFtqB,EAAE/B,GAIPqsB,EAAQtqB,EAAE/B,GAAOhG,EAChB6S,EAA4B9K,EAAG/B,EAAKhG,IATnCqyB,EAAQtqB,EAAE/B,GAAOhG,EAChBklB,EAAUlf,EAAKhG,KAUrB4U,SAASvU,UAAW,YAAY,WACjC,MAAsB,mBAARoJ,MAAsB2M,EAAiB3M,MAAMyW,QAAUsK,EAAc/gB,UAM/E6oB,KACA,SAAUzzB,EAAQsS,EAA0B,GAElD,IAAIyB,EAAU,EAAoB,MAC9BoT,EAAa,EAAoB,MAIrCnnB,EAAOC,QAAU,SAAUyzB,EAAG/qB,GAC5B,IAAI1C,EAAOytB,EAAEztB,KACb,GAAoB,mBAATA,EAAqB,CAC9B,IAAImK,EAASnK,EAAKzF,KAAKkzB,EAAG/qB,GAC1B,GAAsB,iBAAXyH,EACT,MAAM+B,UAAU,sEAElB,OAAO/B,EAGT,GAAmB,WAAf2D,EAAQ2f,GACV,MAAMvhB,UAAU,+CAGlB,OAAOgV,EAAW3mB,KAAKkzB,EAAG/qB,KAOtBgrB,KACA,SAAU3zB,EAAQsS,EAA0B,GAElD,aAEA,IAYMshB,EACAC,EAbFC,EAAc,EAAoB,MAClCC,EAAgB,EAAoB,MAEpCC,EAAavL,OAAOjnB,UAAUyE,KAI9BguB,EAAgB7hB,OAAO5Q,UAAUuC,QAEjCmwB,EAAcF,EAEdG,GACEP,EAAM,IACNC,EAAM,MACVG,EAAWxzB,KAAKozB,EAAK,KACrBI,EAAWxzB,KAAKqzB,EAAK,KACI,IAAlBD,EAAIQ,WAAqC,IAAlBP,EAAIO,WAGhCC,EAAgBN,EAAcM,eAAiBN,EAAcO,aAI7DC,OAAuC1hB,IAAvB,OAAO5M,KAAK,IAAI,IAExBkuB,GAA4BI,GAAiBF,KAGvDH,EAAc,SAAc9L,GAC1B,IACIgM,EAAWI,EAAQpvB,EAAO9E,EAD1B+mB,EAAKzc,KAEL6pB,EAASJ,GAAiBhN,EAAGoN,OAC7BzM,EAAQ8L,EAAYtzB,KAAK6mB,GACzBhG,EAASgG,EAAGhG,OACZqT,EAAa,EACbC,EAAUvM,EA+Cd,OA7CIqM,KAE0B,KAD5BzM,EAAQA,EAAMjkB,QAAQ,IAAK,KACjB0N,QAAQ,OAChBuW,GAAS,KAGX2M,EAAUviB,OAAOgW,GAAKlmB,MAAMmlB,EAAG+M,WAE3B/M,EAAG+M,UAAY,KAAO/M,EAAGuN,WAAavN,EAAGuN,WAAuC,OAA1BxM,EAAIf,EAAG+M,UAAY,MAC3E/S,EAAS,OAASA,EAAS,IAC3BsT,EAAU,IAAMA,EAChBD,KAIFF,EAAS,IAAI/L,OAAO,OAASpH,EAAS,IAAK2G,IAGzCuM,IACFC,EAAS,IAAI/L,OAAO,IAAMpH,EAAS,WAAY2G,IAE7CmM,IAA0BC,EAAY/M,EAAG+M,WAE7ChvB,EAAQ4uB,EAAWxzB,KAAKi0B,EAASD,EAASnN,EAAIsN,GAE1CF,EACErvB,GACFA,EAAMuI,MAAQvI,EAAMuI,MAAMzL,MAAMwyB,GAChCtvB,EAAM,GAAKA,EAAM,GAAGlD,MAAMwyB,GAC1BtvB,EAAM4N,MAAQqU,EAAG+M,UACjB/M,EAAG+M,WAAahvB,EAAM,GAAGpC,QACpBqkB,EAAG+M,UAAY,EACbD,GAA4B/uB,IACrCiiB,EAAG+M,UAAY/M,EAAGxT,OAASzO,EAAM4N,MAAQ5N,EAAM,GAAGpC,OAASoxB,GAEzDG,GAAiBnvB,GAASA,EAAMpC,OAAS,GAG3CixB,EAAczzB,KAAK4E,EAAM,GAAIovB,GAAQ,WACnC,IAAKl0B,EAAI,EAAGA,EAAI6B,UAAUa,OAAS,EAAG1C,SACfuS,IAAjB1Q,UAAU7B,KAAkB8E,EAAM9E,QAAKuS,MAK1CzN,IAIXpF,EAAOC,QAAUi0B,GAKXW,KACA,SAAU70B,EAAQsS,EAA0B,GAElD,aAEA,IAAIwN,EAAW,EAAoB,MAInC9f,EAAOC,QAAU,WACf,IAAI8d,EAAO+B,EAASlV,MAChBwF,EAAS,GAOb,OANI2N,EAAKlK,SAAQzD,GAAU,KACvB2N,EAAK+W,aAAY1kB,GAAU,KAC3B2N,EAAK6W,YAAWxkB,GAAU,KAC1B2N,EAAKgX,SAAQ3kB,GAAU,KACvB2N,EAAK9K,UAAS7C,GAAU,KACxB2N,EAAK0W,SAAQrkB,GAAU,KACpBA,IAMH4kB,KACA,SAAUzD,EAAyBtxB,EAAS,GAElD,aAGA,IAAI4W,EAAQ,EAAoB,MAIhC,SAASoe,EAAGtzB,EAAG+C,GACb,OAAO+jB,OAAO9mB,EAAG+C,GAGnBzE,EAAQo0B,cAAgBxd,GAAM,WAE5B,IAAIwQ,EAAK4N,EAAG,IAAK,KAEjB,OADA5N,EAAG+M,UAAY,EACW,MAAnB/M,EAAGphB,KAAK,WAGjBhG,EAAQq0B,aAAezd,GAAM,WAE3B,IAAIwQ,EAAK4N,EAAG,KAAM,MAElB,OADA5N,EAAG+M,UAAY,EACU,MAAlB/M,EAAGphB,KAAK,WAMXivB,KACA,SAAUl1B,GAIhBA,EAAOC,QAAU,SAAUiS,GACzB,GAAUW,MAANX,EAAiB,MAAMC,UAAU,wBAA0BD,GAC/D,OAAOA,IAMHijB,KACA,SAAUn1B,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAC7BG,EAA8B,EAAoB,MAEtDhU,EAAOC,QAAU,SAAUkH,EAAKhG,GAC9B,IACE6S,EAA4BH,EAAQ1M,EAAKhG,GACzC,MAAOsV,GACP5C,EAAO1M,GAAOhG,EACd,OAAOA,IAMLi0B,KACA,SAAUp1B,EAAQsS,EAA0B,GAElD,aAEA,IAAIsT,EAAa,EAAoB,MACjClT,EAAuB,EAAoB,MAC3CD,EAAkB,EAAoB,MACtCmB,EAAc,EAAoB,MAElCmL,EAAUtM,EAAgB,WAE9BzS,EAAOC,QAAU,SAAUo1B,GACzB,IAAIliB,EAAcyS,EAAWyP,GACzBx0B,EAAiB6R,EAAqBhO,EAEtCkP,GAAeT,IAAgBA,EAAY4L,IAC7Cle,EAAesS,EAAa4L,EAAS,CACnCrU,cAAc,EACd3J,IAAK,WAAc,OAAO6J,UAQ1B0qB,KACA,SAAUt1B,EAAQsS,EAA0B,GAElD,IAAIzR,EAAiB,EAAoB,MAAM6D,EAC3CoP,EAAM,EAAoB,MAG1Be,EAFkB,EAAoB,KAEtBpC,CAAgB,eAEpCzS,EAAOC,QAAU,SAAUiS,EAAIqjB,EAAK1O,GAC9B3U,IAAO4B,EAAI5B,EAAK2U,EAAS3U,EAAKA,EAAG1Q,UAAWqT,IAC9ChU,EAAeqR,EAAI2C,EAAe,CAAEnK,cAAc,EAAMvJ,MAAOo0B,MAO7DC,KACA,SAAUx1B,EAAQsS,EAA0B,GAElD,IAAIyZ,EAAS,EAAoB,MAC7B3X,EAAM,EAAoB,MAE1BrR,EAAOgpB,EAAO,QAElB/rB,EAAOC,QAAU,SAAUkH,GACzB,OAAOpE,EAAKoE,KAASpE,EAAKoE,GAAOiN,EAAIjN,MAMjCsuB,KACA,SAAUz1B,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAC7BwS,EAAY,EAAoB,MAEhCqP,EAAS,qBACTvc,EAAQtF,EAAO6hB,IAAWrP,EAAUqP,EAAQ,IAEhD11B,EAAOC,QAAUkZ,GAKXwc,KACA,SAAU31B,EAAQsS,EAA0B,GAElD,IAAIiQ,EAAU,EAAoB,MAC9BpJ,EAAQ,EAAoB,OAE/BnZ,EAAOC,QAAU,SAAUkH,EAAKhG,GAC/B,OAAOgY,EAAMhS,KAASgS,EAAMhS,QAAiB0L,IAAV1R,EAAsBA,EAAQ,MAChE,WAAY,IAAI2B,KAAK,CACtBgjB,QAAS,QACT8P,KAAMrT,EAAU,OAAS,SACzBsT,UAAW,0CAMPC,KACA,SAAU91B,EAAQsS,EAA0B,GAElD,IAAIwN,EAAW,EAAoB,MAC/BN,EAAY,EAAoB,MAGhCT,EAFkB,EAAoB,KAE5BtM,CAAgB,WAI9BzS,EAAOC,QAAU,SAAUiJ,EAAG6sB,GAC5B,IACIptB,EADArC,EAAIwZ,EAAS5W,GAAG0Q,YAEpB,YAAa/G,IAANvM,GAAiDuM,OAA7BlK,EAAImX,EAASxZ,GAAGyY,IAAyBgX,EAAqBvW,EAAU7W,KAM/FqtB,KACA,SAAUh2B,EAAQsS,EAA0B,GAElD,IAAIyE,EAAY,EAAoB,MAChCkf,EAAyB,EAAoB,MAG7CjZ,EAAe,SAAUkZ,GAC3B,OAAO,SAAUhZ,EAAOiZ,GACtB,IAGIC,EAAOC,EAHP1tB,EAAIyJ,OAAO6jB,EAAuB/Y,IAClCxT,EAAWqN,EAAUof,GACrBG,EAAO3tB,EAAE3F,OAEb,OAAI0G,EAAW,GAAKA,GAAY4sB,EAAaJ,EAAoB,QAAKrjB,GACtEujB,EAAQztB,EAAE4tB,WAAW7sB,IACN,OAAU0sB,EAAQ,OAAU1sB,EAAW,IAAM4sB,IACtDD,EAAS1tB,EAAE4tB,WAAW7sB,EAAW,IAAM,OAAU2sB,EAAS,MAC1DH,EAAoBvtB,EAAEoK,OAAOrJ,GAAY0sB,EACzCF,EAAoBvtB,EAAEzG,MAAMwH,EAAUA,EAAW,GAA+B2sB,EAAS,OAAlCD,EAAQ,OAAU,IAA0B,QAI7Gp2B,EAAOC,QAAU,CAGfu2B,OAAQxZ,GAAa,GAGrBjK,OAAQiK,GAAa,KAMjByZ,KACA,SAAUz2B,GAEhB,aAGA,IAAI02B,EAAS,WASTC,EAAgB,eAChBC,EAAkB,yBAClBC,EAAiB,kDAEjBpyB,EAAQG,KAAKH,MACbqyB,EAAqB1kB,OAAO2kB,aAoC5BC,EAAe,SAAUC,GAG3B,OAAOA,EAAQ,GAAK,IAAMA,EAAQ,KAOhCC,EAAQ,SAAUC,EAAOC,EAAWC,GACtC,IAAIzwB,EAAI,EAGR,IAFAuwB,EAAQE,EAAY5yB,EAAM0yB,EAzDjB,KAyDiCA,GAAS,EACnDA,GAAS1yB,EAAM0yB,EAAQC,GAChBD,EAAQG,IAA2B1wB,GA/DjC,GAgEPuwB,EAAQ1yB,EAAM0yB,EArDEI,IAuDlB,OAAO9yB,EAAMmC,EAAI,GAAsBuwB,GAASA,EA/DvC,MAuEPK,EAAS,SAAU7pB,GACrB,IAYIrN,EAAGm3B,EAZHC,EAAS,GAMTC,GAHJhqB,EAxDe,SAAU+a,GAIzB,IAHA,IAAIgP,EAAS,GACTE,EAAU,EACV50B,EAAS0lB,EAAO1lB,OACb40B,EAAU50B,GAAQ,CACvB,IAAI7B,EAAQunB,EAAO6N,WAAWqB,KAC9B,GAAIz2B,GAAS,OAAUA,GAAS,OAAUy2B,EAAU50B,EAAQ,CAE1D,IAAI60B,EAAQnP,EAAO6N,WAAWqB,KACN,QAAX,MAARC,GACHH,EAAO50B,OAAe,KAAR3B,IAAkB,KAAe,KAAR02B,GAAiB,QAIxDH,EAAO50B,KAAK3B,GACZy2B,UAGFF,EAAO50B,KAAK3B,GAGhB,OAAOu2B,EAmCCI,CAAWnqB,IAGK3K,OAGpB3C,EA9ES,IA+ET82B,EAAQ,EACRY,EAjFY,GAqFhB,IAAKz3B,EAAI,EAAGA,EAAIqN,EAAM3K,OAAQ1C,KAC5Bm3B,EAAe9pB,EAAMrN,IACF,KACjBo3B,EAAO50B,KAAKg0B,EAAmBW,IAInC,IAAIO,EAAcN,EAAO10B,OACrBi1B,EAAiBD,EAQrB,IALIA,GACFN,EAAO50B,KA/FK,KAmGPm1B,EAAiBN,GAAa,CAEnC,IAAIl3B,EAAIi2B,EACR,IAAKp2B,EAAI,EAAGA,EAAIqN,EAAM3K,OAAQ1C,KAC5Bm3B,EAAe9pB,EAAMrN,KACDD,GAAKo3B,EAAeh3B,IACtCA,EAAIg3B,GAKR,IAAIS,EAAwBD,EAAiB,EAC7C,GAAIx3B,EAAIJ,EAAIoE,GAAOiyB,EAASS,GAASe,GACnC,MAAMjgB,WAAW4e,GAMnB,IAHAM,IAAU12B,EAAIJ,GAAK63B,EACnB73B,EAAII,EAECH,EAAI,EAAGA,EAAIqN,EAAM3K,OAAQ1C,IAAK,CAEjC,IADAm3B,EAAe9pB,EAAMrN,IACFD,KAAO82B,EAAQT,EAChC,MAAMze,WAAW4e,GAEnB,GAAIY,GAAgBp3B,EAAG,CAGrB,IADA,IAAI83B,EAAIhB,EACCvwB,EArIN,IAqIoCA,GArIpC,GAqI+C,CAChD,IAAI1G,EAAI0G,GAAKmxB,EArIZ,EAqI2BnxB,GAAKmxB,EApIhC,MAoIqDnxB,EAAImxB,EAC1D,GAAII,EAAIj4B,EAAG,MACX,IAAIk4B,EAAUD,EAAIj4B,EACdm4B,EAzIH,GAyIuBn4B,EACxBw3B,EAAO50B,KAAKg0B,EAAmBE,EAAa92B,EAAIk4B,EAAUC,KAC1DF,EAAI1zB,EAAM2zB,EAAUC,GAGtBX,EAAO50B,KAAKg0B,EAAmBE,EAAamB,KAC5CJ,EAAOb,EAAMC,EAAOe,EAAuBD,GAAkBD,GAC7Db,EAAQ,IACNc,KAIJd,IACA92B,EAEJ,OAAOq3B,EAAOtxB,KAAK,KAGrBpG,EAAOC,QAAU,SAAU0N,GACzB,IAEIrN,EAAGg4B,EAFHC,EAAU,GACVC,EAAS7qB,EAAMnI,cAAczB,QAAQ6yB,EAAiB,KAAUtzB,MAAM,KAE1E,IAAKhD,EAAI,EAAGA,EAAIk4B,EAAOx1B,OAAQ1C,IAC7Bg4B,EAAQE,EAAOl4B,GACfi4B,EAAQz1B,KAAK6zB,EAAc3wB,KAAKsyB,GAAS,OAASd,EAAOc,GAASA,GAEpE,OAAOC,EAAQnyB,KAAK,OAMhBqyB,KACA,SAAUz4B,EAAQsS,EAA0B,GAElD,IAAIuE,EAAQ,EAAoB,MAC5B6hB,EAAc,EAAoB,MAMtC14B,EAAOC,QAAU,SAAU+e,GACzB,OAAOnI,GAAM,WACX,QAAS6hB,EAAY1Z,MANf,aAMqCA,MAAyB0Z,EAAY1Z,GAAa5L,OAAS4L,OAOpG2Z,KACA,SAAU34B,EAAQsS,EAA0B,GAElD,IAAI2jB,EAAyB,EAAoB,MAG7C2C,EAAa,IAFC,EAAoB,MAED,IACjCC,EAAQpQ,OAAO,IAAMmQ,EAAaA,EAAa,KAC/CE,EAAQrQ,OAAOmQ,EAAaA,EAAa,MAGzC5b,EAAe,SAAUO,GAC3B,OAAO,SAAUL,GACf,IAAIwL,EAAStW,OAAO6jB,EAAuB/Y,IAG3C,OAFW,EAAPK,IAAUmL,EAASA,EAAO3kB,QAAQ80B,EAAO,KAClC,EAAPtb,IAAUmL,EAASA,EAAO3kB,QAAQ+0B,EAAO,KACtCpQ,IAIX1oB,EAAOC,QAAU,CAGfmJ,MAAO4T,EAAa,GAGpB1T,IAAK0T,EAAa,GAGlBva,KAAMua,EAAa,KAMf+b,KACA,SAAU/4B,EAAQsS,EAA0B,GAElD,IAAIyE,EAAY,EAAoB,MAEhCvS,EAAMI,KAAKJ,IACXF,EAAMM,KAAKN,IAKftE,EAAOC,QAAU,SAAU+S,EAAOhQ,GAChC,IAAIg2B,EAAUjiB,EAAU/D,GACxB,OAAOgmB,EAAU,EAAIx0B,EAAIw0B,EAAUh2B,EAAQ,GAAKsB,EAAI00B,EAASh2B,KAMzDi2B,KACA,SAAUj5B,EAAQsS,EAA0B,GAElD,IAAIyE,EAAY,EAAoB,MAChCC,EAAW,EAAoB,MAInChX,EAAOC,QAAU,SAAUiS,GACzB,QAAWW,IAAPX,EAAkB,OAAO,EAC7B,IAAIqG,EAASxB,EAAU7E,GACnBlP,EAASgU,EAASuB,GACtB,GAAIA,IAAWvV,EAAQ,MAAMiV,WAAW,yBACxC,OAAOjV,IAMHk2B,KACA,SAAUl5B,EAAQsS,EAA0B,GAGlD,IAAI+K,EAAgB,EAAoB,MACpC4Y,EAAyB,EAAoB,MAEjDj2B,EAAOC,QAAU,SAAUiS,GACzB,OAAOmL,EAAc4Y,EAAuB/jB,MAMxCinB,KACA,SAAUn5B,GAEhB,IAAIo5B,EAAOx0B,KAAKw0B,KACZ30B,EAAQG,KAAKH,MAIjBzE,EAAOC,QAAU,SAAUof,GACzB,OAAOna,MAAMma,GAAYA,GAAY,GAAKA,EAAW,EAAI5a,EAAQ20B,GAAM/Z,KAMnEga,KACA,SAAUr5B,EAAQsS,EAA0B,GAElD,IAAIyE,EAAY,EAAoB,MAEhCzS,EAAMM,KAAKN,IAIftE,EAAOC,QAAU,SAAUof,GACzB,OAAOA,EAAW,EAAI/a,EAAIyS,EAAUsI,GAAW,kBAAoB,IAM/Dia,KACA,SAAUt5B,EAAQsS,EAA0B,GAElD,IAAI2jB,EAAyB,EAAoB,MAIjDj2B,EAAOC,QAAU,SAAUof,GACzB,OAAOze,OAAOq1B,EAAuB5W,MAMjCka,KACA,SAAUv5B,EAAQsS,EAA0B,GAElD,IAAIknB,EAAoB,EAAoB,MAE5Cx5B,EAAOC,QAAU,SAAUiS,EAAIunB,GAC7B,IAAIrf,EAASof,EAAkBtnB,GAC/B,GAAIkI,EAASqf,EAAO,MAAMxhB,WAAW,gBACrC,OAAOmC,IAMHsf,KACA,SAAU15B,EAAQsS,EAA0B,GAElD,IAAIyE,EAAY,EAAoB,MAEpC/W,EAAOC,QAAU,SAAUiS,GACzB,IAAI9B,EAAS2G,EAAU7E,GACvB,GAAI9B,EAAS,EAAG,MAAM6H,WAAW,qCACjC,OAAO7H,IAMHupB,KACA,SAAU35B,EAAQsS,EAA0B,GAElD,IAAIC,EAAW,EAAoB,KAMnCvS,EAAOC,QAAU,SAAU0N,EAAOisB,GAChC,IAAKrnB,EAAS5E,GAAQ,OAAOA,EAC7B,IAAIqS,EAAI6Z,EACR,GAAID,GAAoD,mBAAxB5Z,EAAKrS,EAAMnH,YAA4B+L,EAASsnB,EAAM7Z,EAAGxf,KAAKmN,IAAS,OAAOksB,EAC9G,GAAmC,mBAAvB7Z,EAAKrS,EAAMmsB,WAA2BvnB,EAASsnB,EAAM7Z,EAAGxf,KAAKmN,IAAS,OAAOksB,EACzF,IAAKD,GAAoD,mBAAxB5Z,EAAKrS,EAAMnH,YAA4B+L,EAASsnB,EAAM7Z,EAAGxf,KAAKmN,IAAS,OAAOksB,EAC/G,MAAM1nB,UAAU,6CAMZ4nB,KACA,SAAU/5B,EAAQsS,EAA0B,GAElD,IAGItM,EAAO,GAEXA,EALsB,EAAoB,KAEtByM,CAAgB,gBAGd,IAEtBzS,EAAOC,QAA2B,eAAjBmS,OAAOpM,IAKlBg0B,KACA,SAAUh6B,EAAQsS,EAA0B,GAElD,aAEA,IAAIzL,EAAI,EAAoB,MACxBgN,EAAS,EAAoB,MAC7BD,EAAc,EAAoB,MAClCqmB,EAA8C,EAAoB,MAClEC,EAAsB,EAAoB,KAC1CC,EAAoB,EAAoB,MACxCrjB,EAAa,EAAoB,MACjC6K,EAA2B,EAAoB,MAC/C3N,EAA8B,EAAoB,MAClDgD,EAAW,EAAoB,MAC/BC,EAAU,EAAoB,MAC9BmjB,EAAW,EAAoB,MAC/BjY,EAAc,EAAoB,MAClCrO,EAAM,EAAoB,MAC1BC,EAAU,EAAoB,KAC9BxB,EAAW,EAAoB,KAC/BlR,EAAS,EAAoB,IAC7B8S,EAAiB,EAAoB,MACrCgD,EAAsB,EAAoB,MAAMzS,EAChD21B,EAAiB,EAAoB,MACrCvxB,EAAU,EAAoB,MAAMA,QACpCwxB,EAAa,EAAoB,MACjC5nB,EAAuB,EAAoB,MAC3C0O,EAAiC,EAAoB,MACrD9J,EAAsB,EAAoB,MAC1CijB,EAAoB,EAAoB,MAExChjB,EAAmBD,EAAoBvW,IACvCyW,EAAmBF,EAAoBG,IACvCga,EAAuB/e,EAAqBhO,EAC5CmtB,EAAiCzQ,EAA+B1c,EAChEC,EAAQC,KAAKD,MACbsT,EAAapE,EAAOoE,WACpB1E,EAAc4mB,EAAkB5mB,YAChCC,EAAW2mB,EAAkB3mB,SAC7BuB,EAA4BmlB,EAAoBnlB,0BAChDD,EAAkBolB,EAAoBplB,gBACtCL,EAAaylB,EAAoBzlB,WACjCC,EAAsBwlB,EAAoBxlB,oBAC1CuB,EAAyBikB,EAAoBjkB,uBAC7CJ,EAAeqkB,EAAoBrkB,aACnC2kB,EAAoB,oBACpBC,EAAe,eAEfC,EAAW,SAAUp0B,EAAGq0B,GAI1B,IAHA,IAAI3nB,EAAQ,EACRhQ,EAAS23B,EAAK33B,OACdoN,EAAS,IAAK6F,EAAuB3P,GAA5B,CAAgCtD,GACtCA,EAASgQ,GAAO5C,EAAO4C,GAAS2nB,EAAK3nB,KAC5C,OAAO5C,GAGL0I,EAAY,SAAU5G,EAAI/K,GAC5BsqB,EAAqBvf,EAAI/K,EAAK,CAAEpG,IAAK,WACnC,OAAOwW,EAAiB3M,MAAMzD,OAI9ByzB,EAAgB,SAAU1oB,GAC5B,IAAI4D,EACJ,OAAO5D,aAAcqB,GAAwC,gBAAxBuC,EAAQ/B,EAAQ7B,KAAkC,qBAAT4D,GAG5E+kB,EAAoB,SAAU13B,EAAQgE,GACxC,OAAO0O,EAAa1S,IACD,iBAAPgE,GACPA,KAAOhE,GACPiP,QAAQjL,IAAQiL,OAAOjL,IAG1B2zB,EAAkC,SAAkC33B,EAAQgE,GAC9E,OAAO0zB,EAAkB13B,EAAQgE,EAAMgb,EAAYhb,GAAK,IACpDwa,EAAyB,EAAGxe,EAAOgE,IACnC0qB,EAA+B1uB,EAAQgE,IAGzC4zB,EAAwB,SAAwB53B,EAAQgE,EAAKuf,GAC/D,QAAImU,EAAkB13B,EAAQgE,EAAMgb,EAAYhb,GAAK,KAChDoL,EAASmU,IACT5S,EAAI4S,EAAY,WACf5S,EAAI4S,EAAY,QAChB5S,EAAI4S,EAAY,QAEhBA,EAAWhc,cACVoJ,EAAI4S,EAAY,cAAeA,EAAW/b,UAC1CmJ,EAAI4S,EAAY,gBAAiBA,EAAW5lB,WAI1C2wB,EAAqBtuB,EAAQgE,EAAKuf,IAFzCvjB,EAAOgE,GAAOuf,EAAWvlB,MAClBgC,IAIPyQ,GACGmB,IACHqM,EAA+B1c,EAAIo2B,EACnCpoB,EAAqBhO,EAAIq2B,EACzBjiB,EAAUpE,EAAqB,UAC/BoE,EAAUpE,EAAqB,cAC/BoE,EAAUpE,EAAqB,cAC/BoE,EAAUpE,EAAqB,WAGjC7N,EAAE,CAAE1D,OAAQ,SAAU2jB,MAAM,EAAMvQ,QAASxB,GAA6B,CACtEuM,yBAA0BwZ,EAC1Bj6B,eAAgBk6B,IAGlB/6B,EAAOC,QAAU,SAAUsd,EAAMlW,EAAS2zB,GACxC,IAAIvB,EAAQlc,EAAKnY,MAAM,QAAQ,GAAK,EAChCiwB,EAAmB9X,GAAQyd,EAAU,UAAY,IAAM,QACvDC,EAAS,MAAQ1d,EACjB2d,EAAS,MAAQ3d,EACjB4d,EAA8BtnB,EAAOwhB,GACrClf,EAAwBglB,EACxBC,EAAiCjlB,GAAyBA,EAAsB3U,UAChF65B,EAAW,GAaXC,EAAa,SAAUvd,EAAM/K,GAC/Bye,EAAqB1T,EAAM/K,EAAO,CAChCjS,IAAK,WACH,OAdO,SAAUgd,EAAM/K,GAC3B,IAAIia,EAAO1V,EAAiBwG,GAC5B,OAAOkP,EAAKlU,KAAKkiB,GAAQjoB,EAAQymB,EAAQxM,EAAK3T,YAAY,GAY/CiiB,CAAO3wB,KAAMoI,IAEtByE,IAAK,SAAUtW,GACb,OAZO,SAAU4c,EAAM/K,EAAO7R,GAClC,IAAI8rB,EAAO1V,EAAiBwG,GACxBid,IAAS75B,GAASA,EAAQwD,EAAMxD,IAAU,EAAI,EAAIA,EAAQ,IAAO,IAAe,IAARA,GAC5E8rB,EAAKlU,KAAKmiB,GAAQloB,EAAQymB,EAAQxM,EAAK3T,WAAYnY,GAAO,GAS/C0xB,CAAOjoB,KAAMoI,EAAO7R,IAE7BL,YAAY,KAIXiU,EAwCMklB,IACT9jB,EAAwB9O,GAAQ,SAAUgkB,EAAO4B,EAAMuO,EAAkBC,GAEvE,OADA3kB,EAAWuU,EAAOlV,EAAuBkf,GAClCkF,EACAhoB,EAAS0a,GACV2N,EAAc3N,QAA0Bpa,IAAZ4oB,EAC5B,IAAIN,EAA4BlO,EAAMmN,EAASoB,EAAkB/B,GAAQgC,QACpD5oB,IAArB2oB,EACE,IAAIL,EAA4BlO,EAAMmN,EAASoB,EAAkB/B,IACjE,IAAI0B,EAA4BlO,GAClCpX,EAAaoX,GAAcyN,EAASvkB,EAAuB8W,GACxDoN,EAAe75B,KAAK2V,EAAuB8W,GAPtB,IAAIkO,EAA4BlkB,EAAQgW,IAQjE5B,EAAOlV,MAGVhC,GAAgBA,EAAegC,EAAuB1B,GAC1D3L,EAAQqO,EAAoBgkB,IAA8B,SAAUh0B,GAC5DA,KAAOgP,GACXnC,EAA4BmC,EAAuBhP,EAAKg0B,EAA4Bh0B,OAGxFgP,EAAsB3U,UAAY45B,IA5DlCjlB,EAAwB9O,GAAQ,SAAU0W,EAAMkP,EAAM7S,EAAQqhB,GAC5D3kB,EAAWiH,EAAM5H,EAAuBkf,GACxC,IAEI1c,EAAQS,EAAYpW,EAFpBgQ,EAAQ,EACRsG,EAAa,EAEjB,GAAK/G,EAAS0a,GAIP,KAAI2N,EAAc3N,GAalB,OAAIpX,EAAaoX,GACfyN,EAASvkB,EAAuB8W,GAEhCoN,EAAe75B,KAAK2V,EAAuB8W,GAflDtU,EAASsU,EACT3T,EAAa8gB,EAAShgB,EAAQqf,GAC9B,IAAIiC,EAAOzO,EAAK7T,WAChB,QAAgBvG,IAAZ4oB,EAAuB,CACzB,GAAIC,EAAOjC,EAAO,MAAMxhB,EAAWwiB,GAEnC,IADArhB,EAAasiB,EAAOpiB,GACH,EAAG,MAAMrB,EAAWwiB,QAGrC,IADArhB,EAAapC,EAASykB,GAAWhC,GAChBngB,EAAaoiB,EAAM,MAAMzjB,EAAWwiB,GAEvDz3B,EAASoW,EAAaqgB,OAftBz2B,EAASiU,EAAQgW,GAEjBtU,EAAS,IAAIpF,EADb6F,EAAapW,EAASy2B,GA2BxB,IAPAjiB,EAAiBuG,EAAM,CACrBpF,OAAQA,EACRW,WAAYA,EACZF,WAAYA,EACZpW,OAAQA,EACR+V,KAAM,IAAIvF,EAASmF,KAEd3F,EAAQhQ,GAAQs4B,EAAWvd,EAAM/K,QAGtCmB,GAAgBA,EAAegC,EAAuB1B,GAC1D2mB,EAAiCjlB,EAAsB3U,UAAYH,EAAOqT,IAyBxE0mB,EAA+BxhB,cAAgBzD,GACjDnC,EAA4BonB,EAAgC,cAAejlB,GAGzErB,GACFd,EAA4BonB,EAAgCtmB,EAAiBugB,GAG/EgG,EAAShG,GAAoBlf,EAE7BtP,EAAE,CACAgN,QAAQ,EAAM0C,OAAQJ,GAAyBglB,EAA6BnU,MAAOjS,GAClFsmB,GAEGb,KAAqBrkB,GACzBnC,EAA4BmC,EAAuBqkB,EAAmBf,GAGlEe,KAAqBY,GACzBpnB,EAA4BonB,EAAgCZ,EAAmBf,GAGjFa,EAAWjF,KAERr1B,EAAOC,QAAU,cAKlB07B,KACA,SAAU37B,EAAQsS,EAA0B,GAGlD,IAAIuB,EAAS,EAAoB,MAC7BgD,EAAQ,EAAoB,MAC5B+kB,EAA8B,EAAoB,MAClD7mB,EAA4B,EAAoB,KAAKA,0BAErDxB,EAAcM,EAAON,YACrBc,EAAYR,EAAOQ,UAEvBrU,EAAOC,SAAW8U,IAA8B8B,GAAM,WACpDxC,EAAU,QACLwC,GAAM,WACX,IAAIxC,GAAW,QACVunB,GAA4B,SAAUC,GAC3C,IAAIxnB,EACJ,IAAIA,EAAU,MACd,IAAIA,EAAU,KACd,IAAIA,EAAUwnB,MACb,IAAShlB,GAAM,WAEhB,OAAkE,IAA3D,IAAIxC,EAAU,IAAId,EAAY,GAAI,OAAGV,GAAW7P,WAMnD84B,KACA,SAAU97B,EAAQsS,EAA0B,GAElD,IAAI2D,EAAyB,EAAoB,KAAKA,uBAClD8lB,EAAqB,EAAoB,MAE7C/7B,EAAOC,QAAU,SAAU+7B,EAAUrB,GAKnC,IAJA,IAAIr0B,EAAIy1B,EAAmBC,EAAUA,EAASpiB,aAC1C5G,EAAQ,EACRhQ,EAAS23B,EAAK33B,OACdoN,EAAS,IAAK6F,EAAuB3P,GAA5B,CAAgCtD,GACtCA,EAASgQ,GAAO5C,EAAO4C,GAAS2nB,EAAK3nB,KAC5C,OAAO5C,IAMH6rB,KACA,SAAUj8B,EAAQsS,EAA0B,GAElD,IAAI6I,EAAW,EAAoB,MAC/BnE,EAAW,EAAoB,MAC/BqF,EAAoB,EAAoB,MACxCF,EAAwB,EAAoB,MAC5C7a,EAAO,EAAoB,MAC3B2U,EAAyB,EAAoB,KAAKA,uBAEtDjW,EAAOC,QAAU,SAAcohB,GAC7B,IAKI/gB,EAAG0C,EAAQoN,EAAQmM,EAAMC,EAAUC,EALnCvT,EAAIiS,EAASkG,GACb3F,EAAkBvZ,UAAUa,OAC5B0Z,EAAQhB,EAAkB,EAAIvZ,UAAU,QAAK0Q,EAC7C8J,OAAoB9J,IAAV6J,EACVE,EAAiBP,EAAkBnT,GAEvC,GAAsB2J,MAAlB+J,IAAgCT,EAAsBS,GAIxD,IAFAH,GADAD,EAAWI,EAAepc,KAAK0I,IACfuT,KAChBvT,EAAI,KACKqT,EAAOE,EAAKjc,KAAKgc,IAAWK,MACnC3T,EAAEpG,KAAKyZ,EAAKpb,OAQhB,IALIwb,GAAWjB,EAAkB,IAC/BgB,EAAQpb,EAAKob,EAAOva,UAAU,GAAI,IAEpCa,EAASgU,EAAS9N,EAAElG,QACpBoN,EAAS,IAAK6F,EAAuBrL,MAA5B,CAAmC5H,GACvC1C,EAAI,EAAG0C,EAAS1C,EAAGA,IACtB8P,EAAO9P,GAAKqc,EAAUD,EAAMxT,EAAE5I,GAAIA,GAAK4I,EAAE5I,GAE3C,OAAO8P,IAMH8rB,KACA,SAAUl8B,GAEhB,IAAIm8B,EAAK,EACLC,EAAUx3B,KAAKy3B,SAEnBr8B,EAAOC,QAAU,SAAUkH,GACzB,MAAO,UAAYiL,YAAeS,IAAR1L,EAAoB,GAAKA,GAAO,QAAUg1B,EAAKC,GAAS51B,SAAS,MAMvF81B,KACA,SAAUt8B,EAAQsS,EAA0B,GAElD,IAAIiqB,EAAgB,EAAoB,KAExCv8B,EAAOC,QAAUs8B,IAEXt7B,OAAO+lB,MACkB,iBAAnB/lB,OAAOub,UAKbggB,KACA,SAAUx8B,EAAQsS,EAA0B,GAElD,IAAIuB,EAAS,EAAoB,MAC7BkY,EAAS,EAAoB,MAC7BjY,EAAM,EAAoB,MAC1BM,EAAM,EAAoB,MAC1BmoB,EAAgB,EAAoB,KACpCE,EAAoB,EAAoB,MAExCC,EAAwB3Q,EAAO,OAC/B9qB,EAAS4S,EAAO5S,OAChB07B,EAAwBF,EAAoBx7B,EAASA,GAAUA,EAAO27B,eAAiBxoB,EAE3FpU,EAAOC,QAAU,SAAUmT,GAIvB,OAHGU,EAAI4oB,EAAuBtpB,KAC1BmpB,GAAiBzoB,EAAI7S,EAAQmS,GAAOspB,EAAsBtpB,GAAQnS,EAAOmS,GACxEspB,EAAsBtpB,GAAQupB,EAAsB,UAAYvpB,IAC9DspB,EAAsBtpB,KAM3BypB,KACA,SAAU78B,GAGhBA,EAAOC,QAAU,iDAMX68B,KACA,SAAUvL,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxBgN,EAAS,EAAoB,MAC7BkpB,EAAoB,EAAoB,MACxCzC,EAAa,EAAoB,MAEjC5iB,EAAe,cACfnE,EAAcwpB,EAA8B,YAKhDl2B,EAAE,CAAEgN,QAAQ,EAAM0C,OAJM1C,EAAmB,cAIKN,GAAe,CAC7DA,YAAaA,IAGf+mB,EAAW5iB,IAKLslB,KACA,SAAUzL,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxBgQ,EAAQ,EAAoB,MAC5B7U,EAAU,EAAoB,MAC9BuQ,EAAW,EAAoB,KAC/B4I,EAAW,EAAoB,MAC/BnE,EAAW,EAAoB,MAC/BoF,EAAiB,EAAoB,MACrCkB,EAAqB,EAAoB,MACzC2f,EAA+B,EAAoB,MACnDxqB,EAAkB,EAAoB,MACtCqM,EAAa,EAAoB,MAEjCoe,EAAuBzqB,EAAgB,sBACvC0qB,EAAmB,iBACnBC,EAAiC,iCAKjCC,EAA+Bve,GAAc,KAAOjI,GAAM,WAC5D,IAAIoI,EAAQ,GAEZ,OADAA,EAAMie,IAAwB,EACvBje,EAAMyQ,SAAS,KAAOzQ,KAG3Bqe,EAAkBL,EAA6B,UAE/CM,EAAqB,SAAUr0B,GACjC,IAAKqJ,EAASrJ,GAAI,OAAO,EACzB,IAAIs0B,EAAat0B,EAAEg0B,GACnB,YAAsBrqB,IAAf2qB,IAA6BA,EAAax7B,EAAQkH,IAQ3DrC,EAAE,CAAE1D,OAAQ,QAASsgB,OAAO,EAAMlN,QALpB8mB,IAAiCC,GAKK,CAElD5N,OAAQ,SAAgB/G,GACtB,IAGIroB,EAAGsG,EAAG5D,EAAQsY,EAAK1R,EAHnBV,EAAIiS,EAASvQ,MACbrF,EAAI+X,EAAmBpU,EAAG,GAC1B7I,EAAI,EAER,IAAKC,GAAK,EAAG0C,EAASb,UAAUa,OAAQ1C,EAAI0C,EAAQ1C,IAElD,GAAIi9B,EADJ3zB,GAAW,IAAPtJ,EAAW4I,EAAI/G,UAAU7B,IACF,CAEzB,GAAID,GADJib,EAAMtE,EAASpN,EAAE5G,SACHm6B,EAAkB,MAAMhrB,UAAUirB,GAChD,IAAKx2B,EAAI,EAAGA,EAAI0U,EAAK1U,IAAKvG,IAASuG,KAAKgD,GAAGwS,EAAe7W,EAAGlF,EAAGuJ,EAAEhD,QAC7D,CACL,GAAIvG,GAAK88B,EAAkB,MAAMhrB,UAAUirB,GAC3ChhB,EAAe7W,EAAGlF,IAAKuJ,GAI3B,OADArE,EAAEvC,OAAS3C,EACJkF,MAOLk4B,KACA,SAAUlM,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxB62B,EAAU,EAAoB,MAAMxf,OAQxCrX,EAAE,CAAE1D,OAAQ,QAASsgB,OAAO,EAAMlN,QAPC,EAAoB,KAE7B0mB,CAA6B,WAKW,CAChE/e,OAAQ,SAAgBlC,GACtB,OAAO0hB,EAAQ9yB,KAAMoR,EAAY7Z,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAOrE8qB,KACA,SAAUpM,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxB+2B,EAAW,EAAoB,MAAMnsB,QACrCsK,EAAsB,EAAoB,MAE1C8hB,EAAgB,GAAGpsB,QAEnBgN,IAAkBof,GAAiB,EAAI,CAAC,GAAGpsB,QAAQ,GAAI,GAAK,EAC5DqK,EAAgBC,EAAoB,WAIxClV,EAAE,CAAE1D,OAAQ,QAASsgB,OAAO,EAAMlN,OAAQkI,IAAkB3C,GAAiB,CAC3ErK,QAAS,SAAiBkN,GACxB,OAAOF,EAEHof,EAAcjf,MAAMhU,KAAMzI,YAAc,EACxCy7B,EAAShzB,KAAM+T,EAAexc,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAOtEirB,KACA,SAAU99B,EAAQsS,EAA0B,GAElD,aAEA,IAAIyK,EAAkB,EAAoB,MACtCghB,EAAmB,EAAoB,MACvCnc,EAAY,EAAoB,MAChCtK,EAAsB,EAAoB,MAC1C0mB,EAAiB,EAAoB,KAErCC,EAAiB,iBACjBzmB,EAAmBF,EAAoBG,IACvCF,EAAmBD,EAAoBqV,UAAUsR,GAYrDj+B,EAAOC,QAAU+9B,EAAel8B,MAAO,SAAS,SAAUo8B,EAAUC,GAClE3mB,EAAiB5M,KAAM,CACrBzE,KAAM83B,EACN96B,OAAQ4Z,EAAgBmhB,GACxBlrB,MAAO,EACPmrB,KAAMA,OAIP,WACD,IAAIhS,EAAQ5U,EAAiB3M,MACzBzH,EAASgpB,EAAMhpB,OACfg7B,EAAOhS,EAAMgS,KACbnrB,EAAQmZ,EAAMnZ,QAClB,OAAK7P,GAAU6P,GAAS7P,EAAOH,QAC7BmpB,EAAMhpB,YAAS0P,EACR,CAAE1R,WAAO0R,EAAWgK,MAAM,IAEvB,QAARshB,EAAuB,CAAEh9B,MAAO6R,EAAO6J,MAAM,GACrC,UAARshB,EAAyB,CAAEh9B,MAAOgC,EAAO6P,GAAQ6J,MAAM,GACpD,CAAE1b,MAAO,CAAC6R,EAAO7P,EAAO6P,IAAS6J,MAAM,KAC7C,UAKH+E,EAAUwc,UAAYxc,EAAU9f,MAGhCi8B,EAAiB,QACjBA,EAAiB,UACjBA,EAAiB,YAKXM,KACA,SAAU9M,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxBy3B,EAAO,EAAoB,MAAMj5B,IAQrCwB,EAAE,CAAE1D,OAAQ,QAASsgB,OAAO,EAAMlN,QAPC,EAAoB,KAE7B0mB,CAA6B,QAKW,CAChE53B,IAAK,SAAa2W,GAChB,OAAOsiB,EAAK1zB,KAAMoR,EAAY7Z,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAOlE0rB,KACA,SAAUhN,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxB0L,EAAW,EAAoB,KAC/BvQ,EAAU,EAAoB,MAC9BoZ,EAAkB,EAAoB,MACtCpE,EAAW,EAAoB,MAC/B+F,EAAkB,EAAoB,MACtCX,EAAiB,EAAoB,MACrC3J,EAAkB,EAAoB,MAGtC+rB,EAF+B,EAAoB,KAE7BvB,CAA6B,SAEnDle,EAAUtM,EAAgB,WAC1BgsB,EAAc,GAAGv8B,MACjBsC,EAAMI,KAAKJ,IAKfqC,EAAE,CAAE1D,OAAQ,QAASsgB,OAAO,EAAMlN,QAASioB,GAAuB,CAChEt8B,MAAO,SAAekH,EAAOE,GAC3B,IAKI6J,EAAa/C,EAAQ/P,EALrB6I,EAAI6T,EAAgBnS,MACpB5H,EAASgU,EAAS9N,EAAElG,QACpB4D,EAAIwU,EAAgBhS,EAAOpG,GAC3B07B,EAAMtjB,OAAwBvI,IAARvJ,EAAoBtG,EAASsG,EAAKtG,GAG5D,GAAIhB,EAAQkH,KAGgB,mBAF1BiK,EAAcjK,EAAE0Q,cAEyBzG,IAAgBrR,QAASE,EAAQmR,EAAY3R,WAE3E+Q,EAASY,IAEE,QADpBA,EAAcA,EAAY4L,MACA5L,OAAcN,GAHxCM,OAAcN,EAKZM,IAAgBrR,YAAyB+Q,IAAhBM,GAC3B,OAAOsrB,EAAYj+B,KAAK0I,EAAGtC,EAAG83B,GAIlC,IADAtuB,EAAS,SAAqByC,IAAhBM,EAA4BrR,MAAQqR,GAAa3O,EAAIk6B,EAAM93B,EAAG,IACvEvG,EAAI,EAAGuG,EAAI83B,EAAK93B,IAAKvG,IAASuG,KAAKsC,GAAGkT,EAAehM,EAAQ/P,EAAG6I,EAAEtC,IAEvE,OADAwJ,EAAOpN,OAAS3C,EACT+P,MAOLuuB,IACA,SAAUpN,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxBuU,EAAkB,EAAoB,MACtCrE,EAAY,EAAoB,MAChCC,EAAW,EAAoB,MAC/BmE,EAAW,EAAoB,MAC/BmC,EAAqB,EAAoB,MACzClB,EAAiB,EAAoB,MAGrCoiB,EAF+B,EAAoB,KAE7BvB,CAA6B,UAEnDz4B,EAAMI,KAAKJ,IACXF,EAAMM,KAAKN,IACX64B,EAAmB,iBACnByB,EAAkC,kCAKtC/3B,EAAE,CAAE1D,OAAQ,QAASsgB,OAAO,EAAMlN,QAASioB,GAAuB,CAChE9sB,OAAQ,SAAgBtI,EAAOy1B,GAC7B,IAIIC,EAAaC,EAAmBx5B,EAAGqB,EAAG7E,EAAMwZ,EAJ5CrS,EAAIiS,EAASvQ,MACb0Q,EAAMtE,EAAS9N,EAAElG,QACjBg8B,EAAc5jB,EAAgBhS,EAAOkS,GACrCI,EAAkBvZ,UAAUa,OAWhC,GATwB,IAApB0Y,EACFojB,EAAcC,EAAoB,EACL,IAApBrjB,GACTojB,EAAc,EACdC,EAAoBzjB,EAAM0jB,IAE1BF,EAAcpjB,EAAkB,EAChCqjB,EAAoBz6B,EAAIE,EAAIuS,EAAU8nB,GAAc,GAAIvjB,EAAM0jB,IAE5D1jB,EAAMwjB,EAAcC,EAAoB5B,EAC1C,MAAMhrB,UAAUysB,GAGlB,IADAr5B,EAAI+X,EAAmBpU,EAAG61B,GACrBn4B,EAAI,EAAGA,EAAIm4B,EAAmBn4B,KACjC7E,EAAOi9B,EAAcp4B,KACTsC,GAAGkT,EAAe7W,EAAGqB,EAAGsC,EAAEnH,IAGxC,GADAwD,EAAEvC,OAAS+7B,EACPD,EAAcC,EAAmB,CACnC,IAAKn4B,EAAIo4B,EAAap4B,EAAI0U,EAAMyjB,EAAmBn4B,IAEjD2U,EAAK3U,EAAIk4B,GADT/8B,EAAO6E,EAAIm4B,KAEC71B,EAAGA,EAAEqS,GAAMrS,EAAEnH,UACbmH,EAAEqS,GAEhB,IAAK3U,EAAI0U,EAAK1U,EAAI0U,EAAMyjB,EAAoBD,EAAal4B,WAAYsC,EAAEtC,EAAI,QACtE,GAAIk4B,EAAcC,EACvB,IAAKn4B,EAAI0U,EAAMyjB,EAAmBn4B,EAAIo4B,EAAap4B,IAEjD2U,EAAK3U,EAAIk4B,EAAc,GADvB/8B,EAAO6E,EAAIm4B,EAAoB,KAEnB71B,EAAGA,EAAEqS,GAAMrS,EAAEnH,UACbmH,EAAEqS,GAGlB,IAAK3U,EAAI,EAAGA,EAAIk4B,EAAal4B,IAC3BsC,EAAEtC,EAAIo4B,GAAe78B,UAAUyE,EAAI,GAGrC,OADAsC,EAAElG,OAASsY,EAAMyjB,EAAoBD,EAC9Bv5B,MAOL05B,KACA,SAAU1N,EAAyBjf,EAA0B,GAEnE,IAAIsB,EAAc,EAAoB,MAClC/S,EAAiB,EAAoB,MAAM6D,EAE3Cw6B,EAAoBnpB,SAASvU,UAC7B29B,EAA4BD,EAAkB14B,SAC9C44B,EAAS,wBACT1rB,EAAO,OAIPE,KAAiBF,KAAQwrB,IAC3Br+B,EAAeq+B,EAAmBxrB,EAAM,CACtChJ,cAAc,EACd3J,IAAK,WACH,IACE,OAAOo+B,EAA0B3+B,KAAKoK,MAAMxF,MAAMg6B,GAAQ,GAC1D,MAAO3oB,GACP,MAAO,QAST4oB,IACA,SAAU9N,EAAyBjf,EAA0B,GAEnE,IAAIzL,EAAI,EAAoB,MACxBgQ,EAAQ,EAAoB,MAC5BsE,EAAW,EAAoB,MAC/BmkB,EAAuB,EAAoB,MAC3CpN,EAA2B,EAAoB,MAMnDrrB,EAAE,CAAE1D,OAAQ,SAAU2jB,MAAM,EAAMvQ,OAJRM,GAAM,WAAcyoB,EAAqB,MAIJtY,MAAOkL,GAA4B,CAChGhe,eAAgB,SAAwBhC,GACtC,OAAOotB,EAAqBnkB,EAASjJ,QAQnCqtB,KACA,SAAUhO,EAAyBjf,EAA0B,GAEnE,IAAIsO,EAAwB,EAAoB,MAC5C3M,EAAW,EAAoB,MAC/BzN,EAAW,EAAoB,KAI9Boa,GACH3M,EAASrT,OAAOY,UAAW,WAAYgF,EAAU,CAAE0T,QAAQ,KAMvDslB,KACA,SAAUjO,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxBZ,EAAO,EAAoB,MAI/BY,EAAE,CAAE1D,OAAQ,SAAUsgB,OAAO,EAAMlN,OAAQ,IAAItQ,OAASA,GAAQ,CAC9DA,KAAMA,KAMFw5B,KACA,SAAUlO,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI2B,EAAW,EAAoB,MAC/B6L,EAAW,EAAoB,MAC/BjJ,EAAQ,EAAoB,MAC5BmR,EAAQ,EAAoB,MAE5B0X,EAAY,WACZC,EAAkBlX,OAAOjnB,UACzBo+B,EAAiBD,EAAyB,SAE1CE,EAAchpB,GAAM,WAAc,MAA2D,QAApD+oB,EAAep/B,KAAK,CAAE6gB,OAAQ,IAAK2G,MAAO,SAEnF8X,EAAiBF,EAAexsB,MAAQssB,GAIxCG,GAAeC,IACjB7rB,EAASwU,OAAOjnB,UAAWk+B,GAAW,WACpC,IAAIhM,EAAI5T,EAASlV,MACblJ,EAAI0Q,OAAOshB,EAAErS,QACb0e,EAAKrM,EAAE1L,MAEX,MAAO,IAAMtmB,EAAI,IADT0Q,YAAcS,IAAPktB,GAAoBrM,aAAajL,UAAY,UAAWkX,GAAmB3X,EAAMxnB,KAAKkzB,GAAKqM,KAEzG,CAAE7lB,QAAQ,KAMT8lB,KACA,SAAUzO,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIS,EAAS,EAAoB,MAAMA,OACnCuE,EAAsB,EAAoB,MAC1C0mB,EAAiB,EAAoB,KAErCiC,EAAkB,kBAClBzoB,EAAmBF,EAAoBG,IACvCF,EAAmBD,EAAoBqV,UAAUsT,GAIrDjC,EAAe5rB,OAAQ,UAAU,SAAU8rB,GACzC1mB,EAAiB5M,KAAM,CACrBzE,KAAM85B,EACNvX,OAAQtW,OAAO8rB,GACflrB,MAAO,OAIR,WACD,IAGIktB,EAHA/T,EAAQ5U,EAAiB3M,MACzB8d,EAASyD,EAAMzD,OACf1V,EAAQmZ,EAAMnZ,MAElB,OAAIA,GAAS0V,EAAO1lB,OAAe,CAAE7B,WAAO0R,EAAWgK,MAAM,IAC7DqjB,EAAQntB,EAAO2V,EAAQ1V,GACvBmZ,EAAMnZ,OAASktB,EAAMl9B,OACd,CAAE7B,MAAO++B,EAAOrjB,MAAM,QAMzBsjB,KACA,SAAU5O,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI8tB,EAAgC,EAAoB,MACpDtgB,EAAW,EAAoB,MAC/B9I,EAAW,EAAoB,MAC/Bif,EAAyB,EAAoB,MAC7CoK,EAAqB,EAAoB,MACzCC,EAAa,EAAoB,MAGrCF,EAA8B,QAAS,GAAG,SAAU5S,EAAO+S,EAAaC,GACtE,MAAO,CAGL,SAAerY,GACb,IAAIjf,EAAI+sB,EAAuBrrB,MAC3B61B,EAAoB5tB,MAAVsV,OAAsBtV,EAAYsV,EAAOqF,GACvD,YAAmB3a,IAAZ4tB,EAAwBA,EAAQjgC,KAAK2nB,EAAQjf,GAAK,IAAIuf,OAAON,GAAQqF,GAAOpb,OAAOlJ,KAI5F,SAAUif,GACR,IAAIuY,EAAMF,EAAgBD,EAAapY,EAAQvd,MAC/C,GAAI81B,EAAI7jB,KAAM,OAAO6jB,EAAIv/B,MAEzB,IAAIw/B,EAAK7gB,EAASqI,GACdxf,EAAIyJ,OAAOxH,MAEf,IAAK+1B,EAAG9sB,OAAQ,OAAOysB,EAAWK,EAAIh4B,GAEtC,IAAIi4B,EAAcD,EAAG1tB,QACrB0tB,EAAGvM,UAAY,EAIf,IAHA,IAEIhkB,EAFA7K,EAAI,GACJlF,EAAI,EAEgC,QAAhC+P,EAASkwB,EAAWK,EAAIh4B,KAAc,CAC5C,IAAIk4B,EAAWzuB,OAAOhC,EAAO,IAC7B7K,EAAElF,GAAKwgC,EACU,KAAbA,IAAiBF,EAAGvM,UAAYiM,EAAmB13B,EAAGqO,EAAS2pB,EAAGvM,WAAYwM,IAClFvgC,IAEF,OAAa,IAANA,EAAU,KAAOkF,QAQxBu7B,KACA,SAAUvP,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI8tB,EAAgC,EAAoB,MACpDtgB,EAAW,EAAoB,MAC/B9I,EAAW,EAAoB,MAC/BD,EAAY,EAAoB,MAChCkf,EAAyB,EAAoB,MAC7CoK,EAAqB,EAAoB,MACzCU,EAAkB,EAAoB,KACtCT,EAAa,EAAoB,MAEjC97B,EAAMI,KAAKJ,IACXF,EAAMM,KAAKN,IAOf87B,EAA8B,UAAW,GAAG,SAAU5Y,EAASyM,EAAeuM,EAAiBQ,GAC7F,IAAIvZ,EAA+CuZ,EAAOvZ,6CACtDF,EAAmByZ,EAAOzZ,iBAC1B0Z,EAAoBxZ,EAA+C,IAAM,KAE7E,MAAO,CAGL,SAAiByZ,EAAaC,GAC5B,IAAIj4B,EAAI+sB,EAAuBrrB,MAC3Bw2B,EAA0BvuB,MAAfquB,OAA2BruB,EAAYquB,EAAY1Z,GAClE,YAAoB3U,IAAbuuB,EACHA,EAAS5gC,KAAK0gC,EAAah4B,EAAGi4B,GAC9BlN,EAAczzB,KAAK4R,OAAOlJ,GAAIg4B,EAAaC,IAIjD,SAAUhZ,EAAQgZ,GAChB,IACI1Z,GAAgDF,GACzB,iBAAjB4Z,IAA0E,IAA7CA,EAAa1vB,QAAQwvB,GAC1D,CACA,IAAIP,EAAMF,EAAgBvM,EAAe9L,EAAQvd,KAAMu2B,GACvD,GAAIT,EAAI7jB,KAAM,OAAO6jB,EAAIv/B,MAG3B,IAAIw/B,EAAK7gB,EAASqI,GACdxf,EAAIyJ,OAAOxH,MAEXy2B,EAA4C,mBAAjBF,EAC1BE,IAAmBF,EAAe/uB,OAAO+uB,IAE9C,IAAIttB,EAAS8sB,EAAG9sB,OAChB,GAAIA,EAAQ,CACV,IAAI+sB,EAAcD,EAAG1tB,QACrB0tB,EAAGvM,UAAY,EAGjB,IADA,IAAIkN,EAAU,KACD,CACX,IAAIlxB,EAASkwB,EAAWK,EAAIh4B,GAC5B,GAAe,OAAXyH,EAAiB,MAGrB,GADAkxB,EAAQx+B,KAAKsN,IACRyD,EAAQ,MAGI,KADFzB,OAAOhC,EAAO,MACRuwB,EAAGvM,UAAYiM,EAAmB13B,EAAGqO,EAAS2pB,EAAGvM,WAAYwM,IAKpF,IAFA,IAtDwB1uB,EAsDpBqvB,EAAoB,GACpBC,EAAqB,EAChBlhC,EAAI,EAAGA,EAAIghC,EAAQt+B,OAAQ1C,IAAK,CACvC8P,EAASkxB,EAAQhhC,GAUjB,IARA,IAAI+oB,EAAUjX,OAAOhC,EAAO,IACxB1G,EAAWlF,EAAIF,EAAIyS,EAAU3G,EAAO4C,OAAQrK,EAAE3F,QAAS,GACvDsmB,EAAW,GAMN3P,EAAI,EAAGA,EAAIvJ,EAAOpN,OAAQ2W,IAAK2P,EAASxmB,UAlEzC+P,KADcX,EAmE8C9B,EAAOuJ,IAlEvDzH,EAAKE,OAAOF,IAmEhC,IAAIqX,EAAgBnZ,EAAOkX,OAC3B,GAAI+Z,EAAmB,CACrB,IAAII,EAAe,CAACpY,GAASqG,OAAOpG,EAAU5f,EAAUf,QAClCkK,IAAlB0W,GAA6BkY,EAAa3+B,KAAKymB,GACnD,IAAIC,EAAcpX,OAAO+uB,EAAaviB,WAAM/L,EAAW4uB,SAEvDjY,EAAcuX,EAAgB1X,EAAS1gB,EAAGe,EAAU4f,EAAUC,EAAe4X,GAE3Ez3B,GAAY83B,IACdD,GAAqB54B,EAAEzG,MAAMs/B,EAAoB93B,GAAY8f,EAC7DgY,EAAqB93B,EAAW2f,EAAQrmB,QAG5C,OAAOu+B,EAAoB54B,EAAEzG,MAAMs/B,SAQnCE,KACA,SAAUnQ,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI8tB,EAAgC,EAAoB,MACpD3S,EAAW,EAAoB,MAC/B3N,EAAW,EAAoB,MAC/BmW,EAAyB,EAAoB,MAC7C8F,EAAqB,EAAoB,MACzCsE,EAAqB,EAAoB,MACzCrpB,EAAW,EAAoB,MAC/B2qB,EAAiB,EAAoB,MACrCxa,EAAa,EAAoB,MACjCtQ,EAAQ,EAAoB,MAE5B+qB,EAAY,GAAG9+B,KACfwB,EAAMM,KAAKN,IACXu9B,EAAa,WAGbC,GAAcjrB,GAAM,WAAc,OAAQ4R,OAAOoZ,EAAY,QAGjEzB,EAA8B,QAAS,GAAG,SAAU2B,EAAOC,EAAaxB,GACtE,IAAIyB,EAqDJ,OAzCEA,EAV2B,KAA3B,OAAO3+B,MAAM,QAAQ,IAEc,GAAnC,OAAOA,MAAM,QAAS,GAAGN,QACO,GAAhC,KAAKM,MAAM,WAAWN,QACU,GAAhC,IAAIM,MAAM,YAAYN,QAEtB,IAAIM,MAAM,QAAQN,OAAS,GAC3B,GAAGM,MAAM,MAAMN,OAGC,SAAUk/B,EAAWC,GACnC,IAAIzZ,EAAStW,OAAO6jB,EAAuBrrB,OACvCw3B,OAAgBvvB,IAAVsvB,EAAsBN,EAAaM,IAAU,EACvD,GAAY,IAARC,EAAW,MAAO,GACtB,QAAkBvvB,IAAdqvB,EAAyB,MAAO,CAACxZ,GAErC,IAAK+E,EAASyU,GACZ,OAAOF,EAAYxhC,KAAKkoB,EAAQwZ,EAAWE,GAW7C,IATA,IAQIh9B,EAAOgvB,EAAWiO,EARlB3K,EAAS,GACT1P,GAASka,EAAUpN,WAAa,IAAM,KAC7BoN,EAAUtN,UAAY,IAAM,KAC5BsN,EAAUjvB,QAAU,IAAM,KAC1BivB,EAAUzN,OAAS,IAAM,IAClC6N,EAAgB,EAEhBC,EAAgB,IAAI9Z,OAAOyZ,EAAU7gB,OAAQ2G,EAAQ,MAElD5iB,EAAQ+hB,EAAW3mB,KAAK+hC,EAAe7Z,QAC5C0L,EAAYmO,EAAcnO,WACVkO,IACd5K,EAAO50B,KAAK4lB,EAAOxmB,MAAMogC,EAAel9B,EAAM4N,QAC1C5N,EAAMpC,OAAS,GAAKoC,EAAM4N,MAAQ0V,EAAO1lB,QAAQ4+B,EAAUhjB,MAAM8Y,EAAQtyB,EAAMlD,MAAM,IACzFmgC,EAAaj9B,EAAM,GAAGpC,OACtBs/B,EAAgBlO,EACZsD,EAAO10B,QAAUo/B,KAEnBG,EAAcnO,YAAchvB,EAAM4N,OAAOuvB,EAAcnO,YAK7D,OAHIkO,IAAkB5Z,EAAO1lB,QACvBq/B,GAAeE,EAAcv8B,KAAK,KAAK0xB,EAAO50B,KAAK,IAClD40B,EAAO50B,KAAK4lB,EAAOxmB,MAAMogC,IACzB5K,EAAO10B,OAASo/B,EAAM1K,EAAOx1B,MAAM,EAAGkgC,GAAO1K,GAG7C,IAAIp0B,WAAMuP,EAAW,GAAG7P,OACjB,SAAUk/B,EAAWC,GACnC,YAAqBtvB,IAAdqvB,GAAqC,IAAVC,EAAc,GAAKH,EAAYxhC,KAAKoK,KAAMs3B,EAAWC,IAEpEH,EAEhB,CAGL,SAAeE,EAAWC,GACxB,IAAIj5B,EAAI+sB,EAAuBrrB,MAC3B43B,EAAwB3vB,MAAbqvB,OAAyBrvB,EAAYqvB,EAAUH,GAC9D,YAAoBlvB,IAAb2vB,EACHA,EAAShiC,KAAK0hC,EAAWh5B,EAAGi5B,GAC5BF,EAAczhC,KAAK4R,OAAOlJ,GAAIg5B,EAAWC,IAO/C,SAAUha,EAAQga,GAChB,IAAIzB,EAAMF,EAAgByB,EAAe9Z,EAAQvd,KAAMu3B,EAAOF,IAAkBD,GAChF,GAAItB,EAAI7jB,KAAM,OAAO6jB,EAAIv/B,MAEzB,IAAIw/B,EAAK7gB,EAASqI,GACdxf,EAAIyJ,OAAOxH,MACXtE,EAAIy1B,EAAmB4E,EAAIlY,QAE3Bga,EAAkB9B,EAAG1tB,QACrB+U,GAAS2Y,EAAG7L,WAAa,IAAM,KACtB6L,EAAG/L,UAAY,IAAM,KACrB+L,EAAG1tB,QAAU,IAAM,KACnB6uB,EAAa,IAAM,KAI5BU,EAAW,IAAIl8B,EAAEw7B,EAAanB,EAAK,OAASA,EAAGtf,OAAS,IAAK2G,GAC7Doa,OAAgBvvB,IAAVsvB,EAAsBN,EAAaM,IAAU,EACvD,GAAY,IAARC,EAAW,MAAO,GACtB,GAAiB,IAAbz5B,EAAE3F,OAAc,OAAuC,OAAhC2+B,EAAea,EAAU75B,GAAc,CAACA,GAAK,GAIxE,IAHA,IAAIjH,EAAI,EACJy2B,EAAI,EACJ5yB,EAAI,GACD4yB,EAAIxvB,EAAE3F,QAAQ,CACnBw/B,EAASpO,UAAY0N,EAAa3J,EAAI,EACtC,IACIh4B,EADAuiC,EAAIf,EAAea,EAAUV,EAAan5B,EAAIA,EAAEzG,MAAMi2B,IAE1D,GACQ,OAANuK,IACCviC,EAAImE,EAAI0S,EAASwrB,EAASpO,WAAa0N,EAAa,EAAI3J,IAAKxvB,EAAE3F,WAAatB,EAE7Ey2B,EAAIkI,EAAmB13B,EAAGwvB,EAAGsK,OACxB,CAEL,GADAl9B,EAAEzC,KAAK6F,EAAEzG,MAAMR,EAAGy2B,IACd5yB,EAAEvC,SAAWo/B,EAAK,OAAO78B,EAC7B,IAAK,IAAIjF,EAAI,EAAGA,GAAKoiC,EAAE1/B,OAAS,EAAG1C,IAEjC,GADAiF,EAAEzC,KAAK4/B,EAAEpiC,IACLiF,EAAEvC,SAAWo/B,EAAK,OAAO78B,EAE/B4yB,EAAIz2B,EAAIvB,GAIZ,OADAoF,EAAEzC,KAAK6F,EAAEzG,MAAMR,IACR6D,OAGTu8B,IAKEa,KACA,SAAUpR,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIzL,EAAI,EAAoB,MACxB+7B,EAAQ,EAAoB,MAAMngC,KAKtCoE,EAAE,CAAE1D,OAAQ,SAAUsgB,OAAO,EAAMlN,OAJN,EAAoB,KAINssB,CAAuB,SAAW,CAC3EpgC,KAAM,WACJ,OAAOmgC,EAAMh4B,UAOXk4B,KACA,SAAUvR,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1C6I,EAAc,EAAoB,MAElC/sB,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,cAAc,SAAoBjT,EAAQiG,GAC/D,OAAO25B,EAAYviC,KAAKwV,EAAYpL,MAAOzH,EAAQiG,EAAOjH,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAM5FmwB,KACA,SAAUzR,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1C+I,EAAS,EAAoB,MAAM9kB,MAEnCnI,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,SAAS,SAAe4F,GAC7C,OAAOinB,EAAOjtB,EAAYpL,MAAOoR,EAAY7Z,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAM/EqwB,KACA,SAAU3R,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CiJ,EAAQ,EAAoB,MAE5BntB,EAAckkB,EAAoBlkB,aAMtCI,EAL6B8jB,EAAoB9jB,wBAK1B,QAAQ,SAAcjV,GAC3C,OAAOgiC,EAAMvkB,MAAM5I,EAAYpL,MAAOzI,eAMlCihC,KACA,SAAU7R,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CwD,EAAU,EAAoB,MAAMxf,OACpCmlB,EAAqB,EAAoB,MAEzCrtB,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,UAAU,SAAgB4F,GAC/C,IAAI2e,EAAO+C,EAAQ1nB,EAAYpL,MAAOoR,EAAY7Z,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,GACxF,OAAOwwB,EAAmBz4B,KAAM+vB,OAM5B2I,KACA,SAAU/R,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CqJ,EAAa,EAAoB,MAAMnlB,UAEvCpI,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,aAAa,SAAmBotB,GACrD,OAAOD,EAAWvtB,EAAYpL,MAAO44B,EAAWrhC,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAMlF4wB,KACA,SAAUlS,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CwJ,EAAQ,EAAoB,MAAM71B,KAElCmI,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,QAAQ,SAAcotB,GAC3C,OAAOE,EAAM1tB,EAAYpL,MAAO44B,EAAWrhC,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAM7E8wB,KACA,SAAUpS,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1Cre,EAAW,EAAoB,MAAM/S,QAErCkN,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,WAAW,SAAiB4F,GACjDH,EAAS7F,EAAYpL,MAAOoR,EAAY7Z,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAM1E+wB,KACA,SAAUrS,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1C2J,EAAY,EAAoB,MAAMh4B,SAEtCmK,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,YAAY,SAAkBuI,GACnD,OAAOklB,EAAU7tB,EAAYpL,MAAO+T,EAAexc,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAMrFixB,KACA,SAAUvS,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1C0D,EAAW,EAAoB,MAAMnsB,QAErCuE,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,WAAW,SAAiBuI,GACjD,OAAOif,EAAS5nB,EAAYpL,MAAO+T,EAAexc,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAMpFkxB,KACA,SAAUxS,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIuB,EAAS,EAAoB,MAC7BqmB,EAAsB,EAAoB,KAC1C8J,EAAiB,EAAoB,MAGrC7jB,EAFkB,EAAoB,KAE3B1N,CAAgB,YAC3B0C,EAAatB,EAAOsB,WACpB8uB,EAAcD,EAAe99B,OAC7Bg+B,EAAYF,EAAejhC,KAC3BohC,EAAeH,EAAexgB,QAC9BxN,EAAckkB,EAAoBlkB,YAClCI,EAAyB8jB,EAAoB9jB,uBAC7CguB,EAA2BjvB,GAAcA,EAAW3T,UAAU2e,GAE9DkkB,IAAsBD,IACa,UAAjCA,EAAyBhxB,MAAqDP,MAAjCuxB,EAAyBhxB,MAExEkxB,EAAmB,WACrB,OAAOL,EAAYzjC,KAAKwV,EAAYpL,QAKtCwL,EAAuB,WAAW,WAChC,OAAO+tB,EAAa3jC,KAAKwV,EAAYpL,UAIvCwL,EAAuB,QAAQ,WAC7B,OAAO8tB,EAAU1jC,KAAKwV,EAAYpL,UAIpCwL,EAAuB,SAAUkuB,GAAmBD,GAGpDjuB,EAAuB+J,EAAUmkB,GAAmBD,IAK9CE,KACA,SAAUhT,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAE1ClkB,EAAckkB,EAAoBlkB,YAClCI,EAAyB8jB,EAAoB9jB,uBAC7CouB,EAAQ,GAAGp+B,KAKfgQ,EAAuB,QAAQ,SAAc8rB,GAC3C,OAAOsC,EAAM5lB,MAAM5I,EAAYpL,MAAOzI,eAMlCsiC,KACA,SAAUlT,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CwK,EAAe,EAAoB,MAEnC1uB,EAAckkB,EAAoBlkB,aAMtCI,EAL6B8jB,EAAoB9jB,wBAK1B,eAAe,SAAqBuI,GACzD,OAAO+lB,EAAa9lB,MAAM5I,EAAYpL,MAAOzI,eAMzCwiC,KACA,SAAUpT,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CoE,EAAO,EAAoB,MAAMj5B,IACjC02B,EAAqB,EAAoB,MAEzC/lB,EAAckkB,EAAoBlkB,YAClCC,EAAyBikB,EAAoBjkB,wBAKjDG,EAJ6B8jB,EAAoB9jB,wBAI1B,OAAO,SAAasG,GACzC,OAAO4hB,EAAKtoB,EAAYpL,MAAO8R,EAAOva,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,GAAW,SAAU3J,EAAGlG,GAClG,OAAO,IAAKiT,EAAuB8lB,EAAmB7yB,EAAGA,EAAE0Q,cAApD,CAAmE5W,UAOxE4hC,KACA,SAAUrT,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1C2K,EAAe,EAAoB,MAAMr7B,MAEzCwM,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,eAAe,SAAqB4F,GACzD,OAAO6oB,EAAa7uB,EAAYpL,MAAOoR,EAAY7Z,UAAUa,OAAQb,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAMvGiyB,KACA,SAAUvT,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1C6K,EAAU,EAAoB,MAAM78B,KAEpC8N,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,UAAU,SAAgB4F,GAC/C,OAAO+oB,EAAQ/uB,EAAYpL,MAAOoR,EAAY7Z,UAAUa,OAAQb,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAMlGmyB,KACA,SAAUzT,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAE1ClkB,EAAckkB,EAAoBlkB,YAClCI,EAAyB8jB,EAAoB9jB,uBAC7C3R,EAAQG,KAAKH,MAIjB2R,EAAuB,WAAW,WAMhC,IALA,IAIIjV,EAJA4c,EAAOnT,KACP5H,EAASgT,EAAY+H,GAAM/a,OAC3BqG,EAAS5E,EAAMzB,EAAS,GACxBgQ,EAAQ,EAELA,EAAQ3J,GACblI,EAAQ4c,EAAK/K,GACb+K,EAAK/K,KAAW+K,IAAO/a,GACvB+a,EAAK/a,GAAU7B,EACf,OAAO4c,MAMLknB,KACA,SAAU1T,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CljB,EAAW,EAAoB,MAC/BojB,EAAW,EAAoB,MAC/Bjf,EAAW,EAAoB,MAC/BtE,EAAQ,EAAoB,MAE5Bb,EAAckkB,EAAoBlkB,aAUtCI,EAT6B8jB,EAAoB9jB,wBAS1B,OAAO,SAAakG,GACzCtG,EAAYpL,MACZ,IAAIwP,EAASggB,EAASj4B,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,EAAW,GACnE7P,EAAS4H,KAAK5H,OACdiuB,EAAM9V,EAASmB,GACfhB,EAAMtE,EAASia,EAAIjuB,QACnBgQ,EAAQ,EACZ,GAAIsI,EAAMlB,EAASpX,EAAQ,MAAMiV,WAAW,gBAC5C,KAAOjF,EAAQsI,GAAK1Q,KAAKwP,EAASpH,GAASie,EAAIje,OAfpC6D,GAAM,WAEjB,IAAIxC,UAAU,GAAGoD,IAAI,SAmBjBytB,IACA,SAAU3T,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1C6B,EAAqB,EAAoB,MACzCllB,EAAQ,EAAoB,MAE5Bb,EAAckkB,EAAoBlkB,YAClCC,EAAyBikB,EAAoBjkB,uBAC7CG,EAAyB8jB,EAAoB9jB,uBAC7C+uB,EAAS,GAAGjjC,MAShBkU,EAAuB,SAAS,SAAehN,EAAOE,GAMpD,IALA,IAAIqxB,EAAOwK,EAAO3kC,KAAKwV,EAAYpL,MAAOxB,EAAOE,GAC7ChD,EAAIy1B,EAAmBnxB,KAAMA,KAAKgP,aAClC5G,EAAQ,EACRhQ,EAAS23B,EAAK33B,OACdoN,EAAS,IAAK6F,EAAuB3P,GAA5B,CAAgCtD,GACtCA,EAASgQ,GAAO5C,EAAO4C,GAAS2nB,EAAK3nB,KAC5C,OAAO5C,IAdIyG,GAAM,WAEjB,IAAIxC,UAAU,GAAGnS,aAkBbkjC,KACA,SAAU7T,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CmL,EAAQ,EAAoB,MAAM50B,KAElCuF,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,QAAQ,SAAc4F,GAC3C,OAAOqpB,EAAMrvB,EAAYpL,MAAOoR,EAAY7Z,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,OAM9EyyB,KACA,SAAU/T,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAE1ClkB,EAAckkB,EAAoBlkB,YAClCI,EAAyB8jB,EAAoB9jB,uBAC7CmvB,EAAQ,GAAG9W,KAIfrY,EAAuB,QAAQ,SAAcovB,GAC3C,OAAOD,EAAM/kC,KAAKwV,EAAYpL,MAAO46B,OAMjCC,KACA,SAAUlU,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI4nB,EAAsB,EAAoB,KAC1CljB,EAAW,EAAoB,MAC/BoE,EAAkB,EAAoB,MACtC2gB,EAAqB,EAAoB,MAEzC/lB,EAAckkB,EAAoBlkB,aAKtCI,EAJ6B8jB,EAAoB9jB,wBAI1B,YAAY,SAAkBsvB,EAAOp8B,GAC1D,IAAIJ,EAAI8M,EAAYpL,MAChB5H,EAASkG,EAAElG,OACX2iC,EAAavqB,EAAgBsqB,EAAO1iC,GACxC,OAAO,IAAK+4B,EAAmB7yB,EAAGA,EAAE0Q,aAA7B,CACL1Q,EAAEyP,OACFzP,EAAEoQ,WAAaqsB,EAAaz8B,EAAEsxB,kBAC9BxjB,QAAkBnE,IAARvJ,EAAoBtG,EAASoY,EAAgB9R,EAAKtG,IAAW2iC,QAOrEC,KACA,SAAUrU,EAAyBjf,EAA0B,GAEnE,aAEA,IAAIuB,EAAS,EAAoB,MAC7BqmB,EAAsB,EAAoB,KAC1CrjB,EAAQ,EAAoB,MAE5BxC,EAAYR,EAAOQ,UACnB2B,EAAckkB,EAAoBlkB,YAClCI,EAAyB8jB,EAAoB9jB,uBAC7CyvB,EAAkB,GAAGC,eACrBX,EAAS,GAAGjjC,MAGZ6jC,IAAyB1xB,GAAawC,GAAM,WAC9CgvB,EAAgBrlC,KAAK,IAAI6T,EAAU,OAWrC+B,EAAuB,kBAAkB,WACvC,OAAOyvB,EAAgBjnB,MAAMmnB,EAAuBZ,EAAO3kC,KAAKwV,EAAYpL,OAASoL,EAAYpL,MAAOzI,aAT7F0U,GAAM,WACjB,MAAO,CAAC,EAAG,GAAGivB,kBAAoB,IAAIzxB,EAAU,CAAC,EAAG,IAAIyxB,sBACnDjvB,GAAM,WACXxC,EAAU7S,UAAUskC,eAAetlC,KAAK,CAAC,EAAG,SAYxCwlC,KACA,SAAUzU,EAAyBjf,EAA0B,GAEnE,aAEA,IAAI8D,EAAyB,EAAoB,KAAKA,uBAClDS,EAAQ,EAAoB,MAG5B1B,EAFS,EAAoB,MAETA,WACpB8wB,EAAsB9wB,GAAcA,EAAW3T,WAAa,GAC5D0kC,EAAgB,GAAG1/B,SACnB2/B,EAAY,GAAG//B,KAEfyQ,GAAM,WAAcqvB,EAAc1lC,KAAK,SACzC0lC,EAAgB,WACd,OAAOC,EAAU3lC,KAAKoK,QAI1B,IAAIw7B,EAAsBH,EAAoBz/B,UAAY0/B,EAI1D9vB,EAAuB,WAAY8vB,EAAeE,IAK5CC,KACA,SAAU9U,EAAyBjf,EAA0B,GAEjC,EAAoB,KAItDg0B,CAA4B,SAAS,SAAUz7B,GAC7C,OAAO,SAAoBoiB,EAAM3T,EAAYtW,GAC3C,OAAO6H,EAAKD,KAAMqiB,EAAM3T,EAAYtW,QAOlCujC,KACA,SAAUhV,EAAyBjf,EAA0B,GAEnE,IAAIuB,EAAS,EAAoB,MAC7B2yB,EAAe,EAAoB,MACnC19B,EAAU,EAAoB,MAC9BkL,EAA8B,EAAoB,MAEtD,IAAK,IAAIyyB,KAAmBD,EAAc,CACxC,IAAIE,EAAa7yB,EAAO4yB,GACpBE,EAAsBD,GAAcA,EAAWllC,UAEnD,GAAImlC,GAAuBA,EAAoB79B,UAAYA,EAAS,IAClEkL,EAA4B2yB,EAAqB,UAAW79B,GAC5D,MAAO2N,GACPkwB,EAAoB79B,QAAUA,KAO5B89B,KACA,SAAUrV,EAAyBjf,EAA0B,GAEnE,IAAIuB,EAAS,EAAoB,MAC7B2yB,EAAe,EAAoB,MACnCK,EAAuB,EAAoB,MAC3C7yB,EAA8B,EAAoB,MAClDvB,EAAkB,EAAoB,MAEtC0N,EAAW1N,EAAgB,YAC3BoC,EAAgBpC,EAAgB,eAChCq0B,EAAcD,EAAqB3gC,OAEvC,IAAK,IAAIugC,KAAmBD,EAAc,CACxC,IAAIE,EAAa7yB,EAAO4yB,GACpBE,EAAsBD,GAAcA,EAAWllC,UACnD,GAAImlC,EAAqB,CAEvB,GAAIA,EAAoBxmB,KAAc2mB,EAAa,IACjD9yB,EAA4B2yB,EAAqBxmB,EAAU2mB,GAC3D,MAAOrwB,GACPkwB,EAAoBxmB,GAAY2mB,EAKlC,GAHKH,EAAoB9xB,IACvBb,EAA4B2yB,EAAqB9xB,EAAe4xB,GAE9DD,EAAaC,GAAkB,IAAK,IAAIznB,KAAe6nB,EAEzD,GAAIF,EAAoB3nB,KAAiB6nB,EAAqB7nB,GAAc,IAC1EhL,EAA4B2yB,EAAqB3nB,EAAa6nB,EAAqB7nB,IACnF,MAAOvI,GACPkwB,EAAoB3nB,GAAe6nB,EAAqB7nB,OAS1D+nB,KACA,SAAU/mC,EAAQsS,EAA0B,GAElD,aAGA,EAAoB,MACpB,IAAIzL,EAAI,EAAoB,MACxB+e,EAAa,EAAoB,MACjCohB,EAAiB,EAAoB,KACrC/yB,EAAW,EAAoB,MAC/B2C,EAAc,EAAoB,MAClCS,EAAiB,EAAoB,MACrCiL,EAA4B,EAAoB,MAChDhL,EAAsB,EAAoB,MAC1CR,EAAa,EAAoB,MACjCmwB,EAAS,EAAoB,MAC7B3lC,EAAO,EAAoB,MAC3ByS,EAAU,EAAoB,KAC9B+L,EAAW,EAAoB,MAC/BvN,EAAW,EAAoB,KAC/BlR,EAAS,EAAoB,IAC7BsgB,EAA2B,EAAoB,MAC/CulB,EAAc,EAAoB,MAClC7qB,EAAoB,EAAoB,MACxC5J,EAAkB,EAAoB,MAEtC00B,EAASvhB,EAAW,SACpBwhB,EAAUxhB,EAAW,WACrBzF,EAAW1N,EAAgB,YAC3B40B,EAAoB,kBACpBC,EAA6BD,0BAC7B7vB,EAAmBF,EAAoBG,IACvC8vB,EAAyBjwB,EAAoBqV,UAAU0a,GACvDG,EAA2BlwB,EAAoBqV,UAAU2a,GAEzDG,EAAO,MACPC,EAAY5lC,MAAM,GAElB6lC,EAAkB,SAAUtuB,GAC9B,OAAOquB,EAAUruB,EAAQ,KAAOquB,EAAUruB,EAAQ,GAAKoP,OAAO,qBAAuBpP,EAAQ,KAAM,QAGjGuuB,EAAgB,SAAUC,GAC5B,IACE,OAAOC,mBAAmBD,GAC1B,MAAOpxB,GACP,OAAOoxB,IAIPE,EAAc,SAAU71B,GAC1B,IAAI9B,EAAS8B,EAAGnO,QAAQ0jC,EAAM,KAC1BpuB,EAAQ,EACZ,IACE,OAAOyuB,mBAAmB13B,GAC1B,MAAOqG,GACP,KAAO4C,GACLjJ,EAASA,EAAOrM,QAAQ4jC,EAAgBtuB,KAAUuuB,GAEpD,OAAOx3B,IAIPvC,EAAO,eAEP9J,EAAU,CACZ,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,KAGLq9B,EAAW,SAAUh8B,GACvB,OAAOrB,EAAQqB,IAGb4iC,EAAY,SAAU91B,GACxB,OAAO+1B,mBAAmB/1B,GAAInO,QAAQ8J,EAAMuzB,IAG1C8G,EAAoB,SAAU93B,EAAQ+3B,GACxC,GAAIA,EAIF,IAHA,IAEIC,EAAWC,EAFXC,EAAaH,EAAM7kC,MAAM,KACzB0P,EAAQ,EAELA,EAAQs1B,EAAWtlC,SACxBolC,EAAYE,EAAWt1B,MACThQ,SACZqlC,EAAQD,EAAU9kC,MAAM,KACxB8M,EAAOtN,KAAK,CACVqE,IAAK4gC,EAAYM,EAAME,SACvBpnC,MAAO4mC,EAAYM,EAAMjiC,KAAK,UAOpCoiC,EAAqB,SAAUL,GACjCv9B,KAAK4Y,QAAQxgB,OAAS,EACtBklC,EAAkBt9B,KAAK4Y,QAAS2kB,IAG9BM,EAA0B,SAAUC,EAAQC,GAC9C,GAAID,EAASC,EAAU,MAAMx2B,UAAU,yBAGrCy2B,EAA0BtmB,GAA0B,SAAkBumB,EAAQ1K,GAChF3mB,EAAiB5M,KAAM,CACrBzE,KAAMmhC,EACN9qB,SAAU0qB,EAAYK,EAAuBsB,GAAQrlB,SACrD2a,KAAMA,MAEP,YAAY,WACb,IAAIhS,EAAQqb,EAAyB58B,MACjCuzB,EAAOhS,EAAMgS,KACb5hB,EAAO4P,EAAM3P,SAASC,OACtB4rB,EAAQ9rB,EAAKpb,MAGf,OAFGob,EAAKM,OACRN,EAAKpb,MAAiB,SAATg9B,EAAkBkK,EAAMlhC,IAAe,WAATg3B,EAAoBkK,EAAMlnC,MAAQ,CAACknC,EAAMlhC,IAAKkhC,EAAMlnC,QACxFob,KAKPusB,EAA6B,WAC/BhyB,EAAWlM,KAAMk+B,EAA4BzB,GAC7C,IAGIzqB,EAAgBJ,EAAUC,EAAMF,EAAMwsB,EAAeC,EAAW5S,EAAOC,EAAQlvB,EAH/E0D,EAAO1I,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,EAC7CkL,EAAOnT,KACP4Y,EAAU,GAUd,GAPAhM,EAAiBuG,EAAM,CACrB5X,KAAMkhC,EACN7jB,QAASA,EACTylB,UAAW,aACXT,mBAAoBA,SAGT31B,IAAThI,EACF,GAAI0H,EAAS1H,GAEX,GAA8B,mBAD9B+R,EAAiBP,EAAkBxR,IAIjC,IADA4R,GADAD,EAAWI,EAAepc,KAAKqK,IACf4R,OACPF,EAAOE,EAAKjc,KAAKgc,IAAWK,MAAM,CAGzC,IACGuZ,GAFH4S,GADAD,EAAgB7B,EAAYpnB,EAASvD,EAAKpb,SAChBsb,MAELjc,KAAKuoC,IAAgBlsB,OACvCwZ,EAAS2S,EAAUxoC,KAAKuoC,IAAgBlsB,OACxCmsB,EAAUxoC,KAAKuoC,GAAelsB,KAC/B,MAAM1K,UAAU,mCAClBqR,EAAQ1gB,KAAK,CAAEqE,IAAKivB,EAAMj1B,MAAQ,GAAIA,MAAOk1B,EAAOl1B,MAAQ,UAEzD,IAAKgG,KAAO0D,EAAUo8B,EAAOp8B,EAAM1D,IAAMqc,EAAQ1gB,KAAK,CAAEqE,IAAKA,EAAKhG,MAAO0J,EAAK1D,GAAO,UAE5F+gC,EAAkB1kB,EAAyB,iBAAT3Y,EAAuC,MAAnBA,EAAKkI,OAAO,GAAalI,EAAK3I,MAAM,GAAK2I,EAAOA,EAAO,KAK/Gq+B,EAA2BJ,EAA2BtnC,UAE1DoV,EAAYsyB,EAA0B,CAGpCC,OAAQ,SAAgB/1B,EAAMjS,GAC5BsnC,EAAwBtmC,UAAUa,OAAQ,GAC1C,IAAImpB,EAAQob,EAAuB38B,MACnCuhB,EAAM3I,QAAQ1gB,KAAK,CAAEqE,IAAKiM,EAAO,GAAIjS,MAAOA,EAAQ,KACpDgrB,EAAM8c,aAIR,OAAU,SAAU71B,GAClBq1B,EAAwBtmC,UAAUa,OAAQ,GAK1C,IAJA,IAAImpB,EAAQob,EAAuB38B,MAC/B4Y,EAAU2I,EAAM3I,QAChBrc,EAAMiM,EAAO,GACbJ,EAAQ,EACLA,EAAQwQ,EAAQxgB,QACjBwgB,EAAQxQ,GAAO7L,MAAQA,EAAKqc,EAAQ9R,OAAOsB,EAAO,GACjDA,IAEPmZ,EAAM8c,aAIRloC,IAAK,SAAaqS,GAChBq1B,EAAwBtmC,UAAUa,OAAQ,GAI1C,IAHA,IAAIwgB,EAAU+jB,EAAuB38B,MAAM4Y,QACvCrc,EAAMiM,EAAO,GACbJ,EAAQ,EACLA,EAAQwQ,EAAQxgB,OAAQgQ,IAC7B,GAAIwQ,EAAQxQ,GAAO7L,MAAQA,EAAK,OAAOqc,EAAQxQ,GAAO7R,MAExD,OAAO,MAITioC,OAAQ,SAAgBh2B,GACtBq1B,EAAwBtmC,UAAUa,OAAQ,GAK1C,IAJA,IAAIwgB,EAAU+jB,EAAuB38B,MAAM4Y,QACvCrc,EAAMiM,EAAO,GACbhD,EAAS,GACT4C,EAAQ,EACLA,EAAQwQ,EAAQxgB,OAAQgQ,IACzBwQ,EAAQxQ,GAAO7L,MAAQA,GAAKiJ,EAAOtN,KAAK0gB,EAAQxQ,GAAO7R,OAE7D,OAAOiP,GAIT0D,IAAK,SAAaV,GAChBq1B,EAAwBtmC,UAAUa,OAAQ,GAI1C,IAHA,IAAIwgB,EAAU+jB,EAAuB38B,MAAM4Y,QACvCrc,EAAMiM,EAAO,GACbJ,EAAQ,EACLA,EAAQwQ,EAAQxgB,QACrB,GAAIwgB,EAAQxQ,KAAS7L,MAAQA,EAAK,OAAO,EAE3C,OAAO,GAITsQ,IAAK,SAAarE,EAAMjS,GACtBsnC,EAAwBtmC,UAAUa,OAAQ,GAQ1C,IAPA,IAMIqlC,EANAlc,EAAQob,EAAuB38B,MAC/B4Y,EAAU2I,EAAM3I,QAChB6lB,GAAQ,EACRliC,EAAMiM,EAAO,GACbymB,EAAM14B,EAAQ,GACd6R,EAAQ,EAELA,EAAQwQ,EAAQxgB,OAAQgQ,KAC7Bq1B,EAAQ7kB,EAAQxQ,IACN7L,MAAQA,IACZkiC,EAAO7lB,EAAQ9R,OAAOsB,IAAS,IAEjCq2B,GAAQ,EACRhB,EAAMlnC,MAAQ04B,IAIfwP,GAAO7lB,EAAQ1gB,KAAK,CAAEqE,IAAKA,EAAKhG,MAAO04B,IAC5C1N,EAAM8c,aAIRxa,KAAM,WACJ,IAII4Z,EAAOiB,EAAcC,EAJrBpd,EAAQob,EAAuB38B,MAC/B4Y,EAAU2I,EAAM3I,QAEhBthB,EAAQshB,EAAQthB,QAGpB,IADAshB,EAAQxgB,OAAS,EACZumC,EAAa,EAAGA,EAAarnC,EAAMc,OAAQumC,IAAc,CAE5D,IADAlB,EAAQnmC,EAAMqnC,GACTD,EAAe,EAAGA,EAAeC,EAAYD,IAChD,GAAI9lB,EAAQ8lB,GAAcniC,IAAMkhC,EAAMlhC,IAAK,CACzCqc,EAAQ9R,OAAO43B,EAAc,EAAGjB,GAChC,MAGAiB,IAAiBC,GAAY/lB,EAAQ1gB,KAAKulC,GAEhDlc,EAAM8c,aAGRngC,QAAS,SAAiB0gC,GAKxB,IAJA,IAGInB,EAHA7kB,EAAU+jB,EAAuB38B,MAAM4Y,QACvCvF,EAAgB3c,EAAKkoC,EAAUrnC,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,EAAW,GAChFG,EAAQ,EAELA,EAAQwQ,EAAQxgB,QAErBib,GADAoqB,EAAQ7kB,EAAQxQ,MACI7R,MAAOknC,EAAMlhC,IAAKyD,OAI1C7H,KAAM,WACJ,OAAO,IAAI6lC,EAAwBh+B,KAAM,SAG3C1E,OAAQ,WACN,OAAO,IAAI0iC,EAAwBh+B,KAAM,WAG3C4Y,QAAS,WACP,OAAO,IAAIolB,EAAwBh+B,KAAM,aAE1C,CAAE9J,YAAY,IAGjBmT,EAASi1B,EAA0B/oB,EAAU+oB,EAAyB1lB,SAItEvP,EAASi1B,EAA0B,YAAY,WAK7C,IAJA,IAGIb,EAHA7kB,EAAU+jB,EAAuB38B,MAAM4Y,QACvCpT,EAAS,GACT4C,EAAQ,EAELA,EAAQwQ,EAAQxgB,QACrBqlC,EAAQ7kB,EAAQxQ,KAChB5C,EAAOtN,KAAKklC,EAAUK,EAAMlhC,KAAO,IAAM6gC,EAAUK,EAAMlnC,QACzD,OAAOiP,EAAOhK,KAAK,OACpB,CAAEtF,YAAY,IAEjBuW,EAAeyxB,EAA4BzB,GAE3CxgC,EAAE,CAAEgN,QAAQ,EAAM0C,QAASywB,GAAkB,CAC3CrY,gBAAiBma,IAKd9B,GAAmC,mBAAVG,GAA0C,mBAAXC,GAC3DvgC,EAAE,CAAEgN,QAAQ,EAAM/S,YAAY,EAAMyV,QAAQ,GAAQ,CAClDkzB,MAAO,SAAe97B,GACpB,IACI9C,EAAMqG,EAAMw4B,EADZC,EAAO,CAACh8B,GAkBV,OAhBExL,UAAUa,OAAS,IAEjBuP,EADJ1H,EAAO1I,UAAU,MAEf+O,EAAOrG,EAAKqG,KACR6C,EAAQ7C,KAAUm2B,KACpBqC,EAAU7+B,EAAK6+B,QAAU,IAAItC,EAAQv8B,EAAK6+B,SAAW,IAAItC,GAC5CtzB,IAAI,iBACf41B,EAAQjyB,IAAI,eAAgB,mDAE9B5M,EAAOxJ,EAAOwJ,EAAM,CAClBqG,KAAMyQ,EAAyB,EAAGvP,OAAOlB,IACzCw4B,QAAS/nB,EAAyB,EAAG+nB,OAI3CC,EAAK7mC,KAAK+H,IACHs8B,EAAOvoB,MAAMhU,KAAM++B,MAKlC3pC,EAAOC,QAAU,CACf0uB,gBAAiBma,EACjBc,SAAUrC,IAMNsC,IACA,SAAUtY,EAAyBjf,EAA0B,GAEnE,aAGA,EAAoB,MACpB,IA0CIw3B,EA1CAjjC,EAAI,EAAoB,MACxB+M,EAAc,EAAoB,MAClCozB,EAAiB,EAAoB,KACrCnzB,EAAS,EAAoB,MAC7Bgc,EAAmB,EAAoB,MACvC5b,EAAW,EAAoB,MAC/B6C,EAAa,EAAoB,MACjChD,EAAM,EAAoB,MAC1B/M,EAAS,EAAoB,MAC7BgjC,EAAY,EAAoB,MAChCvT,EAAS,EAAoB,MAAMA,OACnCwT,EAAU,EAAoB,MAC9B3yB,EAAiB,EAAoB,MACrC4yB,EAAwB,EAAoB,MAC5C3yB,EAAsB,EAAoB,MAE1C4yB,EAAYr2B,EAAOwa,IACnBM,EAAkBsb,EAAsBtb,gBACxCwb,EAA+BF,EAAsBL,SACrDpyB,EAAmBF,EAAoBG,IACvC2yB,EAAsB9yB,EAAoBqV,UAAU,OACpDloB,EAAQG,KAAKH,MACb4lB,EAAMzlB,KAAKylB,IAGXggB,EAAiB,iBACjBC,EAAe,eACfC,EAAe,eAEfC,EAAQ,WACRC,EAAe,gBACfC,EAAQ,KACRC,EAAY,WACZC,EAAM,WACNC,EAAM,QACNC,EAAM,gBAENC,EAA4B,oCAC5BC,EAA8C,mCAC9CC,EAA2C,yCAC3CC,EAAmB,oBAInBC,EAAY,SAAU/c,EAAKzgB,GAC7B,IAAIyC,EAAQg7B,EAAYp4B,EACxB,GAAuB,KAAnBrF,EAAMoF,OAAO,GAAW,CAC1B,GAAsC,KAAlCpF,EAAMoF,OAAOpF,EAAM3K,OAAS,GAAW,OAAOsnC,EAElD,KADAl6B,EAASi7B,EAAU19B,EAAMzL,MAAM,GAAI,KACtB,OAAOooC,EACpBlc,EAAIS,KAAOze,OAEN,GAAKk7B,EAAUld,GAQf,CAEL,GADAzgB,EAAQq8B,EAAQr8B,GACZo9B,EAA0B/kC,KAAK2H,GAAQ,OAAO28B,EAElD,GAAe,QADfl6B,EAASm7B,EAAU59B,IACE,OAAO28B,EAC5Blc,EAAIS,KAAOze,MAbe,CAC1B,GAAI46B,EAA4ChlC,KAAK2H,GAAQ,OAAO28B,EAGpE,IAFAl6B,EAAS,GACTg7B,EAAarB,EAAUp8B,GAClBqF,EAAQ,EAAGA,EAAQo4B,EAAWpoC,OAAQgQ,IACzC5C,GAAUo7B,EAAcJ,EAAWp4B,GAAQy4B,GAE7Crd,EAAIS,KAAOze,IAUXm7B,EAAY,SAAU59B,GACxB,IACI+9B,EAAaC,EAAS34B,EAAO44B,EAAMC,EAAOtzB,EAAQuzB,EADlDC,EAAQp+B,EAAMrK,MAAM,KAMxB,GAJIyoC,EAAM/oC,QAAqC,IAA3B+oC,EAAMA,EAAM/oC,OAAS,IACvC+oC,EAAMC,OAERN,EAAcK,EAAM/oC,QACF,EAAG,OAAO2K,EAE5B,IADAg+B,EAAU,GACL34B,EAAQ,EAAGA,EAAQ04B,EAAa14B,IAAS,CAE5C,GAAY,KADZ44B,EAAOG,EAAM/4B,IACG,OAAOrF,EAMvB,GALAk+B,EAAQ,GACJD,EAAK5oC,OAAS,GAAuB,KAAlB4oC,EAAK74B,OAAO,KACjC84B,EAAQlB,EAAU3kC,KAAK4lC,GAAQ,GAAK,EACpCA,EAAOA,EAAK1pC,MAAe,GAAT2pC,EAAa,EAAI,IAExB,KAATD,EACFrzB,EAAS,MACJ,CACL,KAAe,IAATszB,EAAchB,EAAe,GAATgB,EAAajB,EAAME,GAAK9kC,KAAK4lC,GAAO,OAAOj+B,EACrE4K,EAASjT,SAASsmC,EAAMC,GAE1BF,EAAQ7oC,KAAKyV,GAEf,IAAKvF,EAAQ,EAAGA,EAAQ04B,EAAa14B,IAEnC,GADAuF,EAASozB,EAAQ34B,GACbA,GAAS04B,EAAc,GACzB,GAAInzB,GAAU8R,EAAI,IAAK,EAAIqhB,GAAc,OAAO,UAC3C,GAAInzB,EAAS,IAAK,OAAO,KAGlC,IADAuzB,EAAOH,EAAQK,MACVh5B,EAAQ,EAAGA,EAAQ24B,EAAQ3oC,OAAQgQ,IACtC84B,GAAQH,EAAQ34B,GAASqX,EAAI,IAAK,EAAIrX,GAExC,OAAO84B,GAILT,EAAY,SAAU19B,GACxB,IAIIxM,EAAO6B,EAAQipC,EAAaC,EAAW3zB,EAAQ4zB,EAAOC,EAJtDC,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAChCC,EAAa,EACbC,EAAW,KACXC,EAAU,EAGVC,EAAO,WACT,OAAO9+B,EAAMoF,OAAOy5B,IAGtB,GAAc,KAAVC,IAAe,CACjB,GAAuB,KAAnB9+B,EAAMoF,OAAO,GAAW,OAC5By5B,GAAW,EAEXD,IADAD,EAGF,KAAOG,KAAQ,CACb,GAAkB,GAAdH,EAAiB,OACrB,GAAc,KAAVG,IAAJ,CAQA,IADAtrC,EAAQ6B,EAAS,EACVA,EAAS,GAAK8nC,EAAI9kC,KAAKymC,MAC5BtrC,EAAgB,GAARA,EAAamE,SAASmnC,IAAQ,IACtCD,IACAxpC,IAEF,GAAc,KAAVypC,IAAe,CACjB,GAAc,GAAVzpC,EAAa,OAEjB,GADAwpC,GAAWxpC,EACPspC,EAAa,EAAG,OAEpB,IADAL,EAAc,EACPQ,KAAQ,CAEb,GADAP,EAAY,KACRD,EAAc,EAAG,CACnB,KAAc,KAAVQ,KAAiBR,EAAc,GAC9B,OADiCO,IAGxC,IAAK9B,EAAM1kC,KAAKymC,KAAS,OACzB,KAAO/B,EAAM1kC,KAAKymC,MAAS,CAEzB,GADAl0B,EAASjT,SAASmnC,IAAQ,IACR,OAAdP,EAAoBA,EAAY3zB,MAC/B,IAAiB,GAAb2zB,EAAgB,OACpBA,EAAwB,GAAZA,EAAiB3zB,EAClC,GAAI2zB,EAAY,IAAK,OACrBM,IAEFH,EAAQC,GAAoC,IAAtBD,EAAQC,GAAoBJ,EAE/B,KADnBD,GACuC,GAAfA,GAAkBK,IAE5C,GAAmB,GAAfL,EAAkB,OACtB,MACK,GAAc,KAAVQ,KAET,GADAD,KACKC,IAAQ,YACR,GAAIA,IAAQ,OACnBJ,EAAQC,KAAgBnrC,MA3CxB,CACE,GAAiB,OAAborC,EAAmB,OACvBC,IAEAD,IADAD,GA0CJ,GAAiB,OAAbC,EAGF,IAFAJ,EAAQG,EAAaC,EACrBD,EAAa,EACQ,GAAdA,GAAmBH,EAAQ,GAChCC,EAAOC,EAAQC,GACfD,EAAQC,KAAgBD,EAAQE,EAAWJ,EAAQ,GACnDE,EAAQE,IAAaJ,GAASC,OAE3B,GAAkB,GAAdE,EAAiB,OAC5B,OAAOD,GA6BLK,EAAgB,SAAU7d,GAC5B,IAAIze,EAAQ4C,EAAOu5B,EAAUI,EAE7B,GAAmB,iBAAR9d,EAAkB,CAE3B,IADAze,EAAS,GACJ4C,EAAQ,EAAGA,EAAQ,EAAGA,IACzB5C,EAAOw8B,QAAQ/d,EAAO,KACtBA,EAAOpqB,EAAMoqB,EAAO,KACpB,OAAOze,EAAOhK,KAAK,KAEhB,GAAmB,iBAARyoB,EAAkB,CAGlC,IAFAze,EAAS,GACTm8B,EAtC0B,SAAUM,GAMtC,IALA,IAAIC,EAAW,KACXC,EAAY,EACZC,EAAY,KACZC,EAAa,EACbj6B,EAAQ,EACLA,EAAQ,EAAGA,IACI,IAAhB65B,EAAK75B,IACHi6B,EAAaF,IACfD,EAAWE,EACXD,EAAYE,GAEdD,EAAY,KACZC,EAAa,IAEK,OAAdD,IAAoBA,EAAYh6B,KAClCi6B,GAON,OAJIA,EAAaF,IACfD,EAAWE,EACXD,EAAYE,GAEPH,EAeMI,CAAwBre,GAC9B7b,EAAQ,EAAGA,EAAQ,EAAGA,IACrB25B,GAA2B,IAAhB9d,EAAK7b,KAChB25B,IAASA,GAAU,GACnBJ,IAAav5B,GACf5C,GAAU4C,EAAQ,IAAM,KACxB25B,GAAU,IAEVv8B,GAAUye,EAAK7b,GAAOxM,SAAS,IAC3BwM,EAAQ,IAAG5C,GAAU,OAG7B,MAAO,IAAMA,EAAS,IACtB,OAAOye,GAGP4c,EAA4B,GAC5B0B,EAA2BpmC,EAAO,GAAI0kC,EAA2B,CACnE,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,IAEnC2B,EAAuBrmC,EAAO,GAAIomC,EAA0B,CAC9D,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,IAE3BE,EAA2BtmC,EAAO,GAAIqmC,EAAsB,CAC9D,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,KAAM,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,IAG5E5B,EAAgB,SAAUiB,EAAMh1B,GAClC,IAAIjH,EAAOgmB,EAAOiW,EAAM,GACxB,OAAOj8B,EAAO,IAAQA,EAAO,MAASsD,EAAI2D,EAAKg1B,GAAQA,EAAOxE,mBAAmBwE,IAG/Ea,EAAiB,CACnBC,IAAK,GACLC,KAAM,KACNC,KAAM,GACNC,MAAO,IACPC,GAAI,GACJC,IAAK,KAGHtC,EAAY,SAAUld,GACxB,OAAOta,EAAIw5B,EAAgBlf,EAAIyf,SAG7BC,EAAsB,SAAU1f,GAClC,MAAuB,IAAhBA,EAAIQ,UAAkC,IAAhBR,EAAI2f,UAG/BC,EAAiC,SAAU5f,GAC7C,OAAQA,EAAIS,MAAQT,EAAI6f,kBAAkC,QAAd7f,EAAIyf,QAG9CK,EAAuB,SAAUxlB,EAAQylB,GAC3C,IAAI9X,EACJ,OAAwB,GAAjB3N,EAAO1lB,QAAewnC,EAAMxkC,KAAK0iB,EAAO3V,OAAO,MACjB,MAA9BsjB,EAAS3N,EAAO3V,OAAO,MAAgBo7B,GAAwB,KAAV9X,IAG1D+X,GAA+B,SAAU1lB,GAC3C,IAAI2lB,EACJ,OAAO3lB,EAAO1lB,OAAS,GAAKkrC,EAAqBxlB,EAAOxmB,MAAM,EAAG,MAC9C,GAAjBwmB,EAAO1lB,QACyB,OAA9BqrC,EAAQ3lB,EAAO3V,OAAO,KAAyB,OAAVs7B,GAA4B,MAAVA,GAA2B,MAAVA,IAI1EC,GAAkB,SAAUlgB,GAC9B,IAAInrB,EAAOmrB,EAAInrB,KACXsrC,EAAWtrC,EAAKD,QAChBurC,GAA2B,QAAdngB,EAAIyf,QAAgC,GAAZU,GAAkBL,EAAqBjrC,EAAK,IAAI,IACvFA,EAAK+oC,OAILwC,GAAc,SAAUC,GAC1B,MAAmB,MAAZA,GAA6C,QAA1BA,EAAQjpC,eAShCkpC,GAAe,GACfC,GAAS,GACTC,GAAY,GACZC,GAAgC,GAChCC,GAAoB,GACpBC,GAAW,GACXC,GAAiB,GACjBC,GAA4B,GAC5BC,GAAmC,GACnCC,GAAY,GACZC,GAAO,GACPC,GAAW,GACXC,GAAO,GACPC,GAAO,GACPC,GAAa,GACbC,GAAY,GACZC,GAAa,GACbC,GAAO,GACPC,GAA4B,GAC5BC,GAAQ,GACRC,GAAW,GAGXC,GAAW,SAAU3hB,EAAKzgB,EAAOqiC,EAAezY,GAClD,IAMI6T,EAAYqB,EAAMwD,EAAkBC,EApCdzB,EA8BtBtiB,EAAQ6jB,GAAiBtB,GACzBlC,EAAU,EACV7zB,EAAS,GACTw3B,GAAS,EACTC,GAAc,EACdC,GAAoB,EAoBxB,IAjBKL,IACH5hB,EAAIyf,OAAS,GACbzf,EAAIQ,SAAW,GACfR,EAAI2f,SAAW,GACf3f,EAAIS,KAAO,KACXT,EAAIkiB,KAAO,KACXliB,EAAInrB,KAAO,GACXmrB,EAAI+Z,MAAQ,KACZ/Z,EAAImiB,SAAW,KACfniB,EAAI6f,kBAAmB,EACvBtgC,EAAQA,EAAM5J,QAAQknC,EAA0C,KAGlEt9B,EAAQA,EAAM5J,QAAQmnC,EAAkB,IAExCE,EAAarB,EAAUp8B,GAEhB6+B,GAAWpB,EAAWpoC,QAAQ,CAEnC,OADAypC,EAAOrB,EAAWoB,GACVrgB,GACN,KAAKuiB,GACH,IAAIjC,IAAQjC,EAAMxkC,KAAKymC,GAGhB,IAAKuD,EAGL,OAAO3F,EAFZle,EAAQyiB,GACR,SAJAj2B,GAAU8zB,EAAKjnC,cACf2mB,EAAQwiB,GAKV,MAEF,KAAKA,GACH,GAAIlC,IAAShC,EAAazkC,KAAKymC,IAAiB,KAARA,GAAuB,KAARA,GAAuB,KAARA,GACpE9zB,GAAU8zB,EAAKjnC,kBACV,IAAY,KAARinC,EA0BJ,IAAKuD,EAKL,OAAO3F,EAJZ1xB,EAAS,GACTwT,EAAQyiB,GACRpC,EAAU,EACV,SA7BA,GAAIwD,IACD1E,EAAUld,IAAQta,EAAIw5B,EAAgB30B,IAC5B,QAAVA,IAAqBm1B,EAAoB1f,IAAqB,OAAbA,EAAIkiB,OACvC,QAAdliB,EAAIyf,SAAqBzf,EAAIS,MAC7B,OAEH,GADAT,EAAIyf,OAASl1B,EACTq3B,EAEF,YADI1E,EAAUld,IAAQkf,EAAelf,EAAIyf,SAAWzf,EAAIkiB,OAAMliB,EAAIkiB,KAAO,OAG3E33B,EAAS,GACS,QAAdyV,EAAIyf,OACN1hB,EAAQojB,GACCjE,EAAUld,IAAQmJ,GAAQA,EAAKsW,QAAUzf,EAAIyf,OACtD1hB,EAAQ0iB,GACCvD,EAAUld,GACnBjC,EAAQ8iB,GAC4B,KAA3B7D,EAAWoB,EAAU,IAC9BrgB,EAAQ2iB,GACRtC,MAEApe,EAAI6f,kBAAmB,EACvB7f,EAAInrB,KAAKH,KAAK,IACdqpB,EAAQyjB,IAQZ,MAEF,KAAKhB,GACH,IAAKrX,GAASA,EAAK0W,kBAA4B,KAARxB,EAAc,OAAOpC,EAC5D,GAAI9S,EAAK0W,kBAA4B,KAARxB,EAAa,CACxCre,EAAIyf,OAAStW,EAAKsW,OAClBzf,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAI+Z,MAAQ5Q,EAAK4Q,MACjB/Z,EAAImiB,SAAW,GACfniB,EAAI6f,kBAAmB,EACvB9hB,EAAQ2jB,GACR,MAEF3jB,EAAuB,QAAfoL,EAAKsW,OAAmB0B,GAAOR,GACvC,SAEF,KAAKF,GACH,GAAY,KAARpC,GAA0C,KAA3BrB,EAAWoB,EAAU,GAGjC,CACLrgB,EAAQ4iB,GACR,SAJA5iB,EAAQ+iB,GACR1C,IAIA,MAEJ,KAAKsC,GACH,GAAY,KAARrC,EAAa,CACftgB,EAAQgjB,GACR,MAEAhjB,EAAQwjB,GACR,SAGJ,KAAKZ,GAEH,GADA3gB,EAAIyf,OAAStW,EAAKsW,OACdpB,GAAQ3C,EACV1b,EAAIQ,SAAW2I,EAAK3I,SACpBR,EAAI2f,SAAWxW,EAAKwW,SACpB3f,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAIkiB,KAAO/Y,EAAK+Y,KAChBliB,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAI+Z,MAAQ5Q,EAAK4Q,WACZ,GAAY,KAARsE,GAAwB,MAARA,GAAgBnB,EAAUld,GACnDjC,EAAQ6iB,QACH,GAAY,KAARvC,EACTre,EAAIQ,SAAW2I,EAAK3I,SACpBR,EAAI2f,SAAWxW,EAAKwW,SACpB3f,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAIkiB,KAAO/Y,EAAK+Y,KAChBliB,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAI+Z,MAAQ,GACZhc,EAAQ0jB,OACH,IAAY,KAARpD,EASJ,CACLre,EAAIQ,SAAW2I,EAAK3I,SACpBR,EAAI2f,SAAWxW,EAAKwW,SACpB3f,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAIkiB,KAAO/Y,EAAK+Y,KAChBliB,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAInrB,KAAK+oC,MACT7f,EAAQwjB,GACR,SAhBAvhB,EAAIQ,SAAW2I,EAAK3I,SACpBR,EAAI2f,SAAWxW,EAAKwW,SACpB3f,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAIkiB,KAAO/Y,EAAK+Y,KAChBliB,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAI+Z,MAAQ5Q,EAAK4Q,MACjB/Z,EAAImiB,SAAW,GACfpkB,EAAQ2jB,GAUR,MAEJ,KAAKd,GACH,IAAI1D,EAAUld,IAAiB,KAARqe,GAAuB,MAARA,EAE/B,IAAY,KAARA,EAEJ,CACLre,EAAIQ,SAAW2I,EAAK3I,SACpBR,EAAI2f,SAAWxW,EAAKwW,SACpB3f,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAIkiB,KAAO/Y,EAAK+Y,KAChBnkB,EAAQwjB,GACR,SAPAxjB,EAAQgjB,QAFRhjB,EAAQ+iB,GAUR,MAEJ,KAAKD,GAEH,GADA9iB,EAAQ+iB,GACI,KAARzC,GAA6C,KAA9B9zB,EAAO5F,OAAOy5B,EAAU,GAAW,SACtDA,IACA,MAEF,KAAK0C,GACH,GAAY,KAARzC,GAAuB,MAARA,EAAc,CAC/BtgB,EAAQgjB,GACR,SACA,MAEJ,KAAKA,GACH,GAAY,KAAR1C,EAAa,CACX0D,IAAQx3B,EAAS,MAAQA,GAC7Bw3B,GAAS,EACTF,EAAmBlG,EAAUpxB,GAC7B,IAAK,IAAIrY,EAAI,EAAGA,EAAI2vC,EAAiBjtC,OAAQ1C,IAAK,CAChD,IAAIkwC,EAAYP,EAAiB3vC,GACjC,GAAiB,KAAbkwC,GAAqBH,EAAzB,CAIA,IAAII,EAAoBjF,EAAcgF,EAAWnD,GAC7CgD,EAAmBjiB,EAAI2f,UAAY0C,EAClCriB,EAAIQ,UAAY6hB,OALnBJ,GAAoB,EAOxB13B,EAAS,QACJ,GACL8zB,GAAQ3C,GAAe,KAAR2C,GAAuB,KAARA,GAAuB,KAARA,GACpC,MAARA,GAAgBnB,EAAUld,GAC3B,CACA,GAAI+hB,GAAoB,IAAVx3B,EAAc,MAnfd,oBAofd6zB,GAAWzC,EAAUpxB,GAAQ3V,OAAS,EACtC2V,EAAS,GACTwT,EAAQijB,QACHz2B,GAAU8zB,EACjB,MAEF,KAAK2C,GACL,KAAKC,GACH,GAAIW,GAA+B,QAAd5hB,EAAIyf,OAAkB,CACzC1hB,EAAQsjB,GACR,SACK,GAAY,KAARhD,GAAgB2D,EAOpB,IACL3D,GAAQ3C,GAAe,KAAR2C,GAAuB,KAARA,GAAuB,KAARA,GACpC,MAARA,GAAgBnB,EAAUld,GAC3B,CACA,GAAIkd,EAAUld,IAAkB,IAAVzV,EAAc,OAAO2xB,EAC3C,GAAI0F,GAA2B,IAAVr3B,IAAiBm1B,EAAoB1f,IAAqB,OAAbA,EAAIkiB,MAAgB,OAEtF,GADAJ,EAAU/E,EAAU/c,EAAKzV,GACZ,OAAOu3B,EAGpB,GAFAv3B,EAAS,GACTwT,EAAQujB,GACJM,EAAe,OACnB,SAEY,KAARvD,EAAa2D,GAAc,EACd,KAAR3D,IAAa2D,GAAc,GACpCz3B,GAAU8zB,MAtB4B,CACtC,GAAc,IAAV9zB,EAAc,OAAO2xB,EAEzB,GADA4F,EAAU/E,EAAU/c,EAAKzV,GACZ,OAAOu3B,EAGpB,GAFAv3B,EAAS,GACTwT,EAAQmjB,GACJU,GAAiBX,GAAU,OAiB/B,MAEJ,KAAKC,GACH,IAAI5E,EAAM1kC,KAAKymC,GAER,IACLA,GAAQ3C,GAAe,KAAR2C,GAAuB,KAARA,GAAuB,KAARA,GACpC,MAARA,GAAgBnB,EAAUld,IAC3B4hB,EACA,CACA,GAAc,IAAVr3B,EAAc,CAChB,IAAI23B,EAAOhrC,SAASqT,EAAQ,IAC5B,GAAI23B,EAAO,MAAQ,OAAO/F,EAC1Bnc,EAAIkiB,KAAQhF,EAAUld,IAAQkiB,IAAShD,EAAelf,EAAIyf,QAAW,KAAOyC,EAC5E33B,EAAS,GAEX,GAAIq3B,EAAe,OACnB7jB,EAAQujB,GACR,SACK,OAAOnF,EAfZ5xB,GAAU8zB,EAgBZ,MAEF,KAAK8C,GAEH,GADAnhB,EAAIyf,OAAS,OACD,KAARpB,GAAuB,MAARA,EAActgB,EAAQqjB,OACpC,KAAIjY,GAAuB,QAAfA,EAAKsW,OAyBf,CACL1hB,EAAQwjB,GACR,SA1BA,GAAIlD,GAAQ3C,EACV1b,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAI+Z,MAAQ5Q,EAAK4Q,WACZ,GAAY,KAARsE,EACTre,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAI+Z,MAAQ,GACZhc,EAAQ0jB,OACH,IAAY,KAARpD,EAMJ,CACA2B,GAA6BhD,EAAWlpC,MAAMsqC,GAASpmC,KAAK,OAC/DgoB,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBosC,GAAgBlgB,IAElBjC,EAAQwjB,GACR,SAZAvhB,EAAIS,KAAO0I,EAAK1I,KAChBT,EAAInrB,KAAOs0B,EAAKt0B,KAAKf,QACrBksB,EAAI+Z,MAAQ5Q,EAAK4Q,MACjB/Z,EAAImiB,SAAW,GACfpkB,EAAQ2jB,IAaV,MAEJ,KAAKN,GACH,GAAY,KAAR/C,GAAuB,MAARA,EAAc,CAC/BtgB,EAAQsjB,GACR,MAEElY,GAAuB,QAAfA,EAAKsW,SAAqBO,GAA6BhD,EAAWlpC,MAAMsqC,GAASpmC,KAAK,OAC5F8nC,EAAqB3W,EAAKt0B,KAAK,IAAI,GAAOmrB,EAAInrB,KAAKH,KAAKy0B,EAAKt0B,KAAK,IACjEmrB,EAAIS,KAAO0I,EAAK1I,MAEvB1C,EAAQwjB,GACR,SAEF,KAAKF,GACH,GAAIhD,GAAQ3C,GAAe,KAAR2C,GAAuB,MAARA,GAAwB,KAARA,GAAuB,KAARA,EAAa,CAC5E,IAAKuD,GAAiB9B,EAAqBv1B,GACzCwT,EAAQwjB,QACH,GAAc,IAAVh3B,EAAc,CAEvB,GADAyV,EAAIS,KAAO,GACPmhB,EAAe,OACnB7jB,EAAQujB,OACH,CAEL,GADAQ,EAAU/E,EAAU/c,EAAKzV,GACZ,OAAOu3B,EAEpB,GADgB,aAAZ9hB,EAAIS,OAAqBT,EAAIS,KAAO,IACpCmhB,EAAe,OACnBr3B,EAAS,GACTwT,EAAQujB,GACR,SACG/2B,GAAU8zB,EACjB,MAEF,KAAKiD,GACH,GAAIpE,EAAUld,IAEZ,GADAjC,EAAQwjB,GACI,KAARlD,GAAuB,MAARA,EAAc,cAC5B,GAAKuD,GAAyB,KAARvD,EAGtB,GAAKuD,GAAyB,KAARvD,GAGtB,GAAIA,GAAQ3C,IACjB3d,EAAQwjB,GACI,KAARlD,GAAa,cAJjBre,EAAImiB,SAAW,GACfpkB,EAAQ2jB,QAJR1hB,EAAI+Z,MAAQ,GACZhc,EAAQ0jB,GAOR,MAEJ,KAAKF,GACH,GACElD,GAAQ3C,GAAe,KAAR2C,GACN,MAARA,GAAgBnB,EAAUld,KACzB4hB,IAA0B,KAARvD,GAAuB,KAARA,GACnC,CAkBA,GA3XW,QADnBgC,GAD0BA,EA4WF91B,GA3WNnT,gBACqB,SAAZipC,GAAkC,SAAZA,GAAkC,WAAZA,GA2W7DH,GAAgBlgB,GACJ,KAARqe,GAAyB,MAARA,GAAgBnB,EAAUld,IAC7CA,EAAInrB,KAAKH,KAAK,KAEP0rC,GAAY71B,GACT,KAAR8zB,GAAyB,MAARA,GAAgBnB,EAAUld,IAC7CA,EAAInrB,KAAKH,KAAK,KAGE,QAAdsrB,EAAIyf,SAAqBzf,EAAInrB,KAAKD,QAAUkrC,EAAqBv1B,KAC/DyV,EAAIS,OAAMT,EAAIS,KAAO,IACzBlW,EAASA,EAAO5F,OAAO,GAAK,KAE9Bqb,EAAInrB,KAAKH,KAAK6V,IAEhBA,EAAS,GACS,QAAdyV,EAAIyf,SAAqBpB,GAAQ3C,GAAe,KAAR2C,GAAuB,KAARA,GACzD,KAAOre,EAAInrB,KAAKD,OAAS,GAAqB,KAAhBorB,EAAInrB,KAAK,IACrCmrB,EAAInrB,KAAKslC,QAGD,KAARkE,GACFre,EAAI+Z,MAAQ,GACZhc,EAAQ0jB,IACS,KAARpD,IACTre,EAAImiB,SAAW,GACfpkB,EAAQ2jB,SAGVn3B,GAAU6yB,EAAciB,EAAMW,GAC9B,MAEJ,KAAKwC,GACS,KAARnD,GACFre,EAAI+Z,MAAQ,GACZhc,EAAQ0jB,IACS,KAARpD,GACTre,EAAImiB,SAAW,GACfpkB,EAAQ2jB,IACCrD,GAAQ3C,IACjB1b,EAAInrB,KAAK,IAAMuoC,EAAciB,EAAMhB,IACnC,MAEJ,KAAKoE,GACEG,GAAyB,KAARvD,EAGXA,GAAQ3C,IACL,KAAR2C,GAAenB,EAAUld,GAAMA,EAAI+Z,OAAS,MAC1B/Z,EAAI+Z,OAAT,KAARsE,EAA0B,MACjBjB,EAAciB,EAAMhB,KALtCrd,EAAImiB,SAAW,GACfpkB,EAAQ2jB,IAKR,MAEJ,KAAKA,GACCrD,GAAQ3C,IAAK1b,EAAImiB,UAAY/E,EAAciB,EAAMU,IAIzDX,MAMAkE,GAAiB,SAAatiB,GAChC,IAIIuiB,EAAWT,EAJXnyB,EAAOjH,EAAWlM,KAAM8lC,GAAgB,OACxCnZ,EAAOp1B,UAAUa,OAAS,EAAIb,UAAU,QAAK0Q,EAC7C+9B,EAAYx+B,OAAOgc,GACnBjC,EAAQ3U,EAAiBuG,EAAM,CAAE5X,KAAM,QAE3C,QAAa0M,IAAT0kB,EACF,GAAIA,aAAgBmZ,GAAgBC,EAAYvG,EAAoB7S,QAGlE,GADA2Y,EAAUH,GAASY,EAAY,GAAIv+B,OAAOmlB,IAC7B,MAAMplB,UAAU+9B,GAIjC,GADAA,EAAUH,GAAS5jB,EAAOykB,EAAW,KAAMD,GAC9B,MAAMx+B,UAAU+9B,GAC7B,IAAI5hB,EAAenC,EAAMmC,aAAe,IAAIK,EACxCkiB,EAAoB1G,EAA6B7b,GACrDuiB,EAAkBrI,mBAAmBrc,EAAMgc,OAC3C0I,EAAkB5H,UAAY,WAC5B9c,EAAMgc,MAAQ/1B,OAAOkc,IAAiB,MAEnC1a,IACHmK,EAAK2Q,KAAOoiB,GAAatwC,KAAKud,GAC9BA,EAAKgzB,OAASC,GAAUxwC,KAAKud,GAC7BA,EAAKkzB,SAAWC,GAAY1wC,KAAKud,GACjCA,EAAK6Q,SAAWuiB,GAAY3wC,KAAKud,GACjCA,EAAKgwB,SAAWqD,GAAY5wC,KAAKud,GACjCA,EAAK8Q,KAAOwiB,GAAQ7wC,KAAKud,GACzBA,EAAKuzB,SAAWC,GAAY/wC,KAAKud,GACjCA,EAAKuyB,KAAOkB,GAAQhxC,KAAKud,GACzBA,EAAKwQ,SAAWkjB,GAAYjxC,KAAKud,GACjCA,EAAK2zB,OAASC,GAAUnxC,KAAKud,GAC7BA,EAAKuQ,aAAesjB,GAAgBpxC,KAAKud,GACzCA,EAAK+Q,KAAO+iB,GAAQrxC,KAAKud,KAIzB+zB,GAAepB,GAAelvC,UAE9BsvC,GAAe,WACjB,IAAI1iB,EAAMgc,EAAoBx/B,MAC1BijC,EAASzf,EAAIyf,OACbjf,EAAWR,EAAIQ,SACfmf,EAAW3f,EAAI2f,SACflf,EAAOT,EAAIS,KACXyhB,EAAOliB,EAAIkiB,KACXrtC,EAAOmrB,EAAInrB,KACXklC,EAAQ/Z,EAAI+Z,MACZoI,EAAWniB,EAAImiB,SACf7Y,EAASmW,EAAS,IAYtB,OAXa,OAAThf,GACF6I,GAAU,KACNoW,EAAoB1f,KACtBsJ,GAAU9I,GAAYmf,EAAW,IAAMA,EAAW,IAAM,KAE1DrW,GAAUgV,EAAc7d,GACX,OAATyhB,IAAe5Y,GAAU,IAAM4Y,IAChB,QAAVzC,IAAkBnW,GAAU,MACvCA,GAAUtJ,EAAI6f,iBAAmBhrC,EAAK,GAAKA,EAAKD,OAAS,IAAMC,EAAKmD,KAAK,KAAO,GAClE,OAAV+hC,IAAgBzQ,GAAU,IAAMyQ,GACnB,OAAboI,IAAmB7Y,GAAU,IAAM6Y,GAChC7Y,GAGLsZ,GAAY,WACd,IAAI5iB,EAAMgc,EAAoBx/B,MAC1BijC,EAASzf,EAAIyf,OACbyC,EAAOliB,EAAIkiB,KACf,GAAc,QAAVzC,EAAkB,IACpB,OAAO,IAAIxf,IAAIwf,EAAO5qC,KAAK,IAAI8tC,OAC/B,MAAOt6B,GACP,MAAO,OAET,MAAc,QAAVo3B,GAAqBvC,EAAUld,GAC5Byf,EAAS,MAAQnB,EAActe,EAAIS,OAAkB,OAATyhB,EAAgB,IAAMA,EAAO,IADhC,QAI9CY,GAAc,WAChB,OAAO9G,EAAoBx/B,MAAMijC,OAAS,KAGxCsD,GAAc,WAChB,OAAO/G,EAAoBx/B,MAAMgkB,UAG/BwiB,GAAc,WAChB,OAAOhH,EAAoBx/B,MAAMmjC,UAG/BsD,GAAU,WACZ,IAAIjjB,EAAMgc,EAAoBx/B,MAC1BikB,EAAOT,EAAIS,KACXyhB,EAAOliB,EAAIkiB,KACf,OAAgB,OAATzhB,EAAgB,GACV,OAATyhB,EAAgB5D,EAAc7d,GAC9B6d,EAAc7d,GAAQ,IAAMyhB,GAG9BiB,GAAc,WAChB,IAAI1iB,EAAOub,EAAoBx/B,MAAMikB,KACrC,OAAgB,OAATA,EAAgB,GAAK6d,EAAc7d,IAGxC2iB,GAAU,WACZ,IAAIlB,EAAOlG,EAAoBx/B,MAAM0lC,KACrC,OAAgB,OAATA,EAAgB,GAAKl+B,OAAOk+B,IAGjCmB,GAAc,WAChB,IAAIrjB,EAAMgc,EAAoBx/B,MAC1B3H,EAAOmrB,EAAInrB,KACf,OAAOmrB,EAAI6f,iBAAmBhrC,EAAK,GAAKA,EAAKD,OAAS,IAAMC,EAAKmD,KAAK,KAAO,IAG3EurC,GAAY,WACd,IAAIxJ,EAAQiC,EAAoBx/B,MAAMu9B,MACtC,OAAOA,EAAQ,IAAMA,EAAQ,IAG3ByJ,GAAkB,WACpB,OAAOxH,EAAoBx/B,MAAM0jB,cAG/BujB,GAAU,WACZ,IAAItB,EAAWnG,EAAoBx/B,MAAM2lC,SACzC,OAAOA,EAAW,IAAMA,EAAW,IAGjCwB,GAAqB,SAAUxW,EAAQ1I,GACzC,MAAO,CAAE9xB,IAAKw6B,EAAQ9jB,IAAKob,EAAQnoB,cAAc,EAAM5J,YAAY,IAyHrE,GAtHI8S,GACFic,EAAiBiiB,GAAc,CAG7BpjB,KAAMqjB,GAAmBjB,IAAc,SAAUpiB,GAC/C,IAAIN,EAAMgc,EAAoBx/B,MAC1BgmC,EAAYx+B,OAAOsc,GACnBwhB,EAAUH,GAAS3hB,EAAKwiB,GAC5B,GAAIV,EAAS,MAAM/9B,UAAU+9B,GAC7B/F,EAA6B/b,EAAIE,cAAcka,mBAAmBpa,EAAI+Z,UAIxE4I,OAAQgB,GAAmBf,IAG3BC,SAAUc,GAAmBb,IAAa,SAAUD,GAClD,IAAI7iB,EAAMgc,EAAoBx/B,MAC9BmlC,GAAS3hB,EAAKhc,OAAO6+B,GAAY,IAAKvC,OAIxC9f,SAAUmjB,GAAmBZ,IAAa,SAAUviB,GAClD,IAAIR,EAAMgc,EAAoBx/B,MAC1BwgC,EAAarB,EAAU33B,OAAOwc,IAClC,IAAIof,EAA+B5f,GAAnC,CACAA,EAAIQ,SAAW,GACf,IAAK,IAAItuB,EAAI,EAAGA,EAAI8qC,EAAWpoC,OAAQ1C,IACrC8tB,EAAIQ,UAAY4c,EAAcJ,EAAW9qC,GAAI+sC,OAKjDU,SAAUgE,GAAmBX,IAAa,SAAUrD,GAClD,IAAI3f,EAAMgc,EAAoBx/B,MAC1BwgC,EAAarB,EAAU33B,OAAO27B,IAClC,IAAIC,EAA+B5f,GAAnC,CACAA,EAAI2f,SAAW,GACf,IAAK,IAAIztC,EAAI,EAAGA,EAAI8qC,EAAWpoC,OAAQ1C,IACrC8tB,EAAI2f,UAAYvC,EAAcJ,EAAW9qC,GAAI+sC,OAKjDxe,KAAMkjB,GAAmBV,IAAS,SAAUxiB,GAC1C,IAAIT,EAAMgc,EAAoBx/B,MAC1BwjB,EAAI6f,kBACR8B,GAAS3hB,EAAKhc,OAAOyc,GAAOugB,OAI9BkC,SAAUS,GAAmBR,IAAa,SAAUD,GAClD,IAAIljB,EAAMgc,EAAoBx/B,MAC1BwjB,EAAI6f,kBACR8B,GAAS3hB,EAAKhc,OAAOk/B,GAAWjC,OAIlCiB,KAAMyB,GAAmBP,IAAS,SAAUlB,GAC1C,IAAIliB,EAAMgc,EAAoBx/B,MAC1BojC,EAA+B5f,KAEvB,KADZkiB,EAAOl+B,OAAOk+B,IACEliB,EAAIkiB,KAAO,KACtBP,GAAS3hB,EAAKkiB,EAAMhB,QAI3B/gB,SAAUwjB,GAAmBN,IAAa,SAAUljB,GAClD,IAAIH,EAAMgc,EAAoBx/B,MAC1BwjB,EAAI6f,mBACR7f,EAAInrB,KAAO,GACX8sC,GAAS3hB,EAAKG,EAAW,GAAImhB,QAI/BgC,OAAQK,GAAmBJ,IAAW,SAAUD,GAC9C,IAAItjB,EAAMgc,EAAoBx/B,MAEhB,KADd8mC,EAASt/B,OAAOs/B,IAEdtjB,EAAI+Z,MAAQ,MAER,KAAOuJ,EAAO3+B,OAAO,KAAI2+B,EAASA,EAAOxvC,MAAM,IACnDksB,EAAI+Z,MAAQ,GACZ4H,GAAS3hB,EAAKsjB,EAAQ7B,KAExB1F,EAA6B/b,EAAIE,cAAcka,mBAAmBpa,EAAI+Z,UAIxE7Z,aAAcyjB,GAAmBH,IAGjC9iB,KAAMijB,GAAmBF,IAAS,SAAU/iB,GAC1C,IAAIV,EAAMgc,EAAoBx/B,MAElB,KADZkkB,EAAO1c,OAAO0c,KAKV,KAAOA,EAAK/b,OAAO,KAAI+b,EAAOA,EAAK5sB,MAAM,IAC7CksB,EAAImiB,SAAW,GACfR,GAAS3hB,EAAKU,EAAMghB,KALlB1hB,EAAImiB,SAAW,UAYvBt8B,EAAS69B,GAAc,UAAU,WAC/B,OAAOhB,GAAatwC,KAAKoK,QACxB,CAAE9J,YAAY,IAIjBmT,EAAS69B,GAAc,YAAY,WACjC,OAAOhB,GAAatwC,KAAKoK,QACxB,CAAE9J,YAAY,IAEbopC,EAAW,CACb,IAAI8H,GAAwB9H,EAAU+H,gBAClCC,GAAwBhI,EAAUiI,gBAIlCH,IAAuB/9B,EAASy8B,GAAgB,mBAAmB,SAAyB0B,GAC9F,OAAOJ,GAAsBpzB,MAAMsrB,EAAW/nC,cAK5C+vC,IAAuBj+B,EAASy8B,GAAgB,mBAAmB,SAAyBtiB,GAC9F,OAAO8jB,GAAsBtzB,MAAMsrB,EAAW/nC,cAIlDkV,EAAeq5B,GAAgB,OAE/B7pC,EAAE,CAAEgN,QAAQ,EAAM0C,QAASywB,EAAgBhgB,MAAOpT,GAAe,CAC/Dya,IAAKqiB,OASO2B,EAA2B,GAG/B,SAAS,EAAoBC,GAE5B,GAAGD,EAAyBC,GAC3B,OAAOD,EAAyBC,GAAUryC,QAG3C,IAAID,EAASqyC,EAAyBC,GAAY,CAGjDryC,QAAS,IAOV,OAHA+R,EAAoBsgC,GAAUtyC,EAAQA,EAAOC,QAAS,GAG/CD,EAAOC,QAOd,EAAoBU,EAAI,SAASV,EAASsyC,GACzC,IAAI,IAAIprC,KAAOorC,EACX,EAAoBnyC,EAAEmyC,EAAYprC,KAAS,EAAoB/G,EAAEH,EAASkH,IAC5EvG,OAAOC,eAAeZ,EAASkH,EAAK,CAAErG,YAAY,EAAMC,IAAKwxC,EAAWprC,MAQ3E,EAAoBpC,EAAI,WACvB,GAA0B,iBAAf+kB,WAAyB,OAAOA,WAC3C,IACC,OAAOlf,MAAQ,IAAImL,SAAS,cAAb,GACd,MAAO5V,GACR,GAAsB,iBAAXJ,OAAqB,OAAOA,QALjB,GAYxB,EAAoBK,EAAI,SAASoyC,EAAKC,GAAQ,OAAO7xC,OAAOY,UAAUC,eAAejB,KAAKgyC,EAAKC,IAM/F,EAAoBzxC,EAAI,SAASf,GACX,oBAAXgB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeZ,EAASgB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,KAKlE,IAAIuxC,EAAsB,GAomHhB,OAlmHT,WACD,aAuGA,SAASC,EAA2BvyC,EAAGwyC,GAAkB,IAAI1gC,EAAI,GAAsB,oBAAXjR,QAAgD,MAAtBb,EAAEa,OAAOub,UAAmB,CAAE,GAAI1a,MAAME,QAAQ5B,KAAO8R,EAE7J,SAAqC9R,EAAGyyC,GAAU,GAAKzyC,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAO0yC,EAAkB1yC,EAAGyyC,GAAS,IAAIxyC,EAAIO,OAAOY,UAAUgF,SAAShG,KAAKJ,GAAG8B,MAAM,GAAI,GAAiE,MAAnD,WAAN7B,GAAkBD,EAAEwZ,cAAavZ,EAAID,EAAEwZ,YAAYxG,MAAgB,QAAN/S,GAAqB,QAANA,EAAoByB,MAAMC,KAAK3B,GAAc,cAANC,GAAqB,2CAA2C2F,KAAK3F,GAAWyyC,EAAkB1yC,EAAGyyC,QAAzG,GAF3IE,CAA4B3yC,KAAOwyC,GAAkBxyC,GAAyB,iBAAbA,EAAE4C,OAAqB,CAAMkP,IAAI9R,EAAI8R,GAAI,IAAI5R,EAAI,EAAOkhB,EAAI,aAAiB,MAAO,CAAE7f,EAAG6f,EAAGnhB,EAAG,WAAe,OAAIC,GAAKF,EAAE4C,OAAe,CAAE6Z,MAAM,GAAe,CAAEA,MAAM,EAAO1b,MAAOf,EAAEE,OAAWH,EAAG,SAAW6yC,GAAM,MAAMA,GAAOtuC,EAAG8c,GAAO,MAAM,IAAIrP,UAAU,yIAA4I,IAA6C8gC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAExxC,EAAG,WAAeuQ,EAAK9R,EAAEa,OAAOub,aAAgBnc,EAAG,WAAe,IAAIkc,EAAOrK,EAAGuK,OAAsC,OAA9By2B,EAAmB32B,EAAKM,KAAaN,GAASpc,EAAG,SAAWizC,GAAOD,GAAS,EAAMF,EAAMG,GAAQ1uC,EAAG,WAAe,IAAWwuC,GAAiC,MAAbhhC,EAAGmhC,QAAgBnhC,EAAGmhC,SAAY,QAAU,GAAIF,EAAQ,MAAMF,KAIl9B,SAASH,EAAkBQ,EAAKh4B,IAAkB,MAAPA,GAAeA,EAAMg4B,EAAItwC,UAAQsY,EAAMg4B,EAAItwC,QAAQ,IAAK,IAAI1C,EAAI,EAAGizC,EAAO,IAAIzxC,MAAMwZ,GAAMhb,EAAIgb,EAAKhb,IAAOizC,EAAKjzC,GAAKgzC,EAAIhzC,GAAM,OAAOizC,EAIhL,SAASC,EAAkBrwC,EAAQswC,GAAS,IAAK,IAAInzC,EAAI,EAAGA,EAAImzC,EAAMzwC,OAAQ1C,IAAK,CAAE,IAAIomB,EAAa+sB,EAAMnzC,GAAIomB,EAAW5lB,WAAa4lB,EAAW5lB,aAAc,EAAO4lB,EAAWhc,cAAe,EAAU,UAAWgc,IAAYA,EAAW/b,UAAW,GAAM/J,OAAOC,eAAesC,EAAQujB,EAAWvf,IAAKuf,IA7G7S,EAAoB1lB,EAAE0xC,GAGtB,EAAoB/xC,EAAE+xC,EAAqB,CACzC,SAAY,WAAa,OAAsBgB,GAC/C,QAAW,WAAa,OAAqBC,KAIzB,EAAoB,MAEpB,EAAoB,MAElB,EAAoB,MAEpB,EAAoB,MAEzB,EAAoB,MAElB,EAAoB,MAEnB,EAAoB,KAER,EAAoB,MAE/B,EAAoB,MAEV,EAAoB,KAE3B,EAAoB,MAEzB,EAAoB,MAEf,EAAoB,MAErB,EAAoB,MAEvB,EAAoB,MAElB,EAAoB,MAEtB,EAAoB,MAErB,EAAoB,MAER,EAAoB,MAEpB,EAAoB,MAE1B,EAAoB,MAErB,EAAoB,MAElB,EAAoB,MAEtB,EAAoB,MAEd,EAAoB,MAEtB,EAAoB,MAEpB,EAAoB,MAEpB,EAAoB,MAEpB,EAAoB,MAExB,EAAoB,MAEX,EAAoB,MAE9B,EAAoB,MAEjB,EAAoB,MAEd,EAAoB,MAEzB,EAAoB,MAExB,EAAoB,MAElB,EAAoB,KAErB,EAAoB,MAEpB,EAAoB,MAEhB,EAAoB,MAEZ,EAAoB,MAE3B,EAAoB,MAEhB,EAAoB,MAEpB,EAAoB,MAEzC,EAAoB,KAoBlC,IAAIC,EAAuB,WACzB,SAASA,KAXX,SAAyB5X,EAAU7oB,GAAe,KAAM6oB,aAAoB7oB,GAAgB,MAAM,IAAIhB,UAAU,qCAY5G0hC,CAAgBjpC,KAAMgpC,GAR1B,IAAsBzgC,EAAa2gC,EAAYC,EAqH7C,OArHoB5gC,EAWPygC,GAXoBE,EAWX,CAAC,CACrB3sC,IAAK,KACLhG,MACA,SAAY6yC,EAAOh0B,GASjB,OARApV,KAAKqpC,WAAarpC,KAAKqpC,YAAc,GAEhCrpC,KAAKqpC,WAAWD,KACnBppC,KAAKqpC,WAAWD,GAAS,IAG3BppC,KAAKqpC,WAAWD,GAAOlxC,KAAKkd,GAErBpV,OAER,CACDzD,IAAK,OACLhG,MAAO,SAAc6yC,GACnBppC,KAAKqpC,WAAarpC,KAAKqpC,YAAc,GAGrC,IAFA,IAAIC,EAAYtpC,KAAKqpC,WAAWD,GAEvBG,EAAOhyC,UAAUa,OAAQ2mC,EAAO,IAAI7nC,MAAMqyC,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGzK,EAAKyK,EAAO,GAAKjyC,UAAUiyC,GAG7B,GAAIF,EAAW,CACb,IACIG,EADAC,EAAY3B,EAA2BuB,GAAW,GAGtD,IACE,IAAKI,EAAU3yC,MAAO0yC,EAAQC,EAAUj0C,KAAKwc,MAAO,CAClD,IAAI2sB,EAAW6K,EAAMlzC,MACrBqoC,EAAS5qB,MAAMhU,KAAM++B,IAEvB,MAAOsJ,GACPqB,EAAUn0C,EAAE8yC,GACZ,QACAqB,EAAU5vC,KAWd,OANIkG,KAAK/C,SACP+C,KAAK/C,QAAQ1D,cAAcyG,KAAK2pC,UAAU,YAAcP,EAAO,CAC7DrK,KAAMA,KAIH/+B,OAER,CACDzD,IAAK,YACLhG,MAAO,SAAmBqzC,EAAWC,GACnC,IAAI5L,EAAS,CACX6L,SAAS,EACT9sC,YAAY,EACZ6sC,OAAQA,GAGV,GAAkC,mBAAvB10C,OAAO40C,YAChB,OAAO,IAAIA,YAAYH,EAAW3L,GAIlC,IAAI+L,EAAMtyC,SAASuyC,YAAY,eAE/B,OADAD,EAAIE,gBAAgBN,EAAW3L,EAAO6L,QAAS7L,EAAOjhC,WAAYihC,EAAO4L,QAClEG,IAMV,CACDztC,IAAK,MACLhG,MAAO,SAAa6yC,EAAOh0B,GACzB,IAAKpV,KAAKqpC,YAAmC,IAArB9xC,UAAUa,OAEhC,OADA4H,KAAKqpC,WAAa,GACXrpC,KAIT,IAAIspC,EAAYtpC,KAAKqpC,WAAWD,GAEhC,IAAKE,EACH,OAAOtpC,KAIT,GAAyB,IAArBzI,UAAUa,OAEZ,cADO4H,KAAKqpC,WAAWD,GAChBppC,KAIT,IAAK,IAAItK,EAAI,EAAGA,EAAI4zC,EAAUlxC,OAAQ1C,IAAK,CACzC,IAAIkpC,EAAW0K,EAAU5zC,GAEzB,GAAIkpC,IAAaxpB,EAAI,CACnBk0B,EAAUxiC,OAAOpR,EAAG,GACpB,OAIJ,OAAOsK,UAjHiE4oC,EAAkBrgC,EAAY3R,UAAWsyC,GAAiBC,GAAaP,EAAkBrgC,EAAa4gC,GAqH3KH,EA/GkB,GA8H3B,SAASmB,EAAkC30C,EAAGwyC,GAAkB,IAAI1gC,EAAI,GAAsB,oBAAXjR,QAAgD,MAAtBb,EAAEa,OAAOub,UAAmB,CAAE,GAAI1a,MAAME,QAAQ5B,KAAO8R,EAEpK,SAA4C9R,EAAGyyC,GAAU,GAAKzyC,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAO40C,EAAyB50C,EAAGyyC,GAAS,IAAIxyC,EAAIO,OAAOY,UAAUgF,SAAShG,KAAKJ,GAAG8B,MAAM,GAAI,GAAiE,MAAnD,WAAN7B,GAAkBD,EAAEwZ,cAAavZ,EAAID,EAAEwZ,YAAYxG,MAAgB,QAAN/S,GAAqB,QAANA,EAAoByB,MAAMC,KAAK3B,GAAc,cAANC,GAAqB,2CAA2C2F,KAAK3F,GAAW20C,EAAyB50C,EAAGyyC,QAAhH,GAFlJoC,CAAmC70C,KAAOwyC,GAAkBxyC,GAAyB,iBAAbA,EAAE4C,OAAqB,CAAMkP,IAAI9R,EAAI8R,GAAI,IAAI5R,EAAI,EAAOkhB,EAAI,aAAiB,MAAO,CAAE7f,EAAG6f,EAAGnhB,EAAG,WAAe,OAAIC,GAAKF,EAAE4C,OAAe,CAAE6Z,MAAM,GAAe,CAAEA,MAAM,EAAO1b,MAAOf,EAAEE,OAAWH,EAAG,SAAW6yC,GAAM,MAAMA,GAAOtuC,EAAG8c,GAAO,MAAM,IAAIrP,UAAU,yIAA4I,IAA6C8gC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAExxC,EAAG,WAAeuQ,EAAK9R,EAAEa,OAAOub,aAAgBnc,EAAG,WAAe,IAAIkc,EAAOrK,EAAGuK,OAAsC,OAA9By2B,EAAmB32B,EAAKM,KAAaN,GAASpc,EAAG,SAAWizC,GAAOD,GAAS,EAAMF,EAAMG,GAAQ1uC,EAAG,WAAe,IAAWwuC,GAAiC,MAAbhhC,EAAGmhC,QAAgBnhC,EAAGmhC,SAAY,QAAU,GAAIF,EAAQ,MAAMF,KAIh+B,SAAS+B,EAAyB1B,EAAKh4B,IAAkB,MAAPA,GAAeA,EAAMg4B,EAAItwC,UAAQsY,EAAMg4B,EAAItwC,QAAQ,IAAK,IAAI1C,EAAI,EAAGizC,EAAO,IAAIzxC,MAAMwZ,GAAMhb,EAAIgb,EAAKhb,IAAOizC,EAAKjzC,GAAKgzC,EAAIhzC,GAAM,OAAOizC,EAIvL,IA+xBiC2B,EA/xBZ,CAOnB9mB,IAAK,KAML9O,OAAQ,OAKR61B,iBAAiB,EAMjBC,QAAS,KAMTC,gBAAiB,EASjBC,gBAAgB,EAQhBC,UAAU,EAOVC,eAAe,EAKfC,UAAW,IAKXC,sBAAsB,EAKtBC,aAAa,EAKbC,iBAAkB,EAKlBC,YAAa,IAObC,UAAW,OAKXC,uBAAuB,EAKvBC,qBAAsB,GAKtBC,eAAgB,IAKhBC,gBAAiB,IAMjBC,gBAAiB,OAUjBC,YAAa,KAKbC,aAAc,KAOdC,eAAgB,KAKhBC,cAAe,GAMfC,aAAc,UASdC,aAAc,IAQdC,SAAU,KAMVhN,QAAS,KAUTiN,WAAW,EAKXC,mBAAmB,EAanBC,cAAe,KAMfC,kBAAmB,KAYnBC,kBAAkB,EAMlBC,WAAW,EAOXC,gBAAgB,EAQhBC,kBAAmB,KAKnBC,iBAAiB,EASjBC,qBAAsB,OAUtBn1C,QAAS,KAKTo1C,eAAgB,KAOhBC,WAAY,KAQZC,eAAe,EAKfC,mBAAoB,4BAKpBC,oBAAqB,0DAOrBC,iBAAkB,kFAMlBC,eAAgB,uEAKhBC,oBAAqB,uCAMrBC,kBAAmB,6CAKnBC,iBAAkB,gBAKlBC,mBAAoB,mBAKpBC,6BAA8B,+CAK9BC,eAAgB,cAKhBC,2BAA4B,KAM5BC,qBAAsB,qCAMtBC,kBAAmB,CACjBC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJ1zC,EAAG,KAOL+F,KAAM,aAYNg+B,OAAQ,SAAgB4P,EAAOC,EAAKC,GAClC,GAAIA,EACF,MAAO,CACLC,OAAQD,EAAMnL,KAAKqL,OAAOC,KAC1BC,aAAcJ,EAAM3lC,MACpBgmC,gBAAiBL,EAAMnL,KAAKlX,KAC5B2iB,YAAaruC,KAAK9D,QAAQ2uC,UAC1ByD,kBAAmBP,EAAMnL,KAAKqL,OAAOM,gBACrCC,kBAAmBT,EAAM3lC,MAAQpI,KAAK9D,QAAQ2uC,YAcpD4D,OAAQ,SAAgB7L,EAAM3wB,GAC5B,OAAOA,KASTy8B,eAAgB,SAAwB9L,EAAM3wB,GAC5CA,KAQF08B,SAAU,WAER,IAAIC,EACJ5uC,KAAK/C,QAAQe,UAAY,GAAG8mB,OAAO9kB,KAAK/C,QAAQe,UAAW,6BAE3D,IACIyrC,EADAC,EAAYS,EAAkCnqC,KAAK/C,QAAQ4xC,qBAAqB,QAAQ,GAG5F,IACE,IAAKnF,EAAU3yC,MAAO0yC,EAAQC,EAAUj0C,KAAKwc,MAAO,CAClD,IAAI68B,EAAQrF,EAAMlzC,MAElB,GAAI,uBAAuB6E,KAAK0zC,EAAM9wC,WAAY,CAChD4wC,EAAiBE,EACjBA,EAAM9wC,UAAY,aAElB,QAGJ,MAAOqqC,GACPqB,EAAUn0C,EAAE8yC,GACZ,QACAqB,EAAU5vC,IAGP80C,IACHA,EAAiB9F,EAASnxC,cAAc,+CACxCqI,KAAK/C,QAAQqG,YAAYsrC,IAG3B,IAAIG,EAAOH,EAAeC,qBAAqB,QAAQ,GAUvD,OARIE,IACsB,MAApBA,EAAKC,YACPD,EAAKC,YAAchvC,KAAK9D,QAAQ2wC,oBACL,MAAlBkC,EAAKE,YACdF,EAAKE,UAAYjvC,KAAK9D,QAAQ2wC,sBAI3B7sC,KAAK/C,QAAQqG,YAAYtD,KAAKkvC,oBAevCC,OAAQ,SAAgBvM,EAAMrlC,EAAOE,EAAQmuC,GAC3C,IAAIwD,EAAO,CACTC,KAAM,EACNC,KAAM,EACNC,SAAU3M,EAAKrlC,MACfiyC,UAAW5M,EAAKnlC,QAEdgyC,EAAW7M,EAAKrlC,MAAQqlC,EAAKnlC,OAEpB,MAATF,GAA2B,MAAVE,GACnBF,EAAQ6xC,EAAKG,SACb9xC,EAAS2xC,EAAKI,WACI,MAATjyC,EACTA,EAAQE,EAASgyC,EACE,MAAVhyC,IACTA,EAASF,EAAQkyC,GAMnB,IAAIC,GAFJnyC,EAAQvD,KAAKN,IAAI6D,EAAO6xC,EAAKG,YAC7B9xC,EAASzD,KAAKN,IAAI+D,EAAQ2xC,EAAKI,YAG/B,GAAIJ,EAAKG,SAAWhyC,GAAS6xC,EAAKI,UAAY/xC,EAE5C,GAAqB,SAAjBmuC,EACE6D,EAAWC,GACbN,EAAKI,UAAY5M,EAAKnlC,OACtB2xC,EAAKG,SAAWH,EAAKI,UAAYE,IAEjCN,EAAKG,SAAW3M,EAAKrlC,MACrB6xC,EAAKI,UAAYJ,EAAKG,SAAWG,OAE9B,IAAqB,YAAjB9D,EAQT,MAAM,IAAIxsC,MAAM,yBAAyB0lB,OAAO8mB,EAAc,MAN1D6D,EAAWC,EACbjyC,EAASF,EAAQkyC,EAEjBlyC,EAAQE,EAASgyC,EAWvB,OAJAL,EAAKC,MAAQzM,EAAKrlC,MAAQ6xC,EAAKG,UAAY,EAC3CH,EAAKE,MAAQ1M,EAAKnlC,OAAS2xC,EAAKI,WAAa,EAC7CJ,EAAKO,SAAWpyC,EAChB6xC,EAAKQ,UAAYnyC,EACV2xC,GAYTS,cAAe,SAAuBjN,EAAM3wB,GAC1C,OAAKjS,KAAK9D,QAAQsvC,aAAexrC,KAAK9D,QAAQuvC,eAAiB7I,EAAKrnC,KAAKf,MAAM,WACtEwF,KAAK8vC,YAAYlN,EAAM5iC,KAAK9D,QAAQsvC,YAAaxrC,KAAK9D,QAAQuvC,aAAczrC,KAAK9D,QAAQ0vC,aAAc35B,GAEvGA,EAAK2wB,IAkBhBmN,gBA1jBS,8nFAqkBTC,KAAM,SAAcz6C,GAClB,OAAOyK,KAAK/C,QAAQkB,UAAUwF,OAAO,kBAEvCssC,UAAW,SAAmB16C,KAC9B26C,QAAS,SAAiB36C,GACxB,OAAOyK,KAAK/C,QAAQkB,UAAUwF,OAAO,kBAEvCwsC,UAAW,SAAmB56C,GAC5B,OAAOyK,KAAK/C,QAAQkB,UAAUgF,IAAI,kBAEpCitC,SAAU,SAAkB76C,GAC1B,OAAOyK,KAAK/C,QAAQkB,UAAUgF,IAAI,kBAEpCktC,UAAW,SAAmB96C,GAC5B,OAAOyK,KAAK/C,QAAQkB,UAAUwF,OAAO,kBAEvC2sC,MAAO,SAAe/6C,KAGtBg7C,MAAO,WACL,OAAOvwC,KAAK/C,QAAQkB,UAAUwF,OAAO,eAIvC6sC,UAAW,SAAmB5N,GAC5B,IAAI6N,EAAQzwC,KAMZ,GAJIA,KAAK/C,UAAY+C,KAAKssC,mBACxBtsC,KAAK/C,QAAQkB,UAAUgF,IAAI,cAGzBnD,KAAKssC,oBAAsBtsC,KAAK9D,QAAQqwC,gBAAiB,CAC3D3J,EAAK8N,eAAiB5H,EAASnxC,cAAcqI,KAAK9D,QAAQ6zC,gBAAgBl4C,QAC1E+qC,EAAKmN,gBAAkBnN,EAAK8N,eAE5B1wC,KAAKssC,kBAAkBhpC,YAAYs/B,EAAK8N,gBAExC,IACIC,EADAC,EAAazG,EAAkCvH,EAAK8N,eAAeG,iBAAiB,mBAAmB,GAG3G,IACE,IAAKD,EAAW75C,MAAO45C,EAASC,EAAWn7C,KAAKwc,MAAO,CACrD,IAAI6+B,EAAOH,EAAOp6C,MAClBu6C,EAAK9B,YAAcpM,EAAKp6B,MAE1B,MAAO6/B,GACPuI,EAAWr7C,EAAE8yC,GACb,QACAuI,EAAW92C,IAGb,IACIi3C,EADAC,EAAa7G,EAAkCvH,EAAK8N,eAAeG,iBAAiB,mBAAmB,GAG3G,IACE,IAAKG,EAAWj6C,MAAOg6C,EAASC,EAAWv7C,KAAKwc,OAC9C6+B,EAAOC,EAAOx6C,OACTqB,UAAYoI,KAAKixC,SAASrO,EAAKlX,MAEtC,MAAO2c,GACP2I,EAAWz7C,EAAE8yC,GACb,QACA2I,EAAWl3C,IAGTkG,KAAK9D,QAAQmwC,iBACfzJ,EAAKsO,YAAcpI,EAASnxC,cAAc,oEAAwEmtB,OAAO9kB,KAAK9D,QAAQmxC,eAAgB,SACtJzK,EAAK8N,eAAeptC,YAAYs/B,EAAKsO,cAGvC,IAoBIC,EApBAC,EAAkB,SAAyB77C,GAI7C,OAHAA,EAAE+D,iBACF/D,EAAE6I,kBAEEwkC,EAAKyO,SAAWvI,EAASwI,UACpBxI,EAASyI,QAAQd,EAAMv0C,QAAQkxC,8BAA8B,WAClE,OAAOqD,EAAMe,WAAW5O,MAGtB6N,EAAMv0C,QAAQoxC,2BACTxE,EAASyI,QAAQd,EAAMv0C,QAAQoxC,4BAA4B,WAChE,OAAOmD,EAAMe,WAAW5O,MAGnB6N,EAAMe,WAAW5O,IAK1B6O,EAAatH,EAAkCvH,EAAK8N,eAAeG,iBAAiB,qBAAqB,GAG7G,IACE,IAAKY,EAAW16C,MAAOo6C,EAASM,EAAWh8C,KAAKwc,MAC7Bk/B,EAAO56C,MACbm7C,iBAAiB,QAASN,GAEvC,MAAO/I,GACPoJ,EAAWl8C,EAAE8yC,GACb,QACAoJ,EAAW33C,OAKjB63C,YAAa,SAAqB/O,GAKhC,OAJ2B,MAAvBA,EAAK8N,gBAA4D,MAAlC9N,EAAK8N,eAAe9sC,YACrDg/B,EAAK8N,eAAe9sC,WAAWJ,YAAYo/B,EAAK8N,gBAG3C1wC,KAAK4xC,+BAIdC,UAAW,SAAmBjP,EAAMkP,GAClC,GAAIlP,EAAK8N,eAAgB,CACvB9N,EAAK8N,eAAevyC,UAAUwF,OAAO,mBAErC,IACIouC,EADAC,EAAa7H,EAAkCvH,EAAK8N,eAAeG,iBAAiB,wBAAwB,GAGhH,IACE,IAAKmB,EAAWj7C,MAAOg7C,EAASC,EAAWv8C,KAAKwc,MAAO,CACrD,IAAIggC,EAAmBF,EAAOx7C,MAC9B07C,EAAiBC,IAAMtP,EAAKp6B,KAC5BypC,EAAiB5rB,IAAMyrB,GAEzB,MAAOzJ,GACP2J,EAAWz8C,EAAE8yC,GACb,QACA2J,EAAWl4C,IAGb,OAAOqM,YAAW,WAChB,OAAOy8B,EAAK8N,eAAevyC,UAAUgF,IAAI,sBACxC,KAKP0I,MAAO,SAAe+2B,EAAMuP,GAC1B,GAAIvP,EAAK8N,eAAgB,CACvB9N,EAAK8N,eAAevyC,UAAUgF,IAAI,YAEX,iBAAZgvC,GAAwBA,EAAQtmC,QACzCsmC,EAAUA,EAAQtmC,OAGpB,IACIumC,EADAC,EAAalI,EAAkCvH,EAAK8N,eAAeG,iBAAiB,2BAA2B,GAGnH,IACE,IAAKwB,EAAWt7C,MAAOq7C,EAASC,EAAW58C,KAAKwc,MACnCmgC,EAAO77C,MACby4C,YAAcmD,EAErB,MAAO9J,GACPgK,EAAW98C,EAAE8yC,GACb,QACAgK,EAAWv4C,OAIjBw4C,cAAe,aAIfC,WAAY,SAAoB3P,GAC9B,GAAIA,EAAK8N,iBACP9N,EAAK8N,eAAevyC,UAAUgF,IAAI,iBAE9By/B,EAAKsO,aACP,OAAOtO,EAAKsO,YAAYt5C,UAAYoI,KAAK9D,QAAQgxC,kBAIvDsF,mBAAoB,aAIpBC,eAAgB,SAAwB7P,EAAM8P,EAAUC,GACtD,GAAI/P,EAAK8N,eAAgB,CACvB,IACIkC,EADAC,EAAa1I,EAAkCvH,EAAK8N,eAAeG,iBAAiB,6BAA6B,GAGrH,IACE,IAAKgC,EAAW97C,MAAO67C,EAASC,EAAWp9C,KAAKwc,MAAO,CACrD,IAAI6+B,EAAO8B,EAAOr8C,MACA,aAAlBu6C,EAAKgC,SAA0BhC,EAAKv6C,MAAQm8C,EAAW5B,EAAKpzC,MAAMH,MAAQ,GAAGunB,OAAO4tB,EAAU,MAEhG,MAAOrK,GACPwK,EAAWt9C,EAAE8yC,GACb,QACAwK,EAAW/4C,OAMjBi5C,oBAAqB,aAIrBC,QAAS,aACTC,gBAAiB,aAGjBC,QAAS,SAAiBtQ,GACxB,GAAIA,EAAK8N,eACP,OAAO9N,EAAK8N,eAAevyC,UAAUgF,IAAI,eAG7CgwC,gBAAiB,aAEjBC,SAAU,SAAkBxQ,GAC1B,OAAO5iC,KAAKqzC,KAAK,QAASzQ,EAAM5iC,KAAK9D,QAAQixC,qBAE/CmG,iBAAkB,aAGlBC,SAAU,SAAkB3Q,GAK1B,GAJIA,EAAKsO,cACPtO,EAAKsO,YAAYt5C,UAAYoI,KAAK9D,QAAQmxC,gBAGxCzK,EAAK8N,eACP,OAAO9N,EAAK8N,eAAevyC,UAAUgF,IAAI,gBAG7CqwC,iBAAkB,aAClBC,iBAAkB,aAClBC,gBAAiB,aACjBC,cAAe,aACfC,WAAY,cAId,SAASC,EAAQjM,GAAmV,OAAtOiM,EAArD,mBAAXx9C,QAAoD,iBAApBA,OAAOub,SAAmC,SAAiBg2B,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXvxC,QAAyBuxC,EAAI54B,cAAgB3Y,QAAUuxC,IAAQvxC,OAAOO,UAAY,gBAAkBgxC,IAAyBA,GAgDnX,SAASkM,EAAmCt+C,EAAGwyC,GAAkB,IAAI1gC,EAAI,GAAsB,oBAAXjR,QAAgD,MAAtBb,EAAEa,OAAOub,UAAmB,CAAE,GAAI1a,MAAME,QAAQ5B,KAAO8R,EAErK,SAA6C9R,EAAGyyC,GAAU,GAAKzyC,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAOu+C,EAA0Bv+C,EAAGyyC,GAAS,IAAIxyC,EAAIO,OAAOY,UAAUgF,SAAShG,KAAKJ,GAAG8B,MAAM,GAAI,GAAiE,MAAnD,WAAN7B,GAAkBD,EAAEwZ,cAAavZ,EAAID,EAAEwZ,YAAYxG,MAAgB,QAAN/S,GAAqB,QAANA,EAAoByB,MAAMC,KAAK3B,GAAc,cAANC,GAAqB,2CAA2C2F,KAAK3F,GAAWs+C,EAA0Bv+C,EAAGyyC,QAAjH,GAFnJ+L,CAAoCx+C,KAAOwyC,GAAkBxyC,GAAyB,iBAAbA,EAAE4C,OAAqB,CAAMkP,IAAI9R,EAAI8R,GAAI,IAAI5R,EAAI,EAAOkhB,EAAI,aAAiB,MAAO,CAAE7f,EAAG6f,EAAGnhB,EAAG,WAAe,OAAIC,GAAKF,EAAE4C,OAAe,CAAE6Z,MAAM,GAAe,CAAEA,MAAM,EAAO1b,MAAOf,EAAEE,OAAWH,EAAG,SAAW6yC,GAAM,MAAMA,GAAOtuC,EAAG8c,GAAO,MAAM,IAAIrP,UAAU,yIAA4I,IAA6C8gC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAExxC,EAAG,WAAeuQ,EAAK9R,EAAEa,OAAOub,aAAgBnc,EAAG,WAAe,IAAIkc,EAAOrK,EAAGuK,OAAsC,OAA9By2B,EAAmB32B,EAAKM,KAAaN,GAASpc,EAAG,SAAWizC,GAAOD,GAAS,EAAMF,EAAMG,GAAQ1uC,EAAG,WAAe,IAAWwuC,GAAiC,MAAbhhC,EAAGmhC,QAAgBnhC,EAAGmhC,SAAY,QAAU,GAAIF,EAAQ,MAAMF,KAIl+B,SAAS0L,EAA0BrL,EAAKh4B,IAAkB,MAAPA,GAAeA,EAAMg4B,EAAItwC,UAAQsY,EAAMg4B,EAAItwC,QAAQ,IAAK,IAAI1C,EAAI,EAAGizC,EAAO,IAAIzxC,MAAMwZ,GAAMhb,EAAIgb,EAAKhb,IAAOizC,EAAKjzC,GAAKgzC,EAAIhzC,GAAM,OAAOizC,EAExL,SAASsL,EAAwB7iB,EAAU7oB,GAAe,KAAM6oB,aAAoB7oB,GAAgB,MAAM,IAAIhB,UAAU,qCAExH,SAAS2sC,EAA0B37C,EAAQswC,GAAS,IAAK,IAAInzC,EAAI,EAAGA,EAAImzC,EAAMzwC,OAAQ1C,IAAK,CAAE,IAAIomB,EAAa+sB,EAAMnzC,GAAIomB,EAAW5lB,WAAa4lB,EAAW5lB,aAAc,EAAO4lB,EAAWhc,cAAe,EAAU,UAAWgc,IAAYA,EAAW/b,UAAW,GAAM/J,OAAOC,eAAesC,EAAQujB,EAAWvf,IAAKuf,IAErT,SAASq4B,EAAqB5rC,EAAa2gC,EAAYC,GAAmK,OAAhJD,GAAYgL,EAA0B3rC,EAAY3R,UAAWsyC,GAAiBC,GAAa+K,EAA0B3rC,EAAa4gC,GAAqB5gC,EAIjO,SAAS6rC,EAAgB5+C,EAAGsB,GAA+G,OAA1Gs9C,EAAkBp+C,OAAOuT,gBAAkB,SAAyB/T,EAAGsB,GAAsB,OAAjBtB,EAAE2yB,UAAYrxB,EAAUtB,IAA6BA,EAAGsB,GAErK,SAASu9C,EAAaC,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUr4B,KAAM,OAAO,EAAO,GAAqB,mBAAVs4B,MAAsB,OAAO,EAAM,IAAiF,OAA3EC,KAAK/9C,UAAUgF,SAAShG,KAAK4+C,QAAQC,UAAUE,KAAM,IAAI,iBAAyB,EAAQ,MAAOp/C,GAAK,OAAO,GANzPq/C,GAA6B,OAAO,WAAkC,IAAsCpvC,EAAlCqvC,EAAQC,EAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAI5zB,EAAYm0B,EAAgB90C,MAAMgP,YAAaxJ,EAASgvC,QAAQC,UAAUI,EAAOt9C,UAAWopB,QAAqBnb,EAASqvC,EAAM7gC,MAAMhU,KAAMzI,WAAc,OAAOw9C,EAA2B/0C,KAAMwF,IAE5Z,SAASuvC,EAA2B5tC,EAAMvR,GAAQ,OAAIA,GAA2B,WAAlBi+C,EAAQj+C,IAAsC,mBAATA,EAA8Co/C,EAAuB7tC,GAAtCvR,EAEnI,SAASo/C,EAAuB7tC,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAI8tC,eAAe,6DAAgE,OAAO9tC,EAI/J,SAAS2tC,EAAgBt/C,GAAwJ,OAAnJs/C,EAAkB9+C,OAAOuT,eAAiBvT,OAAOsT,eAAiB,SAAyB9T,GAAK,OAAOA,EAAE2yB,WAAanyB,OAAOsT,eAAe9T,KAA8BA,GAKxM,IAAIszC,EAAwB,SAAUoM,IAjBtC,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI7tC,UAAU,sDAAyD4tC,EAASv+C,UAAYZ,OAAOS,OAAO2+C,GAAcA,EAAWx+C,UAAW,CAAEoY,YAAa,CAAEzY,MAAO4+C,EAAUp1C,UAAU,EAAMD,cAAc,KAAes1C,GAAYhB,EAAgBe,EAAUC,GAkBjXC,CAAUvM,EAAUoM,GAEpB,IAAII,EAASjB,EAAavL,GAE1B,SAASA,EAASzlC,EAAInH,GACpB,IAAIu0C,EAKA9B,EAAUrxC,EAad,GAhBA22C,EAAwBj0C,KAAM8oC,IAE9B2H,EAAQ6E,EAAO1/C,KAAKoK,OAEd/C,QAAUoG,EAEhBotC,EAAMv1B,QAAU4tB,EAAS5tB,QACzBu1B,EAAM8E,kBAAoB,GAC1B9E,EAAM+E,UAAY,GAClB/E,EAAM5C,MAAQ,GAEe,iBAAlB4C,EAAMxzC,UACfwzC,EAAMxzC,QAAUvF,SAASkB,cAAc63C,EAAMxzC,WAI1CwzC,EAAMxzC,SAAqC,MAA1BwzC,EAAMxzC,QAAQw4C,SAClC,MAAM,IAAIr2C,MAAM,6BAGlB,GAAIqxC,EAAMxzC,QAAQy4C,SAChB,MAAM,IAAIt2C,MAAM,8BAIlB0pC,EAAS6M,UAAUz9C,KAAK88C,EAAuBvE,IAE/CA,EAAMxzC,QAAQy4C,SAAWV,EAAuBvE,GAChD,IAAImF,EAAuE,OAArDt4C,EAAOwrC,EAAS+M,kBAAkBpF,EAAMxzC,UAAoBK,EAAO,GAIzF,GAHAmzC,EAAMv0C,QAAU4sC,EAASgN,OAAO,GAAIxL,EAAasL,EAA2B,MAAX15C,EAAkBA,EAAU,IAC7Fu0C,EAAMv0C,QAAQ6zC,gBAAkBU,EAAMv0C,QAAQ6zC,gBAAgB52C,QAAQ,OAAQ,IAE1Es3C,EAAMv0C,QAAQywC,gBAAkB7D,EAASiN,qBAC3C,OAAOhB,EAA2BtE,EAAOA,EAAMv0C,QAAQyyC,SAAS/4C,KAAKo/C,EAAuBvE,KAQ9F,GAJyB,MAArBA,EAAMv0C,QAAQsnB,MAChBitB,EAAMv0C,QAAQsnB,IAAMitB,EAAMxzC,QAAQlF,aAAa,YAG5C04C,EAAMv0C,QAAQsnB,IACjB,MAAM,IAAIpkB,MAAM,oBAGlB,GAAIqxC,EAAMv0C,QAAQ+vC,eAAiBwE,EAAMv0C,QAAQgwC,kBAC/C,MAAM,IAAI9sC,MAAM,sGAGlB,GAAIqxC,EAAMv0C,QAAQwuC,gBAAkB+F,EAAMv0C,QAAQyuC,SAChD,MAAM,IAAIvrC,MAAM,qDA4ClB,OAxCIqxC,EAAMv0C,QAAQgwC,oBAChBuE,EAAMv0C,QAAQ+vC,cAAgBwE,EAAMv0C,QAAQgwC,yBACrCuE,EAAMv0C,QAAQgwC,mBAIa,MAAhCuE,EAAMv0C,QAAQuwC,iBAChBgE,EAAMv0C,QAAQwwC,WAAa,SAAU9J,GACnC,OAAO6N,EAAMv0C,QAAQuwC,eAAe72C,KAAKo/C,EAAuBvE,GAAQ7N,EAAKp6B,KAAMo6B,KAInD,iBAAzB6N,EAAMv0C,QAAQwY,SACvB+7B,EAAMv0C,QAAQwY,OAAS+7B,EAAMv0C,QAAQwY,OAAO5Y,gBAGzC6yC,EAAW8B,EAAMuF,wBAA0BrH,EAAS/qC,YAEvD+qC,EAAS/qC,WAAWJ,YAAYmrC,IAIM,IAApC8B,EAAMv0C,QAAQowC,oBACZmE,EAAMv0C,QAAQowC,kBAChBmE,EAAMnE,kBAAoBxD,EAASmN,WAAWxF,EAAMv0C,QAAQowC,kBAAmB,qBAE/EmE,EAAMnE,kBAAoBmE,EAAMxzC,SAIhCwzC,EAAMv0C,QAAQ6vC,aACgB,IAA5B0E,EAAMv0C,QAAQ6vC,UAChB0E,EAAM8E,kBAAoB,CAAC9E,EAAMxzC,SAEjCwzC,EAAM8E,kBAAoBzM,EAASoN,YAAYzF,EAAMv0C,QAAQ6vC,UAAW,cAI5E0E,EAAMxwC,OAECwwC,EA2sDT,OAvsDA0D,EAAqBrL,EAAU,CAAC,CAC9BvsC,IAAK,mBACLhG,MAAO,WACL,OAAOyJ,KAAK6tC,MAAMv6B,QAAO,SAAUsvB,GACjC,OAAOA,EAAKuT,YACX17C,KAAI,SAAUmoC,GACf,OAAOA,OAKV,CACDrmC,IAAK,mBACLhG,MAAO,WACL,OAAOyJ,KAAK6tC,MAAMv6B,QAAO,SAAUsvB,GACjC,OAAQA,EAAKuT,YACZ17C,KAAI,SAAUmoC,GACf,OAAOA,OAGV,CACDrmC,IAAK,qBACLhG,MAAO,SAA4B86C,GACjC,OAAOrxC,KAAK6tC,MAAMv6B,QAAO,SAAUsvB,GACjC,OAAOA,EAAKyO,SAAWA,KACtB52C,KAAI,SAAUmoC,GACf,OAAOA,OAIV,CACDrmC,IAAK,iBACLhG,MAAO,WACL,OAAOyJ,KAAKo2C,mBAAmBtN,EAASuN,UAEzC,CACD95C,IAAK,oBACLhG,MAAO,WACL,OAAOyJ,KAAKo2C,mBAAmBtN,EAASwI,aAEzC,CACD/0C,IAAK,gBACLhG,MAAO,WACL,OAAOyJ,KAAKo2C,mBAAmBtN,EAASwN,SAGzC,CACD/5C,IAAK,iBACLhG,MAAO,WACL,OAAOyJ,KAAK6tC,MAAMv6B,QAAO,SAAUsvB,GACjC,OAAOA,EAAKyO,SAAWvI,EAASwI,WAAa1O,EAAKyO,SAAWvI,EAASuN,UACrE57C,KAAI,SAAUmoC,GACf,OAAOA,OAKV,CACDrmC,IAAK,OACLhG,MAAO,WACL,IAAIggD,EAASv2C,KAGgB,SAAzBA,KAAK/C,QAAQu5C,SACfx2C,KAAK/C,QAAQ+E,aAAa,UAAW,uBAGnChC,KAAK/C,QAAQkB,UAAUiF,SAAS,cAAgBpD,KAAK/C,QAAQrE,cAAc,gBAC7EoH,KAAK/C,QAAQqG,YAAYwlC,EAASnxC,cAAc,8EAAoFmtB,OAAO9kB,KAAK9D,QAAQ0wC,mBAAoB,qBAG1K5sC,KAAKu1C,kBAAkBn9C,QACE,SAASq+C,IAC9BF,EAAOG,iBACTH,EAAOG,gBAAgB9yC,WAAWJ,YAAY+yC,EAAOG,iBAGvDH,EAAOG,gBAAkBh/C,SAASC,cAAc,SAEhD4+C,EAAOG,gBAAgB10C,aAAa,OAAQ,SAEZ,OAA5Bu0C,EAAOr6C,QAAQ4vC,UAAqByK,EAAOr6C,QAAQ4vC,SAAW,IAChEyK,EAAOG,gBAAgB10C,aAAa,WAAY,YAGlDu0C,EAAOG,gBAAgB14C,UAAY,kBAEE,OAAjCu4C,EAAOr6C,QAAQ+vC,eACjBsK,EAAOG,gBAAgB10C,aAAa,SAAUu0C,EAAOr6C,QAAQ+vC,eAGhC,OAA3BsK,EAAOr6C,QAAQ7E,SACjBk/C,EAAOG,gBAAgB10C,aAAa,UAAWu0C,EAAOr6C,QAAQ7E,SAIhEk/C,EAAOG,gBAAgB10C,aAAa,WAAY,MAIhDu0C,EAAOG,gBAAgBh5C,MAAMi5C,WAAa,SAC1CJ,EAAOG,gBAAgBh5C,MAAMoB,SAAW,WACxCy3C,EAAOG,gBAAgBh5C,MAAMF,IAAM,IACnC+4C,EAAOG,gBAAgBh5C,MAAMJ,KAAO,IACpCi5C,EAAOG,gBAAgBh5C,MAAMD,OAAS,IACtC84C,EAAOG,gBAAgBh5C,MAAMH,MAAQ,IACrCurC,EAASmN,WAAWM,EAAOr6C,QAAQswC,qBAAsB,wBAAwBlpC,YAAYizC,EAAOG,iBAEpGH,EAAOG,gBAAgBhF,iBAAiB,UAAU,WAChD,IAAI7D,EAAQ0I,EAAOG,gBAAgB7I,MAEnC,GAAIA,EAAMz1C,OAAQ,CAChB,IACIqxC,EADAC,EAAYoK,EAAmCjG,GAAO,GAG1D,IACE,IAAKnE,EAAU3yC,MAAO0yC,EAAQC,EAAUj0C,KAAKwc,MAAO,CAClD,IAAI2wB,EAAO6G,EAAMlzC,MAEjBggD,EAAOK,QAAQhU,IAEjB,MAAOyF,GACPqB,EAAUn0C,EAAE8yC,GACZ,QACAqB,EAAU5vC,KAIdy8C,EAAOlD,KAAK,aAAcxF,GAE1B4I,OAIJA,GAGFz2C,KAAKyjB,IAAqB,OAAftuB,OAAOsuB,IAAetuB,OAAOsuB,IAAMtuB,OAAO0hD,UAIrD,IACIlG,EADAC,EAAakD,EAAmC9zC,KAAK82C,QAAQ,GAGjE,IACE,IAAKlG,EAAW75C,MAAO45C,EAASC,EAAWn7C,KAAKwc,MAAO,CACrD,IAAI23B,EAAY+G,EAAOp6C,MACvByJ,KAAK+2C,GAAGnN,EAAW5pC,KAAK9D,QAAQ0tC,KAElC,MAAOvB,GACPuI,EAAWr7C,EAAE8yC,GACb,QACAuI,EAAW92C,IAGbkG,KAAK+2C,GAAG,kBAAkB,WACxB,OAAOR,EAAOS,+BAEhBh3C,KAAK+2C,GAAG,eAAe,WACrB,OAAOR,EAAOS,+BAEhBh3C,KAAK+2C,GAAG,YAAY,SAAUnU,GAC5B,OAAO2T,EAAOlD,KAAK,WAAYzQ,MAGjC5iC,KAAK+2C,GAAG,YAAY,SAAUnU,GAC5B,GAAsC,IAAlC2T,EAAOU,gBAAgB7+C,QAAsD,IAAtCm+C,EAAOW,oBAAoB9+C,QAAmD,IAAnCm+C,EAAOY,iBAAiB/+C,OAE5G,OAAO+N,YAAW,WAChB,OAAOowC,EAAOlD,KAAK,mBAClB,MAIP,IAaI+D,EAAgB,SAAuB7hD,GAIzC,GAjBkB,SAAuBA,GACzC,GAAIA,EAAE8hD,aAAaC,MAIjB,IAAK,IAAI5hD,EAAI,EAAGA,EAAIH,EAAE8hD,aAAaC,MAAMl/C,OAAQ1C,IAC/C,GAAgC,UAA5BH,EAAE8hD,aAAaC,MAAM5hD,GAAgB,OAAO,EAIpD,OAAO,EAOF6hD,CAAchiD,GAGnB,OAFAA,EAAE6I,kBAEE7I,EAAE+D,eACG/D,EAAE+D,iBAEF/D,EAAEiiD,aAAc,GA8D3B,OAzDAx3C,KAAKw1C,UAAY,CAAC,CAChBv4C,QAAS+C,KAAK/C,QACd65C,OAAQ,CACN7G,UAAW,SAAmB16C,GAC5B,OAAOghD,EAAOlD,KAAK,YAAa99C,IAElC46C,UAAW,SAAmB56C,GAE5B,OADA6hD,EAAc7hD,GACPghD,EAAOlD,KAAK,YAAa99C,IAElC66C,SAAU,SAAkB76C,GAI1B,IAAIkiD,EAEJ,IACEA,EAAOliD,EAAE8hD,aAAaK,cACtB,MAAO7rC,IAIT,OAFAtW,EAAE8hD,aAAaM,WAAa,SAAWF,GAAQ,aAAeA,EAAO,OAAS,OAC9EL,EAAc7hD,GACPghD,EAAOlD,KAAK,WAAY99C,IAEjC86C,UAAW,SAAmB96C,GAC5B,OAAOghD,EAAOlD,KAAK,YAAa99C,IAElCy6C,KAAM,SAAcz6C,GAElB,OADA6hD,EAAc7hD,GACPghD,EAAOvG,KAAKz6C,IAErB26C,QAAS,SAAiB36C,GACxB,OAAOghD,EAAOlD,KAAK,UAAW99C,OAQpCyK,KAAKu1C,kBAAkBr3C,SAAQ,SAAU05C,GACvC,OAAOrB,EAAOf,UAAUt9C,KAAK,CAC3B+E,QAAS26C,EACTd,OAAQ,CACN7vC,MAAO,SAAe+iC,GAOpB,OALI4N,IAAqBrB,EAAOt5C,SAAW+sC,EAAIzxC,SAAWg+C,EAAOt5C,SAAW6rC,EAAS+O,cAAc7N,EAAIzxC,OAAQg+C,EAAOt5C,QAAQrE,cAAc,kBAC1I29C,EAAOG,gBAAgBzvC,SAIlB,SAKfjH,KAAK83C,SACE93C,KAAK9D,QAAQ+D,KAAKrK,KAAKoK,QAG/B,CACDzD,IAAK,UACLhG,MAAO,WAUL,OATAyJ,KAAK+D,UACL/D,KAAK+3C,gBAAe,IAEQ,MAAxB/3C,KAAK02C,gBAA0B12C,KAAK02C,gBAAgB9yC,gBAAaqE,KACnEjI,KAAK02C,gBAAgB9yC,WAAWJ,YAAYxD,KAAK02C,iBACjD12C,KAAK02C,gBAAkB,aAGlB12C,KAAK/C,QAAQy4C,SACb5M,EAAS6M,UAAU7uC,OAAOgiC,EAAS6M,UAAU9uC,QAAQ7G,MAAO,KAEpE,CACDzD,IAAK,4BACLhG,MAAO,WACL,IAAIyhD,EACAC,EAAiB,EACjBC,EAAa,EAGjB,GAFkBl4C,KAAKm4C,iBAEP//C,OAAQ,CACtB,IACI24C,EADAC,EAAa8C,EAAmC9zC,KAAKm4C,kBAAkB,GAG3E,IACE,IAAKnH,EAAWj6C,MAAOg6C,EAASC,EAAWv7C,KAAKwc,MAAO,CACrD,IAAI2wB,EAAOmO,EAAOx6C,MAClB0hD,GAAkBrV,EAAKqL,OAAO0E,UAC9BuF,GAActV,EAAKqL,OAAOmK,OAE5B,MAAO/P,GACP2I,EAAWz7C,EAAE8yC,GACb,QACA2I,EAAWl3C,IAGbk+C,EAAsB,IAAMC,EAAiBC,OAE7CF,EAAsB,IAGxB,OAAOh4C,KAAKqzC,KAAK,sBAAuB2E,EAAqBE,EAAYD,KAI1E,CACD17C,IAAK,gBACLhG,MAAO,SAAuBd,GAC5B,MAAsC,mBAA3BuK,KAAK9D,QAAQgvC,UACflrC,KAAK9D,QAAQgvC,UAAUz1C,GAEvB,GAAGqvB,OAAO9kB,KAAK9D,QAAQgvC,WAAWpmB,OAAO9kB,KAAK9D,QAAQwuC,eAAiB,IAAI5lB,OAAOrvB,EAAG,KAAO,MAKtG,CACD8G,IAAK,cACLhG,MAAO,SAAqBqsC,GAC1B,MAAuC,mBAA5B5iC,KAAK9D,QAAQwwC,WACf9J,EAAKp6B,KAGPxI,KAAK9D,QAAQwwC,WAAW9J,KAMhC,CACDrmC,IAAK,kBACLhG,MAAO,WACL,IAAI8hD,EAAkBC,EAEtB,GAAID,EAAmBr4C,KAAKg2C,sBAC1B,OAAOqC,EAGT,IAAIE,EAAe,4BAEfv4C,KAAK9D,QAAQ4wC,mBACfyL,GAAgB,MAAMzzB,OAAO9kB,KAAK9D,QAAQ4wC,iBAAkB,SAG9DyL,GAAgB,4BAA+BzzB,OAAO9kB,KAAKw4C,cAAc,GAAI,MAAO1zB,OAAO9kB,KAAK9D,QAAQwuC,eAAiB,2BAAwBziC,EAAW,kDAC5J,IAAIwwC,EAAS3P,EAASnxC,cAAc4gD,GAWpC,MAT6B,SAAzBv4C,KAAK/C,QAAQu5C,SACf8B,EAAOxP,EAASnxC,cAAc,iBAAkBmtB,OAAO9kB,KAAK9D,QAAQsnB,IAAK,4CAAgDsB,OAAO9kB,KAAK9D,QAAQwY,OAAQ,eAChJpR,YAAYm1C,IAGjBz4C,KAAK/C,QAAQ+E,aAAa,UAAW,uBACrChC,KAAK/C,QAAQ+E,aAAa,SAAUhC,KAAK9D,QAAQwY,SAGpC,MAAR4jC,EAAeA,EAAOG,IAK9B,CACDl8C,IAAK,sBACLhG,MAAO,WAoBL,IAnBA,IAAImiD,EAAc,SAAqBz6C,GACrC,IACIkzC,EADAM,EAAaqC,EAAmC71C,GAAU,GAG9D,IACE,IAAKwzC,EAAW16C,MAAOo6C,EAASM,EAAWh8C,KAAKwc,MAAO,CACrD,IAAI5O,EAAK8tC,EAAO56C,MAEhB,GAAI,qBAAqB6E,KAAKiI,EAAGrF,WAC/B,OAAOqF,GAGX,MAAOglC,GACPoJ,EAAWl8C,EAAE8yC,GACb,QACAoJ,EAAW33C,MAIN6+C,EAAK,EAAGC,EAAO,CAAC,MAAO,QAASD,EAAKC,EAAKxgD,OAAQugD,IAAM,CAC/D,IACIhK,EADA6H,EAAUoC,EAAKD,GAGnB,GAAIhK,EAAW+J,EAAY14C,KAAK/C,QAAQ4xC,qBAAqB2H,IAC3D,OAAO7H,KAKZ,CACDpyC,IAAK,sBACLhG,MAAO,WACL,OAAOyJ,KAAKw1C,UAAU/6C,KAAI,SAAUo+C,GAClC,OAAO,WACL,IAAIrzC,EAAS,GAEb,IAAK,IAAI4jC,KAASyP,EAAiB/B,OAAQ,CACzC,IAAIgC,EAAWD,EAAiB/B,OAAO1N,GACvC5jC,EAAOtN,KAAK2gD,EAAiB57C,QAAQy0C,iBAAiBtI,EAAO0P,GAAU,IAGzE,OAAOtzC,EARF,QAaV,CACDjJ,IAAK,uBACLhG,MAAO,WACL,OAAOyJ,KAAKw1C,UAAU/6C,KAAI,SAAUo+C,GAClC,OAAO,WACL,IAAIrzC,EAAS,GAEb,IAAK,IAAI4jC,KAASyP,EAAiB/B,OAAQ,CACzC,IAAIgC,EAAWD,EAAiB/B,OAAO1N,GACvC5jC,EAAOtN,KAAK2gD,EAAiB57C,QAAQ87C,oBAAoB3P,EAAO0P,GAAU,IAG5E,OAAOtzC,EARF,QAaV,CACDjJ,IAAK,UACLhG,MAAO,WACL,IAAIyiD,EAASh5C,KAOb,OALAA,KAAKu1C,kBAAkBr3C,SAAQ,SAAUjB,GACvC,OAAOA,EAAQkB,UAAUwF,OAAO,mBAElC3D,KAAKi5C,uBACLj5C,KAAK8D,UAAW,EACT9D,KAAK6tC,MAAMpzC,KAAI,SAAUmoC,GAC9B,OAAOoW,EAAOE,aAAatW,QAG9B,CACDrmC,IAAK,SACLhG,MAAO,WAKL,cAJOyJ,KAAK8D,SACZ9D,KAAKu1C,kBAAkBr3C,SAAQ,SAAUjB,GACvC,OAAOA,EAAQkB,UAAUgF,IAAI,mBAExBnD,KAAKm5C,wBAGb,CACD58C,IAAK,WACLhG,MAAO,SAAkBm1B,GACvB,IAAI0tB,EAAe,EACfC,EAAe,IAEnB,GAAI3tB,EAAO,EAAG,CAGZ,IAFA,IAAI4tB,EAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAE5B5jD,EAAI,EAAGA,EAAI4jD,EAAMlhD,OAAQ1C,IAAK,CACrC,IAAI6jD,EAAOD,EAAM5jD,GAGjB,GAAIg2B,GAFS1xB,KAAKylB,IAAIzf,KAAK9D,QAAQ2vC,aAAc,EAAIn2C,GAAK,GAEtC,CAClB0jD,EAAe1tB,EAAO1xB,KAAKylB,IAAIzf,KAAK9D,QAAQ2vC,aAAc,EAAIn2C,GAC9D2jD,EAAeE,EACf,OAIJH,EAAep/C,KAAKD,MAAM,GAAKq/C,GAAgB,GAGjD,MAAO,WAAWt0B,OAAOs0B,EAAc,cAAct0B,OAAO9kB,KAAK9D,QAAQsxC,kBAAkB6L,MAG5F,CACD98C,IAAK,8BACLhG,MAAO,WACL,OAA6B,MAAzByJ,KAAK9D,QAAQ4vC,UAAoB9rC,KAAKw5C,mBAAmBphD,QAAU4H,KAAK9D,QAAQ4vC,UAC9E9rC,KAAKw5C,mBAAmBphD,SAAW4H,KAAK9D,QAAQ4vC,UAClD9rC,KAAKqzC,KAAK,kBAAmBrzC,KAAK6tC,OAG7B7tC,KAAK/C,QAAQkB,UAAUgF,IAAI,yBAE3BnD,KAAK/C,QAAQkB,UAAUwF,OAAO,0BAGxC,CACDpH,IAAK,OACLhG,MAAO,SAAchB,GACnB,GAAKA,EAAE8hD,aAAP,CAIAr3C,KAAKqzC,KAAK,OAAQ99C,GAKlB,IAFA,IAAIs4C,EAAQ,GAEHn4C,EAAI,EAAGA,EAAIH,EAAE8hD,aAAaxJ,MAAMz1C,OAAQ1C,IAC/Cm4C,EAAMn4C,GAAKH,EAAE8hD,aAAaxJ,MAAMn4C,GAIlC,GAAIm4C,EAAMz1C,OAAQ,CAChB,IAAIqhD,EAAQlkD,EAAE8hD,aAAaoC,MAEvBA,GAASA,EAAMrhD,QAAuC,MAA7BqhD,EAAM,GAAGC,iBAEpC15C,KAAK25C,mBAAmBF,GAExBz5C,KAAK45C,YAAY/L,GAIrB7tC,KAAKqzC,KAAK,aAAcxF,MAEzB,CACDtxC,IAAK,QACLhG,MAAO,SAAehB,GACpB,GAEM,OAu2DOgB,EAz2DM,MAALhB,EAAYA,EAAEskD,mBAAgB5xC,EAy2DxB6xC,EAz2DmC,SAAUl9C,GAC/D,OAAOA,EAAE68C,OAy2DR,MAAOljD,EAA0CujD,EAAUvjD,QAAS0R,GA12DvE,CAy2DN,IAAmB1R,EAAOujD,EAn2DpB95C,KAAKqzC,KAAK,QAAS99C,GACnB,IAAIkkD,EAAQlkD,EAAEskD,cAAcJ,MAE5B,OAAIA,EAAMrhD,OACD4H,KAAK25C,mBAAmBF,QADjC,KAID,CACDl9C,IAAK,cACLhG,MAAO,SAAqBs3C,GAC1B,IACIkE,EADAC,EAAa8B,EAAmCjG,GAAO,GAG3D,IACE,IAAKmE,EAAWj7C,MAAOg7C,EAASC,EAAWv8C,KAAKwc,MAAO,CACrD,IAAI2wB,EAAOmP,EAAOx7C,MAClByJ,KAAK42C,QAAQhU,IAEf,MAAOyF,GACP2J,EAAWz8C,EAAE8yC,GACb,QACA2J,EAAWl4C,OAKd,CACDyC,IAAK,qBACLhG,MAAO,SAA4BkjD,GACjC,IAAIM,EAAS/5C,KAEb,OAAO,WACL,IAGIoyC,EAHA5sC,EAAS,GAET6sC,EAAayB,EAAmC2F,GAAO,GAG3D,IACE,IAAKpH,EAAWt7C,MAAOq7C,EAASC,EAAW58C,KAAKwc,MAAO,CACrD,IACIwrB,EADAuc,EAAO5H,EAAO77C,MAGW,MAAzByjD,EAAKN,mBAA6Bjc,EAAQuc,EAAKN,oBAC7Cjc,EAAMwc,OACRz0C,EAAOtN,KAAK6hD,EAAOnD,QAAQoD,EAAKE,cACvBzc,EAAM0c,YAEf30C,EAAOtN,KAAK6hD,EAAOK,uBAAuB3c,EAAOA,EAAMj1B,OAEvDhD,EAAOtN,UAAK+P,GAEa,MAAlB+xC,EAAKE,WACG,MAAbF,EAAKzmB,MAA8B,SAAdymB,EAAKzmB,KAM9B/tB,EAAOtN,UAAK+P,GALVzC,EAAOtN,KAAK6hD,EAAOnD,QAAQoD,EAAKE,eAQtC,MAAO7R,GACPgK,EAAW98C,EAAE8yC,GACb,QACAgK,EAAWv4C,IAGb,OAAO0L,EApCF,KAwCR,CACDjJ,IAAK,yBACLhG,MAAO,SAAgC8jD,EAAWhiD,GAChD,IAAIiiD,EAASt6C,KAETu6C,EAAYF,EAAUG,eAEtBC,EAAe,SAAsB5uC,GACvC,OAwxDiB+7B,EAxxDM8S,QAwxDDC,EAxxDU,MAwxDEb,EAxxDK,SAAUtkD,GAC/C,OAAOA,EAAEkqB,IAAI7T,IAwxDjB,MAAO+7B,GAAkE,mBAApBA,EAAI+S,GACpDb,EAAUlS,EAAK+S,QAEtB,EAJJ,IAAyB/S,EAAK+S,EAAYb,GA5uDpC,OAvCkB,SAASc,IACzB,OAAOL,EAAUK,aAAY,SAAUhiC,GACrC,GAAIA,EAAQxgB,OAAS,EAAG,CACtB,IACIw6C,EADAC,EAAaiB,EAAmCl7B,GAAS,GAG7D,IACE,IAAKi6B,EAAW97C,MAAO67C,EAASC,EAAWp9C,KAAKwc,MAAO,CACrD,IAAIwrB,EAAQmV,EAAOr8C,MAEfknC,EAAMwc,OACRxc,EAAMmF,MAAK,SAAUA,GACnB,IAAI0X,EAAOp+C,QAAQ8vC,mBAAmD,MAA9BpJ,EAAKp6B,KAAK/M,UAAU,EAAG,GAK/D,OADAmnC,EAAKiY,SAAW,GAAG/1B,OAAOzsB,EAAM,KAAKysB,OAAO8d,EAAKp6B,MAC1C8xC,EAAO1D,QAAQhU,MAEfnF,EAAM0c,aACfG,EAAOF,uBAAuB3c,EAAO,GAAG3Y,OAAOzsB,EAAM,KAAKysB,OAAO2Y,EAAMj1B,QAM3E,MAAO6/B,GACPwK,EAAWt9C,EAAE8yC,GACb,QACAwK,EAAW/4C,IAGb8gD,IAGF,OAAO,OACNH,GAGEG,KAQR,CACDr+C,IAAK,SACLhG,MAAO,SAAgBqsC,EAAM3wB,GACvBjS,KAAK9D,QAAQ+uC,aAAerI,EAAKlX,KAAkC,KAA3B1rB,KAAK9D,QAAQ+uC,YAAqB,KAC5Eh5B,EAAKjS,KAAK9D,QAAQ6wC,eAAe5zC,QAAQ,eAAgBa,KAAKD,MAAM6oC,EAAKlX,KAAO,KAAO,OAAS,KAAKvyB,QAAQ,kBAAmB6G,KAAK9D,QAAQ+uC,cACnInC,EAASgS,YAAYlY,EAAM5iC,KAAK9D,QAAQ+vC,eAEhB,MAAzBjsC,KAAK9D,QAAQ4vC,UAAoB9rC,KAAKw5C,mBAAmBphD,QAAU4H,KAAK9D,QAAQ4vC,UACzF75B,EAAKjS,KAAK9D,QAAQqxC,qBAAqBp0C,QAAQ,eAAgB6G,KAAK9D,QAAQ4vC,WAC5E9rC,KAAKqzC,KAAK,mBAAoBzQ,IAE9B5iC,KAAK9D,QAAQuyC,OAAO74C,KAAKoK,KAAM4iC,EAAM3wB,GALrCA,EAAKjS,KAAK9D,QAAQ8wC,uBAQrB,CACDzwC,IAAK,UACLhG,MAAO,SAAiBqsC,GACtB,IAAImY,EAAS/6C,KAEb4iC,EAAKqL,OAAS,CACZC,KAAMpF,EAASkS,SACftI,SAAU,EAGV0F,MAAOxV,EAAKlX,KACZinB,UAAW,EACXsI,SAAUj7C,KAAKk7C,YAAYtY,IAK7B5iC,KAAK6tC,MAAM31C,KAAK0qC,GAChBA,EAAKyO,OAASvI,EAASwN,MACvBt2C,KAAKqzC,KAAK,YAAazQ,GAEvB5iC,KAAKm7C,kBAAkBvY,GAEvB5iC,KAAKyuC,OAAO7L,GAAM,SAAU/2B,GACtBA,GACF+2B,EAAKuT,UAAW,EAEhB4E,EAAOK,iBAAiB,CAACxY,GAAO/2B,KAGhC+2B,EAAKuT,UAAW,EAEZ4E,EAAO7+C,QAAQkwC,WACjB2O,EAAOM,YAAYzY,IAKvBmY,EAAOnJ,mCAIV,CACDr1C,IAAK,eACLhG,MAAO,SAAsBs3C,GAC3B,IACIyN,EADAC,EAAazH,EAAmCjG,GAAO,GAG3D,IACE,IAAK0N,EAAWxkD,MAAOukD,EAASC,EAAW9lD,KAAKwc,MAAO,CACrD,IAAI2wB,EAAO0Y,EAAO/kD,MAClByJ,KAAKq7C,YAAYzY,IAEnB,MAAOyF,GACPkT,EAAWhmD,EAAE8yC,GACb,QACAkT,EAAWzhD,IAGb,OAAO,OAER,CACDyC,IAAK,cACLhG,MAAO,SAAqBqsC,GAC1B,IAAI4Y,EAASx7C,KAEb,GAAI4iC,EAAKyO,SAAWvI,EAASwN,QAA2B,IAAlB1T,EAAKuT,SASzC,MAAM,IAAI/2C,MAAM,oFANhB,GAFAwjC,EAAKyO,OAASvI,EAASuN,OAEnBr2C,KAAK9D,QAAQiwC,iBACf,OAAOhmC,YAAW,WAChB,OAAOq1C,EAAOC,iBACb,KAMR,CACDl/C,IAAK,oBACLhG,MAAO,SAA2BqsC,GAChC,IAAI8Y,EAAS17C,KAEb,GAAIA,KAAK9D,QAAQivC,uBAAyBvI,EAAKrnC,KAAKf,MAAM,YAAcooC,EAAKlX,MAA4C,KAApC1rB,KAAK9D,QAAQkvC,qBAA8B,KAG9H,OAFAprC,KAAK27C,gBAAgBzjD,KAAK0qC,GAEnBz8B,YAAW,WAChB,OAAOu1C,EAAOE,2BACb,KAGN,CACDr/C,IAAK,yBACLhG,MAAO,WACL,IAAIslD,EAAS77C,KAEb,IAAIA,KAAK87C,sBAAwD,IAAhC97C,KAAK27C,gBAAgBvjD,OAAtD,CAIA4H,KAAK87C,sBAAuB,EAE5B,IAAIlZ,EAAO5iC,KAAK27C,gBAAgBhe,QAEhC,OAAO39B,KAAK+7C,gBAAgBnZ,EAAM5iC,KAAK9D,QAAQmvC,eAAgBrrC,KAAK9D,QAAQovC,gBAAiBtrC,KAAK9D,QAAQqvC,iBAAiB,GAAM,SAAUuG,GAIzI,OAHA+J,EAAOxI,KAAK,YAAazQ,EAAMkP,GAE/B+J,EAAOC,sBAAuB,EACvBD,EAAOD,+BAIjB,CACDr/C,IAAK,aACLhG,MAAO,SAAoBqsC,GAQzB,GAPIA,EAAKyO,SAAWvI,EAASwI,WAC3BtxC,KAAKk5C,aAAatW,GAGpB5iC,KAAK6tC,MAAQmO,EAAQh8C,KAAK6tC,MAAOjL,GACjC5iC,KAAKqzC,KAAK,cAAezQ,GAEC,IAAtB5iC,KAAK6tC,MAAMz1C,OACb,OAAO4H,KAAKqzC,KAAK,WAIpB,CACD92C,IAAK,iBACLhG,MAAO,SAAwB0lD,GAEJ,MAArBA,IACFA,GAAoB,GAGtB,IACIC,EADAC,EAAarI,EAAmC9zC,KAAK6tC,MAAMv2C,SAAS,GAGxE,IACE,IAAK6kD,EAAWplD,MAAOmlD,EAASC,EAAW1mD,KAAKwc,MAAO,CACrD,IAAI2wB,EAAOsZ,EAAO3lD,OAEdqsC,EAAKyO,SAAWvI,EAASwI,WAAa2K,IACxCj8C,KAAKwxC,WAAW5O,IAGpB,MAAOyF,GACP8T,EAAW5mD,EAAE8yC,GACb,QACA8T,EAAWriD,IAGb,OAAO,OAKR,CACDyC,IAAK,cACLhG,MAAO,SAAqBqsC,EAAMrlC,EAAOE,EAAQmuC,EAAchN,GAC7D,IAAIwd,EAAUp8C,KAEd,OAAOA,KAAK+7C,gBAAgBnZ,EAAMrlC,EAAOE,EAAQmuC,GAAc,GAAM,SAAUkG,EAASuK,GACtF,GAAc,MAAVA,EAEF,OAAOzd,EAASgE,GAEhB,IAAI8I,EAAiB0Q,EAAQlgD,QAAQwvC,eAEf,MAAlBA,IACFA,EAAiB9I,EAAKrnC,MAGxB,IAAI+gD,EAAiBD,EAAOE,UAAU7Q,EAAgB0Q,EAAQlgD,QAAQyvC,eAOtE,MALuB,eAAnBD,GAAsD,cAAnBA,IAErC4Q,EAAiBE,EAAYC,QAAQ7Z,EAAK8Z,QAASJ,IAG9C1d,EAASkK,EAAS6T,cAAcL,SAI5C,CACD//C,IAAK,kBACLhG,MAAO,SAAyBqsC,EAAMrlC,EAAOE,EAAQmuC,EAAcgR,EAAgBhe,GACjF,IAAIie,EAAU78C,KAEV88C,EAAa,IAAIC,WAErBD,EAAWE,OAAS,WAClBpa,EAAK8Z,QAAUI,EAAWt3C,OAER,kBAAdo9B,EAAKrnC,KAQTshD,EAAQI,uBAAuBra,EAAMrlC,EAAOE,EAAQmuC,EAAcgR,EAAgBhe,GAPhE,MAAZA,GACFA,EAASke,EAAWt3C,SAS1Bs3C,EAAWI,cAActa,KAQ1B,CACDrmC,IAAK,sBACLhG,MAAO,SAA6B4mD,EAAUC,EAAUxe,EAAUye,GAChE,IAAIC,EAAUt9C,KAEVu9C,IAAkBhmD,UAAUa,OAAS,QAAsB6P,IAAjB1Q,UAAU,KAAmBA,UAAU,GAIrF,GAHAyI,KAAKqzC,KAAK,YAAa8J,GACvBn9C,KAAKqzC,KAAK,WAAY8J,GAEjBI,EAGE,CACL,IAAIC,EAAS,SAAgB3L,GAC3ByL,EAAQjK,KAAK,YAAa8J,EAAUtL,GAEhCjT,GAAUA,KAGhBue,EAAST,QAAUU,EACnBp9C,KAAKi9C,uBAAuBE,EAAUn9C,KAAK9D,QAAQmvC,eAAgBrrC,KAAK9D,QAAQovC,gBAAiBtrC,KAAK9D,QAAQ0vC,aAAc5rC,KAAK9D,QAAQ0gD,eAAgBY,EAAQH,QAVjKr9C,KAAKqzC,KAAK,YAAa8J,EAAUC,GAC7Bxe,GAAUA,MAYjB,CACDriC,IAAK,yBACLhG,MAAO,SAAgCqsC,EAAMrlC,EAAOE,EAAQmuC,EAAcgR,EAAgBhe,EAAUye,GAClG,IAAII,EAAUz9C,KAIV09C,EAAMhmD,SAASC,cAAc,OAiGjC,OA/FI0lD,IACFK,EAAIL,YAAcA,GAIpBT,EAAwE,cAAvDe,iBAAiBjmD,SAAS4O,MAAwB,kBAA4Bs2C,EAE/Fc,EAAIV,OAAS,WACX,IAAIY,EAAW,SAAkBhf,GAC/B,OAAOA,EAAS,IAWlB,MARoB,oBAATif,MAAiC,OAATA,MAAiBjB,IAClDgB,EAAW,SAAkBhf,GAC3B,OAAOif,KAAKC,QAAQJ,GAAK,WACvB,OAAO9e,EAASif,KAAKE,OAAO/9C,KAAM,qBAKjC49C,GAAS,SAAUI,GACxBpb,EAAKrlC,MAAQmgD,EAAIngD,MACjBqlC,EAAKnlC,OAASigD,EAAIjgD,OAElB,IAAIwgD,EAAaR,EAAQvhD,QAAQizC,OAAOv5C,KAAK6nD,EAAS7a,EAAMrlC,EAAOE,EAAQmuC,GAEvEyQ,EAAS3kD,SAASC,cAAc,UAChCumD,EAAM7B,EAAOxhD,WAAW,MAS5B,OARAwhD,EAAO9+C,MAAQ0gD,EAAWtO,SAC1B0M,EAAO5+C,OAASwgD,EAAWrO,UAEvBoO,EAAc,IAChB3B,EAAO9+C,MAAQ0gD,EAAWrO,UAC1ByM,EAAO5+C,OAASwgD,EAAWtO,UAGrBqO,GACN,KAAK,EAEHE,EAAIC,UAAU9B,EAAO9+C,MAAO,GAC5B2gD,EAAIE,OAAO,EAAG,GACd,MAEF,KAAK,EAEHF,EAAIC,UAAU9B,EAAO9+C,MAAO8+C,EAAO5+C,QACnCygD,EAAIG,OAAOrkD,KAAKskD,IAChB,MAEF,KAAK,EAEHJ,EAAIC,UAAU,EAAG9B,EAAO5+C,QACxBygD,EAAIE,MAAM,GAAI,GACd,MAEF,KAAK,EAEHF,EAAIG,OAAO,GAAMrkD,KAAKskD,IACtBJ,EAAIE,MAAM,GAAI,GACd,MAEF,KAAK,EAEHF,EAAIG,OAAO,GAAMrkD,KAAKskD,IACtBJ,EAAIC,UAAU,GAAI9B,EAAO9+C,OACzB,MAEF,KAAK,EAEH2gD,EAAIG,OAAO,GAAMrkD,KAAKskD,IACtBJ,EAAIC,UAAU9B,EAAO5+C,QAAS4+C,EAAO9+C,OACrC2gD,EAAIE,OAAO,EAAG,GACd,MAEF,KAAK,EAEHF,EAAIG,QAAQ,GAAMrkD,KAAKskD,IACvBJ,EAAIC,WAAW9B,EAAO5+C,OAAQ,GAKlC8gD,EAAgBL,EAAKR,EAAwB,MAAnBO,EAAW5O,KAAe4O,EAAW5O,KAAO,EAAsB,MAAnB4O,EAAW3O,KAAe2O,EAAW3O,KAAO,EAAG2O,EAAW1O,SAAU0O,EAAWzO,UAA8B,MAAnByO,EAAWO,KAAeP,EAAWO,KAAO,EAAsB,MAAnBP,EAAWQ,KAAeR,EAAWQ,KAAO,EAAGR,EAAWtO,SAAUsO,EAAWrO,WACjS,IAAIiC,EAAYwK,EAAOE,UAAU,aAEjC,GAAgB,MAAZ3d,EACF,OAAOA,EAASiT,EAAWwK,OAKjB,MAAZzd,IACF8e,EAAIgB,QAAU9f,GAGT8e,EAAIr3B,IAAMuc,EAAK8Z,UAGvB,CACDngD,IAAK,eACLhG,MAAO,WACL,IAAIk0C,EAAkBzqC,KAAK9D,QAAQuuC,gBAC/BkU,EAAmB3+C,KAAKk3C,oBAAoB9+C,OAC5C1C,EAAIipD,EAER,KAAIA,GAAoBlU,GAAxB,CAIA,IAAImU,EAAc5+C,KAAKm3C,iBAEvB,GAAMyH,EAAYxmD,OAAS,EAA3B,CAIA,GAAI4H,KAAK9D,QAAQwuC,eAEf,OAAO1qC,KAAK6+C,aAAaD,EAAYtnD,MAAM,EAAGmzC,EAAkBkU,IAEhE,KAAOjpD,EAAI+0C,GAAiB,CAC1B,IAAKmU,EAAYxmD,OACf,OAIF4H,KAAK8+C,YAAYF,EAAYjhB,SAC7BjoC,SAKL,CACD6G,IAAK,cACLhG,MAAO,SAAqBqsC,GAC1B,OAAO5iC,KAAK6+C,aAAa,CAACjc,MAG3B,CACDrmC,IAAK,eACLhG,MAAO,SAAsBs3C,GAC3B,IACIkR,EADAC,EAAclL,EAAmCjG,GAAO,GAG5D,IACE,IAAKmR,EAAYjoD,MAAOgoD,EAAUC,EAAYvpD,KAAKwc,MAAO,CACxD,IAAI2wB,EAAOmc,EAAQxoD,MACnBqsC,EAAK2P,YAAa,EAElB3P,EAAKyO,OAASvI,EAASwI,UACvBtxC,KAAKqzC,KAAK,aAAczQ,IAE1B,MAAOyF,GACP2W,EAAYzpD,EAAE8yC,GACd,QACA2W,EAAYllD,IAOd,OAJIkG,KAAK9D,QAAQwuC,gBACf1qC,KAAKqzC,KAAK,qBAAsBxF,GAG3B7tC,KAAKi/C,YAAYpR,KAEzB,CACDtxC,IAAK,mBACLhG,MAAO,SAA0Bu3C,GAE/B,OAAe9tC,KAAK6tC,MAAMv6B,QAAO,SAAUsvB,GACzC,OAAOA,EAAKkL,MAAQA,KACnBrzC,KAAI,SAAUmoC,GACf,OAAOA,OAOV,CACDrmC,IAAK,eACLhG,MAAO,SAAsBqsC,GAC3B,GAAIA,EAAKyO,SAAWvI,EAASwI,UAAW,CACtC,IAGI4N,EAHAC,EAAen/C,KAAKo/C,iBAAiBxc,EAAKkL,KAE1CuR,EAAcvL,EAAmCqL,GAAc,GAGnE,IACE,IAAKE,EAAYtoD,MAAOmoD,EAAUG,EAAY5pD,KAAKwc,MAC/BitC,EAAQ3oD,MACd86C,OAASvI,EAASwW,SAEhC,MAAOjX,GACPgX,EAAY9pD,EAAE8yC,GACd,QACAgX,EAAYvlD,SAGU,IAAb8oC,EAAKkL,KACdlL,EAAKkL,IAAIyR,QAGX,IACIC,EADAC,EAAc3L,EAAmCqL,GAAc,GAGnE,IACE,IAAKM,EAAY1oD,MAAOyoD,EAAUC,EAAYhqD,KAAKwc,MAAO,CACxD,IAAIytC,EAAeF,EAAQjpD,MAC3ByJ,KAAKqzC,KAAK,WAAYqM,IAExB,MAAOrX,GACPoX,EAAYlqD,EAAE8yC,GACd,QACAoX,EAAY3lD,IAGVkG,KAAK9D,QAAQwuC,gBACf1qC,KAAKqzC,KAAK,mBAAoB8L,QAEvBvc,EAAKyO,SAAWvI,EAASwN,OAAS1T,EAAKyO,SAAWvI,EAASuN,SACpEzT,EAAKyO,OAASvI,EAASwW,SACvBt/C,KAAKqzC,KAAK,WAAYzQ,GAElB5iC,KAAK9D,QAAQwuC,gBACf1qC,KAAKqzC,KAAK,mBAAoB,CAACzQ,KAInC,GAAI5iC,KAAK9D,QAAQiwC,iBACf,OAAOnsC,KAAKy7C,iBAGf,CACDl/C,IAAK,gBACLhG,MAAO,SAAuBopD,GAC5B,GAAsB,mBAAXA,EAAuB,CAChC,IAAK,IAAIpW,EAAOhyC,UAAUa,OAAQ2mC,EAAO,IAAI7nC,MAAMqyC,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGzK,EAAKyK,EAAO,GAAKjyC,UAAUiyC,GAG7B,OAAOmW,EAAO3rC,MAAMhU,KAAM++B,GAG5B,OAAO4gB,IAER,CACDpjD,IAAK,aACLhG,MAAO,SAAoBqsC,GACzB,OAAO5iC,KAAKi/C,YAAY,CAACrc,MAE1B,CACDrmC,IAAK,cACLhG,MAAO,SAAqBs3C,GAC1B,IAAI+R,EAAU5/C,KAEdA,KAAK6/C,gBAAgBhS,GAAO,SAAUiS,GACpC,GAAIF,EAAQ1jD,QAAQyuC,SAAU,CAG5B,IAAIoV,EAAkBD,EAAiB,GACvCjS,EAAM,GAAGI,OAAO+R,QAAUJ,EAAQ1jD,QAAQyuC,WAAaiV,EAAQ1jD,QAAQ0uC,eAAiBmV,EAAgBr0B,KAAOk0B,EAAQ1jD,QAAQ2uC,WAC/HgD,EAAM,GAAGI,OAAOM,gBAAkBv0C,KAAKw0B,KAAKuxB,EAAgBr0B,KAAOk0B,EAAQ1jD,QAAQ2uC,WAGrF,GAAIgD,EAAM,GAAGI,OAAO+R,QAAS,CAI3B,IAAIpd,EAAOiL,EAAM,GACboS,EAAmBH,EAAiB,GAExCld,EAAKqL,OAAOiS,OAAS,GAErB,IAAIC,EAAkB,WAGpB,IAFA,IAAIC,EAAa,OAEyBn4C,IAAnC26B,EAAKqL,OAAOiS,OAAOE,IACxBA,IAIF,KAAIA,GAAcxd,EAAKqL,OAAOM,iBAA9B,CAEA,IAAI/vC,EAAQ4hD,EAAaR,EAAQ1jD,QAAQ2uC,UACrCnsC,EAAM1E,KAAKN,IAAI8E,EAAQohD,EAAQ1jD,QAAQ2uC,UAAWoV,EAAiBv0B,MACnE20B,EAAY,CACd73C,KAAMo3C,EAAQpH,cAAc,GAC5Bn2B,KAAM49B,EAAiBK,YAAcL,EAAiBK,YAAY9hD,EAAOE,GAAOuhD,EAAiB3oD,MAAMkH,EAAOE,GAC9Gu8C,SAAUrY,EAAKqL,OAAOgN,SACtBmF,WAAYA,GAEdxd,EAAKqL,OAAOiS,OAAOE,GAAc,CAC/Bxd,KAAMA,EACNx6B,MAAOg4C,EACPC,UAAWA,EAEXhP,OAAQvI,EAASwI,UACjBoB,SAAU,EACV6N,QAAS,GAIXX,EAAQY,YAAY3S,EAAO,CAACwS,MA4B9B,GAzBAzd,EAAKqL,OAAOwS,oBAAsB,SAAU1S,EAAO2S,GACjD,IAAIC,GAAc,EAClB5S,EAAMsD,OAASvI,EAAS8X,QAExB7S,EAAMsS,UAAY,KAElBtS,EAAMD,IAAM,KAEZ,IAAK,IAAIp4C,EAAI,EAAGA,EAAIktC,EAAKqL,OAAOM,gBAAiB74C,IAAK,CACpD,QAA8BuS,IAA1B26B,EAAKqL,OAAOiS,OAAOxqD,GACrB,OAAOyqD,IAGLvd,EAAKqL,OAAOiS,OAAOxqD,GAAG27C,SAAWvI,EAAS8X,UAC5CD,GAAc,GAIdA,GACFf,EAAQ1jD,QAAQwyC,eAAe9L,GAAM,WACnCgd,EAAQiB,UAAUhT,EAAO6S,EAAU,UAKrCd,EAAQ1jD,QAAQ4uC,qBAClB,IAAK,IAAIp1C,EAAI,EAAGA,EAAIktC,EAAKqL,OAAOM,gBAAiB74C,IAC/CyqD,SAGFA,QAEG,CAGL,IAFA,IAAIW,EAAa,GAERC,EAAM,EAAGA,EAAMlT,EAAMz1C,OAAQ2oD,IACpCD,EAAWC,GAAO,CAChBv4C,KAAMo3C,EAAQpH,cAAcuI,GAC5B1+B,KAAMy9B,EAAiBiB,GACvB9F,SAAUpN,EAAMkT,GAAK9S,OAAOgN,UAIhC2E,EAAQY,YAAY3S,EAAOiT,SAKhC,CACDvkD,IAAK,YACLhG,MAAO,SAAmBqsC,EAAMkL,GAC9B,IAAK,IAAIp4C,EAAI,EAAGA,EAAIktC,EAAKqL,OAAOM,gBAAiB74C,IAC/C,QAA8BuS,IAA1B26B,EAAKqL,OAAOiS,OAAOxqD,IAAoBktC,EAAKqL,OAAOiS,OAAOxqD,GAAGo4C,MAAQA,EACvE,OAAOlL,EAAKqL,OAAOiS,OAAOxqD,KAO/B,CACD6G,IAAK,cACLhG,MAAO,SAAqBs3C,EAAOiT,GACjC,IAKIE,EALAC,EAAUjhD,KAEV8tC,EAAM,IAAIoT,eAEVC,EAAcrN,EAAmCjG,GAAO,GAG5D,IACE,IAAKsT,EAAYpqD,MAAOiqD,EAAUG,EAAY1rD,KAAKwc,MACtC+uC,EAAQzqD,MACdu3C,IAAMA,EAEb,MAAOzF,GACP8Y,EAAY5rD,EAAE8yC,GACd,QACA8Y,EAAYrnD,IAGV+zC,EAAM,GAAGI,OAAO+R,UAElBnS,EAAM,GAAGI,OAAOiS,OAAOY,EAAW,GAAGV,YAAYtS,IAAMA,GAGzD,IAAIp5B,EAAS1U,KAAKohD,cAAcphD,KAAK9D,QAAQwY,OAAQm5B,GACjDrqB,EAAMxjB,KAAKohD,cAAcphD,KAAK9D,QAAQsnB,IAAKqqB,GAC/CC,EAAIvnB,KAAK7R,EAAQ8O,GAAK,GAERxjB,KAAKohD,cAAcphD,KAAK9D,QAAQsuC,QAASqD,KAC1CC,EAAItD,QAAUxqC,KAAKohD,cAAcphD,KAAK9D,QAAQsuC,QAASqD,IAEpEC,EAAIvD,kBAAoBvqC,KAAK9D,QAAQquC,gBAErCuD,EAAIkP,OAAS,SAAUznD,GACrB0rD,EAAQI,mBAAmBxT,EAAOC,EAAKv4C,IAGzCu4C,EAAIwT,UAAY,WACdL,EAAQM,mBAAmB1T,EAAOC,EAAK,0BAA0BhpB,OAAOm8B,EAAQ/kD,QAAQsuC,QAAU,IAAM,cAG1GsD,EAAI4Q,QAAU,WACZuC,EAAQM,mBAAmB1T,EAAOC,KAIJ,MAAdA,EAAIG,OAAiBH,EAAIG,OAASH,GAExC0T,WAAa,SAAUjsD,GACjC,OAAO0rD,EAAQQ,2BAA2B5T,EAAOC,EAAKv4C,IAGxD,IAAIupC,EAAU,CACZ4iB,OAAQ,mBACR,gBAAiB,WACjB,mBAAoB,kBAOtB,IAAK,IAAIC,KAJL3hD,KAAK9D,QAAQ4iC,SACfgK,EAASgN,OAAOhX,EAAS9+B,KAAK9D,QAAQ4iC,SAGjBA,EAAS,CAC9B,IAAI8iB,EAAc9iB,EAAQ6iB,GAEtBC,GACF9T,EAAI+T,iBAAiBF,EAAYC,GAIrC,IAAIE,EAAW,IAAIC,SAEnB,GAAI/hD,KAAK9D,QAAQ+hC,OAAQ,CACvB,IAAI+jB,EAAmBhiD,KAAK9D,QAAQ+hC,OAMpC,IAAK,IAAI1hC,IAJuB,mBAArBylD,IACTA,EAAmBA,EAAiBpsD,KAAKoK,KAAM6tC,EAAOC,EAAKD,EAAM,GAAGI,OAAO+R,QAAUhgD,KAAKiiD,UAAUpU,EAAM,GAAIC,GAAO,OAGvGkU,EAAkB,CAChC,IAAIzrD,EAAQyrD,EAAiBzlD,GAE7B,GAAIrF,MAAME,QAAQb,GAIhB,IAAK,IAAIb,EAAI,EAAGA,EAAIa,EAAM6B,OAAQ1C,IAChCosD,EAASvjB,OAAOhiC,EAAKhG,EAAMb,SAG7BosD,EAASvjB,OAAOhiC,EAAKhG,IAM3B,IACI2rD,EADAC,EAAcrO,EAAmCjG,GAAO,GAG5D,IACE,IAAKsU,EAAYprD,MAAOmrD,EAAUC,EAAY1sD,KAAKwc,MAAO,CACxD,IAAImwC,EAAQF,EAAQ3rD,MACpByJ,KAAKqzC,KAAK,UAAW+O,EAAOtU,EAAKgU,IAEnC,MAAOzZ,GACP8Z,EAAY5sD,EAAE8yC,GACd,QACA8Z,EAAYroD,IAGVkG,KAAK9D,QAAQwuC,gBACf1qC,KAAKqzC,KAAK,kBAAmBxF,EAAOC,EAAKgU,GAG3C9hD,KAAKqiD,oBAAoBP,GAIzB,IAAK,IAAIQ,EAAM,EAAGA,EAAMxB,EAAW1oD,OAAQkqD,IAAO,CAChD,IAAIjC,EAAYS,EAAWwB,GAC3BR,EAASvjB,OAAO8hB,EAAU73C,KAAM63C,EAAUh+B,KAAMg+B,EAAUpF,UAG5Dj7C,KAAKuiD,cAAczU,EAAKgU,EAAUjU,KAGnC,CACDtxC,IAAK,kBACLhG,MAAO,SAAyBs3C,EAAO57B,GAiBrC,IAhBA,IAAIuwC,EAAUxiD,KAEV8/C,EAAmB,GAEnB2C,EAAc,EAEdC,EAAQ,SAAehtD,GACzB8sD,EAAQtmD,QAAQ2zC,cAAcj6C,KAAK4sD,EAAS3U,EAAMn4C,IAAI,SAAUqqD,GAC9DD,EAAiBpqD,GAAKqqD,IAEhB0C,IAAgB5U,EAAMz1C,QAC1B6Z,EAAK6tC,OAKFpqD,EAAI,EAAGA,EAAIm4C,EAAMz1C,OAAQ1C,IAChCgtD,EAAMhtD,KAIT,CACD6G,IAAK,sBACLhG,MAAO,SAA6BurD,GAElC,GAA6B,SAAzB9hD,KAAK/C,QAAQu5C,QAAoB,CACnC,IACImM,EADAC,EAAc9O,EAAmC9zC,KAAK/C,QAAQ4zC,iBAAiB,oCAAoC,GAGvH,IACE,IAAK+R,EAAY7rD,MAAO4rD,EAAUC,EAAYntD,KAAKwc,MAAO,CACxD,IAAIlP,EAAQ4/C,EAAQpsD,MAChBssD,EAAY9/C,EAAMhL,aAAa,QAC/B+qD,EAAY//C,EAAMhL,aAAa,QAGnC,GAFI+qD,IAAWA,EAAYA,EAAUloD,eAEjC,MAAOioD,EAEX,GAAsB,WAAlB9/C,EAAMyzC,SAAwBzzC,EAAMggD,aAAa,YAAa,CAEhE,IACIC,EADAC,EAAcnP,EAAmC/wC,EAAM7G,SAAS,GAGpE,IACE,IAAK+mD,EAAYlsD,MAAOisD,EAAUC,EAAYxtD,KAAKwc,MAAO,CACxD,IAAI0tC,EAASqD,EAAQzsD,MAEjBopD,EAAOuD,UACTpB,EAASvjB,OAAOskB,EAAWlD,EAAOppD,QAGtC,MAAO8xC,GACP4a,EAAY1tD,EAAE8yC,GACd,QACA4a,EAAYnpD,WAEJgpD,GAA2B,aAAdA,GAA0C,UAAdA,GAAyB//C,EAAMogD,UAClFrB,EAASvjB,OAAOskB,EAAW9/C,EAAMxM,QAGrC,MAAO8xC,GACPua,EAAYrtD,EAAE8yC,GACd,QACAua,EAAY9oD,QAMjB,CACDyC,IAAK,6BACLhG,MAAO,SAAoCs3C,EAAOC,EAAKv4C,GACrD,GAAKs4C,EAAM,GAAGI,OAAO+R,QAiCd,CAIL,IAAIoD,EAASvV,EAAM,GAGfE,EAAQ/tC,KAAKiiD,UAAUmB,EAAQtV,GAE/Bv4C,GACFw4C,EAAM2E,SAAW,IAAMn9C,EAAE8tD,OAAS9tD,EAAE6iD,MACpCrK,EAAMqK,MAAQ7iD,EAAE6iD,MAChBrK,EAAM4E,UAAYp9C,EAAE8tD,SAGpBtV,EAAM2E,SAAW,IACjB3E,EAAM4E,UAAY5E,EAAMqK,OAI1BgL,EAAOnV,OAAOyE,SAAW,EACzB0Q,EAAOnV,OAAOmK,MAAQ,EACtBgL,EAAOnV,OAAO0E,UAAY,EAE1B,IAAK,IAAIj9C,EAAI,EAAGA,EAAI0tD,EAAOnV,OAAOM,gBAAiB74C,IAC7C0tD,EAAOnV,OAAOiS,OAAOxqD,SAAkD,IAArC0tD,EAAOnV,OAAOiS,OAAOxqD,GAAGg9C,WAC5D0Q,EAAOnV,OAAOyE,UAAY0Q,EAAOnV,OAAOiS,OAAOxqD,GAAGg9C,SAClD0Q,EAAOnV,OAAOmK,OAASgL,EAAOnV,OAAOiS,OAAOxqD,GAAG0iD,MAC/CgL,EAAOnV,OAAO0E,WAAayQ,EAAOnV,OAAOiS,OAAOxqD,GAAGi9C,WAMvDyQ,EAAOnV,OAAOyE,SAAW0Q,EAAOnV,OAAOyE,SAAW0Q,EAAOnV,OAAOM,gBAChEvuC,KAAKqzC,KAAK,iBAAkB+P,EAAQA,EAAOnV,OAAOyE,SAAU0Q,EAAOnV,OAAO0E,eApE9C,CAE5B,IACI2Q,EADAC,EAAczP,EAAmCjG,GAAO,GAG5D,IACE,IAAK0V,EAAYxsD,MAAOusD,EAAUC,EAAY9tD,KAAKwc,MAAO,CACxD,IAAI2wB,EAAO0gB,EAAQ/sD,MAEfqsC,EAAKqL,OAAOmK,OAASxV,EAAKqL,OAAO0E,WAAa/P,EAAKqL,OAAO0E,WAAa/P,EAAKqL,OAAOmK,QAOnF7iD,GACFqtC,EAAKqL,OAAOyE,SAAW,IAAMn9C,EAAE8tD,OAAS9tD,EAAE6iD,MAC1CxV,EAAKqL,OAAOmK,MAAQ7iD,EAAE6iD,MACtBxV,EAAKqL,OAAO0E,UAAYp9C,EAAE8tD,SAG1BzgB,EAAKqL,OAAOyE,SAAW,IACvB9P,EAAKqL,OAAO0E,UAAY/P,EAAKqL,OAAOmK,OAGtCp4C,KAAKqzC,KAAK,iBAAkBzQ,EAAMA,EAAKqL,OAAOyE,SAAU9P,EAAKqL,OAAO0E,aAEtE,MAAOtK,GACPkb,EAAYhuD,EAAE8yC,GACd,QACAkb,EAAYzpD,QAwCjB,CACDyC,IAAK,qBACLhG,MAAO,SAA4Bs3C,EAAOC,EAAKv4C,GAC7C,IAAImrD,EAEJ,GAAI7S,EAAM,GAAGwD,SAAWvI,EAASwW,UAIV,IAAnBxR,EAAI0V,WAAR,CAIA,GAAyB,gBAArB1V,EAAI2V,cAAuD,SAArB3V,EAAI2V,eAC5C/C,EAAW5S,EAAI4V,aAEX5V,EAAI6V,kBAAkB,kBAAoB7V,EAAI6V,kBAAkB,gBAAgB98C,QAAQ,qBAC1F,IACE65C,EAAWkD,KAAKC,MAAMnD,GACtB,MAAO70C,GACPtW,EAAIsW,EACJ60C,EAAW,qCAKjB1gD,KAAKyhD,2BAA2B5T,EAAOC,GAEjC,KAAOA,EAAIuD,QAAUvD,EAAIuD,OAAS,IAGlCxD,EAAM,GAAGI,OAAO+R,QAClBnS,EAAM,GAAGI,OAAOwS,oBAAoBzgD,KAAKiiD,UAAUpU,EAAM,GAAIC,GAAM4S,GAEnE1gD,KAAK6gD,UAAUhT,EAAO6S,EAAUnrD,GALlCyK,KAAKuhD,mBAAmB1T,EAAOC,EAAK4S,MASvC,CACDnkD,IAAK,qBACLhG,MAAO,SAA4Bs3C,EAAOC,EAAK4S,GAC7C,GAAI7S,EAAM,GAAGwD,SAAWvI,EAASwW,SAAjC,CAIA,GAAIzR,EAAM,GAAGI,OAAO+R,SAAWhgD,KAAK9D,QAAQ6uC,YAAa,CACvD,IAAIgD,EAAQ/tC,KAAKiiD,UAAUpU,EAAM,GAAIC,GAErC,GAAIC,EAAMwS,UAAYvgD,KAAK9D,QAAQ8uC,iBAGjC,YAFAhrC,KAAKwgD,YAAY3S,EAAO,CAACE,EAAMsS,YAI/B3F,QAAQoJ,KAAK,4CAIjB9jD,KAAKo7C,iBAAiBvN,EAAO6S,GAAY1gD,KAAK9D,QAAQ+wC,kBAAkB9zC,QAAQ,iBAAkB20C,EAAIuD,QAASvD,MAEhH,CACDvxC,IAAK,gBACLhG,MAAO,SAAuBu3C,EAAKgU,EAAUjU,GACrB,GAAlBC,EAAI0V,WAKR1V,EAAIiW,KAAKjC,GAJPpH,QAAQoJ,KAAK,mFAQhB,CACDvnD,IAAK,YACLhG,MAAO,SAAmBs3C,EAAO6V,EAAcnuD,GAC7C,IACIyuD,EADAC,EAAcnQ,EAAmCjG,GAAO,GAG5D,IACE,IAAKoW,EAAYltD,MAAOitD,EAAUC,EAAYxuD,KAAKwc,MAAO,CACxD,IAAI2wB,EAAOohB,EAAQztD,MACnBqsC,EAAKyO,OAASvI,EAAS8X,QACvB5gD,KAAKqzC,KAAK,UAAWzQ,EAAM8gB,EAAcnuD,GACzCyK,KAAKqzC,KAAK,WAAYzQ,IAExB,MAAOyF,GACP4b,EAAY1uD,EAAE8yC,GACd,QACA4b,EAAYnqD,IAQd,GALIkG,KAAK9D,QAAQwuC,iBACf1qC,KAAKqzC,KAAK,kBAAmBxF,EAAO6V,EAAcnuD,GAClDyK,KAAKqzC,KAAK,mBAAoBxF,IAG5B7tC,KAAK9D,QAAQiwC,iBACf,OAAOnsC,KAAKy7C,iBAKf,CACDl/C,IAAK,mBACLhG,MAAO,SAA0Bs3C,EAAOsE,EAASrE,GAC/C,IACIoW,EADAC,EAAcrQ,EAAmCjG,GAAO,GAG5D,IACE,IAAKsW,EAAYptD,MAAOmtD,EAAUC,EAAY1uD,KAAKwc,MAAO,CACxD,IAAI2wB,EAAOshB,EAAQ3tD,MACnBqsC,EAAKyO,OAASvI,EAASsb,MACvBpkD,KAAKqzC,KAAK,QAASzQ,EAAMuP,EAASrE,GAClC9tC,KAAKqzC,KAAK,WAAYzQ,IAExB,MAAOyF,GACP8b,EAAY5uD,EAAE8yC,GACd,QACA8b,EAAYrqD,IAQd,GALIkG,KAAK9D,QAAQwuC,iBACf1qC,KAAKqzC,KAAK,gBAAiBxF,EAAOsE,EAASrE,GAC3C9tC,KAAKqzC,KAAK,mBAAoBxF,IAG5B7tC,KAAK9D,QAAQiwC,iBACf,OAAOnsC,KAAKy7C,kBAGd,CAAC,CACHl/C,IAAK,YACLhG,MAAO,WAELyJ,KAAKpJ,UAAUoyC,QAAUA,EAOzBhpC,KAAKpJ,UAAUkgD,OAAS,CAAC,OAAQ,YAAa,UAAW,YAAa,WAAY,YAAa,YAAa,aAAc,cAAe,YAAa,QAAS,gBAAiB,aAAc,qBAAsB,iBAAkB,sBAAuB,UAAW,kBAAmB,UAAW,kBAAmB,WAAY,mBAAoB,WAAY,mBAAoB,QAAS,mBAAoB,kBAAmB,iBACza92C,KAAKpJ,UAAU+kD,gBAAkB,GACjC37C,KAAKpJ,UAAUklD,sBAAuB,IAGvC,CACDv/C,IAAK,SACLhG,MAAO,SAAgBgC,GACrB,IAAK,IAAI8rD,EAAQ9sD,UAAUa,OAAQksD,EAAU,IAAIptD,MAAMmtD,EAAQ,EAAIA,EAAQ,EAAI,GAAIE,EAAQ,EAAGA,EAAQF,EAAOE,IAC3GD,EAAQC,EAAQ,GAAKhtD,UAAUgtD,GAGjC,IAAK,IAAIC,EAAM,EAAGC,EAAWH,EAASE,EAAMC,EAASrsD,OAAQosD,IAAO,CAClE,IAAI3uC,EAAS4uC,EAASD,GAEtB,IAAK,IAAIjoD,KAAOsZ,EAAQ,CACtB,IAAIoZ,EAAMpZ,EAAOtZ,GACjBhE,EAAOgE,GAAO0yB,GAIlB,OAAO12B,IAER,CACDgE,IAAK,SACLhG,MAAO,WACL,MAAO,uCAAuC4C,QAAQ,SAAS,SAAUrD,GACvE,IAAIM,EAAoB,GAAhB4D,KAAKy3B,SAAgB,EAE7B,OADc,MAAN37B,EAAYM,EAAQ,EAAJA,EAAU,GACzBwF,SAAS,WAKjBktC,EAjzDmB,CAkzD1BE,GAGFF,EAAS4b,YACT5b,EAAS5tB,QAAU,QAenB4tB,EAAS5sC,QAAU,GAEnB4sC,EAAS+M,kBAAoB,SAAU54C,GAErC,OAAIA,EAAQlF,aAAa,MAChB+wC,EAAS5sC,QAAQyoD,EAAS1nD,EAAQlF,aAAa,aAEtD,GAKJ+wC,EAAS6M,UAAY,GAErB7M,EAAS8b,WAAa,SAAU3nD,GAK9B,GAJuB,iBAAZA,IACTA,EAAUvF,SAASkB,cAAcqE,IAGqB,OAAxC,MAAXA,EAAkBA,EAAQy4C,cAAWztC,GACxC,MAAM,IAAI7I,MAAM,kNAGlB,OAAOnC,EAAQy4C,UAIjB5M,EAAS+b,cAAe,EAExB/b,EAASgc,SAAW,WAClB,IAAIC,EAEJ,GAAIrtD,SAASm5C,iBACXkU,EAAYrtD,SAASm5C,iBAAiB,iBACjC,CACLkU,EAAY,GAEZ,IAAIC,EAAgB,SAAuB/mD,GACzC,OAAO,WACL,IAGIgnD,EAHAz/C,EAAS,GAET0/C,EAAcpR,EAAmC71C,GAAU,GAG/D,IACE,IAAKinD,EAAYnuD,MAAOkuD,EAAUC,EAAYzvD,KAAKwc,MAAO,CACxD,IAAI5O,EAAK4hD,EAAQ1uD,MAEb,qBAAqB6E,KAAKiI,EAAGrF,WAC/BwH,EAAOtN,KAAK6sD,EAAU7sD,KAAKmL,IAE3BmC,EAAOtN,UAAK+P,IAGhB,MAAOogC,GACP6c,EAAY3vD,EAAE8yC,GACd,QACA6c,EAAYprD,IAGd,OAAO0L,EAtBF,IA0BTw/C,EAActtD,SAASm3C,qBAAqB,QAC5CmW,EAActtD,SAASm3C,qBAAqB,SAG9C,OAAO,WACL,IAGIsW,EAHA3/C,EAAS,GAET4/C,EAActR,EAAmCiR,GAAW,GAGhE,IACE,IAAKK,EAAYruD,MAAOouD,EAAUC,EAAY3vD,KAAKwc,MAAO,CACxD,IAAIyjC,EAAWyP,EAAQ5uD,OAGsB,IAAzCuyC,EAAS+M,kBAAkBH,GAC7BlwC,EAAOtN,KAAK,IAAI4wC,EAAS4M,IAEzBlwC,EAAOtN,UAAK+P,IAGhB,MAAOogC,GACP+c,EAAY7vD,EAAE8yC,GACd,QACA+c,EAAYtrD,IAGd,OAAO0L,EAvBF,IAqCTsjC,EAASuc,gBAAkB,CAC3B,kDAEAvc,EAASiN,mBAAqB,WAC5B,IAAIuP,GAAiB,EAErB,GAAInwD,OAAOowD,MAAQpwD,OAAO4nD,YAAc5nD,OAAOukB,UAAYvkB,OAAOqwD,MAAQrwD,OAAO4sD,UAAYrqD,SAASkB,cACpG,GAAM,cAAelB,SAASC,cAAc,KAErC,MACgCsQ,IAAjC6gC,EAAS2c,sBAGX3c,EAASuc,gBAAkBvc,EAAS2c,qBAItC,IACIC,EADAC,EAAc7R,EAAmChL,EAASuc,iBAAiB,GAG/E,IACE,IAAKM,EAAY5uD,MAAO2uD,EAAUC,EAAYlwD,KAAKwc,MACrCyzC,EAAQnvD,MAEV6E,KAAKwqD,UAAUzqC,aACvBmqC,GAAiB,GAIrB,MAAOjd,GACPsd,EAAYpwD,EAAE8yC,GACd,QACAsd,EAAY7rD,UAxBdwrD,GAAiB,OA4BnBA,GAAiB,EAGnB,OAAOA,GAGTxc,EAAS6T,cAAgB,SAAUkJ,GAUjC,IAPA,IAAIC,EAAaC,KAAKF,EAAQntD,MAAM,KAAK,IAErCstD,EAAaH,EAAQntD,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAE5DutD,EAAK,IAAIt9C,YAAYm9C,EAAW1tD,QAChC8tD,EAAK,IAAI37C,WAAW07C,GAEfvwD,EAAI,EAAGgJ,EAAMonD,EAAW1tD,OAAQ+tD,EAAM,GAAKznD,EAAKynD,EAAMzwD,GAAKgJ,EAAMhJ,GAAKgJ,EAAKynD,EAAMzwD,IAAMA,IAC9FwwD,EAAGxwD,GAAKowD,EAAWn6B,WAAWj2B,GAIhC,OAAO,IAAI8vD,KAAK,CAACS,GAAK,CACpB1qD,KAAMyqD,KAKV,IAAIhK,EAAU,SAAiBjsB,EAAMq2B,GACnC,OAAOr2B,EAAKzc,QAAO,SAAU0mC,GAC3B,OAAOA,IAASoM,KACf3rD,KAAI,SAAUu/C,GACf,OAAOA,MAKP2K,EAAW,SAAkBnnC,GAC/B,OAAOA,EAAIrkB,QAAQ,cAAc,SAAUqB,GACzC,OAAOA,EAAM2N,OAAO,GAAGrM,kBAK3BgtC,EAASnxC,cAAgB,SAAUmmB,GACjC,IAAIuoC,EAAM3uD,SAASC,cAAc,OAEjC,OADA0uD,EAAIzuD,UAAYkmB,EACTuoC,EAAIC,WAAW,IAIxBxd,EAAS+O,cAAgB,SAAU56C,EAASoC,GAC1C,GAAIpC,IAAYoC,EACd,OAAO,EAIT,KAAOpC,EAAUA,EAAQ2G,YACvB,GAAI3G,IAAYoC,EACd,OAAO,EAIX,OAAO,GAGTypC,EAASmN,WAAa,SAAU5yC,EAAImF,GAClC,IAAIvL,EAQJ,GANkB,iBAAPoG,EACTpG,EAAUvF,SAASkB,cAAcyK,GACT,MAAfA,EAAGoyC,WACZx4C,EAAUoG,GAGG,MAAXpG,EACF,MAAM,IAAImC,MAAM,YAAY0lB,OAAOtc,EAAM,8EAG3C,OAAOvL,GAGT6rC,EAASoN,YAAc,SAAUqQ,EAAK/9C,GACpC,IAAInF,EAAIpF,EAER,GAAIsoD,aAAervD,MAAO,CACxB+G,EAAW,GAEX,IACE,IACIuoD,EADAC,EAAc3S,EAAmCyS,GAAK,GAG1D,IACE,IAAKE,EAAY1vD,MAAOyvD,EAAUC,EAAYhxD,KAAKwc,MACjD5O,EAAKmjD,EAAQjwD,MACb0H,EAAS/F,KAAK8H,KAAKi2C,WAAW5yC,EAAImF,IAEpC,MAAO6/B,GACPoe,EAAYlxD,EAAE8yC,GACd,QACAoe,EAAY3sD,KAEd,MAAOvE,GACP0I,EAAW,WAER,GAAmB,iBAARsoD,EAAkB,CAClCtoD,EAAW,GAEX,IACIyoD,EADAC,EAAc7S,EAAmCp8C,SAASm5C,iBAAiB0V,IAAM,GAGrF,IACE,IAAKI,EAAY5vD,MAAO2vD,EAAUC,EAAYlxD,KAAKwc,MACjD5O,EAAKqjD,EAAQnwD,MACb0H,EAAS/F,KAAKmL,GAEhB,MAAOglC,GACPse,EAAYpxD,EAAE8yC,GACd,QACAse,EAAY7sD,UAEW,MAAhBysD,EAAI9Q,WACbx3C,EAAW,CAACsoD,IAGd,GAAgB,MAAZtoD,IAAqBA,EAAS7F,OAChC,MAAM,IAAIgH,MAAM,YAAY0lB,OAAOtc,EAAM,+FAG3C,OAAOvK,GAOT6qC,EAASyI,QAAU,SAAUqV,EAAUzQ,EAAU0Q,GAC/C,OAAI1xD,OAAOo8C,QAAQqV,GACVzQ,IACc,MAAZ0Q,EACFA,SADF,GAQT/d,EAASgS,YAAc,SAAUlY,EAAMqJ,GACrC,IAAKA,EACH,OAAO,EAITA,EAAgBA,EAAcvzC,MAAM,KACpC,IAIIouD,EAJAC,EAAWnkB,EAAKrnC,KAChByrD,EAAeD,EAAS5tD,QAAQ,QAAS,IAEzC8tD,EAAcnT,EAAmC7H,GAAe,GAGpE,IACE,IAAKgb,EAAYlwD,MAAO+vD,EAAUG,EAAYxxD,KAAKwc,MAAO,CACxD,IAAIi1C,EAAYJ,EAAQvwD,MAGxB,GAA4B,OAF5B2wD,EAAYA,EAAUrvD,QAERsQ,OAAO,IACnB,IAAuG,IAAnGy6B,EAAKp6B,KAAK5N,cAAciM,QAAQqgD,EAAUtsD,cAAegoC,EAAKp6B,KAAKpQ,OAAS8uD,EAAU9uD,QACxF,OAAO,OAEJ,GAAI,QAAQgD,KAAK8rD,IAEtB,GAAIF,IAAiBE,EAAU/tD,QAAQ,QAAS,IAC9C,OAAO,OAGT,GAAI4tD,IAAaG,EACf,OAAO,GAIb,MAAO7e,GACP4e,EAAY1xD,EAAE8yC,GACd,QACA4e,EAAYntD,IAGd,OAAO,GAIa,oBAAXqtD,QAAqC,OAAXA,SACnCA,OAAO/xC,GAAGsgC,SAAW,SAAUx5C,GAC7B,OAAO8D,KAAKonD,MAAK,WACf,OAAO,IAAIte,EAAS9oC,KAAM9D,QAMhC4sC,EAASwN,MAAQ,QACjBxN,EAASuN,OAAS,SAGlBvN,EAASue,SAAWve,EAASuN,OAC7BvN,EAASwI,UAAY,YACrBxI,EAASwe,WAAaxe,EAASwI,UAE/BxI,EAASwW,SAAW,WACpBxW,EAASsb,MAAQ,QACjBtb,EAAS8X,QAAU,UAYnB,IAwCIrC,EAAkB,SAAyBL,EAAKR,EAAK6J,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACnF,IAAIC,EAzCqB,SAA8BrK,GAC9CA,EAAIsK,aAAb,IACIC,EAAKvK,EAAIwK,cACT7L,EAAS3kD,SAASC,cAAc,UACpC0kD,EAAO9+C,MAAQ,EACf8+C,EAAO5+C,OAASwqD,EAChB,IAAI/J,EAAM7B,EAAOxhD,WAAW,MAC5BqjD,EAAIiK,UAAUzK,EAAK,EAAG,GAUtB,IARA,IACIr7B,EADoB67B,EAAIkK,aAAa,EAAG,EAAG,EAAGH,GACrB5lC,KAGzBmlC,EAAK,EACLa,EAAKJ,EACLK,EAAKL,EAEFK,EAAKd,GAGI,IAFFnlC,EAAgB,GAAVimC,EAAK,GAAS,GAG9BD,EAAKC,EAELd,EAAKc,EAGPA,EAAKD,EAAKb,GAAM,EAGlB,IAAIe,EAAQD,EAAKL,EAEjB,OAAc,IAAVM,EACK,EAEAA,EAOaC,CAAqB9K,GAC3C,OAAOQ,EAAIiK,UAAUzK,EAAK6J,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,IAMzDvL,EAA2B,WAC7B,SAASA,IACPvI,EAAwBj0C,KAAMw8C,GAoLhC,OAjLArI,EAAqBqI,EAAa,KAAM,CAAC,CACvCjgD,IAAK,YACLhG,MAAO,WACLyJ,KAAKyoD,QAAU,sEAEhB,CACDlsD,IAAK,WACLhG,MAAO,SAAkBwM,GAWvB,IAVA,IAAI+pB,EAAS,GACT47B,OAAOzgD,EACP0gD,OAAO1gD,EACP2gD,EAAO,GACPC,OAAO5gD,EACP6gD,OAAO7gD,EACP8gD,OAAO9gD,EACP+gD,EAAO,GACPtzD,EAAI,EAMNmzD,GAHAH,EAAO3lD,EAAMrN,OAGE,EACfozD,GAAe,EAAPJ,IAAa,GAHrBC,EAAO5lD,EAAMrN,OAGoB,EACjCqzD,GAAe,GAAPJ,IAAc,GAHtBC,EAAO7lD,EAAMrN,OAGqB,EAClCszD,EAAc,GAAPJ,EAEHtuD,MAAMquD,GACRI,EAAOC,EAAO,GACL1uD,MAAMsuD,KACfI,EAAO,IAGTl8B,EAASA,EAAS9sB,KAAKyoD,QAAQtgD,OAAO0gD,GAAQ7oD,KAAKyoD,QAAQtgD,OAAO2gD,GAAQ9oD,KAAKyoD,QAAQtgD,OAAO4gD,GAAQ/oD,KAAKyoD,QAAQtgD,OAAO6gD,GAC1HN,EAAOC,EAAOC,EAAO,GACrBC,EAAOC,EAAOC,EAAOC,EAAO,GAEtBtzD,EAAIqN,EAAM3K,SAKlB,OAAO00B,IAER,CACDvwB,IAAK,UACLhG,MAAO,SAAiB0yD,EAAgBC,GACtC,IAAKD,EAAezuD,MAAM,2BACxB,OAAO0uD,EAGT,IAAIC,EAAWnpD,KAAKopD,SAASH,EAAe9vD,QAAQ,0BAA2B,KAC3EkwD,EAAWrpD,KAAKspD,eAAeH,GAC/BI,EAAQvpD,KAAKwpD,iBAAiBN,EAAmBG,GACrD,MAAO,0BAA0BvkC,OAAO9kB,KAAKypD,SAASF,MAEvD,CACDhtD,IAAK,mBACLhG,MAAO,SAA0B2yD,EAAmBG,GAClD,IAAIK,EAAY1pD,KAAK2pD,aAAaN,GAC9BO,EAAgB5pD,KAAK6pD,WAAWX,EAAmBQ,GAEvD,OADc,IAAIn/C,WAAWq/C,KAG9B,CACDrtD,IAAK,eACLhG,MAAO,SAAsB8yD,GAI3B,IAHA,IAAIS,OAAM7hD,EACNrL,EAAI,EAEDA,EAAIysD,EAASjxD,QAAQ,CAG1B,GAAe,OAFf0xD,EAAMT,EAASzsD,IAEP,GAAwB,MAAXktD,EAAI,GACvB,OAAOA,EAGTltD,IAGF,MAAO,KAER,CACDL,IAAK,aACLhG,MAAO,SAAoB2yD,EAAmBQ,GAC5C,IAAIK,EAAYb,EAAkB/vD,QAAQ,0BAA2B,IACjE6wD,EAAMhqD,KAAKopD,SAASW,GACpBE,EAAgBD,EAAInjD,QAAQ,IAAK,GACjCqjD,EAAMF,EAAI1yD,MAAM,EAAG2yD,GACnBE,EAAMH,EAAI1yD,MAAM2yD,GAChB51C,EAAQ61C,EAGZ,OADA71C,GADAA,EAAQA,EAAMyQ,OAAO4kC,IACP5kC,OAAOqlC,KAGtB,CACD5tD,IAAK,iBACLhG,MAAO,SAAwB6zD,GAI7B,IAHA,IAAIC,EAAO,EACPhB,EAAW,KAKe,MAAxBe,EAAcC,GAA4C,MAA5BD,EAAcC,EAAO,KAH5C,CAOX,GAA4B,MAAxBD,EAAcC,GAA4C,MAA5BD,EAAcC,EAAO,GACrDA,GAAQ,MACH,CAEL,IAAIC,EAAWD,GADoB,IAA1BD,EAAcC,EAAO,GAAWD,EAAcC,EAAO,IAC/B,EAC3BP,EAAMM,EAAc9yD,MAAM+yD,EAAMC,GACpCjB,EAASnxD,KAAK4xD,GACdO,EAAOC,EAGT,GAAID,EAAOD,EAAchyD,OACvB,MAIJ,OAAOixD,IAER,CACD9sD,IAAK,WACLhG,MAAO,SAAkBwM,GACvB,IACI2lD,OAAOzgD,EACP0gD,OAAO1gD,EACP2gD,EAAO,GAEPE,OAAO7gD,EACP8gD,OAAO9gD,EACP+gD,EAAO,GACPtzD,EAAI,EACJs0D,EAAM,GAUV,IARiB,sBAEF3uD,KAAK0H,IAClB23C,QAAQoJ,KAAK,oJAGf/gD,EAAQA,EAAM5J,QAAQ,sBAAuB,IAO3CuvD,EAJO1oD,KAAKyoD,QAAQ5hD,QAAQ9D,EAAMoF,OAAOzS,OAI1B,GAHfozD,EAAO9oD,KAAKyoD,QAAQ5hD,QAAQ9D,EAAMoF,OAAOzS,QAGd,EAC3BizD,GAAe,GAAPG,IAAc,GAHtBC,EAAO/oD,KAAKyoD,QAAQ5hD,QAAQ9D,EAAMoF,OAAOzS,QAGP,EAClCkzD,GAAe,EAAPG,IAAa,GAHrBC,EAAOhpD,KAAKyoD,QAAQ5hD,QAAQ9D,EAAMoF,OAAOzS,OAIzCs0D,EAAI9xD,KAAKwwD,GAEI,KAATK,GACFiB,EAAI9xD,KAAKywD,GAGE,KAATK,GACFgB,EAAI9xD,KAAK0wD,GAGXF,EAAOC,EAAOC,EAAO,GACdE,EAAOC,EAAOC,EAAO,GAEtBtzD,EAAIqN,EAAM3K,SAKlB,OAAO4xD,MAIJxN,EAtLsB,GAyL/BA,EAAYkI,YAmEZ5b,EAASyhB,sBAAwB,WAC/B,GAAIzhB,EAAS+b,aACX,OAAO/b,EAASgc,YApDA,SAAuB0F,EAAKp1C,GAC9C,IAAInD,GAAO,EACPzU,GAAM,EACNitD,EAAMD,EAAI9yD,SACV6L,EAAOknD,EAAInrD,gBACX6D,EAAMsnD,EAAI/Y,iBAAmB,mBAAqB,cAClDgZ,EAAMD,EAAI/Y,iBAAmB,sBAAwB,cACrDiZ,EAAMF,EAAI/Y,iBAAmB,GAAK,KAElCzxC,EAAO,SAASA,EAAK1K,GACvB,GAAe,qBAAXA,EAAEgG,MAAkD,aAAnBkvD,EAAIjH,WAMzC,OAFY,SAAXjuD,EAAEgG,KAAkBivD,EAAMC,GAAKC,GAAKC,EAAMp1D,EAAEgG,KAAM0E,GAAM,IAEpDgS,IAASA,GAAO,GACZmD,EAAGxf,KAAK40D,EAAKj1D,EAAEgG,MAAQhG,QADhC,GAgBF,GAAuB,aAAnBk1D,EAAIjH,WAA2B,CACjC,GAAIiH,EAAIG,mBAAqBrnD,EAAKsnD,SAAU,CAC1C,IACErtD,GAAOgtD,EAAIM,aACX,MAAOj/C,IAELrO,GAjBG,SAASutD,IAClB,IACExnD,EAAKsnD,SAAS,QACd,MAAOt1D,GAEP,YADA4Q,WAAW4kD,EAAM,IAInB,OAAO9qD,EAAK,QAUR8qD,GAIJN,EAAItnD,GAAKwnD,EAAM,mBAAoB1qD,GAAM,GACzCwqD,EAAItnD,GAAKwnD,EAAM,mBAAoB1qD,GAAM,GAClCuqD,EAAIrnD,GAAKwnD,EAAM,OAAQ1qD,GAAM,IAWxC+qD,CAAc71D,OAAQ2zC,EAASyhB,uBAkB/Bp1D,OAAO2zC,SAAWA,EACW,IAAIC,EAAgB,EA/lHhD,GAkmHgBjB,EA3rUD,IARd1yC,EAAOC,QAAU6R,K,mECFnB,mBAAmBlR,OAAOS,SAAST,OAAOS,OAAO,SAASnB,GAAG,SAASE,KAAK,OAAOA,EAAEoB,UAAUtB,EAAE,IAAIE,IAAI,SAASF,EAAEE,EAAEE,EAAEqB,GAAG,aAAa,IAAItB,EAAE,CAACw1D,iBAAiB,CAAC,cAAc,eAAe,YAAY,WAAW,gBAAgB,aAAa,cAAcC,cAAc,CAAC,UAAU,QAAQ,OAAO,WAAWjrD,KAAK,SAASzK,EAAEE,GAAGsK,KAAKmrD,eAAe31D,EAAEF,EAAE81D,MAAMlvD,SAAS8D,KAAKob,WAAW+vC,eAAe,SAAS31D,EAAEE,GAAG,IAAIqB,EAAE,GAAG,iBAAiBvB,GAAGA,aAAa0B,MAAMH,EAAEs0D,KAAK71D,EAAEuB,EAAEvB,EAAEwK,KAAK9D,QAAQ5G,EAAEwgD,OAAO,GAAGpgD,EAAEqB,IAAIqkB,QAAQ,WAAWpb,KAAKsrD,QAAQtrD,KAAKurD,WAAWvrD,KAAKlB,WAAWkB,KAAKwrD,YAAYxrD,KAAKyrD,WAAWH,MAAM,WAAW,IAAI91D,EAAE,GAAG,GAAGwK,KAAK0rD,SAAS1rD,KAAK0rD,UAAUp2D,EAAE,cAAc,CAAC,MAAQ,oBAAoBE,GAAG,wCAAwCwK,KAAK9D,QAAQyvD,kBAAkBn2D,GAAG,sDAAsDwK,KAAK9D,QAAQmvD,gBAAgBn0D,MAAM,CAAC8I,KAAK9D,QAAQ0vD,UAAUp2D,GAAG,gCAAgCwK,KAAK9D,QAAQ0vD,QAAQ,SAASp2D,GAAG,2BAA2B,IAAI,IAAIE,EAAE,EAAEA,EAAEsK,KAAK9D,QAAQmvD,KAAKjzD,OAAO1C,IAAIF,GAAG,6CAA6CE,EAAE,KAAKsK,KAAK9D,QAAQmvD,KAAK31D,GAAG,QAAQF,GAAG,aAAawK,KAAK9D,QAAQ0vD,UAAUp2D,GAAG,gCAAgCwK,KAAK9D,QAAQ0vD,QAAQ,SAASp2D,GAAGwK,KAAK9D,QAAQmvD,KAAKrrD,KAAK0rD,SAASvmC,KAAK3vB,IAA0B,IAAvBwK,KAAK9D,QAAQ2vD,SAAc7rD,KAAK0rD,SAASI,IAAI,mBAAmB9rD,KAAK9D,QAAQ2vD,UAAkC,IAAzB7rD,KAAK9D,QAAQ6vD,WAAgB/rD,KAAK0rD,SAASI,IAAI,QAAQ9rD,KAAK9D,QAAQ6vD,WAAW/rD,KAAK9D,QAAQ8vD,WAAWhsD,KAAK0rD,SAASI,IAAI,aAAa9rD,KAAK9D,QAAQ8vD,YAA+B,IAApBhsD,KAAK9D,QAAQ+vD,OAAYjsD,KAAK0rD,SAASQ,SAAS,gBAAgB,IAAI52D,EAAE62D,QAAQnsD,KAAK9D,QAAQ+vD,KAAKjsD,KAAKkrD,gBAAgBlrD,KAAK0rD,SAASQ,SAAS,WAAWlsD,KAAK9D,QAAQ+vD,QAA+B,IAAxBjsD,KAAK9D,QAAe,OAAQ8D,KAAK0rD,SAASQ,SAASlsD,KAAK9D,QAAe,QAAI4C,SAAS,WAAW,iBAAiBkB,KAAK9D,QAAQ4C,WAAW,IAAIxJ,EAAE62D,QAAQnsD,KAAK9D,QAAQ4C,SAASkB,KAAKirD,kBAAkB,kBAAkBjrD,KAAK9D,QAAQ4C,SAASkB,KAAKosD,WAAWN,IAAI,CAACxuD,KAAKhI,EAAEE,GAAG62D,aAAa,EAAErsD,KAAKosD,WAAWC,aAAa,EAAExtD,OAAO,KAAK,eAAemB,KAAK9D,QAAQ4C,SAASkB,KAAKosD,WAAWN,IAAI,CAACxuD,KAAKhI,EAAEE,GAAG62D,aAAa,EAAErsD,KAAKosD,WAAWC,aAAa,EAAE7uD,IAAI,KAAK,eAAewC,KAAK9D,QAAQ4C,SAASkB,KAAKosD,WAAWN,IAAI,CAACxuD,KAAKhI,EAAEE,GAAG62D,aAAa,EAAErsD,KAAKosD,WAAWC,aAAa,EAAE7uD,IAAIlI,EAAEE,GAAG82D,cAAc,EAAEtsD,KAAKosD,WAAWE,cAAc,IAAItsD,KAAKosD,WAAWF,SAASlsD,KAAK9D,QAAQ4C,UAAU,iBAAiBkB,KAAK9D,QAAQ4C,SAASkB,KAAKosD,WAAWN,IAAI,CAACtuD,IAAIwC,KAAK9D,QAAQ4C,SAAStB,IAAIwC,KAAK9D,QAAQ4C,SAAStB,IAAI,OAAOqB,OAAOmB,KAAK9D,QAAQ4C,SAASD,OAAOmB,KAAK9D,QAAQ4C,SAASD,OAAO,OAAOvB,KAAK0C,KAAK9D,QAAQ4C,SAASxB,KAAK0C,KAAK9D,QAAQ4C,SAASxB,KAAK,OAAOsB,MAAMoB,KAAK9D,QAAQ4C,SAASF,MAAMoB,KAAK9D,QAAQ4C,SAASF,MAAM,SAASoB,KAAKosD,WAAWF,SAAS,gBAAgBV,UAAU,WAAW,IAAIl2D,EAAE0K,KAAKA,KAAK0rD,SAAS3U,GAAG,cAAa,WAAWzhD,EAAEi3D,mBAAkBvsD,KAAK0rD,SAASzoD,KAAK,0BAA0B8zC,GAAG,SAAQ,SAASvhD,GAAGA,EAAE8D,iBAAiB,SAAShE,EAAE4G,QAAQswD,oBAAoBl3D,EAAEo2D,SAASzmD,QAAQ,cAAc3P,EAAEo2D,SAASe,SAAQ,WAAWn3D,EAAEo2D,SAASzmD,QAAQ,mBAAkB,UAAU3P,EAAE4G,QAAQswD,oBAAoBl3D,EAAEo2D,SAASzmD,QAAQ,cAAc3P,EAAEo2D,SAASgB,SAAQ,WAAWp3D,EAAEo2D,SAASzmD,QAAQ,oBAAmB3P,EAAEo2D,SAASzmD,QAAQ,cAAc3P,EAAEo2D,SAASvrD,MAAK,WAAW7K,EAAEo2D,SAASzmD,QAAQ,sBAAoB,mBAAmBjF,KAAK9D,QAAQywD,YAAY3sD,KAAK0rD,SAAS3U,GAAG,cAAa,WAAWzhD,EAAE4G,QAAQywD,gBAAe,mBAAmB3sD,KAAK9D,QAAQ0wD,YAAY5sD,KAAK0rD,SAAS3U,GAAG,cAAa,WAAWzhD,EAAE4G,QAAQ0wD,gBAAe,mBAAmB5sD,KAAK9D,QAAQ2wD,YAAY7sD,KAAK0rD,SAAS3U,GAAG,cAAa,WAAWzhD,EAAE4G,QAAQ2wD,gBAAe,mBAAmB7sD,KAAK9D,QAAQ4wD,aAAa9sD,KAAK0rD,SAAS3U,GAAG,eAAc,WAAWzhD,EAAE4G,QAAQ4wD,kBAAiBvB,SAAS,WAAW,IAAI/1D,EAAEF,EAAE,kBAAkB,GAAG,IAAIE,EAAE4C,QAAQ5C,EAAEF,EAAE,cAAc,CAAC,MAAQ,kBAAkBA,EAAE,QAAQipC,OAAO/oC,MAAMwK,KAAK9D,QAAQ6wD,OAAOzyD,MAAMI,SAASsF,KAAK9D,QAAQ6wD,MAAM,OAAOv3D,EAAEw3D,QAAQx3D,EAAEyN,KAAK,2BAA2BU,SAASnO,EAAE+oC,OAAOv+B,KAAK0rD,UAAU1rD,KAAK9D,QAAQ6wD,QAAQzyD,MAAMI,SAASsF,KAAK9D,QAAQ6wD,OAAO,IAAI,CAAC,IAAwCh2D,EAAlCvB,EAAEyN,KAAK,oBAAoB7K,OAAW4H,KAAK9D,QAAQ6wD,MAAMh2D,EAAE,GAAGzB,EAAE,kBAAkB2N,KAAK,oBAAoB3L,MAAM,EAAEP,GAAG4M,SAAS3D,KAAKosD,WAAW52D,GAAGy3D,YAAY,WAAW,OAAgC,IAAzBjtD,KAAK9D,QAAQgxD,YAAiB5yD,MAAMI,SAASsF,KAAK9D,QAAQgxD,UAAU,MAAMX,cAAc,WAAW,IAAIvsD,KAAKitD,gBAAqC,IAAtBjtD,KAAK9D,QAAQixD,OAAY,OAAM,EAAG,IAAI73D,EAAE0K,KAAK0rD,SAASzoD,KAAK,oBAAoBzN,GAAGwK,KAAK9D,QAAQgxD,UAAU,KAAK,IAAI,IAAIx3D,EAAEsK,KAAK9D,QAAQkxD,SAASr2D,EAAEzB,EAAE+3D,KAAK,UAAU,GAAGt2D,EAAEA,EAAE0E,UAAU,EAAE1E,EAAE8P,QAAQ,uBAAuB9P,GAAG,6BAA6BvB,EAAE,wDAAwDA,EAAE,qDAAqDA,EAAE,qDAAqDE,EAAE,IAAIJ,EAAE+3D,KAAK,QAAQt2D,GAAGm1D,SAAS,oBAAoBT,QAAQ,WAAW,IAAIn2D,EAAE0K,KAAK,GAAGA,KAAK0rD,SAASvrD,OAAOH,KAAK0rD,SAASzmD,QAAQ,cAAc,SAASjF,KAAK9D,QAAQswD,mBAAmB5xD,cAAcoF,KAAK0rD,SAAS4B,QAAO,WAAWh4D,EAAEo2D,SAASzmD,QAAQ,iBAAgB,UAAUjF,KAAK9D,QAAQswD,mBAAmB5xD,cAAcoF,KAAK0rD,SAAS6B,WAAU,WAAWj4D,EAAEo2D,SAASzmD,QAAQ,iBAAgBjF,KAAK0rD,SAAStrD,MAAK,WAAW9K,EAAEo2D,SAASzmD,QAAQ,iBAAgBjF,KAAKitD,cAAc,CAAK33D,EAAE0K,KAAKxK,EAAE2Q,YAAW,WAAW,SAAS7Q,EAAE4G,QAAQswD,mBAAmB5xD,eAAetF,EAAEo2D,SAASzmD,QAAQ,cAAc3P,EAAEo2D,SAASe,SAAQ,WAAWn3D,EAAEo2D,SAASzmD,QAAQ,mBAAkB,UAAU3P,EAAE4G,QAAQswD,mBAAmB5xD,eAAetF,EAAEo2D,SAASzmD,QAAQ,cAAc3P,EAAEo2D,SAASgB,SAAQ,WAAWp3D,EAAEo2D,SAASzmD,QAAQ,oBAAmB3P,EAAEo2D,SAASzmD,QAAQ,cAAc3P,EAAEo2D,SAASvrD,MAAK,WAAW7K,EAAEo2D,SAASzmD,QAAQ,qBAAmBjF,KAAK9D,QAAQgxD,aAAa3c,MAAM,SAAS/6C,GAAG,QAAQA,EAAEF,EAAE,kBAAkBqO,SAAS3D,KAAK0rD,SAAS/nD,UAAUjH,OAAO,SAASpH,GAAG0K,KAAKmrD,eAAe71D,EAAE0K,KAAK9D,SAAS8D,KAAKsrD,QAAQtrD,KAAKwrD,cAAcl2D,EAAE81D,MAAM,SAAS91D,GAAG,IAAIE,EAAEQ,OAAOS,OAAOhB,GAAG,OAAOD,EAAEyK,KAAK3K,EAAE0K,MAAM,CAACuwC,MAAM,SAASj7C,GAAGE,EAAE+6C,MAAMj7C,IAAIoH,OAAO,SAASpH,GAAGE,EAAEkH,OAAOpH,MAAMA,EAAE81D,MAAMlvD,QAAQ,CAACmvD,KAAK,GAAGO,QAAQ,GAAGY,mBAAmB,OAAOb,iBAAgB,EAAGuB,UAAU,IAAIC,QAAO,EAAGC,SAAS,UAAUL,MAAM,EAAEjuD,SAAS,cAAc+sD,SAAQ,EAAGE,WAAU,EAAGC,UAAU,OAAOC,MAAK,EAAGU,WAAW,aAAaC,WAAW,aAAaC,WAAW,aAAaC,YAAY,cAAhjM,CAA+jM3F,OAAOhyD,OAAOuC,W,iECKpnMtC,EAAOC,QAGhE,WAAc,aAEpB,SAASw+C,EAAQjM,GAaf,OATEiM,EADoB,mBAAXx9C,QAAoD,iBAApBA,OAAOub,SACtC,SAAUg2B,GAClB,cAAcA,GAGN,SAAUA,GAClB,OAAOA,GAAyB,mBAAXvxC,QAAyBuxC,EAAI54B,cAAgB3Y,QAAUuxC,IAAQvxC,OAAOO,UAAY,gBAAkBgxC,IAI9GA,GAGjB,SAASqB,EAAgB7X,EAAU7oB,GACjC,KAAM6oB,aAAoB7oB,GACxB,MAAM,IAAIhB,UAAU,qCAIxB,SAASqhC,EAAkBrwC,EAAQswC,GACjC,IAAK,IAAInzC,EAAI,EAAGA,EAAImzC,EAAMzwC,OAAQ1C,IAAK,CACrC,IAAIomB,EAAa+sB,EAAMnzC,GACvBomB,EAAW5lB,WAAa4lB,EAAW5lB,aAAc,EACjD4lB,EAAWhc,cAAe,EACtB,UAAWgc,IAAYA,EAAW/b,UAAW,GACjD/J,OAAOC,eAAesC,EAAQujB,EAAWvf,IAAKuf,IAIlD,SAAS0xC,EAAajlD,EAAa2gC,EAAYC,GAG7C,OAFID,GAAYN,EAAkBrgC,EAAY3R,UAAWsyC,GACrDC,GAAaP,EAAkBrgC,EAAa4gC,GACzC5gC,EAGT,SAASklD,IAeP,OAdAA,EAAWz3D,OAAOmG,QAAU,SAAU5D,GACpC,IAAK,IAAI7C,EAAI,EAAGA,EAAI6B,UAAUa,OAAQ1C,IAAK,CACzC,IAAI+gB,EAASlf,UAAU7B,GAEvB,IAAK,IAAI6G,KAAOka,EACVzgB,OAAOY,UAAUC,eAAejB,KAAK6gB,EAAQla,KAC/ChE,EAAOgE,GAAOka,EAAOla,IAK3B,OAAOhE,IAGOyb,MAAMhU,KAAMzI,WAG9B,SAAS89C,EAAUF,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAI7tC,UAAU,sDAGtB4tC,EAASv+C,UAAYZ,OAAOS,OAAO2+C,GAAcA,EAAWx+C,UAAW,CACrEoY,YAAa,CACXzY,MAAO4+C,EACPp1C,UAAU,EACVD,cAAc,KAGds1C,GAAYhB,EAAgBe,EAAUC,GAG5C,SAASN,EAAgBt/C,GAIvB,OAHAs/C,EAAkB9+C,OAAOuT,eAAiBvT,OAAOsT,eAAiB,SAAyB9T,GACzF,OAAOA,EAAE2yB,WAAanyB,OAAOsT,eAAe9T,KAEvBA,GAGzB,SAAS4+C,EAAgB5+C,EAAGsB,GAM1B,OALAs9C,EAAkBp+C,OAAOuT,gBAAkB,SAAyB/T,EAAGsB,GAErE,OADAtB,EAAE2yB,UAAYrxB,EACPtB,IAGcA,EAAGsB,GAG5B,SAAS89C,IACP,GAAuB,oBAAZJ,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUr4B,KAAM,OAAO,EACnC,GAAqB,mBAAVs4B,MAAsB,OAAO,EAExC,IAEE,OADAngC,QAAQ3d,UAAUs4B,QAAQt5B,KAAK4+C,QAAQC,UAAUlgC,QAAS,IAAI,iBACvD,EACP,MAAOhf,GACP,OAAO,GAIX,SAASm4D,EAAWC,EAAQ5uB,EAAM6uB,GAchC,OAZEF,EADE9Y,IACWJ,QAAQC,UAER,SAAoBkZ,EAAQ5uB,EAAM6uB,GAC7C,IAAIp2D,EAAI,CAAC,MACTA,EAAEU,KAAK8b,MAAMxc,EAAGunC,GAChB,IACI3N,EAAW,IADGjmB,SAASzU,KAAKsd,MAAM25C,EAAQn2D,IAG9C,OADIo2D,GAAOxZ,EAAgBhjB,EAAUw8B,EAAMh3D,WACpCw6B,IAIOpd,MAAM,KAAMzc,WAGhC,SAASy9C,EAAuB7tC,GAC9B,QAAa,IAATA,EACF,MAAM,IAAI8tC,eAAe,6DAG3B,OAAO9tC,EAGT,SAAS4tC,EAA2B5tC,EAAMvR,GACxC,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAIzCo/C,EAAuB7tC,GAHrBvR,EAMX,SAASy+C,EAAaC,GACpB,IAAIC,EAA4BK,IAEhC,OAAO,WACL,IACIpvC,EADAqvC,EAAQC,EAAgBR,GAG5B,GAAIC,EAA2B,CAC7B,IAAI5zB,EAAYm0B,EAAgB90C,MAAMgP,YAEtCxJ,EAASgvC,QAAQC,UAAUI,EAAOt9C,UAAWopB,QAE7Cnb,EAASqvC,EAAM7gC,MAAMhU,KAAMzI,WAG7B,OAAOw9C,EAA2B/0C,KAAMwF,IAI5C,SAASqoD,EAAeh4C,EAAQnK,GAC9B,MAAQ1V,OAAOY,UAAUC,eAAejB,KAAKigB,EAAQnK,IAEpC,QADfmK,EAASi/B,EAAgBj/B,MAI3B,OAAOA,EAGT,SAASi4C,EAAKv1D,EAAQmT,EAAUqiD,GAkB9B,OAhBED,EADqB,oBAAZtZ,SAA2BA,QAAQr+C,IACrCq+C,QAAQr+C,IAER,SAAcoC,EAAQmT,EAAUqiD,GACrC,IAAIphC,EAAOkhC,EAAet1D,EAAQmT,GAElC,GAAKihB,EAAL,CACA,IAAIqhC,EAAOh4D,OAAO0gB,yBAAyBiW,EAAMjhB,GAEjD,OAAIsiD,EAAK73D,IACA63D,EAAK73D,IAAIP,KAAKm4D,GAGhBC,EAAKz3D,SAIJgC,EAAQmT,EAAUqiD,GAAYx1D,GAG5C,IAAI01D,EAAgB,eAMhBC,EAAc,SAAqBxlB,GAGrC,IAFA,IAAIljC,EAAS,GAEJ9P,EAAI,EAAGA,EAAIgzC,EAAItwC,OAAQ1C,KACE,IAA5B8P,EAAOqB,QAAQ6hC,EAAIhzC,KACrB8P,EAAOtN,KAAKwwC,EAAIhzC,IAIpB,OAAO8P,GAOL2oD,EAAwB,SAA+B3wC,GACzD,OAAOA,EAAIrV,OAAO,GAAGrM,cAAgB0hB,EAAIlmB,MAAM,IAO7C82D,EAAe,SAAsBxmB,GACvC,OAAO5xC,OAAOmC,KAAKyvC,GAAKntC,KAAI,SAAU8B,GACpC,OAAOqrC,EAAIrrC,OAQX8xD,EAAU,SAAiBC,GAC7B,OAAOp3D,MAAMN,UAAUU,MAAM1B,KAAK04D,IAOhCxK,EAAO,SAAc3R,GACvBuI,QAAQoJ,KAAK,GAAGh/B,OAAOmpC,EAAe,KAAKnpC,OAA4B,WAArB+uB,EAAQ1B,GAAwBA,EAAQ32C,KAAK,KAAO22C,KAOpGtmC,EAAQ,SAAesmC,GACzBuI,QAAQ7uC,MAAM,GAAGiZ,OAAOmpC,EAAe,KAAKnpC,OAAOqtB,KAQjDoc,EAA2B,GAM3BC,EAAW,SAAkBrc,IACsB,IAA/Coc,EAAyB1nD,QAAQsrC,KACrCoc,EAAyBr2D,KAAKi6C,GAC9B2R,EAAK3R,KAOLsc,EAAuB,SAA8BC,EAAiBC,GACxEH,EAAS,IAAK1pC,OAAO4pC,EAAiB,+EAAiF5pC,OAAO6pC,EAAY,gBAQxIC,EAAiB,SAAwB7wC,GAC3C,MAAsB,mBAARA,EAAqBA,IAAQA,GAEzC8wC,EAAiB,SAAwB9wC,GAC3C,OAAOA,GAAgC,mBAAlBA,EAAI+wC,WAEvBC,EAAY,SAAmBhxC,GACjC,OAAO8wC,EAAe9wC,GAAOA,EAAI+wC,YAAcE,QAAQC,QAAQlxC,IAE7DmxC,EAAY,SAAmBnxC,GACjC,OAAOA,GAAOixC,QAAQC,QAAQlxC,KAASA,GAGrCoxC,EAAgBn5D,OAAOo5D,OAAO,CAChC5uD,OAAQ,SACR6uD,SAAU,WACVrpC,MAAO,QACPspC,IAAK,MACLC,MAAO,UAGLC,EAAkB,SAAyBC,GAC7C,MAAyB,WAAlB5b,EAAQ4b,IAAsBA,EAAKC,QAGxCC,EAAY,SAAmBF,GACjC,OAAOA,aAAgBh3D,SAAW+2D,EAAgBC,IAGhDG,EAAe,SAAsB7wB,GACvC,IAAId,EAAS,GAgBb,MAdyB,WAArB4V,EAAQ9U,EAAK,KAAqB4wB,EAAU5wB,EAAK,IAGnD,CAAC,QAAS,OAAQ,QAAQ7gC,SAAQ,SAAUsK,EAAMJ,GAChD,IAAI2V,EAAMghB,EAAK32B,GAEI,iBAAR2V,GAAoB4xC,EAAU5xC,GACvCkgB,EAAOz1B,GAAQuV,OACE9V,IAAR8V,GACTlS,EAAM,sBAAsBiZ,OAAOtc,EAAM,0CAA8Csc,OAAO+uB,EAAQ91B,QAR1G0vC,EAASxvB,EAAQc,EAAK,IAajBd,GAGL4xB,EAAa,SACbC,EAAS,SAAgBrW,GAC3B,IAAIj0C,EAAS,GAEb,IAAK,IAAI9P,KAAK+jD,EACZj0C,EAAOi0C,EAAM/jD,IAAMm6D,EAAapW,EAAM/jD,GAGxC,OAAO8P,GAELuqD,EAAcD,EAAO,CAAC,YAAa,QAAS,cAAe,SAAU,QAAS,QAAS,cAAe,gBAAiB,QAAS,cAAe,OAAQ,OAAQ,QAAS,QAAS,SAAU,UAAW,iBAAkB,UAAW,UAAW,OAAQ,SAAU,SAAU,OAAQ,eAAgB,QAAS,QAAS,OAAQ,QAAS,SAAU,QAAS,WAAY,QAAS,WAAY,aAAc,cAAe,qBAAsB,iBAAkB,uBAAwB,gBAAiB,qBAAsB,SAAU,UAAW,SAAU,MAAO,YAAa,UAAW,WAAY,YAAa,SAAU,eAAgB,aAAc,cAAe,eAAgB,SAAU,eAAgB,aAAc,cAAe,eAAgB,WAAY,cAAe,kBAAmB,MAAO,qBAAsB,+BAAgC,oBAAqB,eAAgB,eAAgB,YAAa,gBAAiB,eACh6BE,EAAYF,EAAO,CAAC,UAAW,UAAW,OAAQ,WAAY,UAE9DG,EAAe,WACjB,OAAOv4D,SAAS4O,KAAK1N,cAAc,IAAIksB,OAAOirC,EAAY1wD,aAExD6wD,EAAoB,SAA2BC,GACjD,IAAI9wD,EAAY4wD,IAChB,OAAO5wD,EAAYA,EAAUzG,cAAcu3D,GAAkB,MAG3DC,EAAiB,SAAwBpyD,GAC3C,OAAOkyD,EAAkB,IAAIprC,OAAO9mB,KAGlCqyD,EAAW,WACb,OAAOD,EAAeL,EAAYO,QAEhCC,EAAU,WACZ,OAAOH,EAAeL,EAAY9D,OAEhCuE,EAAW,WACb,OAAOJ,EAAeL,EAAYU,QAEhCC,EAAa,WACf,OAAON,EAAeL,EAAYvqC,UAEhCmrC,EAAmB,WACrB,OAAOP,EAAeL,EAAY,oBAEhCa,EAAW,WACb,OAAOR,EAAeL,EAAYxG,QAEhCsH,EAAmB,WACrB,OAAOT,EAAeL,EAAY,oBAEhCe,EAAuB,WACzB,OAAOV,EAAeL,EAAY,wBAEhCgB,EAAmB,WACrB,OAAOb,EAAkB,IAAIprC,OAAOirC,EAAYiB,QAAS,MAAMlsC,OAAOirC,EAAYxe,WAEhF0f,EAAgB,WAClB,OAAOf,EAAkB,IAAIprC,OAAOirC,EAAYiB,QAAS,MAAMlsC,OAAOirC,EAAYmB,QAEhFC,EAAgB,WAClB,OAAOf,EAAeL,EAAY,iBAEhCqB,EAAY,WACd,OAAOlB,EAAkB,IAAIprC,OAAOirC,EAAY5C,UAE9CkE,EAAkB,WACpB,OAAOnB,EAAkB,IAAIprC,OAAOirC,EAAYiB,QAAS,MAAMlsC,OAAOirC,EAAYvvD,UAEhF8wD,EAAa,WACf,OAAOlB,EAAeL,EAAYiB,UAEhCO,GAAY,WACd,OAAOnB,EAAeL,EAAYyB,SAEhCC,GAAY,WACd,OAAOrB,EAAeL,EAAY2B,SAEhCC,GAAsB,WACxB,OAAOvB,EAAeL,EAAY,wBAEhC6B,GAAiB,WACnB,OAAOxB,EAAeL,EAAY/pC,QAGhC6rC,GAAY,yQACZC,GAAuB,WACzB,IAAIC,EAAgC1D,EAAQgC,IAAWxf,iBAAiB,wDACvEhtB,MAAK,SAAUrsB,EAAG0C,GAIjB,OAHA1C,EAAIkD,SAASlD,EAAEO,aAAa,eAC5BmC,EAAIQ,SAASR,EAAEnC,aAAa,cAGnB,EACEP,EAAI0C,GACL,EAGH,KAEL83D,EAAyB3D,EAAQgC,IAAWxf,iBAAiBghB,KAAYv+C,QAAO,SAAUjQ,GAC5F,MAAuC,OAAhCA,EAAGtL,aAAa,eAEzB,OAAOm2D,EAAY6D,EAA8BjtC,OAAOktC,IAAyB1+C,QAAO,SAAUjQ,GAChG,OAAO4uD,GAAU5uD,OAGjB6uD,GAAU,WACZ,OAAQC,OAAcz6D,SAAS4O,KAAKnI,UAAUiF,SAAS2sD,EAAY,iBAEjEoC,GAAU,WACZ,OAAOz6D,SAAS4O,KAAKnI,UAAUiF,SAAS2sD,EAAY,iBAElDqC,GAAY,WACd,OAAO/B,IAAWtN,aAAa,iBAG7BsP,GAAS,CACXC,oBAAqB,MAEnBC,GAAe,SAAsB9C,EAAMtqC,GAI7C,GAFAsqC,EAAKzgB,YAAc,GAEf7pB,EAAM,CACR,IACIqtC,GADS,IAAIC,WACGC,gBAAgBvtC,EAAM,aAC1CkpC,EAAQmE,EAAO55D,cAAc,QAAQ0tD,YAAYpoD,SAAQ,SAAU4wC,GACjE2gB,EAAKnsD,YAAYwrC,MAEnBuf,EAAQmE,EAAO55D,cAAc,QAAQ0tD,YAAYpoD,SAAQ,SAAU4wC,GACjE2gB,EAAKnsD,YAAYwrC,QAInB6jB,GAAW,SAAkBlD,EAAMzxD,GACrC,IAAKA,EACH,OAAO,EAKT,IAFA,IAAIG,EAAYH,EAAUtF,MAAM,OAEvBhD,EAAI,EAAGA,EAAIyI,EAAU/F,OAAQ1C,IACpC,IAAK+5D,EAAKtxD,UAAUiF,SAASjF,EAAUzI,IACrC,OAAO,EAIX,OAAO,GAGLk9D,GAAsB,SAA6BnD,EAAMxxB,GAC3DowB,EAAQoB,EAAKtxD,WAAWD,SAAQ,SAAUF,IACgB,IAAlDowD,EAAa2B,GAAalpD,QAAQ7I,KAAwE,IAAhDowD,EAAa4B,GAAWnpD,QAAQ7I,KAA+E,IAAvDowD,EAAanwB,EAAO40B,WAAWhsD,QAAQ7I,IAC7JyxD,EAAKtxD,UAAUwF,OAAO3F,OAKxB80D,GAAmB,SAA0BrD,EAAMxxB,EAAQjgC,GAG7D,GAFA40D,GAAoBnD,EAAMxxB,GAEtBA,EAAO80B,aAAe90B,EAAO80B,YAAY/0D,GAAY,CACvD,GAA6C,iBAAlCigC,EAAO80B,YAAY/0D,KAA4BigC,EAAO80B,YAAY/0D,GAAWE,QACtF,OAAO4lD,EAAK,+BAA+Bh/B,OAAO9mB,EAAW,+CAAgD8mB,OAAO+uB,EAAQ5V,EAAO80B,YAAY/0D,IAAa,MAG9JkuD,GAASuD,EAAMxxB,EAAO80B,YAAY/0D,MAGtC,SAASg1D,GAASxtC,EAASs9B,GACzB,IAAKA,EACH,OAAO,KAGT,OAAQA,GACN,IAAK,SACL,IAAK,WACL,IAAK,OACH,OAAOmQ,GAAgBztC,EAASuqC,EAAYjN,IAE9C,IAAK,WACH,OAAOt9B,EAAQ5sB,cAAc,IAAIksB,OAAOirC,EAAYmD,SAAU,WAEhE,IAAK,QACH,OAAO1tC,EAAQ5sB,cAAc,IAAIksB,OAAOirC,EAAYoD,MAAO,oBAAsB3tC,EAAQ5sB,cAAc,IAAIksB,OAAOirC,EAAYoD,MAAO,uBAEvI,IAAK,QACH,OAAO3tC,EAAQ5sB,cAAc,IAAIksB,OAAOirC,EAAYqD,MAAO,WAE7D,QACE,OAAOH,GAAgBztC,EAASuqC,EAAYhtD,QAGlD,IA0IIswD,GA1IAC,GAAa,SAAoBvwD,GAGnC,GAFAA,EAAM3J,QAEa,SAAf2J,EAAMxH,KAAiB,CAEzB,IAAI0zB,EAAMlsB,EAAMxM,MAChBwM,EAAMxM,MAAQ,GACdwM,EAAMxM,MAAQ04B,IAGdskC,GAAc,SAAqBh7D,EAAQ4F,EAAWq1D,GACnDj7D,GAAW4F,IAIS,iBAAdA,IACTA,EAAYA,EAAUzF,MAAM,OAAO4a,OAAOiB,UAG5CpW,EAAUD,SAAQ,SAAUF,GACtBzF,EAAO2F,QACT3F,EAAO2F,SAAQ,SAAUuxD,GACvB+D,EAAY/D,EAAKtxD,UAAUgF,IAAInF,GAAayxD,EAAKtxD,UAAUwF,OAAO3F,MAGpEw1D,EAAYj7D,EAAO4F,UAAUgF,IAAInF,GAAazF,EAAO4F,UAAUwF,OAAO3F,QAIxEkuD,GAAW,SAAkB3zD,EAAQ4F,GACvCo1D,GAAYh7D,EAAQ4F,GAAW,IAE7Bs1D,GAAc,SAAqBl7D,EAAQ4F,GAC7Co1D,GAAYh7D,EAAQ4F,GAAW,IAE7B80D,GAAkB,SAAyBxD,EAAMzxD,GACnD,IAAK,IAAItI,EAAI,EAAGA,EAAI+5D,EAAKnJ,WAAWluD,OAAQ1C,IAC1C,GAAIi9D,GAASlD,EAAKnJ,WAAW5wD,GAAIsI,GAC/B,OAAOyxD,EAAKnJ,WAAW5wD,IAIzBg+D,GAAsB,SAA6BjE,EAAM/jD,EAAUnV,GACjEA,IAAU,GAAGuuB,OAAOpqB,SAASnE,MAC/BA,EAAQmE,SAASnE,IAGfA,GAA6B,IAApBmE,SAASnE,GACpBk5D,EAAK/xD,MAAMgO,GAA6B,iBAAVnV,EAAqB,GAAGuuB,OAAOvuB,EAAO,MAAQA,EAE5Ek5D,EAAK/xD,MAAMi2D,eAAejoD,IAG1BtL,GAAO,SAAcqvD,GACvB,IAAIrpC,EAAU7uB,UAAUa,OAAS,QAAsB6P,IAAjB1Q,UAAU,GAAmBA,UAAU,GAAK,OAClFk4D,EAAK/xD,MAAM0oB,QAAUA,GAEnBjmB,GAAO,SAAcsvD,GACvBA,EAAK/xD,MAAM0oB,QAAU,QAEnBwtC,GAAW,SAAkBC,EAAQC,EAAUpoD,EAAUnV,GAC3D,IAAI8M,EAAKwwD,EAAOj7D,cAAck7D,GAE1BzwD,IACFA,EAAG3F,MAAMgO,GAAYnV,IAGrBw9D,GAAS,SAAgBtE,EAAM+D,EAAWptC,GAC5CotC,EAAYpzD,GAAKqvD,EAAMrpC,GAAWjmB,GAAKsvD,IAGrCwC,GAAY,SAAmBxC,GACjC,SAAUA,KAASA,EAAK9xD,aAAe8xD,EAAK7xD,cAAgB6xD,EAAKuE,iBAAiB57D,UAEhF67D,GAAsB,WACxB,OAAQhC,GAAUlB,OAAwBkB,GAAUhB,OAAqBgB,GAAUZ,MAEjF6C,GAAe,SAAsBzE,GACvC,SAAUA,EAAK0E,aAAe1E,EAAK2E,eAGjCC,GAAkB,SAAyB5E,GAC7C,IAAI/xD,EAAQvI,OAAOwoD,iBAAiB8R,GAChC6E,EAAeC,WAAW72D,EAAM82D,iBAAiB,uBAAyB,KAC1EC,EAAgBF,WAAW72D,EAAM82D,iBAAiB,wBAA0B,KAChF,OAAOF,EAAe,GAAKG,EAAgB,GAEzCrxD,GAAW,SAAkBsxD,EAAUC,GACzC,GAAiC,mBAAtBD,EAAStxD,SAClB,OAAOsxD,EAAStxD,SAASuxD,IAGzBC,GAA0B,SAAiCrF,GAC7D,IAAIhf,EAAQh5C,UAAUa,OAAS,QAAsB6P,IAAjB1Q,UAAU,IAAmBA,UAAU,GACvEs9D,EAAmBlD,KAEnBM,GAAU4C,KACRtkB,IACFskB,EAAiBn3D,MAAMuG,WAAa,OACpC4wD,EAAiBn3D,MAAMH,MAAQ,QAGjC4I,YAAW,WACT0uD,EAAiBn3D,MAAMuG,WAAa,SAAS6gB,OAAOyqC,EAAQ,IAAM,YAClEsF,EAAiBn3D,MAAMH,MAAQ,OAC9B,MAGHu3D,GAAuB,WACzB,IAAID,EAAmBlD,KACnBoD,EAAwBr6D,SAASvF,OAAOwoD,iBAAiBkX,GAAkBt3D,OAC/Es3D,EAAiBn3D,MAAMi2D,eAAe,cACtCkB,EAAiBn3D,MAAMH,MAAQ,OAC/B,IAAIy3D,EAA4Bt6D,SAASvF,OAAOwoD,iBAAiBkX,GAAkBt3D,OAC/E03D,EAA0Bv6D,SAASq6D,EAAwBC,EAA4B,KAC3FH,EAAiBn3D,MAAMi2D,eAAe,cACtCkB,EAAiBn3D,MAAMH,MAAQ,GAAGunB,OAAOmwC,EAAyB,MAIhEC,GAAY,WACd,MAAyB,oBAAX//D,QAA8C,oBAAbuC,UAG7Cy9D,GAAY,4BAA6BrwC,OAAOirC,EAAYU,MAAO,wBAA0B3rC,OAAOirC,EAAYvqC,QAAS,aAAeV,OAAOirC,EAAYO,MAAO,qCAAyCxrC,OAAOirC,EAAYyB,OAAQ,wBAA0B1sC,OAAOirC,EAAY,kBAAmB,8BAAgCjrC,OAAOirC,EAAY9D,KAAM,+BAAiCnnC,OAAOirC,EAAYxG,MAAO,0BAA4BzkC,OAAOirC,EAAYU,MAAO,UAAY3rC,OAAOirC,EAAYU,MAAO,+CAAmD3rC,OAAOirC,EAAY/pC,MAAO,2CAA6ClB,OAAOirC,EAAYvqC,QAAS,sBAAwBV,OAAOirC,EAAYvqC,QAAS,aAAeV,OAAOirC,EAAY,kBAAmB,iCAAmCjrC,OAAOirC,EAAYhtD,MAAO,yCAA6C+hB,OAAOirC,EAAYntB,KAAM,2BAA6B9d,OAAOirC,EAAYqD,MAAO,kGAAsGtuC,OAAOirC,EAAYqF,OAAQ,kCAAoCtwC,OAAOirC,EAAYoD,MAAO,+BAAiCruC,OAAOirC,EAAYmD,SAAU,aAAepuC,OAAOirC,EAAYmD,SAAU,8DAAkEpuC,OAAOirC,EAAYriC,MAAO,oDAAsD5I,OAAOirC,EAAYsF,SAAU,oCAAsCvwC,OAAOirC,EAAY,sBAAuB,UAAYjrC,OAAOirC,EAAY,sBAAuB,wCAA0CjrC,OAAOirC,EAAYiB,QAAS,yBAA2BlsC,OAAOirC,EAAY5C,OAAQ,gDAAoDroC,OAAOirC,EAAYxe,QAAS,mDAAuDzsB,OAAOirC,EAAYmB,KAAM,mDAAuDpsC,OAAOirC,EAAYvvD,OAAQ,2CAA6CskB,OAAOirC,EAAY2B,OAAQ,6BAA+B5sC,OAAOirC,EAAY,gCAAiC,yBAA2BjrC,OAAOirC,EAAY,sBAAuB,kCAAmC52D,QAAQ,aAAc,IAEppEm8D,GAAoB,WACtB,IAAIC,EAAetF,IAEnB,QAAKsF,IAILA,EAAa3xD,WAAWJ,YAAY+xD,GACpC9B,GAAY,CAAC/7D,SAAS4H,gBAAiB5H,SAAS4O,MAAO,CAACypD,EAAY,eAAgBA,EAAY,eAAgBA,EAAY,iBACrH,IAKLyF,GAAyB,SAAgCjgE,GACvDkgE,GAAKxD,aAAeoB,KAAgB99D,EAAEgD,OAAOhC,OAC/Ck/D,GAAKD,yBAGPnC,GAAc99D,EAAEgD,OAAOhC,OAGrBm/D,GAA0B,WAC5B,IAAIlwC,EAAUkrC,IACV3tD,EAAQkwD,GAAgBztC,EAASuqC,EAAYhtD,OAC7C6/B,EAAOqwB,GAAgBztC,EAASuqC,EAAYntB,MAC5CwwB,EAAQ5tC,EAAQ5sB,cAAc,IAAIksB,OAAOirC,EAAYqD,MAAO,WAC5DuC,EAAcnwC,EAAQ5sB,cAAc,IAAIksB,OAAOirC,EAAYqD,MAAO,YAClEgC,EAASnC,GAAgBztC,EAASuqC,EAAYqF,QAC9ClC,EAAW1tC,EAAQ5sB,cAAc,IAAIksB,OAAOirC,EAAYmD,SAAU,WAClEmC,EAAWpC,GAAgBztC,EAASuqC,EAAYsF,UACpDtyD,EAAM6yD,QAAUJ,GAChB5yB,EAAKvmC,SAAWm5D,GAChBJ,EAAO/4D,SAAWm5D,GAClBtC,EAAS72D,SAAWm5D,GACpBH,EAASO,QAAUJ,GAEnBpC,EAAMwC,QAAU,SAAUrgE,GACxBigE,GAAuBjgE,GACvBogE,EAAYp/D,MAAQ68D,EAAM78D,OAG5B68D,EAAM/2D,SAAW,SAAU9G,GACzBigE,GAAuBjgE,GACvB69D,EAAM3vD,YAAYlN,MAAQ68D,EAAM78D,QAIhCs/D,GAAY,SAAmBt9D,GACjC,MAAyB,iBAAXA,EAAsBb,SAASkB,cAAcL,GAAUA,GAGnEu9D,GAAqB,SAA4B73B,GACnD,IAAIqyB,EAAQD,IACZC,EAAMtuD,aAAa,OAAQi8B,EAAOmtB,MAAQ,QAAU,UACpDkF,EAAMtuD,aAAa,YAAai8B,EAAOmtB,MAAQ,SAAW,aAErDntB,EAAOmtB,OACVkF,EAAMtuD,aAAa,aAAc,SAIjC+zD,GAAW,SAAkBC,GAC0B,QAArD7gE,OAAOwoD,iBAAiBqY,GAAeC,WACzC/J,GAAS+D,IAAgBF,EAAYmG,MAQrCj2D,GAAO,SAAcg+B,GAEvB,IAAIk4B,EAAsBb,KAG1B,GAAIJ,KACFrpD,EAAM,mDADR,CAKA,IAAIxM,EAAY3H,SAASC,cAAc,OACvC0H,EAAUrB,UAAY+xD,EAAY1wD,UAE9B82D,GACFjK,GAAS7sD,EAAW0wD,EAAY,kBAGlCwC,GAAalzD,EAAW81D,IACxB,IAAIa,EAAgBH,GAAU53B,EAAO1lC,QACrCy9D,EAAc1yD,YAAYjE,GAC1By2D,GAAmB73B,GACnB83B,GAASC,GACTN,OAGEU,GAAuB,SAA8BC,EAAO99D,GAE1D89D,aAAiBp3D,YACnB1G,EAAO+K,YAAY+yD,GACS,WAAnBxiB,EAAQwiB,GACjBC,GAAaD,EAAO99D,GACX89D,GACT9D,GAAah6D,EAAQ89D,IAIrBC,GAAe,SAAsBD,EAAO99D,GAE1C89D,EAAM3G,OACR6G,GAAiBh+D,EAAQ89D,GAEzB9D,GAAah6D,EAAQ89D,EAAMz6D,aAI3B26D,GAAmB,SAA0Bh+D,EAAQk3D,GAGvD,GAFAl3D,EAAOy2C,YAAc,GAEjB,KAAKygB,EACP,IAAK,IAAI/5D,EAAI,EAAIA,KAAK+5D,EAAO/5D,IAC3B6C,EAAO+K,YAAYmsD,EAAK/5D,GAAG8gE,WAAU,SAGvCj+D,EAAO+K,YAAYmsD,EAAK+G,WAAU,KAIlCC,GAAoB,WAItB,GAAIvB,KACF,OAAO,EAGT,IAAIwB,EAASh/D,SAASC,cAAc,OAChCg/D,EAAqB,CACvBC,gBAAiB,qBACjBC,WAAY,8BACZC,UAAW,gBAGb,IAAK,IAAIphE,KAAKihE,EACZ,GAAI3gE,OAAOY,UAAUC,eAAejB,KAAK+gE,EAAoBjhE,SAAiC,IAApBghE,EAAOh5D,MAAMhI,GACrF,OAAOihE,EAAmBjhE,GAI9B,OAAO,EArBe,GA0BpBqhE,GAAmB,WACrB,IAAIC,EAAYt/D,SAASC,cAAc,OACvCq/D,EAAUh5D,UAAY+xD,EAAY,qBAClCr4D,SAAS4O,KAAKhD,YAAY0zD,GAC1B,IAAIC,EAAiBD,EAAU95D,wBAAwBK,MAAQy5D,EAAUE,YAEzE,OADAx/D,SAAS4O,KAAK9C,YAAYwzD,GACnBC,GAGLE,GAAgB,SAAuB/lC,EAAU6M,GACnD,IAAI+yB,EAAUM,IACVnE,EAASiE,IACTgG,EAAgBrG,IAChBsG,EAAapG,IACbqG,EAAejG,IAEdpzB,EAAOs5B,mBAAsBt5B,EAAOu5B,gBAAmBv5B,EAAOw5B,kBACjEt3D,GAAK6wD,GAIP8B,GAAiB9B,EAAS/yB,EAAQ,WAElCy5B,GAAaN,EAAe,UAAWn5B,GACvCy5B,GAAaL,EAAY,OAAQp5B,GACjCy5B,GAAaJ,EAAc,SAAUr5B,GACrC05B,GAAqBP,EAAeC,EAAYC,EAAcr5B,GAE1DA,EAAO25B,iBACT5G,EAAQttD,aAAa4zD,EAAcnK,GACnC6D,EAAQttD,aAAa2zD,EAAYlK,GACjC6D,EAAQttD,aAAa0zD,EAAejK,IAItCoF,GAAapF,EAAQlvB,EAAO45B,YAC5B/E,GAAiB3F,EAAQlvB,EAAQ,WAGnC,SAAS05B,GAAqBP,EAAeC,EAAYC,EAAcr5B,GACrE,IAAKA,EAAO65B,eACV,OAAOrE,GAAY,CAAC2D,EAAeC,EAAYC,GAAevH,EAAYgI,QAG5E7L,GAAS,CAACkL,EAAeC,EAAYC,GAAevH,EAAYgI,QAE5D95B,EAAO+5B,qBACTZ,EAAc15D,MAAMsH,gBAAkBi5B,EAAO+5B,oBAG3C/5B,EAAOg6B,kBACTZ,EAAW35D,MAAMsH,gBAAkBi5B,EAAOg6B,iBAGxCh6B,EAAOi6B,oBACTZ,EAAa55D,MAAMsH,gBAAkBi5B,EAAOi6B,mBAIhD,SAASR,GAAa91D,EAAQu2D,EAAYl6B,GACxC81B,GAAOnyD,EAAQq8B,EAAO,OAAOnZ,OAAOqpC,EAAsBgK,GAAa,WAAY,gBACnF5F,GAAa3wD,EAAQq8B,EAAO,GAAGnZ,OAAOqzC,EAAY,gBAElDv2D,EAAOI,aAAa,aAAci8B,EAAO,GAAGnZ,OAAOqzC,EAAY,qBAG/Dv2D,EAAO5D,UAAY+xD,EAAYoI,GAC/BrF,GAAiBlxD,EAAQq8B,EAAQ,GAAGnZ,OAAOqzC,EAAY,WACvDjM,GAAStqD,EAAQq8B,EAAO,GAAGnZ,OAAOqzC,EAAY,iBAGhD,SAASC,GAAoB/4D,EAAWgwD,GACd,iBAAbA,EACThwD,EAAU3B,MAAMiH,WAAa0qD,EACnBA,GACVnD,GAAS,CAACx0D,SAAS4H,gBAAiB5H,SAAS4O,MAAOypD,EAAY,gBAIpE,SAASsI,GAAoBh5D,EAAWP,GAClCA,KAAYixD,EACd7D,GAAS7sD,EAAW0wD,EAAYjxD,KAEhCglD,EAAK,iEACLoI,GAAS7sD,EAAW0wD,EAAYuI,SAIpC,SAASC,GAAgBl5D,EAAWm5D,GAClC,GAAIA,GAAwB,iBAATA,EAAmB,CACpC,IAAIC,EAAY,QAAQ3zC,OAAO0zC,GAE3BC,KAAa1I,GACf7D,GAAS7sD,EAAW0wD,EAAY0I,KAKtC,IAAIC,GAAkB,SAAyBtnC,EAAU6M,GACvD,IAAI5+B,EAAY4wD,IAEhB,GAAK5wD,EAAL,CAIA+4D,GAAoB/4D,EAAW4+B,EAAOoxB,WAEjCpxB,EAAOoxB,UAAYpxB,EAAO06B,mBAC7B7U,EAAK,mFAGPuU,GAAoBh5D,EAAW4+B,EAAOn/B,UACtCy5D,GAAgBl5D,EAAW4+B,EAAOu6B,MAElC1F,GAAiBzzD,EAAW4+B,EAAQ,aAEpC,IAAI26B,EAAYlhE,SAAS4O,KAAKvO,aAAa,yBAEvC6gE,IACFv5D,EAAU2C,aAAa,kBAAmB42D,GAC1ClhE,SAAS4O,KAAKtO,gBAAgB,4BAa9B6gE,GAAe,CACjBC,QAAS,IAAIx3C,QACby3C,YAAa,IAAIz3C,QACjB03C,SAAU,IAAI13C,SAGZ23C,GAAa,CAAC,QAAS,OAAQ,QAAS,SAAU,QAAS,WAAY,YACvEC,GAAc,SAAqB9nC,EAAU6M,GAC/C,IAAIzY,EAAUkrC,IACVqI,EAAcF,GAAaE,YAAY5iE,IAAIi7B,GAC3C+nC,GAAYJ,GAAe96B,EAAOl7B,QAAUg2D,EAAYh2D,MAC5Dk2D,GAAW/6D,SAAQ,SAAU4kD,GAC3B,IAAIsW,EAAarJ,EAAYjN,GACzBuW,EAAiBpG,GAAgBztC,EAAS4zC,GAE9CE,GAAcxW,EAAW7kB,EAAOs7B,iBAEhCF,EAAer7D,UAAYo7D,EAEvBD,GACFh5D,GAAKk5D,MAILp7B,EAAOl7B,QACLo2D,GACFK,GAAUv7B,GAIZw7B,GAAex7B,KAIfu7B,GAAY,SAAmBv7B,GACjC,IAAKy7B,GAAgBz7B,EAAOl7B,OAC1B,OAAO8I,EAAM,qJAA4KiZ,OAAOmZ,EAAOl7B,MAAO,MAGhN,IAAIs2D,EAAiBM,GAAkB17B,EAAOl7B,OAC1CA,EAAQ22D,GAAgBz7B,EAAOl7B,OAAOs2D,EAAgBp7B,GAC1D79B,GAAK2C,GAELoD,YAAW,WACTmtD,GAAWvwD,OAIX62D,GAAmB,SAA0B72D,GAC/C,IAAK,IAAIrN,EAAI,EAAGA,EAAIqN,EAAM26B,WAAWtlC,OAAQ1C,IAAK,CAChD,IAAImkE,EAAW92D,EAAM26B,WAAWhoC,GAAG8S,MAEqB,IAAlD,CAAC,OAAQ,QAAS,SAAS3B,QAAQgzD,IACvC92D,EAAM/K,gBAAgB6hE,KAKxBP,GAAgB,SAAuBxW,EAAWyW,GACpD,IAAIx2D,EAAQiwD,GAAStC,IAAc5N,GAEnC,GAAK//C,EAML,IAAK,IAAIsqD,KAFTuM,GAAiB72D,GAEAw2D,EAGG,UAAdzW,GAAkC,gBAATuK,GAI7BtqD,EAAMf,aAAaqrD,EAAMkM,EAAgBlM,KAIzCoM,GAAiB,SAAwBx7B,GAC3C,IAAIo7B,EAAiBM,GAAkB17B,EAAOl7B,OAE1Ck7B,EAAO80B,aACT7G,GAASmN,EAAgBp7B,EAAO80B,YAAYhwD,QAI5C+2D,GAAsB,SAA6B/2D,EAAOk7B,GACvDl7B,EAAMg3D,cAAe97B,EAAO+7B,mBAC/Bj3D,EAAMg3D,YAAc97B,EAAO+7B,mBAI3BC,GAAgB,SAAuBl3D,EAAOm3D,EAAWj8B,GAC3D,GAAIA,EAAOk8B,WAAY,CACrBp3D,EAAMwuB,GAAKw+B,EAAYhtD,MACvB,IAAI2qB,EAAQh2B,SAASC,cAAc,SAC/ByiE,EAAarK,EAAY,eAC7BriC,EAAM1rB,aAAa,MAAOe,EAAMwuB,IAChC7D,EAAM1vB,UAAYo8D,EAClBlO,GAASx+B,EAAOuQ,EAAO80B,YAAYoH,YACnCzsC,EAAMuhB,UAAYhR,EAAOk8B,WACzBD,EAAUG,sBAAsB,cAAe3sC,KAI/CisC,GAAoB,SAA2B7W,GACjD,IAAIsW,EAAarJ,EAAYjN,GAAaiN,EAAYjN,GAAaiN,EAAYhtD,MAC/E,OAAOkwD,GAAgBvC,IAAc0I,IAGnCM,GAAkB,GAEtBA,GAAgBrO,KAAOqO,GAAgBY,MAAQZ,GAAgBv2B,SAAWu2B,GAAgB/rD,OAAS+rD,GAAgBa,IAAMb,GAAgBl2C,IAAM,SAAUzgB,EAAOk7B,GAU9J,MATiC,iBAAtBA,EAAOu8B,YAAwD,iBAAtBv8B,EAAOu8B,WACzDz3D,EAAMxM,MAAQ0nC,EAAOu8B,WACXtL,EAAUjxB,EAAOu8B,aAC3B1W,EAAK,iFAAwFh/B,OAAO+uB,EAAQ5V,EAAOu8B,YAAa,MAGlIP,GAAcl3D,EAAOA,EAAOk7B,GAC5B67B,GAAoB/2D,EAAOk7B,GAC3Bl7B,EAAMxH,KAAO0iC,EAAOl7B,MACbA,GAGT22D,GAAgB92B,KAAO,SAAU7/B,EAAOk7B,GAGtC,OAFAg8B,GAAcl3D,EAAOA,EAAOk7B,GAC5B67B,GAAoB/2D,EAAOk7B,GACpBl7B,GAGT22D,GAAgBtG,MAAQ,SAAUA,EAAOn1B,GACvC,IAAIw8B,EAAarH,EAAMx6D,cAAc,SACjC+8D,EAAcvC,EAAMx6D,cAAc,UAKtC,OAJA6hE,EAAWlkE,MAAQ0nC,EAAOu8B,WAC1BC,EAAWl/D,KAAO0iC,EAAOl7B,MACzB4yD,EAAYp/D,MAAQ0nC,EAAOu8B,WAC3BP,GAAcQ,EAAYrH,EAAOn1B,GAC1Bm1B,GAGTsG,GAAgBtE,OAAS,SAAUA,EAAQn3B,GAGzC,GAFAm3B,EAAOpmB,YAAc,GAEjB/Q,EAAO+7B,iBAAkB,CAC3B,IAAID,EAAcriE,SAASC,cAAc,UACzC46D,GAAawH,EAAa97B,EAAO+7B,kBACjCD,EAAYxjE,MAAQ,GACpBwjE,EAAYj2D,UAAW,EACvBi2D,EAAY7W,UAAW,EACvBkS,EAAO9xD,YAAYy2D,GAIrB,OADAE,GAAc7E,EAAQA,EAAQn3B,GACvBm3B,GAGTsE,GAAgBvG,MAAQ,SAAUA,GAEhC,OADAA,EAAMnkB,YAAc,GACbmkB,GAGTuG,GAAgBxG,SAAW,SAAUwH,EAAmBz8B,GACtD,IAAIi1B,EAAWF,GAAStC,IAAc,YACtCwC,EAAS38D,MAAQ,EACjB28D,EAAS3hC,GAAKw+B,EAAYmD,SAC1BA,EAAS/P,QAAU5uC,QAAQ0pB,EAAOu8B,YAClC,IAAI9sC,EAAQgtC,EAAkB9hE,cAAc,QAE5C,OADA25D,GAAa7kC,EAAOuQ,EAAO+7B,kBACpBU,GAGThB,GAAgBrE,SAAW,SAAUA,EAAUp3B,GAC7Co3B,EAAS9+D,MAAQ0nC,EAAOu8B,WACxBV,GAAoBzE,EAAUp3B,GAC9Bg8B,GAAc5E,EAAUA,EAAUp3B,GAElC,IAAI08B,EAAa,SAAoBt3D,GACnC,OAAO3I,SAASvF,OAAOwoD,iBAAiBt6C,GAAIu3D,aAAelgE,SAASvF,OAAOwoD,iBAAiBt6C,GAAIw3D,eAGlG,GAAI,qBAAsB1lE,OAAQ,CAEhC,IAAI2lE,EAAoBpgE,SAASvF,OAAOwoD,iBAAiB0S,KAAY9yD,OAYrE,IAAIw9D,kBAVa,WACf,IAAIC,EAAe3F,EAAS13D,YAAcg9D,EAAWtK,KAAcsK,EAAWjK,KAG5EL,IAAW3yD,MAAMH,MADfy9D,EAAeF,EACQ,GAAGh2C,OAAOk2C,EAAc,MAExB,QAIIC,QAAQ5F,EAAU,CACjD33B,YAAY,EACZw9B,gBAAiB,CAAC,WAItB,OAAO7F,GAGT,IAAI8F,GAAgB,SAAuB/pC,EAAU6M,GACnD,IAAIm9B,EAAgBzK,IACpBmC,GAAiBsI,EAAen9B,EAAQ,iBAEpCA,EAAO9Y,MACTixC,GAAqBn4B,EAAO9Y,KAAMi2C,GAClCh7D,GAAKg7D,EAAe,UACXn9B,EAAOotB,MAChB+P,EAAcpsB,YAAc/Q,EAAOotB,KACnCjrD,GAAKg7D,EAAe,UAEpBj7D,GAAKi7D,GAGPlC,GAAY9nC,EAAU6M,GAEtB60B,GAAiBpC,IAAczyB,EAAQ,YAGrCo9B,GAAe,SAAsBjqC,EAAU6M,GACjD,IAAIyzB,EAASD,KACbsC,GAAOrC,EAAQzzB,EAAOyzB,QAElBzzB,EAAOyzB,QACT0E,GAAqBn4B,EAAOyzB,OAAQA,GAItCoB,GAAiBpB,EAAQzzB,EAAQ,WAG/Bq9B,GAAoB,SAA2BlqC,EAAU6M,GAC3D,IAAIs9B,EAAc3J,KAClBW,GAAagJ,EAAat9B,EAAOu9B,iBAEjC1I,GAAiByI,EAAat9B,EAAQ,eACtC81B,GAAOwH,EAAat9B,EAAOw9B,iBAC3BF,EAAYv5D,aAAa,aAAci8B,EAAOy9B,uBAG5CC,GAAa,SAAoBvqC,EAAU6M,GAC7C,IAAI86B,EAAcF,GAAaE,YAAY5iE,IAAIi7B,GAC3C66B,EAAOsE,IAEX,OAAIwI,GAAe96B,EAAOguB,OAAS8M,EAAY9M,MAE7C2P,GAAW3P,EAAMhuB,QACjB49B,GAAY5P,EAAMhuB,IAIfA,EAAOguB,MAAShuB,EAAO69B,SAIxB79B,EAAOguB,OAAyD,IAAjDj2D,OAAOmC,KAAK63D,GAAWnpD,QAAQo3B,EAAOguB,OACvDpgD,EAAM,oFAA+FiZ,OAAOmZ,EAAOguB,KAAM,MAClH9rD,GAAK8rD,KAGd7rD,GAAK6rD,GAEL2P,GAAW3P,EAAMhuB,GACjB49B,GAAY5P,EAAMhuB,QAElBiuB,GAASD,EAAMhuB,EAAO40B,UAAU5G,OAbvB9rD,GAAK8rD,IAgBZ4P,GAAc,SAAqB5P,EAAMhuB,GAC3C,IAAK,IAAI89B,KAAY/L,EACf/xB,EAAOguB,OAAS8P,GAClBtI,GAAYxH,EAAM+D,EAAU+L,IAIhC7P,GAASD,EAAM+D,EAAU/xB,EAAOguB,OAEhC7pD,GAAS6pD,EAAMhuB,GAEf+9B,KAEAlJ,GAAiB7G,EAAMhuB,EAAQ,SAI7B+9B,GAAkC,WAKpC,IAJA,IAAI1L,EAAQD,IACR4L,EAAuB9mE,OAAOwoD,iBAAiB2S,GAAOkE,iBAAiB,oBACvE0H,EAAmB5L,EAAMzf,iBAAiB,4DAErCn7C,EAAI,EAAGA,EAAIwmE,EAAiB9jE,OAAQ1C,IAC3CwmE,EAAiBxmE,GAAGgI,MAAMsH,gBAAkBi3D,GAI5CL,GAAa,SAAoB3P,EAAMhuB,GACzCguB,EAAKjd,YAAc,GAEf/Q,EAAO69B,SACTvJ,GAAatG,EAAMkQ,GAAYl+B,EAAO69B,WACb,YAAhB79B,EAAOguB,KAChBsG,GAAatG,EAAM,yTACM,UAAhBhuB,EAAOguB,KAChBsG,GAAatG,EAAM,yKAOnBsG,GAAatG,EAAMkQ,GALG,CACpBvV,SAAU,IACVwV,QAAS,IACThtB,KAAM,KAEuCnR,EAAOguB,SAItD7pD,GAAW,SAAkB6pD,EAAMhuB,GACrC,GAAKA,EAAOo+B,UAAZ,CAIApQ,EAAKvuD,MAAMkH,MAAQq5B,EAAOo+B,UAC1BpQ,EAAKvuD,MAAM4+D,YAAcr+B,EAAOo+B,UAEhC,IAAK,IAAI1jB,EAAK,EAAGC,EAAO,CAAC,0BAA2B,2BAA4B,0BAA2B,4BAA6BD,EAAKC,EAAKxgD,OAAQugD,IAAM,CAC9J,IAAI4jB,EAAM3jB,EAAKD,GACfib,GAAS3H,EAAMsQ,EAAK,kBAAmBt+B,EAAOo+B,WAGhDzI,GAAS3H,EAAM,sBAAuB,cAAehuB,EAAOo+B,aAG1DF,GAAc,SAAqB32C,GACrC,MAAO,eAAgBV,OAAOirC,EAAY,gBAAiB,MAAOjrC,OAAOU,EAAS,WAGhFg3C,GAAc,SAAqBprC,EAAU6M,GAC/C,IAAIsrB,EAAQqH,IAEZ,IAAK3yB,EAAOmf,SACV,OAAOj9C,GAAKopD,GAGdnpD,GAAKmpD,EAAO,IAEZA,EAAMvnD,aAAa,MAAOi8B,EAAOmf,UACjCmM,EAAMvnD,aAAa,MAAOi8B,EAAOw+B,UAEjC/I,GAAoBnK,EAAO,QAAStrB,EAAOy+B,YAC3ChJ,GAAoBnK,EAAO,SAAUtrB,EAAO0+B,aAE5CpT,EAAMvrD,UAAY+xD,EAAYxG,MAC9BuJ,GAAiBvJ,EAAOtrB,EAAQ,UAG9B2+B,GAAe,GAKfC,GAAQ,SAAeC,GACzBrO,EAAqB,eAAgB,eACrC,IAAIgH,EAAOz1D,KACX48D,GAAeE,EAEf,IAAIC,EAAkB,SAAyB9N,EAAS14D,GACtDqmE,GAAe,GACf3N,EAAQ14D,IAGNymE,EAAc,GAClB,OAAO,IAAIhO,SAAQ,SAAUC,IAC3B,SAAUt9C,EAAKjc,EAAGkpC,GACZlpC,EAAIknE,GAAaxkE,QACnBV,SAAS4O,KAAKtE,aAAa,wBAAyBtM,GACpD+/D,EAAKwH,KAAKL,GAAalnE,IAAIwnE,MAAK,SAAU13D,QACZ,IAAjBA,EAAOjP,OAChBymE,EAAY9kE,KAAKsN,EAAOjP,OACxBob,EAAKjc,EAAI,EAAGkpC,IAEZm+B,EAAgB9N,EAAS,CACvBkO,QAAS33D,EAAO23D,cAKtBJ,EAAgB9N,EAAS,CACvB14D,MAAOymE,IAfb,CAkBG,OAOHI,GAAe,WACjB,OAAOnN,KAAkBA,IAAel4D,aAAa,oBAMnDslE,GAAkB,SAAyB1rD,EAAMvJ,GACnD,OAAIA,GAASA,EAAQw0D,GAAaxkE,OACzBwkE,GAAa91D,OAAOsB,EAAO,EAAGuJ,GAGhCirD,GAAa1kE,KAAKyZ,IAMvB2rD,GAAkB,SAAyBl1D,QACV,IAAxBw0D,GAAax0D,IACtBw0D,GAAa91D,OAAOsB,EAAO,IAI3Bm1D,GAAoB,SAA2B5rD,GACjD,IAAI6rD,EAAS9lE,SAASC,cAAc,MAGpC,OAFAu0D,GAASsR,EAAQzN,EAAY,kBAC7BwC,GAAaiL,EAAQ7rD,GACd6rD,GAGLC,GAAoB,SAA2Bx/B,GACjD,IAAIy/B,EAAShmE,SAASC,cAAc,MAOpC,OANAu0D,GAASwR,EAAQ3N,EAAY,uBAEzB9xB,EAAO0/B,wBACTD,EAAOhgE,MAAMH,MAAQ0gC,EAAO0/B,uBAGvBD,GAGLE,GAAsB,SAA6BxsC,EAAU6M,GAC/D,IAAI4/B,EAAyBhN,IAE7B,IAAK5yB,EAAO6/B,eAAiD,IAAhC7/B,EAAO6/B,cAAc1lE,OAChD,OAAO+H,GAAK09D,GAGdz9D,GAAKy9D,GACLA,EAAuB7uB,YAAc,GACrC,IAAI+uB,EAAsBrjE,cAAwCuN,IAA/Bg2B,EAAO8/B,oBAAoCX,KAAiBn/B,EAAO8/B,qBAElGA,GAAuB9/B,EAAO6/B,cAAc1lE,QAC9C0rD,EAAK,yIAGP7lB,EAAO6/B,cAAc5/D,SAAQ,SAAUyT,EAAMvJ,GAC3C,IAAIo1D,EAASD,GAAkB5rD,GAO/B,GANAksD,EAAuBv6D,YAAYk6D,GAE/Bp1D,IAAU21D,GACZ7R,GAASsR,EAAQzN,EAAY,yBAG3B3nD,IAAU61B,EAAO6/B,cAAc1lE,OAAS,EAAG,CAC7C,IAAIslE,EAASD,GAAkBx/B,GAC/B4/B,EAAuBv6D,YAAYo6D,QAKrCM,GAAc,SAAqB5sC,EAAU6M,GAC/C,IAAIwyB,EAAQD,IACZuD,GAAOtD,EAAOxyB,EAAOwyB,OAASxyB,EAAOggC,UAAW,SAE5ChgC,EAAOwyB,OACT2F,GAAqBn4B,EAAOwyB,MAAOA,GAGjCxyB,EAAOggC,YACTxN,EAAMxhB,UAAYhR,EAAOggC,WAI3BnL,GAAiBrC,EAAOxyB,EAAQ,UAG9BigC,GAAe,SAAsB9sC,EAAU6M,GACjD,IAAIuzB,EAASD,KAEbuB,GAAiBtB,EAAQvzB,EAAQ,UAEjC2/B,GAAoBxsC,EAAU6M,GAE9B09B,GAAWvqC,EAAU6M,GAErBu+B,GAAYprC,EAAU6M,GAEtB+/B,GAAY5sC,EAAU6M,GAEtBq9B,GAAkBlqC,EAAU6M,IAG1BkgC,GAAc,SAAqB/sC,EAAU6M,GAC/C,IAAI5+B,EAAY4wD,IACZK,EAAQD,IAERpyB,EAAOmtB,OAETsI,GAAoBr0D,EAAW,QAAS4+B,EAAO1gC,OAC/C+yD,EAAM5yD,MAAMH,MAAQ,QAEpBm2D,GAAoBpD,EAAO,QAASryB,EAAO1gC,OAI7Cm2D,GAAoBpD,EAAO,UAAWryB,EAAOj9B,SAEzCi9B,EAAOt5B,aACT2rD,EAAM5yD,MAAMiH,WAAas5B,EAAOt5B,YAGlCxE,GAAK2wD,KAELsN,GAAW9N,EAAOryB,IAGhBmgC,GAAa,SAAoB9N,EAAOryB,GAE1CqyB,EAAMtyD,UAAY,GAAG8mB,OAAOirC,EAAYO,MAAO,KAAKxrC,OAAOmtC,GAAU3B,GAASryB,EAAO40B,UAAUvC,MAAQ,IAEnGryB,EAAOmtB,OACTc,GAAS,CAACx0D,SAAS4H,gBAAiB5H,SAAS4O,MAAOypD,EAAY,gBAChE7D,GAASoE,EAAOP,EAAY3E,QAE5Bc,GAASoE,EAAOP,EAAYsO,OAI9BvL,GAAiBxC,EAAOryB,EAAQ,SAEE,iBAAvBA,EAAO80B,aAChB7G,GAASoE,EAAOryB,EAAO80B,aAIrB90B,EAAOguB,MACTC,GAASoE,EAAOP,EAAY,QAAQjrC,OAAOmZ,EAAOguB,SAIlDqS,GAAS,SAAgBltC,EAAU6M,GACrCkgC,GAAY/sC,EAAU6M,GACtBy6B,GAAgBtnC,EAAU6M,GAC1BigC,GAAa9sC,EAAU6M,GACvBk9B,GAAc/pC,EAAU6M,GACxBk5B,GAAc/lC,EAAU6M,GACxBo9B,GAAajqC,EAAU6M,GAES,mBAArBA,EAAOsgC,UAChBtgC,EAAOsgC,UAAUlO,KACmB,mBAApBpyB,EAAOugC,UACvBvgC,EAAOugC,SAASnO,MAQhBoO,GAAc,WAChB,OAAOxM,GAAU5B,MAMfqO,GAAe,WACjB,OAAO3N,KAAsBA,IAAmB9pD,SAM9C03D,GAAY,WACd,OAAO1N,KAAmBA,IAAgBhqD,SAMxC23D,GAAc,WAChB,OAAOvN,KAAqBA,IAAkBpqD,SAGhD,SAASg2D,KAGP,IAFA,IAAIxH,EAAOz1D,KAEFupC,EAAOhyC,UAAUa,OAAQ2mC,EAAO,IAAI7nC,MAAMqyC,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EzK,EAAKyK,GAAQjyC,UAAUiyC,GAGzB,OAAOkkB,EAAW+H,EAAM12B,GAqB1B,SAAS8/B,GAAMC,GAsBb,OArB6B,SAAUruB,GACrC4E,EAAU0pB,EAAWtuB,GAErB,IAAI6E,EAASjB,EAAa0qB,GAE1B,SAASA,IAGP,OAFA91B,EAAgBjpC,KAAM++D,GAEfzpB,EAAOthC,MAAMhU,KAAMzI,WAU5B,OAPAi2D,EAAauR,EAAW,CAAC,CACvBxiE,IAAK,QACLhG,MAAO,SAAe0nC,EAAQ+gC,GAC5B,OAAOlR,EAAKhZ,EAAgBiqB,EAAUnoE,WAAY,QAASoJ,MAAMpK,KAAKoK,KAAMi+B,EAAQwvB,EAAS,GAAIqR,EAAaE,QAI3GD,EAlBoB,CAmB3B/+D,MAUJ,IAAIi/D,GAAc,SAAqBC,GACrC,IAAI5O,EAAQD,IAEPC,GACHmF,GAAKwH,OAGP3M,EAAQD,IACR,IAAIW,EAAUM,IACVnE,EAASiE,KAER8N,GAAmBjN,GAAUlB,OAChCmO,EAAkBnO,KAGpB3wD,GAAK4wD,GAEDkO,IACF/+D,GAAK++D,GACL/R,EAAOnrD,aAAa,yBAA0Bk9D,EAAgBlhE,YAGhEmvD,EAAOvpD,WAAWF,aAAaypD,EAAQ+R,GACvChT,GAAS,CAACoE,EAAOU,GAAUjB,EAAYoP,SACvC/+D,GAAK+sD,GACLmD,EAAMtuD,aAAa,gBAAgB,GACnCsuD,EAAMtuD,aAAa,aAAa,GAChCsuD,EAAMl3D,SAGJgmE,GAAwB,IAExBC,GAAc,GAEdC,GAA6B,WAC3BD,GAAYE,uBAAyBF,GAAYE,sBAAsBnmE,OACzEimE,GAAYE,sBAAsBnmE,QAClCimE,GAAYE,sBAAwB,MAC3B7nE,SAAS4O,MAClB5O,SAAS4O,KAAKlN,SAKdomE,GAAuB,SAA8BC,GACvD,OAAO,IAAIzQ,SAAQ,SAAUC,GAC3B,IAAKwQ,EACH,OAAOxQ,IAGT,IAAIryD,EAAIzH,OAAOuqE,QACXtlE,EAAIjF,OAAOwqE,QACfN,GAAYO,oBAAsBz5D,YAAW,WAC3Cm5D,KACArQ,MACCmQ,SAEc,IAANxiE,QAAkC,IAANxC,GAErCjF,OAAO0qE,SAASjjE,EAAGxC,OAUrB0lE,GAAe,WACjB,OAAOT,GAAY70B,SAAW60B,GAAY70B,QAAQs1B,gBAOhDC,GAAY,WACd,GAAIV,GAAY70B,QAEd,OADAsqB,KACOuK,GAAY70B,QAAQw1B,QAQ3BC,GAAc,WAChB,GAAIZ,GAAY70B,QAAS,CACvB,IAAI01B,EAAYb,GAAY70B,QAAQhsC,QAEpC,OADAo2D,GAAwBsL,GACjBA,IAQPC,GAAc,WAChB,IAAI5Q,EAAQ8P,GAAY70B,QACxB,OAAO+kB,IAAUA,EAAM6Q,QAAUL,KAAcE,OAO7CI,GAAgB,SAAuB5qE,GACzC,GAAI4pE,GAAY70B,QAAS,CACvB,IAAI01B,EAAYb,GAAY70B,QAAQ81B,SAAS7qE,GAE7C,OADAm/D,GAAwBsL,GAAW,GAC5BA,IASPK,GAAiB,WACnB,OAAOlB,GAAY70B,SAAW60B,GAAY70B,QAAQg2B,aAGhDC,IAAyB,EACzBC,GAAgB,GACpB,SAASC,KAEPD,GADWnpE,UAAUa,OAAS,QAAsB6P,IAAjB1Q,UAAU,GAAmBA,UAAU,GAAK,sBACzDyI,KAEjBygE,KACH/oE,SAAS4O,KAAKorC,iBAAiB,QAASkvB,IACxCH,IAAyB,GAI7B,IAAIG,GAAoB,SAA2Bx3B,GAGjD,IAAK,IAAI/lC,EAAK+lC,EAAM7wC,OAAQ8K,GAAMA,IAAO3L,SAAU2L,EAAKA,EAAGO,WACzD,IAAK,IAAIypD,KAAQqT,GAAe,CAC9B,IAAIG,EAAWx9D,EAAGtL,aAAas1D,GAE/B,GAAIwT,EAIF,YAHAH,GAAcrT,GAAM4P,KAAK,CACvB4D,SAAUA,MAQhBC,GAAgB,CAClBrQ,MAAO,GACPwN,UAAW,GACX5S,KAAM,GACNlmC,KAAM,GACNusC,OAAQ,GACRzF,UAAMhkD,EACNo0D,eAAWp0D,EACX6zD,cAAU7zD,EACV44D,cAAU54D,EACVmjD,OAAO,EACP0L,WAAW,EACXjE,UAAW,CACTvC,MAAO,aACPjB,SAAU,sBACVpD,KAAM,mBAER8U,UAAW,CACTzQ,MAAO,aACPjB,SAAU,sBACVpD,KAAM,mBAER8G,YAAa,GACbx6D,OAAQ,OACR82D,UAAU,EACV2R,YAAY,EACZrI,mBAAmB,EACnBsI,gBAAgB,EAChBC,eAAe,EACfC,wBAAwB,EACxBC,wBAAwB,EACxB7J,mBAAmB,EACnBC,gBAAgB,EAChBC,kBAAkB,EAClB4J,gBAAYp5D,EACZq5D,aAASr5D,EACTs5D,kBAAmB,KACnBC,uBAAwB,GACxBxJ,wBAAoB/vD,EACpBw5D,eAAgB,KAChBC,oBAAqB,GACrBzJ,qBAAiBhwD,EACjB05D,iBAAkB,SAClBC,sBAAuB,GACvB1J,uBAAmBjwD,EACnB6vD,gBAAgB,EAChBF,gBAAgB,EAChBiK,cAAc,EACdC,WAAW,EACXC,aAAa,EACbtC,aAAa,EACbhE,iBAAiB,EACjBD,gBAAiB,UACjBE,qBAAsB,oBACtB7D,WAAY,GACZmK,qBAAqB,EACrBC,kBAAkB,EAClB7kB,cAAUn1C,EACVy0D,gBAAYz0D,EACZ00D,iBAAa10D,EACbw0D,SAAU,GACVlN,WAAOtnD,EACP4sD,kBAAkB,EAClBt3D,WAAO0K,EACPjH,aAASiH,EACTtD,gBAAYsD,EACZlF,WAAOkF,EACP+xD,iBAAkB,GAClBG,WAAY,GACZK,WAAY,GACZ0H,aAAc,GACdC,eAAe,EACf5I,gBAAiB,GACjB6I,oBAAgBn6D,EAChBo6D,wBAAwB,EACxBC,uBAAmBr6D,EACnBuwD,MAAM,EACN15D,SAAU,SACVg/D,cAAe,GACfC,yBAAqB91D,EACrB01D,2BAAuB11D,EACvBs6D,kBAAct6D,EACdu6D,YAAQv6D,EACRw6D,cAAUx6D,EACVy6D,aAASz6D,EACTu2D,cAAUv2D,EACVs2D,eAAWt2D,EACX06D,aAAS16D,EACT26D,kBAAc36D,EACd46D,eAAW56D,EACX66D,cAAU76D,EACV86D,eAAW96D,EACX+6D,gBAAY/6D,EACZg7D,kBAAkB,GAEhBC,GAAkB,CAAC,iBAAkB,oBAAqB,aAAc,iBAAkB,wBAAyB,oBAAqB,mBAAoB,uBAAwB,kBAAmB,yBAA0B,qBAAsB,oBAAqB,sBAAuB,cAAe,sBAAuB,kBAAmB,iBAAkB,WAAY,aAAc,SAAU,YAAa,OAAQ,OAAQ,YAAa,WAAY,WAAY,cAAe,WAAY,aAAc,eAAgB,UAAW,YAAa,gBAAiB,cAAe,iBAAkB,mBAAoB,kBAAmB,oBAAqB,iBAAkB,OAAQ,QAAS,YAAa,aACnsBC,GAAmB,CACrBrM,UAAW,4BACXyL,aAAc,WACdC,OAAQ,UACRhE,SAAU,YACVmE,QAAS,YACTC,aAAc,WACdG,UAAW,cAETK,GAA0B,CAAC,oBAAqB,gBAAiB,WAAY,eAAgB,YAAa,cAAe,cAAe,aAAc,0BAMtJC,GAAmB,SAA0Bn4B,GAC/C,OAAOl1C,OAAOY,UAAUC,eAAejB,KAAKkrE,GAAe51B,IAOzDo4B,GAAuB,SAA8Bp4B,GACvD,OAA+C,IAAxCg4B,GAAgBr8D,QAAQqkC,IAO7Bq4B,GAAwB,SAA+Br4B,GACzD,OAAOi4B,GAAiBj4B,IAGtBs4B,GAAsB,SAA6BnN,GAChDgN,GAAiBhN,IACpBvS,EAAK,sBAAuBh/B,OAAOuxC,EAAO,OAI1CoN,GAA2B,SAAkCpN,IACf,IAA5C+M,GAAwBv8D,QAAQwvD,IAClCvS,EAAK,kBAAmBh/B,OAAOuxC,EAAO,mCAItCqN,GAA2B,SAAkCrN,GAC3DkN,GAAsBlN,IACxB5H,EAAqB4H,EAAOkN,GAAsBlN,KAUlDsN,GAAwB,SAA+B1lC,GACzD,IAAK,IAAIo4B,KAASp4B,EAChBulC,GAAoBnN,GAEhBp4B,EAAOmtB,OACTqY,GAAyBpN,GAG3BqN,GAAyBrN,IAMzBuN,GAA6B5tE,OAAOo5D,OAAO,CAC7CiU,iBAAkBA,GAClBC,qBAAsBA,GACtBC,sBAAuBA,GACvB3T,aAAcA,EACdqC,UAAWwM,GACXC,aAAcA,GACdC,UAAWA,GACXC,YAAaA,GACb3O,aAAcA,EACdI,SAAUA,EACVG,SAAUA,EACVE,WAAYA,EACZC,iBAAkBA,EAClBC,SAAUA,EACVL,QAASA,EACTY,cAAeA,EACfS,eAAgBA,GAChBN,WAAYA,EACZP,iBAAkBA,EAClBE,cAAeA,EACfI,gBAAiBA,EACjBD,UAAWA,EACXG,UAAWA,GACXE,UAAWA,GACXE,oBAAqBA,GACrBG,qBAAsBA,GACtBhB,qBAAsBA,EACtBsB,UAAWA,GACX6K,KAAMA,GACN4B,MAAOA,GACPhC,MAAOA,GACPO,aAAcA,GACdC,gBAAiBA,GACjBC,gBAAiBA,GACjB2B,YAAaA,GACb4E,cAAe5E,GACfa,aAAcA,GACdC,UAAWA,GACXE,YAAaA,GACbE,YAAaA,GACbE,cAAeA,GACfE,eAAgBA,GAChBI,iBAAkBA,KAOpB,SAASmD,KAIP,GAFkBjL,GAAaE,YAAY5iE,IAAI6J,MAE/C,CAIA,IAAIg5D,EAAWH,GAAaG,SAAS7iE,IAAI6J,MACzCG,GAAK64D,EAAS7L,QACd,IAAI+R,EAAkBlG,EAAS1I,MAAMyT,uBAAuB/K,EAAS7L,OAAOp1D,aAAa,2BAErFmnE,EAAgB9mE,OAClBgI,GAAK8+D,EAAgB,GAAI,gBAChBjL,MACT9zD,GAAK64D,EAAShI,SAGhByC,GAAY,CAACuF,EAAS1I,MAAO0I,EAAShI,SAAUjB,EAAYoP,SAC5DnG,EAAS1I,MAAMt4D,gBAAgB,aAC/BghE,EAAS1I,MAAMt4D,gBAAgB,gBAC/BghE,EAAS5B,cAActzD,UAAW,EAClCk1D,EAAS3B,WAAWvzD,UAAW,EAC/Bk1D,EAAS1B,aAAaxzD,UAAW,GAGnC,SAASkgE,GAAW5yC,GAClB,IAAI2nC,EAAcF,GAAaE,YAAY5iE,IAAIi7B,GAAYpxB,MACvDg5D,EAAWH,GAAaG,SAAS7iE,IAAIi7B,GAAYpxB,MAErD,OAAKg5D,EAIEhG,GAASgG,EAASxzC,QAASuzC,EAAYh2D,OAHrC,KAMX,IAAIkhE,GAAe,WAEkB,OAA/B5R,GAAOC,qBAKP56D,SAAS4O,KAAK6tD,aAAeh/D,OAAOoR,cAEtC8rD,GAAOC,oBAAsB53D,SAASvF,OAAOwoD,iBAAiBjmD,SAAS4O,MAAMkuD,iBAAiB,kBAC9F98D,SAAS4O,KAAK5I,MAAMm9D,aAAe,GAAG/1C,OAAOutC,GAAOC,oBAAsByE,KAAoB,QAG9FmN,GAAgB,WACiB,OAA/B7R,GAAOC,sBACT56D,SAAS4O,KAAK5I,MAAMm9D,aAAe,GAAG/1C,OAAOutC,GAAOC,oBAAqB,MACzED,GAAOC,oBAAsB,OAM7B6R,GAAS,WAGX,IAFU,mBAAmB/oE,KAAKwqD,UAAUzqC,aAAehmB,OAAOivE,UAAmC,aAAvBxe,UAAUye,UAA2Bze,UAAU0e,eAAiB,KAElI3R,GAASj7D,SAAS4O,KAAMypD,EAAYwU,QAAS,CACvD,IAAI/0D,EAAS9X,SAAS4O,KAAKk+D,UAC3B9sE,SAAS4O,KAAK5I,MAAMF,IAAM,GAAGsnB,QAAiB,EAAVtV,EAAa,MACjD08C,GAASx0D,SAAS4O,KAAMypD,EAAYwU,QACpCE,KACAC,OAIAA,GAAgC,WAGlC,IAFc9e,UAAUzqC,UAAU3gB,MAAM,6CAE5B,CACV,IAAImqE,EAAoB,GAEpBtU,IAAW8D,aAAeh/D,OAAOoR,YAAco+D,IACjD1U,IAAevyD,MAAMknE,cAAgB,GAAG9/C,OAAO6/C,EAAmB,SAKpEF,GAAiB,WAEnB,IACII,EADAxlE,EAAY4wD,IAGhB5wD,EAAUylE,aAAe,SAAUvvE,GACjCsvE,EAAmBE,GAAuBxvE,IAG5C8J,EAAU2lE,YAAc,SAAUzvE,GAC5BsvE,IACFtvE,EAAE+D,iBACF/D,EAAE6I,qBAKJ2mE,GAAyB,SAAgC37B,GAC3D,IAAI7wC,EAAS6wC,EAAM7wC,OACf8G,EAAY4wD,IAEhB,QAAIgV,GAAS77B,IAAU87B,GAAO97B,IAI1B7wC,IAAW8G,IAIV60D,GAAa70D,IAAiC,UAAnB9G,EAAOi+C,SACrC0d,GAAaxD,MACfA,IAAattD,SAAS7K,MAOpB0sE,GAAW,SAAkB77B,GAE/B,OAAOA,EAAMjsC,SAAWisC,EAAMjsC,QAAQ/E,QAAyC,WAA/BgxC,EAAMjsC,QAAQ,GAAGgoE,WAG/DD,GAAS,SAAgB97B,GAE3B,OAAOA,EAAMjsC,SAAWisC,EAAMjsC,QAAQ/E,OAAS,GAG7CgtE,GAAa,WACf,GAAIzS,GAASj7D,SAAS4O,KAAMypD,EAAYwU,QAAS,CAC/C,IAAI/0D,EAAS9U,SAAShD,SAAS4O,KAAK5I,MAAMF,IAAK,IAC/Ci2D,GAAY/7D,SAAS4O,KAAMypD,EAAYwU,QACvC7sE,SAAS4O,KAAK5I,MAAMF,IAAM,GAC1B9F,SAAS4O,KAAKk+D,WAAsB,EAAVh1D,IAM1B61D,GAAS,WACX,QAASlwE,OAAOmwE,wBAA0B5tE,SAAS6tE,cAIjDC,GAAwB,WAC1B,IAAInmE,EAAY4wD,IACZK,EAAQD,IACZhxD,EAAU3B,MAAMi2D,eAAe,eAE3BrD,EAAMmV,UAAY,IACpBpmE,EAAU3B,MAAMgoE,WAAa,eAI7BC,GAAQ,WACY,oBAAXxwE,QAA0BkwE,OACnCG,KACArwE,OAAOu8C,iBAAiB,SAAU8zB,MAGlCI,GAAY,WACQ,oBAAXzwE,QAA0BkwE,MACnClwE,OAAO4jD,oBAAoB,SAAUysB,KAQrCK,GAAgB,WACCxX,EAAQ32D,SAAS4O,KAAKrO,UAC5BiG,SAAQ,SAAUmF,GACzBA,IAAO4sD,KAAkB7sD,GAASC,EAAI4sD,OAItC5sD,EAAG0/C,aAAa,gBAClB1/C,EAAGrB,aAAa,4BAA6BqB,EAAGtL,aAAa,gBAG/DsL,EAAGrB,aAAa,cAAe,aAG/B8jE,GAAkB,WACDzX,EAAQ32D,SAAS4O,KAAKrO,UAC5BiG,SAAQ,SAAUmF,GACzBA,EAAG0/C,aAAa,8BAClB1/C,EAAGrB,aAAa,cAAeqB,EAAGtL,aAAa,8BAC/CsL,EAAGrL,gBAAgB,8BAEnBqL,EAAGrL,gBAAgB,mBAcrB+tE,GAAiB,CACnBC,mBAAoB,IAAI1kD,SAO1B,SAAS2kD,GAAyB70C,EAAU/xB,EAAWogE,EAAaqD,GAC9D3Q,KACF+T,GAA0B90C,EAAU0xC,IAEpCtD,GAAqBC,GAAavC,MAAK,WACrC,OAAOgJ,GAA0B90C,EAAU0xC,MAE7CzD,GAAY8G,cAAcptB,oBAAoB,UAAWsmB,GAAY+G,eAAgB,CACnF/uE,QAASgoE,GAAY+B,yBAEvB/B,GAAYgH,qBAAsB,GAGhChnE,EAAUuE,aAAelM,SAAS4O,KAAKvO,aAAa,0BACtDsH,EAAUuE,WAAWJ,YAAYnE,GAG/B6yD,OACFgS,KACAkB,KACAQ,KACAE,MAGFQ,KAGF,SAASA,KACP7S,GAAY,CAAC/7D,SAAS4H,gBAAiB5H,SAAS4O,MAAO,CAACypD,EAAYwW,MAAOxW,EAAY,eAAgBA,EAAY,eAAgBA,EAAY,iBAGjJ,SAAS/pC,GAAMwgD,GACb,IAAIlW,EAAQD,IAEZ,GAAKC,EAAL,CAIAkW,EAAeC,GAAoBD,GACnC,IAAIzN,EAAcF,GAAaE,YAAY5iE,IAAI6J,MAE/C,GAAK+4D,IAAepG,GAASrC,EAAOyI,EAAYgI,UAAUzQ,OAA1D,CAIA,IAAI0V,EAAqBD,GAAeC,mBAAmB7vE,IAAI6J,MAC/DyzD,GAAYnD,EAAOyI,EAAYlG,UAAUvC,OACzCpE,GAASoE,EAAOyI,EAAYgI,UAAUzQ,OACtC,IAAIjB,EAAWY,IACfwD,GAAYpE,EAAU0J,EAAYlG,UAAUxD,UAC5CnD,GAASmD,EAAU0J,EAAYgI,UAAU1R,UACzCqX,GAAqB1mE,KAAMswD,EAAOyI,GAElCiN,EAAmBQ,KAGrB,IAAIC,GAAsB,SAA6BD,GAErD,YAA4B,IAAjBA,EACF,CACLG,aAAa,EACbC,UAAU,EACVC,aAAa,GAIVpZ,EAAS,CACdkZ,aAAa,EACbC,UAAU,EACVC,aAAa,GACZL,IAGDE,GAAuB,SAA8Bt1C,EAAUk/B,EAAOyI,GACxE,IAAI15D,EAAY4wD,IAEZ6W,EAAuBrQ,IAAqBpC,GAAgB/D,GAC5DqS,EAAU5J,EAAY4J,QACtBC,EAAe7J,EAAY6J,aAC3BC,EAAY9J,EAAY8J,UACxBC,EAAW/J,EAAY+J,SAC3BiE,GAAYzW,EAAOuS,EAAWF,GAE1BmE,EACFE,GAAa51C,EAAUk/B,EAAOjxD,EAAW05D,EAAY0G,YAAaqD,GAAYF,GAG9EqD,GAAyB70C,EAAU/xB,EAAW05D,EAAY0G,YAAaqD,GAAYF,IAInFmE,GAAc,SAAqBzW,EAAOuS,EAAWF,GACrC,OAAdE,GAA2C,mBAAdA,EAC/BA,EAAUvS,GACW,OAAZqS,GAAuC,mBAAZA,GACpCA,EAAQrS,IAIR0W,GAAe,SAAsB51C,EAAUk/B,EAAOjxD,EAAWogE,EAAaqD,GAChFzD,GAAY4H,+BAAiChB,GAAyBvvE,KAAK,KAAM06B,EAAU/xB,EAAWogE,EAAaqD,GACnHxS,EAAM5e,iBAAiB+kB,IAAmB,SAAUlhE,GAC9CA,EAAEgD,SAAW+3D,IACf+O,GAAY4H,wCACL5H,GAAY4H,oCAKrBf,GAA4B,SAAmC90C,EAAU0xC,GAC3E38D,YAAW,WACe,mBAAb28D,GACTA,IAGF1xC,EAAS81C,eAIb,SAASC,GAAmB/1C,EAAUg2C,EAAStjE,GAC7C,IAAIk1D,EAAWH,GAAaG,SAAS7iE,IAAIi7B,GACzCg2C,EAAQlpE,SAAQ,SAAU0D,GACxBo3D,EAASp3D,GAAQkC,SAAWA,KAIhC,SAASujE,GAAiBtkE,EAAOe,GAC/B,IAAKf,EACH,OAAO,EAGT,GAAmB,UAAfA,EAAMxH,KAIR,IAHA,IACI+rE,EADkBvkE,EAAMa,WAAWA,WACVitC,iBAAiB,SAErCn7C,EAAI,EAAGA,EAAI4xE,EAAOlvE,OAAQ1C,IACjC4xE,EAAO5xE,GAAGoO,SAAWA,OAGvBf,EAAMe,SAAWA,EAIrB,SAASyjE,KACPJ,GAAmBnnE,KAAM,CAAC,gBAAiB,aAAc,iBAAiB,GAE5E,SAASwnE,KACPL,GAAmBnnE,KAAM,CAAC,gBAAiB,aAAc,iBAAiB,GAE5E,SAASynE,KACP,OAAOJ,GAAiBrnE,KAAKgzD,YAAY,GAE3C,SAAS0U,KACP,OAAOL,GAAiBrnE,KAAKgzD,YAAY,GAG3C,SAAS2U,GAAsB97D,GAC7B,IAAImtD,EAAWH,GAAaG,SAAS7iE,IAAI6J,MACrCi+B,EAAS46B,GAAaE,YAAY5iE,IAAI6J,MAC1CuyD,GAAayG,EAASsJ,kBAAmBz2D,GACzCmtD,EAASsJ,kBAAkBtkE,UAAY+xD,EAAY,sBAE/C9xB,EAAO80B,aAAe90B,EAAO80B,YAAYuP,mBAC3CpW,GAAS8M,EAASsJ,kBAAmBrkC,EAAO80B,YAAYuP,mBAG1DliE,GAAK44D,EAASsJ,mBACd,IAAIv/D,EAAQ/C,KAAKgzD,WAEbjwD,IACFA,EAAMf,aAAa,gBAAgB,GACnCe,EAAMf,aAAa,mBAAoB+tD,EAAY,uBACnDuD,GAAWvwD,GACXmpD,GAASnpD,EAAOgtD,EAAY6X,aAIhC,SAASC,KACP,IAAI7O,EAAWH,GAAaG,SAAS7iE,IAAI6J,MAErCg5D,EAASsJ,mBACXniE,GAAK64D,EAASsJ,mBAGhB,IAAIv/D,EAAQ/C,KAAKgzD,WAEbjwD,IACFA,EAAM/K,gBAAgB,gBACtB+K,EAAM/K,gBAAgB,oBACtBy7D,GAAY1wD,EAAOgtD,EAAY6X,aAInC,SAASE,KAEP,OADejP,GAAaG,SAAS7iE,IAAI6J,MACzB89D,cAGlB,IAAIiK,GAAqB,WACvB,SAASA,EAAMnpC,EAAUopC,GACvB/+B,EAAgBjpC,KAAM+nE,GAEtB/nE,KAAK4+B,SAAWA,EAChB5+B,KAAKkgE,UAAY8H,EACjBhoE,KAAKogE,SAAU,EACfpgE,KAAKxB,QA2DP,OAxDAgvD,EAAaua,EAAO,CAAC,CACnBxrE,IAAK,QACLhG,MAAO,WAOL,OANKyJ,KAAKogE,UACRpgE,KAAKogE,SAAU,EACfpgE,KAAKioE,QAAU,IAAItzB,KACnB30C,KAAKuxB,GAAKprB,WAAWnG,KAAK4+B,SAAU5+B,KAAKkgE,YAGpClgE,KAAKkgE,YAEb,CACD3jE,IAAK,OACLhG,MAAO,WAOL,OANIyJ,KAAKogE,UACPpgE,KAAKogE,SAAU,EACfh6D,aAAapG,KAAKuxB,IAClBvxB,KAAKkgE,WAAa,IAAIvrB,KAAS30C,KAAKioE,SAG/BjoE,KAAKkgE,YAEb,CACD3jE,IAAK,WACLhG,MAAO,SAAkBd,GACvB,IAAI2qE,EAAUpgE,KAAKogE,QAYnB,OAVIA,GACFpgE,KAAKggE,OAGPhgE,KAAKkgE,WAAazqE,EAEd2qE,GACFpgE,KAAKxB,QAGAwB,KAAKkgE,YAEb,CACD3jE,IAAK,eACLhG,MAAO,WAML,OALIyJ,KAAKogE,UACPpgE,KAAKggE,OACLhgE,KAAKxB,SAGAwB,KAAKkgE,YAEb,CACD3jE,IAAK,YACLhG,MAAO,WACL,OAAOyJ,KAAKogE,YAIT2H,EAlEgB,GAqErBG,GAAyB,CAC3B5N,MAAO,SAAex8C,EAAQwkD,GAC5B,MAAO,wDAAwDlnE,KAAK0iB,GAAUkxC,QAAQC,UAAYD,QAAQC,QAAQqT,GAAqB,0BAEzI9+C,IAAK,SAAa1F,EAAQwkD,GAExB,MAAO,8FAA8FlnE,KAAK0iB,GAAUkxC,QAAQC,UAAYD,QAAQC,QAAQqT,GAAqB,iBAIjL,SAAS6F,GAA0BlqC,GAE5BA,EAAOmkC,gBACVpsE,OAAOmC,KAAK+vE,IAAwBhqE,SAAQ,SAAU3B,GAChD0hC,EAAOl7B,QAAUxG,IACnB0hC,EAAOmkC,eAAiB8F,GAAuB3rE,OAMvD,SAAS6rE,GAA4BnqC,KAE9BA,EAAO1lC,QAAmC,iBAAlB0lC,EAAO1lC,SAAwBb,SAASkB,cAAcqlC,EAAO1lC,SAAoC,iBAAlB0lC,EAAO1lC,SAAwB0lC,EAAO1lC,OAAO+K,eACvJwgD,EAAK,uDACL7lB,EAAO1lC,OAAS,QAWpB,SAAS8vE,GAAcpqC,GACrBkqC,GAA0BlqC,GAEtBA,EAAO+jC,sBAAwB/jC,EAAOojC,YACxCvd,EAAK,oMAOP7lB,EAAO64B,UAAYlI,EAAe3wB,EAAO64B,WACzCsR,GAA4BnqC,GAEA,iBAAjBA,EAAOwyB,QAChBxyB,EAAOwyB,MAAQxyB,EAAOwyB,MAAM/3D,MAAM,MAAM8C,KAAK,WAG/CyE,GAAKg+B,GAGP,IAAIqqC,GAAmB,CAAC,aAAc,YAAa,eAC/CC,GAAoB,SAA2BtqC,GACjD,IAAI4iC,EAAsC,iBAApB5iC,EAAO4iC,SAAwBnpE,SAASkB,cAAcqlC,EAAO4iC,UAAY5iC,EAAO4iC,SAEtG,IAAKA,EACH,MAAO,GAGT,IAAI2H,EAAkB3H,EAASr7C,SAAWq7C,EAM1C,OAJA4H,GAAwBD,GAEX/a,EAASib,GAAcF,GAAkBG,GAAeH,GAAkBI,GAAaJ,GAAkBK,GAAYL,GAAkBM,GAAaN,GAAkBO,GAAoBP,EAAiBF,MAKtNI,GAAgB,SAAuBF,GACzC,IAAIhjE,EAAS,GAgBb,OAfA6oD,EAAQma,EAAgB33B,iBAAiB,eAAe3yC,SAAQ,SAAUm4D,GACxE2S,GAA0B3S,EAAO,CAAC,OAAQ,UAC1C,IAAInrB,EAAYmrB,EAAMt+D,aAAa,QAC/BxB,EAAQ8/D,EAAMt+D,aAAa,SAES,kBAA7B+oE,GAAc51B,IAAsC,UAAV30C,IACnDA,GAAQ,GAGgC,WAAtCs9C,EAAQitB,GAAc51B,MACxB30C,EAAQqtD,KAAKC,MAAMttD,IAGrBiP,EAAO0lC,GAAa30C,KAEfiP,GAGLmjE,GAAiB,SAAwBH,GAC3C,IAAIhjE,EAAS,GAeb,OAdA6oD,EAAQma,EAAgB33B,iBAAiB,gBAAgB3yC,SAAQ,SAAU0D,GACzEonE,GAA0BpnE,EAAQ,CAAC,OAAQ,QAAS,eACpD,IAAIrG,EAAOqG,EAAO7J,aAAa,QAC/ByN,EAAO,GAAGsf,OAAOvpB,EAAM,eAAiBqG,EAAOhK,UAC/C4N,EAAO,OAAOsf,OAAOqpC,EAAsB5yD,GAAO,YAAa,EAE3DqG,EAAOmhD,aAAa,WACtBv9C,EAAO,GAAGsf,OAAOvpB,EAAM,gBAAkBqG,EAAO7J,aAAa,UAG3D6J,EAAOmhD,aAAa,gBACtBv9C,EAAO,GAAGsf,OAAOvpB,EAAM,oBAAsBqG,EAAO7J,aAAa,kBAG9DyN,GAGLojE,GAAe,SAAsBJ,GACvC,IAAIhjE,EAAS,GACT+jD,EAAQif,EAAgB5vE,cAAc,cAsB1C,OApBI2wD,IACFyf,GAA0Bzf,EAAO,CAAC,MAAO,QAAS,SAAU,QAExDA,EAAMxG,aAAa,SACrBv9C,EAAO43C,SAAWmM,EAAMxxD,aAAa,QAGnCwxD,EAAMxG,aAAa,WACrBv9C,EAAOk3D,WAAanT,EAAMxxD,aAAa,UAGrCwxD,EAAMxG,aAAa,YACrBv9C,EAAOm3D,YAAcpT,EAAMxxD,aAAa,WAGtCwxD,EAAMxG,aAAa,SACrBv9C,EAAOi3D,SAAWlT,EAAMxxD,aAAa,SAIlCyN,GAGLqjE,GAAc,SAAqBL,GACrC,IAAIhjE,EAAS,GACTymD,EAAOuc,EAAgB5vE,cAAc,aAgBzC,OAdIqzD,IACF+c,GAA0B/c,EAAM,CAAC,OAAQ,UAErCA,EAAKlJ,aAAa,UACpBv9C,EAAOymD,KAAOA,EAAKl0D,aAAa,SAG9Bk0D,EAAKlJ,aAAa,WACpBv9C,EAAO62D,UAAYpQ,EAAKl0D,aAAa,UAGvCyN,EAAOs2D,SAAW7P,EAAKr0D,WAGlB4N,GAGLsjE,GAAe,SAAsBN,GACvC,IAAIhjE,EAAS,GACTzC,EAAQylE,EAAgB5vE,cAAc,cAEtCmK,IACFimE,GAA0BjmE,EAAO,CAAC,OAAQ,QAAS,cAAe,UAClEyC,EAAOzC,MAAQA,EAAMhL,aAAa,SAAW,OAEzCgL,EAAMggD,aAAa,WACrBv9C,EAAO20D,WAAap3D,EAAMhL,aAAa,UAGrCgL,EAAMggD,aAAa,iBACrBv9C,EAAOw0D,iBAAmBj3D,EAAMhL,aAAa,gBAG3CgL,EAAMggD,aAAa,WACrBv9C,EAAOg1D,WAAaz3D,EAAMhL,aAAa,WAI3C,IAAImqE,EAAesG,EAAgB33B,iBAAiB,qBAYpD,OAVIqxB,EAAa9pE,SACfoN,EAAO08D,aAAe,GACtB7T,EAAQ6T,GAAchkE,SAAQ,SAAUyhD,GACtCqpB,GAA0BrpB,EAAQ,CAAC,UACnC,IAAIspB,EAActpB,EAAO5nD,aAAa,SAClCmxE,EAAavpB,EAAO/nD,UACxB4N,EAAO08D,aAAa+G,GAAeC,MAIhC1jE,GAGLujE,GAAsB,SAA6BP,EAAiBW,GACtE,IAAI3jE,EAAS,GAEb,IAAK,IAAI9P,KAAKyzE,EAAY,CACxB,IAAIj+B,EAAYi+B,EAAWzzE,GACvBygB,EAAMqyD,EAAgB5vE,cAAcsyC,GAEpC/0B,IACF6yD,GAA0B7yD,EAAK,IAC/B3Q,EAAO0lC,EAAU/xC,QAAQ,SAAU,KAAOgd,EAAIve,UAAUC,QAI5D,OAAO2N,GAGLijE,GAA0B,SAAiC5H,GAC7D,IAAIuI,EAAkBd,GAAiBxjD,OAAO,CAAC,aAAc,cAAe,aAAc,YAAa,aAAc,sBACrHupC,EAAQwS,EAAShwB,iBAAiB,MAAM3yC,SAAQ,SAAUmF,GACxD,GAAIA,EAAGO,aAAei9D,EAAtB,CAKA,IAAIrqB,EAAUnzC,EAAGmzC,QAAQ57C,eAEiB,IAAtCwuE,EAAgBviE,QAAQ2vC,IAC1BsN,EAAK,yBAAyBh/B,OAAO0xB,EAAS,WAKhDwyB,GAA4B,SAAmC3lE,EAAIgmE,GACrEhb,EAAQhrD,EAAGq6B,YAAYx/B,SAAQ,SAAUs/B,IACY,IAA/C6rC,EAAkBxiE,QAAQ22B,EAAUh1B,OACtCs7C,EAAK,CAAC,2BAA4Bh/B,OAAO0Y,EAAUh1B,KAAM,UAAWsc,OAAOzhB,EAAGmzC,QAAQ57C,cAAe,MAAO,GAAGkqB,OAAOukD,EAAkBjxE,OAAS,2BAA2B0sB,OAAOukD,EAAkB7tE,KAAK,OAAS,wDAKrN8tE,GAAqB,GAOrBC,GAAY,SAAmBtrC,GACjC,IAAI5+B,EAAY4wD,IACZK,EAAQD,IAEmB,mBAApBpyB,EAAOwkC,SAChBxkC,EAAOwkC,SAASnS,GACwB,mBAAxBryB,EAAOskC,cACvBtkC,EAAOskC,aAAajS,GAGtB,IACIkZ,EADar0E,OAAOwoD,iBAAiBjmD,SAAS4O,MACbmjE,UACrCC,GAAarqE,EAAWixD,EAAOryB,GAE/B93B,YAAW,WACTwjE,GAAuBtqE,EAAWixD,KACjCgZ,IAECpX,OACF0X,GAAmBvqE,EAAW4+B,EAAOglC,iBAAkBuG,GACvD3D,MAGG1T,MAAckN,GAAYE,wBAC7BF,GAAYE,sBAAwB7nE,SAAS8E,eAG/CqtE,GAAWvZ,EAAOryB,GAClBw1B,GAAYp0D,EAAW0wD,EAAY,mBAGjC8Z,GAAa,SAAoBvZ,EAAOryB,GACZ,mBAAnBA,EAAOykC,QAChBv8D,YAAW,WACT,OAAO83B,EAAOykC,QAAQpS,MAEU,mBAAlBryB,EAAOukC,QACvBr8D,YAAW,WACT,OAAO83B,EAAOukC,OAAOlS,OAKvBwZ,GAA4B,SAASA,EAA0B1gC,GACjE,IAAIknB,EAAQD,IAEZ,GAAIjnB,EAAM7wC,SAAW+3D,EAArB,CAIA,IAAIjxD,EAAY4wD,IAChBK,EAAMvX,oBAAoB0d,GAAmBqT,GAC7CzqE,EAAU3B,MAAM+rE,UAAY,SAG1BE,GAAyB,SAAgCtqE,EAAWixD,GAClEmG,IAAqBpC,GAAgB/D,IACvCjxD,EAAU3B,MAAM+rE,UAAY,SAC5BnZ,EAAM5e,iBAAiB+kB,GAAmBqT,KAE1CzqE,EAAU3B,MAAM+rE,UAAY,QAI5BG,GAAqB,SAA4BvqE,EAAW4jE,EAAkBuG,GAChFrF,KACAwB,KAEI1C,GAA4C,WAAxBuG,GACtBvF,KAIF99D,YAAW,WACT9G,EAAUmlE,UAAY,MAItBkF,GAAe,SAAoBrqE,EAAWixD,EAAOryB,GACvDiuB,GAAS7sD,EAAW4+B,EAAO40B,UAAUxD,UAErCiB,EAAM5yD,MAAMqsE,YAAY,UAAW,IAAK,aACxC3pE,GAAKkwD,GACLnqD,YAAW,WAET+lD,GAASoE,EAAOryB,EAAO40B,UAAUvC,OAEjCA,EAAM5yD,MAAMi2D,eAAe,aAC1B2V,IAEHpd,GAAS,CAACx0D,SAAS4H,gBAAiB5H,SAAS4O,MAAOypD,EAAYwW,OAE5DtoC,EAAO+iC,YAAc/iC,EAAOoxB,WAAapxB,EAAOmtB,OAClDc,GAAS,CAACx0D,SAAS4H,gBAAiB5H,SAAS4O,MAAOypD,EAAY,iBAIhEia,GAA6B,SAAoC54C,EAAU6M,GACxD,WAAjBA,EAAOl7B,OAAuC,UAAjBk7B,EAAOl7B,MACtCknE,GAAmB74C,EAAU6M,IACsD,IAA1E,CAAC,OAAQ,QAAS,SAAU,MAAO,YAAYp3B,QAAQo3B,EAAOl7B,SAAkB8rD,EAAe5wB,EAAOu8B,aAAetL,EAAUjxB,EAAOu8B,cAC/I0P,GAAiB94C,EAAU6M,IAG3BksC,GAAgB,SAAuB/4C,EAAU2nC,GACnD,IAAIh2D,EAAQquB,EAAS4hC,WAErB,IAAKjwD,EACH,OAAO,KAGT,OAAQg2D,EAAYh2D,OAClB,IAAK,WACH,OAAOqnE,GAAiBrnE,GAE1B,IAAK,QACH,OAAOsnE,GAActnE,GAEvB,IAAK,OACH,OAAOunE,GAAavnE,GAEtB,QACE,OAAOg2D,EAAYoJ,cAAgBp/D,EAAMxM,MAAMsB,OAASkL,EAAMxM,QAIhE6zE,GAAmB,SAA0BrnE,GAC/C,OAAOA,EAAMogD,QAAU,EAAI,GAGzBknB,GAAgB,SAAuBtnE,GACzC,OAAOA,EAAMogD,QAAUpgD,EAAMxM,MAAQ,MAGnC+zE,GAAe,SAAsBvnE,GACvC,OAAOA,EAAM8qC,MAAMz1C,OAA4C,OAAnC2K,EAAMhL,aAAa,YAAuBgL,EAAM8qC,MAAQ9qC,EAAM8qC,MAAM,GAAK,MAGnGo8B,GAAqB,SAA4B74C,EAAU6M,GAC7D,IAAIzY,EAAUkrC,IAEV6Z,EAAsB,SAA6BrI,GACrD,OAAOsI,GAAqBvsC,EAAOl7B,OAAOyiB,EAASilD,GAAmBvI,GAAejkC,IAGnF4wB,EAAe5wB,EAAOikC,eAAiBhT,EAAUjxB,EAAOikC,eAC1DjD,GAAYlO,KACZhC,EAAU9wB,EAAOikC,cAAchF,MAAK,SAAUgF,GAC5C9wC,EAAS0yC,cACTyG,EAAoBrI,OAEoB,WAAjCruB,EAAQ5V,EAAOikC,cACxBqI,EAAoBtsC,EAAOikC,cAE3Br2D,EAAM,yEAAyEiZ,OAAO+uB,EAAQ5V,EAAOikC,iBAIrGgI,GAAmB,SAA0B94C,EAAU6M,GACzD,IAAIl7B,EAAQquB,EAAS4hC,WACrB7yD,GAAK4C,GACLgsD,EAAU9wB,EAAOu8B,YAAY0C,MAAK,SAAU1C,GAC1Cz3D,EAAMxM,MAAyB,WAAjB0nC,EAAOl7B,MAAqBwxD,WAAWiG,IAAe,EAAI,GAAG11C,OAAO01C,GAClFp6D,GAAK2C,GACLA,EAAM3J,QACNg4B,EAAS0yC,iBACD,OAAE,SAAUz7B,GACpBx8B,EAAM,gCAAgCiZ,OAAOujB,IAC7CtlC,EAAMxM,MAAQ,GACd6J,GAAK2C,GACLA,EAAM3J,QACNg4B,EAAS0yC,kBAIT0G,GAAuB,CACzBpV,OAAQ,SAAgB5vC,EAAS08C,EAAcjkC,GAC7C,IAAIm3B,EAASnC,GAAgBztC,EAASuqC,EAAYqF,QAE9CsV,EAAe,SAAsB7W,EAAQ8W,EAAa1B,GAC5D,IAAItpB,EAASjoD,SAASC,cAAc,UACpCgoD,EAAOppD,MAAQ0yE,EACf1W,GAAa5S,EAAQgrB,GACrBhrB,EAAOuD,SAAW0nB,GAAW3B,EAAahrC,EAAOu8B,YACjD3G,EAAOvwD,YAAYq8C,IAGrBuiB,EAAahkE,SAAQ,SAAU2sE,GAC7B,IAAI5B,EAAc4B,EAAY,GAC1BF,EAAcE,EAAY,GAK9B,GAAI3zE,MAAME,QAAQuzE,GAAc,CAE9B,IAAIG,EAAWpzE,SAASC,cAAc,YACtCmzE,EAASp9C,MAAQu7C,EACjB6B,EAAShnE,UAAW,EAEpBsxD,EAAO9xD,YAAYwnE,GACnBH,EAAYzsE,SAAQ,SAAU1I,GAC5B,OAAOk1E,EAAaI,EAAUt1E,EAAE,GAAIA,EAAE,YAIxCk1E,EAAatV,EAAQuV,EAAa1B,MAGtC7T,EAAOh8D,SAET+5D,MAAO,SAAe3tC,EAAS08C,EAAcjkC,GAC3C,IAAIk1B,EAAQF,GAAgBztC,EAASuqC,EAAYoD,OACjD+O,EAAahkE,SAAQ,SAAU2sE,GAC7B,IAAIE,EAAaF,EAAY,GACzBG,EAAaH,EAAY,GACzBI,EAAavzE,SAASC,cAAc,SACpCuzE,EAAoBxzE,SAASC,cAAc,SAC/CszE,EAAW1vE,KAAO,QAClB0vE,EAAWziE,KAAOunD,EAAYoD,MAC9B8X,EAAW10E,MAAQw0E,EAEfH,GAAWG,EAAY9sC,EAAOu8B,cAChCyQ,EAAW9nB,SAAU,GAGvB,IAAIz1B,EAAQh2B,SAASC,cAAc,QACnC46D,GAAa7kC,EAAOs9C,GACpBt9C,EAAM1vB,UAAY+xD,EAAYriC,MAC9Bw9C,EAAkB5nE,YAAY2nE,GAC9BC,EAAkB5nE,YAAYoqB,GAC9BylC,EAAM7vD,YAAY4nE,MAEpB,IAAI5D,EAASnU,EAAMtiB,iBAAiB,SAEhCy2B,EAAOlvE,QACTkvE,EAAO,GAAGluE,UASZqxE,GAAqB,SAASA,EAAmBvI,GACnD,IAAI18D,EAAS,GA0Bb,MAxBmB,oBAAR2lE,KAAuBjJ,aAAwBiJ,IACxDjJ,EAAahkE,SAAQ,SAAU3H,EAAOgG,GACpC,IAAI6uE,EAAiB70E,EAEW,WAA5Bs9C,EAAQu3B,KAEVA,EAAiBX,EAAmBW,IAGtC5lE,EAAOtN,KAAK,CAACqE,EAAK6uE,OAGpBp1E,OAAOmC,KAAK+pE,GAAchkE,SAAQ,SAAU3B,GAC1C,IAAI6uE,EAAiBlJ,EAAa3lE,GAEF,WAA5Bs3C,EAAQu3B,KAEVA,EAAiBX,EAAmBW,IAGtC5lE,EAAOtN,KAAK,CAACqE,EAAK6uE,OAIf5lE,GAGLolE,GAAa,SAAoB3B,EAAazO,GAChD,OAAOA,GAAcA,EAAW5+D,aAAeqtE,EAAYrtE,YAGzDyvE,GAA2B,SAAkCj6C,EAAU2nC,GACzE3nC,EAASo2C,iBAELzO,EAAYh2D,MACduoE,GAA6Bl6C,EAAU2nC,EAAa,WAEpDxnB,GAAQngB,EAAU2nC,GAAa,IAG/BwS,GAAwB,SAA+Bn6C,EAAU2nC,GACnE3nC,EAASo2C,iBAELzO,EAAYsJ,uBACdiJ,GAA6Bl6C,EAAU2nC,EAAa,QAEpD7H,GAAK9/B,EAAU2nC,GAAa,IAG5ByS,GAA0B,SAAiCp6C,EAAUq6C,GACvEr6C,EAASo2C,iBACTiE,EAAYtc,EAAc3uD,SAGxB8qE,GAA+B,SAAsCl6C,EAAU2nC,EAAax9D,GAG9F,IAAIi/D,EAAa2P,GAAc/4C,EAAU2nC,GAErCA,EAAYqJ,eACdsJ,GAAqBt6C,EAAU2nC,EAAayB,GAClCppC,EAAS4hC,WAAW2Y,gBAGZ,SAATpwE,EACT21D,GAAK9/B,EAAU2nC,EAAayB,GAE5BjpB,GAAQngB,EAAU2nC,EAAayB,IAL/BppC,EAASm2C,gBACTn2C,EAASu2C,sBAAsB5O,EAAYuJ,qBAQ3CoJ,GAAuB,SAA8Bt6C,EAAU2nC,EAAayB,GAC9EppC,EAASs2C,eACe1Y,QAAQC,UAAUiO,MAAK,WAC7C,OAAOnO,EAAUgK,EAAYqJ,eAAe5H,EAAYzB,EAAYuJ,uBAEpDpF,MAAK,SAAUoF,GAC/BlxC,EAASm2C,gBACTn2C,EAASq2C,cAELnF,EACFlxC,EAASu2C,sBAAsBrF,GAE/B/wB,GAAQngB,EAAU2nC,EAAayB,OAKjCtJ,GAAO,SAAc9/B,EAAU2nC,EAAaxiE,GAC1CwiE,EAAYkJ,kBACdhD,GAAYhO,KAGV8H,EAAYuI,QACOtS,QAAQC,UAAUiO,MAAK,WAC1C,OAAOnO,EAAUgK,EAAYuI,QAAQ/qE,EAAOwiE,EAAYuJ,uBAE3CpF,MAAK,SAAU0O,IACP,IAAjBA,EACFx6C,EAAS0yC,cAET1yC,EAASy6C,WAAW,CAClBjF,UAAU,EACVrwE,WAA+B,IAAjBq1E,EAA+Br1E,EAAQq1E,OAK3Dx6C,EAASy6C,WAAW,CAClBjF,UAAU,EACVrwE,MAAOA,KAKTu1E,GAAc,SAAqB16C,EAAU76B,GAC/C66B,EAASy6C,WAAW,CAClBlF,aAAa,EACbpwE,MAAOA,KAIPg7C,GAAU,SAAiBngB,EAAU2nC,EAAaxiE,GAChDwiE,EAAYiJ,qBACd/C,KAGElG,EAAYsI,YACdjwC,EAASokC,yBACexG,QAAQC,UAAUiO,MAAK,WAC7C,OAAOnO,EAAUgK,EAAYsI,WAAW9qE,EAAOwiE,EAAYuJ,uBAE3CpF,MAAK,SAAU6O,GAC3B9Z,GAAUnB,OAA+C,IAApBib,EACvC36C,EAAS0yC,cAETgI,GAAY16C,OAAqC,IAApB26C,EAAkCx1E,EAAQw1E,OAI3ED,GAAY16C,EAAU76B,IAItBy1E,GAAoB,SAA2B56C,EAAUiuC,EAAatG,EAAa0S,GACjFpM,EAAY8G,eAAiB9G,EAAYgH,sBAC3ChH,EAAY8G,cAAcptB,oBAAoB,UAAWsmB,EAAY+G,eAAgB,CACnF/uE,QAASgoE,EAAY+B,yBAEvB/B,EAAYgH,qBAAsB,GAG/BtN,EAAY3N,QACfiU,EAAY+G,eAAiB,SAAU7wE,GACrC,OAAO6wE,GAAeh1C,EAAU77B,EAAGk2E,IAGrCpM,EAAY8G,cAAgBpN,EAAYqI,uBAAyBjsE,OAASk7D,IAC1EgP,EAAY+B,uBAAyBrI,EAAYqI,uBACjD/B,EAAY8G,cAAcz0B,iBAAiB,UAAW2tB,EAAY+G,eAAgB,CAChF/uE,QAASgoE,EAAY+B,yBAEvB/B,EAAYgH,qBAAsB,IAIlC4F,GAAW,SAAkBlT,EAAa3wD,EAAO8jE,GACnD,IAAIC,EAAoBra,KAExB,GAAIqa,EAAkB/zE,OASpB,OARAgQ,GAAgB8jE,KAEFC,EAAkB/zE,OAC9BgQ,EAAQ,GACY,IAAXA,IACTA,EAAQ+jE,EAAkB/zE,OAAS,GAG9B+zE,EAAkB/jE,GAAOhP,QAIlCi3D,IAAWj3D,SAETgzE,GAAsB,CAAC,aAAc,YAAa,QAAS,QAE3DC,GAA0B,CAAC,YAAa,UAAW,OAAQ,MAE3DC,GAAU,CAAC,SAAU,OAGrBlG,GAAiB,SAAwBh1C,EAAU77B,EAAGk2E,GACxD,IAAI1S,EAAcF,GAAaE,YAAY5iE,IAAIi7B,GAE1C2nC,IAIDA,EAAYoI,wBACd5rE,EAAE6I,kBAIU,UAAV7I,EAAEgH,IACJgwE,GAAYn7C,EAAU77B,EAAGwjE,GACN,QAAVxjE,EAAEgH,IACXiwE,GAAUj3E,EAAGwjE,IACwE,IAA5E,GAAGj0C,OAAOsnD,GAAqBC,IAAyBxlE,QAAQtR,EAAEgH,KAC3EkwE,GAAal3E,EAAEgH,MACsB,IAA5B+vE,GAAQzlE,QAAQtR,EAAEgH,MAC3BmwE,GAAUn3E,EAAGwjE,EAAa0S,KAI1Bc,GAAc,SAAqBn7C,EAAU77B,EAAGwjE,GAElD,IAAIxjE,EAAEo3E,aAIFp3E,EAAEgD,QAAU64B,EAAS4hC,YAAcz9D,EAAEgD,OAAOq0E,YAAcx7C,EAAS4hC,WAAW4Z,UAAW,CAC3F,IAAyD,IAArD,CAAC,WAAY,QAAQ/lE,QAAQkyD,EAAYh2D,OAC3C,OAGF27D,KACAnpE,EAAE+D,mBAIFkzE,GAAY,SAAmBj3E,EAAGwjE,GAKpC,IAJA,IAAI/C,EAAgBzgE,EAAEgD,OAClB4zE,EAAoBra,KACpB+a,GAAY,EAEPn3E,EAAI,EAAGA,EAAIy2E,EAAkB/zE,OAAQ1C,IAC5C,GAAIsgE,IAAkBmW,EAAkBz2E,GAAI,CAC1Cm3E,EAAWn3E,EACX,MAICH,EAAEwD,SAKLkzE,GAASlT,EAAa8T,GAAW,GAHjCZ,GAASlT,EAAa8T,EAAU,GAMlCt3E,EAAE6I,kBACF7I,EAAE+D,kBAGAmzE,GAAe,SAAsBlwE,GAKvC,IAAqF,IAA/E,CAJcw0D,IACHE,IACEI,KAE6BxqD,QAAQnP,SAAS8E,eAAjE,CAIA,IAAIswE,GAAgD,IAAtCV,GAAoBvlE,QAAQtK,GAAc,qBAAuB,yBAC3EwwE,EAAgBr1E,SAAS8E,cAAcswE,GAEvCC,GACFA,EAAc3zE,UAIdszE,GAAY,SAAmBn3E,EAAGwjE,EAAa0S,GAC7C7c,EAAemK,EAAYkI,kBAC7B1rE,EAAE+D,iBACFmyE,EAAYtc,EAAcG,OAI1B0d,GAAmB,SAA0B57C,EAAU4nC,EAAUyS,GACjD5S,GAAaE,YAAY5iE,IAAIi7B,GAE/Bg6B,MACd6hB,GAAiB77C,EAAU4nC,EAAUyS,IAIrCyB,GAAqBlU,GAErBmU,GAAyBnU,GACzBoU,GAAiBh8C,EAAU4nC,EAAUyS,KAIrCwB,GAAmB,SAA0B77C,EAAU4nC,EAAUyS,GAEnEzS,EAAS1I,MAAM+c,QAAU,WACvB,IAAItU,EAAcF,GAAaE,YAAY5iE,IAAIi7B,GAE3C2nC,EAAYxB,mBAAqBwB,EAAYvB,gBAAkBuB,EAAYtB,kBAAoBsB,EAAY0C,iBAAmB1C,EAAYxJ,OAASwJ,EAAYh2D,OAInK0oE,EAAYtc,EAAcnpC,SAI1BsnD,IAAqB,EAErBJ,GAAuB,SAA8BlU,GACvDA,EAAS1I,MAAMid,YAAc,WAC3BvU,EAAS35D,UAAUmuE,UAAY,SAAUj4E,GACvCyjE,EAAS35D,UAAUmuE,eAAYvlE,EAG3B1S,EAAEgD,SAAWygE,EAAS35D,YACxBiuE,IAAqB,MAMzBH,GAA2B,SAAkCnU,GAC/DA,EAAS35D,UAAUkuE,YAAc,WAC/BvU,EAAS1I,MAAMkd,UAAY,SAAUj4E,GACnCyjE,EAAS1I,MAAMkd,eAAYvlE,GAEvB1S,EAAEgD,SAAWygE,EAAS1I,OAAS0I,EAAS1I,MAAMltD,SAAS7N,EAAEgD,WAC3D+0E,IAAqB,MAMzBF,GAAmB,SAA0Bh8C,EAAU4nC,EAAUyS,GACnEzS,EAAS35D,UAAUguE,QAAU,SAAU93E,GACrC,IAAIwjE,EAAcF,GAAaE,YAAY5iE,IAAIi7B,GAE3Ck8C,GACFA,IAAqB,EAInB/3E,EAAEgD,SAAWygE,EAAS35D,WAAauvD,EAAemK,EAAYJ,oBAChE8S,EAAYtc,EAAcE,YAKhC,SAASoe,GAAMC,GACb,IAAI5O,EAAcvnE,UAAUa,OAAS,QAAsB6P,IAAjB1Q,UAAU,GAAmBA,UAAU,GAAK,GACtFosE,GAAsBlW,EAAS,GAAIqR,EAAa4O,IAE5CrO,GAAYsO,iBACdtO,GAAYsO,gBAAgBzG,WAG9B7H,GAAYsO,gBAAkB3tE,KAC9B,IAAI+4D,EAAc6U,GAAcF,EAAY5O,GAC5CuJ,GAActP,GACd/iE,OAAOo5D,OAAO2J,GAEVsG,GAAY70B,UACd60B,GAAY70B,QAAQw1B,cACbX,GAAY70B,SAIrBpkC,aAAai5D,GAAYO,qBACzB,IAAI5G,EAAW6U,GAAiB7tE,MAGhC,OAFAs+D,GAAOt+D,KAAM+4D,GACbF,GAAaE,YAAYlsD,IAAI7M,KAAM+4D,GAC5B+U,GAAY9tE,KAAMg5D,EAAUD,GAGrC,IAAI6U,GAAgB,SAAuBF,EAAY5O,GACrD,IAAIiP,EAAiBxF,GAAkBmF,GAEnCzvC,EAASwvB,EAAS,GAAIqT,GAAehC,EAAaiP,EAAgBL,GActE,OAXAzvC,EAAO40B,UAAYpF,EAAS,GAAIqT,GAAcjO,UAAW50B,EAAO40B,WAChE50B,EAAO8iC,UAAYtT,EAAS,GAAIqT,GAAcC,UAAW9iC,EAAO8iC,YAEnC,IAAzB2M,EAAW5W,YACb74B,EAAO40B,UAAY,CACjBvC,MAAO,oBACPjB,SAAU,qBAEZpxB,EAAO8iC,UAAY,IAGd9iC,GAGL6vC,GAAc,SAAqB18C,EAAU4nC,EAAUD,GACzD,OAAO,IAAI/J,SAAQ,SAAUC,GAE3B,IAAIwc,EAAc,SAAqBtO,GACrC/rC,EAASy6C,WAAW,CAClBhF,aAAa,EACb1J,QAASA,KAIb4I,GAAeC,mBAAmBn5D,IAAIukB,EAAU69B,GAEhD+J,EAAS5B,cAAciW,QAAU,WAC/B,OAAOhC,GAAyBj6C,EAAU2nC,IAG5CC,EAAS3B,WAAWgW,QAAU,WAC5B,OAAO9B,GAAsBn6C,EAAU2nC,IAGzCC,EAAS1B,aAAa+V,QAAU,WAC9B,OAAO7B,GAAwBp6C,EAAUq6C,IAG3CzS,EAASuC,YAAY8R,QAAU,WAC7B,OAAO5B,EAAYtc,EAAcnpC,QAGnCgnD,GAAiB57C,EAAU4nC,EAAUyS,GACrCO,GAAkB56C,EAAUiuC,GAAatG,EAAa0S,GACtDzB,GAA2B54C,EAAU2nC,GACrCwQ,GAAUxQ,GACViV,GAAW3O,GAAatG,EAAa0S,GACrCwC,GAAUjV,EAAUD,GAEpB5yD,YAAW,WACT6yD,EAAS35D,UAAUmlE,UAAY,SAKjCqJ,GAAmB,SAA0Bz8C,GAC/C,IAAI4nC,EAAW,CACb1I,MAAOD,IACPhxD,UAAW4wD,IACXzqC,QAASkrC,IACTM,QAASM,IACT8F,cAAerG,IACfsG,WAAYpG,IACZqG,aAAcjG,IACdlE,OAAQiE,IACRmK,YAAa3J,KACb0Q,kBAAmBxR,IACnBgN,cAAejN,KAGjB,OADAgI,GAAaG,SAASnsD,IAAIukB,EAAU4nC,GAC7BA,GAGLgV,GAAa,SAAoBE,EAAgBnV,EAAa0S,GAChE,IAAI5W,EAAmBlD,KACvBxxD,GAAK00D,GAEDkE,EAAYxJ,QACd2e,EAAe1jC,QAAU,IAAIu9B,IAAM,WACjC0D,EAAY,gBACLyC,EAAe1jC,UACrBuuB,EAAYxJ,OAEXwJ,EAAYlE,mBACdz0D,GAAKy0D,GACL1uD,YAAW,WACL+nE,EAAe1jC,SAAW0jC,EAAe1jC,QAAQ41B,SAEnDxL,GAAwBmE,EAAYxJ,aAO1C0e,GAAY,SAAmBjV,EAAUD,GAC3C,IAAIA,EAAY3N,MAIhB,OAAKwD,EAAemK,EAAYmI,oBAI3BiN,GAAYnV,EAAUD,IACzBkT,GAASlT,GAAc,EAAG,IAJnBqV,MAQPD,GAAc,SAAqBnV,EAAUD,GAC/C,OAAIA,EAAY+I,WAAa7P,GAAU+G,EAAS3B,aAC9C2B,EAAS3B,WAAWj+D,SACb,GAGL2/D,EAAYgJ,aAAe9P,GAAU+G,EAAS1B,eAChD0B,EAAS1B,aAAal+D,SACf,MAGL2/D,EAAY8I,eAAgB5P,GAAU+G,EAAS5B,iBACjD4B,EAAS5B,cAAch+D,QAChB,KAMPg1E,GAAoB,WAClB12E,SAAS8E,eAAwD,mBAAhC9E,SAAS8E,cAAc6xE,MAC1D32E,SAAS8E,cAAc6xE,QAQ3B,SAAS3xE,GAAOuhC,GACd,IAAIqyB,EAAQD,IACR0I,EAAcF,GAAaE,YAAY5iE,IAAI6J,MAE/C,IAAKswD,GAASqC,GAASrC,EAAOyI,EAAYgI,UAAUzQ,OAClD,OAAOxM,EAAK,8IAGd,IAAIwqB,EAAuB,GAE3Bt4E,OAAOmC,KAAK8lC,GAAQ//B,SAAQ,SAAUm4D,GAChCZ,GAAK6N,qBAAqBjN,GAC5BiY,EAAqBjY,GAASp4B,EAAOo4B,GAErCvS,EAAK,iCAAkCh/B,OAAOuxC,EAAO,iRAIzD,IAAIkY,EAAgB9gB,EAAS,GAAIsL,EAAauV,GAE9ChQ,GAAOt+D,KAAMuuE,GACb1V,GAAaE,YAAYlsD,IAAI7M,KAAMuuE,GACnCv4E,OAAOivB,iBAAiBjlB,KAAM,CAC5Bi+B,OAAQ,CACN1nC,MAAOk3D,EAAS,GAAIztD,KAAKi+B,OAAQA,GACjCl+B,UAAU,EACV7J,YAAY,KAKlB,SAASgxE,KACP,IAAIlO,EAAWH,GAAaG,SAAS7iE,IAAI6J,MACrC+4D,EAAcF,GAAaE,YAAY5iE,IAAI6J,MAE1C+4D,IAKDC,EAAS1I,OAAS+O,GAAY4H,iCAChC5H,GAAY4H,wCACL5H,GAAY4H,gCAIjB5H,GAAYmP,qBACdpoE,aAAai5D,GAAYmP,2BAClBnP,GAAYmP,oBAGrBC,GAAc1V,GACd2V,GAAY1uE,OAGd,IA+CI2tE,GA/CAc,GAAgB,SAAuB1V,GACH,mBAA3BA,EAAYiK,WACrBjK,EAAYiK,aAC8B,mBAA1BjK,EAAYgK,WAC5BhK,EAAYgK,aAIZ2L,GAAc,SAAqBt9C,UAE9BA,EAAS6M,cAETohC,GAAY+G,sBACZ/G,GAAY8G,cAEnBwI,GAAc9V,IACd8V,GAAc5I,KAGZ4I,GAAgB,SAAuB/mC,GACzC,IAAK,IAAIlyC,KAAKkyC,EACZA,EAAIlyC,GAAK,IAAI4rB,SAMbstD,GAA+B54E,OAAOo5D,OAAO,CAC/C0U,YAAaA,GACb+K,eAAgB/K,GAChB9Q,SAAUgR,GACVh+C,MAAOA,GACP6lD,WAAY7lD,GACZ8oD,WAAY9oD,GACZ+oD,WAAY/oD,GACZuhD,cAAeA,GACfC,eAAgBA,GAChBC,YAAaA,GACbC,aAAcA,GACdC,sBAAuBA,GACvBnS,uBAAwBqS,GACxBhX,iBAAkBiX,GAClB2F,MAAOA,GACP/wE,OAAQA,GACRwqE,SAAUA,KAKR8H,GAA0B,WAC5B,SAASA,IAIP,GAHA/lC,EAAgBjpC,KAAMgvE,GAGA,oBAAX75E,OAAX,CAKuB,oBAAZ65D,SACTnjD,EAAM,4MAGR8hE,GAAkB3tE,KAElB,IAAK,IAAIupC,EAAOhyC,UAAUa,OAAQ2mC,EAAO,IAAI7nC,MAAMqyC,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EzK,EAAKyK,GAAQjyC,UAAUiyC,GAGzB,IAAIylC,EAAcj5E,OAAOo5D,OAAOpvD,KAAKgP,YAAY4gD,aAAa7wB,IAC9D/oC,OAAOivB,iBAAiBjlB,KAAM,CAC5Bi+B,OAAQ,CACN1nC,MAAO04E,EACPlvE,UAAU,EACV7J,YAAY,EACZ4J,cAAc,KAIlB,IAAIg5D,EAAU94D,KAAKytE,MAAMztE,KAAKi+B,QAE9B46B,GAAaC,QAAQjsD,IAAI7M,KAAM84D,IAkBjC,OAdAtL,EAAawhB,EAAY,CAAC,CACxBzyE,IAAK,OACLhG,MAAO,SAAc24E,GAEnB,OADcrW,GAAaC,QAAQ3iE,IAAI6J,MACxBk9D,KAAKgS,KAErB,CACD3yE,IAAK,UACLhG,MAAO,SAAkB44E,GAEvB,OADctW,GAAaC,QAAQ3iE,IAAI6J,MACf,QAAEmvE,OAIvBH,EAlDqB,GAsD9BvhB,EAASuhB,GAAWp4E,UAAWg4E,IAG/BnhB,EAASuhB,GAAYpL,IAGrB5tE,OAAOmC,KAAKy2E,IAAiB1wE,SAAQ,SAAU3B,GAC7CyyE,GAAWzyE,GAAO,WAEd,IAAI6yE,EADN,GAAIzB,GAGF,OAAQyB,EAAmBzB,IAAiBpxE,GAAKyX,MAAMo7D,EAAkB73E,eAI/Ey3E,GAAW7f,cAAgBA,EAC3B6f,GAAW9zD,QAAU,UAErB,IAAIu6C,GAAOuZ,GAGX,OAFAvZ,GAAc,QAAIA,GAEXA,GA5iHyEvuD,QA+iH9D,IAATlH,MAAwBA,KAAKqvE,cAAervE,KAAKsvE,KAAOtvE,KAAKuvE,WAAavvE,KAAKy1D,KAAOz1D,KAAKgvE,WAAahvE,KAAKqvE,aAExH,oBAAoB33E,UAAU,SAASnC,EAAED,GAAG,IAAIG,EAAEF,EAAEoC,cAAc,SAAS,GAAGpC,EAAEs5C,qBAAqB,QAAQ,GAAGvrC,YAAY7N,GAAGA,EAAE+5E,WAAW/5E,EAAE+5E,WAAW1rE,WAAWrO,EAAE+5E,WAAWC,QAAQn6E,QAAQ,IAAIG,EAAEmC,UAAUtC,EAAE,MAAMC,GAAGE,EAAEw5C,UAAU35C,GAA1M,CAA8MoC,SAAS,g5vB,+CC9iHpP,WACG,aAEA,IAAIg4E,EAAS,SAAU9yE,GACrB,GAAU,OAANA,EACF,MAAO,OAET,QAAUqL,IAANrL,EACF,MAAO,YAET,IAAItH,SAAWsH,EACf,MAAU,WAANtH,IAAmB4B,MAAMN,UAAUoT,cAAcpN,IAAMA,EAAEoS,aAAsC,UAAvBpS,EAAEoS,YAAYxG,MACjF,QAEC,WAANlT,IAAmBkS,OAAO5Q,UAAUoT,cAAcpN,IAAMA,EAAEoS,aAAsC,WAAvBpS,EAAEoS,YAAYxG,MAClF,SAEFlT,GAwBLq6E,EAAK,SAAU71E,GACjB,MAAO,CAAE61E,GAAI71E,IAKX81E,EAHWD,GAAG,SAAU/yE,EAAGxC,GAC7B,OAAOwC,IAAMxC,KAGXy1E,EAAU,SAAUC,GACtB,OAAOH,GAAG,SAAU/yE,EAAGxC,GACrB,GAAIwC,EAAExE,SAAWgC,EAAEhC,OACjB,OAAO,EAGT,IADA,IAAIsY,EAAM9T,EAAExE,OACH1C,EAAI,EAAGA,EAAIgb,EAAKhb,IACvB,IAAKo6E,EAAIH,GAAG/yE,EAAElH,GAAI0E,EAAE1E,IAClB,OAAO,EAGX,OAAO,MAGPq6E,EAAgB,SAAUD,EAAKE,GACjC,OA3Bc,SAAUF,EAAKh2E,GAC7B,OAAO61E,GAAG,SAAU/yE,EAAGxC,GACrB,OAAO01E,EAAIH,GAAG71E,EAAE8C,GAAI9C,EAAEM,OAyBjB61E,CAAUJ,EAAQC,IAAM,SAAUI,GACvC,OAjCO,SAAUA,EAAIF,GAEvB,OADY94E,MAAMN,UAAUU,MAAM1B,KAAKs6E,GAC1BrsD,KAAKmsD,GA+BTnsD,CAAKqsD,EAAIF,OAGhBG,EAAW,SAAUL,GACvB,OAAOH,GAAG,SAAU/yE,EAAGxC,GACrB,IAAIg2E,EAAKp6E,OAAOmC,KAAKyE,GACjByzE,EAAKr6E,OAAOmC,KAAKiC,GACrB,IAAK21E,EAAcH,GAAUD,GAAGS,EAAIC,GAClC,OAAO,EAGT,IADA,IAAI3/D,EAAM0/D,EAAGh4E,OACJ1C,EAAI,EAAGA,EAAIgb,EAAKhb,IAAK,CAC5B,IAAI63B,EAAI6iD,EAAG16E,GACX,IAAKo6E,EAAIH,GAAG/yE,EAAE2wB,GAAInzB,EAAEmzB,IAClB,OAAO,EAGX,OAAO,MAGP+iD,EAAQX,GAAG,SAAU/yE,EAAGxC,GAC1B,GAAIwC,IAAMxC,EACR,OAAO,EAET,IAAIm2E,EAAKb,EAAO9yE,GAEhB,OAAI2zE,IADKb,EAAOt1E,KAtEI,SAAUwC,GAC9B,OAQkB,IARX,CACL,YACA,UACA,SACA,SACA,WACA,MACA,QACAiK,QAAQjK,GAiEN4zE,CAAgBD,GACX3zE,IAAMxC,EACG,UAAPm2E,EACFV,EAAQS,GAAOX,GAAG/yE,EAAGxC,GACZ,WAAPm2E,GACFJ,EAASG,GAAOX,GAAG/yE,EAAGxC,OAiB7Bq2E,EAAS,SAAUl1E,GACrB,OAAO,SAAUhF,GACf,OAbEjB,SADmBsH,EAcLrG,IAZR,OAANqG,EACK,OACQ,WAANtH,IAAmB4B,MAAMN,UAAUoT,cAAcpN,IAAMA,EAAEoS,aAAsC,UAAvBpS,EAAEoS,YAAYxG,MACxF,QACQ,WAANlT,IAAmBkS,OAAO5Q,UAAUoT,cAAcpN,IAAMA,EAAEoS,aAAsC,WAAvBpS,EAAEoS,YAAYxG,MACzF,SAEAlT,KAKoBiG,EAdhB,IAAUqB,EACnBtH,IAgBFo7E,EAAe,SAAUn1E,GAC3B,OAAO,SAAUhF,GACf,cAAcA,IAAUgF,IAGxBo1E,EAAO,SAAUr7E,GACnB,OAAO,SAAUkC,GACf,OAAOlC,IAAMkC,IAGbo5E,EAAWH,EAAO,UAClB9oE,EAAW8oE,EAAO,UAClBr5E,EAAUq5E,EAAO,SACjBI,EAASF,EAAK,MACdG,EAAYJ,EAAa,WACzBK,EAAcJ,OAAK1oE,GACnB+oE,EAAa,SAAUx5E,GACzB,OAAOA,SAELy5E,EAAgB,SAAUz5E,GAC5B,OAAQw5E,EAAWx5E,IAEjB05E,EAAaR,EAAa,YAC1BS,EAAWT,EAAa,UAExBU,EAAO,aAEPC,EAAU,SAAUC,EAAIC,GAC1B,OAAO,WAEL,IADA,IAAIxyC,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAEvB,OAAO24B,EAAGC,EAAGv9D,MAAM,KAAM+qB,MAQzByyC,EAAW,SAAUj7E,GACvB,OAAO,WACL,OAAOA,IAGPk7E,EAAW,SAAU70E,GACvB,OAAOA,GAET,SAAS80E,EAAMt8D,GAEb,IADA,IAAIu8D,EAAc,GACTh5B,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtCg5B,EAAYh5B,EAAK,GAAKphD,UAAUohD,GAElC,OAAO,WAEL,IADA,IAAIi5B,EAAW,GACNj5B,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtCi5B,EAASj5B,GAAMphD,UAAUohD,GAE3B,IAAIk5B,EAAMF,EAAY7sD,OAAO8sD,GAC7B,OAAOx8D,EAAGpB,MAAM,KAAM69D,IAG1B,IAAIC,EAAM,SAAUh4E,GAClB,OAAO,SAAUxE,GACf,OAAQwE,EAAExE,KAGVy8E,EAAM,SAAUC,GAClB,OAAO,WACL,MAAM,IAAI5yE,MAAM4yE,KAGhBh+D,EAAQ,SAAUla,GACpB,OAAOA,KAELlE,EAAO,SAAUkE,GACnBA,KAEEm4E,EAAQT,GAAS,GACjBU,EAASV,GAAS,GAElBW,EAAO,WACT,OAAOC,GAELA,EAAO,WACT,IAAIzC,EAAK,SAAUn6E,GACjB,OAAOA,EAAE68E,UAEPz8E,EAAO,SAAU08E,GACnB,OAAOA,KAEL/gD,EAAK,SAAU97B,GACjB,OAAOA,GA+BT,MA7BS,CACP88E,KAAM,SAAU98E,EAAG+8E,GACjB,OAAO/8E,KAETg9E,GAAIR,EACJS,OAAQT,EACRI,OAAQH,EACRS,MAAOphD,EACPqhD,WAAYh9E,EACZi9E,SAAU,SAAUb,GAClB,MAAM,IAAI5yE,MAAM4yE,GAAO,oCAEzBc,UAAWtB,EAAS,MACpBuB,eAAgBvB,OAASvpE,GACzB+qE,GAAIzhD,EACJ0hD,QAASr9E,EACT6E,IAAK03E,EACL/qB,KAAMgqB,EACN16E,KAAMy7E,EACNe,OAAQjB,EACRkB,OAAQjB,EACR5+D,OAAQ6+D,EACRiB,OAAQzD,EACR0D,QAAS1D,EACTthB,QAAS,WACP,MAAO,IAETzyD,SAAU41E,EAAS,WArCZ,GAyCP3rE,EAAO,SAAUrO,GACnB,IAAI87E,EAAa9B,EAASh6E,GACtB2P,EAAO,WACT,OAAOosE,GAEL78E,EAAO,SAAUoD,GACnB,OAAOA,EAAEtC,IAEP+7E,EAAK,CACPhB,KAAM,SAAU98E,EAAGsB,GACjB,OAAOA,EAAES,IAEXi7E,GAAI,SAAUx4E,GACZ,OAAOzC,IAAMyC,GAEfy4E,OAAQR,EACRG,OAAQJ,EACRU,MAAOW,EACPV,WAAYU,EACZT,SAAUS,EACVR,UAAWQ,EACXP,eAAgBO,EAChBN,GAAI7rE,EACJ8rE,QAAS9rE,EACT1M,IAAK,SAAUX,GACb,OAAO+L,EAAK/L,EAAEtC,KAEhB4vD,KAAM,SAAUttD,GACdA,EAAEtC,IAEJd,KAAMA,EACNw8E,OAAQx8E,EACRy8E,OAAQz8E,EACR4c,OAAQ,SAAUxZ,GAChB,OAAOA,EAAEtC,GAAK+7E,EAAKnB,GAErB/jB,QAAS,WACP,MAAO,CAAC72D,IAEVoE,SAAU,WACR,MAAO,QAAUpE,EAAI,KAEvB47E,OAAQ,SAAU59E,GAChB,OAAOA,EAAEi9E,GAAGj7E,IAEd67E,QAAS,SAAU79E,EAAGg+E,GACpB,OAAOh+E,EAAE+8E,KAAKN,GAAO,SAAU/3E,GAC7B,OAAOs5E,EAAUh8E,EAAG0C,QAI1B,OAAOq5E,GAKLE,EAAW,CACb5tE,KAAMA,EACNssE,KAAMA,EACNh7E,KANS,SAAUZ,GACnB,OAAOA,QAAwC67E,EAAOvsE,EAAKtP,KAQzDs9B,EAAc38B,MAAMN,UAAUU,MAC9B27B,EAAgB/7B,MAAMN,UAAUiQ,QAChC6sE,EAAax8E,MAAMN,UAAUsB,KAC7By7E,EAAa,SAAUC,EAAIt+E,GAC7B,OAAO29B,EAAcr9B,KAAKg+E,EAAIt+E,IAM5B8N,EAAW,SAAU8sE,EAAItzE,GAC3B,OAAO+2E,EAAWzD,EAAItzE,IAAM,GAE1Bs2E,EAAS,SAAUhD,EAAI2D,GACzB,IAAK,IAAIn+E,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,EAAKhb,IAAK,CAE7C,GAAIm+E,EADI3D,EAAGx6E,GACCA,GACV,OAAO,EAGX,OAAO,GAEL+E,EAAM,SAAUy1E,EAAIp2E,GAGtB,IAFA,IAAI4W,EAAMw/D,EAAG93E,OACThC,EAAI,IAAIc,MAAMwZ,GACThb,EAAI,EAAGA,EAAIgb,EAAKhb,IAAK,CAC5B,IAAIkH,EAAIszE,EAAGx6E,GACXU,EAAEV,GAAKoE,EAAE8C,EAAGlH,GAEd,OAAOU,GAELgxD,EAAO,SAAU8oB,EAAIp2E,GACvB,IAAK,IAAIpE,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,EAAKhb,IAAK,CAE7CoE,EADQo2E,EAAGx6E,GACNA,KAGLo+E,EAAQ,SAAU5D,EAAIp2E,GACxB,IAAK,IAAIpE,EAAIw6E,EAAG93E,OAAS,EAAG1C,GAAK,EAAGA,IAAK,CAEvCoE,EADQo2E,EAAGx6E,GACNA,KAgBL4d,EAAS,SAAU48D,EAAI2D,GAEzB,IADA,IAAIz9E,EAAI,GACCV,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,EAAKhb,IAAK,CAC7C,IAAIkH,EAAIszE,EAAGx6E,GACPm+E,EAAKj3E,EAAGlH,IACVU,EAAE8B,KAAK0E,GAGX,OAAOxG,GAEL29E,EAAQ,SAAU7D,EAAIp2E,EAAGk6E,GAI3B,OAHAF,EAAM5D,GAAI,SAAUtzE,GAClBo3E,EAAMl6E,EAAEk6E,EAAKp3E,MAERo3E,GAELC,EAAQ,SAAU/D,EAAIp2E,EAAGk6E,GAI3B,OAHA5sB,EAAK8oB,GAAI,SAAUtzE,GACjBo3E,EAAMl6E,EAAEk6E,EAAKp3E,MAERo3E,GAaL/wE,EAAO,SAAUitE,EAAI2D,GACvB,OAZc,SAAU3D,EAAI2D,EAAMK,GAClC,IAAK,IAAIx+E,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,EAAKhb,IAAK,CAC7C,IAAIkH,EAAIszE,EAAGx6E,GACX,GAAIm+E,EAAKj3E,EAAGlH,GACV,OAAO+9E,EAAS5tE,KAAKjJ,GAChB,GAAIs3E,EAAMt3E,EAAGlH,GAClB,MAGJ,OAAO+9E,EAAStB,OAGTgC,CAAUjE,EAAI2D,EAAM5B,IAEzBz+D,EAAY,SAAU08D,EAAI2D,GAC5B,IAAK,IAAIn+E,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,EAAKhb,IAAK,CAE7C,GAAIm+E,EADI3D,EAAGx6E,GACCA,GACV,OAAO+9E,EAAS5tE,KAAKnQ,GAGzB,OAAO+9E,EAAStB,QAYdz7E,EAAO,SAAUw5E,EAAIp2E,GACvB,OAXY,SAAUo2E,GAEtB,IADA,IAAI95E,EAAI,GACCV,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,IAAOhb,EAAG,CAC7C,IAAK0B,EAAQ84E,EAAGx6E,IACd,MAAM,IAAI0J,MAAM,oBAAsB1J,EAAI,6BAA+Bw6E,GAE3EwD,EAAW1/D,MAAM5d,EAAG85E,EAAGx6E,IAEzB,OAAOU,EAGAg+E,CAAQ35E,EAAIy1E,EAAIp2E,KAErBq5E,EAAS,SAAUjD,EAAI2D,GACzB,IAAK,IAAIn+E,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,IAAOhb,EAAG,CAE7C,IAAmB,IAAfm+E,EADI3D,EAAGx6E,GACCA,GACV,OAAO,EAGX,OAAO,GAELiZ,EAAU,SAAUuhE,GACtB,IAAI95E,EAAIy9B,EAAYj+B,KAAKs6E,EAAI,GAE7B,OADA95E,EAAEuY,UACKvY,GAELi+E,GAAa,SAAUC,EAAIC,GAC7B,OAAOjhE,EAAOghE,GAAI,SAAU13E,GAC1B,OAAQwG,EAASmxE,EAAI33E,OAgBrBzG,GAAM,SAAU+5E,EAAIx6E,GACtB,OAAOA,GAAK,GAAKA,EAAIw6E,EAAG93E,OAASq7E,EAAS5tE,KAAKqqE,EAAGx6E,IAAM+9E,EAAStB,QAE/D9nB,GAAO,SAAU6lB,GACnB,OAAO/5E,GAAI+5E,EAAI,IAEbsE,GAAO,SAAUtE,GACnB,OAAO/5E,GAAI+5E,EAAIA,EAAG93E,OAAS,IAEzBq8E,GAASvD,EAAWh6E,MAAMC,MAAQD,MAAMC,KAAO,SAAUyF,GAC3D,OAAOi3B,EAAYj+B,KAAKgH,IAYtBzE,GAAOnC,OAAOmC,KACdtB,GAAiBb,OAAOa,eACxB69E,GAAS,SAAU9sC,EAAK9tC,GAE1B,IADA,IAAI+uC,EAAQ1wC,GAAKyvC,GACR5rC,EAAI,EAAG0U,EAAMm4B,EAAMzwC,OAAQ4D,EAAI0U,EAAK1U,IAAK,CAChD,IAAItG,EAAImzC,EAAM7sC,GAEdlC,EADQ8tC,EAAIlyC,GACPA,KAGLi/E,GAAQ,SAAU/sC,EAAK9tC,GACzB,OAAO86E,GAAShtC,GAAK,SAAUhrC,EAAGlH,GAChC,MAAO,CACLsG,EAAGtG,EACHuE,EAAGH,EAAE8C,EAAGlH,QAIVk/E,GAAW,SAAUhtC,EAAK9tC,GAC5B,IAAI1D,EAAI,GAKR,OAJAs+E,GAAO9sC,GAAK,SAAUhrC,EAAGlH,GACvB,IAAIm/E,EAAQ/6E,EAAE8C,EAAGlH,GACjBU,EAAEy+E,EAAM74E,GAAK64E,EAAM56E,KAEd7D,GAEL0+E,GAAS,SAAU1+E,GACrB,OAAO,SAAUwG,EAAGlH,GAClBU,EAAEV,GAAKkH,IAGPm4E,GAAiB,SAAUntC,EAAKisC,EAAMmB,EAAQC,GAKhD,OAHAP,GAAO9sC,GAAK,SAAUhrC,EAAGlH,IACtBm+E,EAAKj3E,EAAGlH,GAAKs/E,EAASC,GAASr4E,EAAGlH,MAF7B,IAMNw/E,GAAW,SAAUttC,EAAKisC,GAC5B,IAAIv+E,EAAI,GACJwE,EAAI,GAER,OADAi7E,GAAentC,EAAKisC,EAAMiB,GAAOx/E,GAAIw/E,GAAOh7E,IACrC,CACLxE,EAAGA,EACHwE,EAAGA,IAGHq7E,GAAW,SAAUvtC,EAAKisC,GAC5B,IAAIv+E,EAAI,GAER,OADAy/E,GAAentC,EAAKisC,EAAMiB,GAAOx/E,GAAI87E,GAC9B97E,GASLgG,GAAS,SAAUssC,GACrB,OARe,SAAUA,EAAK9tC,GAC9B,IAAI1D,EAAI,GAIR,OAHAs+E,GAAO9sC,GAAK,SAAUrxC,EAAOiS,GAC3BpS,EAAE8B,KAAK4B,EAAEvD,EAAOiS,OAEXpS,EAGAg/E,CAAWxtC,GAAK,SAAU3tC,GAC/B,OAAOA,MAGPo7E,GAAQ,SAAUztC,EAAKrrC,GACzB,OAAO2M,GAAI0+B,EAAKrrC,GAAOk3E,EAASt8E,KAAKywC,EAAIrrC,IAAQk3E,EAAStB,QAExDjpE,GAAM,SAAU0+B,EAAKrrC,GACvB,OAAO1F,GAAejB,KAAKgyC,EAAKrrC,IAE9B+4E,GAAoB,SAAU1tC,EAAKrrC,GACrC,OAAO2M,GAAI0+B,EAAKrrC,SAAqB0L,IAAb2/B,EAAIrrC,IAAmC,OAAbqrC,EAAIrrC,IASpDg5E,GAAYr+E,MAAME,QAYlBo+E,GAAS,SAAUhgF,EAAGigF,EAAI1+E,GAC5B,IAAItB,EAAGE,EACP,IAAKH,EACH,OAAO,EAGT,GADAuB,EAAIA,GAAKvB,OACQyS,IAAbzS,EAAE4C,QACJ,IAAK3C,EAAI,EAAGE,EAAIH,EAAE4C,OAAQ3C,EAAIE,EAAGF,IAC/B,IAA+B,IAA3BggF,EAAG7/E,KAAKmB,EAAGvB,EAAEC,GAAIA,EAAGD,GACtB,OAAO,OAIX,IAAKC,KAAKD,EACR,GAAIA,EAAEqB,eAAepB,KACY,IAA3BggF,EAAG7/E,KAAKmB,EAAGvB,EAAEC,GAAIA,EAAGD,GACtB,OAAO,EAKf,OAAO,GAELkgF,GAAQ,SAAUrhE,EAAOuqB,GAC3B,IAAI+2C,EAAM,GAIV,OAHAH,GAAOnhE,GAAO,SAAU2lC,EAAM5xC,GAC5ButE,EAAIz9E,KAAK0mC,EAASob,EAAM5xC,EAAOiM,OAE1BshE,GAELC,GAAW,SAAUp+E,EAAGsC,GAC1B,IAAItE,EAAI,GAMR,OALAggF,GAAOh+E,GAAG,SAAUyC,EAAGmO,GAChBtO,IAAKA,EAAEG,EAAGmO,EAAO5Q,IACpBhC,EAAE0C,KAAK+B,MAGJzE,GAELqgF,GAAY,SAAUr+E,EAAGyC,GAC3B,GAAIzC,EACF,IAAK,IAAI9B,EAAI,EAAGC,EAAI6B,EAAEY,OAAQ1C,EAAIC,EAAGD,IACnC,GAAI8B,EAAE9B,KAAOuE,EACX,OAAOvE,EAIb,OAAQ,GAENiD,GAAS,SAAUm9E,EAAYC,EAAUC,EAAaC,GAExD,IADA,IAAIjC,EAAMjD,EAAYiF,GAAeF,EAAW,GAAKE,EAC5CtgF,EAAI,EAAGA,EAAIogF,EAAW19E,OAAQ1C,IACrCs+E,EAAM+B,EAASngF,KAAKqgF,EAASjC,EAAK8B,EAAWpgF,GAAIA,GAEnD,OAAOs+E,GAELkC,GAAc,SAAU7hE,EAAOukB,EAAWq9C,GAC5C,IAAIvgF,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAI0e,EAAMjc,OAAQ1C,EAAIC,EAAGD,IACnC,GAAIkjC,EAAUhjC,KAAKqgF,EAAS5hE,EAAM3e,GAAIA,EAAG2e,GACvC,OAAO3e,EAGX,OAAQ,GAENygF,GAAS,SAAUL,GACrB,OAAOA,EAAWA,EAAW19E,OAAS,IAGpCg+E,GAAW,WAUb,OATAA,GAAWpgF,OAAOmG,QAAU,SAAkB7G,GAC5C,IAAK,IAAIyB,EAAGrB,EAAI,EAAGD,EAAI8B,UAAUa,OAAQ1C,EAAID,EAAGC,IAE9C,IAAK,IAAIoB,KADTC,EAAIQ,UAAU7B,GAERM,OAAOY,UAAUC,eAAejB,KAAKmB,EAAGD,KAC1CxB,EAAEwB,GAAKC,EAAED,IAEf,OAAOxB,IAEO0e,MAAMhU,KAAMzI,YAc9B,SAAS8+E,KACP,IAAK,IAAIt/E,EAAI,EAAGrB,EAAI,EAAG4gF,EAAK/+E,UAAUa,OAAQ1C,EAAI4gF,EAAI5gF,IACpDqB,GAAKQ,UAAU7B,GAAG0C,OACf,IAAIhC,EAAIc,MAAMH,GAAIiF,EAAI,EAA3B,IAA8BtG,EAAI,EAAGA,EAAI4gF,EAAI5gF,IAC3C,IAAK,IAAI8B,EAAID,UAAU7B,GAAIqZ,EAAI,EAAGwnE,EAAK/+E,EAAEY,OAAQ2W,EAAIwnE,EAAIxnE,IAAK/S,IAC5D5F,EAAE4F,GAAKxE,EAAEuX,GACb,OAAO3Y,EAGT,IAmEIogF,GAAU,WACZ,OAAOC,GAAG,EAAG,IAEXA,GAAK,SAAUC,EAAOC,GACxB,MAAO,CACLD,MAAOA,EACPC,MAAOA,IAGPC,GAAU,CACZH,GAAIA,GACJI,OAlBW,SAAUC,EAAgBC,GACrC,IAAIC,EAAexvE,OAAOuvE,GAAOn8E,cACjC,OAA8B,IAA1Bk8E,EAAe1+E,OACVo+E,KAhBE,SAAUS,EAASF,GAC9B,IAAI3gF,EAVW,SAAU6gF,EAASlgF,GAClC,IAAK,IAAIrB,EAAI,EAAGA,EAAIuhF,EAAQ7+E,OAAQ1C,IAAK,CACvC,IAAIkH,EAAIq6E,EAAQvhF,GAChB,GAAIkH,EAAExB,KAAKrE,GACT,OAAO6F,GAMHs6E,CAAWD,EAASF,GAC5B,IAAK3gF,EACH,MAAO,CACLsgF,MAAO,EACPC,MAAO,GAGX,IAAIQ,EAAQ,SAAUzhF,GACpB,OAAOoD,OAAOi+E,EAAM59E,QAAQ/C,EAAG,IAAMV,KAEvC,OAAO+gF,GAAGU,EAAM,GAAIA,EAAM,IAOnBC,CAAON,EAAgBE,IAc9BR,QAASA,IAGPa,GAAW,SAAUC,EAAYn8D,GACnC,IAAI47D,EAAQvvE,OAAO2T,GAAWvgB,cAC9B,OAAOqI,EAAKq0E,GAAY,SAAUC,GAChC,OAAOA,EAAUzwC,OAAOiwC,OAqBxBS,GAlBgB,SAAUC,EAAUt8D,GACtC,OAAOk8D,GAASI,EAAUt8D,GAAW1gB,KAAI,SAAUi9E,GACjD,IAAIx8D,EAAU07D,GAAQC,OAAOa,EAAQZ,eAAgB37D,GACrD,MAAO,CACLw8D,QAASD,EAAQlvE,KACjB0S,QAASA,OAaXs8D,GATW,SAAUI,EAAMz8D,GAC7B,OAAOk8D,GAASO,EAAMz8D,GAAW1gB,KAAI,SAAUo9E,GAC7C,IAAI38D,EAAU07D,GAAQC,OAAOgB,EAAGf,eAAgB37D,GAChD,MAAO,CACLw8D,QAASE,EAAGrvE,KACZ0S,QAASA,OAmBX48D,GAAa,SAAUt6D,EAAKu6D,GAC9B,OAAgC,IAAzBv6D,EAAI3W,QAAQkxE,IAEjBl7E,GAAa,SAAU2gB,EAAKsyC,GAC9B,OAVe,SAAUtyC,EAAKu6D,EAAQv5E,GACtC,MAAkB,KAAXu5E,GAAiBv6D,EAAIplB,QAAU2/E,EAAO3/E,QAAUolB,EAAIu6D,OAAOv5E,EAAOA,EAAQu5E,EAAO3/E,UAAY2/E,EAS7FC,CAAWx6D,EAAKsyC,EAAQ,IAE7BmoB,GAAQ,SAAU7hF,GACpB,OAAO,SAAUW,GACf,OAAOA,EAAEoC,QAAQ/C,EAAG,MAGpByB,GAAOogF,GAAM,cACbC,GAAQD,GAAM,SACdE,GAAQF,GAAM,SACdG,GAAa,SAAUrhF,GACzB,OAAOA,EAAEqB,OAAS,GAGhBigF,GAAqB,sCACrBC,GAAgB,SAAU//E,GAC5B,OAAO,SAAUggF,GACf,OAAOT,GAAWS,EAAUhgF,KAG5Bk/E,GAAW,CACb,CACEjvE,KAAM,OACNsuE,eAAgB,CAAC,kCACjBhwC,OAAQ,SAAUyxC,GAChB,OAAOT,GAAWS,EAAU,UAAYT,GAAWS,EAAU,WAAaT,GAAWS,EAAU,WAAaT,GAAWS,EAAU,iBAGrI,CACE/vE,KAAM,SACNsuE,eAAgB,CACd,kCACAuB,IAEFvxC,OAAQ,SAAUyxC,GAChB,OAAOT,GAAWS,EAAU,YAAcT,GAAWS,EAAU,iBAGnE,CACE/vE,KAAM,KACNsuE,eAAgB,CACd,iCACA,8BAEFhwC,OAAQ,SAAUyxC,GAChB,OAAOT,GAAWS,EAAU,SAAWT,GAAWS,EAAU,aAGhE,CACE/vE,KAAM,QACNsuE,eAAgB,CACduB,GACA,kCAEFvxC,OAAQwxC,GAAc,UAExB,CACE9vE,KAAM,UACNsuE,eAAgB,CAAC,uCACjBhwC,OAAQwxC,GAAc,YAExB,CACE9vE,KAAM,SACNsuE,eAAgB,CACduB,GACA,iCAEFvxC,OAAQ,SAAUyxC,GAChB,OAAQT,GAAWS,EAAU,WAAaT,GAAWS,EAAU,aAAeT,GAAWS,EAAU,kBAIrGX,GAAO,CACT,CACEpvE,KAAM,UACNs+B,OAAQwxC,GAAc,OACtBxB,eAAgB,CAAC,0CAEnB,CACEtuE,KAAM,MACNs+B,OAAQ,SAAUyxC,GAChB,OAAOT,GAAWS,EAAU,WAAaT,GAAWS,EAAU,SAEhEzB,eAAgB,CACd,sCACA,+BACA,wCAGJ,CACEtuE,KAAM,UACNs+B,OAAQwxC,GAAc,WACtBxB,eAAgB,CAAC,sCAEnB,CACEtuE,KAAM,MACNs+B,OAAQwxC,GAAc,YACtBxB,eAAgB,CAAC,wCAEnB,CACEtuE,KAAM,QACNs+B,OAAQwxC,GAAc,SACtBxB,eAAgB,IAElB,CACEtuE,KAAM,UACNs+B,OAAQwxC,GAAc,SACtBxB,eAAgB,IAElB,CACEtuE,KAAM,UACNs+B,OAAQwxC,GAAc,WACtBxB,eAAgB,IAElB,CACEtuE,KAAM,WACNs+B,OAAQwxC,GAAc,QACtBxB,eAAgB,CAAC,qCAGjB0B,GAAe,CACjBf,SAAUjG,EAASiG,IACnBG,KAAMpG,EAASoG,KAGba,GAAO,OACPC,GAAS,SAETtuE,GAAQ,QACRuuE,GAAU,UACVC,GAAS,SAOTC,GAAO,SAAUzpC,GACnB,IAAIuoC,EAAUvoC,EAAKuoC,QACfz8D,EAAUk0B,EAAKl0B,QACf49D,EAAY,SAAUtwE,GACxB,OAAO,WACL,OAAOmvE,IAAYnvE,IAGvB,MAAO,CACLmvE,QAASA,EACTz8D,QAASA,EACT69D,OAAQD,EAAUL,IAClBO,SAAUF,EAAUJ,IACpBO,KAAMH,EAvBD,MAwBLI,QAASJ,EAAU1uE,IACnB+uE,UAAWL,EAAUH,IACrBS,SAAUN,EAAUF,MAGpBS,GAAU,CACZ7C,QA1Bc,WACd,OAAOqC,GAAK,CACVlB,aAAS1vE,EACTiT,QAAS07D,GAAQJ,aAwBnBC,GAAIoC,GACJJ,KAAMjH,EAASiH,IACfC,OAAQlH,EAASkH,IACjBY,GAAI9H,EAlCG,MAmCPpnE,MAAOonE,EAASpnE,IAChBuuE,QAASnH,EAASmH,IAClBC,OAAQpH,EAASoH,KAGfW,GAAU,UAEVC,GAAU,UACVC,GAAQ,QAERC,GAAU,UACVC,GAAU,UACVC,GAAW,WAOXC,GAAO,SAAUzqC,GACnB,IAAIuoC,EAAUvoC,EAAKuoC,QACfz8D,EAAUk0B,EAAKl0B,QACf4+D,EAAO,SAAUtxE,GACnB,OAAO,WACL,OAAOmvE,IAAYnvE,IAGvB,MAAO,CACLmvE,QAASA,EACTz8D,QAASA,EACT6+D,UAAWD,EAAKP,IAChBS,MAAOF,EAzBD,OA0BNG,UAAWH,EAAKN,IAChBU,MAAOJ,EAxBD,OAyBNK,QAASL,EAAKL,IACdW,UAAWN,EAAKJ,IAChBW,UAAWP,EAAKH,IAChBW,WAAYR,EAAKF,MAGjBW,GAAkB,CACpB/D,QA5Bc,WACd,OAAOqD,GAAK,CACVlC,aAAS1vE,EACTiT,QAAS07D,GAAQJ,aA0BnBC,GAAIoD,GACJN,QAAS/H,EAAS+H,IAClBiB,IAAKhJ,EAtCG,OAuCRgI,QAAShI,EAASgI,IAClBC,MAAOjI,EAASiI,IAChBgB,IAAKjJ,EAtCG,OAuCRkI,QAASlI,EAASkI,IAClBC,QAASnI,EAASmI,IAClBC,SAAUpI,EAASoI,KAejBc,GAZW,SAAUv/D,EAAWw/D,GAClC,IAAIlD,EAAWe,GAAaf,WACxBG,EAAOY,GAAaZ,OACpBF,EAAUF,GAAuBC,EAAUt8D,GAAWo3D,KAAK8G,GAAQ7C,QAAS6C,GAAQ5C,IACpFoB,EAAKL,GAAkBI,EAAMz8D,GAAWo3D,KAAKgI,GAAgB/D,QAAS+D,GAAgB9D,IACtFmE,EAzUW,SAAU/C,EAAIH,EAASv8D,EAAWw/D,GACjD,IAAIE,EAAShD,EAAGmC,UAAuC,IAA5B,QAAQ5+E,KAAK+f,GACpC2/D,EAAWjD,EAAGmC,UAAYa,EAC1BE,EAAWlD,EAAGmC,SAAWnC,EAAGoC,YAC5Be,EAAUD,GAAYJ,EAAW,oBACjCM,EAAWJ,IAAWC,GAAYC,GAAYJ,EAAW,4BACzDO,EAAUJ,GAAYC,IAAaE,EACnCE,EAAazD,EAAQ0B,YAAcvB,EAAGmC,UAAyC,IAA9B,UAAU5+E,KAAK+f,GAChEigE,GAAaF,IAAYD,IAAaE,EAC1C,MAAO,CACLN,OAAQrJ,EAASqJ,GACjBC,SAAUtJ,EAASsJ,GACnBG,SAAUzJ,EAASyJ,GACnBC,QAAS1J,EAAS0J,GAClBF,QAASxJ,EAASwJ,GAClBf,UAAWpC,EAAGoC,UACdD,MAAOnC,EAAGmC,MACVqB,UAAW7J,EAAS2J,GACpBC,UAAW5J,EAAS4J,IAuTLE,CAAWzD,EAAIH,EAASv8D,EAAWw/D,GACpD,MAAO,CACLjD,QAASA,EACTG,GAAIA,EACJ+C,WAAYA,IAKZD,GAAa,SAAUp9C,GACzB,OAAOpoC,OAAOomF,WAAWh+C,GAAOi+C,SAE9BnX,GArWS,SAAUvqE,GACrB,IACI1D,EADAqf,GAAS,EAEb,OAAO,WAEL,IADA,IAAIspB,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAMvB,OAJKljC,IACHA,GAAS,EACTrf,EAAI0D,EAAEka,MAAM,KAAM+qB,IAEb3oC,GAyVIqlF,EAAO,WACpB,OAAOf,GAAyB90B,UAAUzqC,UAAWw/D,OAEnDe,GAAW,WACb,OAAOrX,MAGLlpD,GAAYyqC,UAAUzqC,UACtBwgE,GAAaD,KACbhE,GAAUiE,GAAWjE,QACrBG,GAAK8D,GAAW9D,GAChB+C,GAAae,GAAWf,WACxBgB,GAAS,SAASxgF,KAAK+f,MAAeu8D,GAAQqB,SAC9C8C,GAAU,aAAc1mF,QAAU,eAAgBA,QAAU,QAASA,UAAYsuB,IAAI4jB,gBACrFy0C,IAAuD,IAAxC3gE,GAAUtU,QAAQ,iBACjCk1E,GAAM,CACR3xE,MAAOstE,GAAQwB,UACf0C,OAAQA,GACRtC,MAAI5B,GAAQuB,SAAUvB,GAAQqB,WAAWrB,GAAQx8D,QAAQw7D,MACzDsF,MAAOtE,GAAQyB,YACf8C,IAAKpE,GAAGqC,SAAWrC,GAAGmC,QACtBkC,IAAKtB,GAAWC,UAAYD,GAAWE,WACvCtB,QAAS3B,GAAGoC,YACZkC,iBAAiB,EACjBC,eAAgB,iFAChBC,YAAY,EACZjpB,MAAOj+D,OAAOmnF,cAAgB,UAAWnnF,OACzCowE,aAAcmS,GAAQuB,OAASvhF,SAAS6tE,cAAgB,EAAI,GAC5DsW,QAASA,GACTU,SAAS,EACTC,YAAa,KACbn9E,UAAW,KACXo9E,uBAAuB,EACvBC,YAAahF,GAAQuB,OACrB0D,QAAS/B,GAAWQ,YACpBU,aAAcA,GACdpE,QAAS,CACPC,QAASD,GAAQC,QACjBz8D,QAASw8D,GAAQx8D,QACjB89D,SAAUtB,GAAQsB,SAClBD,OAAQrB,GAAQqB,OAChBI,UAAWzB,GAAQyB,UACnBF,KAAMvB,GAAQuB,KACdC,QAASxB,GAAQwB,QACjBE,SAAU1B,GAAQ0B,UAEpBvB,GAAI,CACFF,QAASE,GAAGF,QACZz8D,QAAS28D,GAAG38D,QACZ++D,UAAWpC,GAAGoC,UACdK,WAAYzC,GAAGyC,WACfD,UAAWxC,GAAGwC,UACdL,MAAOnC,GAAGmC,MACVG,QAAStC,GAAGsC,QACZD,MAAOrC,GAAGqC,MACVE,UAAWvC,GAAGuC,UACdL,UAAWlC,GAAGkC,WAEhBa,WAAY,CACVQ,UAAWR,GAAWQ,UACtBP,OAAQD,GAAWC,OACnBC,SAAUF,GAAWE,SACrBI,QAASN,GAAWM,QACpBD,SAAUL,GAAWK,SACrBD,QAASJ,GAAWI,QACpBK,UAAWT,GAAWS,YAItBuB,GAAmB,aACnBC,GAAS,SAAUr/D,GACrB,OAAOA,QAAoC,IAAM,GAAKA,GAAKrkB,QAAQyjF,GAAkB,KAEnFnK,GAAK,SAAU7qC,EAAKrsC,GACtB,OAAKA,IAGQ,UAATA,IAAoBg6E,GAAU3tC,YAGpBA,IAAQrsC,OALL0M,IAAR2/B,GAoGPk1C,GAAO,SAAUtnF,EAAGsE,EAAGrE,EAAGsB,GAC5BA,EAAIA,GAAKiJ,KACLxK,IACEC,IACFD,EAAIA,EAAEC,IAER+/E,GAAOhgF,GAAG,SAAUA,EAAGE,GACrB,IAA2B,IAAvBoE,EAAElE,KAAKmB,EAAGvB,EAAGE,EAAGD,GAClB,OAAO,EAETqnF,GAAKtnF,EAAGsE,EAAGrE,EAAGsB,QA0ChBgmF,GAAQ,CACVllF,KAAMglF,GACNzlF,QAASm+E,GACT9C,GAAIA,GACJpkB,QA7rBY,SAAUzmB,GACtB,GAAK2tC,GAAU3tC,GAOb,OAAOA,EALP,IADA,IAAIvzB,EAAQ,GACH3e,EAAI,EAAGC,EAAIiyC,EAAIxvC,OAAQ1C,EAAIC,EAAGD,IACrC2e,EAAM3e,GAAKkyC,EAAIlyC,GAEjB,OAAO2e,GAwrBT2oE,QAtJY,SAAUvjC,EAAOwjC,EAAOxiF,GACpC,IAAI/E,EAQJ,IANAunF,EAAQA,GAAS,IACI,iBAFrBxjC,EAAQA,GAAS,MAGfA,EAAQA,EAAM/gD,MAAMukF,IAEtBxiF,EAAMA,GAAO,GACb/E,EAAI+jD,EAAMrhD,OACH1C,KACL+E,EAAIg/C,EAAM/jD,IAAM,GAElB,OAAO+E,GA2IP2sD,KAAMouB,GACN/6E,IAAKi7E,GACLwH,KAAMtH,GACNzpB,QAAS0pB,GACTx5C,OA7IqB,SAAUuL,EAAKC,GACpC,OAAO7xC,OAAOY,UAAUC,eAAejB,KAAKgyC,EAAKC,IA6IjDiO,OAjFW,SAAUlO,GAErB,IADA,IAAIu1C,EAAO,GACFxkC,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtCwkC,EAAKxkC,EAAK,GAAKphD,UAAUohD,GAE3B,IAAK,IAAIjjD,EAAI,EAAGA,EAAIynF,EAAK/kF,OAAQ1C,IAAK,CACpC,IAAI0nF,EAAMD,EAAKznF,GACf,IAAK,IAAI2nF,KAAUD,EACjB,GAAIA,EAAIvmF,eAAewmF,GAAS,CAC9B,IAAI9mF,EAAQ6mF,EAAIC,QACFp1E,IAAV1R,IACFqxC,EAAIy1C,GAAU9mF,IAKtB,OAAOqxC,GAkEPnxC,OA5IW,SAAUM,EAAGD,EAAGyM,GAC3B,IACI+5E,EAAIC,EAAKznF,EADTqR,EAAOnH,KACKw9E,EAAK,EAEjBC,GADJ1mF,EAAI,oCAAoCsE,KAAKtE,IAClC,GAAGyD,MAAM,iBAAiB,GACjCkjF,EAAKv2E,EAAKw2E,SAAS5mF,EAAE,GAAGoC,QAAQ,SAAU,IAAKoK,GACnD,IAAIm6E,EAAGD,GAAP,CAGA,GAAa,WAAT1mF,EAAE,GAKJ,OAJA2mF,EAAGD,GAAM3mF,OACLkJ,KAAK49E,UACP59E,KAAK49E,SAAS7mF,EAAE,GAAIA,EAAE,GAAI2mF,EAAGD,KAI5B3mF,EAAE2mF,KACL3mF,EAAE2mF,GAAM,aAERD,EAAK,GAEPE,EAAGD,GAAM3mF,EAAE2mF,GACXt2E,EAAK2uC,OAAO4nC,EAAGD,GAAI7mF,UAAWE,GAC1BC,EAAE,KACJumF,EAAKn2E,EAAK8nD,QAAQl4D,EAAE,IAAIH,UACxB2mF,EAAMxmF,EAAE,GAAGyD,MAAM,aAAa,GAC9B1E,EAAI4nF,EAAGD,GAELC,EAAGD,GADDD,EACO,WACP,OAAOF,EAAGC,GAAKvpE,MAAMhU,KAAMzI,YAGpB,WAEP,OADAyI,KAAK6zD,OAASypB,EAAGC,GACVznF,EAAEke,MAAMhU,KAAMzI,YAGzBmmF,EAAGD,GAAI7mF,UAAU6mF,GAAMC,EAAGD,GAC1Bt2E,EAAKigD,KAAKk2B,GAAI,SAAUxjF,EAAGrE,GACzBioF,EAAGD,GAAI7mF,UAAUnB,GAAK6nF,EAAG7nF,MAE3B0R,EAAKigD,KAAKtwD,GAAG,SAAUgD,EAAGrE,GACpB6nF,EAAG7nF,GACLioF,EAAGD,GAAI7mF,UAAUnB,GAAK,WAEpB,OADAuK,KAAK6zD,OAASypB,EAAG7nF,GACVqE,EAAEka,MAAMhU,KAAMzI,YAGnB9B,IAAMgoF,IACRC,EAAGD,GAAI7mF,UAAUnB,GAAKqE,OAK9BqN,EAAKigD,KAAKtwD,EAAE+mF,QAAQ,SAAU/jF,EAAGrE,GAC/BioF,EAAGD,GAAIhoF,GAAKqE,OAsFdgjF,KAAMA,GACNa,SApDa,SAAUloF,EAAGD,GAC1B,IAAIE,EAAGuE,EAGP,IAFAzE,EAAIA,GAAKL,OACTM,EAAIA,EAAEiD,MAAM,KACPhD,EAAI,EAAGA,EAAID,EAAE2C,OAAQ1C,IAEnBF,EADLyE,EAAIxE,EAAEC,MAEJF,EAAEyE,GAAK,IAETzE,EAAIA,EAAEyE,GAER,OAAOzE,GA0CPy5D,QAxCY,SAAUx5D,EAAGD,GACzB,IAAIE,EAAGC,EAGP,IAFAH,EAAIA,GAAKL,OAEJO,EAAI,EAAGC,GADZF,EAAIA,EAAEiD,MAAM,MACMN,OAAQ1C,EAAIC,IAC5BH,EAAIA,EAAEC,EAAEC,KADuBA,KAMjC,OAAOF,GA+BPsoF,QA7BY,SAAU/mF,EAAGhB,GACzB,OAAKgB,GAAK07E,GAAG17E,EAAG,SACPA,EAEF2+E,GAAM3+E,EAAE2B,MAAM3C,GAAK,KAAM8mF,KA0BhCkB,gBAxBoB,SAAUv6D,GAC9B,IAAIg5D,EAAcT,GAAIS,YAItB,OAHIA,IACFh5D,KAA8B,IAAtBA,EAAI3c,QAAQ,KAAc,IAAM,KAAO21E,GAE1Ch5D,IA0CLw6D,GAAU,SAAUltC,GACtB,GAAIA,QACF,MAAM,IAAI1xC,MAAM,oCAElB,MAAO,CAAE6+E,IAAKntC,IAKZotC,GAAe,CACjBC,SA9Ba,SAAUh5D,EAAMi5D,GAC7B,IACI/3B,GADM+3B,GAAS1mF,UACLC,cAAc,OAE5B,GADA0uD,EAAIzuD,UAAYutB,GACXkhC,EAAIg4B,iBAAmBh4B,EAAIC,WAAWluD,OAAS,EAElD,MADAsiD,QAAQ7uC,MAAM,wCAAyCsZ,GACjD,IAAI/lB,MAAM,qCAElB,OAAO4+E,GAAQ33B,EAAIC,WAAW,KAuB9Bg4B,QArBY,SAAUnoE,EAAKioE,GAC3B,IACIttC,GADMstC,GAAS1mF,UACJC,cAAcwe,GAC7B,OAAO6nE,GAAQltC,IAmBfytC,SAjBa,SAAUlzB,EAAM+yB,GAC7B,IACIttC,GADMstC,GAAS1mF,UACJ8mF,eAAenzB,GAC9B,OAAO2yB,GAAQltC,IAefktC,QAASA,GACTS,UARc,SAAUC,EAAQ9hF,EAAGxC,GACnC,OAAOq5E,EAASt8E,KAAKunF,EAAOT,IAAIU,iBAAiB/hF,EAAGxC,IAAIK,IAAIujF,MAU1DY,GAAY,SAAUrmF,EAAQuB,GAChC,IAAI1D,EAAI,GACJyoF,EAAU,SAAUtpF,GAEtB,OADAa,EAAE8B,KAAK3C,GACAuE,EAAEvE,IAEPupF,EAAMhlF,EAAEvB,GACZ,GACEumF,EAAMA,EAAIpoF,KAAKmoF,SACRC,EAAIpM,UACb,OAAOt8E,GAgBL2oF,GAAO,SAAU9hF,EAAS62D,GAC5B,IAAImqB,EAAMhhF,EAAQghF,IAClB,GALY,IAKRA,EAAIxoC,SACN,OAAO,EAEP,IAAIga,EAAOwuB,EACX,QAAqBh2E,IAAjBwnD,EAAK+rB,QACP,OAAO/rB,EAAK+rB,QAAQ1nB,GACf,QAA+B7rD,IAA3BwnD,EAAKuvB,kBACd,OAAOvvB,EAAKuvB,kBAAkBlrB,GACzB,QAAmC7rD,IAA/BwnD,EAAKwvB,sBACd,OAAOxvB,EAAKwvB,sBAAsBnrB,GAC7B,QAAgC7rD,IAA5BwnD,EAAKyvB,mBACd,OAAOzvB,EAAKyvB,mBAAmBprB,GAE/B,MAAM,IAAI10D,MAAM,mCAIlB+/E,GAAiB,SAAUlB,GAC7B,OAvBY,IAuBLA,EAAIxoC,UAzBE,IAyBsBwoC,EAAIxoC,UAxBjB,KAwB0CwoC,EAAIxoC,UAA4D,IAA1BwoC,EAAImB,mBAWxGC,GAAO,SAAUC,EAAIC,GACvB,OAAOD,EAAGrB,MAAQsB,EAAGtB,KAOnBuB,GAAa,SAAUF,EAAIC,GAC7B,OAlD0C/nF,EAkDP8nF,EAAGrB,IAlDO/jF,EAkDFqlF,EAAGtB,IArDlB,SAAUzmF,EAAG0C,EAAGM,GAC5C,OAAkD,IAA1ChD,EAAEioF,wBAAwBvlF,GAAKM,GAGhCilF,CAAwBjoF,EAAG0C,EAAGwlF,KAAKC,gCADV,IAAUnoF,EAAG0C,GAoD3C0lF,GAAa,SAAUN,EAAIC,GAC7B,OAAO7D,KAAWhE,QAAQuB,OAASuG,GAAWF,EAAIC,GAT9B,SAAUD,EAAIC,GAClC,IAAIM,EAAKP,EAAGrB,IACR6B,EAAKP,EAAGtB,IACZ,OAAO4B,IAAOC,GAAaD,EAAGz8E,SAAS08E,GAMiBC,CAAgBT,EAAIC,IAK1E/2E,IAF2B,oBAAXrT,OAAyBA,OAASgW,SAAS,eAATA,GAE3C,SAAUlO,GAEnB,OADQA,EAAQghF,IAAInrC,SACXl4C,gBAEPW,GAAO,SAAU0B,GACnB,OAAOA,EAAQghF,IAAIxoC,UAEjBuqC,GAAW,SAAU1qF,GACvB,OAAO,SAAU2H,GACf,OAAO1B,GAAK0B,KAAa3H,IAMzBq6D,GAAYqwB,GAlEF,GAmEVC,GAASD,GAlEF,GAmEPE,GAAaF,GAtEF,GAuEXG,GAAqBH,GAtED,IAwEpBI,GAAQ,SAAUnjF,GACpB,OAAOihF,GAAaF,QAAQ/gF,EAAQghF,IAAIoC,gBAEtCC,GAAkB,SAAUC,GAC9B,OAAOL,GAAWK,GAAOA,EAAMH,GAAMG,IAKnCC,GAAc,SAAUvjF,GAC1B,OAAOihF,GAAaF,QAAQsC,GAAgBrjF,GAASghF,IAAIuC,cAEvD3sB,GAAS,SAAU52D,GACrB,OAAOw2E,EAASt8E,KAAK8F,EAAQghF,IAAIr6E,YAAYnJ,IAAIyjF,GAAaF,UA0B5DyC,GAAc,SAAUxjF,GAC1B,OAAOw2E,EAASt8E,KAAK8F,EAAQghF,IAAIyC,iBAAiBjmF,IAAIyjF,GAAaF,UAEjEv6E,GAAc,SAAUxG,GAC1B,OAAOw2E,EAASt8E,KAAK8F,EAAQghF,IAAIx6E,aAAahJ,IAAIyjF,GAAaF,UAE7D2C,GAAe,SAAU1jF,GAC3B,OAAO0R,EAAQiwE,GAAU3hF,EAASwjF,MAEhCG,GAAe,SAAU3jF,GAC3B,OAAO2hF,GAAU3hF,EAASwG,KAExBxL,GAAW,SAAUgF,GACvB,OAAOxC,EAAIwC,EAAQghF,IAAI33B,WAAY43B,GAAaF,UAE9ClvC,GAAQ,SAAU7xC,EAASmL,GAC7B,IAAIy4E,EAAK5jF,EAAQghF,IAAI33B,WACrB,OAAOmtB,EAASt8E,KAAK0pF,EAAGz4E,IAAQ3N,IAAIyjF,GAAaF,UAE/C8C,GAAa,SAAU7jF,GACzB,OAAO6xC,GAAM7xC,EAAS,IAEpB8jF,GAAY,SAAU9jF,GACxB,OAAO6xC,GAAM7xC,EAASA,EAAQghF,IAAI33B,WAAWluD,OAAS,IAcpD4oF,GAAe,SAAUT,GAC3B,OAAOJ,GAAmBI,IAAQtP,EAAcsP,EAAItC,IAAIh6D,OAEtDg9D,GAAY/P,EAAWz4E,QAAQ7B,UAAUsqF,eAAiBhQ,EAAWwO,KAAK9oF,UAAUuqF,aACpFC,GAAc5P,EAASyP,IACvBE,GAAcF,GAAY,SAAU1rF,GACtC,OAAO2oF,GAAaF,QAAQzoF,EAAE0oF,IAAIkD,gBAChCb,GACAe,GAAoB,SAAUd,GAChC,OAAOS,GAAaT,GAAOA,EAjBf,SAAU91B,GACtB,IAAIvwD,EAAIuwD,EAAIwzB,IAAI5zB,KAChB,GAAInwD,QACF,MAAM,IAAIkF,MAAM,6BAElB,OAAO8+E,GAAaF,QAAQ9jF,GAYKonF,CAAQhB,GAAgBC,KAMvDgB,GAAgB,SAAUhsF,GAC5B,OAAO2oF,GAAaF,QAAQzoF,EAAE0oF,IAAIh6D,OAgBhCu9D,GAAmB,SAAUvkF,GAC/B,OAAOg0E,EAAch0E,EAAQghF,IAAIplF,aAG/B4oF,GAAS,SAAUC,EAAQzkF,GACd42D,GAAO6tB,GACbt6B,MAAK,SAAUntD,GACtBA,EAAEgkF,IAAIv6E,aAAazG,EAAQghF,IAAKyD,EAAOzD,SAGvC0D,GAAQ,SAAUD,EAAQzkF,GACdwG,GAAYi+E,GAClBnP,MAAK,WACI1e,GAAO6tB,GACbt6B,MAAK,SAAUntD,GACtBskC,GAAOtkC,EAAGgD,SAEX,SAAUhD,GACXwnF,GAAOxnF,EAAGgD,OAGV2kF,GAAU,SAAU/tB,EAAQ52D,GACX6jF,GAAWjtB,GACjB0e,MAAK,WAChBh0C,GAAOs1B,EAAQ52D,MACd,SAAUhD,GACX45D,EAAOoqB,IAAIv6E,aAAazG,EAAQghF,IAAKhkF,EAAEgkF,SAGvC1/C,GAAS,SAAUs1B,EAAQ52D,GAC7B42D,EAAOoqB,IAAI36E,YAAYrG,EAAQghF,MAY7B4D,GAAW,SAAUhuB,EAAQ51D,GAC/BmpD,EAAKnpD,GAAU,SAAUrB,GACvB2hC,GAAOs1B,EAAQj3D,OAIfowD,GAAQ,SAAU/vD,GACpBA,EAAQghF,IAAIjvC,YAAc,GAC1BoY,EAAKnvD,GAASgF,IAAU,SAAU6kF,GAChCn+E,GAAOm+E,OAGPn+E,GAAS,SAAU1G,GACrB,IAAIghF,EAAMhhF,EAAQghF,IACK,OAAnBA,EAAIr6E,YACNq6E,EAAIr6E,WAAWJ,YAAYy6E,IAG3B8D,GAAS,SAAUtlF,GACrB,IAxBuBilF,EAwBnBM,EAAa/pF,GAASwE,GACtBulF,EAAW5pF,OAAS,IAzBDspF,EA0BZjlF,EAzBX2qD,EAyBoB46B,GAzBL,SAAUplF,GACvB6kF,GAAOC,EAAQ9kF,OA0BjB+G,GAAOlH,IAGLwlF,GAAS,SAAUhlF,GACrB,IAAIghF,EAAMgC,GAAOhjF,GAAWA,EAAQghF,IAAIr6E,WAAa3G,EAAQghF,IAC7D,GAAIA,SAA2D,OAAtBA,EAAIoC,cAC3C,OAAO,EAET,IAt5CuB6B,EAAKC,EAs5CxB13B,EAAMwzB,EAAIoC,cACd,OA/FkB,SAAU9qF,GAC5B,IAAIa,EAAI+qF,GAAY5rF,GACpB,OAAOyrF,GAAa5qF,GAAKq9E,EAAS5tE,KAAKzP,GAAKq9E,EAAStB,OA6F9CiQ,CAAclE,GAAaF,QAAQC,IAAM1L,MAAK,WACnD,OAAO9nB,EAAInkD,KAAKlD,SAAS66E,MAx5CJiE,EAy5CXD,GAz5CgBE,EAy5CRZ,GAx5Cb,SAAU/pF,GACf,OAAO0qF,EAAIC,EAAI3qF,QA05CfpB,GAAI,SAAUkH,EAAME,GAItB,MAAO,CACLF,KAAMA,EACNE,IAAKA,EACL2gD,UANc,SAAUvhD,EAAGxC,GAC3B,OAAOhE,GAAEkH,EAAOV,EAAGY,EAAMpD,MAQzBioF,GAAgBjsF,GAMhBksF,GAAqB,SAAU9qF,EAAG0C,GACpC,YAAU+N,IAANzQ,EACKA,OAEMyQ,IAAN/N,EAAkBA,EAAI,GAiB7BqoF,GAAW,SAAUtlF,GACvB,IAAIghF,EAAMhhF,EAAQghF,IAEd33E,EADM23E,EAAIoC,cACC/5E,KACf,OAAIA,IAAS23E,EACJoE,GAAc/7E,EAAKk8E,WAAYl8E,EAAKm/D,WAExCwc,GAAOhlF,GAhCI,SAAUghF,GAC1B,IAAIwE,EAAMxE,EAAI/gF,wBACd,OAAOmlF,GAAcI,EAAInlF,KAAMmlF,EAAIjlF,KAiC5BklF,CAAYzE,GAFVoE,GAAc,EAAG,IAKxBM,GAAQ,SAAUC,GACpB,IAAIn4B,OAAexiD,IAAT26E,EAAqBA,EAAK3E,IAAMvmF,SACtCkF,EAAI6tD,EAAInkD,KAAKu8E,YAAcp4B,EAAInrD,gBAAgBujF,WAC/CzoF,EAAIqwD,EAAInkD,KAAKk+D,WAAa/Z,EAAInrD,gBAAgBklE,UAClD,OAAO6d,GAAczlF,EAAGxC,IAEtBuW,GAAK,SAAU/T,EAAGxC,EAAGwoF,GACvB,IACIp4B,QADeviD,IAAT26E,EAAqBA,EAAK3E,IAAMvmF,UAC5B8oF,YACVh2B,GACFA,EAAIqV,SAASjjE,EAAGxC,IAGhB0oF,GAAW,SAAU7lF,EAAS8lF,GACjBrH,KAAWhE,QAAQ0B,YAClBlI,EAAWj0E,EAAQghF,IAAI+E,wBACrC/lF,EAAQghF,IAAI+E,wBAAuB,GAEnC/lF,EAAQghF,IAAIgF,eAAeF,IAQ3BG,GAAS,SAAUtmF,EAAGxC,EAAGmD,EAAOE,GAClC,MAAO,CACLb,EAAGA,EACHxC,EAAGA,EACHmD,MAAOA,EACPE,OAAQA,EACRmB,MAAOhC,EAAIW,EACXsB,OAAQzE,EAAIqD,IAGZ0lF,GAAY,SAAUC,GACxB,IAAI54B,OAAeviD,IAATm7E,EAAqBjuF,OAASiuF,EACpC34B,EAAMD,EAAI9yD,SACV2rF,EAASV,GAAMzE,GAAaF,QAAQvzB,IACxC,OAlBU,SAAU24B,GACpB,IAAI54B,OAAeviD,IAATm7E,EAAqBjuF,OAASiuF,EACxC,OAAO3P,EAASt8E,KAAKqzD,EAAoB,gBAgBlC84B,CAAM94B,GAAK+nB,MAAK,WACrB,IAAIptD,EAAOqlC,EAAI9yD,SAAS4H,gBACpB/B,EAAQ4nB,EAAK+xC,YACbz5D,EAAS0nB,EAAKivC,aAClB,OAAO8uB,GAAOG,EAAO/lF,KAAM+lF,EAAO7lF,IAAKD,EAAOE,MAC7C,SAAU8lF,GACX,OAAOL,GAAOlpF,KAAKJ,IAAI2pF,EAAeC,SAAUH,EAAO/lF,MAAOtD,KAAKJ,IAAI2pF,EAAeE,QAASJ,EAAO7lF,KAAM+lF,EAAehmF,MAAOgmF,EAAe9lF,YAIjJimF,GAAa,SAAUnoF,GACzB,OAAO,SAAUu1C,GACf,QAASA,GAAQA,EAAK2E,WAAal6C,IAGnCooF,GAAmB,SAAU7yC,GAC/B,QAASA,IAAS96C,OAAOsT,eAAewnC,IAEtC8yC,GAAcF,GAAW,GACzBG,GAAiB,SAAUr8D,GAC7B,IAAIs8D,EAAkBt8D,EAAM/sB,KAAI,SAAU1D,GACxC,OAAOA,EAAE6D,iBAEX,OAAO,SAAUk2C,GACf,GAAIA,GAAQA,EAAKgC,SAAU,CACzB,IAAIA,EAAWhC,EAAKgC,SAASl4C,cAC7B,OAAOwI,EAAS0gF,EAAiBhxC,GAEnC,OAAO,IAGPixC,GAAmB,SAAUv7E,EAAMlN,GACrC,IAAIm+C,EAAQn+C,EAAOV,cAAclC,MAAM,KACvC,OAAO,SAAUo4C,GACf,IAAIp7C,EACJ,GAAIkuF,GAAY9yC,GACd,IAAKp7C,EAAI,EAAGA,EAAI+jD,EAAMrhD,OAAQ1C,IAAK,CACjC,IAAIsuF,EAAWlzC,EAAKuvC,cAAcG,YAAY7iC,iBAAiB7M,EAAM,MAErE,IADWkzC,EAAWA,EAASxvB,iBAAiBhsD,GAAQ,QACvCixC,EAAM/jD,GACrB,OAAO,EAIb,OAAO,IAGPqtD,GAAe,SAAU8W,GAC3B,OAAO,SAAU/oB,GACf,OAAO8yC,GAAY9yC,IAASA,EAAKiS,aAAa8W,KAQ9CoqB,GAAU,SAAUnzC,GACtB,OAAO8yC,GAAY9yC,IAASA,EAAKiS,aAAa,mBAK5CmhC,GAAU,SAAUpzC,GACtB,OAAO8yC,GAAY9yC,IAA0B,UAAjBA,EAAK0F,SAE/B2tC,GAA0B,SAAU5tF,GACtC,OAAO,SAAUu6C,GACf,GAAI8yC,GAAY9yC,GAAO,CACrB,GAAIA,EAAKqrC,kBAAoB5lF,EAC3B,OAAO,EAET,GAAIu6C,EAAK/4C,aAAa,8BAAgCxB,EACpD,OAAO,EAGX,OAAO,IAGP6tF,GAAoBP,GAAe,CACrC,WACA,UAEEQ,GAAWX,GAAW,GACtBY,GAAcZ,GAAW,GACzBa,GAAeb,GAAW,GAC1Bc,GAAuBd,GAAW,IAClCe,GAAOZ,GAAe,CAAC,OACvBa,GAAQb,GAAe,CAAC,QACxBc,GAAwBR,GAAwB,QAChDS,GAAyBT,GAAwB,SACjDU,GAAchB,GAAe,CAC/B,KACA,OAEEiB,GAAUjB,GAAe,CAC3B,QACA,QACA,SACA,UAGEkB,GAAgB,SAAU9G,GAC5B,YAAqBh2E,IAAdg2E,EAAIvgF,OAAuBwzE,EAAW+M,EAAIvgF,MAAM82D,mBAGrDwwB,GAAS,SAAU/G,EAAK1hF,EAAKhG,GAC/B,KAAIq6E,EAASr6E,IAAUu6E,EAAUv6E,IAAU46E,EAAS56E,IAIlD,MADAmkD,QAAQ7uC,MAAM,sCAAuCtP,EAAK,YAAahG,EAAO,cAAe0nF,GACvF,IAAI7+E,MAAM,kCAHhB6+E,EAAIj8E,aAAazF,EAAKhG,EAAQ,KAM9BsW,GAAM,SAAU5P,EAASV,EAAKhG,GAChCyuF,GAAO/nF,EAAQghF,IAAK1hF,EAAKhG,IAEvB0uF,GAAS,SAAUhoF,EAASioF,GAC9B,IAAIjH,EAAMhhF,EAAQghF,IAClBvJ,GAAOwQ,GAAO,SAAUjrF,EAAG+B,GACzBgpF,GAAO/G,EAAKjiF,EAAG/B,OAGfkrF,GAAQ,SAAUloF,EAASV,GAC7B,IAAItC,EAAIgD,EAAQghF,IAAIlmF,aAAawE,GACjC,OAAa,OAANtC,OAAagO,EAAYhO,GAE9BmrF,GAAS,SAAUnoF,EAASV,GAC9B,OAAOk3E,EAASt8E,KAAKguF,GAAMloF,EAASV,KAMlC8oF,GAAW,SAAUpoF,EAASV,GAChCU,EAAQghF,IAAIjmF,gBAAgBuE,IAkB1B+oF,GAAW,SAAUroF,EAAS6uD,GAChC,IAAImyB,EAAMhhF,EAAQghF,IAClBvJ,GAAO5oB,GAAK,SAAU7xD,EAAG+B,IAXT,SAAUiiF,EAAKvyE,EAAUnV,GACzC,IAAKq6E,EAASr6E,GAEZ,MADAmkD,QAAQ7uC,MAAM,qCAAsCH,EAAU,YAAanV,EAAO,cAAe0nF,GAC3F,IAAI7+E,MAAM,+BAAiC7I,GAE/CwuF,GAAc9G,IAChBA,EAAIvgF,MAAMqsE,YAAYr+D,EAAUnV,GAMhCgvF,CAAYtH,EAAKjiF,EAAG/B,OAGpBurF,GAAQ,SAAUvoF,EAASyO,GAC7B,IAAIuyE,EAAMhhF,EAAQghF,IAEd7nF,EADSjB,OAAOwoD,iBAAiBsgC,GACtBzpB,iBAAiB9oD,GAChC,MAAa,KAANtV,GAAa6rF,GAAOhlF,GAA8C7G,EAAnCqvF,GAAkBxH,EAAKvyE,IAE3D+5E,GAAoB,SAAUxH,EAAKvyE,GACrC,OAAOq5E,GAAc9G,GAAOA,EAAIvgF,MAAM82D,iBAAiB9oD,GAAY,IAEjEg6E,GAAS,SAAUzoF,EAASyO,GAC9B,IAAIuyE,EAAMhhF,EAAQghF,IACd0H,EAAMF,GAAkBxH,EAAKvyE,GACjC,OAAO+nE,EAASt8E,KAAKwuF,GAAKryE,QAAO,SAAUld,GACzC,OAAOA,EAAEgC,OAAS,MAGlBwtF,GAAY,SAAU3oF,GACxB,IAAI6uD,EAAM,GACNmyB,EAAMhhF,EAAQghF,IAClB,GAAI8G,GAAc9G,GAChB,IAAK,IAAIvoF,EAAI,EAAGA,EAAIuoF,EAAIvgF,MAAMtF,OAAQ1C,IAAK,CACzC,IAAImwF,EAAW5H,EAAIvgF,MAAMs8C,KAAKtkD,GAC9Bo2D,EAAI+5B,GAAY5H,EAAIvgF,MAAMmoF,GAG9B,OAAO/5B,GAMLg6B,GAAYpK,KAAWhE,QACvBqO,GAAe,SAAUC,GAC3B,OAAO/iF,EAAK+iF,EAAOr2B,KAkBjBs2B,GAAW,SAAUC,EAAKp3C,GAC5B,OAAOo3C,EAAIjuF,UAAYmL,EAAS8iF,EAAIjuF,SAAU62C,IAE5Cq3C,GAAS,SAAU7/E,EAAM4/E,EAAKE,GAChC,IAAkBC,EAEd96D,EAFA3uB,EAAI,EAAGxC,EAAI,EACXqwD,EAAMnkD,EAAK+5E,cAGf,GADA+F,EAAUA,GAAoB9/E,EAC1B4/E,EAAK,CACP,GAAIE,IAAY9/E,GAAQ4/E,EAAIhpF,uBAA2E,WAAlDsoF,GAAMtH,GAAaF,QAAQ13E,GAAO,YAIrF,MAAO,CACL1J,EAHFA,GADA2uB,EAAM26D,EAAIhpF,yBACFI,MAAQmtD,EAAInrD,gBAAgBujF,YAAcv8E,EAAKu8E,YAAcp4B,EAAInrD,gBAAgBgnF,WAIvFlsF,EAHFA,EAAImxB,EAAI/tB,KAAOitD,EAAInrD,gBAAgBklE,WAAal+D,EAAKk+D,WAAa/Z,EAAInrD,gBAAgBinF,WAOxF,IADAF,EAAeH,EACRG,GAAgBA,IAAiBD,GAAWC,EAAa5wC,WAAawwC,GAASI,EAAcD,IAClGxpF,GAAKypF,EAAa7D,YAAc,EAChCpoF,GAAKisF,EAAa5gB,WAAa,EAC/B4gB,EAAeA,EAAaA,aAG9B,IADAA,EAAeH,EAAItiF,WACZyiF,GAAgBA,IAAiBD,GAAWC,EAAa5wC,WAAawwC,GAASI,EAAcD,IAClGxpF,GAAKypF,EAAaxD,YAAc,EAChCzoF,GAAKisF,EAAa7hB,WAAa,EAC/B6hB,EAAeA,EAAaziF,WAE9BxJ,GA9CwB,SAAU8rF,GACpC,OAAIJ,GAAU3M,aAA6B,UAAd3wE,GAAK09E,GACzBH,GAAa9tF,GAASiuF,IAAM5yE,QAAO,SAAU4yE,GAClD,MAAqB,YAAd19E,GAAK09E,MACXxvF,MAAK,SAAU8vF,GAChB,OAAOT,GAAanF,GAAa4F,IAAU/rF,KAAI,SAAU6L,GACvD,IAAImgF,EAAUngF,EAAK23E,IAAIxY,UACnBihB,EAAaF,EAAQvI,IAAIxY,UACzBkhB,EAAgBH,EAAQvI,IAAIrgF,aAChC,OAAO6oF,GAAWC,GAAcC,EAAgB,QAEjDhU,MAAM,GAEF,EAiCFiU,CAAsB1I,GAAaF,QAAQkI,IAElD,MAAO,CACLtpF,EAAGA,EACHxC,EAAGA,IAIHysF,GAAY,GAAIC,GAAW,CAAEzxF,QAASwxF,KACzC,SAAUE,EAAQ1xF,EAASD,EAAQ4xF,IACjC,SAAUltF,GACT,GAAuB,iBAAZzE,QAA0C,IAAXD,EACxCA,EAAOC,QAAUyE,SACZ,GAAsB,mBAAXitF,GAAyBA,EAAOE,IAChDF,EAAO,GAAIjtF,OACN,EAEiB,oBAAX3E,OACLA,YACuB,IAAX,EAAAgF,EACZ,EAAAA,EACqB,oBAATgN,KACZA,KAEAnH,MAEJknF,oBAAsBptF,KAhB5B,EAkBE,WACA,OACE,SAAS1D,EAAEb,EAAGE,EAAGH,GACf,SAASE,EAAEE,EAAGoE,GACZ,IAAKrE,EAAEC,GAAI,CACT,IAAKH,EAAEG,GAAI,CACT,IAAII,EAAI,mBAAqBkxF,GAAWA,EACxC,IAAKltF,GAAKhE,EACR,OAAOA,EAAEJ,GAAG,GACd,GAAI+B,EACF,OAAOA,EAAE/B,GAAG,GACd,IAAI8B,EAAI,IAAI4H,MAAM,uBAA0B1J,EAAI,KAChD,MAAM8B,EAAEoO,KAAO,mBAAoBpO,EAErC,IAAIV,EAAIrB,EAAEC,GAAK,CAAEL,QAAS,IAC1BE,EAAEG,GAAG,GAAGE,KAAKkB,EAAEzB,SAAS,SAAUe,GAEhC,OAAOZ,EADCD,EAAEG,GAAG,GAAGU,IACFA,KACbU,EAAGA,EAAEzB,QAASe,EAAGb,EAAGE,EAAGH,GAE5B,OAAOG,EAAEC,GAAGL,QAEd,IAAK,IAAIoC,EAAI,mBAAqBuvF,GAAWA,EAAStxF,EAAI,EAAGA,EAAIJ,EAAE8C,OAAQ1C,IACzEF,EAAEF,EAAEI,IACN,OAAOF,EAvBJ,CA0BH,CACFqyB,EAAG,CACD,SAAUm/D,EAAS5xF,EAAQC,GACzB,IACI8xF,EACAC,EAFAhsE,EAAUhmB,EAAOC,QAAU,GAG/B,SAASgyF,IACP,MAAM,IAAIjoF,MAAM,mCAElB,SAASkoF,IACP,MAAM,IAAIloF,MAAM,qCAsBlB,SAASmoF,EAAWC,GAClB,GAAIL,IAAqBhhF,WACvB,OAAOA,WAAWqhF,EAAK,GAEzB,IAAKL,IAAqBE,IAAqBF,IAAqBhhF,WAElE,OADAghF,EAAmBhhF,WACZA,WAAWqhF,EAAK,GAEzB,IACE,OAAOL,EAAiBK,EAAK,GAC7B,MAAOjyF,GACP,IACE,OAAO4xF,EAAiBvxF,KAAK,KAAM4xF,EAAK,GACxC,MAAOjyF,GACP,OAAO4xF,EAAiBvxF,KAAKoK,KAAMwnF,EAAK,MAlC7C,WACC,IAEIL,EADwB,mBAAfhhF,WACUA,WAEAkhF,EAErB,MAAO9xF,GACP4xF,EAAmBE,EAErB,IAEID,EAD0B,mBAAjBhhF,aACYA,aAEAkhF,EAEvB,MAAO/xF,GACP6xF,EAAqBE,GAjBzB,GAwDA,IAEIG,EAFA5qB,EAAQ,GACR6qB,GAAW,EAEXC,GAAc,EAClB,SAASC,IACFF,GAAaD,IAGlBC,GAAW,EACPD,EAAarvF,OACfykE,EAAQ4qB,EAAa3iE,OAAO+3C,GAE5B8qB,GAAc,EAEZ9qB,EAAMzkE,QACRyvF,KAGJ,SAASA,IACP,IAAIH,EAAJ,CAGA,IAAIl9C,EAAU+8C,EAAWK,GACzBF,GAAW,EAEX,IADA,IAAIh3E,EAAMmsD,EAAMzkE,OACTsY,GAAK,CAGV,IAFA+2E,EAAe5qB,EACfA,EAAQ,KACC8qB,EAAaj3E,GAChB+2E,GACFA,EAAaE,GAAYG,MAG7BH,GAAc,EACdj3E,EAAMmsD,EAAMzkE,OAEdqvF,EAAe,KACfC,GAAW,EAvDb,SAAyBhG,GACvB,GAAI0F,IAAuBhhF,aACzB,OAAOA,aAAas7E,GAEtB,IAAK0F,IAAuBE,IAAwBF,IAAuBhhF,aAEzE,OADAghF,EAAqBhhF,aACdA,aAAas7E,GAEtB,IACS0F,EAAmB1F,GAC1B,MAAOnsF,GACP,IACE,OAAO6xF,EAAmBxxF,KAAK,KAAM8rF,GACrC,MAAOnsF,GACP,OAAO6xF,EAAmBxxF,KAAKoK,KAAM0hF,KA0CzCqG,CAAgBv9C,IAclB,SAASw9C,EAAKR,EAAKnzE,GACjBrU,KAAKwnF,IAAMA,EACXxnF,KAAKqU,MAAQA,EAWf,SAAS+8D,KAzBTh2D,EAAQ6sE,SAAW,SAAUT,GAC3B,IAAIzoD,EAAO,IAAI7nC,MAAMK,UAAUa,OAAS,GACxC,GAAIb,UAAUa,OAAS,EACrB,IAAK,IAAI1C,EAAI,EAAGA,EAAI6B,UAAUa,OAAQ1C,IACpCqpC,EAAKrpC,EAAI,GAAK6B,UAAU7B,GAG5BmnE,EAAM3kE,KAAK,IAAI8vF,EAAKR,EAAKzoD,IACJ,IAAjB89B,EAAMzkE,QAAiBsvF,GACzBH,EAAWM,IAOfG,EAAKpxF,UAAUkxF,IAAM,WACnB9nF,KAAKwnF,IAAIxzE,MAAM,KAAMhU,KAAKqU,QAE5B+G,EAAQq1C,MAAQ,UAChBr1C,EAAQs8D,SAAU,EAClBt8D,EAAQ8sE,IAAM,GACd9sE,EAAQ+sE,KAAO,GACf/sE,EAAQF,QAAU,GAClBE,EAAQC,SAAW,GAGnBD,EAAQ27B,GAAKq6B,EACbh2D,EAAQgtE,YAAchX,EACtBh2D,EAAQitE,KAAOjX,EACfh2D,EAAQktE,IAAMlX,EACdh2D,EAAQmtE,eAAiBnX,EACzBh2D,EAAQotE,mBAAqBpX,EAC7Bh2D,EAAQi4B,KAAO+9B,EACfh2D,EAAQqtE,gBAAkBrX,EAC1Bh2D,EAAQstE,oBAAsBtX,EAC9Bh2D,EAAQo6B,UAAY,SAAUhtC,GAC5B,MAAO,IAET4S,EAAQutE,QAAU,SAAUngF,GAC1B,MAAM,IAAIpJ,MAAM,qCAElBgc,EAAQwtE,IAAM,WACZ,MAAO,KAETxtE,EAAQytE,MAAQ,SAAUC,GACxB,MAAM,IAAI1pF,MAAM,mCAElBgc,EAAQ2tE,MAAQ,WACd,OAAO,IAGX,IAEFC,EAAG,CACD,SAAUhC,EAAS5xF,EAAQC,IACxB,SAAU4zF,IACR,SAAU1lF,GACT,IAAI2lF,EAAiB/iF,WACrB,SAASirE,KAOT,SAASpiB,EAAQ55C,GACf,GAAoB,iBAATpV,KACT,MAAM,IAAIuH,UAAU,wCACtB,GAAkB,mBAAP6N,EACT,MAAM,IAAI7N,UAAU,kBACtBvH,KAAKmpF,OAAS,EACdnpF,KAAKopF,UAAW,EAChBppF,KAAKqpF,YAASphF,EACdjI,KAAKspF,WAAa,GAClBC,EAAUn0E,EAAIpV,MAEhB,SAASwpF,EAAOriF,EAAMsiF,GACpB,KAAuB,IAAhBtiF,EAAKgiF,QACVhiF,EAAOA,EAAKkiF,OAEM,IAAhBliF,EAAKgiF,QAIThiF,EAAKiiF,UAAW,EAChBp6B,EAAQ06B,cAAa,WACnB,IAAIjU,EAAqB,IAAhBtuE,EAAKgiF,OAAeM,EAASva,YAAcua,EAASE,WAC7D,GAAW,OAAPlU,EAAJ,CAIA,IAAImU,EACJ,IACEA,EAAMnU,EAAGtuE,EAAKkiF,QACd,MAAO9zF,GAEP,YADAs0F,EAAOJ,EAAS3wB,QAASvjE,GAG3B05D,EAAQw6B,EAAS3wB,QAAS8wB,QAVP,IAAhBziF,EAAKgiF,OAAel6B,EAAU46B,GAAQJ,EAAS3wB,QAAS3xD,EAAKkiF,YAPhEliF,EAAKmiF,WAAWpxF,KAAKuxF,GAoBzB,SAASx6B,EAAQ9nD,EAAM2iF,GACrB,IACE,GAAIA,IAAa3iF,EACf,MAAM,IAAII,UAAU,6CACtB,GAAIuiF,IAAiC,iBAAbA,GAA6C,mBAAbA,GAA0B,CAChF,IAAI5sB,EAAO4sB,EAAS5sB,KACpB,GAAI4sB,aAAoB96B,EAItB,OAHA7nD,EAAKgiF,OAAS,EACdhiF,EAAKkiF,OAASS,OACdC,EAAO5iF,GAEF,GAAoB,mBAAT+1D,EAEhB,YADAqsB,GArDMn0E,EAqDS8nD,EArDL+Y,EAqDW6T,EApDpB,WACL10E,EAAGpB,MAAMiiE,EAAS1+E,aAmDkB4P,GAIpCA,EAAKgiF,OAAS,EACdhiF,EAAKkiF,OAASS,EACdC,EAAO5iF,GACP,MAAO5R,GACPs0F,EAAO1iF,EAAM5R,GA7DjB,IAAc6f,EAAI6gE,EAgElB,SAAS4T,EAAO1iF,EAAM2iF,GACpB3iF,EAAKgiF,OAAS,EACdhiF,EAAKkiF,OAASS,EACdC,EAAO5iF,GAET,SAAS4iF,EAAO5iF,GACM,IAAhBA,EAAKgiF,QAA2C,IAA3BhiF,EAAKmiF,WAAWlxF,QACvC42D,EAAQ06B,cAAa,WACdviF,EAAKiiF,UACRp6B,EAAQg7B,sBAAsB7iF,EAAKkiF,WAIzC,IAAK,IAAI3zF,EAAI,EAAGgb,EAAMvJ,EAAKmiF,WAAWlxF,OAAQ1C,EAAIgb,EAAKhb,IACrD8zF,EAAOriF,EAAMA,EAAKmiF,WAAW5zF,IAE/ByR,EAAKmiF,WAAa,KAEpB,SAASW,EAAQ/a,EAAaya,EAAY7wB,GACxC94D,KAAKkvE,YAAqC,mBAAhBA,EAA6BA,EAAc,KACrElvE,KAAK2pF,WAAmC,mBAAfA,EAA4BA,EAAa,KAClE3pF,KAAK84D,QAAUA,EAEjB,SAASywB,EAAUn0E,EAAIjO,GACrB,IAAI8K,GAAO,EACX,IACEmD,GAAG,SAAU7e,GACP0b,IAEJA,GAAO,EACPg9C,EAAQ9nD,EAAM5Q,OACb,SAAU6/B,GACPnkB,IAEJA,GAAO,EACP43E,EAAO1iF,EAAMivB,OAEf,MAAO8zD,GACP,GAAIj4E,EACF,OACFA,GAAO,EACP43E,EAAO1iF,EAAM+iF,IAGjBl7B,EAAQp4D,UAAiB,MAAI,SAAU+yF,GACrC,OAAO3pF,KAAKk9D,KAAK,KAAMysB,IAEzB36B,EAAQp4D,UAAUsmE,KAAO,SAAUgS,EAAaya,GAC9C,IAAIQ,EAAO,IAAInqF,KAAKgP,YAAYoiE,GAEhC,OADAoY,EAAOxpF,KAAM,IAAIiqF,EAAQ/a,EAAaya,EAAYQ,IAC3CA,GAETn7B,EAAQ6iB,IAAM,SAAUnpC,GACtB,IAAI3J,EAAO7nC,MAAMN,UAAUU,MAAM1B,KAAK8yC,GACtC,OAAO,IAAIsmB,GAAQ,SAAUC,EAAS46B,GACpC,GAAoB,IAAhB9qD,EAAK3mC,OACP,OAAO62D,EAAQ,IACjB,IAAIiR,EAAYnhC,EAAK3mC,OACrB,SAAS09B,EAAIpgC,EAAGu5B,GACd,IACE,GAAIA,IAAuB,iBAARA,GAAmC,mBAARA,GAAqB,CACjE,IAAIiuC,EAAOjuC,EAAIiuC,KACf,GAAoB,mBAATA,EAIT,YAHAA,EAAKtnE,KAAKq5B,GAAK,SAAUA,GACvB6G,EAAIpgC,EAAGu5B,KACN46D,GAIP9qD,EAAKrpC,GAAKu5B,EACU,KAAdixC,GACJjR,EAAQlwB,GAEV,MAAOmrD,GACPL,EAAOK,IAGX,IAAK,IAAIx0F,EAAI,EAAGA,EAAIqpC,EAAK3mC,OAAQ1C,IAC/BogC,EAAIpgC,EAAGqpC,EAAKrpC,QAIlBs5D,EAAQC,QAAU,SAAU14D,GAC1B,OAAIA,GAA0B,iBAAVA,GAAsBA,EAAMyY,cAAgBggD,EACvDz4D,EAEF,IAAIy4D,GAAQ,SAAUC,GAC3BA,EAAQ14D,OAGZy4D,EAAQ66B,OAAS,SAAUtzF,GACzB,OAAO,IAAIy4D,GAAQ,SAAUC,EAAS46B,GACpCA,EAAOtzF,OAGXy4D,EAAQo7B,KAAO,SAAU9uF,GACvB,OAAO,IAAI0zD,GAAQ,SAAUC,EAAS46B,GACpC,IAAK,IAAIn0F,EAAI,EAAGgb,EAAMpV,EAAOlD,OAAQ1C,EAAIgb,EAAKhb,IAC5C4F,EAAO5F,GAAGwnE,KAAKjO,EAAS46B,OAI9B76B,EAAQ06B,aAAuC,mBAAjBT,EAA8B,SAAU7zE,GACpE6zE,EAAa7zE,IACX,SAAUA,GACZ8zE,EAAe9zE,EAAI,IAErB45C,EAAQg7B,sBAAwB,SAA+B3hD,GACtC,oBAAZqS,SAA2BA,SACpCA,QAAQoJ,KAAK,wCAAyCzb,IAG1D2mB,EAAQq7B,gBAAkB,SAAyBj1E,GACjD45C,EAAQ06B,aAAet0E,GAEzB45C,EAAQs7B,yBAA2B,SAAkCl1E,GACnE45C,EAAQg7B,sBAAwB50E,QAEZ,IAAXhgB,GAA0BA,EAAOC,QAC1CD,EAAOC,QAAU25D,EACPzrD,EAAKyrD,UACfzrD,EAAKyrD,QAAUA,GA7LnB,CA+LEhvD,QACFpK,KAAKoK,KAAMgnF,EAAQ,UAAUiC,eAEjC,CAAE,OAAU,IAEdsB,EAAG,CACD,SAAUvD,EAAS5xF,EAAQC,IACxB,SAAU4zF,EAAcuB,GACvB,IAAIvC,EAAWjB,EAAQ,sBAAsBiB,SACzCj0E,EAAQ7I,SAASvU,UAAUod,MAC3B1c,EAAQJ,MAAMN,UAAUU,MACxBmzF,EAAe,GACfC,EAAkB,EAUtB,SAASC,EAAQp5D,EAAIq5D,GACnB5qF,KAAK6qF,IAAMt5D,EACXvxB,KAAK8qF,SAAWF,EAXlBv1F,EAAQ8Q,WAAa,WACnB,OAAO,IAAIwkF,EAAQ32E,EAAMpe,KAAKuQ,WAAYhR,OAAQoC,WAAY6O,eAEhE/Q,EAAQ01F,YAAc,WACpB,OAAO,IAAIJ,EAAQ32E,EAAMpe,KAAKm1F,YAAa51F,OAAQoC,WAAYyzF,gBAEjE31F,EAAQ+Q,aAAe/Q,EAAQ21F,cAAgB,SAAUxgD,GACvDA,EAAQxkB,SAMV2kE,EAAQ/zF,UAAUq0F,MAAQN,EAAQ/zF,UAAUs0F,IAAM,aAElDP,EAAQ/zF,UAAUovB,MAAQ,WACxBhmB,KAAK8qF,SAASl1F,KAAKT,OAAQ6K,KAAK6qF,MAElCx1F,EAAQ81F,OAAS,SAAUnxC,EAAMoxC,GAC/BhlF,aAAa4zC,EAAKqxC,gBAClBrxC,EAAKsxC,aAAeF,GAEtB/1F,EAAQk2F,SAAW,SAAUvxC,GAC3B5zC,aAAa4zC,EAAKqxC,gBAClBrxC,EAAKsxC,cAAgB,GAEvBj2F,EAAQm2F,aAAen2F,EAAQo2F,OAAS,SAAUzxC,GAChD5zC,aAAa4zC,EAAKqxC,gBAClB,IAAID,EAAQpxC,EAAKsxC,aACbF,GAAS,IACXpxC,EAAKqxC,eAAiBllF,YAAW,WAC3B6zC,EAAK0xC,YACP1xC,EAAK0xC,eACNN,KAGP/1F,EAAQ4zF,aAAuC,mBAAjBA,EAA8BA,EAAe,SAAU7zE,GACnF,IAAImc,EAAKm5D,IACL3rD,IAAOxnC,UAAUa,OAAS,IAAYd,EAAM1B,KAAK2B,UAAW,GAYhE,OAXAkzF,EAAal5D,IAAM,EACnB02D,GAAS,WACHwC,EAAal5D,KACXwN,EACF3pB,EAAGpB,MAAM,KAAM+qB,GAEf3pB,EAAGxf,KAAK,MAEVP,EAAQm1F,eAAej5D,OAGpBA,GAETl8B,EAAQm1F,eAA2C,mBAAnBA,EAAgCA,EAAiB,SAAUj5D,UAClFk5D,EAAal5D,MAEtB37B,KAAKoK,KAAMgnF,EAAQ,UAAUiC,aAAcjC,EAAQ,UAAUwD,iBAEjE,CACE,qBAAsB,EACtB,OAAU,IAGdmB,EAAG,CACD,SAAU3E,EAAS5xF,EAAQC,GACzB,IAAIu2F,EAAkB5E,EAAQ,oBAC1B6E,EACoB,oBAAX12F,OACFA,OAEAgW,SAAS,eAATA,GAGX/V,EAAOC,QAAU,CAAEy2F,WAAYD,EAAO78B,SAAW48B,IAEnD,CAAE,mBAAoB,KAEvB,GAAI,CAAC,GAvdD,CAudK,MA3ehB,MA6eE3jF,EAAW4+E,GAAWC,QAAU7+E,GAClC,IAAI+mD,GAAU83B,GAASzxF,QAAQy2F,WAE3BC,GAAO,SAAUC,GACnB,IAAI3pE,EAAOoxD,EAAStB,OAChB7oC,EAAY,GAQZnzC,EAAM,SAAU81F,GACdC,IACFt2F,EAAKq2F,GAEL3iD,EAAUpxC,KAAK+zF,IAUfC,EAAU,WACZ,OAAO7pE,EAAKqwD,UAEVoV,EAAM,SAAUqE,GAClB/kC,EAAK+kC,EAAKv2F,IAERA,EAAO,SAAU6/E,GACnBpzD,EAAK+kC,MAAK,SAAUxqD,GAClBuJ,YAAW,WACTsvE,EAAG74E,KACF,OAIP,OADAovF,GApBU,SAAUpvF,GACbsvF,MACH7pE,EAAOoxD,EAAS5tE,KAAKjJ,GACrBkrF,EAAIx+C,GACJA,EAAY,OAiBT,CACLnzC,IAAKA,EACLsE,IArCQ,SAAUX,GAClB,OAAOiyF,IAAK,SAAUE,GACpB91F,GAAI,SAAUksB,GACZ4pE,EAAUnyF,EAAEuoB,WAmChB6pE,QAASA,IAQTE,GAAY,CACd3V,GAAIsV,GACJM,KAPS,SAAU70F,GACnB,OAAOu0F,IAAK,SAAUntD,GACpBA,EAASpnC,QAQT80F,GAAgB,SAAUjkD,GAC5BliC,YAAW,WACT,MAAMkiC,IACL,IAEDkkD,GAAO,SAAUzE,GACnB,IAAI3xF,EAAM,SAAUyoC,GAClBkpD,IAAM5qB,KAAKt+B,EAAU0tD,KAkCvB,MAAO,CACL7xF,IAjCQ,SAAU0nF,GAClB,OAAOoK,IAAK,WACV,OAAOzE,IAAM5qB,KAAKilB,OAgCpBzrF,KA7BS,SAAU81F,GACnB,OAAOD,IAAK,WACV,OAAOzE,IAAM5qB,MAAK,SAAUjjE,GAC1B,OAAOuyF,EAASvyF,GAAG60D,mBA2BvB29B,SAvBa,SAAUC,GACvB,OAAOH,IAAK,WACV,OAAOzE,IAAM5qB,MAAK,WAChB,OAAOwvB,EAAQ59B,mBAqBnB69B,OAjBW,WACX,OAAOP,GAAU3V,GAAGtgF,IAiBpBy2F,SAfa,WACb,IAAIjwF,EAAQ,KACZ,OAAO4vF,IAAK,WAIV,OAHc,OAAV5vF,IACFA,EAAQmrF,KAEHnrF,MAUTmyD,UAPcg5B,EAQd3xF,IAAKA,IAaL02F,GAVO,SAAUb,GACnB,OAAOO,IAAK,WACV,OAAO,IAAIv9B,GAAQg9B,OAanBc,GAAM,SAAUC,EAAatW,GAC/B,OAAOA,GAAG,SAAU73C,GAClB,IAAIxoC,EAAI,GACJgY,EAAQ,EAUe,IAAvB2+E,EAAY30F,OACdwmC,EAAS,IAETwoB,EAAK2lC,GAAa,SAAUC,EAAYt3F,GACtCs3F,EAAW72F,IAbN,SAAUT,GACjB,OAAO,SAAUa,GACfH,EAAEV,GAAKa,IACP6X,GACa2+E,EAAY30F,QACvBwmC,EAASxoC,IAQIq/E,CAAG//E,WAUtBa,GAAQ,SAAUf,GAkCpB,MAAO,CACLi9E,GAlCO,SAAUx4E,GACjB,OAAOzE,IAAMyE,GAkCbgzF,QAAS/a,EACTgb,QAASjb,EACTU,MAAOnB,EAASh8E,GAChBo9E,WAAYpB,EAASh8E,GACrBq9E,SAAUrB,EAASh8E,GACnBw9E,GArCO,SAAUma,GACjB,OAAO52F,GAAMf,IAqCby9E,QAnCY,SAAUma,GACtB,OAAO72F,GAAMf,IAmCb+8E,KArBS,SAAUl4E,EAAGgzF,GACtB,OAAOA,EAAQ73F,IAqBfiF,IAlCQ,SAAUX,GAClB,OAAOvD,GAAMuD,EAAEtE,KAkCf83F,SAhCa,SAAUF,GACvB,OAAO72F,GAAMf,IAgCb4xD,KA9BS,SAAUttD,GACnBA,EAAEtE,IA8BFkB,KA5BS,SAAUoD,GACnB,OAAOA,EAAEtE,IA4BT09E,OAvBW,SAAUp5E,GACrB,OAAOA,EAAEtE,IAuBT29E,OArBW,SAAUr5E,GACrB,OAAOA,EAAEtE,IAqBT+3F,WAnBe,WACf,OAAO9Z,EAAS5tE,KAAKrQ,MAqBrBqW,GAAQ,SAAUsmC,GAyBpB,MAAO,CACLsgC,GAAIR,EACJgb,QAAShb,EACTib,QAAShb,EACTS,MAAOlB,EACPmB,WA7Be,SAAU94E,GACzB,OAAOA,KA6BP+4E,SA3Ba,WACb,OAAOd,EAAIvqE,OAAO2qC,GAAX4/B,IA2BPiB,GAzBO,SAAUwa,GACjB,OAAOA,GAyBPva,QAvBY,SAAUn5E,GACtB,OAAOA,KAuBPy4E,KAZS,SAAUkb,EAASpzF,GAC5B,OAAOozF,EAAQt7C,IAYf13C,IAtBQ,SAAU2yF,GAClB,OAAOvhF,GAAMsmC,IAsBbm7C,SApBa,SAAUxzF,GACvB,OAAO+R,GAAM/R,EAAEq4C,KAoBfiV,KAAMgqB,EACN16E,KAnBS,SAAU02F,GACnB,OAAOvhF,GAAMsmC,IAmBb+gC,OAAQjB,EACRkB,OAAQjB,EACRqb,WAAY9Z,EAAStB,OAQrBub,GAAS,CACXn3F,MAAOA,GACPsV,MAAOA,GACP8hF,WARe,SAAUH,EAAKnlD,GAC9B,OAAOmlD,EAAIjb,MAAK,WACd,OAAO1mE,GAAMw8B,KACZ9xC,MA+EDq3F,GAvEW,SAAUC,GACvB,IAAKz2F,EAAQy2F,GACX,MAAM,IAAIzuF,MAAM,0BAElB,GAAqB,IAAjByuF,EAAMz1F,OACR,MAAM,IAAIgH,MAAM,mCAElB,IAAI0uF,EAAe,GACfC,EAAM,GA6DV,OA5DA3mC,EAAKymC,GAAO,SAAUG,EAAO5/E,GAC3B,IAAI6/E,EAAS91F,GAAK61F,GAClB,GAAsB,IAAlBC,EAAO71F,OACT,MAAM,IAAIgH,MAAM,kCAElB,IAAI7C,EAAM0xF,EAAO,GACb13F,EAAQy3F,EAAMzxF,GAClB,QAAiB0L,IAAb8lF,EAAIxxF,GACN,MAAM,IAAI6C,MAAM,0BAA4B7C,GACvC,GAAY,SAARA,EACT,MAAM,IAAI6C,MAAM,yCACX,IAAKhI,EAAQb,GAClB,MAAM,IAAI6I,MAAM,mCAElB0uF,EAAa51F,KAAKqE,GAClBwxF,EAAIxxF,GAAO,WAET,IADA,IAAIwiC,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAEvB,IAAIu1C,EAAYnvD,EAAK3mC,OACrB,GAAI81F,IAAc33F,EAAM6B,OACtB,MAAM,IAAIgH,MAAM,qCAAuC7C,EAAM,cAAgBhG,EAAM6B,OAAS,KAAO7B,EAAQ,UAAY23F,GAEzH,IAAI1zF,EAAQ,SAAU2zF,GACpB,IAAIC,EAAaj2F,GAAKg2F,GACtB,GAAIL,EAAa11F,SAAWg2F,EAAWh2F,OACrC,MAAM,IAAIgH,MAAM,iDAAmD0uF,EAAatyF,KAAK,KAAO,aAAe4yF,EAAW5yF,KAAK,MAK7H,IAHc23E,EAAO2a,GAAc,SAAUO,GAC3C,OAAOjrF,EAASgrF,EAAYC,MAG5B,MAAM,IAAIjvF,MAAM,gEAAkEgvF,EAAW5yF,KAAK,MAAQ,eAAiBsyF,EAAatyF,KAAK,OAE/I,OAAO2yF,EAAS5xF,GAAKyX,MAAM,KAAM+qB,IAEnC,MAAO,CACLwzC,KAAM,WAEJ,IADA,IAAI+b,EAAW,GACN31C,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC21C,EAAS31C,GAAMphD,UAAUohD,GAE3B,GAAI21C,EAASl2F,SAAWy1F,EAAMz1F,OAC5B,MAAM,IAAIgH,MAAM,+CAAiDyuF,EAAMz1F,OAAS,SAAWk2F,EAASl2F,QAEtG,IAAIG,EAAS+1F,EAASlgF,GACtB,OAAO7V,EAAOyb,MAAM,KAAM+qB,IAE5BvkC,MAAOA,EACPklB,IAAK,SAAUgO,GACbgtB,QAAQh7B,IAAIgO,EAAO,CACjBogE,aAAcA,EACd9+E,YAAazS,EACb0hC,OAAQc,UAMXgvD,GA8BLQ,IA1BaX,GAAa,CAC5B,CACEY,WAAY,CACV,SACA,WAGJ,CACEC,WAAY,CACV,SACA,WAGJ,CACEC,YAAa,CACX,SACA,WAGJ,CACEC,WAAY,CACV,SACA,aAIM,SAAUnpF,GACpB,OAAOA,EAAO+sE,KAAKd,EAAUA,KAG/B,SAASmd,GAAmBnc,EAAIoc,EAAUzQ,EAAO5mF,EAAGs3F,GAClD,OAAIrc,EAAG2L,EAAO5mF,GACLi8E,EAAS5tE,KAAKu4E,GACZlN,EAAW4d,IAAWA,EAAO1Q,GAC/B3K,EAAStB,OAET0c,EAASzQ,EAAO5mF,EAAGs3F,GAI9B,IAsOIC,GA3wC8Bl1B,GAAUm1B,GAy2GxCC,GAASC,GAAMC,GAASC,GAAOC,GAAUC,GAASl6B,GAAQm6B,GAAkBC,GAAWC,GAAcC,GAAaC,GAAYC,GAASC,GAAgBC,GAAWC,GAAwBC,GAp0E1LnB,GAAW,SAAUzQ,EAAOxlD,EAAWk2D,GAGzC,IAFA,IAAI7xF,EAAUmhF,EAAMH,IAChBje,EAAOkR,EAAW4d,GAAUA,EAAS7c,EAClCh1E,EAAQ2G,YAAY,CACzB3G,EAAUA,EAAQ2G,WAClB,IAAIP,EAAK66E,GAAaF,QAAQ/gF,GAC9B,GAAI27B,EAAUv1B,GACZ,OAAOowE,EAAS5tE,KAAKxC,GAChB,GAAI28D,EAAK38D,GACd,MAGJ,OAAOowE,EAAStB,QAEd8d,GAAU,SAAU7R,EAAOxlD,EAAWk2D,GAIxC,OAAOF,IAHE,SAAU73F,EAAGqE,GACpB,OAAOA,EAAKrE,KAEe83F,GAAUzQ,EAAOxlD,EAAWk2D,IAWvDoB,GAAU,SAAU9R,EAAOxlD,GAK7B,OADa31B,EAAKm7E,EAAMH,IAAI33B,YAHjB,SAAUxV,GACnB,OAAOlY,EAAUslD,GAAaF,QAAQltC,OAG1Br2C,IAAIyjF,GAAaF,UAG7BmS,GAAa,SAAU/R,EAAOtqB,EAAUg7B,GAC1C,OAAOD,GAASzQ,GAAO,SAAU7oF,GAC/B,OAAOwpF,GAAKxpF,EAAGu+D,KACdg7B,IAEDsB,GAAa,SAAUhS,EAAOtqB,GAChC,OAn8CQ,SAAUA,EAAUsqB,GAC5B,IAAIzxD,OAAiB1kB,IAAVm2E,EAAsB1mF,SAAW0mF,EAAMH,IAClD,OAAOkB,GAAexyD,GAAQ8mD,EAAStB,OAASsB,EAASt8E,KAAKw1B,EAAK/zB,cAAck7D,IAAWr5D,IAAIyjF,GAAaF,SAi8CtGqS,CAAIv8B,EAAUsqB,IAEnBkS,GAAY,SAAUlS,EAAOtqB,EAAUg7B,GAIzC,OAAOF,IAHE,SAAU3xF,EAAS62D,GAC1B,OAAOirB,GAAK9hF,EAAS62D,KAEMq8B,GAAY/R,EAAOtqB,EAAUg7B,IAmLxDyB,GAAap7F,OAAO65D,QAAU75D,OAAO65D,QAhL3B,WACZ,IAAIt4D,EAAO,SAAU0e,EAAI6gE,GACvB,OAAO,WAEL,IADA,IAAIl3C,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAEvBvjC,EAAGpB,MAAMiiE,EAASl3C,KAGlB3nC,EAAUF,MAAME,SAAW,SAAUb,GACvC,MAAiD,mBAA1CP,OAAOY,UAAUgF,SAAShG,KAAKW,IAEpCy4D,EAAU,SAAU55C,GACtB,GAAoB,iBAATpV,KACT,MAAM,IAAIuH,UAAU,wCAEtB,GAAkB,mBAAP6N,EACT,MAAM,IAAI7N,UAAU,kBAEtBvH,KAAKmpF,OAAS,KACdnpF,KAAKqpF,OAAS,KACdrpF,KAAKspF,WAAa,GAClBC,EAAUn0E,EAAI1e,EAAKu4D,EAASjvD,MAAOtJ,EAAKmzF,EAAQ7pF,QAE9CwwF,EAAOxhC,EAAQyhC,aAAuC,mBAAjBxH,cAA+BA,cAAgB,SAAU7zE,GAChG,OAAOjP,WAAWiP,EAAI,IAExB,SAASo0E,EAAOC,GACd,IAAIlW,EAAKvzE,KACW,OAAhBA,KAAKmpF,OAITqH,GAAK,WACH,IAAI/a,EAAKlC,EAAG4V,OAASM,EAASva,YAAcua,EAASE,WACrD,GAAW,OAAPlU,EAAJ,CAIA,IAAImU,EACJ,IACEA,EAAMnU,EAAGlC,EAAG8V,QACZ,MAAO9zF,GAEP,YADAk0F,EAASI,OAAOt0F,GAGlBk0F,EAASx6B,QAAQ26B,QAVdrW,EAAG4V,OAASM,EAASx6B,QAAUw6B,EAASI,QAAQtW,EAAG8V,WANtDrpF,KAAKspF,WAAWpxF,KAAKuxF,GAmBzB,SAASx6B,EAAQ66B,GACf,IACE,GAAIA,IAAa9pF,KACf,MAAM,IAAIuH,UAAU,6CAEtB,GAAIuiF,IAAiC,iBAAbA,GAA6C,mBAAbA,GAA0B,CAChF,IAAI5sB,EAAO4sB,EAAS5sB,KACpB,GAAoB,mBAATA,EAET,YADAqsB,EAAU7yF,EAAKwmE,EAAM4sB,GAAWpzF,EAAKu4D,EAASjvD,MAAOtJ,EAAKmzF,EAAQ7pF,OAItEA,KAAKmpF,QAAS,EACdnpF,KAAKqpF,OAASS,EACdC,EAAOn0F,KAAKoK,MACZ,MAAOzK,GACPs0F,EAAOj0F,KAAKoK,KAAMzK,IAGtB,SAASs0F,EAAOC,GACd9pF,KAAKmpF,QAAS,EACdnpF,KAAKqpF,OAASS,EACdC,EAAOn0F,KAAKoK,MAEd,SAAS+pF,IACP,IAAK,IAAIr0F,EAAI,EAAGgb,EAAM1Q,KAAKspF,WAAWlxF,OAAQ1C,EAAIgb,EAAKhb,IACrD8zF,EAAO5zF,KAAKoK,KAAMA,KAAKspF,WAAW5zF,IAEpCsK,KAAKspF,WAAa,KAEpB,SAASW,EAAQ/a,EAAaya,EAAY16B,EAAS46B,GACjD7pF,KAAKkvE,YAAqC,mBAAhBA,EAA6BA,EAAc,KACrElvE,KAAK2pF,WAAmC,mBAAfA,EAA4BA,EAAa,KAClE3pF,KAAKivD,QAAUA,EACfjvD,KAAK6pF,OAASA,EAEhB,IAAIN,EAAY,SAAUn0E,EAAI85D,EAAaya,GACzC,IAAI13E,GAAO,EACX,IACEmD,GAAG,SAAU7e,GACP0b,IAGJA,GAAO,EACPi9D,EAAY34E,OACX,SAAU6/B,GACPnkB,IAGJA,GAAO,EACP03E,EAAWvzD,OAEb,MAAO8zD,GACP,GAAIj4E,EACF,OAEFA,GAAO,EACP03E,EAAWO,KAmEf,OAhEAl7B,EAAQp4D,UAAU85F,MAAQ,SAAU/G,GAClC,OAAO3pF,KAAKk9D,KAAK,KAAMysB,IAEzB36B,EAAQp4D,UAAUsmE,KAAO,SAAUgS,EAAaya,GAC9C,IAAIpW,EAAKvzE,KACT,OAAO,IAAIgvD,GAAQ,SAAUC,EAAS46B,GACpCL,EAAO5zF,KAAK29E,EAAI,IAAI0W,EAAQ/a,EAAaya,EAAY16B,EAAS46B,QAGlE76B,EAAQ6iB,IAAM,WAEZ,IADA,IAAIv2E,EAAS,GACJq9C,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtCr9C,EAAOq9C,GAAMphD,UAAUohD,GAEzB,IAAI5Z,EAAO7nC,MAAMN,UAAUU,MAAM1B,KAAuB,IAAlB0F,EAAOlD,QAAgBhB,EAAQkE,EAAO,IAAMA,EAAO,GAAKA,GAC9F,OAAO,IAAI0zD,GAAQ,SAAUC,EAAS46B,GACpC,GAAoB,IAAhB9qD,EAAK3mC,OACP,OAAO62D,EAAQ,IAsBjB,IApBA,IAAIiR,EAAYnhC,EAAK3mC,OACjB09B,EAAM,SAAUpgC,EAAGu5B,GACrB,IACE,GAAIA,IAAuB,iBAARA,GAAmC,mBAARA,GAAqB,CACjE,IAAIiuC,EAAOjuC,EAAIiuC,KACf,GAAoB,mBAATA,EAIT,YAHAA,EAAKtnE,KAAKq5B,GAAK,SAAUA,GACvB6G,EAAIpgC,EAAGu5B,KACN46D,GAIP9qD,EAAKrpC,GAAKu5B,EACU,KAAdixC,GACJjR,EAAQlwB,GAEV,MAAOmrD,GACPL,EAAOK,KAGFx0F,EAAI,EAAGA,EAAIqpC,EAAK3mC,OAAQ1C,IAC/BogC,EAAIpgC,EAAGqpC,EAAKrpC,QAIlBs5D,EAAQC,QAAU,SAAU14D,GAC1B,OAAIA,GAA0B,iBAAVA,GAAsBA,EAAMyY,cAAgBggD,EACvDz4D,EAEF,IAAIy4D,GAAQ,SAAUC,GAC3BA,EAAQ14D,OAGZy4D,EAAQ66B,OAAS,SAAUtzF,GACzB,OAAO,IAAIy4D,GAAQ,SAAUC,EAAS46B,GACpCA,EAAOtzF,OAGXy4D,EAAQo7B,KAAO,SAAU9uF,GACvB,OAAO,IAAI0zD,GAAQ,SAAUC,EAAS46B,GACpC,IAAK,IAAIn0F,EAAI,EAAGgb,EAAMpV,EAAOlD,OAAQ1C,EAAIgb,EAAKhb,IAC5C4F,EAAO5F,GAAGwnE,KAAKjO,EAAS46B,OAIvB76B,EAE0C8J,GAqB/C63B,GAAoB,SAAU/xD,EAAUgyD,GAI1C,MAHoB,iBAATA,IACTA,EAAO,GAEFzqF,WAAWy4B,EAAUgyD,IAE1BC,GAAqB,SAAUjyD,EAAUgyD,GAI3C,MAHoB,iBAATA,IACTA,EAAO,GAEF7F,YAAYnsD,EAAUgyD,IAQ3BE,GAAW,SAAUlyD,EAAUgyD,GACjC,IAAIrhC,EACAwhC,EAAO,WAET,IADA,IAAIhyD,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAEvBvyC,aAAampD,GACbA,EAAQohC,IAAkB,WACxB/xD,EAAS5qB,MAAMhU,KAAM++B,KACpB6xD,IAKL,OAHAG,EAAK/wB,KAAO,WACV55D,aAAampD,IAERwhC,GAELC,GAAQ,CACV7uF,sBAAuB,SAAUy8B,EAAU3hC,GACrC8xF,GACFA,GAA6B7xB,KAAKt+B,GAGpCmwD,GAA+B,IAAIwB,IAAW,SAAUthC,GACjDhyD,IACHA,EAAUvF,SAAS4O,MA7DC,SAAUs4B,EAAU3hC,GAU9C,IATA,IAAIg0F,EAA4B97F,OAAOgN,sBACnC+uF,EAAU,CACZ,KACA,MACA,UAKOx7F,EAAI,EAAGA,EAAIw7F,EAAQ94F,SAAW64F,EAA2Bv7F,IAChEu7F,EAA4B97F,OAAO+7F,EAAQx7F,GAAK,yBAE7Cu7F,IACHA,EAPgB,SAAUxb,GAC1BtgF,OAAOgR,WAAWsvE,EAAI,KAQxBwb,EAA0BryD,EAAU3hC,GA+ChCkF,CAAsB8sD,EAAShyD,MAC9BigE,KAAKt+B,IAEVz4B,WAAYwqF,GACZ5F,YAAa8F,GACbM,iBAAkB,SAAUC,EAAQxyD,EAAUgyD,GAC5C,OAAOD,IAAkB,WAClBS,EAAOC,SACVzyD,MAEDgyD,IAELU,kBAAmB,SAAUF,EAAQxyD,EAAUgyD,GAC7C,IAAIrhC,EAAQshC,IAAmB,WACxBO,EAAOC,QAGVrG,cAAcz7B,GAFd3wB,MAIDgyD,GACH,OAAOrhC,GAETuhC,SAAUA,GACVS,SAAUT,GACV9F,cAtDyB,SAAUz5D,GACnC,OAAOy5D,cAAcz5D,IAsDrBnrB,aA1DwB,SAAUmrB,GAClC,OAAOnrB,aAAamrB,KA4DlBigE,GAAmB,SAAUC,EAAsBC,QACpC,IAAbA,IACFA,EAAW,IAEb,IAAIC,EAAU,EACVC,EAAe,GACfC,EAAO3T,GAAaF,QAAQyT,GAC5BhnC,EAAM61B,GAAgBuR,GACtBC,EAAcJ,EAASI,aAAe,IAqBtCC,EAAO,SAAUvuE,EAAK0vB,EAAS5N,GACjC,IAAI0sD,EACAC,EAAgBlV,GAAMgB,gBAAgBv6D,GACtCjC,EAbiB,SAAUiC,GAC/B,OAAO6xD,GAAMuc,EAAcpuE,GAAKovD,YAAW,WACzC,MAAO,CACLrhD,GAAI,QAAUogE,IACd7zD,OAAQ,GACRo0D,OAAQ,GACR9jF,MAAO,MAOC+jF,CAAiBF,GAC7BL,EAAaK,GAAiB1wE,EAC9BA,EAAMnT,QACN,IAAI6gD,EAAU,SAAU3lB,EAAW+H,GAEjC,IADA,IAAI37C,EAAI4zC,EAAUlxC,OACX1C,KACL4zC,EAAU5zC,KAEZ6rB,EAAM8vB,OAASA,EACf9vB,EAAMuc,OAAS,GACfvc,EAAM2wE,OAAS,GACXF,IACFA,EAAKh1C,OAAS,KACdg1C,EAAKtzC,QAAU,KACfszC,EAAO,OAGPl0D,EAAS,WACX,OAAOmxB,EAAQ1tC,EAAMuc,OAAQ,IAE3Bo0D,EAAS,WACX,OAAOjjC,EAAQ1tC,EAAM2wE,OAAQ,IAW3BE,EAA0B,WATnB,IAAwBC,IAsB9BD,EAZE,WAGH,IAFA,IAAIE,EAAcb,EAAqBa,YACnC58F,EAAI48F,EAAYl6F,OACb1C,KAAK,CACV,IACI0qF,EADakS,EAAY58F,GACN68F,UACvB,GAAInS,GAASA,EAAM7uD,KAAOygE,EAAKzgE,GAE7B,OADAuM,KACO,EAGX,OAAO,EApBJ00D,KACC79C,KAAK89C,MAAQC,EAAYZ,EAC3Bd,GAAM7qF,WAAWksF,GAEjBH,MAyBN,GANIh/C,GACF3xB,EAAMuc,OAAO5lC,KAAKg7C,GAEhB5N,GACF/jB,EAAM2wE,OAAOh6F,KAAKotC,GAEC,IAAjB/jB,EAAM8vB,OAGV,GAAqB,IAAjB9vB,EAAM8vB,OAIV,GAAqB,IAAjB9vB,EAAM8vB,OAAV,CAIA9vB,EAAM8vB,OAAS,EACf,IAAIshD,EAAWzU,GAAaI,QAAQ,OAAQ7zB,EAAIwzB,KAChDgH,GAAO0N,EAAU,CACfC,IAAK,aACLr3F,KAAM,WACNg2B,GAAIhQ,EAAMgQ,KAEZ,IA3FuBt0B,EA2FnBy1F,EAAY/9C,KAAK89C,MACjBf,EAASmB,gBACXhmF,GAAI8lF,EAAU,cAAe,aAE3BjB,EAASoB,gBACXjmF,GAAI8lF,EAAU,iBAAkBjB,EAASoB,iBAE3Cd,EAAOW,EAAS1U,KACXjhC,OAASo1C,EACdJ,EAAKtzC,QAAUwzC,EApGQj1F,EAqGd01F,EApGTp0D,GAAO8iD,GAAkBwQ,GAAO50F,GAqGhC4P,GAAI8lF,EAAU,OAAQV,QArBpBC,SAJAp0D,KA2BAi1D,EAAQ,SAAUvvE,GACpB,OAAOqpE,IAAU,SAAU59B,GACzB8iC,EAAKvuE,EAAK6tD,EAAQpiB,EAASuiB,EAASkc,GAAOn3F,MAAMitB,KAAQ6tD,EAAQpiB,EAASuiB,EAASkc,GAAO7hF,MAAM2X,UAehGwvE,EAAS,SAAUxvE,GACrB,IAAIyuE,EAAgBlV,GAAMgB,gBAAgBv6D,GAC1C6xD,GAAMuc,EAAcK,GAAe7qC,MAAK,SAAU7lC,GAChD,IAzHwBgQ,EACtB0hE,EAyHY,MADA1xE,EAAMnT,eAEXwjF,EAAaK,GA3HE1gE,EA4HVhQ,EAAMgQ,GA3HlB0hE,EAAiB5R,GAAkBwQ,GACvCzB,GAAW6C,EAAgB,IAAM1hE,GAAI61B,KAAKzjD,SAmI5C,MAAO,CACLouF,KAAMA,EACNmB,QA7BY,SAAUC,EAAMjgD,EAAS5N,GA5pB7B,IAAU8tD,KA6pBZ34F,EAAI04F,EAAMJ,GA5pBXjG,GAAIsG,EAASvG,KA4pBM12F,KAAI,SAAUqP,GACpC,IAAI27B,EAz0FM,SAAU+uC,EAAI2D,GAG5B,IAFA,IAAIwf,EAAO,GACPC,EAAO,GACF59F,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,EAAKhb,IAAK,CAC7C,IAAIkH,EAAIszE,EAAGx6E,IACDm+E,EAAKj3E,EAAGlH,GAAK29F,EAAOC,GAC1Bp7F,KAAK0E,GAEX,MAAO,CACLy2F,KAAMA,EACNC,KAAMA,GA+zFQC,CAAU/tF,GAAQ,SAAUpP,GACtC,OAAOA,EAAE62F,aAEP9rD,EAAMmyD,KAAKl7F,OAAS,EACtBktC,EAAQnE,EAAMmyD,KAAK74F,IAAI8zF,KAEvBr7C,EAAQ/R,EAAMkyD,KAAK54F,IAAI8zF,SAsB3ByE,OAAQA,EACRQ,UATc,SAAUL,GACxB/rC,EAAK+rC,GAAM,SAAU3vE,GACnBwvE,EAAOxvE,OAQTiwE,mBAhJuB,SAAUX,GACjCpB,EAASoB,eAAiBA,KAgK1B1hE,GAbW,WACb,IAAI32B,EAAM,IAAI6mB,QAUd,MAAO,CAAEsjC,WATQ,SAAU8uC,EAAkBhC,GAC3C,IACIiC,EADOxS,GAAYuS,GACJzV,IACnB,OAAOxK,EAASt8E,KAAKsD,EAAItE,IAAIw9F,IAAU/gB,YAAW,WAChD,IAAIghB,EAAKpC,GAAiBmC,EAASjC,GAEnC,OADAj3F,EAAIoS,IAAI8mF,EAASC,GACVA,OAKEC,GAEXC,GAAgB,WAClB,SAASA,EAAcC,EAAWC,GAChCh0F,KAAK8wC,KAAOijD,EACZ/zF,KAAKg0F,SAAWA,EAChBh0F,KAAK23E,QAAU33E,KAAK23E,QAAQjhF,KAAKsJ,MACjCA,KAAK6R,KAAO7R,KAAK6R,KAAKnb,KAAKsJ,MAC3BA,KAAKi0F,KAAOj0F,KAAKi0F,KAAKv9F,KAAKsJ,MAC3BA,KAAKk0F,MAAQl0F,KAAKk0F,MAAMx9F,KAAKsJ,MA4D/B,OA1DA8zF,EAAcl9F,UAAU+gF,QAAU,WAChC,OAAO33E,KAAK8wC,MAEdgjD,EAAcl9F,UAAUib,KAAO,SAAUsiF,GAEvC,OADAn0F,KAAK8wC,KAAO9wC,KAAKo0F,YAAYp0F,KAAK8wC,KAAM,aAAc,cAAeqjD,GAC9Dn0F,KAAK8wC,MAEdgjD,EAAcl9F,UAAUq9F,KAAO,SAAUE,GAEvC,OADAn0F,KAAK8wC,KAAO9wC,KAAKo0F,YAAYp0F,KAAK8wC,KAAM,YAAa,kBAAmBqjD,GACjEn0F,KAAK8wC,MAEdgjD,EAAcl9F,UAAUs9F,MAAQ,SAAUC,GAExC,OADAn0F,KAAK8wC,KAAO9wC,KAAKq0F,iBAAiBr0F,KAAK8wC,KAAM,YAAa,kBAAmBqjD,GACtEn0F,KAAK8wC,MAEdgjD,EAAcl9F,UAAUw9F,YAAc,SAAUtjD,EAAMwjD,EAAWC,EAAaJ,GAC5E,IAAIrnB,EAASjZ,EACb,GAAI/iB,EAAM,CACR,IAAKqjD,GAAWrjD,EAAKwjD,GACnB,OAAOxjD,EAAKwjD,GAEd,GAAIxjD,IAAS9wC,KAAKg0F,SAAU,CAE1B,GADAlnB,EAAUh8B,EAAKyjD,GAEb,OAAOznB,EAET,IAAKjZ,EAAS/iB,EAAKltC,WAAYiwD,GAAUA,IAAW7zD,KAAKg0F,SAAUngC,EAASA,EAAOjwD,WAEjF,GADAkpE,EAAUjZ,EAAO0gC,GAEf,OAAOznB,KAMjBgnB,EAAcl9F,UAAUy9F,iBAAmB,SAAUvjD,EAAMwjD,EAAWC,EAAaJ,GACjF,IAAIrnB,EAASjZ,EAAQ/kB,EACrB,GAAIgC,EAAM,CAER,GADAg8B,EAAUh8B,EAAKyjD,GACXv0F,KAAKg0F,UAAYlnB,IAAY9sE,KAAKg0F,SACpC,OAEF,GAAIlnB,EAAS,CACX,IAAKqnB,EACH,IAAKrlD,EAAQg+B,EAAQwnB,GAAYxlD,EAAOA,EAAQA,EAAMwlD,GACpD,IAAKxlD,EAAMwlD,GACT,OAAOxlD,EAIb,OAAOg+B,EAGT,IADAjZ,EAAS/iB,EAAKltC,aACAiwD,IAAW7zD,KAAKg0F,SAC5B,OAAOngC,IAINigC,EAnEW,GAmLhBU,GAAa,SAAU/6C,GACzB,IAAIg7C,EACJ,OAAO,SAAU3jD,GAEf,OADA2jD,EAASA,GAt9FK,SAAUvkB,EAAIp2E,GAE9B,IADA,IAAI1D,EAAI,GACCV,EAAI,EAAGgb,EAAMw/D,EAAG93E,OAAQ1C,EAAIgb,EAAKhb,IAAK,CAC7C,IAAIkH,EAAIszE,EAAGx6E,GACXU,EAAEoR,OAAO5K,IAAM9C,EAAE8C,EAAGlH,GAEtB,OAAOU,EAg9FsBs+F,CAAYj7C,EAAOy4B,IAChCr7E,eAAe2R,GAAKsoC,MAGlC6jD,GAAYH,GA/BD,CACb,KACA,KACA,KACA,KACA,KACA,OA0BEI,GAAUJ,GArHD,CACX,UACA,QACA,UACA,MACA,KACA,aACA,SACA,OACA,WACA,SACA,SACA,OACA,OACA,MACA,UACA,UACA,OACA,IACA,KACA,WACA,KACA,SACA,UACA,SACA,aACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,MACA,MACA,YACA,OACA,MACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,YAwEEK,GAAW,SAAU/jD,GACvB,OAAO6e,GAAU7e,KAAU8jD,GAAQ9jD,IAEjCgkD,GAAS,SAAUhkD,GACrB,OAAO6e,GAAU7e,IAAwB,OAAftoC,GAAKsoC,IAE7BikD,GAAcP,GAnED,CACf,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MACA,UACA,MACA,OACA,aACA,SACA,MACA,WACA,SACA,SACA,UACA,UACA,SACA,QACA,MACA,WA6CEQ,GAASR,GA9BD,CACV,KACA,KACA,OA4BES,GAAaT,GApCD,CACd,KACA,KACA,OAkCEU,GAAiBV,GA3ED,CAClB,QACA,QACA,UAyEEW,GAAgBX,GAhFH,CACf,KACA,OA+EEY,GAAsBZ,GA7BT,CACf,MACA,SACA,WACA,UAgCEa,GAAO,IAQPC,GATY,SAUZC,GARS,SAAU1zD,GACrB,MAHc,WAGPA,GAQL2zD,GANa,SAAUz+F,GACzB,OAAOA,EAAEoC,QAAQ,UAAW,KAO1Bs8F,GAAc7R,GACd8R,GAAWrR,GACXsR,GAAwB,SAAU7kD,GAIpC,OAHI4kD,GAAS5kD,KACXA,EAAOA,EAAKltC,YAEP6xF,GAAY3kD,IAASA,EAAKiS,aAAa,mBAE5C6yC,GAAyB,SAAU9kD,GACrC,OAAO4kD,GAAS5kD,IAASykD,GAASzkD,EAAKzuB,OAErCwzE,GAAmB,SAAU/kD,GAC/B,OAAO6kD,GAAsB7kD,IAAS8kD,GAAuB9kD,IAE3DglD,GAAa,SAAUhlD,GACzB,OAAOA,EAAKgwC,aAAehwC,EAAKiwC,YAAc0D,GAAK3zC,EAAKgwC,aAqCtDiV,GAAiB,SAAUxqE,GAC7B,IAAIlsB,EAAYksB,EAAIlsB,YACpB,QAAKglF,GAAShlF,KAGPA,EAAUgjB,KAAKla,OAAOojB,EAAI/b,YAAc8lF,IAAQ/pE,EAAIyqE,aAAeJ,GAAuBv2F,EAAUqhF,mBAEzGuV,GAAgB,SAAU1qE,GAC5B,IAAIlsB,EAAYksB,EAAIlsB,YACpB,QAAKglF,GAAShlF,KAGPA,EAAUgjB,KAAKla,OAAOojB,EAAI/b,SAAW,KAAO8lF,IAAQ/pE,EAAI2qE,WAAaN,GAAuBv2F,EAAUoE,eAO3G0yF,GAAc,SAAUC,EAAWtlD,EAAM2wC,GAC3C,IALI4U,EAMAC,EADMxlD,EAAKuvC,cACK1oF,cAAcy+F,GAClCE,EAAUt0F,aAAa,iBAAkBy/E,EAAS,SAAW,SAC7D6U,EAAUt0F,aAAa,iBAAkB,OACzCs0F,EAAUhzF,cATN+yF,EAAK3+F,SAASC,cAAc,OAC7BqK,aAAa,iBAAkB,KAC3Bq0F,IAQP,IAAIzyF,EAAaktC,EAAKltC,WAUtB,OATK69E,EAOH79E,EAAWF,aAAa4yF,EAAWxlD,GAN/BA,EAAKrtC,YACPG,EAAWF,aAAa4yF,EAAWxlD,EAAKrtC,aAExCG,EAAWN,YAAYgzF,GAKpBA,GAELC,GAA2B,SAAUzlD,GACvC,OAAO4kD,GAAS5kD,IAASA,EAAKzuB,KAAK,KAAOizE,IAExCkB,GAAyB,SAAU1lD,GACrC,OAAO4kD,GAAS5kD,IAASA,EAAKzuB,KAAKyuB,EAAKzuB,KAAKjqB,OAAS,KAAOk9F,IAS3DmB,GAA0B,SAAUC,GACtC,OAAIA,GAAkBA,EAAe3zC,aAAa,mBAP9C4zC,EAQUD,EARA7nD,qBAAqB,MAC/B+nD,EAASD,EAAIA,EAAIv+F,OAAS,GAC1B6rF,GAAQ2S,IACVA,EAAOhzF,WAAWJ,YAAYozF,GAM9BF,EAAe1+F,gBAAgB,kBAC/B0+F,EAAe1+F,gBAAgB,kBAC/B0+F,EAAe1+F,gBAAgB,SAC/B0+F,EAAe1+F,gBAAgB,eACxB0+F,GAEF,KAhBS,IACZC,EACAC,GAoBFC,GAA0BlS,GAC1BmS,GAA2BlS,GAC3BmS,GAAStS,GACTuS,GAAW3S,GACX4S,GAAuBpT,GAAe,CACxC,SACA,QACA,aAEEqT,GAAiBrT,GAAe,CAClC,MACA,QACA,WACA,KACA,SACA,QACA,QACA,SACA,UAEEsT,GAAYtT,GAAe,CAAC,UAC5BuT,GAAqBvB,GACrBwB,GAAmB,SAAUvmD,GAC/B,OAAIsmD,GAAmBtmD,KAGnBkmD,GAASlmD,IACHmmD,GAAqBnmD,EAAKltC,YAE7BszF,GAAepmD,IAASimD,GAAOjmD,IAASqmD,GAAUrmD,IAASwmD,GAA4BxmD,KAK5FwmD,GAA8B,SAAUxmD,GAC1C,OAAgC,IAJb,SAAUA,GAC7B,OAAO8yC,GAAY9yC,IAA+C,SAAtCA,EAAK/4C,aAAa,gBAGvCw/F,CAAezmD,IAAmBgmD,GAAyBhmD,IAwBhE0mD,GAA2B,SAAU1mD,EAAMvtC,GAC7C,OAAO8zF,GAAiBvmD,IAvBP,SAAUA,EAAMvtC,GACjC,IAAKutC,EAAOA,EAAKltC,WAAYktC,GAAQA,IAASvtC,EAAMutC,EAAOA,EAAKltC,WAAY,CAC1E,GAAI0zF,GAA4BxmD,GAC9B,OAAO,EAET,GAAI+lD,GAAwB/lD,GAC1B,OAAO,EAGX,OAAO,EAc0B2mD,CAAa3mD,EAAMvtC,IAGlDm0F,GAAqB,eACrBC,GAAmB,SAAUtsC,GAC/B,OAAOqsC,GAAmBt8F,KAAKiwD,IAG7BusC,GAA8B,SAAU9mD,EAAMkjD,GAChD,IA3MyB5V,EAAOtqB,EAAUg7B,EA2MtC+I,EAAc3Z,GAAaF,QAAQgW,GACnCD,EAAY7V,GAAaF,QAAQltC,GACrC,OA7MyBstC,EA6MP2V,EA7McjgC,EA6MH,WA7Mag7B,EA6MDpd,EAAM2N,GAAMwY,GA5M9C1H,GAAW/R,EAAOtqB,EAAUg7B,GAAQpc,UAoNzColB,GAAY,SAAUhnD,EAAMkjD,GAC9B,OAAOqD,GAAiBvmD,KAA0C,IAPjD,SAAUA,EAAMkjD,GACjC,OAAO3P,GAASvzC,IAAS6mD,GAAiB7mD,EAAKzuB,QAAyD,IAAhDu1E,GAA4B9mD,EAAMkjD,GAMzD+D,CAAajnD,EAAMkjD,IAJlC,SAAUljD,GAC5B,OAAO8yC,GAAY9yC,IAA2B,MAAlBA,EAAKgC,WAAqBhC,EAAKiS,aAAa,UAAYjS,EAAKiS,aAAa,SAAWjS,EAAKiS,aAAa,OAGxDi1C,CAAclnD,IAASmnD,GAAWnnD,IAE3GmnD,GAAal1C,GAAa,qBAC1Bm1C,GAAYn1C,GAAa,kBACzBo1C,IAz7D8Bt+B,GAy7DG,iBAz7DOm1B,GAy7DW,MAx7D9C,SAAUl+C,GACf,OAAO8yC,GAAY9yC,IAASA,EAAK/4C,aAAa8hE,MAAcm1B,KA09D5DoJ,GAAU,SAAUlS,EAAKmS,GAI3B,YAHkB,IAAdA,IACFA,GAAY,GApCE,SAAUC,EAAYD,GACtC,IAAIvnD,EAAMynD,EAAU,EACpB,GAAIT,GAAUQ,EAAYA,GACxB,OAAO,EAGP,KADAxnD,EAAOwnD,EAAWxX,YAEhB,OAAO,EAET,IAAI0X,EAAS,IAAI1E,GAAchjD,EAAMwnD,GACrC,EAAG,CACD,GAAID,EAAW,CACb,GAAIF,GAAarnD,GAAO,CACtBA,EAAO0nD,EAAO3mF,MAAK,GACnB,SAEF,GAAIqmF,GAAUpnD,GAAO,CACnBA,EAAO0nD,EAAO3mF,OACd,UAGJ,GAAI4yE,GAAK3zC,GACPynD,IACAznD,EAAO0nD,EAAO3mF,WAFhB,CAKA,GAAIimF,GAAUhnD,EAAMwnD,GAClB,OAAO,EAETxnD,EAAO0nD,EAAO3mF,cACPi/B,GACT,OAAOynD,GAAW,EAObE,CAAYvS,EAAIjI,IAAKoa,IAM1BK,GAAkB,SAAU5nD,EAAMvtC,GACpC,OAAO0tE,EAAcngC,KAAUgnD,GAAUhnD,EAAMvtC,IAASsxF,GAAS3W,GAAaF,QAAQltC,MASpF6nD,GAAiB,SAAU7nD,GAC7B,OAdW,SAAUA,GACrB,MAAuC,SAAhCA,EAAKgC,SAASl4C,cAadg+F,CAAO9nD,IAAgD,aAAvCA,EAAK/4C,aAAa,kBAEvC8gG,GAAiB,SAAU/nD,EAAMvtC,GACnC,OAAO8gF,GAASvzC,IAASA,EAAKzuB,KAAKjqB,OAAS,GAXd,SAAU04C,EAAMvtC,GAC9C,IAAI0wF,EAAO,IAAIH,GAAchjD,EAAMvtC,GAAM0wF,MAAK,GAC1CpiF,EAAO,IAAIiiF,GAAchjD,EAAMvtC,GAAMsO,MAAK,GAC1CinF,EAAe/nB,EAAYkjB,IAASyE,GAAgBzE,EAAM1wF,GAC1Dw1F,EAAehoB,EAAYl/D,IAAS6mF,GAAgB7mF,EAAMtO,GAC9D,OAAOu1F,GAAgBC,EAM0BC,CAA0BloD,EAAMvtC,IAQ/E01F,GAAW,SAAUhb,EAAKntC,EAAMvtC,GAClC,IAAIywF,EAAWzwF,GAAQutC,EACvB,GAAI8yC,GAAY9yC,IAAS6nD,GAAe7nD,GACtC,OAAOA,EAGT,IADA,IAAI74C,EAAW64C,EAAKwV,WACX5wD,EAAIuC,EAASG,OAAS,EAAG1C,GAAK,EAAGA,IACxCujG,GAAShb,EAAKhmF,EAASvC,GAAIs+F,GAE7B,GAAIpQ,GAAY9yC,GAAO,CACrB,IAAIooD,EAAkBpoD,EAAKwV,WACI,IAA3B4yC,EAAgB9gG,QAAgBugG,GAAeO,EAAgB,KACjEpoD,EAAKltC,WAAWF,aAAaw1F,EAAgB,GAAIpoD,GAMrD,OArBiB,SAAUA,GAC3B,OAAO0zC,GAAqB1zC,IAASyzC,GAAazzC,GAiB7CqoD,CAAaroD,IAAUgnD,GAAUhnD,EAAMkjD,IArB1B,SAAUljD,GAC5B,QAAO8yC,GAAY9yC,IAAQA,EAAKwV,WAAWluD,OAAS,EAoBMghG,CAActoD,IAAU+nD,GAAe/nD,EAAMkjD,IACrG/V,EAAIt6E,OAAOmtC,GAENA,GAGLuoD,GAAYtc,GAAMC,QAClBsc,GAAmB,0EACnBC,GAAkB,kEAClBC,GAAiB,aACjBC,GAAe,kCACfC,GAAW,CACbC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLz2E,IAAK,IACL02E,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KAEHC,GAAe,CACjB,IAAK,SACLC,IAAM,QACN,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEHC,GAAkB,CACpB,OAAQ,IACR,OAAQ,IACR,QAAS,IACT,SAAU,IACV,SAAU,KAORC,GAAsB,SAAU/hD,EAAOxY,GACzC,IAAIvrC,EAAGkvB,EAAK62E,EACRhH,EAAS,GACb,GAAIh7C,EAAO,CAGT,IAFAA,EAAQA,EAAM/gD,MAAM,KACpBuoC,EAAQA,GAAS,GACZvrC,EAAI,EAAGA,EAAI+jD,EAAMrhD,OAAQ1C,GAAK,EACjCkvB,EAAMpd,OAAO2kB,aAAazxB,SAAS++C,EAAM/jD,GAAIurC,IACxCo6D,GAAaz2E,KAChB62E,EAAS,IAAMhiD,EAAM/jD,EAAI,GAAK,IAC9B++F,EAAO7vE,GAAO62E,EACdhH,EAAOgH,GAAU72E,GAGrB,OAAO6vE,IAGPiH,GAAgBF,GAAoB,+rEAAwzE,IAC51EG,GAAY,SAAUtwC,EAAMgC,GAC9B,OAAOhC,EAAKlyD,QAAQk0D,EAAOisC,GAAmBC,IAAiB,SAAU30E,GACvE,OAAOy2E,GAAaz2E,IAAQA,MAQ5Bg3E,GAAgB,SAAUvwC,EAAMgC,GAClC,OAAOhC,EAAKlyD,QAAQk0D,EAAOisC,GAAmBC,IAAiB,SAAU30E,GACvE,OAAIA,EAAIxsB,OAAS,EACR,MAAsC,MAA7BwsB,EAAI+G,WAAW,GAAK,QAAiB/G,EAAI+G,WAAW,GAAK,OAAS,OAAS,IAEtF0vE,GAAaz2E,IAAQ,KAAOA,EAAI+G,WAAW,GAAK,QAGvDkwE,GAAc,SAAUxwC,EAAMgC,EAAMyuC,GAEtC,OADAA,EAAWA,GAAYJ,GAChBrwC,EAAKlyD,QAAQk0D,EAAOisC,GAAmBC,IAAiB,SAAU30E,GACvE,OAAOy2E,GAAaz2E,IAAQk3E,EAASl3E,IAAQA,MAsD7Cm3E,GAAW,CACbJ,UAAWA,GACXK,aAxEiB,SAAU3wC,GAC3B,OAAQ,GAAKA,GAAMlyD,QAAQqgG,IAAgB,SAAU50E,GACnD,OAAOy2E,GAAaz2E,IAAQA,MAuE9Bg3E,cAAeA,GACfC,YAAaA,GACbI,cAxDkB,SAAUzzF,EAAMszF,GAClC,IAAII,EAAcV,GAAoBM,IAAaJ,GAkB/CS,EAAU9C,GAAU7wF,EAAKrP,QAAQ,MAAO,MAC5C,OAAIgjG,EAAQC,OAASD,EAAQE,QAlBD,SAAUhxC,EAAMgC,GAC1C,OAAOhC,EAAKlyD,QAAQk0D,EAAOisC,GAAmBC,IAAiB,SAAU30E,GACvE,YAA0B3c,IAAtBozF,GAAaz2E,GACRy2E,GAAaz2E,QAEG3c,IAArBi0F,EAAYt3E,GACPs3E,EAAYt3E,GAEjBA,EAAIxsB,OAAS,EACR,MAAsC,MAA7BwsB,EAAI+G,WAAW,GAAK,QAAiB/G,EAAI+G,WAAW,GAAK,OAAS,OAAS,IAEtF,KAAO/G,EAAI+G,WAAW,GAAK,QAUlCwwE,EAAQC,MACNN,EARkB,SAAUzwC,EAAMgC,GACtC,OAAOwuC,GAAYxwC,EAAMgC,EAAM6uC,IAUxBL,GAELM,EAAQE,QACHT,GAEFD,IAyBPW,OAvBW,SAAUjxC,GACrB,OAAOA,EAAKlyD,QAAQsgG,IAAc,SAAU5nB,EAAKwqB,GAC/C,OAAIA,GAEAA,EADsC,MAApCA,EAAQl0F,OAAO,GAAGvN,cACVF,SAAS2hG,EAAQtkB,OAAO,GAAI,IAE5Br9E,SAAS2hG,EAAS,KAEhB,OACZA,GAAW,MACJ70F,OAAO2kB,aAAa,OAASkwE,GAAW,IAAK,OAAmB,KAAVA,KAExD3C,GAAS2C,IAAY70F,OAAO2kB,aAAakwE,GAE3Cd,GAAgB1pB,IAAQ6pB,GAAc7pB,IA/F9B,SAAUxmB,GAC3B,IAAI66B,EAAMhI,GAAaI,QAAQ,OAAOL,IAEtC,OADAiI,EAAItuF,UAAYyzD,EACT66B,EAAIl3C,aAAek3C,EAAIj3C,WAAaoc,EA4FYkxC,CAAa1qB,QAYlE2qB,GAAW,GAAIC,GAAW,GAC1BC,GAAY3f,GAAMC,QAAS2f,GAAS5f,GAAM31B,KAAMw1C,GAAW7f,GAAMjnC,OAAQ+mD,GAAY9f,GAAMe,QAAS3xB,GAAU4wB,GAAM5wB,QACpHzzD,GAAQ,SAAU+gD,EAAOwjC,GAE3B,OADAxjC,EAAQsjC,GAAMllF,KAAK4hD,IACJA,EAAM/gD,MAAMukF,GAAS,KAAO,IA8OzC6f,GAAoB,SAAUvmG,EAAOy0B,GACvC,IAAI+xE,EAUJ,OATIxmG,IACFwmG,EAAS,GACY,iBAAVxmG,IACTA,EAAQ,CAAE,IAAKA,IAEjBomG,GAAOpmG,GAAO,SAAUA,EAAOgG,GAC7BwgG,EAAOxgG,GAAOwgG,EAAOxgG,EAAIT,eAA0B,QAATkvB,EAAiB0xE,GAAUnmG,EAAO,QAAUsmG,GAAUtmG,EAAO,YAGpGwmG,GAELC,GAAS,SAAUtL,GACrB,IAAIzzF,EAAW,GACXhG,EAAW,GACXglG,EAAkB,GAClBC,EAAoB,GAAIC,EAAkB,GAC1CC,EAAoB,SAAUz9C,EAAQ09C,EAAcC,GACtD,IAAI/mG,EAAQm7F,EAAS/xC,GAWrB,OAVKppD,EAQHA,EAAQmmG,GAAUnmG,EAAO,OAAQmmG,GAAUnmG,EAAMuF,cAAe,UAPhEvF,EAAQimG,GAAS78C,MAEfppD,EAAQmmG,GAAUW,EAAc,IAAKX,GAAUW,EAAavhG,cAAe,MAC3EvF,EAAQqmG,GAASrmG,EAAO+mG,GACxBd,GAAS78C,GAAUppD,GAKhBA,GAGLgnG,EA7Qc,SAAUhiG,GAC5B,IACIiiG,EAAkBC,EAClBC,EAAiBC,EAAaC,EAAmBC,EAFjDC,EAAS,GAGT36F,EAAM,SAAUqF,EAAMk1B,EAAYzlC,GACpC,IAAI8lG,EAAIC,EAAiB/gG,EACrBghG,EAAa,SAAU5pF,EAAOuzB,GAChC,IACIlyC,EAAGC,EADH8E,EAAM,GAEV,IAAK/E,EAAI,EAAGC,EAAI0e,EAAMjc,OAAQ1C,EAAIC,EAAGD,IACnC+E,EAAI4Z,EAAM3e,IAAMkyC,GAAO,GAEzB,OAAOntC,GAGTijC,EAAaA,GAAc,GACH,iBAFxBzlC,EAAWA,GAAY,MAGrBA,EAAWS,GAAMT,IAEnB,IAAIuvB,EAAQ9uB,GAAM8P,GAElB,IADAu1F,EAAKv2E,EAAMpvB,OACJ2lG,KAKL9gG,EAAU,CACRygC,WAAYugE,EALdD,EAAkBtlG,GAAM,CACtB8kG,EACA9/D,GACAliC,KAAK,OAGLwiG,gBAAiBA,EACjB/lG,SAAUgmG,EAAWhmG,EAAUwkG,KAEjCqB,EAAOt2E,EAAMu2E,IAAO9gG,GAGpBihG,EAAW,SAAU11F,EAAMk1B,GAC7B,IAAIqgE,EAAII,EAAYzoG,EAAGC,EACnB6xB,EAAQ9uB,GAAM8P,GAClBu1F,EAAKv2E,EAAMpvB,OAEX,IADA,IAAI8sF,EAAQxsF,GAAMglC,GACXqgE,KAEL,IADAI,EAAaL,EAAOt2E,EAAMu2E,IACrBroG,EAAI,EAAGC,EAAIuvF,EAAM9sF,OAAQ1C,EAAIC,EAAGD,IACnCyoG,EAAWzgE,WAAWwnD,EAAMxvF,IAAM,GAClCyoG,EAAWH,gBAAgB9lG,KAAKgtF,EAAMxvF,KAI5C,OAAI8mG,GAASjhG,GACJihG,GAASjhG,IAElBiiG,EAAmB,wDACnBC,EAAe,sFACfC,EAAkB,wLACL,UAATniG,IACFiiG,GAAoB,8EACpBC,GAAgB,6EAChBC,GAAmB,oGAER,iBAATniG,IACFiiG,GAAoB,YAEpBE,EAAkB,CAChBA,EAFFG,EAAuB,8CAIrBriG,KAAK,KACPmhG,GAAOjkG,GAAMmlG,IAAuB,SAAUr1F,GAC5CrF,EAAIqF,EAAM,GAAIk1F,MAGhBD,EAAe,CACbA,EAFFG,EAAoB,+BAIlBpiG,KAAK,KACPmiG,EAAc,CACZF,EACAC,GACAliG,KAAK,KACPmhG,GAAOjkG,GAAMklG,IAAoB,SAAUp1F,GACzCrF,EAAIqF,EAAM,GAAIm1F,OAGlBA,EAAcA,GAAe,CAC3BF,EACAC,GACAliG,KAAK,KACP2H,EAAI,OAAQ,WAAY,aACxBA,EAAI,OAAQ,GAAI,sDAChBA,EAAI,wBACJA,EAAI,OAAQ,eACZA,EAAI,OAAQ,+CACZA,EAAI,OAAQ,mCACZA,EAAI,QAAS,qBACbA,EAAI,SAAU,gCACdA,EAAI,OAAQ,0LAAqMw6F,GACjNx6F,EAAI,4BAA6B,GAAIw6F,GACrCx6F,EAAI,0GAA2G,GAAIu6F,GACnHv6F,EAAI,aAAc,OAAQw6F,GAC1Bx6F,EAAI,KAAM,sBAAuB,MACjCA,EAAI,KAAM,GAAI,MACdA,EAAI,KAAM,QAASw6F,GACnBx6F,EAAI,KAAM,GAAI,SACdA,EAAI,IAAK,sCAAuCu6F,GAChDv6F,EAAI,IAAK,OAAQu6F,GACjBv6F,EAAI,UAAW,gBAAiBw6F,GAChCx6F,EAAI,MAAO,kDACXA,EAAI,SAAU,wBAAyBw6F,GACvCx6F,EAAI,QAAS,yBACbA,EAAI,SAAU,wDAAyD,CACrEw6F,EACA,SACAniG,KAAK,MACP2H,EAAI,QAAS,cACbA,EAAI,MAAO,OAAQ,CACjBw6F,EACA,QACAniG,KAAK,MACP2H,EAAI,OAAQ,wDACZA,EAAI,QAAS,SAAU,yCAAoD,UAAT5H,EAAmB,OAAS,KAC9F4H,EAAI,WAAY,OAAQ,OACxBA,EAAI,MAAO,QACXA,EAAI,oBAAqB,GAAI,MAC7BA,EAAI,KAAM,GAAI,SACdA,EAAI,KAAM,0BAA2Bw6F,GACrCx6F,EAAI,KAAM,qCAAsCw6F,GAChDx6F,EAAI,OAAQ,2EAA4Ew6F,GACxFx6F,EAAI,WAAY,qBAAsB,CACpCw6F,EACA,UACAniG,KAAK,MACP2H,EAAI,QAAS,WAAYu6F,GACzBv6F,EAAI,QAAS,0NACbA,EAAI,SAAU,4FAAsG,UAAT5H,EAAmBoiG,EAAcD,GAC5Iv6F,EAAI,SAAU,4CAA6C,mBAC3DA,EAAI,WAAY,iBAAkB,UAClCA,EAAI,SAAU,iCACdA,EAAI,WAAY,yEAChBA,EAAI,OAAQ,aAAc,CACxBw6F,EACA,MACAniG,KAAK,MACP2H,EAAI,WAAY,GAAIw6F,GACP,UAATpiG,IACF4H,EAAI,OACJA,EAAI,OAAQ,GAAI,CACdu6F,EACA,SACAliG,KAAK,MACP2H,EAAI,aAAc,GAAIw6F,GACtBx6F,EAAI,yBAA0B,GAAIu6F,GAClCv6F,EAAI,SAAU,eAAgBw6F,GAC9Bx6F,EAAI,QAAS,+FAAqG,CAChHw6F,EACA,gBACAniG,KAAK,MACP2H,EAAI,QAAS,kFAAwF,CACnGw6F,EACA,gBACAniG,KAAK,MACP2H,EAAI,UAAW,GAAI,cACnBA,EAAI,SAAU,+BACdA,EAAI,QAAS,kCACbA,EAAI,WAAY,GAAI,CAClBu6F,EACA,UACAliG,KAAK,MACP2H,EAAI,+CAAgD,GAAIw6F,GACxDx6F,EAAI,SAAU,GAAI,qBAClBA,EAAI,SAAU,GAAI,CAChBw6F,EACA,cACAniG,KAAK,MACP2H,EAAI,OAAQ,WAAYu6F,GACxBv6F,EAAI,SAAU,OAAQw6F,GACtBx6F,EAAI,UAAW,uDACfA,EAAI,SAAU,gBAAiBu6F,GAC/Bv6F,EAAI,WAAY,YAAau6F,GAC7Bv6F,EAAI,QAAS,iCAAkCu6F,GAC/Cv6F,EAAI,UAAW,OAAQ,CACrBw6F,EACA,WACAniG,KAAK,MACP2H,EAAI,SAAU,mDAEH,iBAAT5H,IACF2iG,EAAS,SAAU,sBACnBA,EAAS,QAAS,aAClBA,EAAS,SAAU,qFACnBA,EAAS,QAAS,4BAClBA,EAAS,QAAS,kBAClBA,EAAS,IAAK,iCACdA,EAAS,KAAM,SACfA,EAAS,SAAU,0EACnBA,EAAS,MAAO,4CAChBA,EAAS,SAAU,iEACnBA,EAAS,gBAAiB,mBAC1BA,EAAS,QAAS,gBAClBA,EAAS,UACTA,EAAS,YACTA,EAAS,yCAA0C,SACnDA,EAAS,KAAM,gBACfA,EAAS,KAAM,QACfA,EAAS,iBAAkB,WAC3BA,EAAS,MAAO,mBAChBA,EAAS,KAAM,4BACfA,EAAS,UAAW,UACpBA,EAAS,QAAS,mEAClBA,EAAS,MAAO,mCAChBA,EAAS,WAAY,mCACrBA,EAAS,QAAS,6BAClBA,EAAS,KAAM,qCACfA,EAAS,KAAM,8DACfA,EAAS,OAAQ,UACjBA,EAAS,KAAM,yEACfA,EAAS,QAAS,6BAClBA,EAAS,QAAS,6BAClBA,EAAS,OAAQ,UACjBA,EAAS,OAAQ,6CAEN,UAAT3iG,IACF2iG,EAAS,+BAAgC,aACzCA,EAAS,iBAAkB,eAC3BA,EAAS,IAAK,YACdA,EAAS,kBAAmB,eAC5BA,EAAS,MAAO,WAChBA,EAAS,SAAU,6CAErBvB,GAAOjkG,GAAM,8BAA8B,SAAU8P,GAC/Cs1F,EAAOt1F,WACFs1F,EAAOt1F,GAAMvQ,SAASuQ,aAG1Bs1F,EAAOtX,QAAQvuF,SAASmmG,aACxBN,EAAOO,OACd7B,GAASjhG,GAAQuiG,EACVA,GAmCWQ,EADlB5M,EAAWA,GAAY,IACkBoM,SACZ,IAAzBpM,EAAS6M,cACX7M,EAAS8M,eAAiB,QAE5B,IAAIC,EAAc3B,GAAkBpL,EAASgN,cACzCC,EAAgB7B,GAAkBpL,EAASkN,eAAgB,OAC3DC,EAAe/B,GAAkBpL,EAASoN,cAAe,OACzDC,EAAwB3B,EAAkB,sBAAuB,qEACjE4B,EAAyB5B,EAAkB,wBAAyB,mDACpE6B,EAAwB7B,EAAkB,uBAAwB,+FAClE8B,EAAc9B,EAAkB,qBAAsB,iIACtD+B,EAAmC,8CACnCC,EAAsBhC,EAAkB,qBAAsB+B,EAAmC,OAAQF,GACzGI,EAAoCjC,EAAkB,sCAAuC+B,EAAmC,SAAUF,GAC1IK,EAAuBlC,EAAkB,sBAAuB,sIAChEmC,EAAmBnC,EAAkB,iBAAkB,iJAA4JkC,GACnNE,EAAwBpC,EAAkB,uBAAwB,0EACtET,IAAQjL,EAAS+N,SAAW,oEAAoE/mG,MAAM,MAAM,SAAU8P,GACpH20F,EAAgB30F,GAAQ,IAAIqV,OAAO,KAAOrV,EAAO,SAAU,SAE7D,IAAIk3F,EAAkB,SAAUliF,GAC9B,OAAO,IAAIK,OAAO,IAAML,EAAIrkB,QAAQ,WAAY,OAAS,MAEvDwmG,EAAmB,SAAUC,GAC/B,IAAIC,EAAIx8F,EAAIy8F,EAAIC,EAAIvkB,EAASv+E,EAASowD,EAAM2yC,EAAUC,EAAapmC,EAAUqmC,EAAUxiE,EAAYsgE,EAAiBluC,EAAQqwC,EAAY3C,EAAkB4C,EAAuB7pG,EAC7K8pG,EAAoB,6DAA8DC,EAAiB,oDAAqDC,EAAoB,QAChL,GAAIX,EAAe,CACjB,IAAIY,EAAmB9nG,GAAMknG,EAAe,KAK5C,IAJI3hG,EAAS,OACXu/F,EAAmBv/F,EAAS,KAAKy/B,WACjC0iE,EAAwBniG,EAAS,KAAK+/F,iBAEnC6B,EAAK,EAAGx8F,EAAKm9F,EAAiBpoG,OAAQynG,EAAKx8F,EAAIw8F,IAElD,GADArkB,EAAU6kB,EAAkBhlG,KAAKmlG,EAAiBX,IACrC,CA0BX,GAzBA/vC,EAAS0rB,EAAQ,GACjBykB,EAAczkB,EAAQ,GACtB2kB,EAAa3kB,EAAQ,GACrBwkB,EAAWxkB,EAAQ,GAGnBv+E,EAAU,CACRygC,WAHFA,EAAa,GAIXsgE,gBAHFA,EAAkB,IAKH,MAAXluC,IACF7yD,EAAQwjG,WAAY,GAEP,MAAX3wC,IACF7yD,EAAQyjG,aAAc,GAEL,MAAfllB,EAAQ,KACVv+E,EAAQ0jG,kBAAmB,GAEzBnD,IACF9oB,GAAO8oB,GAAkB,SAAUjnG,EAAOgG,GACxCmhC,EAAWnhC,GAAOhG,KAEpBynG,EAAgB9lG,KAAK8b,MAAMgqF,EAAiBoC,IAE1CJ,EAEF,IAAKF,EAAK,EAAGC,GADbC,EAAWtnG,GAAMsnG,EAAU,MACA5nG,OAAQ0nG,EAAKC,EAAID,IAE1C,GADAtkB,EAAU8kB,EAAejlG,KAAK2kG,EAASF,IAC1B,CAWX,GAVAzyC,EAAO,GACP6yC,EAAW1kB,EAAQ,GACnB3hB,EAAW2hB,EAAQ,GAAGriF,QAAQ,UAAW,KACzC22D,EAAS0rB,EAAQ,GACjBjlF,EAAQilF,EAAQ,GACC,MAAb0kB,IACFjjG,EAAQ2jG,mBAAqB3jG,EAAQ2jG,oBAAsB,GAC3D3jG,EAAQ2jG,mBAAmB1oG,KAAK2hE,GAChCxM,EAAKtvB,UAAW,GAED,MAAbmiE,EAAkB,QACbxiE,EAAWm8B,GAClBmkC,EAAgBl3F,OAAOqlD,GAAQ6xC,EAAiBnkC,GAAW,GAC3D,SAEE/J,IACa,MAAXA,IACF7yD,EAAQ4jG,kBAAoB5jG,EAAQ4jG,mBAAqB,GACzD5jG,EAAQ4jG,kBAAkB3oG,KAAK,CAC7BsQ,KAAMqxD,EACNtjE,MAAOA,IAET82D,EAAKgwC,aAAe9mG,GAEP,MAAXu5D,IACF7yD,EAAQ6jG,iBAAmB7jG,EAAQ6jG,kBAAoB,GACvD7jG,EAAQ6jG,iBAAiB5oG,KAAK,CAC5BsQ,KAAMqxD,EACNtjE,MAAOA,IAET82D,EAAK0zC,YAAcxqG,GAEN,MAAXu5D,IACFzC,EAAK2zC,YAActE,GAAUnmG,EAAO,OAGpCgqG,EAAkBnlG,KAAKy+D,IACzB58D,EAAQgkG,kBAAoBhkG,EAAQgkG,mBAAqB,GACzD5zC,EAAK6zC,QAAUxB,EAAgB7lC,GAC/B58D,EAAQgkG,kBAAkB/oG,KAAKm1D,KAE1B3vB,EAAWm8B,IACdmkC,EAAgB9lG,KAAK2hE,GAEvBn8B,EAAWm8B,GAAYxM,GAK1BmwC,GAAoC,MAAhByC,IACvBzC,EAAmB9/D,EACnB0iE,EAAwBpC,GAEtBmC,IACFljG,EAAQkjG,WAAaF,EACrBhiG,EAASkiG,GAAcljG,GAErBsjG,EAAkBnlG,KAAK6kG,IACzBhjG,EAAQikG,QAAUxB,EAAgBO,GAClChD,EAAgB/kG,KAAK+E,IAErBgB,EAASgiG,GAAehjG,KAM9BkkG,EAAmB,SAAUvB,GAC/B3hG,EAAW,GACXg/F,EAAkB,GAClB0C,EAAiBC,GACjBjD,GAAOY,GAAa,SAAUtgG,EAASuL,GACrCvQ,EAASuQ,GAAQvL,EAAQhF,aAGzBmpG,EAAoB,SAAUC,GAChC,IAAIC,EAAsB,aACtBD,IACF7E,GAAS+E,oBAAsB/E,GAASgF,eAAiB,KACzD7E,GAAOjkG,GAAM2oG,EAAgB,MAAM,SAAUI,GAC3C,IAAIjmB,EAAU8lB,EAAoBjmG,KAAKomG,GAAO5+F,EAAwB,MAAf24E,EAAQ,GAAYkmB,EAAY7+F,EAAS,OAAS,MAAO2F,EAAOgzE,EAAQ,GAO/H,GANAvjF,EAASuQ,GAAQvQ,EAASypG,GAC1BxE,EAAkB10F,GAAQk5F,EACrB7+F,IACH08F,EAAiB/2F,EAAK1M,eAAiB,GACvCyjG,EAAiB/2F,GAAQ,KAEtBvK,EAASuK,GAAO,CACnB,IAAIm5F,EAAa1jG,EAASyjG,UAC1BC,EAAa/E,GAAS,GAAI+E,IACRhB,wBACXgB,EAAWjB,YAClBziG,EAASuK,GAAQm5F,EAEnBhF,GAAO1kG,GAAU,SAAUgF,EAAS2kG,GAC9B3kG,EAAQykG,KACVzpG,EAAS2pG,GAAW3kG,EAAU2/F,GAAS,GAAI3kG,EAAS2pG,IACpD3kG,EAAQuL,GAAQvL,EAAQykG,YAM9BG,EAAmB,SAAUC,GAC/B,IAAIC,EAAkB,+LACtBvF,GAAS9K,EAASoM,QAAU,KACxBgE,GACFnF,GAAOjkG,GAAMopG,EAAe,MAAM,SAAUL,GAC1C,IACI5tC,EAAQ/D,EADR0rB,EAAUumB,EAAgB1mG,KAAKomG,GAE/BjmB,IACF1rB,EAAS0rB,EAAQ,GAEf3nB,EADE/D,EACO73D,EAASujF,EAAQ,IAEjBvjF,EAASujF,EAAQ,IAAM,CAAE,WAAY,IAEhD3nB,EAAS57D,EAASujF,EAAQ,IAC1BmhB,GAAOjkG,GAAM8iF,EAAQ,GAAI,MAAM,SAAU1sC,GACxB,MAAXghB,SACK+D,EAAO/kB,GAEd+kB,EAAO/kB,GAAS,WAOxBkzD,EAAiB,SAAUx5F,GAC7B,IAA8B9S,EAA1BuH,EAAUgB,EAASuK,GACvB,GAAIvL,EACF,OAAOA,EAGT,IADAvH,EAAIunG,EAAgB7kG,OACb1C,KAEL,IADAuH,EAAUggG,EAAgBvnG,IACdwrG,QAAQ9lG,KAAKoN,GACvB,OAAOvL,GAIRy0F,EAAS8M,eA0BZ2C,EAAiBzP,EAAS8M,iBAzB1B7B,GAAOY,GAAa,SAAUtgG,EAASuL,GACrCvK,EAASuK,GAAQ,CACfk1B,WAAYzgC,EAAQygC,WACpBsgE,gBAAiB/gG,EAAQ+gG,iBAE3B/lG,EAASuQ,GAAQvL,EAAQhF,YAEH,UAApBy5F,EAASoM,QACXnB,GAAOjkG,GAAM,kBAAkB,SAAUshD,GACvC,IAAIP,EAAQ/gD,GAAMshD,EAAM,KACxB/7C,EAASw7C,EAAM,IAAI0mD,WAAa1mD,EAAM,MAG1CkjD,GAAOjkG,GAAM,mEAAmE,SAAU8P,GACpFvK,EAASuK,KACXvK,EAASuK,GAAMk4F,aAAc,MAGjC/D,GAAOjkG,GAAM,yDAAyD,SAAU8P,GAC9EvK,EAASuK,GAAMi4F,WAAY,KAE7B9D,GAAOjkG,GAAM,SAAS,SAAU8P,GAC9BvK,EAASuK,GAAMm4F,kBAAmB,MAKtCS,EAAkB1P,EAASuQ,iBAC3BJ,EAAiBnQ,EAASwQ,gBAC1BvC,EAAiBjO,EAASyQ,yBAC1BN,EAAiB,yBACjBlF,GAAO,CACLyF,GAAI,KACJC,GAAI,KACJC,GAAI,QACJC,GAAI,KACJC,GAAI,KACJC,GAAI,oBACJC,MAAO,QACPC,MAAO,QACPC,MAAO,QACPC,OAAQ,WACRC,KAAM,MACNzsC,MAAO,uBACN,SAAU0sC,EAAS/oD,GAChB/7C,EAAS+7C,KACX/7C,EAAS+7C,GAAMgpD,gBAAkBtqG,GAAMqqG,OAGvCrR,EAASuR,kBACXtG,GAAOE,GAAUnL,EAASuR,mBAAmB,SAAUjpD,GACjD/7C,EAAS+7C,WACJ/7C,EAAS+7C,MAIjBgoD,EAAe,SAClBrC,EAAiB,0BAuEnB,MAAO,CACL1nG,SAAUA,EACVgG,SAAUA,EACVilG,eAxEmB,WACnB,OAAOzE,GAwEP0E,gBAnEoB,WACpB,OAAOtE,GAmEPuE,iBA9DqB,WACrB,OAAO7D,GA8DP8D,iBAxEqB,WACrB,OAAO1E,GAwEP2E,sBAvD0B,WAC1B,OAAOrE,GAuDPsE,qBA9DyB,WACzB,OAAOjE,GA8DPkE,sBA5D0B,WAC1B,OAAOhE,GA4DPiE,aAtEiB,WACjB,OAAOvE,GAsEP8C,eAAgBA,EAChB0B,uBAzD2B,WAC3B,OAAO1E,GAyDP2E,oBAvDwB,WACxB,OAAOvE,GAuDPwE,kCArDsC,WACtC,OAAOvE,GAqDPwE,sBAnD0B,WAC1B,OAAO9E,GAmDP+E,mBAjDuB,WACvB,OAAO3G,GAiDP4G,aA/CiB,SAAUv7F,EAAMsmC,GACjC,IAAI+kB,EAAS57D,EAASuQ,EAAK5N,eAC3B,SAAUi5D,IAAUA,EAAO/kB,EAAMl0C,iBA8CjCopG,QA5CY,SAAUx7F,EAAM6kD,GAC5B,IAAI42C,EAAcvuG,EACd+rG,EAAOO,EAAex5F,GAC1B,GAAIi5F,EAAM,CACR,IAAIp0C,EAcF,OAAO,EAbP,GAAIo0C,EAAK/jE,WAAW2vB,GAClB,OAAO,EAGT,GADA42C,EAAexC,EAAKR,kBAGlB,IADAvrG,EAAIuuG,EAAa7rG,OACV1C,KACL,GAAIuuG,EAAavuG,GAAGwrG,QAAQ9lG,KAAKoN,GAC/B,OAAO,EAQjB,OAAO,GAwBP07F,kBAtBsB,WACtB,OAAOhH,GAsBPyC,iBAAkBA,EAClBwB,iBAAkBA,EAClBC,kBAAmBA,EACnBS,iBAAkBA,IAIlBsC,GAAQ,SAAU3pG,EAAOpE,EAAG+D,EAAGD,GACjC,IAAI8I,EAAM,SAAUisB,GAElB,OADAA,EAAMv0B,SAASu0B,EAAK,IAAIrzB,SAAS,KACtBxD,OAAS,EAAI62B,EAAM,IAAMA,GAEtC,MAAO,IAAMjsB,EAAI5M,GAAK4M,EAAI7I,GAAK6I,EAAI9I,IAEjCkqG,GAAS,SAAU1S,EAAUoM,GAC/B,IAKIpoG,EAEA+oG,EACAE,EARAluD,EAAQzwC,KACRqkG,EAAY,2DACZC,EAAiB,+HACjBC,EAAc,2BACdC,EAAkB,OAElBC,EAAiB,GAGjBC,EAzlCU,SA0lCdhT,EAAWA,GAAY,GACnBoM,IACFW,EAAcX,EAAOoF,iBACrBvE,EAAgBb,EAAOuF,oBAEzB,IAAIsB,EAAgB,8BAA0CjsG,MAAM,KACpE,IAAKhD,EAAI,EAAGA,EAAIivG,EAAcvsG,OAAQ1C,IACpC+uG,EAAeE,EAAcjvG,IAAMgvG,EAAgBhvG,EACnD+uG,EAAeC,EAAgBhvG,GAAKivG,EAAcjvG,GAEpD,MAAO,CACLyuG,MAAO,SAAUv/F,GACf,OAAOA,EAAMzL,QAAQkrG,EAAWF,KAElCtgD,MAAO,SAAUiI,GACf,IACI0vB,EAAShzE,EAAMjS,EAAOquG,EAwDArsG,EAAQf,EAAG0C,EAAGpE,EAzDpCinG,EAAS,GAET8H,EAAenT,EAASoT,cACxBC,EAAoBrT,EAASsT,qBAAuBv0D,EACpD9O,EAAW,SAAUmuB,EAAQm1C,EAAQC,GACvC,IAAI1nG,EAAMu/F,EAAOjtC,EAAS,OAASm1C,GACnC,GAAKznG,EAAL,CAGA,IAAIoB,EAAQm+F,EAAOjtC,EAAS,SAAWm1C,GACvC,GAAKrmG,EAAL,CAGA,IAAIC,EAASk+F,EAAOjtC,EAAS,UAAYm1C,GACzC,GAAKpmG,EAAL,CAGA,IAAIvB,EAAOy/F,EAAOjtC,EAAS,QAAUm1C,GACrC,GAAK3nG,EAAL,CAGA,IAAImlF,EAAM,CACRjlF,EACAoB,EACAC,EACAvB,GAGF,IADA5H,EAAI+sF,EAAIrqF,OAAS,EACV1C,KACD+sF,EAAI/sF,KAAO+sF,EAAI/sF,EAAI,KAIrBA,GAAK,GAAKwvG,IAGdnI,EAAOjtC,EAASm1C,IAAiB,IAAPvvG,EAAW+sF,EAAI,GAAKA,EAAIjnF,KAAK,YAChDuhG,EAAOjtC,EAAS,OAASm1C,UACzBlI,EAAOjtC,EAAS,SAAWm1C,UAC3BlI,EAAOjtC,EAAS,UAAYm1C,UAC5BlI,EAAOjtC,EAAS,QAAUm1C,SAE/BE,EAAc,SAAU5oG,GAC1B,IAAyB7G,EAArBa,EAAQwmG,EAAOxgG,GACnB,GAAKhG,EAAL,CAKA,IADAb,GADAa,EAAQA,EAAMmC,MAAM,MACVN,OACH1C,KACL,GAAIa,EAAMb,KAAOa,EAAM,GACrB,OAAO,EAIX,OADAwmG,EAAOxgG,GAAOhG,EAAM,IACb,IAiBLq2B,EAAS,SAAUpP,GAErB,OADAonF,GAAY,EACLH,EAAejnF,IAEpB8+E,EAAS,SAAU9+E,EAAK4nF,GAS1B,OARIR,IACFpnF,EAAMA,EAAIrkB,QAAQ,gBAAgB,SAAUqkB,GAC1C,OAAOinF,EAAejnF,OAGrB4nF,IACH5nF,EAAMA,EAAIrkB,QAAQ,gBAAiB,OAE9BqkB,GAEL6nF,EAA0B,SAAUC,GACtC,OAAO99F,OAAO2kB,aAAazxB,SAAS4qG,EAAOhuG,MAAM,GAAI,MAEnDiuG,EAAqB,SAAUhvG,GACjC,OAAOA,EAAM4C,QAAQ,gBAAiBksG,IAEpCG,EAAa,SAAUhrG,EAAOgpB,EAAKiiF,EAAMC,EAAMloF,EAAKmoF,GAEtD,GADAnoF,EAAMA,GAAOmoF,EAGX,MAAO,KADPnoF,EAAM8+E,EAAO9+E,IACKrkB,QAAQ,MAAO,OAAU,IAG7C,GADAqqB,EAAM84E,EAAO94E,GAAOiiF,GAAQC,IACvBhU,EAASkU,kBAAmB,CAC/B,IAAIC,EAAYriF,EAAIrqB,QAAQ,aAAc,IAC1C,GAAI,oBAAoBiC,KAAKyqG,GAC3B,MAAO,GAET,IAAKnU,EAASoU,qBAAuB,oBAAoB1qG,KAAKyqG,GAC5D,MAAO,GAMX,OAHIhB,IACFrhF,EAAMqhF,EAAajvG,KAAKmvG,EAAmBvhF,EAAK,UAE3C,QAAWA,EAAIrqB,QAAQ,MAAO,OAAU,MAEjD,GAAI2yD,EAAK,CAKP,IAHAA,GADAA,EAAMA,EAAI3yD,QAAQ,mBAAoB,KAC5BA,QAAQ,oBAAqByzB,GAAQzzB,QAAQ,0BAA0B,SAAUqkB,GACzF,OAAOA,EAAIrkB,QAAQ,QAASyzB,MAEvB4uD,EAAU+oB,EAAYlpG,KAAKywD,IAIhC,GAHAy4C,EAAY/6E,UAAYgyD,EAAQpzE,MAAQozE,EAAQ,GAAGpjF,OACnDoQ,EAAOgzE,EAAQ,GAAGriF,QAAQqrG,EAAiB,IAAI5pG,cAC/CrE,EAAQilF,EAAQ,GAAGriF,QAAQqrG,EAAiB,IACxCh8F,GAAQjS,EAAO,CAGjB,GAFAiS,EAAO+8F,EAAmB/8F,GAC1BjS,EAAQgvG,EAAmBhvG,IACU,IAAjCiS,EAAK3B,QAAQ69F,KAAgD,IAAvBl8F,EAAK3B,QAAQ,KACrD,SAEF,IAAK6qF,EAASkU,oBAA+B,aAATp9F,GAAuB,4BAA4BpN,KAAK7E,IAC1F,SAEW,gBAATiS,GAAoC,QAAVjS,EAC5BA,EAAQ,OACU,UAATiS,GAA6B,qBAATA,IAC7BjS,EAAQA,EAAMqE,eAGhBrE,GADAA,EAAQA,EAAM4C,QAAQkrG,EAAWF,KACnBhrG,QAAQmrG,EAAgBkB,GACtCzI,EAAOv0F,GAAQo8F,EAAYtI,EAAO/lG,GAAO,GAAQA,EAGrDorC,EAAS,SAAU,IAAI,GACvBA,EAAS,SAAU,UACnBA,EAAS,SAAU,UACnBA,EAAS,SAAU,UACnBA,EAAS,UAAW,IACpBA,EAAS,SAAU,IA1FKppC,EA2Fd,SA3FyB2B,EA2FC,eA3FEpE,EA2Fc,eA1F/CqvG,EAD2B3tG,EA2FZ,iBAvFf2tG,EAAYjrG,IAGZirG,EAAYrvG,KAGjBinG,EAAOxkG,GAAUwkG,EAAOvlG,GAAK,IAAMulG,EAAO7iG,GAAK,IAAM6iG,EAAOjnG,UACrDinG,EAAOvlG,UACPulG,EAAO7iG,UACP6iG,EAAOjnG,IA+EQ,gBAAlBinG,EAAOgJ,eACFhJ,EAAOgJ,OAEe,SAA3BhJ,EAAO,wBACFA,EAAO,gBAGlB,OAAOA,GAET3/D,UAAW,SAAU2/D,EAAQkD,GAC3B,IAAIn0C,EAAM,GACNk6C,EAAkB,SAAUx9F,GAC9B,IAAIjS,EACA0vG,EAAYxH,EAAYj2F,GAC5B,GAAIy9F,EACF,IAAK,IAAIC,EAAM,EAAGvwG,EAAIswG,EAAU7tG,OAAQ8tG,EAAMvwG,EAAGuwG,IAC/C19F,EAAOy9F,EAAUC,IACjB3vG,EAAQwmG,EAAOv0F,MAEbsjD,IAAQA,EAAI1zD,OAAS,EAAI,IAAM,IAAMoQ,EAAO,KAAOjS,EAAQ,MAuBnE,OAVI0pG,GAAexB,GACjBuH,EAAgB,KAChBA,EAAgB/F,IAEhBvrB,GAAOqoB,GAAQ,SAAUxmG,EAAOiS,IAC1BjS,GAAWooG,IAbL,SAAUn2F,EAAMy3F,GAC5B,IAAIkG,EAAWxH,EAAc,KAC7B,QAAIwH,GAAYA,EAAS39F,KAGzB29F,EAAWxH,EAAcsB,KACJkG,EAAS39F,IAOIw7F,CAAQx7F,EAAMy3F,KAC5Cn0C,IAAQA,EAAI1zD,OAAS,EAAI,IAAM,IAAMoQ,EAAO,KAAOjS,EAAQ,QAI1Du1D,KAMTs6C,GAAe,+BACfC,GAAa,CACfC,YAAa,EACbC,OAAQ,EACRC,OAAQ,EACRhvD,YAAa,EACbivD,gBAAiB,EACjBC,gBAAiB,EACjBC,cAAe,EACfC,YAAa,GAKXC,GAAc50B,EACd60B,GAAa50B,EACb60B,GAAW,SAAUxuG,EAAQiQ,EAAMo2B,EAAUvnC,GAC3CkB,EAAOm5C,iBACTn5C,EAAOm5C,iBAAiBlpC,EAAMo2B,EAAUvnC,IAAW,GAC1CkB,EAAOyuG,aAChBzuG,EAAOyuG,YAAY,KAAOx+F,EAAMo2B,IAGhCqoE,GAAc,SAAU1uG,EAAQiQ,EAAMo2B,EAAUvnC,GAC9CkB,EAAOwgD,oBACTxgD,EAAOwgD,oBAAoBvwC,EAAMo2B,EAAUvnC,IAAW,GAC7CkB,EAAO2uG,aAChB3uG,EAAO2uG,YAAY,KAAO1+F,EAAMo2B,IAMhCuoE,GAAM,SAAUC,EAAe/kF,GACjC,IAAI7Z,EACA4gC,EAAQ/mB,GAAQ,GACpB,IAAK7Z,KAAQ4+F,EACNf,GAAW79F,KACd4gC,EAAM5gC,GAAQ4+F,EAAc5+F,IAWhC,GARK4gC,EAAM7wC,SACT6wC,EAAM7wC,OAAS6wC,EAAMi+D,YAAc3vG,UAEjC0xC,EAAM9wC,eACR8wC,EAAM9wC,aAAe,WACnB,OAAO8uG,EAAc9uG,iBAGrB8uG,GAnBa,SAAUh+D,GAC3B,OAAOg9D,GAAahrG,KAAKguC,EAAM7tC,MAkBV+rG,CAAaF,SAA0Cn/F,IAAxBm/F,EAAcG,YAAiDt/F,IAA1Bm/F,EAAchqG,QAAuB,CAC5H,IAAIoqG,EAAWp+D,EAAM7wC,OAAO8nF,eAAiB3oF,SACzC+yD,EAAM+8C,EAASloG,gBACfgH,EAAOkhG,EAASlhG,KACpB8iC,EAAMm+D,MAAQH,EAAchqG,SAAWqtD,GAAOA,EAAIo4B,YAAcv8E,GAAQA,EAAKu8E,YAAc,IAAMp4B,GAAOA,EAAI67B,YAAchgF,GAAQA,EAAKggF,YAAc,GACrJl9C,EAAMq+D,MAAQL,EAAc/pG,SAAWotD,GAAOA,EAAI+Z,WAAal+D,GAAQA,EAAKk+D,WAAa,IAAM/Z,GAAOA,EAAI87B,WAAajgF,GAAQA,EAAKigF,WAAa,GAoCnJ,OAlCAn9C,EAAM9vC,eAAiB,WACrB8vC,EAAMs+D,kBAAmB,EACzBt+D,EAAMu+D,mBAAqBb,GACvBM,IACEA,EAAc9tG,eAChB8tG,EAAc9tG,iBAEd8tG,EAAc5vD,aAAc,IAIlCpO,EAAMhrC,gBAAkB,WACtBgrC,EAAMw+D,cAAe,EACrBx+D,EAAMy+D,qBAAuBf,GACzBM,IACEA,EAAchpG,gBAChBgpG,EAAchpG,kBAEdgpG,EAAcQ,cAAe,IAInCx+D,EAAM3jC,yBAA2B,WAC/B2jC,EAAM0+D,8BAAgChB,GACtC19D,EAAMhrC,oBAE6B,IAvEX,SAAUgrC,GACpC,OAAOA,EAAMu+D,qBAAuBb,IAAc19D,EAAMu+D,qBAAuBd,GAsE3EkB,CAAsB3+D,KACxBA,EAAMu+D,oBAAgD,IAA3Bv+D,EAAMs+D,iBAA4BZ,GAAaD,GAC1Ez9D,EAAMy+D,sBAA8C,IAAvBz+D,EAAMw+D,aAAwBd,GAAaD,GACxEz9D,EAAM0+D,8BAAgCjB,SAEX,IAAlBz9D,EAAM4+D,UACf5+D,EAAM4+D,SAAU,GAEX5+D,GAEL6+D,GAAc,SAAUz9C,EAAK5rB,EAAUspE,GACzC,IAAIz9C,EAAMD,EAAI9yD,SAAU0xC,EAAQ,CAAE7tC,KAAM,SACxC,GAAI2sG,EAAWC,UACbvpE,EAASwK,OADX,CAIA,IAGIg/D,EAAe,WACjBnB,GAAYz8C,EAAK,mBAAoB49C,GACrCnB,GAAYz8C,EAAK,OAAQ49C,GACpBF,EAAWC,YACdD,EAAWC,WAAY,EACvBvpE,EAASwK,IAEXohB,EAAM,MAToB,aAAnBC,EAAIjH,YAAgD,gBAAnBiH,EAAIjH,YAAgCiH,EAAInkD,KAYhF8hG,IAEArB,GAASv8C,EAAK,mBAAoB49C,GAE/BF,EAAWC,WACdpB,GAASv8C,EAAK,OAAQ49C,KAGtBC,GAAa,WACf,SAASA,IACProG,KAAKmoG,WAAY,EACjBnoG,KAAK82C,OAAS,GACd92C,KAAKoO,MAAQ,EACbpO,KAAKsoG,QA7HgB,cA6HiB,IAAI3zD,MAAQ/4C,SAAS,IAC3DoE,KAAKuoG,mBAAqB,iBAAkB7wG,SAAS4H,gBACrDU,KAAKwoG,WAAa,cAAe9wG,SAAS4H,gBAC1CU,KAAKoO,MAAQ,EAsNf,OApNAi6F,EAAWzxG,UAAUF,KAAO,SAAU6B,EAAQivB,EAAOoX,EAAUw/C,GAC7D,IACI7sD,EAAIk3E,EAAc/yG,EAAG8S,EAAMkgG,EAAUC,EAAetxG,EADpD8P,EAAOnH,KAEPwqD,EAAMr1D,OACNyzG,EAAuB,SAAU5+D,GACnC7iC,EAAK0hG,gBAAgB1B,GAAIn9D,GAAOwgB,EAAIphB,OAAQ7X,IAE9C,GAAKh5B,GAA8B,IAApBA,EAAOk9C,UAAsC,IAApBl9C,EAAOk9C,SAA/C,CAGKl9C,EAAO4O,EAAKmhG,SAKf/2E,EAAKh5B,EAAO4O,EAAKmhG,UAJjB/2E,EAAKpqB,EAAKiH,QACV7V,EAAO4O,EAAKmhG,SAAW/2E,EACvBpqB,EAAK2vC,OAAOvlB,GAAM,IAIpB6sD,EAAQA,GAAS7lF,EACjB,IAAIuwG,EAAYthF,EAAM9uB,MAAM,KAE5B,IADAhD,EAAIozG,EAAU1wG,OACP1C,KAELizG,EAAgBC,EAChBF,EAAWrxG,GAAU,EACR,sBAHbmR,EAAOsgG,EAAUpzG,MAIf8S,EAAO,SAELrB,EAAKghG,WAAsB,UAAT3/F,GAA0C,aAAtBjQ,EAAOirD,WAC/C5kB,EAAShpC,KAAKwoF,EAAO+oB,GAAI,CAAE5rG,KAAMiN,MAG9BrB,EAAKohG,qBACRG,EAAWvhG,EAAK4hG,gBAAgBvgG,MAE9BmgG,EAAgB,SAAU3+D,GACxB,IAAI2tC,EAAU3tC,EAAIg/D,cACdC,EAAUj/D,EAAIk/D,cAClB,GAAID,GAAWtxB,EAAQv0E,SACrB6lG,EAAUtxB,EAAQv0E,SAAS6lG,QAE3B,KAAOA,GAAWA,IAAYtxB,GAC5BsxB,EAAUA,EAAQrlG,WAGjBqlG,KACHj/D,EAAMm9D,GAAIn9D,GAAOwgB,EAAIphB,QACjB7tC,KAAoB,aAAbyuC,EAAIzuC,KAAsB,aAAe,aACpDyuC,EAAIzxC,OAASo/E,EACbxwE,EAAK0hG,gBAAgB7+D,EAAKzY,MAK7BpqB,EAAKqhG,YAAwB,YAAThgG,GAA+B,aAATA,IAC7CnR,GAAU,EACVqxG,EAAoB,YAATlgG,EAAqB,QAAU,OAC1CmgG,EAAgB,SAAU3+D,IACxBA,EAAMm9D,GAAIn9D,GAAOwgB,EAAIphB,QACjB7tC,KAAoB,UAAbyuC,EAAIzuC,KAAmB,UAAY,WAC9C4L,EAAK0hG,gBAAgB7+D,EAAKzY,MAG9Bk3E,EAAethG,EAAK2vC,OAAOvlB,GAAI/oB,IAehB,UAATA,GAAoBrB,EAAKghG,UAC3BvpE,EAASuoE,GAAI,CAAE5rG,KAAMiN,KAErBigG,EAAavwG,KAAK,CAChB64F,KAAMnyD,EACNw/C,MAAOA,KAlBXj3E,EAAK2vC,OAAOvlB,GAAI/oB,GAAQigG,EAAe,CAAC,CACpC1X,KAAMnyD,EACNw/C,MAAOA,IAEXqqB,EAAaC,SAAWA,EACxBD,EAAapxG,QAAUA,EACvBoxG,EAAaE,cAAgBA,EAChB,UAATngG,EACFy/F,GAAY1vG,EAAQowG,EAAexhG,GAEnC4/F,GAASxuG,EAAQmwG,GAAYlgG,EAAMmgG,EAAetxG,KAcxD,OADAkB,EAASkwG,EAAe,KACjB7pE,IAETypE,EAAWzxG,UAAUuyG,OAAS,SAAU5wG,EAAQivB,EAAOoX,GACrD,IAAI6pE,EAAc/yG,EAAG0zG,EAAI5gG,EAAM6gG,EAC/B,IAAK9wG,GAA8B,IAApBA,EAAOk9C,UAAsC,IAApBl9C,EAAOk9C,SAC7C,OAAOz1C,KAET,IAAIuxB,EAAKh5B,EAAOyH,KAAKsoG,SACrB,GAAI/2E,EAAI,CAEN,GADA83E,EAAWrpG,KAAK82C,OAAOvlB,GACnB/J,EAAO,CACT,IAAIshF,EAAYthF,EAAM9uB,MAAM,KAE5B,IADAhD,EAAIozG,EAAU1wG,OACP1C,KAGL,GADA+yG,EAAeY,EADf7gG,EAAOsgG,EAAUpzG,IAEC,CAChB,GAAIkpC,EAEF,IADAwqE,EAAKX,EAAarwG,OACXgxG,KACL,GAAIX,EAAaW,GAAIrY,OAASnyD,EAAU,CACtC,IAAI+pE,EAAgBF,EAAaE,cAC7BD,EAAWD,EAAaC,SAAUrxG,EAAUoxG,EAAapxG,SAC7DoxG,EAAeA,EAAanxG,MAAM,EAAG8xG,GAAItkF,OAAO2jF,EAAanxG,MAAM8xG,EAAK,KAC3DT,cAAgBA,EAC7BF,EAAaC,SAAWA,EACxBD,EAAapxG,QAAUA,EACvBgyG,EAAS7gG,GAAQigG,EAIlB7pE,GAAoC,IAAxB6pE,EAAarwG,gBACrBixG,EAAS7gG,GAChBy+F,GAAY1uG,EAAQkwG,EAAaC,UAAYlgG,EAAMigG,EAAaE,cAAeF,EAAapxG,gBAKlGq9E,GAAO20B,GAAU,SAAUZ,EAAcjgG,GACvCy+F,GAAY1uG,EAAQkwG,EAAaC,UAAYlgG,EAAMigG,EAAaE,cAAeF,EAAapxG,YAE9FgyG,EAAW,GAEb,IAAK7gG,KAAQ6gG,EACX,GAAIngG,GAAImgG,EAAU7gG,GAChB,OAAOxI,YAGJA,KAAK82C,OAAOvlB,GACnB,WACSh5B,EAAOyH,KAAKsoG,SACnB,MAAOpe,GACP3xF,EAAOyH,KAAKsoG,SAAW,MAG3B,OAAOtoG,MAETqoG,EAAWzxG,UAAUqmE,KAAO,SAAU1kE,EAAQiQ,EAAMu2B,GAClD,IAAIxN,EACJ,IAAKh5B,GAA8B,IAApBA,EAAOk9C,UAAsC,IAApBl9C,EAAOk9C,SAC7C,OAAOz1C,KAET,IAAIopC,EAAQ+9D,GAAI,KAAMpoE,GACtBqK,EAAM7tC,KAAOiN,EACb4gC,EAAM7wC,OAASA,EACf,IACEg5B,EAAKh5B,EAAOyH,KAAKsoG,WAEftoG,KAAK6oG,gBAAgBz/D,EAAO7X,GAE9Bh5B,EAASA,EAAOqL,YAAcrL,EAAO8nF,eAAiB9nF,EAAOioF,aAAejoF,EAAO2tB,mBAC5E3tB,IAAW6wC,EAAMy+D,wBAC1B,OAAO7nG,MAETqoG,EAAWzxG,UAAU0yG,MAAQ,SAAU/wG,GACrC,IAAI7C,EAAGuC,EACP,IAAKM,GAA8B,IAApBA,EAAOk9C,UAAsC,IAApBl9C,EAAOk9C,SAC7C,OAAOz1C,KAQT,GANIzH,EAAOyH,KAAKsoG,UACdtoG,KAAKmpG,OAAO5wG,GAETA,EAAOs2C,uBACVt2C,EAASA,EAAOb,UAEda,GAAUA,EAAOs2C,qBAInB,IAHA7uC,KAAKmpG,OAAO5wG,GAEZ7C,GADAuC,EAAWM,EAAOs2C,qBAAqB,MAC1Bz2C,OACN1C,MACL6C,EAASN,EAASvC,IACPsK,KAAKsoG,UACdtoG,KAAKmpG,OAAO5wG,GAIlB,OAAOyH,MAETqoG,EAAWzxG,UAAUyH,QAAU,WAC7B2B,KAAK82C,OAAS,IAEhBuxD,EAAWzxG,UAAU4J,OAAS,SAAUjL,GAKtC,OAJIA,IACFA,EAAE+D,iBACF/D,EAAEkQ,6BAEG,GAET4iG,EAAWzxG,UAAUiyG,gBAAkB,SAAU7+D,EAAKzY,GACpD,IAAIlyB,EAAYW,KAAK82C,OAAOvlB,GACxBk3E,EAAeppG,GAAaA,EAAU2qC,EAAIzuC,MAC9C,GAAIktG,EACF,IAAK,IAAI/yG,EAAI,EAAGC,EAAI8yG,EAAarwG,OAAQ1C,EAAIC,EAAGD,IAAK,CACnD,IAAIkpC,EAAW6pE,EAAa/yG,GAI5B,GAHIkpC,IAAwD,IAA5CA,EAASmyD,KAAKn7F,KAAKgpC,EAASw/C,MAAOp0C,IACjDA,EAAI1wC,iBAEF0wC,EAAI89D,gCACN,SAKRO,EAAW7uG,MAAQ,IAAI6uG,EAChBA,EA9NQ,GAiOyLC,GAAU,UAAY,IAAI3zD,KAAQ40D,GAAep0G,OAAOuC,SAAU8xG,GAAU,EAAGv3F,GAAO,EAAGw3F,GAAaC,KAAeC,GAAaD,KAAeE,GAAgBF,KAAeG,GAAY,SAAUryG,EAAG0C,GAI/Y,OAHI1C,IAAM0C,IACRu1F,IAAe,GAEV,GACNqa,GAAe,YAAkBC,GAAe,GAAK,GAAI1tE,GAAS,GAAGxlC,eAAgB6xC,GAAM,GAAItH,GAAMsH,GAAItH,IAAK4oE,GAActhE,GAAIxwC,KAAMA,GAAOwwC,GAAIxwC,KAAMZ,GAAQoxC,GAAIpxC,MAAO2yG,GAAYvhE,GAAI7hC,SAAW,SAAU4oD,GAEhN,IADA,IAAI/5D,EAAI,EAAGgb,EAAM1Q,KAAK5H,OACf1C,EAAIgb,EAAKhb,IACd,GAAIsK,KAAKtK,KAAO+5D,EACd,OAAO/5D,EAGX,OAAQ,GACkIs4B,GAAa,sBAAuBk8E,GAAa,mCAAoCxsE,GAAa,2BAA4BwsE,GAAa,OAASl8E,GAAa,gBAAkBA,GAAa,2DAA6Dk8E,GAAa,OAASl8E,GAAa,OAAQm8E,GAAU,KAAOD,GAAP,wFAAwHxsE,GAAxH,eAA+JxP,GAAQ,IAAIrQ,OAAO,uEAAsE,KAAMusF,GAAS,IAAIvsF,OAAO,8CAA6CwsF,GAAe,IAAIxsF,OAAO,wEAAsEysF,GAAmB,IAAIzsF,OAAO,4DAA2D,KAAM0sF,GAAU,IAAI1sF,OAAOssF,IAAUK,GAAc,IAAI3sF,OAAO,IAAMqsF,GAAa,KAAMO,GAAY,CACvhCC,GAAI,IAAI7sF,OAAO,MAAQqsF,GAAa,KACpCS,MAAO,IAAI9sF,OAAO,QAAUqsF,GAAa,KACzCv/E,IAAK,IAAI9M,OAAO,KAAOqsF,GAAa,SACpCU,KAAM,IAAI/sF,OAAO,IAAM6f,IACvBmtE,OAAQ,IAAIhtF,OAAO,IAAMssF,IACzBW,MAAO,IAAIjtF,OAAO,4LAAyL,KAC3MktF,KAAM,IAAIltF,OAAO,mIAA0B,KAC3CmtF,aAAc,IAAIntF,OAAO,6IAA2I,MACnKotF,GAAU,sCAAuCC,GAAU,SAAUC,GAAU,yBAA0BC,GAAa,mCAAoCC,GAAW,OAAQC,GAAU,QAASC,GAAY,IAAI1tF,OAAO,kEAAiE,MAAO2tF,GAAY,SAAUnxG,EAAGoxG,EAASC,GAClU,IAAIC,EAAO,KAAOF,EAAU,MAC5B,OAAOE,GAASA,GAAQD,EAAoBD,EAAUE,EAAO,EAAInkG,OAAO2kB,aAAaw/E,EAAO,OAASnkG,OAAO2kB,aAAaw/E,GAAQ,GAAK,MAAc,KAAPA,EAAc,QAE/J,IACEzzG,GAAK8b,MAAM00B,GAAMpxC,GAAM1B,KAAK2zG,GAAajjD,YAAaijD,GAAajjD,YACnE5d,GAAI6gE,GAAajjD,WAAWluD,QAAQq9C,SACpC,MAAOlgD,GACP2C,GAAO,CACL8b,MAAO00B,GAAItwC,OAAS,SAAUG,EAAQguD,GACpCyjD,GAAYh2F,MAAMzb,EAAQjB,GAAM1B,KAAK2wD,KACnC,SAAUhuD,EAAQguD,GAEpB,IADA,IAAIx3C,EAAIxW,EAAOH,OAAQ1C,EAAI,EACpB6C,EAAOwW,KAAOw3C,EAAI7wD,OAEzB6C,EAAOH,OAAS2W,EAAI,IAI1B,IAAI68F,GAAS,SAAU93C,EAAU+3C,EAASn1E,EAASo1E,GACjD,IAAItxG,EAAOi1D,EAAM55D,EAAG4/C,EAAU//C,EAAGgnB,EAAQqvF,EAAKC,EAAKC,EAAYC,EAM/D,IALKL,EAAUA,EAAQxrB,eAAiBwrB,EAAUtC,MAAkB5Z,IAClED,GAAYmc,GAGdn1E,EAAUA,GAAW,IAChBo9B,GAAgC,iBAAbA,EACtB,OAAOp9B,EAET,GAAsC,KAAjC+e,GALLo2D,EAAUA,GAAWlc,IAKGl6C,WAAgC,IAAbA,EACzC,MAAO,GAET,GAAIo6C,KAAmBic,EAAM,CAC3B,GAAItxG,EAAQ4wG,GAAW/vG,KAAKy4D,GAC1B,GAAIj+D,EAAI2E,EAAM,IACZ,GAAiB,IAAbi7C,EAAgB,CAElB,KADAga,EAAOo8C,EAAQM,eAAet2G,MAClB45D,EAAK7rD,WAMf,OAAO8yB,EALP,GAAI+4B,EAAKl+B,KAAO17B,EAEd,OADA6gC,EAAQx+B,KAAKu3D,GACN/4B,OAMX,GAAIm1E,EAAQxrB,gBAAkB5wB,EAAOo8C,EAAQxrB,cAAc8rB,eAAet2G,KAAOm6F,GAAW6b,EAASp8C,IAASA,EAAKl+B,KAAO17B,EAExH,OADA6gC,EAAQx+B,KAAKu3D,GACN/4B,MAGN,IAAIl8B,EAAM,GAEf,OADAtC,GAAK8b,MAAM0iB,EAASm1E,EAAQh9D,qBAAqBilB,IAC1Cp9B,EACF,IAAK7gC,EAAI2E,EAAM,KAAOy0F,GAAQlrB,uBAEnC,OADA7rE,GAAK8b,MAAM0iB,EAASm1E,EAAQ9nC,uBAAuBluE,IAC5C6gC,EAGX,GAAIu4D,GAAQmd,OAAStc,KAAcA,GAAU10F,KAAK04D,IAAY,CAI5D,GAHAk4C,EAAMD,EAAMzD,GACZ2D,EAAaJ,EACbK,EAA2B,IAAbz2D,GAAkBqe,EACf,IAAbre,GAAqD,WAAnCo2D,EAAQ/4D,SAASl4C,cAA4B,CASjE,IARA8hB,EAAS2yE,GAASv7B,IACdi4C,EAAMF,EAAQ9zG,aAAa,OAC7Bi0G,EAAMD,EAAI5yG,QAAQmyG,GAAS,QAE3BO,EAAQ7pG,aAAa,KAAMgqG,GAE7BA,EAAM,QAAWA,EAAM,MACvBt2G,EAAIgnB,EAAOtkB,OACJ1C,KACLgnB,EAAOhnB,GAAKs2G,EAAMK,GAAW3vF,EAAOhnB,IAEtCu2G,EAAaZ,GAASjwG,KAAK04D,IAAaw4C,GAAYT,EAAQjoG,aAAeioG,EAC3EK,EAAcxvF,EAAOlhB,KAAK,KAE5B,GAAI0wG,EACF,IAEE,OADAh0G,GAAK8b,MAAM0iB,EAASu1E,EAAWp7D,iBAAiBq7D,IACzCx1E,EACP,MAAO61E,IACP,QACKR,GACHF,EAAQ7zG,gBAAgB,QAMlC,OAAOo9D,GAAOtB,EAAS36D,QAAQ+0B,GAAO,MAAO29E,EAASn1E,EAASo1E,IAEjE,SAASpC,KACP,IAAIvxG,EAAO,GAOX,OANA,SAASwE,EAAMJ,EAAKhG,GAIlB,OAHI4B,EAAKD,KAAKqE,EAAM,KAAO2yF,GAAKsd,oBACvB7vG,EAAMxE,EAAKwlC,SAEbhhC,EAAMJ,EAAM,KAAOhG,GAI9B,SAASk2G,GAAar3F,GAEpB,OADAA,EAAGkzF,KAAW,EACPlzF,EAET,SAASs3F,GAAal1G,EAAG0C,GACvB,IAAI4kF,EAAM5kF,GAAK1C,EAAGm1G,EAAO7tB,GAAsB,IAAftnF,EAAEi+C,UAAiC,IAAfv7C,EAAEu7C,YAAoBv7C,EAAE0yG,aAAe7C,MAAkBvyG,EAAEo1G,aAAe7C,IAC9H,GAAI4C,EACF,OAAOA,EAET,GAAI7tB,EACF,KAAOA,EAAMA,EAAIr7E,aACf,GAAIq7E,IAAQ5kF,EACV,OAAQ,EAId,OAAO1C,EAAI,GAAK,EAclB,SAASq1G,GAAuBz3F,GAC9B,OAAOq3F,IAAa,SAAUh4F,GAE5B,OADAA,GAAYA,EACLg4F,IAAa,SAAUX,EAAMtwB,GAElC,IADA,IAAIzsE,EAAG+9F,EAAe13F,EAAG,GAAI02F,EAAK1zG,OAAQqc,GAAW/e,EAAIo3G,EAAa10G,OAC/D1C,KACDo2G,EAAK/8F,EAAI+9F,EAAap3G,MACxBo2G,EAAK/8F,KAAOysE,EAAQzsE,GAAK+8F,EAAK/8F,WAMxC,SAASu9F,GAAYT,GACnB,OAAOA,UAAkBA,EAAQh9D,uBAAyBi7D,IAAgB+B,EA0gB5E,SAASkB,MAgDT,SAASV,GAAWW,GAElB,IADA,IAAIt3G,EAAI,EAAGgb,EAAMs8F,EAAO50G,OAAQ07D,EAAW,GACpCp+D,EAAIgb,EAAKhb,IACdo+D,GAAYk5C,EAAOt3G,GAAGa,MAExB,OAAOu9D,EAET,SAASm5C,GAAcp3E,EAASq3E,EAAYvgF,GAC1C,IAAIm8D,EAAMokB,EAAWpkB,IAAKqkB,EAAmBxgF,GAAgB,eAARm8D,EAAsBskB,EAAWn7F,KACtF,OAAOi7F,EAAW1hF,MAAQ,SAAUikC,EAAMo8C,EAASwB,GACjD,KAAO59C,EAAOA,EAAKq5B,IACjB,GAAsB,IAAlBr5B,EAAKha,UAAkB03D,EACzB,OAAOt3E,EAAQ45B,EAAMo8C,EAASwB,IAGhC,SAAU59C,EAAMo8C,EAASwB,GAC3B,IAAIC,EAAUC,EAAYC,EAAW,CACjChE,GACA4D,GAEJ,GAAIC,GACF,KAAO59C,EAAOA,EAAKq5B,IACjB,IAAsB,IAAlBr5B,EAAKha,UAAkB03D,IACrBt3E,EAAQ45B,EAAMo8C,EAASwB,GACzB,OAAO,OAKb,KAAO59C,EAAOA,EAAKq5B,IACjB,GAAsB,IAAlBr5B,EAAKha,UAAkB03D,EAAkB,CAE3C,IAAKG,GADLC,EAAa99C,EAAK64C,MAAa74C,EAAK64C,IAAW,KACpBxf,KAASwkB,EAAS,KAAO9D,IAAW8D,EAAS,KAAOF,EAC7E,OAAOI,EAAS,GAAKF,EAAS,GAG9B,GADAC,EAAWzkB,GAAO0kB,EACdA,EAAS,GAAK33E,EAAQ45B,EAAMo8C,EAASwB,GACvC,OAAO,IAQrB,SAASI,GAAeC,GACtB,OAAOA,EAASt1G,OAAS,EAAI,SAAUq3D,EAAMo8C,EAASwB,GAEpD,IADA,IAAI33G,EAAIg4G,EAASt1G,OACV1C,KACL,IAAKg4G,EAASh4G,GAAG+5D,EAAMo8C,EAASwB,GAC9B,OAAO,EAGX,OAAO,GACLK,EAAS,GASf,SAASC,GAASC,EAAWnzG,EAAK6Y,EAAQu4F,EAASwB,GAEjD,IADA,IAAI59C,EAAMo+C,EAAe,GAAIn4G,EAAI,EAAGgb,EAAMk9F,EAAUx1G,OAAQ01G,EAAgB,MAAPrzG,EAC9D/E,EAAIgb,EAAKhb,KACV+5D,EAAOm+C,EAAUl4G,MACd4d,IAAUA,EAAOm8C,EAAMo8C,EAASwB,KACnCQ,EAAa31G,KAAKu3D,GACdq+C,GACFrzG,EAAIvC,KAAKxC,KAKjB,OAAOm4G,EAET,SAASE,GAAWC,EAAWl6C,EAAUj+B,EAASo4E,EAAYC,EAAYC,GAOxE,OANIF,IAAeA,EAAW3F,MAC5B2F,EAAaF,GAAWE,IAEtBC,IAAeA,EAAW5F,MAC5B4F,EAAaH,GAAWG,EAAYC,IAE/B1B,IAAa,SAAUX,EAAMp1E,EAASm1E,EAASwB,GACpD,IAAIpnF,EAAMvwB,EAAG+5D,EAAM2+C,EAAS,GAAIC,EAAU,GAAIC,EAAc53E,EAAQt+B,OAAQm2G,EAAQzC,GA7BxF,SAA0Bh4C,EAAU06C,EAAU93E,GAE5C,IADA,IAAIhhC,EAAI,EAAGgb,EAAM89F,EAASp2G,OACnB1C,EAAIgb,EAAKhb,IACdk2G,GAAO93C,EAAU06C,EAAS94G,GAAIghC,GAEhC,OAAOA,EAwBuF+3E,CAAiB36C,GAAY,IAAK+3C,EAAQp2D,SAAW,CAACo2D,GAAWA,EAAS,IAAK6C,GAAYV,IAAclC,GAASh4C,EAA+Dy6C,EAAnDZ,GAASY,EAAOH,EAAQJ,EAAWnC,EAASwB,GAAcsB,EAAa94E,EAAUq4E,IAAepC,EAAOkC,EAAYM,GAAeL,GAAc,GAAKv3E,EAAUg4E,EAIzX,GAHI74E,GACFA,EAAQ64E,EAAWC,EAAY9C,EAASwB,GAEtCY,EAIF,IAHAhoF,EAAO0nF,GAASgB,EAAYN,GAC5BJ,EAAWhoF,EAAM,GAAI4lF,EAASwB,GAC9B33G,EAAIuwB,EAAK7tB,OACF1C,MACD+5D,EAAOxpC,EAAKvwB,MACdi5G,EAAWN,EAAQ34G,MAAQg5G,EAAUL,EAAQ34G,IAAM+5D,IAIzD,GAAIq8C,GACF,GAAIoC,GAAcF,EAAW,CAC3B,GAAIE,EAAY,CAGd,IAFAjoF,EAAO,GACPvwB,EAAIi5G,EAAWv2G,OACR1C,MACD+5D,EAAOk/C,EAAWj5G,KACpBuwB,EAAK/tB,KAAKw2G,EAAUh5G,GAAK+5D,GAG7By+C,EAAW,KAAMS,EAAa,GAAI1oF,EAAMonF,GAG1C,IADA33G,EAAIi5G,EAAWv2G,OACR1C,MACA+5D,EAAOk/C,EAAWj5G,MAAQuwB,EAAOioF,EAAajE,GAAUr0G,KAAKk2G,EAAMr8C,GAAQ2+C,EAAO14G,KAAO,IAC5Fo2G,EAAK7lF,KAAUyQ,EAAQzQ,GAAQwpC,UAKrCk/C,EAAahB,GAASgB,IAAej4E,EAAUi4E,EAAW7nG,OAAOwnG,EAAaK,EAAWv2G,QAAUu2G,GAC/FT,EACFA,EAAW,KAAMx3E,EAASi4E,EAAYtB,GAEtCn1G,GAAK8b,MAAM0iB,EAASi4E,MAK5B,SAASC,GAAkB5B,GAUzB,IATA,IAAI6B,EAAch5E,EAAS9mB,EAAG2B,EAAMs8F,EAAO50G,OAAQ02G,EAAkB5f,GAAK6f,SAAS/B,EAAO,GAAGzxG,MAAOyzG,EAAmBF,GAAmB5f,GAAK6f,SAAS,KAAMr5G,EAAIo5G,EAAkB,EAAI,EAAGG,EAAehC,IAAc,SAAUx9C,GAC9N,OAAOA,IAASo/C,IACfG,GAAkB,GAAOE,EAAkBjC,IAAc,SAAUx9C,GACpE,OAAOw6C,GAAUr0G,KAAKi5G,EAAcp/C,IAAS,IAC5Cu/C,GAAkB,GAAOtB,EAAW,CAAC,SAAUj+C,EAAMo8C,EAASwB,GAC7D,IAAIzjB,GAAOklB,IAAoBzB,GAAOxB,IAAYtc,OAAuBsf,EAAehD,GAASp2D,SAAWw5D,EAAax/C,EAAMo8C,EAASwB,GAAO6B,EAAgBz/C,EAAMo8C,EAASwB,IAE9K,OADAwB,EAAe,KACRjlB,IAENl0F,EAAIgb,EAAKhb,IACd,GAAImgC,EAAUq5D,GAAK6f,SAAS/B,EAAOt3G,GAAG6F,MACpCmyG,EAAW,CAACT,GAAcQ,GAAeC,GAAW73E,QAC/C,CAEL,IADAA,EAAUq5D,GAAK57E,OAAO05F,EAAOt3G,GAAG6F,MAAMyY,MAAM,KAAMg5F,EAAOt3G,GAAG8lF,UAChD8sB,IAAU,CAEpB,IADAv5F,IAAMrZ,EACCqZ,EAAI2B,IACLw+E,GAAK6f,SAAS/B,EAAOj+F,GAAGxT,MADdwT,KAKhB,OAAOg/F,GAAWr4G,EAAI,GAAK+3G,GAAeC,GAAWh4G,EAAI,GAAK22G,GAAWW,EAAO11G,MAAM,EAAG5B,EAAI,GAAGovB,OAAO,CAAEvuB,MAA8B,MAAvBy2G,EAAOt3G,EAAI,GAAG6F,KAAe,IAAM,MAAOpC,QAAQ+0B,GAAO,MAAO2H,EAASngC,EAAIqZ,GAAK6/F,GAAkB5B,EAAO11G,MAAM5B,EAAGqZ,IAAKA,EAAI2B,GAAOk+F,GAAkB5B,EAASA,EAAO11G,MAAMyX,IAAKA,EAAI2B,GAAO27F,GAAWW,IAEzTU,EAASx1G,KAAK29B,GAGlB,OAAO43E,GAAeC,GAntBxBze,GAAU2c,GAAO3c,QAAU,GAC3BG,GAAQwc,GAAOxc,MAAQ,SAAU3/B,GAC/B,IAAInwD,EAAkBmwD,IAASA,EAAK4wB,eAAiB5wB,GAAMnwD,gBAC3D,QAAOA,GAA+C,SAA7BA,EAAgBwzC,UAE3C48C,GAAckc,GAAOlc,YAAc,SAAU5+C,GAC3C,IAAIq+D,EAAY1kD,EAAM3Z,EAAOA,EAAKuvC,eAAiBvvC,EAAOy4D,GAAc11C,EAASpJ,EAAI+1B,YAQrF,OAAI/1B,IAAQklC,IAA+B,IAAjBllC,EAAIhV,UAAmBgV,EAAInrD,iBAGrDqwF,GAAallC,EACbmlC,GAAUnlC,EAAInrD,gBACduwF,IAAkBT,GAAM3kC,GACpBoJ,GAAUA,IAbd,SAAgBrJ,GACd,IACE,OAAOA,EAAIhtD,IACX,MAAO0sF,IAET,OAAO,KAQgBklB,CAAOv7C,KAC1BA,EAAOniB,iBACTmiB,EAAOniB,iBAAiB,UAAU,WAChCg+C,QACC,GACM77B,EAAOmzC,aAChBnzC,EAAOmzC,YAAY,YAAY,WAC7BtX,SAINT,GAAQvxD,YAAa,EACrBuxD,GAAQpgD,sBAAuB,EAC/BogD,GAAQlrB,uBAAyBonC,GAAQ/vG,KAAKqvD,EAAIsZ,wBAClDkrB,GAAQogB,SAAU,EAClBngB,GAAKjsF,KAAKynG,GAAK,SAAUn5E,EAAIs6E,GAC3B,UAAWA,EAAQM,iBAAmBrC,IAAgBja,GAAgB,CACpE,IAAIh6F,EAAIg2G,EAAQM,eAAe56E,GAC/B,OAAO17B,GAAKA,EAAE+N,WAAa,CAAC/N,GAAK,KAGrCq5F,GAAK57E,OAAOo3F,GAAK,SAAUn5E,GACzB,IAAI+9E,EAAS/9E,EAAGp4B,QAAQoyG,GAAWC,IACnC,OAAO,SAAU/7C,GACf,OAAOA,EAAK13D,aAAa,QAAUu3G,IAGvCpgB,GAAKjsF,KAAK0nB,IAAMskE,GAAQpgD,qBAAuB,SAAU14B,EAAK01F,GAC5D,UAAWA,EAAQh9D,uBAAyBi7D,GAC1C,OAAO+B,EAAQh9D,qBAAqB14B,IAEpC,SAAUA,EAAK01F,GACjB,IAAIp8C,EAAM8/C,EAAM,GAAI75G,EAAI,EAAGghC,EAAUm1E,EAAQh9D,qBAAqB14B,GAClE,GAAY,MAARA,EAAa,CACf,KAAOs5C,EAAO/4B,EAAQhhC,MACE,IAAlB+5D,EAAKha,UACP85D,EAAIr3G,KAAKu3D,GAGb,OAAO8/C,EAET,OAAO74E,GAETw4D,GAAKjsF,KAAK0nG,MAAQ1b,GAAQlrB,wBAA0B,SAAU/lE,EAAW6tG,GACvE,GAAIhc,GACF,OAAOgc,EAAQ9nC,uBAAuB/lE,IAG1C+xF,GAAgB,GAChBD,GAAY,GACZb,GAAQugB,mBAAoB,EAC5B1f,GAAYA,GAAU13F,QAAU,IAAIylB,OAAOiyE,GAAUt0F,KAAK,MAC1Du0F,GAAgBA,GAAc33F,QAAU,IAAIylB,OAAOkyE,GAAcv0F,KAAK,MACtE2zG,EAAahE,GAAQ/vG,KAAKw0F,GAAQnQ,yBAClCuQ,GAAamf,GAAchE,GAAQ/vG,KAAKw0F,GAAQxsF,UAAY,SAAU5L,EAAG0C,GACvE,IAAIu1G,EAAuB,IAAfj4G,EAAEi+C,SAAiBj+C,EAAE8H,gBAAkB9H,EAAGk4G,EAAMx1G,GAAKA,EAAE0J,WACnE,OAAOpM,IAAMk4G,MAAUA,GAAwB,IAAjBA,EAAIj6D,YAAmBg6D,EAAMrsG,SAAWqsG,EAAMrsG,SAASssG,GAAOl4G,EAAEioF,yBAA4D,GAAjCjoF,EAAEioF,wBAAwBiwB,MACjJ,SAAUl4G,EAAG0C,GACf,GAAIA,EACF,KAAOA,EAAIA,EAAE0J,YACX,GAAI1J,IAAM1C,EACR,OAAO,EAIb,OAAO,GAETqyG,GAAYsF,EAAa,SAAU33G,EAAG0C,GACpC,GAAI1C,IAAM0C,EAER,OADAu1F,IAAe,EACR,EAET,IAAIkgB,GAAWn4G,EAAEioF,yBAA2BvlF,EAAEulF,wBAC9C,OAAIkwB,IAIU,GADdA,GAAWn4G,EAAE6oF,eAAiB7oF,MAAQ0C,EAAEmmF,eAAiBnmF,GAAK1C,EAAEioF,wBAAwBvlF,GAAK,KACzE+0F,GAAQ2gB,cAAgB11G,EAAEulF,wBAAwBjoF,KAAOm4G,EACvEn4G,IAAMizD,GAAOjzD,EAAE6oF,gBAAkBkpB,IAAgBvZ,GAAWuZ,GAAc/xG,IACpE,EAEN0C,IAAMuwD,GAAOvwD,EAAEmmF,gBAAkBkpB,IAAgBvZ,GAAWuZ,GAAcrvG,GACrE,EAEFs1F,GAAYya,GAAUr0G,KAAK45F,GAAWh4F,GAAKyyG,GAAUr0G,KAAK45F,GAAWt1F,GAAK,EAElE,EAAVy1G,GAAe,EAAI,IACxB,SAAUn4G,EAAG0C,GACf,GAAI1C,IAAM0C,EAER,OADAu1F,IAAe,EACR,EAET,IAAI3Q,EAAKppF,EAAI,EAAGm6G,EAAMr4G,EAAEoM,WAAY8rG,EAAMx1G,EAAE0J,WAAYksG,EAAK,CAACt4G,GAAIu4G,EAAK,CAAC71G,GACxE,IAAK21G,IAAQH,EACX,OAAOl4G,IAAMizD,GAAO,EAAIvwD,IAAMuwD,EAAM,EAAIolD,GAAO,EAAIH,EAAM,EAAIlgB,GAAYya,GAAUr0G,KAAK45F,GAAWh4F,GAAKyyG,GAAUr0G,KAAK45F,GAAWt1F,GAAK,EAClI,GAAI21G,IAAQH,EACjB,OAAOhD,GAAal1G,EAAG0C,GAGzB,IADA4kF,EAAMtnF,EACCsnF,EAAMA,EAAIl7E,YACfksG,EAAG9tE,QAAQ88C,GAGb,IADAA,EAAM5kF,EACC4kF,EAAMA,EAAIl7E,YACfmsG,EAAG/tE,QAAQ88C,GAEb,KAAOgxB,EAAGp6G,KAAOq6G,EAAGr6G,IAClBA,IAEF,OAAOA,EAAIg3G,GAAaoD,EAAGp6G,GAAIq6G,EAAGr6G,IAAMo6G,EAAGp6G,KAAO6zG,IAAgB,EAAIwG,EAAGr6G,KAAO6zG,GAAe,EAAI,GAE9F9+C,GApHEklC,IAsHXic,GAAOpwB,QAAU,SAAUw0B,EAAM/xG,GAC/B,OAAO2tG,GAAOoE,EAAM,KAAM,KAAM/xG,IAElC2tG,GAAOqE,gBAAkB,SAAUxgD,EAAMugD,GAKvC,IAJKvgD,EAAK4wB,eAAiB5wB,KAAUkgC,IACnCD,GAAYjgC,GAEdugD,EAAOA,EAAK72G,QAAQmxG,GAAkB,UAClCrb,GAAQghB,iBAAmBpgB,MAAoBE,KAAkBA,GAAc30F,KAAK40G,OAAYlgB,KAAcA,GAAU10F,KAAK40G,IAC/H,IACE,IAAIpmB,EA1T2KpO,UA0T7J5lF,KAAK65D,EAAMugD,GAC7B,GAAIpmB,GAAOqF,GAAQugB,mBAAqB//C,EAAK/3D,UAAuC,KAA3B+3D,EAAK/3D,SAAS+9C,SACrE,OAAOm0C,EAET,MAAOr0F,IAGX,OAAOq2G,GAAOoE,EAAMrgB,GAAY,KAAM,CAAClgC,IAAOr3D,OAAS,GAEzDwzG,GAAOxoG,SAAW,SAAUyoG,EAASp8C,GAInC,OAHKo8C,EAAQxrB,eAAiBwrB,KAAalc,IACzCD,GAAYmc,GAEP7b,GAAW6b,EAASp8C,IAE7Bm8C,GAAOv+C,KAAO,SAAUoC,EAAMjnD,IACvBinD,EAAK4wB,eAAiB5wB,KAAUkgC,IACnCD,GAAYjgC,GAEd,IAAIr6C,EAAK85E,GAAKghB,WAAW1nG,EAAK5N,eAAgBq0B,EAAM7Z,GAAMinB,GAAOzmC,KAAKs5F,GAAKghB,WAAY1nG,EAAK5N,eAAiBwa,EAAGq6C,EAAMjnD,GAAOqnF,SAAkB5nF,EAC/I,YAAeA,IAARgnB,EAAoBA,EAAMggE,GAAQvxD,aAAemyD,GAAiBpgC,EAAK13D,aAAayQ,IAASymB,EAAMwgC,EAAK0gD,iBAAiB3nG,KAAUymB,EAAImhF,UAAYnhF,EAAI14B,MAAQ,MAExKq1G,GAAO//F,MAAQ,SAAUmmE,GACvB,MAAM,IAAI5yE,MAAM,0CAA4C4yE,IAE9D45B,GAAOyE,WAAa,SAAU35E,GAC5B,IAAI+4B,EAAM6gD,EAAa,GAAIvhG,EAAI,EAAGrZ,EAAI,EAItC,GAHA+5F,IAAgBR,GAAQshB,iBACxB/gB,IAAaP,GAAQuhB,YAAc95E,EAAQp/B,MAAM,GACjDo/B,EAAQ7S,KAAKgmF,IACTpa,GAAc,CAChB,KAAOhgC,EAAO/4B,EAAQhhC,MAChB+5D,IAAS/4B,EAAQhhC,KACnBqZ,EAAIuhG,EAAWp4G,KAAKxC,IAGxB,KAAOqZ,KACL2nB,EAAQ5vB,OAAOwpG,EAAWvhG,GAAI,GAIlC,OADAygF,GAAY,KACL94D,GAETy4D,GAAUyc,GAAOzc,QAAU,SAAU1/B,GACnC,IAAI3e,EAAM84C,EAAM,GAAIl0F,EAAI,EAAG+/C,EAAWga,EAAKha,SAC3C,GAAKA,GAIE,GAAiB,IAAbA,GAA+B,IAAbA,GAA+B,KAAbA,EAAiB,CAC9D,GAAgC,iBAArBga,EAAKzgB,YACd,OAAOygB,EAAKzgB,YAEZ,IAAKygB,EAAOA,EAAKqxB,WAAYrxB,EAAMA,EAAOA,EAAKhsD,YAC7CmmF,GAAOuF,GAAQ1/B,QAGd,GAAiB,IAAbha,GAA+B,IAAbA,EAC3B,OAAOga,EAAKghD,eAZZ,KAAO3/D,EAAO2e,EAAK/5D,MACjBk0F,GAAOuF,GAAQr+C,GAanB,OAAO84C,IAETsF,GAAO0c,GAAO8E,UAAY,CACxBlE,YAAa,GACbmE,aAAclE,GACdjyG,MAAOiwG,GACPyF,WAAY,GACZjtG,KAAM,GACN8rG,SAAU,CACR,IAAK,CACHjmB,IAAK,aACLt9D,OAAO,GAET,IAAK,CAAEs9D,IAAK,cACZ,IAAK,CACHA,IAAK,kBACLt9D,OAAO,GAET,IAAK,CAAEs9D,IAAK,oBAEdklB,UAAW,CACTpD,KAAM,SAAUpwG,GAMd,OALAA,EAAM,GAAKA,EAAM,GAAGrB,QAAQoyG,GAAWC,IACvChxG,EAAM,IAAMA,EAAM,IAAMA,EAAM,IAAMA,EAAM,IAAM,IAAIrB,QAAQoyG,GAAWC,IACtD,OAAbhxG,EAAM,KACRA,EAAM,GAAK,IAAMA,EAAM,GAAK,KAEvBA,EAAMlD,MAAM,EAAG,IAExBwzG,MAAO,SAAUtwG,GAWf,OAVAA,EAAM,GAAKA,EAAM,GAAGI,cACS,QAAzBJ,EAAM,GAAGlD,MAAM,EAAG,IACfkD,EAAM,IACToxG,GAAO//F,MAAMrR,EAAM,IAErBA,EAAM,KAAOA,EAAM,GAAKA,EAAM,IAAMA,EAAM,IAAM,GAAK,GAAkB,SAAbA,EAAM,IAA8B,QAAbA,EAAM,KACvFA,EAAM,KAAOA,EAAM,GAAKA,EAAM,IAAmB,QAAbA,EAAM,KACjCA,EAAM,IACfoxG,GAAO//F,MAAMrR,EAAM,IAEdA,GAETqwG,OAAQ,SAAUrwG,GAChB,IAAIo2G,EAAQC,GAAYr2G,EAAM,IAAMA,EAAM,GAC1C,OAAIiwG,GAAUK,MAAM1vG,KAAKZ,EAAM,IACtB,MAELA,EAAM,GACRA,EAAM,GAAKA,EAAM,IAAMA,EAAM,IAAM,GAC1Bq2G,GAAYtG,GAAQnvG,KAAKy1G,KAAcD,EAASvhB,GAASwhB,GAAU,MAAWD,EAASC,EAAShqG,QAAQ,IAAKgqG,EAASz4G,OAASw4G,GAAUC,EAASz4G,UAC3JoC,EAAM,GAAKA,EAAM,GAAGlD,MAAM,EAAGs5G,GAC7Bp2G,EAAM,GAAKq2G,EAASv5G,MAAM,EAAGs5G,IAExBp2G,EAAMlD,MAAM,EAAG,MAG1Bgc,OAAQ,CACNqX,IAAK,SAAUmmF,GACb,IAAIh+D,EAAWg+D,EAAiB33G,QAAQoyG,GAAWC,IAAW5wG,cAC9D,MAA4B,MAArBk2G,EAA2B,WAChC,OAAO,GACL,SAAUrhD,GACZ,OAAOA,EAAK3c,UAAY2c,EAAK3c,SAASl4C,gBAAkBk4C,IAG5D63D,MAAO,SAAU3sG,GACf,IAAIkjG,EAAUuI,GAAWzrG,EAAY,KACrC,OAAOkjG,IAAYA,EAAU,IAAIrjF,OAAO,0BAA2B7f,EAAY,IAAMgwB,GAAa,SAAWy7E,GAAWzrG,GAAW,SAAUyxD,GAC3I,OAAOyxC,EAAQ9lG,KAA+B,iBAAnBq0D,EAAKzxD,WAA0ByxD,EAAKzxD,kBAAoByxD,EAAK13D,eAAiB+xG,IAAgBr6C,EAAK13D,aAAa,UAAY,QAG3J6yG,KAAM,SAAUpiG,EAAMuoG,EAAU9xF,GAC9B,OAAO,SAAUwwC,GACf,IAAIjqD,EAASomG,GAAOv+C,KAAKoC,EAAMjnD,GAC/B,OAAc,MAAVhD,EACkB,OAAburG,GAEJA,IAGLvrG,GAAU,GACU,MAAburG,EAAmBvrG,IAAWyZ,EAAqB,OAAb8xF,EAAoBvrG,IAAWyZ,EAAqB,OAAb8xF,EAAoB9xF,GAAmC,IAA1BzZ,EAAOqB,QAAQoY,GAA4B,OAAb8xF,EAAoB9xF,GAASzZ,EAAOqB,QAAQoY,IAAU,EAAiB,OAAb8xF,EAAoB9xF,GAASzZ,EAAOlO,OAAO2nB,EAAM7mB,UAAY6mB,EAAqB,OAAb8xF,GAAqB,IAAMvrG,EAAS,KAAKqB,QAAQoY,IAAU,EAAiB,OAAb8xF,IAAoBvrG,IAAWyZ,GAASzZ,EAAOlO,MAAM,EAAG2nB,EAAM7mB,OAAS,KAAO6mB,EAAQ,QAGva6rF,MAAO,SAAUvvG,EAAMy1G,EAAMv8F,EAAU+W,EAAOgpD,GAC5C,IAAI5rD,EAA8B,QAArBrtB,EAAKjE,MAAM,EAAG,GAAc25G,EAA6B,SAAnB11G,EAAKjE,OAAO,GAAe45G,EAAkB,YAATF,EACvF,OAAiB,IAAVxlF,GAAwB,IAATgpD,EAAa,SAAU/kB,GAC3C,QAASA,EAAK7rD,YACZ,SAAU6rD,EAAMo8C,EAASwB,GAC3B,IAAI1wG,EAAO4wG,EAAYz8D,EAAM67D,EAAMwE,EAAW3yG,EAAOsqF,EAAMlgE,IAAWqoF,EAAU,cAAgB,kBAAmBp9C,EAASpE,EAAK7rD,WAAY4E,EAAO0oG,GAAUzhD,EAAK3c,SAASl4C,cAAew2G,GAAY/D,IAAQ6D,EAC/M,GAAIr9C,EAAQ,CACV,GAAIjrC,EAAQ,CACV,KAAOkgE,GAAK,CAEV,IADAh4C,EAAO2e,EACA3e,EAAOA,EAAKg4C,IACjB,GAAIooB,EAASpgE,EAAKgC,SAASl4C,gBAAkB4N,EAAyB,IAAlBsoC,EAAK2E,SACvD,OAAO,EAGXj3C,EAAQsqF,EAAe,SAATvtF,IAAoBiD,GAAS,cAE7C,OAAO,EAGT,GADAA,EAAQ,CAACyyG,EAAUp9C,EAAOitB,WAAajtB,EAAOktB,WAC1CkwB,GAAWG,GAMb,IAHAD,GADAx0G,GADA4wG,EAAa15C,EAAOy0C,MAAaz0C,EAAOy0C,IAAW,KAChC/sG,IAAS,IACV,KAAOiuG,IAAW7sG,EAAM,GAC1CgwG,EAAOhwG,EAAM,KAAO6sG,IAAW7sG,EAAM,GACrCm0C,EAAOqgE,GAAat9C,EAAOvN,WAAW6qD,GAC/BrgE,IAASqgE,GAAargE,GAAQA,EAAKg4C,KAAS6jB,EAAOwE,EAAY,IAAM3yG,EAAM4iC,OAChF,GAAsB,IAAlB0P,EAAK2E,YAAoBk3D,GAAQ77D,IAAS2e,EAAM,CAClD89C,EAAWhyG,GAAQ,CACjBiuG,GACA2H,EACAxE,GAEF,YAGC,GAAIyE,IAAaz0G,GAAS8yD,EAAK64C,MAAa74C,EAAK64C,IAAW,KAAK/sG,KAAUoB,EAAM,KAAO6sG,GAC7FmD,EAAOhwG,EAAM,QAEb,MAAOm0C,IAASqgE,GAAargE,GAAQA,EAAKg4C,KAAS6jB,EAAOwE,EAAY,IAAM3yG,EAAM4iC,UAC3E8vE,EAASpgE,EAAKgC,SAASl4C,gBAAkB4N,EAAyB,IAAlBsoC,EAAK2E,cAAqBk3D,IACzEyE,KACDtgE,EAAKw3D,MAAax3D,EAAKw3D,IAAW,KAAK/sG,GAAQ,CAC9CiuG,GACAmD,IAGA77D,IAAS2e,MAOnB,OADAk9C,GAAQn4B,KACQhpD,GAASmhF,EAAOnhF,GAAU,GAAKmhF,EAAOnhF,GAAS,KAIrEq/E,OAAQ,SAAUwG,EAAQ58F,GACxB,IAAIsqB,EAAM3pB,EAAK85E,GAAKib,QAAQkH,IAAWniB,GAAK6d,WAAWsE,EAAOz2G,gBAAkBgxG,GAAO//F,MAAM,uBAAyBwlG,GACtH,OAAIj8F,EAAGkzF,IACElzF,EAAGX,GAERW,EAAGhd,OAAS,GACd2mC,EAAO,CACLsyE,EACAA,EACA,GACA58F,GAEKy6E,GAAK6d,WAAWl2G,eAAew6G,EAAOz2G,eAAiB6xG,IAAa,SAAUX,EAAMtwB,GAEzF,IADA,IAAI81B,EAAK7yF,EAAUrJ,EAAG02F,EAAMr3F,GAAW/e,EAAI+oB,EAAQrmB,OAC5C1C,KAELo2G,EADAwF,EAAMrH,GAAUr0G,KAAKk2G,EAAMrtF,EAAQ/oB,OACrB8lF,EAAQ81B,GAAO7yF,EAAQ/oB,OAEpC,SAAU+5D,GACb,OAAOr6C,EAAGq6C,EAAM,EAAG1wB,KAGhB3pB,IAGX+0F,QAAS,CACPr4B,IAAK26B,IAAa,SAAU34C,GAC1B,IAAI/wD,EAAQ,GAAI2zB,EAAU,GAAIb,EAAUy5D,GAAQx7B,EAAS36D,QAAQ+0B,GAAO,OACxE,OAAO2H,EAAQyyE,IAAWmE,IAAa,SAAUX,EAAMtwB,EAASqwB,EAASwB,GAEvE,IADA,IAAI59C,EAAMm+C,EAAY/3E,EAAQi2E,EAAM,KAAMuB,EAAK,IAAK33G,EAAIo2G,EAAK1zG,OACtD1C,MACD+5D,EAAOm+C,EAAUl4G,MACnBo2G,EAAKp2G,KAAO8lF,EAAQ9lF,GAAK+5D,OAG1B,SAAUA,EAAMo8C,EAASwB,GAI5B,OAHAtqG,EAAM,GAAK0sD,EACX55B,EAAQ9yB,EAAO,KAAMsqG,EAAK32E,GAC1B3zB,EAAM,GAAK,MACH2zB,EAAQ0K,UAGpBl4B,IAAKujG,IAAa,SAAU34C,GAC1B,OAAO,SAAUrE,GACf,OAAOm8C,GAAO93C,EAAUrE,GAAMr3D,OAAS,MAG3CgL,SAAUqpG,IAAa,SAAUphD,GAE/B,OADAA,EAAOA,EAAKlyD,QAAQoyG,GAAWC,IACxB,SAAU/7C,GACf,OAAQA,EAAKzgB,aAAeygB,EAAKxgB,WAAakgD,GAAQ1/B,IAAO5oD,QAAQwkD,IAAS,MAGlFkmD,KAAM9E,IAAa,SAAU8E,GAK3B,OAJK/G,GAAYpvG,KAAKm2G,GAAQ,KAC5B3F,GAAO//F,MAAM,qBAAuB0lG,GAEtCA,EAAOA,EAAKp4G,QAAQoyG,GAAWC,IAAW5wG,cACnC,SAAU60D,GACf,IAAI+hD,EACJ,GACE,GAAIA,EAAW3hB,GAAiBpgC,EAAK8hD,KAAO9hD,EAAK13D,aAAa,aAAe03D,EAAK13D,aAAa,QAE7F,OADAy5G,EAAWA,EAAS52G,iBACA22G,GAAyC,IAAjCC,EAAS3qG,QAAQ0qG,EAAO,YAE9C9hD,EAAOA,EAAK7rD,aAAiC,IAAlB6rD,EAAKha,UAC1C,OAAO,MAGXl9C,OAAQ,SAAUk3D,GAChB,IAAIvrC,EAAO/uB,OAAOs8G,UAAYt8G,OAAOs8G,SAASvtF,KAC9C,OAAOA,GAAQA,EAAK5sB,MAAM,KAAOm4D,EAAKl+B,IAExChuB,KAAM,SAAUksD,GACd,OAAOA,IAASmgC,IAElBx2F,MAAO,SAAUq2D,GACf,OAAOA,IAASkgC,GAAWnzF,iBAAmBmzF,GAAW+hB,UAAY/hB,GAAW+hB,gBAAkBjiD,EAAKl0D,MAAQk0D,EAAK3rC,OAAS2rC,EAAKkiD,WAEpIC,QAAS,SAAUniD,GACjB,OAAyB,IAAlBA,EAAK3rD,UAEdA,SAAU,SAAU2rD,GAClB,OAAyB,IAAlBA,EAAK3rD,UAEdq/C,QAAS,SAAUsM,GACjB,IAAI3c,EAAW2c,EAAK3c,SAASl4C,cAC7B,MAAoB,UAAbk4C,KAA0B2c,EAAKtM,SAAwB,WAAbrQ,KAA2B2c,EAAKvM,UAEnFA,SAAU,SAAUuM,GAIlB,OAHIA,EAAK7rD,YACP6rD,EAAK7rD,WAAWiuG,eAEO,IAAlBpiD,EAAKvM,UAEd8J,MAAO,SAAUyC,GACf,IAAKA,EAAOA,EAAKqxB,WAAYrxB,EAAMA,EAAOA,EAAKhsD,YAC7C,GAAIgsD,EAAKha,SAAW,EAClB,OAAO,EAGX,OAAO,GAEToe,OAAQ,SAAUpE,GAChB,OAAQy/B,GAAKib,QAAQn9C,MAAMyC,IAE7B+B,OAAQ,SAAU/B,GAChB,OAAOy7C,GAAQ9vG,KAAKq0D,EAAK3c,WAE3B/vC,MAAO,SAAU0sD,GACf,OAAOw7C,GAAQ7vG,KAAKq0D,EAAK3c,WAE3BlxC,OAAQ,SAAU6tD,GAChB,IAAIjnD,EAAOinD,EAAK3c,SAASl4C,cACzB,MAAgB,UAAT4N,GAAkC,WAAdinD,EAAKl0D,MAA8B,WAATiN,GAEvD6iD,KAAM,SAAUoE,GACd,IAAIpC,EACJ,MAAuC,UAAhCoC,EAAK3c,SAASl4C,eAA2C,SAAd60D,EAAKl0D,OAA0D,OAArC8xD,EAAOoC,EAAK13D,aAAa,UAA2C,SAAvBs1D,EAAKzyD,gBAEhI4wB,MAAOqhF,IAAuB,WAC5B,MAAO,CAAC,MAEVr4B,KAAMq4B,IAAuB,SAAUC,EAAc10G,GACnD,MAAO,CAACA,EAAS,MAEnBu3E,GAAIk9B,IAAuB,SAAUC,EAAc10G,EAAQqc,GACzD,MAAO,CAACA,EAAW,EAAIA,EAAWrc,EAASqc,MAE7Cq9F,KAAMjF,IAAuB,SAAUC,EAAc10G,GAEnD,IADA,IAAI1C,EAAI,EACDA,EAAI0C,EAAQ1C,GAAK,EACtBo3G,EAAa50G,KAAKxC,GAEpB,OAAOo3G,KAETiF,IAAKlF,IAAuB,SAAUC,EAAc10G,GAElD,IADA,IAAI1C,EAAI,EACDA,EAAI0C,EAAQ1C,GAAK,EACtBo3G,EAAa50G,KAAKxC,GAEpB,OAAOo3G,KAETkF,GAAInF,IAAuB,SAAUC,EAAc10G,EAAQqc,GAEzD,IADA,IAAI/e,EAAI+e,EAAW,EAAIA,EAAWrc,EAASqc,IAClC/e,GAAK,GACZo3G,EAAa50G,KAAKxC,GAEpB,OAAOo3G,KAETmF,GAAIpF,IAAuB,SAAUC,EAAc10G,EAAQqc,GAEzD,IADA,IAAI/e,EAAI+e,EAAW,EAAIA,EAAWrc,EAASqc,IAClC/e,EAAI0C,GACX00G,EAAa50G,KAAKxC,GAEpB,OAAOo3G,QAIR3C,QAAQ+H,IAAMhjB,GAAKib,QAAQx6B,GAChCvoB,EAAK,CACH,QACA,WACA,OACA,WACA,UACC,SAAU1xD,GACXw5F,GAAKib,QAAQz0G,GA5hBf,SAA2B6F,GACzB,OAAO,SAAUk0D,GAEf,MAAgB,UADLA,EAAK3c,SAASl4C,eACE60D,EAAKl0D,OAASA,GAyhBzB42G,CAAkBz8G,MAEtC0xD,EAAK,CACH,SACA,UACC,SAAU1xD,GACXw5F,GAAKib,QAAQz0G,GA5hBf,SAA4B6F,GAC1B,OAAO,SAAUk0D,GACf,IAAIjnD,EAAOinD,EAAK3c,SAASl4C,cACzB,OAAiB,UAAT4N,GAA6B,WAATA,IAAsBinD,EAAKl0D,OAASA,GAyhBhD62G,CAAmB18G,MAIvCq3G,GAAWn2G,UAAYs4F,GAAKmjB,QAAUnjB,GAAKib,QAC3Cjb,GAAK6d,WAAa,IAAIA,GACtB1d,GAAWuc,GAAOvc,SAAW,SAAUv7B,EAAUw+C,GAC/C,IAAI7zF,EAASjkB,EAAOwyG,EAAQzxG,EAAMg3G,EAAO71F,EAAQ81F,EAAY/2B,EAASkuB,GAAW71C,EAAW,KAC5F,GAAI2nB,EACF,OAAO62B,EAAY,EAAI72B,EAAOnkF,MAAM,GAKtC,IAHAi7G,EAAQz+C,EACRp3C,EAAS,GACT81F,EAAatjB,GAAK8e,UACXuE,GAAO,CAgBZ,IAAKh3G,KAfAkjB,KAAYjkB,EAAQ4vG,GAAO/uG,KAAKk3G,MAC/B/3G,IACF+3G,EAAQA,EAAMj7G,MAAMkD,EAAM,GAAGpC,SAAWm6G,GAE1C71F,EAAOxkB,KAAK80G,EAAS,KAEvBvuF,GAAU,GACNjkB,EAAQ6vG,GAAahvG,KAAKk3G,MAC5B9zF,EAAUjkB,EAAMmjC,QAChBqvE,EAAO90G,KAAK,CACV3B,MAAOkoB,EACPljB,KAAMf,EAAM,GAAGrB,QAAQ+0B,GAAO,OAEhCqkF,EAAQA,EAAMj7G,MAAMmnB,EAAQrmB,SAEjB82F,GAAK57E,OACX47E,GAAK57E,OAAOzc,eAAe0E,OAG3Bf,EAAQiwG,GAAUlvG,GAAMF,KAAKk3G,KAAaC,EAAWj3G,MAAUf,EAAQg4G,EAAWj3G,GAAMf,MAC3FikB,EAAUjkB,EAAMmjC,QAChBqvE,EAAO90G,KAAK,CACV3B,MAAOkoB,EACPljB,KAAMA,EACNigF,QAAShhF,IAEX+3G,EAAQA,EAAMj7G,MAAMmnB,EAAQrmB,UAGhC,IAAKqmB,EACH,MAGJ,OAAO6zF,EAAYC,EAAMn6G,OAASm6G,EAAQ3G,GAAO//F,MAAMioD,GAAY61C,GAAW71C,EAAUp3C,GAAQplB,MAAM,IAwNxGg4F,GAAUsc,GAAOtc,QAAU,SAAUx7B,EAAUt5D,GAC7C,IAAI9E,EAAG+8G,EAAc,GAAIC,EAAkB,GAAIj3B,EAASmuB,GAAc91C,EAAW,KACjF,IAAK2nB,EAAQ,CAKX,IAJKjhF,IACHA,EAAQ60F,GAASv7B,IAEnBp+D,EAAI8E,EAAMpC,OACH1C,MACL+lF,EAASmzB,GAAkBp0G,EAAM9E,KACtB4yG,IACTmK,EAAYv6G,KAAKujF,GAEjBi3B,EAAgBx6G,KAAKujF,IAGzBA,EAASmuB,GAAc91C,EAxE3B,SAAkC4+C,EAAiBD,GACjD,IAAIE,EAAQF,EAAYr6G,OAAS,EAAGw6G,EAAYF,EAAgBt6G,OAAS,EAAGy6G,EAAe,SAAU/G,EAAMD,EAASwB,EAAK32E,EAASo8E,GAC9H,IAAIrjD,EAAM1gD,EAAG8mB,EAASk9E,EAAe,EAAGr9G,EAAI,IAAKk4G,EAAY9B,GAAQ,GAAIkH,EAAa,GAAIC,EAAgB1jB,GAAkBgf,EAAQzC,GAAQ8G,GAAa1jB,GAAKjsF,KAAK0nB,IAAI,IAAKmoF,GAAYI,EAAgB1J,IAA4B,MAAjByJ,EAAwB,EAAIj5G,KAAKy3B,UAAY,GAAK/gB,EAAM69F,EAAMn2G,OAIjR,IAHI06G,IACFvjB,GAAmBsc,IAAYlc,IAAckc,GAExCn2G,IAAMgb,GAA4B,OAApB++C,EAAO8+C,EAAM74G,IAAaA,IAAK,CAClD,GAAIk9G,GAAanjD,EAAM,CAErB,IADA1gD,EAAI,EACG8mB,EAAU68E,EAAgB3jG,MAC/B,GAAI8mB,EAAQ45B,EAAMo8C,EAASwB,GAAM,CAC/B32E,EAAQx+B,KAAKu3D,GACb,MAGAqjD,IACFtJ,GAAU0J,GAGVP,KACEljD,GAAQ55B,GAAW45B,IACrBsjD,IAEEjH,GACF8B,EAAU11G,KAAKu3D,IAKrB,GADAsjD,GAAgBr9G,EACZi9G,GAASj9G,IAAMq9G,EAAc,CAE/B,IADAhkG,EAAI,EACG8mB,EAAU48E,EAAY1jG,MAC3B8mB,EAAQ+3E,EAAWoF,EAAYnH,EAASwB,GAE1C,GAAIvB,EAAM,CACR,GAAIiH,EAAe,EACjB,KAAOr9G,KACCk4G,EAAUl4G,IAAMs9G,EAAWt9G,KAC/Bs9G,EAAWt9G,GAAK0rC,GAAIxrC,KAAK8gC,IAI/Bs8E,EAAarF,GAASqF,GAExB96G,GAAK8b,MAAM0iB,EAASs8E,GAChBF,IAAchH,GAAQkH,EAAW56G,OAAS,GAAK26G,EAAeN,EAAYr6G,OAAS,GACrFwzG,GAAOyE,WAAW35E,GAOtB,OAJIo8E,IACFtJ,GAAU0J,EACV3jB,GAAmB0jB,GAEdrF,GAEX,OAAO+E,EAAQlG,GAAaoG,GAAgBA,EAiBTM,CAAyBT,EAAiBD,KACpE3+C,SAAWA,EAEpB,OAAO2nB,GAETrmB,GAASw2C,GAAOx2C,OAAS,SAAUtB,EAAU+3C,EAASn1E,EAASo1E,GAC7D,IAAIp2G,EAAGs3G,EAAQoG,EAAO73G,EAAM0H,EAAMowG,EAA+B,mBAAbv/C,GAA2BA,EAAUt5D,GAASsxG,GAAQzc,GAASv7B,EAAWu/C,EAASv/C,UAAYA,GAEnJ,GADAp9B,EAAUA,GAAW,GACA,IAAjBl8B,EAAMpC,OAAc,CAEtB,IADA40G,EAASxyG,EAAM,GAAKA,EAAM,GAAGlD,MAAM,IACxBc,OAAS,GAAkC,QAA5Bg7G,EAAQpG,EAAO,IAAIzxG,MAAiB0zF,GAAQogB,SAAgC,IAArBxD,EAAQp2D,UAAkBo6C,IAAkBX,GAAK6f,SAAS/B,EAAO,GAAGzxG,MAAO,CAE1J,KADAswG,GAAW3c,GAAKjsF,KAAKynG,GAAG0I,EAAM53B,QAAQ,GAAGriF,QAAQoyG,GAAWC,IAAYK,IAAY,IAAI,IAEtF,OAAOn1E,EACE28E,IACTxH,EAAUA,EAAQjoG,YAEpBkwD,EAAWA,EAASx8D,MAAM01G,EAAOrvE,QAAQpnC,MAAM6B,QAGjD,IADA1C,EAAI+0G,GAAUO,aAAa5vG,KAAK04D,GAAY,EAAIk5C,EAAO50G,OAChD1C,MACL09G,EAAQpG,EAAOt3G,IACXw5F,GAAK6f,SAASxzG,EAAO63G,EAAM73G,QAG/B,IAAI0H,EAAOisF,GAAKjsF,KAAK1H,MACfuwG,EAAO7oG,EAAKmwG,EAAM53B,QAAQ,GAAGriF,QAAQoyG,GAAWC,IAAYH,GAASjwG,KAAK4xG,EAAO,GAAGzxG,OAAS+wG,GAAYT,EAAQjoG,aAAeioG,IAAU,CAG5I,GAFAmB,EAAOlmG,OAAOpR,EAAG,KACjBo+D,EAAWg4C,EAAK1zG,QAAUi0G,GAAWW,IAGnC,OADA90G,GAAK8b,MAAM0iB,EAASo1E,GACbp1E,EAET,OAMR,OADC28E,GAAY/jB,GAAQx7B,EAAUt5D,IAAQsxG,EAAMD,GAAUhc,GAAgBn5D,EAAS20E,GAASjwG,KAAK04D,IAAaw4C,GAAYT,EAAQjoG,aAAeioG,GACvIn1E,GAETu4D,GAAQuhB,WAAalI,GAAQ5vG,MAAM,IAAImrB,KAAKgmF,IAAWruG,KAAK,MAAQ8sG,GACpErZ,GAAQshB,mBAAqB9gB,GAC7BC,KACAT,GAAQ2gB,cAAe,EAEvB,IAAInlD,GAAM/yD,SACN47G,GAASp8G,MAAMN,UAAUsB,KACzBq7G,GAAUr8G,MAAMN,UAAUU,MAC1Bk8G,GAAe,2CACfh6G,GAAQ6uG,GAAW7uG,MACnBi6G,GAAc12B,GAAMC,QAAQ,+BAC5B02B,GAAY,SAAU9rE,GACxB,YAAsB,IAARA,GAEZ+rE,GAAa,SAAU/rE,GACzB,MAAsB,iBAARA,GAKZgsE,GAAiB,SAAUzuF,EAAM0uF,GAEnC,IAGI/iE,EAHAzxC,GADJw0G,EAAUA,GAAWppD,IACG9yD,cAAc,OAClCm8G,EAAOD,EAAQE,yBAGnB,IAFA10G,EAAUzH,UAAYutB,EAEf2rB,EAAOzxC,EAAUyhF,YACtBgzB,EAAKxwG,YAAYwtC,GAEnB,OAAOgjE,GAELE,GAAgB,SAAUC,EAAaC,EAAYt1E,EAAUjwB,GAC/D,IAAIjZ,EACJ,GAAIi+G,GAAWO,GACbA,EAAaN,GAAeM,EAAYC,GAAmBF,EAAY,UAClE,GAAIC,EAAW97G,SAAW87G,EAAWz+D,SAAU,CAEpD,GADAy+D,EAAaE,GAASC,UAAUH,GAC5BvlG,EACF,IAAKjZ,EAAIw+G,EAAW97G,OAAS,EAAG1C,GAAK,EAAGA,IACtCs+G,GAAcC,EAAaC,EAAWx+G,GAAIkpC,EAAUjwB,QAGtD,IAAKjZ,EAAI,EAAGA,EAAIw+G,EAAW97G,OAAQ1C,IACjCs+G,GAAcC,EAAaC,EAAWx+G,GAAIkpC,EAAUjwB,GAGxD,OAAOslG,EAET,GAAIC,EAAWz+D,SAEb,IADA//C,EAAIu+G,EAAY77G,OACT1C,KACLkpC,EAAShpC,KAAKq+G,EAAYv+G,GAAIw+G,GAGlC,OAAOD,GAELthD,GAAW,SAAU7hB,EAAM9yC,GAC7B,OAAO8yC,GAAQ9yC,IAA8E,KAAhE,IAAM8yC,EAAK9yC,UAAY,KAAK6I,QAAQ,IAAM7I,EAAY,MAEjFs2G,GAAS,SAAUr2G,EAAUxB,EAASo1E,GACxC,IAAI0iC,EAAYC,EAahB,OAZA/3G,EAAU23G,GAAS33G,GAAS,GAC5BwB,EAASmpD,MAAK,WACZ,IAAIjgD,EAAOnH,KACN6xE,GAAO0iC,IAAeptG,EAAKvD,aAC9B2wG,EAAaptG,EAAKvD,WAClB4wG,EAAa/3G,EAAQ+5D,WAAU,GAC/BrvD,EAAKvD,WAAWF,aAAa8wG,EAAYrtG,IAGzCqtG,EAAWlxG,YAAY6D,MAGpBlJ,GAELw2G,GAAgB13B,GAAMC,QAAQ,uEAAwE,KACtG03B,GAAa33B,GAAMC,QAAQ,gGAAiG,KAC5H23B,GAAU,CACZC,IAAK,UACLC,MAAO,YACPC,SAAU,YAERC,GAAS,CAAEC,MAAO,YAClBC,GAAY,GAAIC,GAAW,GAC3BC,GAAsB,SAAUrhD,EAAU+3C,GAC5C,OAAO,IAAIuI,GAASh/F,GAAGnV,KAAK6zD,EAAU+3C,IAepCuJ,GAAqB,aACrBC,GAAS,SAAU73F,GACrB,OAAOA,QAAoC,IAAM,GAAKA,GAAKrkB,QAAQi8G,GAAoB,KAErFE,GAAS,SAAU1tE,EAAKhJ,GAC1B,IAAIxmC,EAAQmE,EAAK7G,EAAGa,EACpB,GAAIqxC,EAEF,QAAe3/B,KADf7P,EAASwvC,EAAIxvC,SAEX,IAAKmE,KAAOqrC,EACV,GAAIA,EAAI/wC,eAAe0F,KACrBhG,EAAQqxC,EAAIrrC,IAC6B,IAArCqiC,EAAShpC,KAAKW,EAAOgG,EAAKhG,IAC5B,WAKN,IAAKb,EAAI,EAAGA,EAAI0C,IACd7B,EAAQqxC,EAAIlyC,IAC2B,IAAnCkpC,EAAShpC,KAAKW,EAAOb,EAAGa,IAFNb,KAQ5B,OAAOkyC,GAELs1C,GAAO,SAAU7oE,EAAOuqB,GAC1B,IAAI+2C,EAAM,GAMV,OALA2/B,GAAOjhG,GAAO,SAAU3e,EAAGskD,GACrBpb,EAASob,EAAMtkD,IACjBigF,EAAIz9E,KAAK8hD,MAGN27B,GAELw+B,GAAqB,SAAUl3G,GACjC,OAAKA,EAGoB,IAArBA,EAAQw4C,SACHx4C,EAEFA,EAAQojF,cALN51B,IAOX0qD,GAAoB//F,GAAK+/F,GAAoBv+G,UAAY,CACvDoY,YAAammG,GACbrhD,SAAU,GACV+3C,QAAS,KACTzzG,OAAQ,EACR6H,KAAM,SAAU6zD,EAAU+3C,GACxB,IACIrxG,EAAOs2C,EADP3pC,EAAOnH,KAEX,IAAK8zD,EACH,OAAO3sD,EAET,GAAI2sD,EAASre,SAGX,OAFAtuC,EAAK0kG,QAAU1kG,EAAK,GAAK2sD,EACzB3sD,EAAK/O,OAAS,EACP+O,EAET,GAAI0kG,GAAWA,EAAQp2D,SACrBtuC,EAAK0kG,QAAUA,MACV,CACL,GAAIA,EACF,OAAOuI,GAAStgD,GAAUzG,KAAKw+C,GAEjC1kG,EAAK0kG,QAAUA,EAAUn0G,SAE3B,GAAIi8G,GAAW7/C,GAAW,CAWxB,GAVA3sD,EAAK2sD,SAAWA,IAEdt5D,EADyB,MAAvBs5D,EAAS3rD,OAAO,IAAuD,MAAzC2rD,EAAS3rD,OAAO2rD,EAAS17D,OAAS,IAAc07D,EAAS17D,QAAU,EAC3F,CACN,KACA07D,EACA,MAGM0/C,GAAan4G,KAAKy4D,IAqB1B,OAAOsgD,GAASvI,GAAS5oG,KAAK6wD,GAlB9B,GAAIt5D,EAAM,GAER,IADAs2C,EAAO8iE,GAAe9/C,EAAUqgD,GAAmBtI,IAAU/qB,WACtDhwC,GACLwiE,GAAO19G,KAAKuR,EAAM2pC,GAClBA,EAAOA,EAAKrtC,gBAET,CAEL,KADAqtC,EAAOqjE,GAAmBtI,GAASM,eAAe3xG,EAAM,KAEtD,OAAO2M,EAET,GAAI2pC,EAAKvf,KAAO/2B,EAAM,GACpB,OAAO2M,EAAKlE,KAAK6wD,GAEnB3sD,EAAK/O,OAAS,EACd+O,EAAK,GAAK2pC,QAMd9wC,KAAKmD,IAAI2wD,GAAU,GAErB,OAAO3sD,GAETknD,QAAS,WACP,OAAO0uB,GAAM1uB,QAAQruD,OAEvBmD,IAAK,SAAUs2C,EAAO51B,GACpB,IACImiE,EAAOtwF,EADPyR,EAAOnH,KAEX,GAAI2zG,GAAWl6D,GACb,OAAOtyC,EAAKhE,IAAIixG,GAAS36D,IAE3B,IAAa,IAAT51B,EAGF,IAFAmiE,EAAQouB,GAASmB,OAAOpuG,EAAKknD,UAAUvpC,OAAOsvF,GAASC,UAAU56D,KACjEtyC,EAAK/O,OAAS4tF,EAAM5tF,OACf1C,EAAI,EAAGA,EAAIswF,EAAM5tF,OAAQ1C,IAC5ByR,EAAKzR,GAAKswF,EAAMtwF,QAGlB49G,GAAOt/F,MAAM7M,EAAMitG,GAASC,UAAU56D,IAExC,OAAOtyC,GAETkmD,KAAM,SAAU7kD,EAAMjS,GACpB,IACIi/G,EADAruG,EAAOnH,KAEX,GAAoB,iBAATwI,EACT8sG,GAAO9sG,GAAM,SAAUA,EAAMjS,GAC3B4Q,EAAKkmD,KAAK7kD,EAAMjS,UAEb,KAAIm9G,GAAUn9G,GAgBd,CACL,GAAI4Q,EAAK,IAA2B,IAArBA,EAAK,GAAGsuC,SAAgB,CAErC,IADA+/D,EAAOP,GAAUzsG,KACLgtG,EAAKr/G,IACf,OAAOq/G,EAAKr/G,IAAIgR,EAAK,GAAIqB,GAE3B,GAAIksG,GAAWlsG,GACb,OAAOrB,EAAK0gC,KAAKr/B,GAAQA,OAAOP,EAGpB,QADd1R,EAAQ4Q,EAAK,GAAGpP,aAAayQ,EAAM,MAEjCjS,OAAQ0R,GAGZ,OAAO1R,EA7BPyJ,KAAKonD,MAAK,WACR,IAAIouD,EACJ,GAAsB,IAAlBx1G,KAAKy1C,SAAgB,CAEvB,IADA+/D,EAAOP,GAAUzsG,KACLgtG,EAAK3oG,IAEf,YADA2oG,EAAK3oG,IAAI7M,KAAMzJ,GAGH,OAAVA,EACFyJ,KAAKhI,gBAAgBwQ,EAAM,GAE3BxI,KAAKgC,aAAawG,EAAMjS,EAAO,OAoBvC,OAAO4Q,GAETsuG,WAAY,SAAUjtG,GACpB,OAAOxI,KAAKqtD,KAAK7kD,EAAM,OAEzBq/B,KAAM,SAAUr/B,EAAMjS,GACpB,IAAI4Q,EAAOnH,KAEX,GAAoB,iBADpBwI,EAAOmsG,GAAQnsG,IAASA,GAEtB8sG,GAAO9sG,GAAM,SAAUA,EAAMjS,GAC3B4Q,EAAK0gC,KAAKr/B,EAAMjS,UAEb,KAAIm9G,GAAUn9G,GAOnB,OAAI4Q,EAAK,IAAMA,EAAK,GAAGsuC,UAAYjtC,KAAQrB,EAAK,GACvCA,EAAK,GAAGqB,GAEVjS,EATPyJ,KAAKonD,MAAK,WACc,IAAlBpnD,KAAKy1C,WACPz1C,KAAKwI,GAAQjS,MASnB,OAAO4Q,GAET2kD,IAAK,SAAUtjD,EAAMjS,GACnB,IACI2vF,EAAKsvB,EADLruG,EAAOnH,KAEP01G,EAAQ,SAAUltG,GACpB,OAAOA,EAAKrP,QAAQ,UAAU,SAAU3B,EAAG0C,GACzC,OAAOA,EAAE4B,kBAGT65G,EAAS,SAAUntG,GACrB,OAAOA,EAAKrP,QAAQ,UAAU,SAAU3B,GACtC,MAAO,IAAMA,MAGjB,GAAoB,iBAATgR,EACT8sG,GAAO9sG,GAAM,SAAUA,EAAMjS,GAC3B4Q,EAAK2kD,IAAItjD,EAAMjS,WAGjB,GAAIm9G,GAAUn9G,GACZiS,EAAOktG,EAAMltG,GACQ,iBAAVjS,GAAuBk+G,GAAcjsG,KAC9CjS,EAAQA,EAAMqF,WAAa,MAE7BuL,EAAKigD,MAAK,WACR,IAAI1pD,EAAQsC,KAAKtC,MAEjB,IADA83G,EAAON,GAAS1sG,KACJgtG,EAAK3oG,IACf2oG,EAAK3oG,IAAI7M,KAAMzJ,OADjB,CAIA,IACEyJ,KAAKtC,MAAMq3G,GAAOvsG,IAASA,GAAQjS,EACnC,MAAO2zF,IAEK,OAAV3zF,GAA4B,KAAVA,IAChBmH,EAAMi2D,eACRj2D,EAAMi2D,eAAegiD,EAAOntG,IAE5B9K,EAAM1F,gBAAgBwQ,YAIvB,CAGL,GAFA09E,EAAM/+E,EAAK,IACXquG,EAAON,GAAS1sG,KACJgtG,EAAKr/G,IACf,OAAOq/G,EAAKr/G,IAAI+vF,GAElB,IAAIA,EAAI7F,cAAcG,YAMf,OAAI0F,EAAI0vB,aACN1vB,EAAI0vB,aAAaF,EAAMltG,IAEvB,GARP,IACE,OAAO09E,EAAI7F,cAAcG,YAAY7iC,iBAAiBuoC,EAAK,MAAM1xB,iBAAiBmhD,EAAOntG,IACzF,MAAO0hF,GACP,QASR,OAAO/iF,GAETxD,OAAQ,WAGN,IAFA,IACImtC,EAAMp7C,EAAIsK,KAAK5H,OACZ1C,KACLo7C,EAHS9wC,KAGGtK,GACZ8D,GAAM8vG,MAAMx4D,GACRA,EAAKltC,YACPktC,EAAKltC,WAAWJ,YAAYstC,GAGhC,OAAO9wC,MAETgtD,MAAO,WAGL,IAFA,IACIlc,EAAMp7C,EAAIsK,KAAK5H,OACZ1C,KAEL,IADAo7C,EAHS9wC,KAGGtK,GACLo7C,EAAKgwC,YACVhwC,EAAKttC,YAAYstC,EAAKgwC,YAG1B,OAAO9gF,MAETmlB,KAAM,SAAU5uB,GACd,IACIb,EADAyR,EAAOnH,KAEX,GAAI0zG,GAAUn9G,GAAQ,CACpBb,EAAIyR,EAAK/O,OACT,IACE,KAAO1C,KACLyR,EAAKzR,GAAGkC,UAAYrB,EAEtB,MAAO2zF,GACPkqB,GAASjtG,EAAKzR,IAAIs3D,QAAQzuB,OAAOhoC,GAEnC,OAAO4Q,EAET,OAAOA,EAAK,GAAKA,EAAK,GAAGvP,UAAY,IAEvCyzD,KAAM,SAAU90D,GACd,IACIb,EADAyR,EAAOnH,KAEX,GAAI0zG,GAAUn9G,GAAQ,CAEpB,IADAb,EAAIyR,EAAK/O,OACF1C,KACD,cAAeyR,EAAKzR,GACtByR,EAAKzR,GAAGu5C,UAAY14C,EAEpB4Q,EAAK,GAAG6nC,YAAcz4C,EAG1B,OAAO4Q,EAET,OAAOA,EAAK,GAAKA,EAAK,GAAG8nC,WAAa9nC,EAAK,GAAG6nC,YAAc,IAE9DzQ,OAAQ,WACN,OAAOy1E,GAAch0G,KAAMzI,WAAW,SAAUu5C,IACxB,IAAlB9wC,KAAKy1C,UAAkBz1C,KAAKikB,MAA+B,IAAvBjkB,KAAKikB,KAAKwxB,WAChDz1C,KAAKsD,YAAYwtC,OAIvB8wC,QAAS,WACP,OAAOoyB,GAAch0G,KAAMzI,WAAW,SAAUu5C,IACxB,IAAlB9wC,KAAKy1C,UAAkBz1C,KAAKikB,MAA+B,IAAvBjkB,KAAKikB,KAAKwxB,WAChDz1C,KAAK0D,aAAaotC,EAAM9wC,KAAK8gF,eAE9B,IAELW,OAAQ,WACN,IAAIt6E,EAAOnH,KACX,OAAImH,EAAK,IAAMA,EAAK,GAAGvD,WACdowG,GAAc7sG,EAAM5P,WAAW,SAAUu5C,GAC9C9wC,KAAK4D,WAAWF,aAAaotC,EAAM9wC,SAGhCmH,GAETw6E,MAAO,WACL,IAAIx6E,EAAOnH,KACX,OAAImH,EAAK,IAAMA,EAAK,GAAGvD,WACdowG,GAAc7sG,EAAM5P,WAAW,SAAUu5C,GAC9C9wC,KAAK4D,WAAWF,aAAaotC,EAAM9wC,KAAKyD,gBACvC,GAEE0D,GAET0uG,SAAU,SAAU5mF,GAElB,OADAmlF,GAASnlF,GAAKsP,OAAOv+B,MACdA,MAETk6D,UAAW,SAAUjrC,GAEnB,OADAmlF,GAASnlF,GAAK2yD,QAAQ5hF,MACfA,MAET81G,YAAa,SAAUtwF,GACrB,OAAOxlB,KAAKyhF,OAAOj8D,GAAS7hB,UAE9BoyG,KAAM,SAAUvwF,GACd,OAAO8uF,GAAOt0G,KAAMwlB,IAEtBwwF,QAAS,SAAUxwF,GACjB,OAAO8uF,GAAOt0G,KAAMwlB,GAAS,IAE/BywF,UAAW,SAAUzwF,GAInB,OAHAxlB,KAAKonD,MAAK,WACRgtD,GAASp0G,MAAMk2G,WAAWF,QAAQxwF,MAE7BxlB,MAET+hF,OAAQ,WACN,OAAO/hF,KAAK6zD,SAASzM,MAAK,WACxBgtD,GAASp0G,MAAM81G,YAAY91G,KAAKsmD,gBAGpCvqD,MAAO,WACL,IAAIyJ,EAAS,GAIb,OAHAxF,KAAKonD,MAAK,WACR5hD,EAAOtN,KAAK8H,KAAKw2D,WAAU,OAEtB49C,GAAS5uG,IAElB0mD,SAAU,SAAUluD,GAClB,OAAOgC,KAAKuzD,YAAYv1D,GAAW,IAErCy1D,YAAa,SAAUz1D,GACrB,OAAOgC,KAAKuzD,YAAYv1D,GAAW,IAErCu1D,YAAa,SAAUv1D,EAAWujB,GAChC,IAAIpa,EAAOnH,KACX,MAAyB,iBAAdhC,KAGqB,IAA5BA,EAAU6I,QAAQ,KACpByuG,GAAOt3G,EAAUtF,MAAM,MAAM,WAC3ByO,EAAKosD,YAAYvzD,KAAMuhB,MAGzBpa,EAAKigD,MAAK,SAAUh/C,EAAO0oC,GACzB,IAAIqlE,EAAaxjD,GAAS7hB,EAAM9yC,GAChC,GAAIm4G,IAAe50F,EAAO,CACxB,IAAI60F,EAAoBtlE,EAAK9yC,UACzBm4G,EACFrlE,EAAK9yC,UAAYq3G,IAAQ,IAAMe,EAAoB,KAAKj9G,QAAQ,IAAM6E,EAAY,IAAK,MAEvF8yC,EAAK9yC,WAAao4G,EAAoB,IAAMp4G,EAAYA,OAdvDmJ,GAqBXwrD,SAAU,SAAU30D,GAClB,OAAO20D,GAAS3yD,KAAK,GAAIhC,IAE3BopD,KAAM,SAAUxoB,GACd,OAAO02E,GAAOt1G,KAAM4+B,IAEtBmY,GAAI,SAAUvuC,EAAMo2B,GAClB,OAAO5+B,KAAKonD,MAAK,WACf5tD,GAAM9C,KAAKsJ,KAAMwI,EAAMo2B,OAG3B0pD,IAAK,SAAU9/E,EAAMo2B,GACnB,OAAO5+B,KAAKonD,MAAK,WACf5tD,GAAM2vG,OAAOnpG,KAAMwI,EAAMo2B,OAG7B35B,QAAS,SAAUuD,GACjB,OAAOxI,KAAKonD,MAAK,WACK,iBAAT5+C,EACThP,GAAMyjE,KAAKj9D,KAAMwI,EAAKjN,KAAMiN,GAE5BhP,GAAMyjE,KAAKj9D,KAAMwI,OAIvBpI,KAAM,WACJ,OAAOJ,KAAK8rD,IAAI,UAAW,KAE7B3rD,KAAM,WACJ,OAAOH,KAAK8rD,IAAI,UAAW,SAE7Bx0D,MAAO,WACL,OAAO88G,GAASb,GAAQv/F,MAAMhU,KAAMzI,aAEtCo4E,GAAI,SAAUvnE,GACZ,OAAkB,IAAXA,EAAepI,KAAK1I,MAAM8Q,GAASpI,KAAK1I,MAAM8Q,GAAQA,EAAQ,IAEvEojB,MAAO,WACL,OAAOxrB,KAAK2vE,GAAG,IAEjB6E,KAAM,WACJ,OAAOx0E,KAAK2vE,IAAI,IAElB1sE,KAAM,SAAU6wD,GACd,IAAIp+D,EAAGC,EACHi0F,EAAM,GACV,IAAKl0F,EAAI,EAAGC,EAAIqK,KAAK5H,OAAQ1C,EAAIC,EAAGD,IAClC0+G,GAASnxG,KAAK6wD,EAAU9zD,KAAKtK,GAAIk0F,GAEnC,OAAOwqB,GAASxqB,IAElBt2E,OAAQ,SAAUwgD,GAChB,OACSsgD,GADe,mBAAbtgD,EACOopB,GAAKl9E,KAAKquD,WAAW,SAAUrU,EAAMtkD,GACnD,OAAOo+D,EAASp+D,EAAGskD,MAGPo6D,GAAS9gG,OAAOwgD,EAAU9zD,KAAKquD,aAEjD4hC,QAAS,SAAUn8B,GACjB,IAAItuD,EAAS,GAgBb,OAfIsuD,aAAoBsgD,KACtBtgD,EAAWA,EAAS,IAEtB9zD,KAAKonD,MAAK,SAAU1xD,EAAGo7C,GACrB,KAAOA,GAAM,CACX,GAAwB,iBAAbgjB,GAAyBsgD,GAAStjE,GAAM2hC,GAAG3e,GAAW,CAC/DtuD,EAAOtN,KAAK44C,GACZ,MACK,GAAIA,IAASgjB,EAAU,CAC5BtuD,EAAOtN,KAAK44C,GACZ,MAEFA,EAAOA,EAAKltC,eAGTwwG,GAAS5uG,IAElBgK,OAAQ,SAAUA,GAChB,IAAI02E,EAAKz7B,EAAKi0B,EACInzD,EAAd3uB,EAAI,EAAGxC,EAAI,EACf,OAAKoV,EAgBExP,KAAK8rD,IAAIt8C,KAfd02E,EAAMlmF,KAAK,MAGT0+E,GADAj0B,EAAMy7B,EAAI7F,eACG/gF,gBACT4mF,EAAIhpF,wBAENN,GADA2uB,EAAM26D,EAAIhpF,yBACFI,MAAQohF,EAAOmE,YAAcp4B,EAAInkD,KAAKu8E,YAAcnE,EAAO4H,WACnElsF,EAAImxB,EAAI/tB,KAAOkhF,EAAOla,WAAa/Z,EAAInkD,KAAKk+D,WAAaka,EAAO6H,YAG7D,CACLjpF,KAAMV,EACNY,IAAKpD,KAKXlC,KAAMo7G,GACNzvF,KAAM3sB,MAAMN,UAAUitB,KACtB/c,OAAQ5P,MAAMN,UAAUkQ,QAE1Bi2E,GAAMjnC,OAAOq/D,GAAqB,CAChCr/D,OAAQinC,GAAMjnC,OACdu+D,UAAW,SAAUx+F,GACnB,OAplBqB+xB,EAolBR/xB,IAnlBD+xB,IAAQA,EAAIzyC,QAmlBA0gB,EAAO4/B,SACtB,CAAC5/B,GAEHknE,GAAM1uB,QAAQx4C,GAvlBV,IAAU+xB,GAylBvBukB,QAnhBc,SAAUnS,EAAM3lC,GAC9B,IAAI3e,EACJ,GAAI2e,EAAMxN,QACR,OAAOwN,EAAMxN,QAAQmzC,GAGvB,IADAtkD,EAAI2e,EAAMjc,OACH1C,KACL,GAAI2e,EAAM3e,KAAOskD,EACf,OAAOtkD,EAGX,OAAQ,GAygBR0B,QAAS2lF,GAAM3lF,QACfgwD,KAAMkuD,GACNz9G,KAAMw9G,GACNn4B,KAAMA,GACNj6E,KAAM2oG,GACNoE,KAAMpE,GAAO8E,UACb6E,OAAQ3J,GAAOyE,WACfhlD,KAAMugD,GAAOzc,QACb/rF,SAAUwoG,GAAOxoG,SACjBkQ,OAAQ,SAAU08F,EAAMzB,EAAOz8B,GAC7B,IAAIp8E,EAAI64G,EAAMn2G,OAId,IAHI05E,IACFk+B,EAAO,QAAUA,EAAO,KAEnBt6G,KACqB,IAAtB64G,EAAM74G,GAAG+/C,UACX84D,EAAMznG,OAAOpR,EAAG,GAQpB,OAJE64G,EADmB,IAAjBA,EAAMn2G,OACAg8G,GAASnxG,KAAKgtG,gBAAgB1B,EAAM,GAAIyB,GAAQ,CAACzB,EAAM,IAAM,GAE7D6F,GAASnxG,KAAKu4E,QAAQw0B,EAAMzB,MAK1C,IAAIzlB,GAAM,SAAUzlF,EAAIwkC,EAAMqsC,GAC5B,IAAIz1D,EAAU,GACVqgE,EAAMz7E,EAAGwkC,GAIb,IAHqB,iBAAVqsC,GAAsBA,aAAiBkgC,KAChDlgC,EAAQA,EAAM,IAET4K,GAAwB,IAAjBA,EAAIrpC,UAAgB,CAChC,QAAcxtC,IAAVisE,EAAqB,CACvB,GAAI4K,IAAQ5K,EACV,MAEF,GAAqB,iBAAVA,GAAsBkgC,GAASt1B,GAAKrM,GAAGyB,GAChD,MAGiB,IAAjB4K,EAAIrpC,UACNh3B,EAAQvmB,KAAK4mF,GAEfA,EAAMA,EAAIj3C,GAEZ,OAAOppB,GAEL43F,GAAY,SAAUvlE,EAAMyjD,EAAa9+C,EAAUy+B,GACrD,IAAI1uE,EAAS,GAIb,IAHI0uE,aAAiBkgC,KACnBlgC,EAAQA,EAAM,IAETpjC,EAAMA,EAAOA,EAAKyjD,GACvB,IAAI9+C,GAAY3E,EAAK2E,WAAaA,EAAlC,CAGA,QAAcxtC,IAAVisE,EAAqB,CACvB,GAAIpjC,IAASojC,EACX,MAEF,GAAqB,iBAAVA,GAAsBkgC,GAAStjE,GAAM2hC,GAAGyB,GACjD,MAGJ1uE,EAAOtN,KAAK44C,GAEd,OAAOtrC,GAEL8wG,GAAe,SAAUxlE,EAAMyjD,EAAa9+C,GAC9C,IAAK3E,EAAOA,EAAKyjD,GAAczjD,EAAMA,EAAOA,EAAKyjD,GAC/C,GAAIzjD,EAAK2E,WAAaA,EACpB,OAAO3E,EAGX,OAAO,MAETwkE,GAAO,CACLzhD,OAAQ,SAAU/iB,GAChB,IAAI+iB,EAAS/iB,EAAKltC,WAClB,OAAOiwD,GAA8B,KAApBA,EAAOpe,SAAkBoe,EAAS,MAErDkvC,QAAS,SAAUjyD,GACjB,OAAOg4C,GAAIh4C,EAAM,eAEnBj/B,KAAM,SAAUi/B,GACd,OAAOwlE,GAAaxlE,EAAM,cAAe,IAE3CmjD,KAAM,SAAUnjD,GACd,OAAOwlE,GAAaxlE,EAAM,kBAAmB,IAE/C74C,SAAU,SAAU64C,GAClB,OAAOulE,GAAUvlE,EAAKgwC,WAAY,cAAe,IAEnDo1B,SAAU,SAAUplE,GAClB,OAAOisC,GAAM1uB,SAA2B,WAAlBvd,EAAKgC,SAAwBhC,EAAKylE,iBAAmBzlE,EAAKxqB,cAAc5uB,SAAWo5C,GAAMwV,eAEhH,SAAU99C,EAAM4M,GACjB+/F,GAAoB//F,GAAG5M,GAAQ,SAAUsrD,GACvC,IACItuD,EAAS,GADFxF,KAENonD,MAAK,WACR,IAAI4+B,EAAQ5wE,EAAGxf,KAAK4P,EAAQxF,KAAM8zD,EAAUtuD,GACxCwgF,IACEouB,GAASh9G,QAAQ4uF,GACnBxgF,EAAOtN,KAAK8b,MAAMxO,EAAQwgF,GAE1BxgF,EAAOtN,KAAK8tF,OAIdhmF,KAAK5H,OAAS,IACXq7G,GAAYjrG,KACfhD,EAAS4uG,GAASmB,OAAO/vG,IAEK,IAA5BgD,EAAK3B,QAAQ,aACfrB,EAASA,EAAOmJ,YAGpB,IAAI6nG,EAAgBpC,GAAS5uG,GAC7B,OAAIsuD,EACK0iD,EAAcljG,OAAOwgD,GAEvB0iD,MAGXlB,GAAO,CACLmB,aAAc,SAAU3lE,EAAMojC,GAC5B,OAAO4U,GAAIh4C,EAAM,aAAcojC,IAEjCwiC,UAAW,SAAU5lE,EAAMojC,GACzB,OAAOmiC,GAAUvlE,EAAM,cAAe,EAAGojC,GAAO58E,MAAM,IAExDq/G,UAAW,SAAU7lE,EAAMojC,GACzB,OAAOmiC,GAAUvlE,EAAM,kBAAmB,EAAGojC,GAAO58E,MAAM,MAE3D,SAAUkR,EAAM4M,GACjB+/F,GAAoB//F,GAAG5M,GAAQ,SAAUsrD,EAAUxgD,GACjD,IACI9N,EAAS,GADFxF,KAENonD,MAAK,WACR,IAAI4+B,EAAQ5wE,EAAGxf,KAAK4P,EAAQxF,KAAM8zD,EAAUtuD,GACxCwgF,IACEouB,GAASh9G,QAAQ4uF,GACnBxgF,EAAOtN,KAAK8b,MAAMxO,EAAQwgF,GAE1BxgF,EAAOtN,KAAK8tF,OAIdhmF,KAAK5H,OAAS,IAChBoN,EAAS4uG,GAASmB,OAAO/vG,GACO,IAA5BgD,EAAK3B,QAAQ,YAA6B,cAAT2B,IACnChD,EAASA,EAAOmJ,YAGpB,IAAI6nG,EAAgBpC,GAAS5uG,GAC7B,OAAI8N,EACKkjG,EAAcljG,OAAOA,GAEvBkjG,MAGXrB,GAAoB//F,GAAGq9D,GAAK,SAAU3e,GACpC,QAASA,GAAY9zD,KAAKsT,OAAOwgD,GAAU17D,OAAS,GAEtD+8G,GAAoB//F,GAAGnV,KAAKrJ,UAAYu+G,GAAoB//F,GAC5D+/F,GAAoByB,iBAAmB,SAAUh4E,GAC/C,IAAIi4E,EACAC,EAAM,SAAUhjD,EAAU+3C,GAQ5B,OAPAgL,EAAWA,GAAYj4E,IACE,IAArBrnC,UAAUa,SACZ07D,EAAW+iD,EAAS55G,SAEjB4uG,IACHA,EAAUgL,EAAShL,SAEd,IAAIiL,EAAI1hG,GAAGnV,KAAK6zD,EAAU+3C,IAGnC,OADAuI,GAASt+D,OAAOghE,EAAK92G,MACd82G,GAET3B,GAAoBF,UAAYA,GAChCE,GAAoBD,SAAWA,GAC/B,IAAId,GAAWe,GAEX4B,GAASh6B,GAAM31B,KACf4vD,GAASj6B,GAAMG,KACfjE,GAAO8C,GAAIzC,GACX29B,GAAmB,mBA2CnBC,GAA0B,SAAUna,EAAQoa,GAC9C,IAAIC,EAAWD,EAAK9pD,KAAK,SACrB92D,EAAQwmG,EAAO3/D,UAAU2/D,EAAOl5C,MAAMuzD,GAAWD,EAAK,GAAGrkE,UACxDv8C,IACHA,EAAQ,MAEV4gH,EAAK9pD,KAAK,iBAAkB92D,IAE1B8gH,GAAgB,SAAUvmE,EAAMvN,GAClC,IAAa+zE,EAAc7hE,EAAvB67D,EAAM,EACV,GAAIxgE,EACF,IAAKwmE,EAAexmE,EAAK2E,SAAU3E,EAAOA,EAAK4vC,gBAAiB5vC,EAAMA,EAAOA,EAAK4vC,gBAChFjrC,EAAW3E,EAAK2E,WACZlS,GAA2B,IAAbkS,GACZA,IAAa6hE,GAAiBxmE,EAAK2/D,UAAUr4G,UAInDk5G,IACAgG,EAAe7hE,GAGnB,OAAO67D,GAELiG,GAAW,SAAU9sD,EAAKinC,QACX,IAAbA,IACFA,EAAW,IAEb,IAAI8lB,EAAc,GACdhtD,EAAMr1D,OACN04C,EAAQ,GACR7gB,EAAU,EAGVyqF,EAAmBrmF,GAASwzB,WAAWs5B,GAAaF,QAAQvzB,GAAM,CACpEooC,eAAgBnB,EAASmB,eACzBC,eAAgBpB,EAASoB,iBAEvB4kB,EAAc,GACd5Z,EAASpM,EAASoM,OAASpM,EAASoM,OAASd,GAAO,IACpDD,EAASqH,GAAO,CAClBU,cAAepT,EAASoT,cACxBE,oBAAqBtT,EAASsT,qBAC7BtT,EAASoM,QACRhnD,EAAS46C,EAASimB,UAAY,IAAItP,GAAeA,GAAW7uG,MAC5D+lG,EAAmBzB,EAAOsF,mBAC1BnnG,EAAIm4G,GAASwC,kBAAiB,WAChC,MAAO,CACL/K,QAASphD,EACTxtD,QAASkK,EAAKywG,cAcdzhH,EAAM,SAAU+vF,GAClB,OAAOA,GAAOz7B,GAAOmmB,EAASsV,GAAOz7B,EAAI0hD,eAAejmB,GAAOA,GAE7D2xB,EAAK,SAAU3xB,GACjB,OAAOjqF,EAAiB,iBAARiqF,EAAmB/vF,EAAI+vF,GAAOA,IAE5C4xB,EAAY,SAAU5xB,EAAK19E,EAAMuvG,GACnC,IAAIvC,EAAMj/G,EACN4gH,EAAOU,EAAG3xB,GAYd,OAXIixB,EAAK/+G,SAGL7B,GAFFi/G,EAAOP,EAAUzsG,KACLgtG,EAAKr/G,IACPq/G,EAAKr/G,IAAIghH,EAAM3uG,GAEf2uG,EAAK9pD,KAAK7kD,SAGD,IAAVjS,IACTA,EAAQwhH,GAAc,IAEjBxhH,GAELyhH,EAAa,SAAU9xB,GACzB,IAAIp1C,EAAO36C,EAAI+vF,GACf,OAAKp1C,EAGEA,EAAKpT,WAFH,IAIPu6E,EAAY,SAAU/xB,EAAK19E,EAAMjS,GACrB,KAAVA,IACFA,EAAQ,MAEV,IAAI4gH,EAAOU,EAAG3xB,GACVgyB,EAAgBf,EAAK9pD,KAAK7kD,GAC9B,GAAK2uG,EAAK/+G,OAAV,CAGA,IAAIo9G,EAAOP,EAAUzsG,GACjBgtG,GAAQA,EAAK3oG,IACf2oG,EAAK3oG,IAAIsqG,EAAM5gH,EAAOiS,GAEtB2uG,EAAK9pD,KAAK7kD,EAAMjS,GAEd2hH,IAAkB3hH,GAASm7F,EAASymB,aACtCzmB,EAASymB,YAAY,CACnBC,QAASjB,EACTt9C,SAAUrxD,EACVwmF,UAAWz4F,MAebqhH,EAAU,WACZ,OAAOlmB,EAAS2mB,cAAgB5tD,EAAInkD,MAWlCgyG,EAAW,SAAUpyB,EAAKE,GAC5B,OAAOD,GAAO17B,EAAInkD,KAAMnQ,EAAI+vF,GAAME,IAchCmyB,EAAW,SAAUryB,EAAK19E,EAAMw7E,GAClC,IAAImzB,EAAOU,EAAG3xB,GACd,OAAIlC,EACKmzB,EAAKrrD,IAAItjD,IAKL,WAHbA,EAAOA,EAAKrP,QAAQ,UAAU,SAAU3B,EAAG0C,GACzC,OAAOA,EAAE4B,oBAGT0M,EAAOuzE,GAAIrE,QAAQuB,OAAS,aAAe,YAEtCk+B,EAAK,IAAMA,EAAK,GAAGz5G,MAAQy5G,EAAK,GAAGz5G,MAAM8K,QAAQP,IAEtDuwG,EAAU,SAAUtyB,GACtB,IAAI3rF,EAAGZ,EAUP,OATAusF,EAAM/vF,EAAI+vF,GACV3rF,EAAIg+G,EAASryB,EAAK,SAClBvsF,EAAI4+G,EAASryB,EAAK,WACO,IAArB3rF,EAAEsM,QAAQ,QACZtM,EAAI,IAEmB,IAArBZ,EAAEkN,QAAQ,QACZlN,EAAI,GAEC,CACLY,EAAGG,SAASH,EAAG,KAAO2rF,EAAIvoF,aAAeuoF,EAAIhvB,YAC7Cv9D,EAAGe,SAASf,EAAG,KAAOusF,EAAItoF,cAAgBsoF,EAAI9xB,eAc9Cqe,EAAK,SAAUyT,EAAKpyB,GACtB,IAAIp+D,EACJ,IAAKwwF,EACH,OAAO,EAET,IAAKhvF,MAAME,QAAQ8uF,GAAM,CACvB,GAAiB,MAAbpyB,EACF,OAAwB,IAAjBoyB,EAAIzwC,SAEb,GAAIwhE,GAAiB77G,KAAK04D,GAAW,CACnC,IAAI48C,EAAY58C,EAASl5D,cAAclC,MAAM,KACzCkpG,EAAU1b,EAAIpzC,SAASl4C,cAC3B,IAAKlF,EAAIg7G,EAAUt4G,OAAS,EAAG1C,GAAK,EAAGA,IACrC,GAAIg7G,EAAUh7G,KAAOksG,EACnB,OAAO,EAGX,OAAO,EAET,GAAI1b,EAAIzwC,UAA6B,IAAjBywC,EAAIzwC,SACtB,OAAO,EAGX,IAAIgjE,EAAQvhH,MAAME,QAAQ8uF,GAAeA,EAAR,CAACA,GAClC,OAAO0lB,GAAO93C,EAAU2kD,EAAK,GAAGp4B,eAAiBo4B,EAAK,GAAI,KAAMA,GAAMrgH,OAAS,GAE7EsgH,EAAa,SAAUxyB,EAAKpyB,EAAUvwD,EAAMo1G,GAC9C,IACIC,EADApzG,EAAS,GAETsrC,EAAO36C,EAAI+vF,GAef,IAdAyyB,OAAsB1wG,IAAZ0wG,EACVp1G,EAAOA,IAAgC,SAAvBq0G,IAAU9kE,SAAsB8kE,IAAUh0G,WAAa,MACnEm5E,GAAMtK,GAAG3e,EAAU,YACrB8kD,EAAc9kD,EAEZA,EADe,MAAbA,EACS,SAAUhjB,GACnB,OAAyB,IAAlBA,EAAK2E,UAGH,SAAU3E,GACnB,OAAO2hC,EAAG3hC,EAAM8nE,KAIf9nE,KACDA,IAASvtC,GAAQytE,EAAWlgC,EAAK2E,WAAa8uC,GAAazzC,IAAS0zC,GAAqB1zC,KADlF,CAIX,IAAKgjB,GAAgC,mBAAbA,GAA2BA,EAAShjB,GAAO,CACjE,IAAI6nE,EAGF,MAAO,CAAC7nE,GAFRtrC,EAAOtN,KAAK44C,GAKhBA,EAAOA,EAAKltC,WAEd,OAAO+0G,EAAUnzG,EAAS,MAMxBqzG,EAAW,SAAU/nE,EAAMgjB,EAAUtrD,GACvC,IAAIuoF,EAAOj9B,EACX,GAAIhjB,EAMF,IALwB,iBAAbgjB,IACTi9B,EAAO,SAAUjgD,GACf,OAAO2hC,EAAG3hC,EAAMgjB,KAGfhjB,EAAOA,EAAKtoC,GAAOsoC,EAAMA,EAAOA,EAAKtoC,GACxC,GAAoB,mBAATuoF,GAAuBA,EAAKjgD,GACrC,OAAOA,EAIb,OAAO,MAWLg3C,EAAM,SAAU5B,EAAK6K,EAAM3S,GAC7B,IAAI54E,EACAsrC,EAAsB,iBAARo1C,EAAmB/vF,EAAI+vF,GAAOA,EAChD,IAAKp1C,EACH,OAAO,EAET,GAAIisC,GAAM3lF,QAAQ05C,KAAUA,EAAK14C,QAA0B,IAAhB04C,EAAK14C,QAO9C,OANAoN,EAAS,GACTuxG,GAAOjmE,GAAM,SAAUo1C,EAAKxwF,GACtBwwF,GACF1gF,EAAOtN,KAAK64F,EAAKn7F,KAAKwoF,EAAsB,iBAAR8H,EAAmB/vF,EAAI+vF,GAAOA,EAAKxwF,OAGpE8P,EAET,IAAIqmG,EAAUztB,GAAgBp+E,KAC9B,OAAO+wF,EAAKn7F,KAAKi2G,EAAS/6D,IAExBgoE,EAAa,SAAU5yB,EAAKhB,GAC9B2yB,EAAG3xB,GAAK9+B,MAAK,SAAU1xD,EAAGo7C,GACxBimE,GAAO7xB,GAAO,SAAU3uF,EAAOiS,GAC7ByvG,EAAUnnE,EAAMtoC,EAAMjS,UAIxBwiH,EAAU,SAAU7yB,EAAK/gE,GAC3B,IAAIgyF,EAAOU,EAAG3xB,GACVjN,GACFk+B,EAAK/vD,MAAK,SAAU1xD,EAAG6C,GACrB,IAA2B,IAAvBA,EAAOygH,YAAX,CAGA,KAAOzgH,EAAOuoF,YACZvoF,EAAOiL,YAAYjL,EAAOuoF,YAE5B,IACEvoF,EAAOX,UAAY,OAASutB,EAC5B5sB,EAAOiL,YAAYjL,EAAOuoF,YAC1B,MAAOoJ,GACPkqB,GAAS,eAAejvF,KAAK,OAASA,GAAM+wF,WAAW5+G,MAAM,GAAGu+G,SAASt9G,GAE3E,OAAO4sB,MAGTgyF,EAAKhyF,KAAKA,IAGVhiB,EAAM,SAAU81G,EAAWzwG,EAAM08E,EAAO//D,EAAM1uB,GAChD,OAAOqxF,EAAImxB,GAAW,SAAUA,GAC9B,IAAIC,EAAyB,iBAAT1wG,EAAoBiiD,EAAI9yD,cAAc6Q,GAAQA,EASlE,OARAswG,EAAWI,EAAQh0B,GACf//D,IACkB,iBAATA,GAAqBA,EAAKswB,SACnCyjE,EAAO51G,YAAY6hB,GACM,iBAATA,GAChB4zF,EAAQG,EAAQ/zF,IAGZ1uB,EAAyCyiH,EAAhCD,EAAU31G,YAAY41G,OAGvCziH,EAAS,SAAU+R,EAAM08E,EAAO//D,GAClC,OAAOhiB,EAAIsnD,EAAI9yD,cAAc6Q,GAAOA,EAAM08E,EAAO//D,GAAM,IAGrDyH,EAASmvE,GAASC,aA4BlBr4F,EAAS,SAAUmtC,EAAMqoE,GAC3B,IAAIC,EAAQvB,EAAG/mE,GAef,OAdIqoE,EACFC,EAAMhyD,MAAK,WAET,IADA,IAAItY,EACGA,EAAQ9uC,KAAK8gF,YACK,IAAnBhyC,EAAM2G,UAAwC,IAAtB3G,EAAMzsB,KAAKjqB,OACrC4H,KAAKwD,YAAYsrC,GAEjB9uC,KAAK4D,WAAWF,aAAaorC,EAAO9uC,SAGvC2D,SAEHy1G,EAAMz1G,SAEDy1G,EAAMhhH,OAAS,EAAIghH,EAAM/qD,UAAY+qD,EAAM,IAoDhD7lD,EAAc,SAAU2yB,EAAKmzB,EAAK93F,GACpCs2F,EAAG3xB,GAAK3yB,YAAY8lD,EAAK93F,GAAO6lC,MAAK,WACZ,KAAnBpnD,KAAKhC,WACPo2G,GAASp0G,MAAMqtD,KAAK,QAAS,UAsD/Bl0D,EAAU,SAAU+/G,EAAQI,EAAQH,GACtC,OAAOrxB,EAAIwxB,GAAQ,SAAUA,GAS3B,OARIv8B,GAAMtK,GAAG6mC,EAAQ,WACnBJ,EAASA,EAAO1iD,WAAU,IAExB2iD,GACFpC,GAAOC,GAAOsC,EAAOhzD,aAAa,SAAUxV,GAC1CooE,EAAO51G,YAAYwtC,MAGhBwoE,EAAO11G,WAAWC,aAAaq1G,EAAQI,OAkC9CC,EAAoB,SAAUzoE,GAChC,GAAI8yC,GAAY9yC,GAAO,CACrB,IAAIknD,EAAgD,MAAhClnD,EAAKgC,SAASl4C,gBAA0Bk9G,EAAUhnE,EAAM,SAAWgnE,EAAUhnE,EAAM,MACvG,GAAIgnE,EAAUhnE,EAAM,SAAWgnE,EAAUhnE,EAAM,sBAAwBknD,EACrE,OAAO,EAGX,OAAO,GA+CLwhB,EAAY,WACd,OAAO/uD,EAAIgvD,eA2BT/iH,EAAO,SAAU6B,EAAQiQ,EAAMuoF,EAAM3S,GACvC,GAAIrB,GAAM3lF,QAAQmB,GAAS,CAGzB,IAFA,IAAI7C,EAAI6C,EAAOH,OACXshH,EAAK,GACFhkH,KACLgkH,EAAGhkH,GAAKgB,EAAK6B,EAAO7C,GAAI8S,EAAMuoF,EAAM3S,GAEtC,OAAOs7B,EAWT,OATIhoB,EAASinB,SAAYpgH,IAAWkyD,GAAOlyD,IAAWiyD,GACpDktD,EAAYx/G,KAAK,CACfK,EACAiQ,EACAuoF,EACA3S,IAGStnC,EAAOpgD,KAAK6B,EAAQiQ,EAAMuoF,EAAM3S,GAASj3E,IAGpDgiG,EAAS,SAAU5wG,EAAQiQ,EAAMuoF,GACnC,GAAIhU,GAAM3lF,QAAQmB,GAAS,CAGzB,IAFA,IAAI7C,EAAI6C,EAAOH,OACXshH,EAAK,GACFhkH,KACLgkH,EAAGhkH,GAAKyzG,EAAO5wG,EAAO7C,GAAI8S,EAAMuoF,GAElC,OAAO2oB,EAEP,GAAIhC,EAAYt/G,OAAS,IAAMG,IAAWkyD,GAAOlyD,IAAWiyD,GAE1D,IADI90D,EAAIgiH,EAAYt/G,OACb1C,KAAK,CACV,IAAIskD,EAAO09D,EAAYhiH,GACnB6C,IAAWyhD,EAAK,IAAQxxC,GAAQA,IAASwxC,EAAK,IAAS+2C,GAAQA,IAAS/2C,EAAK,IAC/ElD,EAAOqyD,OAAOnvD,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAI3C,OAAOlD,EAAOqyD,OAAO5wG,EAAQiQ,EAAMuoF,IAMnC4oB,EAAqB,SAAU7oE,GACjC,GAAIA,GAAQ8yC,GAAY9yC,GAAO,CAC7B,IAAIqrC,EAAkBrrC,EAAK/4C,aAAa,4BACxC,OAAIokF,GAAuC,YAApBA,EACdA,EAEuB,YAAzBrrC,EAAKqrC,gBAAgCrrC,EAAKqrC,gBAAkB,KAEnE,OAAO,MA0CPh1E,EAAO,CACTsjD,IAAKA,EACLinC,SAAUA,EACVlnC,IAAKA,EACL3c,MAAOA,EACP+rE,SAprBY,EAqrBZC,UAprBa,EAqrBbpC,iBAAkBA,EAClBC,YAAaA,EACb3a,OAAQA,EACRe,OAAQA,EACRhnD,OAAQA,EACR89C,QAvqBY,SAAU9jD,GACtB,GAAoB,iBAATA,EACT,QAASyuD,EAAiBzuD,GACrB,GAAIA,EAAM,CACf,IAAIv1C,EAAOu1C,EAAK2E,SAChB,GAAIl6C,EACF,QAAmB,IAATA,IAAcgkG,EAAiBzuD,EAAKgC,WAGlD,OAAO,GA+pBP72C,EAAGA,EACH47G,GAAIA,EACJt0G,KAAM,KACNxH,MA5mBU,SAAU+0C,EAAMgpE,GAC1B,IAAK7gC,IAA0B,IAAlBnoC,EAAK2E,UAAkBqkE,EAClC,OAAOhpE,EAAK0lB,UAAUsjD,GAEtB,IAAIC,EAAUtvD,EAAI9yD,cAAcm5C,EAAKgC,UAIrC,OAHAikE,GAAOiB,EAAWlnE,IAAO,SAAUuc,GACjC4qD,EAAU8B,EAAS1sD,EAAKva,SAAUglE,EAAUhnE,EAAMuc,EAAKva,cAElDinE,GAqmBTnC,QAASA,EACToC,YAhmBgB,SAAUC,GAC1B,IAAIC,EAAK/2B,GAAU82B,GACnB,MAAO,CACLr9G,EAAGs9G,EAAGt9G,EACNxC,EAAG8/G,EAAG9/G,EACNG,EAAG2/G,EAAG38G,MACN5D,EAAGugH,EAAGz8G,SA2lBR08G,QA5iBY,SAAUj0B,GACtBA,EAAM/vF,EAAI+vF,GACV,IAAI36D,EAAM+sF,EAASpyB,GACfx6D,EAAO8sF,EAAQtyB,GACnB,MAAO,CACLtpF,EAAG2uB,EAAI3uB,EACPxC,EAAGmxB,EAAInxB,EACPG,EAAGmxB,EAAKnxB,EACRZ,EAAG+xB,EAAK/xB,IAqiBV6+G,QAASA,EACT4B,UAxec,SAAUtpE,EAAMgjB,EAAUvwD,GACxC,IAAIw/F,EAAU2V,EAAW5nE,EAAMgjB,EAAUvwD,GAAM,GAC/C,OAAOw/F,GAAWA,EAAQ3qG,OAAS,EAAI2qG,EAAQ,GAAK,MAuepD2V,WAAYA,EACZviH,IAAKA,EACLkkH,QAvdY,SAAUvpE,EAAMgjB,GAC5B,OAAO+kD,EAAS/nE,EAAMgjB,EAAU,gBAudhCwmD,QArdY,SAAUxpE,EAAMgjB,GAC5B,OAAO+kD,EAAS/nE,EAAMgjB,EAAU,oBAqdhCsB,OAndW,SAAUtB,EAAUsqB,GAC/B,OAAOwtB,GAAO93C,EAAU39D,EAAIioF,IAAUsT,EAAS2mB,cAAgB5tD,EAAK,KAmdpEgoB,GAAIA,EACJtvE,IAAKA,EACL1M,OAAQA,EACR8jH,WAlZe,SAAU/xG,EAAM08E,EAAO//D,GACtC,IAAkB5oB,EAAdi+G,EAAU,GAEd,IAAKj+G,KADLi+G,GAAW,IAAMhyG,EACL08E,EACNA,EAAMruF,eAAe0F,IAAuB,OAAf2oF,EAAM3oF,SAAuC,IAAf2oF,EAAM3oF,KACnEi+G,GAAW,IAAMj+G,EAAM,KAAOqwB,EAAOs4D,EAAM3oF,IAAQ,KAGvD,YAAoB,IAAT4oB,EACFq1F,EAAU,IAAMr1F,EAAO,KAAO3c,EAAO,IAEvCgyG,EAAU,OAwYjB5G,eAtYmB,SAAUzuF,GAC7B,IAAI2rB,EACAzxC,EAAYorD,EAAI9yD,cAAc,OAC9Bm8G,EAAOrpD,EAAIspD,yBAKf,IAJAD,EAAKxwG,YAAYjE,GACb8lB,IACF9lB,EAAUzH,UAAYutB,GAEjB2rB,EAAOzxC,EAAUyhF,YACtBgzB,EAAKxwG,YAAYwtC,GAGnB,OADAgjE,EAAKtwG,YAAYnE,GACVy0G,GA2XPnwG,OAAQA,EACRiwD,SAnmBa,SAAUsyB,EAAK19E,EAAMjS,GAClC,IAAI4gH,EAAOvmC,EAASpoE,GAAQqvG,EAAG3xB,GAAKp6B,IAAItjD,EAAMjS,GAASshH,EAAG3xB,GAAKp6B,IAAItjD,GAC/DkpF,EAAS+oB,eACXvD,GAAwBna,EAAQoa,IAimBlCoB,SAAUA,EACVmC,UA/lBc,SAAUx0B,EAAKy0B,GAC7B,IAAIxD,EAAOU,EAAG3xB,GAAKp6B,IAAI6uD,GACnBjpB,EAAS+oB,eACXvD,GAAwBna,EAAQoa,IA6lBlCyD,iBA3WqB,SAAUrlH,GAC/B,OAAOuyF,EAAIvyF,GAAG,SAAUA,GACtB,IAAIG,EACAwvF,EAAQ3vF,EAAEmoC,WACd,IAAKhoC,EAAIwvF,EAAM9sF,OAAS,EAAG1C,GAAK,EAAGA,IACjCH,EAAEslH,oBAAoB31B,EAAMlrC,KAAKtkD,QAuWrCuiH,UAAWA,EACXa,WAAYA,EACZhB,UAAWA,EACX3xB,OAAQmyB,EACRwC,WAvWe,SAAUrrC,GACzB,OAAOstB,EAAOl5C,MAAM4rB,IAuWpBsrC,eArWmB,SAAUJ,EAAWnyG,GACxC,OAAOu0F,EAAO3/D,UAAUu9E,EAAWnyG,IAqWnCwyG,SAnWa,SAAUvrC,GACvB,IAAIplB,EAAM4wD,EACV,GAAI9zG,IAASowG,GAAS2D,KAAOzwD,IAAQ/yD,SAAU,CAC7C,GAAI8/G,EAAY/nC,GACd,OAEF+nC,EAAY/nC,IAAW,GAEzBwrC,EAAWxwD,EAAI0hD,eAAe,wBAE5B8O,EAAWxwD,EAAI9yD,cAAc,UACpB45B,GAAK,mBACd0pF,EAAS1/G,KAAO,YAChB8uD,EAAOI,EAAI5b,qBAAqB,QAAQ,IAC/BiyC,WACPz2B,EAAK3mD,aAAau3G,EAAU5wD,EAAKy2B,YAEjCz2B,EAAK/mD,YAAY23G,IAGjBA,EAASzrC,WACXyrC,EAASzrC,WAAWC,SAAWA,EAE/BwrC,EAAS33G,YAAYmnD,EAAI+zB,eAAe/O,KA6U1C0rC,QA1UY,SAAUhoB,GACjBA,IACHA,EAAO,IAET/rC,EAAK+rC,EAAKz6F,MAAM,MAAM,SAAU8qB,GAC9BqqB,EAAMrqB,IAAO,EACbi0F,EAAiB1lB,KAAKvuE,EAAK4tD,OAqU7BllB,SA3Ta,SAAUg6B,EAAKmzB,GAC5BxB,EAAG3xB,GAAKh6B,SAASmtD,IA2TjB5lD,YAzTgB,SAAUyyB,EAAKmzB,GAC/B9lD,EAAY2yB,EAAKmzB,GAAK,IAyTtB1mD,SAvTa,SAAUuzB,EAAKmzB,GAC5B,OAAOxB,EAAG3xB,GAAKvzB,SAAS0mD,IAuTxB9lD,YAAaA,EACbnzD,KAtTS,SAAU8lF,GACnB2xB,EAAG3xB,GAAK9lF,QAsTRD,KApTS,SAAU+lF,GACnB2xB,EAAG3xB,GAAK/lF,QAoTRi7G,SAlTa,SAAUl1B,GACvB,MAAkC,SAA3B2xB,EAAG3xB,GAAKp6B,IAAI,YAkTnBuvD,SAhTa,SAAUvrD,GACvB,OAASA,GAAS,QAAmB9iC,KAgTrC+rF,QAASA,EACTuC,aA/SiB,SAAUp1B,GAC3B,IAAIp1C,EAAsB,iBAARo1C,EAAmB/vF,EAAI+vF,GAAOA,EAChD,OAAOtC,GAAY9yC,GAAQA,EAAK87B,UAAYwnC,GAAS,eAAe71E,OAAO61E,GAAStjE,GAAM/0C,SAASopB,QA8SnGo2F,aA5SiB,SAAUr1B,EAAK/gE,GAChC0yF,EAAG3xB,GAAK9+B,MAAK,WACX,IACE,GAAI,cAAepnD,KAEjB,YADAA,KAAK4sE,UAAYznD,GAGnB,MAAO+kE,IAETvmF,EAAOywG,GAASp0G,MAAMmlB,KAAKA,IAAO,OAoSpCm3E,OA9aWP,GAASO,OA+apB1vE,OAAQA,EACR4uF,YAnSgB,SAAU1qE,EAAM5xC,GAChC,IAAIu8G,EAAgBtlH,EAAI+I,GACxB,OAAO4oF,EAAIh3C,GAAM,SAAUA,GACzB,IAAI+iB,EAAS4nD,EAAc73G,WACvBH,EAAcg4G,EAAch4G,YAMhC,OALIA,EACFowD,EAAOnwD,aAAaotC,EAAMrtC,GAE1BowD,EAAOvwD,YAAYwtC,GAEdA,MA0RT33C,QAASA,EACTuiH,OA3QW,SAAUx1B,EAAK19E,GAC1B,IAAI0wG,EAQJ,OAPIhzB,EAAIpzC,WAAatqC,EAAK1M,gBACxBo9G,EAASziH,EAAO+R,GAChBuuG,GAAOiB,EAAW9xB,IAAM,SAAUy1B,GAChC1D,EAAUiB,EAAQyC,EAAS7oE,SAAUglE,EAAU5xB,EAAKy1B,EAAS7oE,cAE/D35C,EAAQ+/G,EAAQhzB,GAAK,IAEhBgzB,GAAUhzB,GAmQjB01B,mBAjQuB,SAAUpkH,EAAG0C,GAEpC,IADA,IAAY2hH,EAARC,EAAKtkH,EACFskH,GAAI,CAET,IADAD,EAAK3hH,EACE2hH,GAAMC,IAAOD,GAClBA,EAAKA,EAAGj4G,WAEV,GAAIk4G,IAAOD,EACT,MAEFC,EAAKA,EAAGl4G,WAEV,OAAKk4G,GAAMtkH,EAAE6oF,cACJ7oF,EAAE6oF,cAAc/gF,gBAElBw8G,GAmPP3X,MAjPU,SAAU4X,GACpB,OAAOhf,EAAOoH,MAAMpnB,GAAMllF,KAAKkkH,KAiP/Bj0B,IAAKA,EACLkwB,WAAYA,EACZ5f,QAxOY,SAAUtnD,EAAM7yC,GAC5B,IAAI1C,EAAMiN,EAAM+vF,EAAU,EAC1B,GAAIghB,EAAkBzoE,GACpB,OAAO,EAGT,GADAA,EAAOA,EAAKgwC,WACF,CACR,IAAI0X,EAAS,IAAI1E,GAAchjD,EAAMA,EAAKltC,YACtCoqB,EAAa8vE,EAASA,EAAO+F,wBAA0B,GAC3D5lG,EAAWA,IAAa6/F,EAASA,EAAO6F,sBAAwB,MAChE,EAAG,CAED,GADApoG,EAAOu1C,EAAK2E,SACRmuC,GAAY9yC,GAAO,CACrB,IAAIkrE,EAAWlrE,EAAK/4C,aAAa,kBACjC,GAAIikH,EAAU,CACZlrE,EAAO0nD,EAAO3mF,KAAkB,QAAbmqG,GACnB,SAGF,GADAxzG,EAAOsoC,EAAKgC,SAASl4C,cACjBqD,GAAYA,EAASuK,GAAO,CAC9B,GAAa,OAATA,EAAe,CACjB+vF,IACAznD,EAAO0nD,EAAO3mF,OACd,SAEF,OAAO,EAET,GAAI0nG,EAAkBzoE,GACpB,OAAO,EAGX,GAAa,IAATv1C,EACF,OAAO,EAET,GAAa,IAATA,IAAeo8F,GAAiB7mD,EAAK2/D,WACvC,OAAO,EAET,GAAa,IAATl1G,GAAcu1C,EAAKltC,YAAcoqB,EAAW8iB,EAAKltC,WAAWkvC,WAAa6kD,GAAiB7mD,EAAK2/D,WACjG,OAAO,EAET3/D,EAAO0nD,EAAO3mF,aACPi/B,GAEX,OAAOynD,GAAW,GA8LlBihB,UAAWA,EACXrI,UAAWkG,GACX3+G,MA3LU,SAAUugH,EAAWgD,EAAUC,GACzC,IACIC,EACAC,EACAx4G,EAHAwvD,EAAQomD,IAIZ,GAAIP,GAAagD,EAiBf,OAhBA7oD,EAAMipD,SAASpD,EAAUr1G,WAAYyzG,GAAc4B,IACnD7lD,EAAMkpD,OAAOL,EAASr4G,WAAYyzG,GAAc4E,IAChDE,EAAiB/oD,EAAMmpD,mBACvBnpD,EAAQomD,KACF6C,SAASJ,EAASr4G,WAAYyzG,GAAc4E,GAAY,GAC9D7oD,EAAMkpD,OAAOrD,EAAUr1G,WAAYyzG,GAAc4B,GAAa,GAC9DmD,EAAgBhpD,EAAMmpD,mBACtB34G,EAAaq1G,EAAUr1G,YACZF,aAAau1F,GAAS9xF,EAAMg1G,GAAiBlD,GACpDiD,EACFt4G,EAAWF,aAAaw4G,EAAgBjD,GAExCr1G,EAAWF,aAAau4G,EAAUhD,GAEpCr1G,EAAWF,aAAau1F,GAAS9xF,EAAMi1G,GAAgBnD,GACvDt1G,EAAOs1G,GACAiD,GAAkBD,GAsK3BvlH,KAAMA,EACNyyG,OAAQA,EACRlsC,KA5HS,SAAU1kE,EAAQiQ,EAAMwhC,GACjC,OAAO8M,EAAOmmB,KAAK1kE,EAAQiQ,EAAMwhC,IA4HjC2vE,mBAAoBA,EACpB6C,yBAhH6B,SAAU1rE,GAGvC,IAFA,IAAIvtC,EAAOq0G,IACPr2F,EAAQ,KACLuvB,GAAQA,IAASvtC,GAER,QADdge,EAAQo4F,EAAmB7oE,IADCA,EAAOA,EAAKltC,YAM1C,OAAO2d,GAwGPljB,QAtGY,WACZ,GAAIq5G,EAAYt/G,OAAS,EAEvB,IADA,IAAI1C,EAAIgiH,EAAYt/G,OACb1C,KAAK,CACV,IAAIskD,EAAO09D,EAAYhiH,GACvBohD,EAAOqyD,OAAOnvD,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAGzC06B,GAAO7mC,GAAO,SAAUxzC,EAAGmpB,GACzBi0F,EAAiBzkB,OAAOxvE,UACjBqqB,EAAMrqB,MAEXooF,GAAOlc,aACTkc,GAAOlc,eA0FT+sB,UAvFc,SAAU3rE,EAAM+iB,GAC9B,KAAO/iB,GAAM,CACX,GAAI+iB,IAAW/iB,EACb,OAAO,EAETA,EAAOA,EAAKltC,WAEd,OAAO,GAiFP84G,QA/EY,SAAUtmH,GACtB,MAAO,mBAAqBA,EAAEumH,eAAe7pE,SAAW,kBAAoB18C,EAAEwmH,YAAc,mBAAqBxmH,EAAEymH,aAAa/pE,SAAW,gBAAkB18C,EAAE0mH,YAgF7J7H,EAv0Be,SAAUlY,EAAQrL,EAAU72F,GAC/C,IAAIkiH,EAAarrB,EAASsrB,YACtBC,EAAc,CAChBpwG,IAAK,SAAUsqG,EAAM5gH,EAAOiS,GACtBkpF,EAASoT,gBACXvuG,EAAQm7F,EAASoT,cAAclvG,KAAK87F,EAASsT,qBAAuBnqG,IAActE,EAAOiS,EAAM2uG,EAAK,KAEtGA,EAAK9pD,KAAK,YAAc7kD,EAAMjS,GAAO82D,KAAK7kD,EAAMjS,IAElDJ,IAAK,SAAUghH,EAAM3uG,GACnB,OAAO2uG,EAAK9pD,KAAK,YAAc7kD,IAAS2uG,EAAK9pD,KAAK7kD,KAGlDysG,EAAY,CACdv3G,MAAO,CACLmP,IAAK,SAAUsqG,EAAM5gH,GACL,OAAVA,GAAmC,iBAAVA,GAIzBwmH,GACF5F,EAAK9pD,KAAK,iBAAkB92D,GAEhB,OAAVA,GAAmC,iBAAVA,GAC3B4gH,EAAK1B,WAAW,SAChB0B,EAAKrrD,IAAIixC,EAAOl5C,MAAMttD,KAEtB4gH,EAAK9pD,KAAK,QAAS92D,IAVnB4gH,EAAKrrD,IAAIv1D,IAabJ,IAAK,SAAUghH,GACb,IAAI5gH,EAAQ4gH,EAAK9pD,KAAK,mBAAqB8pD,EAAK9pD,KAAK,SAErD,OADQ0vC,EAAO3/D,UAAU2/D,EAAOl5C,MAAMttD,GAAQ4gH,EAAK,GAAGrkE,aAQ5D,OAHIiqE,IACF9H,EAAUnxF,KAAOmxF,EAAU5uF,IAAM42F,GAE5BhI,EA+xBSiI,CAAengB,EAAQrL,GAAU,WAC/C,OAAOvqF,KAET,OAAOA,GAETowG,GAAS2D,IAAM3D,GAAS7/G,UACxB6/G,GAASpG,UAAYkG,GAErB,IAAI6D,GAAM3D,GAAS2D,IACfiC,GAASpgC,GAAM31B,KAAMg2D,GAASrgC,GAAMG,KAKpCmgC,GAAe,WACjB,SAASA,EAAa3rB,QACH,IAAbA,IACFA,EAAW,IAEb1xF,KAAKqyD,OAAS,GACdryD,KAAK68D,MAAQ,GACb78D,KAAKs9G,sBAAwB,GAC7Bt9G,KAAKu9G,qBAAuB,GAC5Bv9G,KAAKm/D,QAAU,EACfn/D,KAAK0xF,SAAWA,EAyIlB,OAvIA2rB,EAAazmH,UAAU68F,mBAAqB,SAAUX,GACpD9yF,KAAK0xF,SAASoB,eAAiBA,GAEjCuqB,EAAazmH,UAAU4mH,WAAa,SAAUh6F,EAAK0vB,EAAS5N,GAC1D,IACI4gD,EADAjI,EAAMi9B,GAENuC,EAAU,WACZx/B,EAAIt6E,OAAO4tB,GACP20D,IACFA,EAAIxnC,QAAUwnC,EAAIlpC,OAASkpC,EAAM,OAiBjC30D,EAAK0sD,EAAIo9B,YACbn1B,EAAMxuF,SAASC,cAAc,WACzB45B,GAAKA,EACT20D,EAAI3qF,KAAO,kBACX2qF,EAAI7/D,IAAM02D,GAAMgB,gBAAgBv6D,GAC5BxjB,KAAK0xF,SAASoB,gBAChB7U,EAAIg6B,UAAU/xB,EAAK,iBAAkBlmF,KAAK0xF,SAASoB,gBAErD5M,EAAIlpC,OAtBO,WACTygE,IACAvqE,KAqBFgzC,EAAIxnC,QAnBQ,WACV++D,IACIvsC,EAAW5rC,GACbA,IAEuB,oBAAZoV,SAA2BA,QAAQh7B,KAC5Cg7B,QAAQh7B,IAAI,0BAA4B8D,KAc7C9rB,SAASm3C,qBAAqB,QAAQ,IAAMn3C,SAAS4O,MAAMhD,YAAY4iF,IAE1Em3B,EAAazmH,UAAU8mH,OAAS,SAAUl6F,GACxC,OArDS,IAqDFxjB,KAAKqyD,OAAO7uC,IAErB65F,EAAazmH,UAAU+mH,SAAW,SAAUn6F,GAC1CxjB,KAAKqyD,OAAO7uC,GAxDH,GA0DX65F,EAAazmH,UAAUuM,IAAM,SAAUqgB,EAAK0vB,EAASkrC,EAAO94C,GAC1D,IAAI/jB,EAAQvhB,KAAKqyD,OAAO7uC,GACxBxjB,KAAK68D,MAAM3kE,KAAKsrB,QACFvb,IAAVsZ,IACFvhB,KAAKqyD,OAAO7uC,GAhEL,GAkEL0vB,IACGlzC,KAAKs9G,sBAAsB95F,KAC9BxjB,KAAKs9G,sBAAsB95F,GAAO,IAEpCxjB,KAAKs9G,sBAAsB95F,GAAKtrB,KAAK,CACnCg7C,QAASA,EACT5N,QAASA,EACT84C,MAAOA,GAASp+E,SAItBq9G,EAAazmH,UAAUm7F,KAAO,SAAUvuE,EAAK0vB,EAASkrC,EAAO94C,GAC3D,OAAOtlC,KAAKmD,IAAIqgB,EAAK0vB,EAASkrC,EAAO94C,IAEvC+3E,EAAazmH,UAAU+M,OAAS,SAAU6f,UACjCxjB,KAAKqyD,OAAO7uC,UACZxjB,KAAKs9G,sBAAsB95F,IAEpC65F,EAAazmH,UAAUgnH,UAAY,SAAU1qE,EAASkrC,EAAO94C,GAC3DtlC,KAAK69G,YAAY79G,KAAK68D,MAAO3pB,EAASkrC,EAAO94C,IAE/C+3E,EAAazmH,UAAUinH,YAAc,SAAUC,EAAS5qE,EAASkrC,EAAO94C,GACtE,IAAIn+B,EAAOnH,KACP+9G,EAAW,GACXC,EAAgB,SAAUx1G,EAAMgb,GAClC25F,GAAOh2G,EAAKm2G,sBAAsB95F,IAAM,SAAUob,GAC5CsyC,EAAWtyC,EAASp2B,KACtBo2B,EAASp2B,GAAM5S,KAAKgpC,EAASw/C,UAGjCj3E,EAAKm2G,sBAAsB95F,QAAOvb,GAEpCd,EAAKo2G,qBAAqBrlH,KAAK,CAC7Bg7C,QAASA,EACT5N,QAASA,EACT84C,MAAOA,GAASp+E,OAElB,IAAI69G,EAAc,WAChB,IAAII,EAAiBb,GAAOU,GA4B5B,GA3BAA,EAAQ1lH,OAAS,EACjB+kH,GAAOc,GAAgB,SAAUz6F,GAxG1B,IAyGDrc,EAAKkrD,OAAO7uC,GAxGX,IA4GDrc,EAAKkrD,OAAO7uC,GA9GV,IAkHFrc,EAAKkrD,OAAO7uC,KACdrc,EAAKkrD,OAAO7uC,GAnHR,EAoHJrc,EAAKg4D,UACLh4D,EAAKq2G,WAAWh6F,GAAK,WACnBrc,EAAKkrD,OAAO7uC,GArHX,EAsHDrc,EAAKg4D,UACL6+C,EAAc,UAAWx6F,GACzBq6F,OACC,WACD12G,EAAKkrD,OAAO7uC,GAzHX,EA0HDrc,EAAKg4D,UACL4+C,EAAS7lH,KAAKsrB,GACdw6F,EAAc,UAAWx6F,GACzBq6F,QAhBFG,EAAc,UAAWx6F,GAJzBw6F,EAAc,UAAWx6F,OAwBxBrc,EAAKg4D,QAAS,CACjB,IAAI++C,EAAkB/2G,EAAKo2G,qBAAqBjmH,MAAM,GACtD6P,EAAKo2G,qBAAqBnlH,OAAS,EACnC+kH,GAAOe,GAAiB,SAAUt/E,GACR,IAApBm/E,EAAS3lH,OACP84E,EAAWtyC,EAASsU,UACtBtU,EAASsU,QAAQt9C,KAAKgpC,EAASw/C,OAG7BlN,EAAWtyC,EAAS0G,UACtB1G,EAAS0G,QAAQ1vC,KAAKgpC,EAASw/C,MAAO2/B,QAMhDF,KAEFR,EAAaA,aAAe,IAAIA,EACzBA,EAnJU,GAsJfc,GAAO,SAAUC,GACnB,IAAI7nH,EAAQ6nH,EAOZ,MAAO,CACLjoH,IAPQ,WACR,OAAOI,GAOPsW,IALQ,SAAU5S,GAClB1D,EAAQ0D,KAcRooB,GAAO,GACPg8F,GAAcF,GAAK,MACnBG,GAAkB,WACpB,OAAOjpC,GAAMhzD,GAAMg8F,GAAYloH,QAmE7BooH,GAAO,CACTzgE,QAlEY,WACZ,OAAO62B,GAAMtyD,IAAM,SAAU9rB,GAC3B,OAAO6/E,GAAS,GAAI7/E,OAiEtBioH,QA9DY,SAAUC,GAClBA,GACFJ,GAAYxxG,IAAI4xG,IA6DlBC,QA1DY,WACZ,OAAOL,GAAYloH,OA0DnBgN,IAxDQ,SAAUyC,EAAM6zC,GACxB,IAAIklE,EAAWt8F,GAAKzc,GACf+4G,IACHt8F,GAAKzc,GAAQ+4G,EAAW,IAE1BjqC,GAAOj7B,GAAO,SAAUmlE,EAAap2G,GACnCm2G,EAASn2G,EAAK5N,eAAiBgkH,MAmDjCzgE,UAhDc,SAAUkN,GACxB,IAlCoB7tC,EAkChBmhG,EAAWL,KAAkB3rC,MAAM,IACnC/2E,EAAW,SAAUgsC,GACvB,OAAIspC,EAAWtpC,GACN5xC,OAAOY,UAAUgF,SAAShG,KAAKgyC,GAEhCwwD,EAAQxwD,GAAkB,GAAX,GAAKA,GAE1BwwD,EAAU,SAAU/sC,GACtB,MAAgB,KAATA,SAAeA,GAEpBwzD,EAAc,SAAUxzD,GAC1B,IAAIyzD,EAAUljH,EAASyvD,GACvB,OAAOgqB,GAAMspC,EAAUG,EAAQlkH,eAAeH,IAAImB,GAAU+2E,MAAMmsC,IAEhEC,EAAgB,SAAUvhG,GAC5B,OAAOA,EAAIrkB,QAAQ,iBAAkB,KAEvC,GAAIi/F,EAAQ/sC,GACV,MAAO,GAET,GArDO1jD,EADa6V,EAsDV6tC,IArDcniD,GAAIsU,EAAK,OAsD/B,OAAO5hB,EAASyvD,EAAKs6B,KAEvB,GAtDgB,SAAUnoE,GAC1B,OAAOpmB,EAAQomB,IAAQA,EAAIplB,OAAS,EAqDhC4mH,CAAY3zD,GAAO,CACrB,IAAI4zD,EAAW5zD,EAAK/zD,MAAM,GAI1B,OAAOynH,EAHUF,EAAYxzD,EAAK,IAAIlyD,QAAQ,iBAAiB,SAAU+lH,EAAIC,GAC3E,OAAOj2G,GAAI+1G,EAAUE,GAAMvjH,EAASqjH,EAASE,IAAOD,MAIxD,OAAOH,EAAcF,EAAYxzD,KAkBjC+zD,MAhBU,WACV,OAAOd,KAAkB5nH,MAAK,SAAU+iD,GACtC,OAAO47B,GAAM57B,EAAO,WACnBy5B,QAAO,SAAU4V,GAClB,MAAe,QAARA,MAaTu2B,QAVY,SAAUz5G,GACtB,OAAOsD,GAAImZ,GAAMzc,KAYf05G,GAAe,WACjB,IAAI7lE,EAAQ,GACR05C,EAAO,GACPsB,EAAS,GACT8qB,EAAa,GACbC,EAAe,SAAUh3G,EAAM+Y,GACjC,IAAIk+F,EAAmBnsG,EAAOisG,GAAY,SAAUzmE,GAClD,OAAOA,EAAStwC,OAASA,GAAQswC,EAASv3B,QAAUA,KAEtD6lC,EAAKq4D,GAAkB,SAAU3mE,GAC/B,OAAOA,EAASla,eAShB8gF,EAAe,SAAUl3G,GAC3B,IAAIhD,EAIJ,OAHIivF,EAAOjsF,KACThD,EAASivF,EAAOjsF,GAAMk3G,cAEjBl6G,GAAU,IA4Bfm6G,EAAY,SAAUC,EAASC,GACjC,MAAmB,iBAARA,EACFA,EAEiB,iBAAZD,EAAuB,CACnC9vD,OAAQ,GACRgwD,SAAUD,EACV5a,OAAQ,IACN,CACFn1C,OAAQ8vD,EAAQ9vD,OAChBgwD,SAAUD,EACV5a,OAAQ2a,EAAQ3a,SAuBhBlT,EAAO,SAAUvpF,EAAMu3G,EAAU7sE,EAASkrC,EAAO94C,GACnD,IAAI6tD,EAAK3qF,GAAT,CAGA,IAAIw9B,EAAgC,iBAAb+5E,EAAwBA,EAAWA,EAASjwD,OAASiwD,EAASD,SAAWC,EAAS9a,OAC1E,IAA3Bj/D,EAAUn/B,QAAQ,OAA4C,IAA9Bm/B,EAAUn/B,QAAQ,SACpDm/B,EAAYs5E,GAAaU,QAAU,IAAMh6E,GAE3CmtD,EAAK3qF,GAAQw9B,EAAUvqC,UAAU,EAAGuqC,EAAUpyB,YAAY,MAC1D,IAAI3B,EAAO,WACTutG,EAAah3G,EAAM,UAxBA,SAAUA,EAAMu3G,EAAU7sE,EAASkrC,GACxD,IAAI6hC,EAAOP,EAAal3G,GACxB4+C,EAAK64D,GAAM,SAAUJ,GACnB,IAAIK,EAASP,EAAUI,EAAUF,GACjC9tB,EAAKmuB,EAAOJ,SAAUI,OAAQj4G,OAAWA,MAEvCirC,IACEkrC,EACFlrC,EAAQt9C,KAAKwoF,GAEblrC,EAAQt9C,KAAKynH,KAef8C,CAAiB33G,EAAMu3G,EAAU7sE,EAASkrC,IAExCqW,EAAOjsF,GACTyJ,IAEAorG,GAAaA,aAAal6G,IAAI6iC,EAAW/zB,EAAMmsE,EAAO94C,KAGtD86E,EAAU,SAAU53G,EAAMo2B,EAAUrd,QACxB,IAAVA,IACFA,EAAQ,SAENrY,GAAIurF,EAAQjsF,IAAmB,UAAV+Y,GAEdrY,GAAIiqF,EAAM3qF,IAAmB,WAAV+Y,EAD5Bqd,IAIA2gF,EAAWrnH,KAAK,CACdsQ,KAAMA,EACN+Y,MAAOA,EACPqd,SAAUA,KAIhB,MAAO,CACL6a,MAAOA,EACP05C,KAAMA,EACNsB,OAAQA,EACR8qB,WAAYA,EACZppH,IAjHQ,SAAUqS,GAClB,GAAIisF,EAAOjsF,GACT,OAAOisF,EAAOjsF,GAAM4oB,UAgHtBsuF,aAAcA,EACdW,gBAtGoB,SAAU73G,EAAM83G,IACF,IAA9BhB,GAAaiB,cACfH,EAAQ53G,GAAM,WACZ,IAAIg4G,EAAWjC,GAAKG,WAEf8B,GAAYF,IAAiE,KAD3D,KAAOA,GAAa,IAAM,KACFz5G,QAAQ,IAAM25G,EAAW,MAGxEnD,GAAaA,aAAal6G,IAAIgwF,EAAK3qF,GAAQ,UAAYg4G,EAAW,SACjE,WA8FLr9G,IA3FQ,SAAUouB,EAAIkvF,EAAOf,GAC7B,IAAIgB,EAAmBD,EAOvB,OANAhnE,EAAMvhD,KAAKwoH,GACXjsB,EAAOljE,GAAM,CACXH,SAAUsvF,EACVhB,aAAcA,GAEhBF,EAAajuF,EAAI,SACVmvF,GAoFP/8G,OAlFW,SAAU6E,UACd2qF,EAAK3qF,UACLisF,EAAOjsF,IAiFdm3G,UAAWA,EACXgB,cAlEkB,SAAUC,EAAY9C,GACxC,IAAI+C,EAAY1tB,EAAKytB,GACrBx5D,EAAK02D,GAAS,SAAUzf,GACtBgf,GAAaA,aAAal6G,IAAI09G,EAAY,IAAMxiB,OAgElDtM,KAAMA,EACNquB,QAASA,IAGbd,GAAaiB,cAAe,EAC5BjB,GAAaU,QAAU,GACvBV,GAAawB,cAAgBxB,KAC7BA,GAAayB,aAAezB,KAE5B,IAAI9zF,GAAQ,SAAUpW,EAAI4rG,GACxB,IAAIzxD,EAAQ,KAmBZ,MAAO,CACL/uD,OAnBW,WACG,OAAV+uD,IACFnpD,aAAampD,GACbA,EAAQ,OAiBVgiC,SAda,WAEb,IADA,IAAIxyD,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAET,OAAV4W,IACFA,EAAQppD,YAAW,WACjBiP,EAAGpB,MAAM,KAAM+qB,GACfwwB,EAAQ,OACPyxD,OAQLC,GAAS,SAAU7rG,EAAI4rG,GACzB,IAAIzxD,EAAQ,KAoBZ,MAAO,CACL/uD,OApBW,WACG,OAAV+uD,IACFnpD,aAAampD,GACbA,EAAQ,OAkBVgiC,SAfa,WAEb,IADA,IAAIxyD,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAET,OAAV4W,GACFnpD,aAAampD,GAEfA,EAAQppD,YAAW,WACjBiP,EAAGpB,MAAM,KAAM+qB,GACfwwB,EAAQ,OACPyxD,MAQHE,GAAO,SAAUjkH,EAASowD,GAC5B,IAAI92D,EAAQ4uF,GAAMloF,EAASowD,GAC3B,YAAiBplD,IAAV1R,GAAiC,KAAVA,EAAe,GAAKA,EAAMmC,MAAM,MAoB5DyoH,GAAW,SAAUlkH,GACvB,YAAiCgL,IAA1BhL,EAAQghF,IAAI9/E,WAKjBijH,GAAQ,SAAUnkH,EAASokH,GAC7B,OAzBU,SAAUpkH,EAASowD,EAAM97B,GACnC,IACIklD,EADMyqC,GAAKjkH,EAASowD,GACXvoC,OAAO,CAACyM,IAErB,OADA1kB,GAAI5P,EAASowD,EAAMopB,EAAGj7E,KAAK,OACpB,EAqBA8lH,CAAMrkH,EAAS,QAASokH,IAE7BE,GAAW,SAAUtkH,EAASokH,GAChC,OAtBa,SAAUpkH,EAASowD,EAAM97B,GACtC,IAAIklD,EAAKnjE,EAAO4tG,GAAKjkH,EAASowD,IAAO,SAAUpzD,GAC7C,OAAOA,IAAMs3B,KAOf,OALIklD,EAAGr+E,OAAS,EACdyU,GAAI5P,EAASowD,EAAMopB,EAAGj7E,KAAK,MAE3B6pF,GAASpoF,EAASowD,IAEb,EAaAm0D,CAASvkH,EAAS,QAASokH,IAGhCI,GAAQ,SAAUxkH,EAASokH,GACzBF,GAASlkH,GACXA,EAAQghF,IAAI9/E,UAAUgF,IAAIk+G,GAE1BD,GAAMnkH,EAASokH,IAGfK,GAAa,SAAUzkH,GAEA,KADTkkH,GAASlkH,GAAWA,EAAQghF,IAAI9/E,UAlBtC,SAAUlB,GACpB,OAAOikH,GAAKjkH,EAAS,SAiBuC0kH,CAAM1kH,IACpD7E,QACZitF,GAASpoF,EAAS,UAYlB2kH,GAAQ,SAAU3kH,EAASokH,GAC7B,OAAOF,GAASlkH,IAAYA,EAAQghF,IAAI9/E,UAAUiF,SAASi+G,IAGzDQ,GAAc,SAAUzjC,EAAOxlD,GACjC,IAAIpzB,EAAS,GAOb,OANA4hD,EAAKnvD,GAASmmF,IAAQ,SAAUxhF,GAC1Bg8B,EAAUh8B,KACZ4I,EAASA,EAAOsf,OAAO,CAACloB,KAE1B4I,EAASA,EAAOsf,OAAO+8F,GAAYjlH,EAAGg8B,OAEjCpzB,GAGLs8G,GAAgB,SAAU1jC,EAAOtqB,GACnC,OAr1NQ,SAAUA,EAAUsqB,GAC5B,IAAIzxD,OAAiB1kB,IAAVm2E,EAAsB1mF,SAAW0mF,EAAMH,IAClD,OAAOkB,GAAexyD,GAAQ,GAAKlyB,EAAIkyB,EAAKkkB,iBAAiBijB,GAAWoqB,GAAaF,SAm1N9EnM,CAAI/d,EAAUsqB,IAGnB2jC,GAAavwC,EAAS,kBACtBwwC,GAAiBxwC,EAAS,uBAC1BywC,GAAmBzwC,EAAS,2BAE5B0wC,GAAW,SAAU9wB,EAAQ+wB,GAC/B,IAAIC,EAAMhxB,EAAOixB,UAAUC,SACvB9jH,EAAQ0/E,GAAaF,QAAQokC,EAAIzF,gBACjCp5G,EAAO26E,GAAaF,QAAQoT,EAAOmxB,WACnCzuD,EAAWquD,EAAe5vC,MAAK,WACjC,MAAO,IAAMwvC,QACZ,SAAUS,GACX,MAAO,IAAMR,KAAmB,KAAOQ,EAAK,QAE1CC,EAAW3zE,GAAMtwC,EAAO4jH,EAAIxF,aAAajqC,MAAMn0E,GAC/CyxF,EAAUK,GAAUmyB,EAAU3uD,GAAU,SAAUr+D,GACpD,OAAO4pF,GAAK5pF,EAAG8N,MAEbm/G,EAAU,SAAU5sH,EAAG4V,GACzB,OAr6MQ,SAAUzO,EAASV,GAC7B,IAAI0hF,EAAMhhF,EAAQghF,IAClB,SAAOA,IAAOA,EAAIl7B,eAAek7B,EAAIl7B,aAAaxmD,GAm6M5ComH,CAAM7sH,EAAG4V,GACJ+nE,EAAS5tE,KAAKs/E,GAAMrvF,EAAG4V,IAEvB+nE,EAAStB,QAGpB,OAAO8d,EAAQv5F,MAAK,SAAUZ,GAC5B,OAAO4sH,EAAQ5sH,EAAG,GAAKmsH,MAAoBvrH,MAAK,SAAU8S,GACxD,OAAOk5G,EAAQ5sH,EAAG,GAAKksH,MAAkBvnH,KAAI,SAAU+N,GACrD,IAAIvK,EAAW2kH,GAAYxxB,EAAQ5nF,GACnC,MAAO,CACLA,IAAKA,EACLhB,KAAMA,EACNvK,SAAUA,aAShB2kH,GAAc,SAAUxxB,EAAQ5nF,GAClC,IAAIlD,EAAO43E,GAAaF,QAAQoT,EAAOmxB,WACvC,OAAOT,GAAcx7G,EAAM,IAAM27G,KAAqB,KAAOz4G,EAAM,OAcjE8hD,GAAQ,SAAU8lC,EAAQyxB,GAC5B,IAAIC,EAAkB3E,GAAK,IAOvB4E,EAAgB,SAAUv6G,EAAM1O,GAClCkpH,EAAgBx6G,GAAM,SAAU6Z,GAE9B,OADAvoB,EAAEuoB,GACKA,MAGP2gG,EAAkB,SAAUx6G,EAAM1O,GACpC,IAAImpH,EAAcH,EAAgB3sH,MAE9B+sH,EAAappH,EADNmpH,EAAYpsH,eAAe2R,GAAQy6G,EAAYz6G,GAbnD,CACLgtC,UAAW,GACX2tE,SAAUhF,GAAK1qC,EAAStB,UAa1B8wC,EAAYz6G,GAAQ06G,EACpBJ,EAAgBj2G,IAAIo2G,IAqBlBG,EAAenC,IAAO,WACxB,IAv0PmB/wC,EAAImzC,EACrBC,EAs0PEL,EAAcH,EAAgB3sH,MAC9BotH,GAx0PerzC,EAw0PM/3E,GAAK8qH,IAv0P5BK,EAAOzvF,EAAYj+B,KAAKs6E,EAAI,IAC3BrsD,KAAKw/F,GACHC,GAs0PLl8D,EAAKm8D,GAAa,SAAU/6G,GAC1Bw6G,EAAgBx6G,GAAM,SAAU6Z,GAC9B,IAAI4xE,EAAO5xE,EAAK8gG,SAAShtH,MAazB,OAZA+rH,GAAS9wB,EAAQ3d,EAAS5tE,KAAK2C,IAAO+pE,MAAK,WACrC0hB,EAAKvhB,YAdM,SAAUlqE,GAC/Bu6G,EAAcv6G,GAAM,SAAU6Z,GAC5B+kC,EAAK/kC,EAAKmzB,WAAW,SAAU17C,GAC7B,OAAOA,GAAE,EAAO0O,SAYZg7G,CAAiBh7G,GACjB6Z,EAAK8gG,SAASt2G,IAAI4mE,EAAStB,YAE5B,SAAUsxC,GACX,IAAIj6G,EAAMi6G,EAAGj6G,IAAKhB,EAAOi7G,EAAGj7G,KAAMvK,EAAWwlH,EAAGxlH,SAC3Cg2F,EAAKxhB,GAAGjpE,MAhCD,SAAUhB,EAAMgB,EAAKvL,GACvC8kH,EAAcv6G,GAAM,SAAU6Z,GAC5B+kC,EAAK/kC,EAAKmzB,WAAW,SAAU17C,GAC7B,OAAOA,GAAE,EAAM0O,EAAM,CACnBgB,IAAKA,EACLw8E,MAAOvrF,EAAIwD,GAAU,SAAUwxD,GAC7B,OAAOA,EAAKwuB,eA2BZylC,CAAcl7G,EAAMgB,EAAKvL,GACzBokB,EAAK8gG,SAASt2G,IAAI4mE,EAAS5tE,KAAK2D,QAG7B,CACL25G,SAAU9gG,EAAK8gG,SACf3tE,UAAWnzB,EAAKmzB,mBAIrB,IACH47C,EAAOr6C,GAAG,UAAU,WAClBqsE,EAAa5iH,YAEf4wF,EAAOr6C,GAAG,cAAc,WACtBqsE,EAAa7xB,cAUf,MAAO,CAAEnJ,YARS,SAAU5/E,EAAM1O,GAChCkpH,EAAgBx6G,GAAM,SAAU6Z,GAC9B,MAAO,CACL8gG,SAAU9gG,EAAK8gG,SACf3tE,UAAWnzB,EAAKmzB,UAAU1wB,OAAO,CAAChrB,WAOtC6pH,GAAU,SAAUvyB,EAAQwyB,GAI9BxyB,EAAOr6C,GAAG,QAAQ,WAChBq6C,EAAOyyB,WAAWC,cAAc,QAAQ,SAAUC,GAChD38D,EAAK28D,GAAO,SAAUh1E,IALD,SAAUA,GACjC,OAAO0kC,EAASt8E,KAAK43C,EAAKse,KAAK20D,OAAmBtrH,KAAKktH,EAASnvB,SAK5DuvB,CAAmBj1E,GAAMqY,MAAK,SAAUsqC,IACV,IAAxBA,EAASuyB,YACXl1E,EAAKgzC,sBA2BbwzB,GAAS,EACT2O,GAAa,SAAUp0D,GACzB,IACI8gC,GADO,IAAIj8C,MACCwvE,UAGhB,OAAOr0D,EAAS,IAFH91D,KAAKH,MAAsB,IAAhBG,KAAKy3B,aAC7B8jF,GACwC/tG,OAAOopF,IAmB7CwzB,GAAQ,SAAUnnH,EAASuoB,GAC7B,IAXyBL,EAErBkhC,EAUAg+D,EADUjkC,GAAMnjF,GACCghF,IACjBt4C,EAAWu4C,GAAaF,QAAQqmC,EAAOtQ,0BACvCuQ,GAdqBn/F,EAcQK,GAZ7B6gC,GAYsCg+D,GAbvB3sH,UACLC,cAAc,QACxBC,UAAYutB,EACTltB,GAASimF,GAAaF,QAAQ33B,KAWrCw7B,GAASl8C,EAAU2+E,GACnBt3D,GAAM/vD,GACNshC,GAAOthC,EAAS0oC,IAGd4+E,GAAU,SAAUC,EAAUC,GAChC,OAAOvmC,GAAaF,QAAQwmC,EAASvmC,IAAIznB,UAAUiuD,KAEjDtwB,GAAU,SAAUqwB,GACtB,OAAOD,GAAQC,GAAU,IAEvB1K,GAAO,SAAU0K,GACnB,OAAOD,GAAQC,GAAU,IAGvBE,GAAa,SAAU3wB,EAAWC,EAAU2wB,QAC3B,IAAfA,IACFA,EAAa1yC,GAEf,IAAIumB,EAAS,IAAI1E,GAAcC,EAAWC,GACtClX,EAAO,SAAU7mB,GACnB,IAAIpkD,EACJ,GACEA,EAAO2mF,EAAOviC,WACPpkD,IAASwyE,GAASxyE,KAAU8yG,EAAW9yG,IAChD,OAAO4hE,EAASt8E,KAAK0a,GAAMyB,OAAO+wE,KAEpC,MAAO,CACL1M,QAAS,WACP,OAAOlE,EAASt8E,KAAKqhG,EAAO7gB,WAAWrkE,OAAO+wE,KAEhDxyE,KAAM,WACJ,OAAOirE,EAAK,SAEdmX,KAAM,WACJ,OAAOnX,EAAK,SAEdoX,MAAO,WACL,OAAOpX,EAAK,YAKd8nC,GAAa,SAAU3mC,EAAK0mC,GAC9B,IAAIE,EAAkBF,GAA0B,SAAU7zE,GACxD,OAAOmtC,EAAI2W,QAAQ9jD,IAAS2zC,GAAK3zC,IAAS8zC,GAAuB9zC,IAE/DgsC,EAAO,SAAUhsC,EAAMthC,EAAQgpF,EAAQp9E,GACzC,GAAIipE,GAASvzC,GAAO,CAClB,IAAIg0E,EAAY1pG,EAAQ01B,EAAMthC,EAAQshC,EAAKzuB,MAC3C,IAAmB,IAAfyiG,EACF,OAAOrxC,EAAS5tE,KAAK,CACnBxG,UAAWyxC,EACXthC,OAAQs1G,IAId,OAAOtsB,IAAS9hG,MAAK,SAAUmb,GAC7B,OAAOirE,EAAKjrE,EAAKxS,UAAWwS,EAAKrC,OAAQgpF,EAAQp9E,OAyBrD,MAAO,CACL2pG,UAvBc,SAAUj0E,EAAMthC,EAAQ4L,EAAS7X,GAC/C,IAAIi1F,EAASksB,GAAW5zE,EAAMvtC,EAAMshH,GACpC,OAAO/nC,EAAKhsC,EAAMthC,GAAQ,WACxB,OAAOgpF,EAAOvE,OAAOx5F,KAAI,SAAUw5F,GACjC,MAAO,CACL50F,UAAW40F,EACXzkF,OAAQykF,EAAK77F,aAGhBgjB,GAAS03D,aAeZkyC,SAba,SAAUl0E,EAAMthC,EAAQ4L,EAAS7X,GAC9C,IAAIi1F,EAASksB,GAAW5zE,EAAMvtC,EAAMshH,GACpC,OAAO/nC,EAAKhsC,EAAMthC,GAAQ,WACxB,OAAOgpF,EAAO3mF,OAAOpX,KAAI,SAAUoX,GACjC,MAAO,CACLxS,UAAWwS,EACXrC,OAAQ,QAGX4L,GAAS03D,eAkBZmyC,GAAQ,SAAUC,EAAIC,EAAIrrH,GAC5B,OAAOorH,EAAGxyC,UAAYyyC,EAAGzyC,SAAWe,EAAS5tE,KAAK/L,EAAEorH,EAAGryC,WAAYsyC,EAAGtyC,aAAeY,EAAStB,QAS5Fp4E,GAAQC,KAAKD,MACbqrH,GAAU,SAAUC,GACtB,OAAKA,EAUE,CACL/nH,KAAMvD,GAAMsrH,EAAK/nH,MACjBE,IAAKzD,GAAMsrH,EAAK7nH,KAChBqB,OAAQ9E,GAAMsrH,EAAKxmH,QACnBD,MAAO7E,GAAMsrH,EAAKzmH,OAClBrB,MAAOxD,GAAMsrH,EAAK9nH,OAClBE,OAAQ1D,GAAMsrH,EAAK5nH,SAfZ,CACLH,KAAM,EACNE,IAAK,EACLqB,OAAQ,EACRD,MAAO,EACPrB,MAAO,EACPE,OAAQ,IAYV6nH,GAAW,SAAUD,EAAME,GAS7B,OARAF,EAAOD,GAAQC,GACXE,IAGFF,EAAK/nH,KAAO+nH,EAAK/nH,KAAO+nH,EAAK9nH,OAF7B8nH,EAAKzmH,MAAQymH,EAAK/nH,KAKpB+nH,EAAK9nH,MAAQ,EACN8nH,GAKLG,GAAkB,SAAU/7C,EAAWg8C,EAAOC,GAChD,OAAOj8C,GAAa,GAAKA,GAAazvE,KAAKN,IAAI+rH,EAAMhoH,OAAQioH,EAAMjoH,QAAU,GAE3EkoH,GAAU,SAAUF,EAAOC,GAC7B,IAAIE,EAAa5rH,KAAKN,IAAIgsH,EAAMjoH,OAAS,EAAGgoH,EAAMhoH,OAAS,GAC3D,OAAIgoH,EAAM5mH,OAAS+mH,EAAaF,EAAMloH,OAGlCioH,EAAMjoH,IAAMkoH,EAAM7mH,SAGf2mH,GAAgBE,EAAMloH,IAAMioH,EAAM5mH,OAAQ4mH,EAAOC,IAEtDG,GAAU,SAAUJ,EAAOC,GAC7B,OAAID,EAAMjoH,IAAMkoH,EAAM7mH,UAGlB4mH,EAAM5mH,OAAS6mH,EAAMloH,MAGlBgoH,GAAgBE,EAAM7mH,OAAS4mH,EAAMjoH,IAAKioH,EAAOC,IAEtDI,GAAa,SAAUT,EAAMjoH,EAASC,GACxC,OAAOD,GAAWioH,EAAK/nH,MAAQF,GAAWioH,EAAKzmH,OAASvB,GAAWgoH,EAAK7nH,KAAOH,GAAWgoH,EAAKxmH,QAG7FknH,GAAkB,SAAU3yD,GAC9B,IAAIupD,EAAiBvpD,EAAMupD,eAAgBC,EAAcxpD,EAAMwpD,YAC/D,OAAID,EAAet+B,iBAAmBjrB,EAAM0pD,YAAcF,EAAc,EAC/DD,EAAer2D,WAAWs2D,GAE5B,MAELoJ,GAAU,SAAU3mH,EAAWmQ,GAOjC,OAN2B,IAAvBnQ,EAAUo2C,UAAkBp2C,EAAUg/E,kBACpC7uE,GAAUnQ,EAAUinD,WAAWluD,SACjCoX,EAASnQ,EAAUinD,WAAWluD,OAAS,GAEzCiH,EAAYA,EAAUinD,WAAW92C,IAE5BnQ,GAGL4mH,GAAiB,IAAIpoG,OAAO,weAC5BqoG,GAAkB,SAAUnnG,GAC9B,MAAqB,iBAAPA,GAAmBA,EAAG4M,WAAW,IAAM,KAAOs6F,GAAe7qH,KAAK2jB,IAgC9EonG,GAAcviC,GACdwiC,GAAqB/uB,GACrBgvB,GAAYtiC,GAAiB,UAAW,eACxCuiC,GAAYviC,GAAiB,QAAS,cACtCwiC,GAnBM,WAER,IADA,IAAIxnF,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAEvB,OAAO,SAAU/7C,GACf,IAAK,IAAIlH,EAAI,EAAGA,EAAIqpC,EAAK3mC,OAAQ1C,IAC/B,IAAKqpC,EAAKrpC,GAAGkH,GACX,OAAO,EAGX,OAAO,GAQwB4pH,CAAIL,GAAaC,GAAoBt0C,EAAIw0C,KACxEG,GAAW30C,EAAIiS,GAAiB,cAAe,0BAC/C2iC,GAAWriC,GACXsiC,GAASliC,GACT0sB,GAAYoG,GAASpG,UACrByV,GAAeZ,GACfvM,GAAc,SAAUhvD,GAC1B,MAAO,gBAAiBA,EAAMA,EAAIgvD,cAAgBlC,GAAS2D,IAAI1B,aAE7DqN,GAAe,SAAUjiG,GAC3B,OAAOA,GAAO,YAAYxpB,KAAKwpB,IAE7BkiG,GAAU,SAAU1E,GACtB,QAASA,EAAI/F,YAAc+F,EAAI9F,QAE7ByK,GAA0B,SAAU3zD,GACtC,IAEI/H,EAFAhsD,EAAY+zD,EAAMupD,eAClBntG,EAAS4jD,EAAMwpD,YAEnB,SAAIiK,GAAazzD,EAAMx3D,aAAe6qH,GAASpnH,EAAUuE,aAAeygF,GAAShlF,KAC/EgsD,EAAOhsD,EAAUgjB,KACbwkG,GAAax7D,EAAK77C,EAAS,KAAOq3G,GAAax7D,EAAK77C,EAAS,OA+BjEw3G,GAAa,SAAU5wH,GACzB,OAAkB,IAAXA,EAAEkH,MAA0B,IAAZlH,EAAEwI,OAAyB,IAAVxI,EAAEoH,KAA0B,IAAbpH,EAAEyI,QAEvD3B,GAAwB,SAAU88C,GACpC,IAAIitE,EACAC,EAAcltE,EAAKga,iBAMvB,OAJEizD,EADEC,EAAY9uH,OAAS,EACVgtH,GAAQ8B,EAAY,IAEpB9B,GAAQprE,EAAK98C,0BAEvB4pH,GAAQ9sE,IAAS2sE,GAAO3sE,IAASgtE,GAAWC,GApC7B,SAAUE,GAC9B,IAAI18D,EAAM08D,EAAO9mC,cACb+hC,EAAM3I,GAAYhvD,GAClB28D,EAAS38D,EAAI+zB,eAAe6W,IAC5BzxF,EAAaujH,EAAOvjH,WACxBA,EAAWF,aAAa0jH,EAAQD,GAChC/E,EAAI/F,SAAS+K,EAAQ,GACrBhF,EAAI9F,OAAO8K,EAAQ,GACnB,IAAIH,EAAa7B,GAAQhD,EAAIllH,yBAE7B,OADA0G,EAAWJ,YAAY4jH,GAChBH,EA2BEI,CAAgBrtE,GAErBgtE,GAAWC,IAAeH,GAAQ9sE,GA3BF,SAAUooE,GAC9C,IAAIkF,EAAKlF,EAAIzF,eACT4K,EAAKnF,EAAIvF,aACT2K,EAAKpF,EAAIxF,YACT6K,EAAKrF,EAAItF,UACb,GAAIwK,IAAOC,GAAMljC,GAASkjC,IAAc,IAAPC,GAAmB,IAAPC,EAAU,CACrD,IAAIC,EAAStF,EAAIuF,aAEjB,OADAD,EAAOE,YAAYL,GACZrqH,GAAsBwqH,GAE7B,OAAO,KAkBAG,CAAgC7tE,GAElCitE,GAELa,GAA0B,SAAUb,EAAY1B,GAClD,IAAIwC,EAAgBzC,GAAS2B,EAAY1B,GAGzC,OAFAwC,EAAcxqH,MAAQ,EACtBwqH,EAAcnpH,MAAQmpH,EAAczqH,KAAO,EACpCyqH,GAELC,GAA8B,SAAUC,GAC1C,IACIC,EAAYp3E,EADZo2E,EAAc,GAEdiB,EAAwB,SAAUlB,GApK1B,IAAUxB,EAAOC,EAqKD,IAAtBuB,EAAWxpH,SAGXypH,EAAY9uH,OAAS,IAxKLqtH,EAyKNwB,EAzKavB,EAyKDwB,EAAYA,EAAY9uH,OAAS,GAxKtDqtH,EAAMnoH,OAASooH,EAAMpoH,MAAQmoH,EAAMjoH,MAAQkoH,EAAMloH,KAAOioH,EAAM5mH,SAAW6mH,EAAM7mH,QAAU4mH,EAAM7mH,QAAU8mH,EAAM9mH,QA4KpHsoH,EAAYhvH,KAAK+uH,KAEfmB,EAAqB,SAAU/oH,EAAWmQ,GAC5C,IAAI4jD,EAAQqmD,GAAYp6G,EAAUghF,eAClC,GAAI7wE,EAASnQ,EAAUgjB,KAAKjqB,OAAQ,CAClC,GAAI8tH,GAAgB7mH,EAAUgjB,KAAK7S,IACjC,OAAO03G,EAET,GAAIhB,GAAgB7mH,EAAUgjB,KAAK7S,EAAS,MAC1C4jD,EAAMipD,SAASh9G,EAAWmQ,GAC1B4jD,EAAMkpD,OAAOj9G,EAAWmQ,EAAS,IAC5Bu3G,GAAwB3zD,IAE3B,OADA+0D,EAAsBL,GAAwB5qH,GAAsBk2D,IAAQ,IACrE8zD,EAIT13G,EAAS,IACX4jD,EAAMipD,SAASh9G,EAAWmQ,EAAS,GACnC4jD,EAAMkpD,OAAOj9G,EAAWmQ,GACnBu3G,GAAwB3zD,IAC3B+0D,EAAsBL,GAAwB5qH,GAAsBk2D,IAAQ,KAG5E5jD,EAASnQ,EAAUgjB,KAAKjqB,SAC1Bg7D,EAAMipD,SAASh9G,EAAWmQ,GAC1B4jD,EAAMkpD,OAAOj9G,EAAWmQ,EAAS,GAC5Bu3G,GAAwB3zD,IAC3B+0D,EAAsBL,GAAwB5qH,GAAsBk2D,IAAQ,MAIlF,GAAIszD,GAASuB,EAAc5oH,aAEzB,OADA+oH,EAAmBH,EAAc5oH,YAAa4oH,EAAcz4G,UACrD03G,EAET,GAAIf,GAAY8B,EAAc5oH,aAC5B,GAAI4oH,EAAc/xB,UAChBplD,EAAO81E,GAAaqB,EAAc5oH,YAAa4oH,EAAcz4G,UACzDk3G,GAAS51E,IACXs3E,EAAmBt3E,EAAMA,EAAKzuB,KAAKjqB,QAEjCmuH,GAA6Bz1E,KAAU61E,GAAO71E,IAChDq3E,EAAsBL,GAAwB5qH,GAAsB4zC,IAAO,QAExE,CAKL,GAJAA,EAAO81E,GAAaqB,EAAc5oH,YAAa4oH,EAAcz4G,UACzDk3G,GAAS51E,IACXs3E,EAAmBt3E,EAAM,GAEvBy1E,GAA6Bz1E,IAASm3E,EAAc/xB,UAEtD,OADAiyB,EAAsBL,GAAwB5qH,GAAsB4zC,IAAO,IACpEo2E,EAETgB,EAAatB,GAAaqB,EAAc5oH,YAAa4oH,EAAcz4G,SAAW,GAC1E+2G,GAA6B2B,KAAgBvB,GAAOuB,KAClD7B,GAAU6B,IAAe7B,GAAUv1E,KAAUy1E,GAA6Bz1E,KAC5Eq3E,EAAsBL,GAAwB5qH,GAAsBgrH,IAAa,IAGjF3B,GAA6Bz1E,IAC/Bq3E,EAAsBL,GAAwB5qH,GAAsB4zC,IAAO,IAIjF,OAAOo2E,GAELmB,GAAgB,SAAUhpH,EAAWmQ,EAAQ03G,GAC/C,IAkBIlzD,EAAiB,WAInB,OAHKkzD,IACHA,EAAcc,GAA4BK,GAAchpH,EAAWmQ,KAE9D03G,GAWT,MAAO,CACL7nH,UAAWmyE,EAASnyE,GACpBmQ,OAAQgiE,EAAShiE,GACjB84G,QAxBY,WACZ,IAAIl1D,EAAQqmD,GAAYp6G,EAAUghF,eAGlC,OAFAjtB,EAAMipD,SAASh9G,EAAWmQ,GAC1B4jD,EAAMkpD,OAAOj9G,EAAWmQ,GACjB4jD,GAqBPY,eAAgBA,EAChB/B,UAdc,WACd,OAAO+B,IAAiB57D,OAAS,GAcjC49F,UAvCc,WACd,OAAI0wB,GAASrnH,GACO,IAAXmQ,GAsCT0mF,QAlCY,WACZ,OAAIwwB,GAASrnH,GACJmQ,GAAUnQ,EAAUgjB,KAAKjqB,OAE3BoX,GAAUnQ,EAAUinD,WAAWluD,QA+BtCmwH,QAdY,SAAUN,GACtB,OAAOA,GAAiB5oH,IAAc4oH,EAAc5oH,aAAemQ,IAAWy4G,EAAcz4G,UAc5Fw2G,QAZY,SAAUvkC,GACtB,OAAOmlC,GAAavnH,EAAWoiF,EAASjyE,EAAS,EAAIA,MAczD64G,GAAcG,eAAiB,SAAUp1D,GACvC,OAAOi1D,GAAcj1D,EAAMupD,eAAgBvpD,EAAMwpD,cAEnDyL,GAAcI,aAAe,SAAUr1D,GACrC,OAAOi1D,GAAcj1D,EAAMypD,aAAczpD,EAAM0pD,YAEjDuL,GAAc1mC,MAAQ,SAAU7wC,GAC9B,OAAOu3E,GAAcv3E,EAAKltC,WAAYutG,GAAUrgE,GAAQ,IAE1Du3E,GAAc5mC,OAAS,SAAU3wC,GAC/B,OAAOu3E,GAAcv3E,EAAKltC,WAAYutG,GAAUrgE,KAElDu3E,GAAc1C,QAAU,SAAU+C,EAAMC,GACtC,OAAO1D,GAAM56D,GAAKs+D,EAAK30D,kBAAmBwgB,GAAKk0C,EAAK10D,kBAAmB2xD,IAAShzC,OAAM,IAExF01C,GAAcxC,QAAU,SAAU6C,EAAMC,GACtC,OAAO1D,GAAMzwC,GAAKm0C,EAAK30D,kBAAmB3J,GAAKq+D,EAAK10D,kBAAmB6xD,IAASlzC,OAAM,IAExF01C,GAAcryB,UAAY,SAAUzqE,GAClC,QAAOA,GAAMA,EAAIyqE,aAEnBqyB,GAAcnyB,QAAU,SAAU3qE,GAChC,QAAOA,GAAMA,EAAI2qE,WAEnBmyB,GAAcO,eAAiB,SAAUr9F,GACvC,QAAOA,GAAM84D,GAAS94D,EAAIlsB,cAE5BgpH,GAAcQ,kBAAoB,SAAUt9F,GAC1C,OAA6C,IAAtC88F,GAAcO,eAAer9F,IAGtC,IAgiCIu9F,GAhiCAC,GAAoB,SAAU9qC,EAAKntC,GACjCuzC,GAASvzC,IAA8B,IAArBA,EAAKzuB,KAAKjqB,QAC9B6lF,EAAIt6E,OAAOmtC,IAmBXk4E,GAAkB,SAAU/qC,EAAKmkC,EAAKtxE,GACpC0zC,GAAqB1zC,GAZN,SAAUmtC,EAAKmkC,EAAKtO,GACvC,IAAIhzB,EAAarN,EAASt8E,KAAK28G,EAAKhzB,YAChCC,EAAYtN,EAASt8E,KAAK28G,EAAK/yB,WACnCqhC,EAAI6G,WAAWnV,GACfhzB,EAAW15B,MAAK,SAAUtY,GACxB,OAAOi6E,GAAkB9qC,EAAKnvC,EAAM4xC,oBAEtCK,EAAU35B,MAAK,SAAUtY,GACvB,OAAOi6E,GAAkB9qC,EAAKnvC,EAAMrrC,gBAKpCylH,CAAejrC,EAAKmkC,EAAKtxE,GAlBZ,SAAUmtC,EAAKmkC,EAAKtxE,GACnCsxE,EAAI6G,WAAWn4E,GACfi4E,GAAkB9qC,EAAKntC,EAAK4vC,iBAC5BqoC,GAAkB9qC,EAAKntC,EAAKrtC,aAiB1BwlH,CAAWhrC,EAAKmkC,EAAKtxE,IAIrBq4E,GAAW9kC,GACX+kC,GAAYnlC,GACZolC,GAAc9R,GAASpG,UACvBmY,GAAmB,SAAUx4E,GAC/B,IAAIltC,EAAaktC,EAAKltC,WACtB,OAAIwlH,GAAUxlH,GACL0lH,GAAiB1lH,GAEnBA,GAEL2lH,GAAgB,SAAUz4E,GAC5B,OAAKA,EAGEn4C,GAAOm4C,EAAKwV,YAAY,SAAU9gD,EAAQsrC,GAM/C,OALIs4E,GAAUt4E,IAA2B,OAAlBA,EAAKgC,SAC1BttC,EAASA,EAAOsf,OAAOykG,GAAcz4E,IAErCtrC,EAAOtN,KAAK44C,GAEPtrC,IACN,IATM,IAoBPgkH,GAAU,SAAUhyH,GACtB,OAAO,SAAU0C,GACf,OAAO1C,IAAM0C,IAkBbuvH,GAAiB,SAAU34E,GAO7B,OALIq4E,GAASr4E,GACJ,SAEAA,EAAKgC,SAASl4C,eAET,IAtBU,SAAUk2C,GAClC,IAAIk1C,EAAO59E,EACX49E,EAAQujC,GAAcD,GAAiBx4E,IACvC1oC,EAAQ8tE,GAAY8P,EAAOwjC,GAAQ14E,GAAOA,GAC1Ck1C,EAAQA,EAAM1uF,MAAM,EAAG8Q,EAAQ,GAC/B,IAAIshH,EAAmB/wH,GAAOqtF,GAAO,SAAUxgF,EAAQsrC,EAAMp7C,GAI3D,OAHIyzH,GAASr4E,IAASq4E,GAASnjC,EAAMtwF,EAAI,KACvC8P,IAEKA,IACN,GAGH,OAFAwgF,EAAQpQ,GAASoQ,EAAOnC,GAAe,CAAC/yC,EAAKgC,aAC7C1qC,EAAQ8tE,GAAY8P,EAAOwjC,GAAQ14E,GAAOA,IAC3B44E,EASKC,CAAoB74E,GAAQ,KAY9C84E,GAAW,SAAUrmH,EAAM0kH,GAC7B,IAAI5oH,EAAWmQ,EAAmBq6G,EAAcvjE,EAAYy8C,EAArC1qG,EAAO,GAqB9B,OApBAgH,EAAY4oH,EAAc5oH,YAC1BmQ,EAASy4G,EAAcz4G,SACnB25G,GAAS9pH,GACXwqH,EArDuB,SAAU/4E,EAAMthC,GACzC,MAAOshC,EAAOA,EAAK4vC,kBACZyoC,GAASr4E,IAGdthC,GAAUshC,EAAKzuB,KAAKjqB,OAEtB,OAAOoX,EA8CUs6G,CAAqBzqH,EAAWmQ,IAG3CA,IADJ82C,EAAajnD,EAAUinD,YACEluD,QACvByxH,EAAe,QACfr6G,EAAS82C,EAAWluD,OAAS,GAE7ByxH,EAAe,SAEjBxqH,EAAYinD,EAAW92C,IAEzBnX,EAAKH,KAAKuxH,GAAepqH,IACzB0jG,EA3BiB,SAAUx/F,EAAMutC,EAAMlY,GACvC,IAAImqE,EAAU,GACd,IAAKjyD,EAAOA,EAAKltC,aAAYktC,IAASvtC,GAChCq1B,GAAaA,EAAUkY,IADeA,EAAOA,EAAKltC,WAItDm/F,EAAQ7qG,KAAK44C,GAEf,OAAOiyD,EAmBG0T,CAAalzG,EAAMlE,GAC7B0jG,EAAUntB,GAASmtB,EAASjxB,EAAImS,MAChC5rF,EAAOA,EAAKysB,OAAO4wD,GAAMqtB,GAAS,SAAUjyD,GAC1C,OAAO24E,GAAe34E,QAEZniC,UAAUnT,KAAK,KAAO,IAAMquH,GAgCtCE,GAAY,SAAUxmH,EAAMlL,GAC9B,IAAImX,EACJ,IAAKnX,EACH,OAAO,KAET,IAAI8oC,EAAQ9oC,EAAKK,MAAM,KACnBsxH,EAAQ7oF,EAAM,GAAGzoC,MAAM,KAC3B8W,EAAS2xB,EAAM/oC,OAAS,EAAI+oC,EAAM,GAAK,SACvC,IAAI9hC,EAAY1G,GAAOqxH,GAAO,SAAUxkH,EAAQjP,GAC9C,IAAIiE,EAAQ,4BAA4Ba,KAAK9E,GAC7C,OAAKiE,GAGY,WAAbA,EAAM,KACRA,EAAM,GAAK,SA5CK,SAAUs2C,EAAMtoC,EAAMJ,GAC1C,IAAI49E,EAAQujC,GAAcz4E,GAK1B,OAJAk1C,EAAQpQ,GAASoQ,GAAO,SAAUl1C,EAAM1oC,GACtC,OAAQ+gH,GAASr4E,KAAUq4E,GAASnjC,EAAM59E,EAAQ,QAEpD49E,EAAQpQ,GAASoQ,EAAOnC,GAAe,CAACr7E,MAC3BJ,GAwCJ6hH,CAAgBzkH,EAAQhL,EAAM,GAAIE,SAASF,EAAM,GAAI,MALnD,OAMR+I,GACH,OAAKlE,EAGA8pH,GAAS9pH,GA3CO,SAAUA,EAAWmQ,GAE1C,IADA,IAAwC06G,EAApCp5E,EAAOzxC,EAAW8qH,EAAe,EAC9BhB,GAASr4E,IAAO,CAErB,GADAo5E,EAAUp5E,EAAKzuB,KAAKjqB,OAChBoX,GAAU26G,GAAgB36G,GAAU26G,EAAeD,EAAS,CAC9D7qH,EAAYyxC,EACZthC,GAAkB26G,EAClB,MAEF,IAAKhB,GAASr4E,EAAKrtC,aAAc,CAC/BpE,EAAYyxC,EACZthC,EAAS06G,EACT,MAEFC,GAAgBD,EAChBp5E,EAAOA,EAAKrtC,YAKd,OAHI0lH,GAAS9pH,IAAcmQ,EAASnQ,EAAUgjB,KAAKjqB,SACjDoX,EAASnQ,EAAUgjB,KAAKjqB,QAEnBiwH,GAAchpH,EAAWmQ,GA+BzB46G,CAAiB/qH,EAAW3E,SAAS8U,EAAQ,MANhDA,EADa,UAAXA,EACO65G,GAAYhqH,GAAa,EAEzBgqH,GAAYhqH,GAEhBgpH,GAAchpH,EAAUuE,WAAY4L,IARpC,MAaP66G,GAA2BzlC,GAS3B0lC,GAAW,SAAUrsC,EAAKpmF,EAAM0rC,EAAY6+E,EAAK5jH,GACnD,IAGI8nD,EAHAjnD,EAAY+iH,EAAI5jH,EAAQ,iBAAmB,gBAC3CgR,EAAS4yG,EAAI5jH,EAAQ,cAAgB,aACrC82B,EAAQ,GACIqsD,EAAQ,EACpBp+E,EAAO06E,EAAI25B,UAWf,IAVIvzB,GAAShlF,GACXi2B,EAAMp9B,KAAKqrC,EAfe,SAAU1rC,EAAMwH,EAAWmQ,GACvD,IAAIshC,EAAMy5E,EAEV,IADAA,EAAgB1yH,EAAKwH,EAAUgjB,KAAK/qB,MAAM,EAAGkY,IAASpX,OACjD04C,EAAOzxC,EAAUqhF,gBAAiB5vC,GAAQuzC,GAASvzC,GAAOA,EAAOA,EAAK4vC,gBACzE6pC,GAAiB1yH,EAAKi5C,EAAKzuB,MAAMjqB,OAEnC,OAAOmyH,EASmBC,CAAwB3yH,EAAMwH,EAAWmQ,GAAUA,IAGvEA,IADJ82C,EAAajnD,EAAUinD,YACEluD,QAAUkuD,EAAWluD,SAC5CupF,EAAQ,EACRnyE,EAASxV,KAAKJ,IAAI,EAAG0sD,EAAWluD,OAAS,IAE3Ck9B,EAAMp9B,KAAK+lF,EAAIkzB,UAAU7qD,EAAW92C,GAAS+zB,GAAco+C,IAEtDtiF,GAAaA,IAAckE,EAAMlE,EAAYA,EAAUuE,WAC5D0xB,EAAMp9B,KAAK+lF,EAAIkzB,UAAU9xG,EAAWkkC,IAEtC,OAAOjO,GAULm1F,GAAc,SAAUxsC,EAAKz1E,EAAMvL,GACrC,IAAImR,EAAQ,EAUZ,OATA2uE,GAAM31B,KAAK62B,EAAI7oB,OAAO5sD,IAAO,SAAUsoC,GACrC,GAA4C,QAAxCA,EAAK/4C,aAAa,kBAGtB,OAAI+4C,IAAS7zC,QAGbmR,OAEKA,GAELs8G,GAAe,SAAUtI,EAAK5jH,GAChC,IAAIa,EAAWmQ,EAAQ82C,EACnBwJ,EAAStxD,EAAQ,QAAU,MAC/Ba,EAAY+iH,EAAItyD,EAAS,aACzBtgD,EAAS4yG,EAAItyD,EAAS,UAClB8zB,GAAYvkF,IAAqC,OAAvBA,EAAUyzC,WAEtCzzC,GADAinD,EAAajnD,EAAUinD,YACAtsD,KAAKN,IAAI8E,EAAQgR,EAASA,EAAS,EAAG82C,EAAWluD,OAAS,OAE/EoX,EAAShR,EAAQ,EAAIa,EAAUinD,WAAWluD,OAC1CgqH,EAAI,OAAS5jH,EAAQ,QAAU,QAAQa,EAAWmQ,KAIpDm7G,GAA8B,SAAUvI,GAG1C,OAFAsI,GAAatI,GAAK,GAClBsI,GAAatI,GAAK,GACXA,GAELhuB,GAAc,SAAUtjD,EAAMthC,GAChC,IAAIs9D,EACJ,GAAI8W,GAAY9yC,KACdA,EAAOk1E,GAAQl1E,EAAMthC,GACjB66G,GAAyBv5E,IAC3B,OAAOA,EAGX,GAAI+kD,GAAiB/kD,GAAO,CAK1B,GAJIuzC,GAASvzC,IAAS6kD,GAAsB7kD,KAC1CA,EAAOA,EAAKltC,YAEdkpE,EAAUh8B,EAAK4vC,gBACX2pC,GAAyBv9C,GAC3B,OAAOA,EAGT,GADAA,EAAUh8B,EAAKrtC,YACX4mH,GAAyBv9C,GAC3B,OAAOA,IAOT89C,GAAoB,SAAU/yH,EAAM0rC,EAAY8+E,GAClD,IAAIplH,EAAUolH,EAAU2D,UACpBx9G,EAAOvL,EAAUA,EAAQ61C,SAAW,KACpCsvE,EAAMC,EAAUC,SACpB,GAAI+H,GAAyBptH,IAAqB,QAATuL,EACvC,MAAO,CACLA,KAAMA,EACNJ,MAAOqiH,GAAYpI,EAAUpkC,IAAKz1E,EAAMvL,IAG5C,IAAI6vE,EAboC,SAAUs1C,GAClD,OAAOhuB,GAAYguB,EAAIzF,eAAgByF,EAAIxF,cAAgBxoB,GAAYguB,EAAIvF,aAAcuF,EAAItF,WAY/E+N,CAAoCzI,GAClD,OAAIt1C,EAEK,CACLtkE,KAFFA,EAAOskE,EAAQt2B,QAGbpuC,MAAOqiH,GAAYpI,EAAUpkC,IAAKz1E,EAAMskE,IAhF5B,SAAUj1E,EAAMwqH,EAAW9+E,EAAY6+E,GACvD,IAAInkC,EAAMokC,EAAUpkC,IAAK6sC,EAAW,GAKpC,OAJAA,EAAStsH,MAAQ8rH,GAASrsC,EAAKpmF,EAAM0rC,EAAY6+E,GAAK,GACjDC,EAAU0I,gBACbD,EAASpsH,IAAM4rH,GAASrsC,EAAKpmF,EAAM0rC,EAAY6+E,GAAK,IAE/C0I,EA6EAE,CAAYnzH,EAAMwqH,EAAW9+E,EAAY6+E,IAY9C6I,GAAqB,SAAUhtC,EAAK1sD,EAAI25F,GAC1C,IAAInsF,EAAO,CACT,gBAAiB,WACjBxN,GAAIA,EACJ,MAAS,mCAEX,OAAO25F,EAASjtC,EAAIxnF,OAAO,OAAQsoC,EAAM,YAAck/C,EAAIxnF,OAAO,OAAQsoC,IAExEosF,GAAwB,SAAU9I,EAAW6I,GAC/C,IAAIjtC,EAAMokC,EAAUpkC,IAChBmkC,EAAMC,EAAUC,SAChB/wF,EAAK0sD,EAAIo9B,WACT+P,EAAY/I,EAAU0I,cACtB9tH,EAAUolH,EAAU2D,UACpBx9G,EAAOvL,EAAQ61C,SACnB,GAAa,QAATtqC,EACF,MAAO,CACLA,KAAMA,EACNJ,MAAOqiH,GAAYxsC,EAAKz1E,EAAMvL,IAGlC,IAAIouH,EAAOV,GAA4BvI,EAAIuF,cAC3C,IAAKyD,EAAW,CACdC,EAAK/F,UAAS,GACd,IAAIgG,EAAkBL,GAAmBhtC,EAAK1sD,EAAK,OAAQ25F,GAC3DlC,GAAgB/qC,EAAKotC,EAAMC,IAE7BlJ,EAAMuI,GAA4BvI,IAC9BkD,UAAS,GACb,IAAIiG,EAAoBN,GAAmBhtC,EAAK1sD,EAAK,SAAU25F,GAM/D,OALAlC,GAAgB/qC,EAAKmkC,EAAKmJ,GAC1BlJ,EAAUmJ,eAAe,CACvBj6F,GAAIA,EACJk6F,MAAM,IAED,CAAEl6F,GAAIA,IAEXm6F,GAAc,SAAUrJ,EAAW9mH,EAAMgoC,GAC3C,OAAa,IAAThoC,EACKqvH,GAAkBp1B,GAAQjyD,EAAY8+E,GAC3B,IAAT9mH,EAlDU,SAAU8mH,GAC/B,IAAID,EAAMC,EAAUC,SACpB,MAAO,CACL9jH,MAAOorH,GAASvH,EAAUpkC,IAAI25B,UAAWyQ,GAAcG,eAAepG,IACtE1jH,IAAKkrH,GAASvH,EAAUpkC,IAAI25B,UAAWyQ,GAAcI,aAAarG,KA+C3DuJ,CAAiBtJ,GACf9mH,EA7CU,SAAU8mH,GAC/B,MAAO,CAAED,IAAKC,EAAUC,UA6CfsJ,CAAiBvJ,GAEjB8I,GAAsB9I,GAAW,IAGxCwJ,GAAkBn6C,EAAMk5C,GAAmBn5C,GAAU,GAErDq6C,GAAQvU,GAAS2D,IAEjB6Q,GAAiB,SAAU36B,EAAQ5oF,EAAM60F,GAC3C,IAAI9mG,EAAQ66F,EAAO46B,SAASxjH,EAAM60F,GAClC,IAA4B,IAAxB9mG,EAAMsQ,QAAQ,KAAa,CAC7B,IAAIolH,EAAU76B,EAAO46B,SAASxjH,EAAM,GAAI,QACxC,OAAOyjH,EAAQp1H,eAAeu6F,EAAO7/D,IAAM06F,EAAQ76B,EAAO7/D,IAAM8rE,EAEhE,OAAO9mG,GAkBP21H,GAA2B,SAAU96B,GACvC,OAAOA,EAAO46B,SAAS,0BAA2B,KAKhDG,GAAqB,SAAU/6B,GACjC,GAAIA,EAAO46B,SAAS,oBAAoB,GACtC,MAAO,IAET,IAAII,EAAQh7B,EAAO46B,SAAS,oBAAqB,KACjD,OAAc,IAAVI,EACK,IACY,IAAVA,EACF,IAEAA,GAGPC,GAA0B,SAAUj7B,GACtC,OAAOA,EAAO46B,SAAS,0BAA2B,KAuBhDM,GAA4B,SAAUl7B,GACxC,OAAOA,EAAO46B,SAAS,qBAAqB,EAAM,YAEhDO,GAAsB,SAAUn7B,GAClC,OAAOA,EAAO46B,SAAS,yBAAyB,EAAO,YAKrDQ,GAAkB,SAAUp7B,GAC9B,OAAOA,EAAO46B,SAAS,QAAS,GAAI,WAKlCS,GAAoB,SAAUr7B,GAChC,OAAOA,EAAO46B,SAAS,oBAAqB,GAAI,WAE9CU,GAAyB,SAAUt7B,GACrC,OAAOA,EAAO46B,SAAS,0BAA2B,GAAI,WAEpDW,GAA6B,SAAUv7B,GACzC,OAAOA,EAAO46B,SAAS,6BAA6B,EAAO,YAEzDY,GAAyB,SAAUx7B,GACrC,OAAOA,EAAO46B,SAAS,wBAAyB,KAAM,aAEpDa,GAA0B,SAAUz7B,GACtC,OAAOA,EAAO46B,SAAS,oBAAoB,EAAO,YAEhDc,GAAoB,SAAU17B,GAChC,OAAOA,EAAO46B,SAAS,kBAAmB,GAAI,WAE5Ce,GAAkB,SAAU37B,GAC9B,OAAOA,EAAO46B,SAAS,WAAY,KAAM,WAKvCgB,GAAwB,SAAU57B,GACpC,OAAOA,EAAO46B,SAAS,qBAAqB,IAiB1CiB,GAAa,SAAU77B,GACzB,IAAI87B,EAAU97B,EAAO46B,SAAS,WAAY,IAC1C,OAAO50H,EAAQ81H,GAAWA,EAAUzyH,EAAIyyH,EAAQx0H,MAAM,KAAMb,KAQ1Ds1H,GAAoB,SAAU/7B,GAChC,IAAIt9B,EAAWs9B,EAAO46B,SAAS,mBAC/B,OAAiB,IAAbl4D,IAAsBioB,GAAIG,MAGrBtL,EAAS9c,GAAYA,EAAW,4CASvCs5D,GAAe,SAAUh8B,GAC3B,OAAOA,EAAO46B,SAAS,eAKrBqB,GAAW,SAAUj8B,GACvB,OAAOA,EAAO46B,SAAS,UAErBsB,GAAiB,SAAUl8B,GAC7B,OAAOA,EAAO46B,SAAS,aAErBuB,GAA4B,SAAUn8B,GACxC,OAAgD,IAAzCA,EAAO46B,SAAS,sBAoDrBwB,GAAoB,SAAUp8B,GAChC,OAAOA,EAAO46B,SAAS,qBAErByB,GAAa,SAAUr8B,GACzB,OAAOA,EAAO46B,SAAS,UAAW,GAAI,WAkBpC0B,GAAc9pC,GACd+pC,GAAWtpC,GACXupC,GAAa,SAAU98E,GACzB,IAAIltC,EAAaktC,EAAKltC,WAClBA,GACFA,EAAWJ,YAAYstC,IAGvB+8E,GAAY,SAAUxiE,GACxB,IAAIyiE,EAAct4B,GAAOnqC,GACzB,MAAO,CACLj9C,MAAOi9C,EAAKjzD,OAAS01H,EAAY11H,OACjCizD,KAAMyiE,IAGNC,GAAkB,SAAUr3B,GAE9B,IADA,IAAI4a,GACsD,KAAlDA,EAAM5a,EAAer0E,KAAKzO,YAAY0hF,MAC5CoB,EAAes3B,WAAW1c,EAAK,IAG/B2c,GAAkB,SAAUv3B,EAAgBnrE,GAE9C,OADA2iG,GAASx3B,GACFnrE,GAaL4iG,GAA6B,SAAUz3B,EAAgBnrE,GACzD,IAAI3nB,EAAa2nB,EAAIlsB,YACjB+uH,EA/nSQ,SAAUl+C,EAAItzE,GAC1B,IAAIxG,EAAIu9E,EAAWzD,EAAItzE,GACvB,OAAc,IAAPxG,EAAWq9E,EAAStB,OAASsB,EAAS5tE,KAAKzP,GA6nShCyQ,CAAQ4tE,GAAO7wE,EAAW0iD,YAAaowC,GAAgBj8F,KAAI,SAAU2N,GACrF,OAAOA,EAAQmjB,EAAI/b,SAAW64G,GAAczkH,EAAY2nB,EAAI/b,SAAW,GAAK+b,KAC3EonD,MAAMpnD,GAET,OADA2iG,GAASx3B,GACF03B,GAELC,GAA2B,SAAU33B,EAAgBnrE,GACvD,OAAOoiG,GAASj3B,IAAmBnrE,EAAIlsB,cAAgBq3F,EApB3B,SAAUA,EAAgBnrE,GACtD,IAAIk2D,EAASosC,GAAUn3B,EAAer0E,KAAK01D,OAAO,EAAGxsD,EAAI/b,WACrDmyE,EAAQksC,GAAUn3B,EAAer0E,KAAK01D,OAAOxsD,EAAI/b,WAErD,OADWiyE,EAAOp2B,KAAOs2B,EAAMt2B,MACtBjzD,OAAS,GAChB21H,GAAgBr3B,GACT2xB,GAAc3xB,EAAgBnrE,EAAI/b,SAAWiyE,EAAOrzE,QAEpDmd,EAY+D+iG,CAAwB53B,EAAgBnrE,GAAO0iG,GAAgBv3B,EAAgBnrE,IAKrJgjG,GAAsB,SAAUlvH,EAAWksB,GAC7C,OAAO88F,GAAcO,eAAer9F,GAAO8iG,GAAyBhvH,EAAWksB,GAJ/C,SAAUmrE,EAAgBnrE,GAC1D,OAAOA,EAAIlsB,cAAgBq3F,EAAe9yF,WAAauqH,GAA2Bz3B,EAAgBnrE,GAAO0iG,GAAgBv3B,EAAgBnrE,GAGnDijG,CAA4BnvH,EAAWksB,IAE3H2iG,GAAW,SAAUO,GACnBf,GAAYe,IAAuB54B,GAAiB44B,KAClD34B,GAAW24B,GACbA,EAAmBz2H,gBAAgB,kBAEnC41H,GAAWa,IAGXd,GAASc,KACXV,GAAgBU,GACuB,IAAnCA,EAAmBpsG,KAAKjqB,QAC1Bw1H,GAAWa,KAKbC,GAAYhzC,KAAWhE,QACvBi3C,GAA2B/pC,GAC3BgqC,GAAY9pC,GACZ+pC,GAAgBhqC,GAEhBiqC,GAAwB,SAAUvrH,EAAMtG,EAASwkF,GACnD,IACI/C,EAAQhf,EAASC,EAAS5gE,EAAQgwH,EADlC9H,EAAa3B,GAASroH,EAAQC,wBAAyBukF,GAwB3D,MAtBqB,SAAjBl+E,EAAKizC,SACPkoC,EAASn7E,EAAK88E,cAAc/gF,gBAC5BogE,EAAUn8D,EAAKs/E,YAAcnE,EAAOmE,WACpCljB,EAAUp8D,EAAKihE,WAAaka,EAAOla,YAEnCuqD,EAAWxrH,EAAKrG,wBAChBwiE,EAAUn8D,EAAKs/E,WAAaksC,EAASzxH,KACrCqiE,EAAUp8D,EAAKihE,UAAYuqD,EAASvxH,KAEtCypH,EAAW3pH,MAAQoiE,EACnBunD,EAAWroH,OAAS8gE,EACpBunD,EAAWzpH,KAAOmiE,EAClBsnD,EAAWpoH,QAAU8gE,EACrBsnD,EAAW1pH,MAAQ,GACnBwB,EAAS9B,EAAQU,YAAcV,EAAQi6D,aAC1B,IACPuqB,IACF1iF,IAAW,GAEbkoH,EAAW3pH,MAAQyB,EACnBkoH,EAAWroH,OAASG,GAEfkoH,GA0BL+H,GAAY,SAAU59B,EAAQ7tF,EAAMqxF,EAAS8c,GAC/C,IACIud,EAAgBR,EADhBS,EAAkB/Q,GAAK1qC,EAAStB,QAEhCg9C,EAAYhD,GAAmB/6B,GAC/Bg+B,EAAaD,EAAU/2H,OAAS,EAAI+2H,EAAY,IAwChDhvH,EAAO,YApEmB,SAAUoD,GAExC,IADA,IAAI8rH,EAAuBvN,GAAc5jC,GAAaF,QAAQz6E,GA7BlC,qDA8BnB7N,EAAI,EAAGA,EAAI25H,EAAqBj3H,OAAQ1C,IAAK,CACpD,IAYM2sB,EAZFyuB,EAAOu+E,EAAqB35H,GAAGuoF,IAC/BnR,EAAUh8B,EAAK4vC,gBACf8V,GAAuB1pB,KAEL,KADhBzqD,EAAOyqD,EAAQzqD,MACVjqB,OACP00E,EAAQlpE,WAAWJ,YAAYspE,GAE/BA,EAAQkhD,WAAW3rG,EAAKjqB,OAAS,EAAG,IAGxC00E,EAAUh8B,EAAKrtC,YACX8yF,GAAyBzpB,KAEP,KADhBzqD,EAAOyqD,EAAQzqD,MACVjqB,OACP00E,EAAQlpE,WAAWJ,YAAYspE,GAE/BA,EAAQkhD,WAAW,EAAG,KAkD1BsB,CAA0B/rH,GACtBkrH,IACFP,GAASO,GACTA,EAAqB,MAEvBS,EAAgB/4H,MAAMixD,MAAK,SAAUmoE,GACnCnb,GAASmb,EAAWC,OAAO7rH,SAC3BurH,EAAgBriH,IAAI4mE,EAAStB,WAE3B88C,IACFj+B,GAAMhG,cAAcikC,GACpBA,EAAiB,OAGjBQ,EAAa,WACfR,EAAiBj+B,GAAMjG,aAAY,WAC7B2mB,IACF0C,GAAS,uBAAwB7wG,GAAMgwD,YAAY,2BAEnD6gD,GAAS,uBAAwB7wG,GAAM2oD,SAAS,6BAEjD,MAcL,MAAO,CACL9rD,KA5ES,SAAUqhF,EAAQxkF,GAC3B,IAAIgqH,EAAY7E,EAEhB,GADAjiH,IACI0uH,GAAc5xH,GAChB,OAAO,KAET,IAAI23F,EAAQ33F,GA6BV,OATAwxH,EAxmMa,SAAU39E,EAAM2wC,GACjC,IAAI3U,EAEA4iD,EADM5+E,EAAKuvC,cACI7B,eAAe8W,IAC9B1xF,EAAaktC,EAAKltC,WACtB,GAAK69E,EAgBE,CAEL,GADA3U,EAAUh8B,EAAK4vC,gBACXgV,GAAS5oB,GAAU,CACrB,GAAI+oB,GAAiB/oB,GACnB,OAAOA,EAET,GAAI0pB,GAAuB1pB,GACzB,OAAOA,EAAQ6iD,UAAU7iD,EAAQzqD,KAAKjqB,OAAS,GAGnDwL,EAAWF,aAAagsH,EAAU5+E,OA1BvB,CAEX,GADAg8B,EAAUh8B,EAAKrtC,YACXiyF,GAAS5oB,GAAU,CACrB,GAAI+oB,GAAiB/oB,GACnB,OAAOA,EAET,GAAIypB,GAAyBzpB,GAE3B,OADAA,EAAQ6iD,UAAU,GACX7iD,EAGPh8B,EAAKrtC,YACPG,EAAWF,aAAagsH,EAAU5+E,EAAKrtC,aAEvCG,EAAWN,YAAYosH,GAc3B,OAAOA,EAukMkBE,CAAa3yH,EAASwkF,GAC3C2gC,EAAMnlH,EAAQojF,cAAco5B,cACxBoW,GAAwBpB,EAAmBhrH,cAC7C2+G,EAAI/F,SAASoS,EAAoB,GACjCrM,EAAI9F,OAAOmS,EAAoB,KAE/BrM,EAAI/F,SAASoS,EAAoB,GACjCrM,EAAI9F,OAAOmS,EAAoB,IAE1BrM,EA5BPqM,EAAqBt4B,GAAYi5B,EAAYnyH,EAASwkF,GACtDwlC,EAAa6H,GAAsBvrH,EAAMtG,EAASwkF,GAClD2yB,GAASqa,GAAoB3iE,IAAI,MAAOm7D,EAAWzpH,KACnD,IAAIgyH,EAAQpb,GAAS,6DAA6DtoD,IAAIm7D,GAAYpR,SAAStyG,GAAM,GA2BnH,OA1BE2rH,EAAgBriH,IAAI4mE,EAAS5tE,KAAK,CAChC2pH,MAAOA,EACPvyH,QAASA,EACTwkF,OAAQA,KAEVytC,EAAgB/4H,MAAMixD,MAAK,SAAUmoE,GAC/B9tC,GACF2yB,GAASmb,EAAWC,OAAOtjE,SAAS,8BAGxCujE,KACArN,EAAMnlH,EAAQojF,cAAco5B,eACxB4C,SAASoS,EAAoB,GACjCrM,EAAI9F,OAAOmS,EAAoB,GAa1BrM,GAwCPjiH,KAAMA,EACN2vH,OANW,WACX,MAAO,wOAMPC,WAhBe,WACfb,EAAgB/4H,MAAMixD,MAAK,SAAUmoE,GACnC,IAAItI,EAAa6H,GAAsBvrH,EAAMgsH,EAAWtyH,QAASsyH,EAAW9tC,QAC5E2yB,GAASmb,EAAWC,OAAO1jE,IAAIsqB,GAAS,GAAI6wC,QAc9C5oH,QAXY,WACZ,OAAO2yF,GAAMhG,cAAcikC,MAa3Be,GAA0B,WAC5B,OAAOtB,GAAUz1C,QAAUy1C,GAAU31C,UAAY21C,GAAUv1C,aAEzD02C,GAA0B,SAAU/+E,GACtC,OAAO69E,GAAyB79E,IAAS89E,GAAU99E,IAEjDm/E,GAAoB,SAAUn/E,GAChC,OAAO++E,GAAwB/+E,IAASozC,GAAQpzC,IAASk/E,MAGvDE,GAA2BtrC,GAC3BurC,GAAYrrC,GACZsrC,GAAcrsC,GAAiB,UAAW,kDAC1CssC,GAAqBx6B,GACrBy6B,GAA0B36B,GAC1B46B,GAAc3sC,GACd4sC,GAAqBn5B,GACrBo5B,GAAa,SAAUx6D,GACzB,OAAOA,EAAY,GAEjBy6D,GAAc,SAAUz6D,GAC1B,OAAOA,EAAY,GAEjB06D,GAAsB,SAAU7zC,EAAMqX,GAExC,IADA,IAAIrjD,EACGA,EAAOgsC,EAAKqX,IACjB,IAAKm8B,GAAwBx/E,GAC3B,OAAOA,EAGX,OAAO,MAEL8/E,GAAW,SAAU9/E,EAAMmlB,EAAW46D,EAAa78B,EAAUG,GAC/D,IAAIqE,EAAS,IAAI1E,GAAchjD,EAAMkjD,GACjC88B,EAAwBZ,GAAyBp/E,IAASw/E,GAAwBx/E,GACtF,GAAI4/E,GAAYz6D,GAAY,CAC1B,GAAI66D,GAEED,EADJ//E,EAAO6/E,GAAoBn4B,EAAOvE,KAAKv9F,KAAK8hG,IAAS,IAEnD,OAAO1nD,EAGX,KAAOA,EAAO6/E,GAAoBn4B,EAAOvE,KAAKv9F,KAAK8hG,GAASrE,IAC1D,GAAI08B,EAAY//E,GACd,OAAOA,EAIb,GAAI2/E,GAAWx6D,GAAY,CACzB,GAAI66D,GAEED,EADJ//E,EAAO6/E,GAAoBn4B,EAAO3mF,KAAKnb,KAAK8hG,IAAS,IAEnD,OAAO1nD,EAGX,KAAOA,EAAO6/E,GAAoBn4B,EAAO3mF,KAAKnb,KAAK8hG,GAASrE,IAC1D,GAAI08B,EAAY//E,GACd,OAAOA,EAIb,OAAO,MAELigF,GAAiB,SAAUjgF,EAAMkjD,GACnC,KAAOljD,GAAQA,IAASkjD,GAAU,CAChC,GAAIo8B,GAAYt/E,GACd,OAAOA,EAETA,EAAOA,EAAKltC,WAEd,OAAO,MAELotH,GAAgB,SAAUC,EAAgBC,EAAgBl9B,GAC5D,OAAO+8B,GAAeE,EAAe5xH,YAAa20F,KAAc+8B,GAAeG,EAAe7xH,YAAa20F,IAEzGm9B,GAA+B,SAAUC,EAAgBnJ,GAC3D,IAAKA,EACH,OAAO,KAET,IAAI5oH,EAAY4oH,EAAc5oH,YAC1BmQ,EAASy4G,EAAcz4G,SAC3B,OAAK+gH,GAAYlxH,GAGVA,EAAUinD,WAAW92C,EAAS4hH,GAF5B,MAIPC,GAAc,SAAU5vC,EAAQ3wC,GAClC,IAAIsiB,EAAQtiB,EAAKuvC,cAAco5B,cAQ/B,OAPIh4B,GACFruB,EAAMk+D,eAAexgF,GACrBsiB,EAAMm+D,aAAazgF,KAEnBsiB,EAAMo+D,cAAc1gF,GACpBsiB,EAAMw0D,YAAY92E,IAEbsiB,GAELq+D,GAAqB,SAAUluH,EAAMmuH,EAAOC,GAC9C,OAAOZ,GAAeW,EAAOnuH,KAAUwtH,GAAeY,EAAOpuH,IAE3DquH,GAAO,SAAUt0H,EAAMiG,EAAMutC,GAC/B,IAAIg8B,EAASynB,EAMb,IAJEA,EADEj3F,EACY,kBAEA,cAETwzC,GAAQA,IAASvtC,GAAM,CAK5B,GAJAupE,EAAUh8B,EAAKyjD,GACX87B,GAAmBvjD,KACrBA,EAAUA,EAAQynB,IAEhB27B,GAAyBpjD,IAAYqjD,GAAUrjD,GAAU,CAC3D,GAAI2kD,GAAmBluH,EAAMupE,EAASh8B,GACpC,OAAOg8B,EAET,MAEF,GAAI0jD,GAAmB1jD,GACrB,MAEFh8B,EAAOA,EAAKltC,WAEd,OAAO,MAELiuH,GAAWngD,EAAM2/C,IAAa,GAC9BS,GAAUpgD,EAAM2/C,IAAa,GAC7BU,GAAiB,SAAU97D,EAAW1yD,EAAM6vD,GAC9C,IAAItiB,EAAMzxC,EAAWoyG,EACjBugB,EAAWtgD,EAAMkgD,IAAM,EAAMruH,GAC7B0uH,EAAYvgD,EAAMkgD,IAAM,EAAOruH,GACnClE,EAAY+zD,EAAMupD,eAClB,IAAIntG,EAAS4jD,EAAMwpD,YACnB,GAAIjnB,GAAsBt2F,GAAY,CAKpC,GAJKkxH,GAAYlxH,KACfA,EAAYA,EAAUuE,YAGP,YADjB6tG,EAAWpyG,EAAUtH,aAAa,qBAEhC+4C,EAAOzxC,EAAUoE,YACbwsH,GAAkBn/E,IACpB,OAAO+gF,GAAS/gF,GAGpB,GAAiB,UAAb2gE,IACF3gE,EAAOzxC,EAAUqhF,gBACbuvC,GAAkBn/E,IACpB,OAAOghF,GAAQhhF,GAIrB,IAAKsiB,EAAMg4D,UACT,OAAOh4D,EAET,GAAIixB,GAAShlF,GAAY,CACvB,GAAIgxH,GAAmBhxH,GAAY,CACjC,GAAkB,IAAd42D,EAAiB,CAEnB,GADAnlB,EAAOmhF,EAAU5yH,GAEf,OAAOwyH,GAAS/gF,GAGlB,GADAA,EAAOkhF,EAAS3yH,GAEd,OAAOyyH,GAAQhhF,GAGnB,IAAmB,IAAfmlB,EAAkB,CAEpB,GADAnlB,EAAOkhF,EAAS3yH,GAEd,OAAOyyH,GAAQhhF,GAGjB,GADAA,EAAOmhF,EAAU5yH,GAEf,OAAOwyH,GAAS/gF,GAGpB,OAAOsiB,EAET,GAAIojC,GAAuBn3F,IAAcmQ,GAAUnQ,EAAUgjB,KAAKjqB,OAAS,EACzE,OAAkB,IAAd69D,IACFnlB,EAAOmhF,EAAU5yH,IAERwyH,GAAS/gF,GAGbsiB,EAET,GAAImjC,GAAyBl3F,IAAcmQ,GAAU,EACnD,OAAmB,IAAfymD,IACFnlB,EAAOkhF,EAAS3yH,IAEPyyH,GAAQhhF,GAGZsiB,EAET,GAAI5jD,IAAWnQ,EAAUgjB,KAAKjqB,OAE5B,OADA04C,EAAOmhF,EAAU5yH,IAERwyH,GAAS/gF,GAEXsiB,EAET,GAAe,IAAX5jD,EAEF,OADAshC,EAAOkhF,EAAS3yH,IAEPyyH,GAAQhhF,GAEVsiB,EAGX,OAAOA,GAEL8+D,GAAoB,SAAUjhB,EAASgX,GACzC,OAAOx0C,EAASt8E,KAAKg6H,GAA6BlgB,EAAU,GAAK,EAAGgX,IAAgB30G,OAAO48G,KAEzFiC,GAA6B,SAAUl8D,EAAW1yD,EAAM6vD,GAC1D,IAAIg/D,EAAkBL,GAAe97D,EAAW1yD,EAAM6vD,GACtD,OAAmB,IAAf6C,EACKoyD,GAAcG,eAAe4J,GAE/B/J,GAAcI,aAAa2J,IAEhCC,GAAyB,SAAU9mG,GACrC,OAAOkoD,EAASt8E,KAAKo0B,EAAIy6F,WAAWvrH,IAAIyjF,GAAaF,UAKnDs0C,GAAyB,SAAUC,EAAQtK,GAC7C,KAAOA,EAAgBsK,EAAOtK,IAC5B,GAAIA,EAAch2D,YAChB,OAAOg2D,EAGX,OAAOA,GAELuK,GAAwB,SAAUr7H,EAAMwZ,GAC1C,IAAI8hH,EAAczB,GAAc75H,EAAMwZ,GACtC,QAAK8hH,IAAehuC,GAAKttF,EAAK6uH,aAGvByM,IAIR,SAAU3J,GACTA,EAAWA,EAAsB,WAAK,GAAK,YAC3CA,EAAWA,EAAqB,SAAI,GAAK,WAF3C,CAGEA,KAAeA,GAAa,KAC9B,IAwcqB4J,GAxcjBC,GAA2B/tC,GAC3BguC,GAAWvuC,GACXwuC,GAAcjvC,GACdkvC,GAASruC,GACTsuC,GAAqB17B,GACrB27B,GApwMW,SAAUliF,GACvB,OAAOomD,GAAepmD,IATW,SAAUA,GAC3C,QAAKwmD,GAA4BxmD,KAKnB,IAFPmjC,EAAMQ,GAAO3jC,EAAKjC,qBAAqB,OAAO,SAAUrpC,EAAQ0gF,GACrE,OAAO1gF,GAAUqxF,GAAwB3Q,MACxC,GAG4B+sC,CAA6BniF,IAowM1DoiF,GAA6B17B,GAS7B27B,GAAc,SAAU9zH,EAAWmQ,GACrC,OAAInQ,EAAUg/E,iBAAmB7uE,EAASnQ,EAAUinD,WAAWluD,OACtDiH,EAAUinD,WAAW92C,GAEvB,MAEL4jH,GAA4B,SAAUn9D,EAAWnlB,GACnD,GAAI2/E,GAAWx6D,GAAY,CACzB,GAAI88D,GAAmBjiF,EAAK4vC,mBAAqBkyC,GAAS9hF,EAAK4vC,iBAC7D,OAAO2nC,GAAc5mC,OAAO3wC,GAE9B,GAAI8hF,GAAS9hF,GACX,OAAOu3E,GAAcv3E,EAAM,GAG/B,GAAI4/E,GAAYz6D,GAAY,CAC1B,GAAI88D,GAAmBjiF,EAAKrtC,eAAiBmvH,GAAS9hF,EAAKrtC,aACzD,OAAO4kH,GAAc1mC,MAAM7wC,GAE7B,GAAI8hF,GAAS9hF,GACX,OAAOu3E,GAAcv3E,EAAMA,EAAKzuB,KAAKjqB,QAGzC,OAAIs4H,GAAYz6D,GACV68D,GAAOhiF,GACFu3E,GAAc5mC,OAAO3wC,GAEvBu3E,GAAc1mC,MAAM7wC,GAEtBu3E,GAAc5mC,OAAO3wC,IAc1BuiF,GAAoB,SAAUp9D,EAAWq9D,EAAU/vH,GACrD,IAAIutC,EAAMyiF,EAAUC,EAChBvL,EACJ,IAAK4K,GAAYtvH,KAAU+vH,EACzB,OAAO,KAET,GAAIA,EAAS/K,QAAQF,GAAc1mC,MAAMp+E,KAAUA,EAAKw9E,WAEtD,GADAknC,EAAgBI,GAAc1mC,MAAMp+E,EAAKw9E,WACrC2vC,GAAYz6D,IAAc88D,GAAmBxvH,EAAKw9E,YAAc8xC,GAAYtvH,EAAKw9E,WACnF,OAAO+xC,GAAOvvH,EAAKw9E,WAAasnC,GAAc5mC,OAAOl+E,EAAKw9E,WAAaknC,OAGzEA,EAAgBqL,EAElB,IAAIj0H,EAAY4oH,EAAc5oH,YAC1BmQ,EAASy4G,EAAcz4G,SAC3B,GAAIojH,GAASvzH,GAAY,CACvB,GAAIqxH,GAAYz6D,IAAczmD,EAAS,EACrC,OAAO64G,GAAchpH,IAAamQ,GAEpC,GAAIihH,GAAWx6D,IAAczmD,EAASnQ,EAAUjH,OAC9C,OAAOiwH,GAAchpH,IAAamQ,GAEpCshC,EAAOzxC,MACF,CACL,GAAIqxH,GAAYz6D,IAAczmD,EAAS,IACrC+jH,EAAWJ,GAAY9zH,EAAWmQ,EAAS,GACvCujH,GAAmBQ,IACrB,OAAKP,GAAWO,KACdC,EAAY5C,GAAS2C,EAAUt9D,EAAWi9D,GAA4BK,IAEhEX,GAASY,GACJnL,GAAcmL,EAAWA,EAAUnxG,KAAKjqB,QAE1CiwH,GAAc1mC,MAAM6xC,GAG3BZ,GAASW,GACJlL,GAAckL,EAAUA,EAASlxG,KAAKjqB,QAExCiwH,GAAc5mC,OAAO8xC,GAGhC,GAAI9C,GAAWx6D,IAAczmD,EAASnQ,EAAUinD,WAAWluD,SACzDm7H,EAAWJ,GAAY9zH,EAAWmQ,GAC9BujH,GAAmBQ,IACrB,OAAIT,GAAOS,GA1DK,SAAUhwH,EAAMgwH,GACtC,IAAI9vH,EAAc8vH,EAAS9vH,YAC3B,OAAIA,GAAesvH,GAAmBtvH,GAChCmvH,GAASnvH,GACJ4kH,GAAc5kH,EAAa,GAE3B4kH,GAAc5mC,OAAOh+E,GAGvB4vH,GAAkBvK,GAAW2K,SAAUpL,GAAc1mC,MAAM4xC,GAAWhwH,GAkDhEmwH,CAAkBnwH,EAAMgwH,IAE5BP,GAAWO,KACdC,EAAY5C,GAAS2C,EAAUt9D,EAAWi9D,GAA4BK,IAEhEX,GAASY,GACJnL,GAAcmL,EAAW,GAE3BnL,GAAc5mC,OAAO+xC,GAG5BZ,GAASW,GACJlL,GAAckL,EAAU,GAE1BlL,GAAc1mC,MAAM4xC,GAG/BziF,EAAOyiF,GAAsBtL,EAAcjC,UAE7C,IAAIyK,GAAWx6D,IAAcgyD,EAAc/xB,WAAaw6B,GAAYz6D,IAAcgyD,EAAcjyB,eAC9FllD,EAAO8/E,GAAS9/E,EAAMmlB,EAAWic,EAAQ3uE,GAAM,GAC3C2vH,GAA2BpiF,EAAMvtC,IACnC,OAAO6vH,GAA0Bn9D,EAAWnlB,GAGhDyiF,EAAW3C,GAAS9/E,EAAMmlB,EAAWi9D,GAA4B3vH,GACjE,IAAIowH,EAA8Bx9C,GAAO7iE,EA5H1B,SAAUw9B,EAAMvtC,GAE/B,IADA,IAAIw/F,EAAU,GACPjyD,GAAQA,IAASvtC,GACtBw/F,EAAQ7qG,KAAK44C,GACbA,EAAOA,EAAKltC,WAEd,OAAOm/F,EAsHyC2V,CAAWr5G,EAAWkE,GAAOovH,KAC7E,OAAIgB,GAAiCJ,GAAaI,EAA4BvwH,SAASmwH,GAQnFA,EACKH,GAA0Bn9D,EAAWs9D,GAEvC,KATHtL,EADEwI,GAAWx6D,GACGoyD,GAAc1mC,MAAMgyC,GAEpBtL,GAAc5mC,OAAOkyC,IASvCC,GAAc,SAAUrwH,GAC1B,MAAO,CACLsO,KAAM,SAAUo2G,GACd,OAAOoL,GAAkBvK,GAAW2K,SAAUxL,EAAe1kH,IAE/D0wF,KAAM,SAAUg0B,GACd,OAAOoL,GAAkBvK,GAAW+K,UAAW5L,EAAe1kH,MAYhEuwH,GAAkB,SAAUh1H,GAC9B,OAAIupH,GAAcO,eAAe9pH,GACF,IAAtBA,EAAS0Q,SAET6nF,GAAiBv4F,EAASknH,YAGjC+N,GAAe,SAAUj1H,GAC3B,GAAIupH,GAAcO,eAAe9pH,GAAW,CAC1C,IAAIO,EAAYP,EAASO,YACzB,OAAOP,EAAS0Q,WAAanQ,EAAUgjB,KAAKjqB,OAE5C,OAAOi/F,GAAiBv4F,EAASknH,SAAQ,KAGzCgO,GAA2B,SAAU78H,EAAMwZ,GAC7C,OAAQ03G,GAAcO,eAAezxH,KAAUkxH,GAAcO,eAAej4G,IAAOxZ,EAAK6uH,YAAcr1G,EAAGq1G,SAAQ,IAK/GiO,GAAqB,SAAUhjB,EAAS95G,EAAMwZ,GAChD,OAAIsgG,GACM+iB,GAAyB78H,EAAMwZ,KALpB7R,EAKmC3H,KAJhDkxH,GAAcO,eAAe9pH,IAAa2lF,GAAK3lF,EAASknH,cAIC+N,GAAa58H,IAAS28H,GAAgBnjH,IAE7FqjH,GAAyBrjH,EAAIxZ,IAAS28H,GAAgB38H,IAAS48H,GAAapjH,GAP3E,IAAU7R,GAUnBo1H,GAAe,SAAUjjB,EAAS1tG,EAAMgoB,GAC1C,IAAIitE,EAASo7B,GAAYrwH,GACzB,OAAOkwE,EAASt8E,KAAK85G,EAAUzY,EAAO3mF,KAAK0Z,GAAOitE,EAAOvE,KAAK1oE,KAE5D4oG,GAAW,SAAUljB,EAAS1tG,EAAMpM,GACtC,OAAO+8H,GAAajjB,EAAS1tG,EAAMpM,GAAMT,MAAK,SAAUia,GACtD,OAAIqgH,GAAc75H,EAAMwZ,EAAIpN,IAAS0wH,GAAmBhjB,EAAS95G,EAAMwZ,GAC9DujH,GAAajjB,EAAS1tG,EAAMoN,GAE5B8iE,EAAS5tE,KAAK8K,OAIvByjH,GAAiB,SAAUnjB,EAAS1tG,EAAMpM,EAAMk9H,GAClD,OAAOF,GAASljB,EAAS1tG,EAAMpM,GAAMT,MAAK,SAAU60B,GAClD,OAAO8oG,EAAa9oG,GAAO6oG,GAAenjB,EAAS1tG,EAAMgoB,EAAK8oG,GAAgB5gD,EAAS5tE,KAAK0lB,OAG5F+oG,GAAa,SAAUrjB,EAASh0G,GAClC,IAlD2B6zC,EAkDvBijD,EAAYkd,EAAUh0G,EAAQ6jF,WAAa7jF,EAAQ8jF,UACvD,OAAIsD,GAAS0P,GACJtgB,EAAS5tE,KAAKwiH,GAAct0B,EAAWkd,EAAU,EAAIld,EAAU1xE,KAAKjqB,SAClE27F,EACLsD,GAAiBtD,GACZtgB,EAAS5tE,KAAKorG,EAAUoX,GAAc5mC,OAAOsS,GAtDjDtP,GADoB3zC,EAuDuDijD,GAtD9Ds0B,GAAc5mC,OAAO3wC,GAAQu3E,GAAc1mC,MAAM7wC,IALhD,SAAUmgE,EAAS1tG,EAAM/E,GAC9C,IAAIM,EAAWmyG,EAAUoX,GAAc5mC,OAAOjjF,GAAS6pH,GAAc1mC,MAAMnjF,GAC3E,OAAO01H,GAAajjB,EAAS1tG,EAAMzE,GA2DxBy1H,CAAiBtjB,EAASh0G,EAAS82F,GAGrCtgB,EAAStB,QAGhBqiD,GAAe9iD,EAAMwiD,IAAc,GACnCO,GAAe/iD,EAAMwiD,IAAc,GACnCQ,GAAkBhjD,EAAM4iD,IAAY,GACpCK,GAAiBjjD,EAAM4iD,IAAY,GAEnCM,GAAW,aACXC,GAAc,SAAU/jF,GAC1B,OAAO8yC,GAAY9yC,IAASA,EAAKvf,KAAOqjG,IAEtCE,GAA0B,SAAUxuH,EAAMwqC,GAC5C,KAAOA,GAAQA,IAASxqC,GAAM,CAC5B,GAAIwqC,EAAKvf,KAAOqjG,GACd,OAAO9jF,EAETA,EAAOA,EAAKltC,WAEd,OAAO,MAmBLmxH,GAAW,SAAU92C,EAAKntC,GAI5B,OAHI8yC,GAAY9yC,IAASmtC,EAAI2W,QAAQ9jD,KAAUA,EAAKl5C,YAAcmkF,GAAIzC,KACpExoC,EAAKl5C,UAAY,6BAEZk5C,GAoBLkkF,GAAuB,SAAUlkF,EAAMsxE,GACzC,OAAOuS,GAAe7jF,GAAMyhC,KAAKN,GAAO,SAAU1mD,GAGhD,OAFA62F,EAAI/F,SAAS9wF,EAAIlsB,YAAaksB,EAAI/b,UAClC4yG,EAAI9F,OAAO/wF,EAAIlsB,YAAaksB,EAAI/b,WACzB,MAGPylH,GAAyB,SAAU1xH,EAAMutC,EAAMsxE,GACjD,SAXc,SAAUtxE,GACxB,OAAgC,IAAzBA,EAAKutC,gBAUR62C,CAAUpkF,KAASgkF,GAAwBvxH,EAAMutC,MAjBtC,SAAUA,EAAMsxE,GAC/B,IAAIsN,EAAW5+E,EAAKuvC,cAAc7B,eAAe8W,IACjDxkD,EAAKxtC,YAAYosH,GACjBtN,EAAI/F,SAASqT,EAAU,GACvBtN,EAAI9F,OAAOoT,EAAU,GAcnByF,CAAWrkF,EAAMsxE,IACV,IAKPgT,GAAc,SAAUn3C,EAAKz/E,EAAOssH,EAAU1I,GAChD,IACI1sH,EAAGo7C,EAAMthC,EAAQvX,EADjBq9B,EAAQw1F,EAAStsH,EAAQ,QAAU,OAEnC+E,EAAO06E,EAAI25B,UACf,GAAItiF,EAAO,CAET,IADA9lB,EAAS8lB,EAAM,GACVwb,EAAOvtC,EAAM7N,EAAI4/B,EAAMl9B,OAAS,EAAG1C,GAAK,EAAGA,IAAK,CAEnD,GADAuC,EAAW64C,EAAKwV,WACZ2uE,GAAuB1xH,EAAMutC,EAAMsxE,GACrC,OAAO,EAET,GAAI9sF,EAAM5/B,GAAKuC,EAASG,OAAS,EAC/B,QAAI68H,GAAuB1xH,EAAMutC,EAAMsxE,IAGhC4S,GAAqBlkF,EAAMsxE,GAEpCtxE,EAAO74C,EAASq9B,EAAM5/B,IAEF,IAAlBo7C,EAAK2E,WACPjmC,EAASxV,KAAKN,IAAI47B,EAAM,GAAIwb,EAAK2/D,UAAUr4G,SAEvB,IAAlB04C,EAAK2E,WACPjmC,EAASxV,KAAKN,IAAI47B,EAAM,GAAIwb,EAAKwV,WAAWluD,SAE1CoG,EACF4jH,EAAI/F,SAASvrE,EAAMthC,GAEnB4yG,EAAI9F,OAAOxrE,EAAMthC,GAGrB,OAAO,GAEL6lH,GAAkB,SAAUvkF,GAC9B,OAAOuzC,GAASvzC,IAASA,EAAKzuB,KAAKjqB,OAAS,GAE1Ck9H,GAAkB,SAAUr3C,EAAKgnB,EAAQ6lB,GAC3C,IAAkDh6E,EAAMwgE,EAAKz/F,EAAMoiF,EAE/D50F,EAAWmQ,EAFXkyE,EAASzD,EAAI9nF,IAAI20H,EAASv5F,GAAK,IAAM0zE,GACrCwmB,EAAOX,EAASW,KAEpB,GAAI/pC,EAAQ,CAwCV,GAvCA5wC,EAAO4wC,EAAO99E,WACC,UAAXqhG,GACGwmB,EAGC/pC,EAAOrD,iBACTvtC,EAAO4wC,EAAOZ,WACdwwB,EAAM,GACG+jB,GAAgB3zC,EAAOj+E,cAChCqtC,EAAO4wC,EAAOj+E,YACd6tG,EAAM,GACG+jB,GAAgB3zC,EAAOhB,kBAChC5vC,EAAO4wC,EAAOhB,gBACd4wB,EAAM5vB,EAAOhB,gBAAgBr+D,KAAKjqB,SAElC04C,EAAO4wC,EAAO99E,WACd0tG,EAAMrzB,EAAIkzB,UAAUzvB,GAAU,GAbhC4vB,EAAMrzB,EAAIkzB,UAAUzvB,GAgBtBriF,EAAYyxC,EACZthC,EAAS8hG,IAEJma,EAGC/pC,EAAOrD,iBACTvtC,EAAO4wC,EAAOZ,WACdwwB,EAAM,GACG+jB,GAAgB3zC,EAAOhB,kBAChC5vC,EAAO4wC,EAAOhB,gBACd4wB,EAAM5vB,EAAOhB,gBAAgBr+D,KAAKjqB,SAElC04C,EAAO4wC,EAAO99E,WACd0tG,EAAMrzB,EAAIkzB,UAAUzvB,IAVtB4vB,EAAMrzB,EAAIkzB,UAAUzvB,GAatBriF,EAAYyxC,EACZthC,EAAS8hG,IAENma,EAAM,CAQT,IAPAx3B,EAAOvS,EAAOhB,gBACd7uE,EAAO6vE,EAAOj+E,YACds5E,GAAM31B,KAAK21B,GAAMG,KAAKwE,EAAOp7B,aAAa,SAAUxV,GAC9CuzC,GAASvzC,KACXA,EAAK2/D,UAAY3/D,EAAK2/D,UAAUt3G,QAAQ,UAAW,QAGhDuoF,EAASzD,EAAI9nF,IAAI20H,EAASv5F,GAAK,IAAM0zE,IAC1ChnB,EAAIt6E,OAAO+9E,GAAQ,GAEjBuS,GAAQpiF,GAAQoiF,EAAKx+C,WAAa5jC,EAAK4jC,UAAY4uC,GAAS4P,KAAUlY,GAAI3xE,QAC5EknG,EAAMrd,EAAKwc,UAAUr4G,OACrB67F,EAAKshC,WAAW1jH,EAAK4+F,WACrBxyB,EAAIt6E,OAAOkO,GACXxS,EAAY40F,EACZzkF,EAAS8hG,GAGb,OAAO79B,EAAS5tE,KAAKwiH,GAAchpH,EAAWmQ,IAE9C,OAAOikE,EAAStB,QA4BhBqjD,GAAY,SAAUnT,EAAWyI,GACnC,IAAI7sC,EAAMokC,EAAUpkC,IACpB,GAAI6sC,EAAU,CACZ,GA/KiB,SAAUA,GAC7B,OAAO/tC,GAAM3lF,QAAQ0zH,EAAStsH,OA8KxBi3H,CAAe3K,GACjB,OA7Ba,SAAU7sC,EAAK6sC,GAChC,IAAI1I,EAAMnkC,EAAIu7B,YACd,OAAI4b,GAAYn3C,GAAK,EAAM6sC,EAAU1I,IAAQgT,GAAYn3C,GAAK,EAAO6sC,EAAU1I,GACtE3uC,EAAS5tE,KAAKu8G,GAEd3uC,EAAStB,OAwBPujD,CAAaz3C,EAAK6sC,GACpB,GA7LgB,SAAUA,GACnC,OAAOl6C,EAASk6C,EAAStsH,OA4LZm3H,CAAqB7K,GAC9B,OAAOr3C,EAAS5tE,KAxKa,SAAUo4E,EAAK6sC,GAChD,IAAIv/F,EACA62F,EAAMnkC,EAAIu7B,YAKd,OAJAjuF,EAAMw+F,GAAU9rC,EAAI25B,UAAWkT,EAAStsH,OACxC4jH,EAAI/F,SAAS9wF,EAAIlsB,YAAaksB,EAAI/b,UAClC+b,EAAMw+F,GAAU9rC,EAAI25B,UAAWkT,EAASpsH,KACxC0jH,EAAI9F,OAAO/wF,EAAIlsB,YAAaksB,EAAI/b,UACzB4yG,EAiKkBwT,CAA6B33C,EAAK6sC,IAClD,GAzLQ,SAAUA,GAC3B,OAAOA,EAASj0H,eAAe,MAwLlBg/H,CAAa/K,GACtB,OAzBU,SAAU7sC,EAAK6sC,GAC7B,IAAIwI,EAAWgC,GAAgBr3C,EAAK,QAAS6sC,GACzC/5G,EAASukH,GAAgBr3C,EAAK,MAAO6sC,GACzC,OAAO7F,GAAMqO,EAAUviH,EAAOiiE,GAAGsgD,IAAW,SAAUwC,EAAMC,GAC1D,IAAI3T,EAAMnkC,EAAIu7B,YAGd,OAFA4I,EAAI/F,SAAS0Y,GAAS92C,EAAK63C,EAAKz2H,aAAcy2H,EAAKtmH,UACnD4yG,EAAI9F,OAAOyY,GAAS92C,EAAK83C,EAAK12H,aAAc02H,EAAKvmH,UAC1C4yG,KAkBE4T,CAAU/3C,EAAK6sC,GACjB,GAxLW,SAAUA,GAC9B,OAAOA,EAASj0H,eAAe,QAuLlBo/H,CAAgBnL,GACzB,OAjBe,SAAU7sC,EAAK6sC,GAClC,OAAOr3C,EAASt8E,KAAK8mF,EAAI7oB,OAAO01D,EAAStiH,MAAMsiH,EAAS1iH,QAAQ3N,KAAI,SAAUyrF,GAC5E,IAAIk8B,EAAMnkC,EAAIu7B,YAEd,OADA4I,EAAI8T,WAAWhwC,GACRk8B,KAaE+T,CAAel4C,EAAK6sC,GACtB,GAhMW,SAAUA,GAC9B,OAAOA,EAASj0H,eAAe,OA+LlBu/H,CAAgBtL,GACzB,OAAOr3C,EAAS5tE,KAAKilH,EAAS1I,KAGlC,OAAO3uC,EAAStB,QAGdkkD,GAAgB,SAAUhU,EAAW9mH,EAAMgoC,GAC7C,OAAOmoF,GAAYrJ,EAAW9mH,EAAMgoC,IAElCioF,GAAiB,SAAUnJ,EAAWyI,GACxC0K,GAAUnT,EAAWyI,GAAU1jE,MAAK,SAAUg7D,GAC5CC,EAAUiU,OAAOlU,OAGjBmU,GAAmB,SAAUzlF,GAC/B,OAAO8yC,GAAY9yC,IAA0B,SAAjBA,EAAK0F,SAA6D,aAAvC1F,EAAK/4C,aAAa,kBAQvEy+H,IALiB9D,GAKHr9B,GAJT,SAAUohC,GACf,OAAO/D,KAAa+D,IAIpBC,GAAiB,SAAU9xG,GAC7B,MAAe,KAARA,IAAgD,IAAlC,cAAgB/d,QAAQ+d,IAE3C+xG,GAAc,SAAU/xG,GAC1B,OAAQ8xG,GAAe9xG,KAAS4xG,GAAO5xG,IAGrCgyG,GAAS,SAAU9lF,GACrB,QAASA,EAAK2E,UAKZohF,GAAY,SAAU54C,EAAKokC,EAAWD,GACxC,IACoC5pB,EAAQ1nD,EAAMk1C,EAD9Cx2E,EAAS4yG,EAAIxF,YACbv9G,EAAY+iH,EAAIzF,eACpB,IAAIyF,EAAIzF,iBAAmByF,EAAIvF,eANb,SAAU/rE,GAC5B,OAAOA,GAAQ,UAAU11C,KAAK01C,EAAKgC,UAM7BgkF,CAAc1U,EAAIzF,eAAer2D,WAAW87D,EAAIxF,gBAI3B,IAAvBv9G,EAAUo2C,SAUZ,IARIjmC,GADJw2E,EAAQ3mF,EAAUinD,YACCluD,QACjBiH,EAAY2mF,EAAMx2E,GAClBgpF,EAAS,IAAI1E,GAAcz0F,EAAW4+E,EAAIm8B,UAAU/6G,EAAW4+E,EAAI2W,YAEnEv1F,EAAY2mF,EAAMA,EAAM5tF,OAAS,IACjCogG,EAAS,IAAI1E,GAAcz0F,EAAW4+E,EAAIm8B,UAAU/6G,EAAW4+E,EAAI2W,WAC5D/iF,MAAK,IAETi/B,EAAO0nD,EAAO7gB,UAAW7mC,EAAMA,EAAO0nD,EAAO3mF,OAChD,GAAsB,IAAlBi/B,EAAK2E,WAAmBshF,GAAiBjmF,GAG3C,OAFAsxE,EAAI/F,SAASvrE,EAAM,QACnBuxE,EAAUiU,OAAOlU,IAMrB4U,GAA0B,SAAUlmF,EAAMj/B,EAAMjB,GAClD,GAAIkgC,EAAM,CACR,IAAImmF,EAAWplH,EAAO,cAAgB,kBACtC,IAAKi/B,EAAOlgC,EAAMkgC,EAAOA,EAAKmmF,GAAWnmF,EAAMA,EAAOA,EAAKmmF,GACzD,GAAsB,IAAlBnmF,EAAK2E,WAAmBshF,GAAiBjmF,GAC3C,OAAOA,IAKXomF,GAAgB,SAAU9lC,EAAQ5oF,GAIpC,OAHIouH,GAAOpuH,KACTA,EAAOA,EAAKsqC,YAELs+C,EAAO0M,OAAOyF,uBAAuB/6F,EAAK5N,gBAEjDopG,GAAU,SAAUmzB,EAAItjE,EAAQ/kB,GAClC,OAAOqoF,EAAGr5B,OAAOiG,aAAalwC,EAAQ/kB,IAEpCioF,GAAmB,SAAUjmF,EAAMsmF,GAIrC,QAHoB,IAAhBA,IACFA,GAAc,GAEZnmD,EAAcngC,IAASuzC,GAASvzC,GAAO,CACzC,IAAIzuB,EAAO+0G,EAActmF,EAAKzuB,KAAKlpB,QAAQ,KAAM,KAAU23C,EAAKzuB,KAChE,OAAOs1E,GAAiBt1E,GAExB,OAAO,GAMPg1G,GAAc,SAAU9gI,EAAO+gI,GAQjC,MAPqB,iBAAV/gI,EACTA,EAAQA,EAAM+gI,GACLA,IACT/gI,EAAQA,EAAM4C,QAAQ,WAAW,SAAUqkB,EAAKhV,GAC9C,OAAO8uH,EAAK9uH,IAASgV,MAGlBjnB,GAELghI,GAAO,SAAUC,EAAM7xB,GAKzB,OAHAA,EAAOA,GAAQ,GACf6xB,EAAO,KAFPA,EAAOA,GAAQ,IAEG1kF,UAAY0kF,GAC9B7xB,EAAO,IAAMA,EAAK7yD,UAAY6yD,GACvB6xB,EAAK58H,gBAAkB+qG,EAAK/qG,eAEjC68H,GAAsB,SAAUx5C,EAAK1nF,EAAOiS,GAU9C,MATa,UAATA,GAA6B,oBAATA,IACtBjS,EAAQ0nF,EAAIkmB,MAAM5tG,IAEP,eAATiS,GAAmC,MAAVjS,IAC3BA,EAAQ,QAEG,eAATiS,IACFjS,EAAQA,EAAM4C,QAAQ,UAAW,IAAIA,QAAQ,QAAS,MAEjD,GAAK5C,GAEVgiH,GAAW,SAAUt6B,EAAKntC,EAAMtoC,GAClC,OAAOivH,GAAoBx5C,EAAKA,EAAIs6B,SAASznE,EAAMtoC,GAAOA,IAExDkvH,GAAoB,SAAUz5C,EAAKntC,GACrC,IAAI6mF,EAKJ,OAJA15C,EAAIm8B,UAAUtpE,GAAM,SAAUr7C,GAE5B,OADAkiI,EAAa15C,EAAIs6B,SAAS9iH,EAAG,qBACO,SAAfkiI,KAEhBA,GAELC,GAAe,SAAU35C,EAAKntC,EAAMgjB,GACtC,OAAOmqB,EAAIy6B,WAAW5nE,EAAMgjB,EAAUmqB,EAAI25B,YAmBxCigB,GAAoB,SAAUzmC,EAAQ0mC,EAAYC,GACpD,IAAIC,EAAY,CACd,SACA,QACA,WACA,aACA,SACA,WAEEC,EAAY,SAAUC,GACxB,OAAO/iD,GAAS+iD,GAAQ,SAAU79H,EAAGkC,GACnC,OAAO22E,EAAO8kD,GAAW,SAAUG,GACjC,OAAOA,IAAa57H,SAI1B,OAAO22E,EAAOke,EAAOgnC,UAAUjiI,IAAI2hI,IAAa,SAAUO,GACxD,IAAIC,EAAeL,EAAUI,GAC7B,OAAOnlD,EAAOke,EAAOgnC,UAAUjiI,IAAI4hI,IAAkB,SAAUQ,GAC7D,IAAIC,EAAeP,EAAUM,GAC7B,OAp6TM,SAAUjkD,EAAIC,EAAI5E,GAI5B,YAHW,IAAPA,IACFA,EAAKW,GAEAH,EAASR,GAAIA,GAAG2E,EAAIC,GAg6ThBkkD,CAAMH,EAAcE,UAI7BE,GAAgB,SAAUR,GAC5B,OAAO5iD,GAAkB4iD,EAAQ,UAE/BS,GAAmB,SAAUT,GAC/B,OAAO5iD,GAAkB4iD,EAAQ,aAE/BU,GAAiB,SAAUV,GAC7B,OAAO5iD,GAAkB4iD,EAAQ,WAE/BW,GAAmB,SAAU56C,EAAKiI,GACpC,OAAOhT,EAAOgT,EAAI5/B,WAAY23B,EAAI2W,UAGhCkkC,GAAmBvC,GACnBwC,GAAenB,GACfoB,GAAqBjC,GACrBkC,GAAgB/B,GAIhBgC,GAA4B,SAAUj7C,EAAKntC,GAE7C,IADA,IAAI+iB,EAAS/iB,EACN+iB,GAAQ,CACb,GAAI+vB,GAAY/vB,IAAWoqB,EAAI07B,mBAAmB9lD,GAChD,MAA0C,UAAnCoqB,EAAI07B,mBAAmB9lD,GAAsBA,EAAS/iB,EAE/D+iB,EAASA,EAAOjwD,WAElB,OAAOktC,GAELqoF,GAAW,SAAU36H,EAAOsyC,EAAMthC,EAAQopB,GAE5C,IADA,IAAIpb,EAAMszB,EAAKzuB,KACN3sB,EAAI8Z,EAAQhR,EAAQ9I,GAAK,EAAIA,EAAI8nB,EAAIplB,OAAQoG,EAAQ9I,IAAMA,IAClE,GAAIkjC,EAAUpb,EAAIrV,OAAOzS,IACvB,OAAO8I,EAAQ9I,EAAI,EAAIA,EAG3B,OAAQ,GAEN0jI,GAAY,SAAU56H,EAAOsyC,EAAMthC,GACrC,OAAO2pH,GAAS36H,EAAOsyC,EAAMthC,GAAQ,SAAU1Z,GAC7C,OAAO0gI,GAAO1gI,IAAM4gI,GAAe5gI,OAGnCujI,GAAc,SAAU76H,EAAOsyC,EAAMthC,GACvC,OAAO2pH,GAAS36H,EAAOsyC,EAAMthC,EAAQmnH,KAEnC2C,GAAmB,SAAUr7C,EAAK33E,EAAMjH,EAAWmQ,EAAQhR,EAAO+6H,GACpE,IAAIC,EACAxlC,EAAW/V,EAAIm8B,UAAU/6G,EAAW4+E,EAAI2W,UAAYtuF,EACpDw2E,EAAO,SAAUz9E,EAAWmQ,EAAQqkE,GACtC,IAAI4lD,EAAa7U,GAAW3mC,GACxBua,EAASh6F,EAAQi7H,EAAW1U,UAAY0U,EAAWzU,SACvD,OAAOvxC,EAASt8E,KAAKqhG,EAAOn5F,EAAWmQ,GAAQ,SAAU67C,EAAMquE,GAC7D,OAAIZ,GAAiBztE,EAAKznD,aAChB,GAER41H,EAAenuE,EACRwoB,EAAKr1E,EAAO6sD,EAAMquE,MAE1B1lC,KAGL,OADkBlX,EAAKz9E,EAAWmQ,EAAQ4pH,IACvB1iI,MAAK,SAAU8O,GAChC,OAAO+zH,EAAwBz8C,EAAKt3E,EAAOnG,UAAWmG,EAAOgK,QAAUhR,GAAS,EAAI,GAAI66H,IAAe5lD,EAAS5tE,KAAKL,MACpHytE,SAAQ,WACT,OAAOumD,EAAe/lD,EAAS5tE,KAAK,CAClCxG,UAAWm6H,EACXhqH,OAAQhR,EAAQ,EAAIg7H,EAAaphI,SAC9Bq7E,EAAStB,WAGdwnD,GAAuB,SAAU17C,EAAKi6C,EAAQ9V,EAAK/iH,EAAWk1F,GAC5DlQ,GAAShlF,IAA6C,IAA/BA,EAAUoxG,UAAUr4G,QAAgBiH,EAAUk1F,KACvEl1F,EAAYA,EAAUk1F,IAGxB,IADA,IAAIwO,EAAUg2B,GAAa96C,EAAK5+E,GACvB3J,EAAI,EAAGA,EAAIqtG,EAAQ3qG,OAAQ1C,IAClC,IAAK,IAAI0E,EAAI,EAAGA,EAAI89H,EAAO9/H,OAAQgC,IAAK,CACtC,IAAIw/H,EAAY1B,EAAO99H,GACvB,MAAI,cAAew/H,IAAaA,EAAUxO,YAAchJ,EAAIgJ,YAGxDntC,EAAIxL,GAAGswB,EAAQrtG,GAAIkkI,EAAU9lE,UAC/B,OAAOivC,EAAQrtG,GAIrB,OAAO2J,GAELw6H,GAAoB,SAAUzoC,EAAQ8mC,EAAQ74H,EAAWk1F,GAC3D,IAAIzjD,EACAmtC,EAAMmT,EAAOnT,IACb16E,EAAO06E,EAAI25B,UAIf,GAHKsgB,EAAO,GAAGz7H,UACbq0C,EAAOmtC,EAAIm8B,UAAU/6G,EAAW64H,EAAO,GAAG9L,MAAO7oH,KAE9CutC,EAAM,CACT,IAAIgpF,EAAY77C,EAAIm8B,UAAU/6G,EAAW,YACzCyxC,EAAOmtC,EAAIm8B,UAAU/1B,GAAShlF,GAAaA,EAAUuE,WAAavE,GAAW,SAAUyxC,GACrF,OAAOA,IAASvtC,GAAQ01H,GAAc7nC,EAAQtgD,KAC7CgpF,GAKL,GAHIhpF,GAAQonF,EAAO,GAAGz7H,UACpBq0C,EAAOioF,GAAa96C,EAAKntC,EAAM,SAASniC,UAAU,IAAMmiC,IAErDA,EAEH,IADAA,EAAOzxC,EACAyxC,EAAKyjD,KAAiBtW,EAAI2W,QAAQ9jD,EAAKyjD,MAC5CzjD,EAAOA,EAAKyjD,IACRgjC,GAAKzmF,EAAM,SAKnB,OAAOA,GAAQzxC,GAEb06H,GAAoB,SAAU97C,EAAK16E,EAAMlE,EAAWk1F,GACtD,IAAI1gC,EAASx0D,EAAUuE,WACvB,OAAIqtE,EAAc5xE,EAAUk1F,QAEjB1gC,IAAWtwD,IAAQytE,EAAWnd,KAAWoqB,EAAI2W,QAAQ/gC,KAGvDkmE,GAAkB97C,EAAK16E,EAAMswD,EAAQ0gC,KAG5CylC,GAAsB,SAAU/7C,EAAKi6C,EAAQ74H,EAAWmQ,EAAQhR,GAClE,IACIsuE,EAhHoBh8B,EA+GpB+iB,EAASx0D,EAETk1F,EAAc/1F,EAAQ,kBAAoB,cAC1C+E,EAAO06E,EAAI25B,UACf,GAAIvzB,GAAShlF,KAAe25H,GAAmB35H,KACzCb,EAAQgR,EAAS,EAAIA,EAASnQ,EAAUgjB,KAAKjqB,QAC/C,OAAOiH,EAGX,OAAa,CACX,IAAK64H,EAAO,GAAG+B,cAAgBh8C,EAAI2W,QAAQ/gC,GACzC,OAAOA,EAET,IAAKiZ,EAAUjZ,EAAO0gC,GAAcznB,EAASA,EAAUA,EAAQynB,GAAc,CAC3E,IAAI6iC,EAAc/yC,GAASvX,KAAaitD,GAAkB97C,EAAK16E,EAAMupE,EAASynB,GAC9E,IAAKukC,GAAiBhsD,MA7HnB2X,GADiB3zC,EA8HyBg8B,KA7H5Bh8B,EAAK/4C,aAAa,mBAAsB+4C,EAAKrtC,eA6HJu1H,GAAmBlsD,EAASsqD,GACpF,OAAOvjE,EAGX,GAAIA,IAAWtwD,GAAQswD,EAAOjwD,aAAeL,EAAM,CACjDlE,EAAYw0D,EACZ,MAEFA,EAASA,EAAOjwD,WAElB,OAAOvE,GAEL66H,GAAyB,SAAU76H,GACrC,OAAOy5H,GAAiBz5H,EAAUuE,aAAek1H,GAAiBz5H,IAEhE86H,GAAY,SAAU/oC,EAAQgxB,EAAK8V,EAAQkC,QAChB,IAAzBA,IACFA,GAAuB,GAEzB,IAAIzd,EAAiByF,EAAIzF,eAAgBC,EAAcwF,EAAIxF,YAAaC,EAAeuF,EAAIvF,aAAcC,EAAYsF,EAAItF,UACrH7+B,EAAMmT,EAAOnT,KACb2F,GAAY+4B,IAAmBA,EAAet+B,kBAChDs+B,EAAiBqJ,GAAQrJ,EAAgBC,GACrCv4B,GAASs4B,KACXC,EAAc,IAGdh5B,GAAYi5B,IAAiBA,EAAax+B,kBAC5Cw+B,EAAemJ,GAAQnJ,EAAcuF,EAAIgJ,UAAYtO,EAAYA,EAAY,GACzEz4B,GAASw4B,KACXC,EAAYD,EAAapM,UAAUr4G,SAGvCukH,EAAiBuc,GAA0Bj7C,EAAK0+B,GAChDE,EAAeqc,GAA0Bj7C,EAAK4+B,GAC1Cqd,GAAuBvd,KACzBA,EAAiBmc,GAAiBnc,GAAkBA,EAAiBA,EAAe/4G,WAElF+4G,EADEyF,EAAIgJ,UACWzO,EAAej8B,iBAAmBi8B,EAElCA,EAAel5G,aAAek5G,EAE7Ct4B,GAASs4B,KACXC,EAAcwF,EAAIgJ,UAAYzO,EAAevkH,OAAS,IAGtD8hI,GAAuBrd,KACzBA,EAAeic,GAAiBjc,GAAgBA,EAAeA,EAAaj5G,WAE1Ei5G,EADEuF,EAAIgJ,UACSvO,EAAap5G,aAAeo5G,EAE5BA,EAAan8B,iBAAmBm8B,EAE7Cx4B,GAASw4B,KACXC,EAAYsF,EAAIgJ,UAAY,EAAIvO,EAAazkH,SAG7CgqH,EAAIgJ,aACWkO,GAAiBr7C,EAAKmT,EAAOmxB,UAAW5F,EAAgBC,GAAa,EAAMwd,GACjFhzE,MAAK,SAAUq8D,GACxB,IAAIpkH,EAAYokH,EAAGpkH,UAAWmQ,EAASi0G,EAAGj0G,OAC1CmtG,EAAiBt9G,EACjBu9G,EAAcptG,KAED8pH,GAAiBr7C,EAAKmT,EAAOmxB,UAAW1F,EAAcC,GAAW,EAAOsd,GAC9EhzE,MAAK,SAAUq8D,GACtB,IAAIpkH,EAAYokH,EAAGpkH,UAAWmQ,EAASi0G,EAAGj0G,OAC1CqtG,EAAex9G,EACfy9G,EAAYttG,MAmChB,OAhCI0oH,EAAO,GAAGr1H,QAAUq1H,EAAO,GAAG+B,gBAC3B/B,EAAO,GAAGr1H,QAAYwhF,GAASs4B,IAAmC,IAAhBC,IACrDD,EAAiBqd,GAAoB/7C,EAAKi6C,EAAQvb,EAAgBC,GAAa,IAE5Esb,EAAO,GAAGr1H,QAAYwhF,GAASw4B,IAAiBC,IAAcD,EAAapM,UAAUr4G,SACxFykH,EAAemd,GAAoB/7C,EAAKi6C,EAAQrb,EAAcC,GAAW,KAGzEob,EAAO,GAAGpkE,WAAiC,IAArBokE,EAAO,GAAGmC,SAAqBnC,EAAO,GAAGr1H,SACjE85G,EAAiBgd,GAAqB17C,EAAKi6C,EAAQ9V,EAAKzF,EAAgB,mBACxEE,EAAe8c,GAAqB17C,EAAKi6C,EAAQ9V,EAAKvF,EAAc,iBAElEqb,EAAO,GAAG9L,OAAS8L,EAAO,GAAGpkE,YAC/B6oD,EAAiBkd,GAAkBzoC,EAAQ8mC,EAAQvb,EAAgB,mBACnEE,EAAegd,GAAkBzoC,EAAQ8mC,EAAQrb,EAAc,eAC3Dqb,EAAO,GAAG9L,QACPnuC,EAAI2W,QAAQ+nB,KACfA,EAAiBqd,GAAoB/7C,EAAKi6C,EAAQvb,EAAgBC,GAAa,IAE5E3+B,EAAI2W,QAAQioB,KACfA,EAAemd,GAAoB/7C,EAAKi6C,EAAQrb,EAAcC,GAAW,MAI3El5B,GAAY+4B,KACdC,EAAc3+B,EAAIkzB,UAAUwL,GAC5BA,EAAiBA,EAAe/4G,YAE9BggF,GAAYi5B,KACdC,EAAY7+B,EAAIkzB,UAAU0L,GAAgB,EAC1CA,EAAeA,EAAaj5G,YAEvB,CACL+4G,eAAgBA,EAChBC,YAAaA,EACbC,aAAcA,EACdC,UAAWA,IAIXwd,GAA0B,SAAUj7H,EAAW+I,GACjD,IAAIk+C,EAAajnD,EAAUinD,WAM3B,OALIl+C,GAASk+C,EAAWluD,OACtBgQ,EAAQk+C,EAAWluD,OAAS,EACnBgQ,EAAQ,IACjBA,EAAQ,GAEHk+C,EAAWl+C,IAAU/I,GAK1Bk7H,GAAS,SAAUt8C,EAAKmkC,EAAKxjF,GAC/B,IAAI+9E,EAAiByF,EAAIzF,eACrBC,EAAcwF,EAAIxF,YAClBC,EAAeuF,EAAIvF,aACnBC,EAAYsF,EAAItF,UAChB0d,EAAU,SAAUx0C,GACtB,IAAIl1C,EASJ,OAPsB,KADtBA,EAAOk1C,EAAM,IACJvwC,UAAkB3E,IAAS6rE,GAAkBC,GAAe9rE,EAAK2/D,UAAUr4G,QAClF4tF,EAAMl/E,OAAO,EAAG,GAElBgqC,EAAOk1C,EAAMA,EAAM5tF,OAAS,GACV,IAAd0kH,GAAmB92B,EAAM5tF,OAAS,GAAK04C,IAAS+rE,GAAkC,IAAlB/rE,EAAK2E,UACvEuwC,EAAMl/E,OAAOk/E,EAAM5tF,OAAS,EAAG,GAE1B4tF,GAELy0C,EAAkB,SAAU3pF,EAAMtoC,EAAMkyH,GAE1C,IADA,IAAIC,EAAW,GACR7pF,GAAQA,IAAS4pF,EAAS5pF,EAAOA,EAAKtoC,GAC3CmyH,EAASziI,KAAK44C,GAEhB,OAAO6pF,GAELC,EAAe,SAAU9pF,EAAMvtC,GACjC,EAAG,CACD,GAAIutC,EAAKltC,aAAeL,EACtB,OAAOutC,EAETA,EAAOA,EAAKltC,iBACLktC,IAEP+pF,EAAe,SAAU9mC,EAAW2mC,EAAS7oH,GAE/C,IADA,IAAI0iF,EAAc1iF,EAAO,cAAgB,kBAChCi/B,EAAOijD,EAAW+mC,EAAWhqF,EAAKltC,WAAYktC,GAAQA,IAAS4pF,EAAS5pF,EAAOgqF,EAAU,CAChGA,EAAWhqF,EAAKltC,WAChB,IAAIm3H,EAAaN,EAAgB3pF,IAASijD,EAAYjjD,EAAOA,EAAKyjD,GAAcA,GAC5EwmC,EAAW3iI,SACRyZ,GACHkpH,EAAWpsH,UAEbiwB,EAAS47F,EAAQO,OAUvB,GANgC,IAA5Bpe,EAAelnE,UAAkBknE,EAAet+B,kBAClDs+B,EAAiB2d,GAAwB3d,EAAgBC,IAE7B,IAA1BC,EAAapnE,UAAkBonE,EAAax+B,kBAC9Cw+B,EAnDKyd,GAmDsBzd,EAAcC,EAnDO,IAqD9CH,IAAmBE,EACrB,OAAOj+E,EAAS47F,EAAQ,CAAC7d,KAG3B,IADA,IAAI9tB,EAAW5Q,EAAI29B,mBAAmBe,EAAgBE,GAC7C/rE,EAAO6rE,EAAgB7rE,EAAMA,EAAOA,EAAKltC,WAAY,CAC5D,GAAIktC,IAAS+rE,EACX,OAAOge,EAAale,EAAgB9tB,GAAU,GAEhD,GAAI/9C,IAAS+9C,EACX,MAGJ,IAAS/9C,EAAO+rE,EAAc/rE,EAAMA,EAAOA,EAAKltC,WAAY,CAC1D,GAAIktC,IAAS6rE,EACX,OAAOke,EAAahe,EAAchuB,GAEpC,GAAI/9C,IAAS+9C,EACX,MAGJ,IAAImsC,EAAaJ,EAAaje,EAAgB9tB,IAAa8tB,EACvDryD,EAAWswE,EAAa/d,EAAchuB,IAAaguB,EACvDge,EAAale,EAAgBqe,GAAY,GACzC,IAAIL,EAAWF,EAAgBO,IAAere,EAAiBqe,EAAaA,EAAWv3H,YAAa,cAAe6mD,IAAauyD,EAAevyD,EAAS7mD,YAAc6mD,GAClKqwE,EAASviI,QACXwmC,EAAS47F,EAAQG,IAEnBE,EAAahe,EAAcvyD,IAGzB2wE,GAAY,SAAU5Y,GACxB,IAAI6Y,EAAS,GACb,GAAI7Y,EACF,IAAK,IAAI3sH,EAAI,EAAGA,EAAI2sH,EAAU8Y,WAAYzlI,IACxCwlI,EAAOhjI,KAAKmqH,EAAU+Y,WAAW1lI,IAGrC,OAAOwlI,GAYLG,GAAqB,SAAUH,GACjC,OAAO5nH,EAXc,SAAU4nH,GAC/B,OAAOxkI,EAAKwkI,GAAQ,SAAU9nE,GAC5B,IAAItiB,EAAOi1E,GAAgB3yD,GAC3B,OAAOtiB,EAAO,CAACotC,GAAaF,QAAQltC,IAAS,MAQjCwqF,CAAiBJ,GAAS/lC,KAKtComC,GAA8B,SAAUL,EAAQj+H,GAClD,IAAIu+H,EAHG1Z,GAGiC7kH,EAHd,+CAI1B,OAAOu+H,EAAcpjI,OAAS,EAAIojI,EAAgBH,GAAmBH,IAEnEO,GAAqB,SAAUrqC,GACjC,OAAOmqC,GAA4BN,GAAU7pC,EAAOixB,UAAUqZ,UAAWx9C,GAAaF,QAAQoT,EAAOmxB,aAmBnGoZ,GAAmB,SAAU7qF,GAC/B,OAAOgwC,GAAWhwC,GAAMyhC,KAAKf,EAAS,CAAC1gC,KAAQ,SAAUhC,GACvD,MAAO,CAACgC,GAAMhsB,OAAO62G,GAAiB7sF,QAGtC8sF,GAAkB,SAAU9qF,GAC9B,OAAOiwC,GAAUjwC,GAAMyhC,KAAKf,EAAS,CAAC1gC,KAAQ,SAAUhC,GACtD,MAAoB,OAAhBtmC,GAAKsmC,GACA2xC,GAAY3xC,GAAOr0C,KAAI,SAAUqyE,GACtC,MAAO,CAACh8B,GAAMhsB,OAAO82G,GAAgB9uD,OACpC6F,MAAM,IAEF,CAAC7hC,GAAMhsB,OAAO82G,GAAgB9sF,QAIvC+sF,GAAyB,SAAU31C,EAAKk8B,GAC1C,OAAO6C,GAjCU,SAAU7C,GAC3B,IAAIkF,EAAKlF,EAAIzF,eAAgB6K,EAAKpF,EAAIxF,YACtC,OAAIv4B,GAASijC,GACG,IAAPE,EAAW/zC,EAAS5tE,KAAKq4E,GAAaF,QAAQspC,IAAO7zC,EAAStB,OAE9DsB,EAASt8E,KAAKmwH,EAAGhhE,WAAWkhE,IAAK/sH,IAAIyjF,GAAaF,SA4B9C89C,CAAa1Z,GAzBX,SAAUA,GACzB,IAAImF,EAAKnF,EAAIvF,aAAc4K,EAAKrF,EAAItF,UACpC,OAAIz4B,GAASkjC,GACJE,IAAOF,EAAGllG,KAAKjqB,OAASq7E,EAAS5tE,KAAKq4E,GAAaF,QAAQupC,IAAO9zC,EAAStB,OAE3EsB,EAASt8E,KAAKowH,EAAGjhE,WAAWmhE,EAAK,IAAIhtH,IAAIyjF,GAAaF,SAoB/B+9C,CAAW3Z,IAAM,SAAUruB,EAAW2mC,GACpE,IAAIl8H,EAAQyE,EAAK04H,GAAiBz1C,GAAMxU,EAAM2N,GAAM0U,IAChDr1F,EAAMuE,EAAK24H,GAAgB11C,GAAMxU,EAAM2N,GAAMq7C,IACjD,OAAOl8H,EAAMk0E,UAAYh0E,EAAIg0E,YAC5BC,OAAM,IAEPqpD,GAAiB,SAAU/9C,EAAKmkC,EAAKtxE,EAAMtyC,GAC7C,IAAI+E,EAAOutC,EAAM0nD,EAAS,IAAI1E,GAAchjD,EAAMvtC,GAC9C87F,EAAoClqB,GAAS8I,EAAI6f,OAAO8F,qCAAqC,SAAUvpG,EAAGmO,GAC5G,OAAQpF,EAAS,CACf,KACA,KACA,SACCoF,EAAK5N,kBAEV,EAAG,CACD,GAAIypF,GAASvzC,IAA+C,IAAtCisC,GAAMllF,KAAKi5C,EAAK2/D,WAAWr4G,OAM/C,YALIoG,EACF4jH,EAAI/F,SAASvrE,EAAM,GAEnBsxE,EAAI9F,OAAOxrE,EAAMA,EAAK2/D,UAAUr4G,SAIpC,GAAIinG,EAAkCvuD,EAAKgC,UAUzC,YATIt0C,EACF4jH,EAAIkP,eAAexgF,GAEG,OAAlBA,EAAKgC,SACPsvE,EAAImP,aAAazgF,GAEjBsxE,EAAIwF,YAAY92E,UAKfA,EAAOtyC,EAAQg6F,EAAO3mF,OAAS2mF,EAAOvE,QACzB,SAAlB1wF,EAAKuvC,WACHt0C,EACF4jH,EAAI/F,SAAS94G,EAAM,GAEnB6+G,EAAI9F,OAAO/4G,EAAMA,EAAK+iD,WAAWluD,UAInC6jI,GAAe,SAAU7qC,GAC3B,IAAI70B,EAAM60B,EAAOixB,UAAUqZ,SAC3B,OAAOn/D,GAAOA,EAAI4+D,WAAa,GAE7Be,GAAc,SAAU9qC,EAAQ+qC,GAClC,IAAIC,EAAqBX,GAAmBrqC,GACxCgrC,EAAmBhkI,OAAS,EAC9BgvD,EAAKg1E,GAAoB,SAAU3sE,GACjC,IAAI3e,EAAO2e,EAAKwuB,IACZo+C,EAAcjrC,EAAOnT,IAAIu7B,YAC7B6iB,EAAY/K,eAAexgF,GAC3BurF,EAAYzU,YAAY92E,GACxBqrF,EAASE,GAAa,MAGxBF,EAAS/qC,EAAOixB,UAAUC,UAAU,IAGpCga,GAAW,SAAUja,EAAWka,EAAcJ,GAChD,IAAIrR,EAAWK,GAAsB9I,EAAWka,GAChDJ,EAASrR,GACTzI,EAAUmJ,eAAeV,IA0BvB0R,GAvBY,SAAU/pD,EAAIjqE,GAC5B,IAMIi0H,EAAY,SAAUx/H,GACxB,OAAOw1E,EAAGx1E,GAAWw2E,EAASt8E,KAAK8F,EAAQghF,IAAIwyB,WAAah9B,EAAStB,QAQvE,MAAO,CACLh8E,IAhBQ,SAAU8G,GAClB,IAAKw1E,EAAGx1E,GACN,MAAM,IAAImC,MAAM,gBAAkBoJ,EAAO,eAAiBA,EAAO,SAEnE,OAAOi0H,EAAUx/H,GAAS01E,MAAM,KAahC8pD,UAAWA,EACX5vH,IATQ,SAAU5P,EAAS1G,GAC3B,IAAKk8E,EAAGx1E,GACN,MAAM,IAAImC,MAAM,oBAAsBoJ,EAAO,eAAiBA,EAAO,SAEvEvL,EAAQghF,IAAIwyB,UAAYl6G,IASlBmmI,CAAUz8C,GAAQ,QACxB08C,GAAQ,SAAU1/H,GACpB,OAAOu/H,GAAIrmI,IAAI8G,IAMb4uG,GAAU,SAAUza,EAAQ3hC,EAAMmtE,EAAU9pF,GAC9C,OAAO+gB,GAAOpE,GAAM8iB,MAAK,WACvB,MAAO,cACN,SAAU1e,GACX,MAAiB,OAAb/gB,GAPU,SAAU2c,GAC1B,OAAOwwB,GAAOxwB,IAASktE,GAAMltE,KAAU6lC,GAMZunC,CAAYptE,GAC5B,QAvwFM,SAAUA,GAC3B,OAAOE,GAAUF,IAASmyD,GAAMnyD,EAAMsyD,MAuwFzB+a,CAAartE,GACf,WACEolE,GAAYplE,EAAKwuB,KACnB,QACG+lB,GAAQ5S,EAAQwrC,EAAU9pF,IAAckxD,GAAQ5S,EAAQ5oF,GAAKqrD,GAAS+oE,GAGzE,QAFA,oBAaTG,GAAiB,SAAUC,EAAMvZ,EAAItB,EAAgB8a,GACvD,IAAIC,EAAKzZ,EAAGj6G,IAAKA,OAAa,IAAP0zH,EAAgBhZ,GAAW,kBAAoBgZ,EAAI76G,EA91U5E,SAAgBtrB,EAAGxB,GACjB,IAAID,EAAI,GACR,IAAK,IAAIwB,KAAKC,EACRf,OAAOY,UAAUC,eAAejB,KAAKmB,EAAGD,IAAMvB,EAAEsR,QAAQ/P,GAAK,IAC/DxB,EAAEwB,GAAKC,EAAED,IACb,GAAS,MAALC,GAAqD,mBAAjCf,OAAOstB,sBACxB,KAAI5tB,EAAI,EAAb,IAAgBoB,EAAId,OAAOstB,sBAAsBvsB,GAAIrB,EAAIoB,EAAEsB,OAAQ1C,IAC7DH,EAAEsR,QAAQ/P,EAAEpB,IAAM,GAAKM,OAAOY,UAAU2pB,qBAAqB3qB,KAAKmB,EAAGD,EAAEpB,MACzEJ,EAAEwB,EAAEpB,IAAMqB,EAAED,EAAEpB,KAEpB,OAAOJ,EAo1U0E6nI,CAAO1Z,EAAI,CAAC,QACzF2Z,EAASl/C,GAAaI,QAAQ,OAAQ0+C,GAC1Cvb,GAAM2b,EAAQrb,MACdl1G,GAAIuwH,EAAQ,GAAKnb,KAAoBz4G,GACrCqD,GAAIuwH,EAAQ,GAAKpb,KAAkBG,GACnC,IAAIkb,EAAKJ,EAASzzH,EAAK6Y,GAAOi7G,EAAKD,EAAG3/F,WAAYA,OAAoB,IAAP4/F,EAAgB,GAAKA,EAAIl1F,EAAKi1F,EAAGE,QAASA,OAAiB,IAAPn1F,EAAgB,GAAKA,EAGxI,OAFA68C,GAAOm4C,EAAQ1/F,GA/oFL,SAAUzgC,EAASsgI,GAC7Bn2E,EAAKm2E,GAAS,SAAU3gI,GACtB6kH,GAAMxkH,EAASL,MA8oFjB4gI,CAAMJ,EAAQG,GACPH,GAELK,GAAW,SAAUrsC,EAAQgxB,EAAKD,EAAgB8a,EAAU56G,GAC9D,IAAIq7G,EAAc,GACdN,EAASL,GAAe3rC,EAAOusC,SAAUt7G,EAAM8/F,EAAgB8a,GAC/DxgI,EAAU0hH,GAAK1qC,EAAStB,QACxByrD,EAAgB,WAClBnhI,EAAQoQ,IAAI4mE,EAAStB,SAUnB0rD,EAAkB,SAAUtvB,GAC9BnnD,EAAKmnD,EAAOuvB,IAEVA,EAAiB,SAAUruE,GAE7B,OADUo8C,GAAQza,EAAQ3hC,EAAM,OAAQjnD,GAAKinD,KAE7C,IAAK,gBACDmuE,IACA,IAAI57C,EAAa/pF,GAASw3D,GAC1BouE,EAAgB77C,GAChB47C,IACA,MAEJ,IAAK,SApgTE,SAAU3gI,EAASR,GAC5BglF,GAAOxkF,EAASR,GAChB8hC,GAAO9hC,EAASQ,GAogTV84G,CAAKtmD,EAtBFhzD,EAAQtG,MAAMy8E,YAAW,WAC9B,IAAI6D,EAAK0d,GAAQipC,GAGjB,OAFAM,EAAYxlI,KAAKu+E,GACjBh6E,EAAQoQ,IAAI4mE,EAAS5tE,KAAK4wE,IACnBA,QA+BX,OAJA8jD,GAAOnpC,EAAOnT,IAAKmkC,GAAK,SAAUp8B,GAChC43C,IALiB,SAAU53C,GAC3B,IAAIuoB,EAAQ9zG,EAAIurF,EAAO9H,GAAaF,SACpC6/C,EAAgBtvB,GAIhBwvB,CAAa/3C,MAER03C,GAELM,GAAuB,SAAU5sC,EAAQ5oF,EAAMkpF,EAAUrvE,GAC3D+uE,EAAO6sC,YAAYC,UAAS,WAC1B,IAAI7b,EAAYjxB,EAAOixB,UACnB8b,EAAa9b,EAAUC,SACvB8b,EAAmB3C,GAAmBrqC,GAAQh5F,OAAS,EAI3D,GAHI+lI,EAAW/S,YAAcgT,GAnEb,SAAUhtC,EAAQgxB,GACpC,IAAIhsH,EAAI+jI,GAAU/oC,EAAQgxB,EAAK,CAAC,CAAEv/G,QAAQ,KAC1Cu/G,EAAI/F,SAASjmH,EAAEumH,eAAgBvmH,EAAEwmH,aACjCwF,EAAI9F,OAAOlmH,EAAEymH,aAAczmH,EAAE0mH,WAC7B1rB,EAAOixB,UAAUiU,OAAOlU,GAgEpBic,CAAcjtC,EAAQ+sC,GAEpB9b,EAAUC,SAAS8I,YAAcgT,EAAkB,CACrD,IAAI3hI,EAAUsgI,GAAe3rC,EAAOusC,SAAUt7G,EAAM7Z,EAAMkpF,EAASurC,UACnE7Y,GAAM3nH,EAAS44F,IACfgtB,EAAUC,SAAS2G,WAAWxsH,EAAQwhF,KACtCokC,EAAUjtD,OAAO34D,EAAQwhF,UAEzBq+C,GAASja,GAAW,GAAO,WACzB6Z,GAAY9qC,GAAQ,SAAUktC,GAC5Bb,GAASrsC,EAAQktC,EAAc91H,EAAMkpF,EAASurC,SAAU56G,aAO9Dk8G,GAAY,SAAUntC,GACxB,IAnvFImyB,EAmvFAK,GAnvFAL,EAAc,GAYX,CACLib,SAZa,SAAUh2H,EAAMkpF,GAC7B6xB,EAAY/6G,GAAQ,CAClBA,KAAMA,EACNkpF,SAAUA,IAUZ+C,OAPW,SAAUjsF,GACrB,OAAO+6G,EAAY1sH,eAAe2R,GAAQirE,EAASt8E,KAAKosH,EAAY/6G,IAAO/N,KAAI,SAAUjD,GACvF,OAAOA,EAAEk6F,YACNje,EAAStB,UA0uFhBwxC,GAAQvyB,EAAQwyB,GAChB,IAAI6a,EAAUnzE,GAAM8lC,GACpB,MAAO,CACLotC,SAAU,SAAUh2H,EAAMkpF,GACxBkyB,EAAS4a,SAASh2H,EAAMkpF,IAE1B+rC,SAAU,SAAUj1H,EAAM6Z,GACxBuhG,EAASnvB,OAAOjsF,GAAM4+C,MAAK,SAAUsqC,GACnCssC,GAAqB5sC,EAAQ5oF,EAAMkpF,EAAUrvE,OAGjDq8G,kBAAmB,SAAUl2H,EAAMo2B,GACjC6/F,EAAQr2C,YAAY5/E,EAAMo2B,IAE5Bj7B,OAAQ,SAAU6E,GAChB05G,GAAS9wB,EAAQ3d,EAAS5tE,KAAK2C,IAAO4+C,MAAK,SAAUq8D,GACnD,IAAIxlH,EAAWwlH,EAAGxlH,SAClBmpD,EAAKnpD,EAAU8jF,QAGnBvjD,OAAQ,SAAUh2B,GAChB,IAAI6xC,EAz3FI,SAAU+2C,EAAQ5oF,GAC9B,IAAIlC,EAAO43E,GAAaF,QAAQoT,EAAOmxB,WACnCoc,EAAU7c,GAAcx7G,EAAM,IAAM07G,KAAmB,KAAOx5G,EAAO,MACrE6xC,EAAY,GAMhB,OALA+M,EAAKu3E,GAAS,SAAU9oI,GACtB,IAAI2T,EAAM27E,GAAMtvF,EAAGosH,MACf2c,EAAevkF,EAAUxjD,eAAe2S,GAAO6wC,EAAU7wC,GAAO,GACpE6wC,EAAU7wC,GAAOo1H,EAAa95G,OAAO,CAACjvB,OAEjCwkD,EAg3FawkF,CAAQztC,EAAQ5oF,GAChC,OAAOmsE,GAAMt6B,GAAW,SAAUk0D,GAChC,OAAO9zG,EAAI8zG,GAAO,SAAU9+C,GAC1B,OAAOA,EAAKwuB,aAOlB6gD,GAAkB,SAAUzc,GAC9B,MAAO,CACLqJ,YAAah6C,EAAM2kD,GAAehU,GAClCmJ,eAAgB95C,EAAM85C,GAAgBnJ,KAG1Cyc,GAAgBnmC,eAAiB49B,GAEjC,IAAIwI,GAAyB,SAAUx7H,EAAMutC,GAC3C,KAAOA,GAAQA,IAASvtC,GAAM,CAC5B,GAAIohF,GAAsB7zC,IAAS8zC,GAAuB9zC,GACxD,OAAOA,EAETA,EAAOA,EAAKltC,WAEd,OAAO,MAGLo7H,GAAkB,SAAU5hI,EAASC,EAAS+1D,GAChD,GAAIA,EAAMg4D,UACR,OAAO,EAET,GAAIrvC,GAAIrE,QAAQuB,QAAU7lB,EAAMwpD,cAAgBxpD,EAAM0pD,UAAY,GAAK1pD,EAAMupD,iBAAmBvpD,EAAMypD,aAAc,CAClH,IAAI32B,EAAM9yB,EAAMupD,eAAer2D,WAAW8M,EAAMwpD,aAChD,GAAIh5B,GAAYsC,GACd,OAAOhT,EAAOgT,EAAIlyB,kBAAkB,SAAUqxD,GAC5C,OAAOS,GAAWT,EAAMjoH,EAASC,MAIvC,OAAO61E,EAAO9f,EAAMY,kBAAkB,SAAUqxD,GAC9C,OAAOS,GAAWT,EAAMjoH,EAASC,OA+CjC4hI,GAAY,SAAU7tC,EAAQ8tC,EAAWrzH,GAC3C,OAAOulF,EAAOn0B,KAAKiiE,EAAWrzH,IAG5BszH,GAAK,CACPC,UAAW,EACXC,OAAQ,GACRC,KAAM,GACNC,MAAO,GACPC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,IAAK,EACLC,GAAI,GACJC,QAAS,GACTC,UAAW,GACXC,IAAK,GACLC,KAAM,GACNC,gBAAiB,SAAU1qI,GACzB,OAAOA,EAAEwD,UAAYxD,EAAEyD,SAAWzD,EAAE2qI,QAAUf,GAAGgB,eAAe5qI,IAElE4qI,eAAgB,SAAU5qI,GACxB,OAAOwmF,GAAIE,IAAM1mF,EAAEyyG,QAAUzyG,EAAEyD,UAAYzD,EAAE2qI,SAI7CE,GAA2Bx7C,GAC3By7C,GAAmB,SAAUhe,EAAWjxB,GAC1C,IAEIkvC,EAAaC,EAAkBC,EAAcC,EAAgBC,EAC7DC,EAAQC,EAAoCC,EAAQC,EAAQv4E,EAAOw4E,EACnExjI,EAAOE,EAGPujI,EAAkBC,EAPlBC,EAAuB,oBACvBjjD,EAAMmT,EAAOnT,IAAKzI,EAASuH,GAAM31B,KAIjC+5E,EAAc/vC,EAAOusC,SAAUyD,EAAe1pI,SAC9C8nB,EAAMxlB,KAAKwlB,IAAKzlB,EAAQC,KAAKD,MAAO89F,EAAczG,EAAOmxB,UAEzD8e,EAAgB,CAClBC,GAAI,CACF,EACA,GACC,GACA,GAEHC,GAAI,CACF,EACA,EACA,GACC,GAEHC,GAAI,CACF,EACA,EACA,EACA,GAEF/5E,GAAI,CACF,EACA,GACC,EACD,IAGAg6E,EAAU,SAAUv7C,GACtB,OAAOA,IAAyB,QAAjBA,EAAIpzC,UAAsBs+C,EAAOnT,IAAIxL,GAAGyT,EAAK,kBAE1D0oC,EAAY,SAAU1oC,GACxB,OAAOpB,GAAQoB,IAAQjI,EAAItrB,SAASuzB,EAAK,uBAUvCw7C,EAAyB,SAAU13F,GACrC,IAAIzxC,EAASyxC,EAAIzxC,QATc,SAAUyxC,EAAKopB,GAC9C,GAAiB,cAAbppB,EAAIzuC,MAAsD,IAA9ByuC,EAAIzuC,KAAKsL,QAAQ,SAAgB,CAC/D,IAAI86H,EAAQ33F,EAAI7sC,QAAQ,GACxB,OAAOskI,EAAQz3F,EAAIzxC,UAAYymI,GAAgB2C,EAAMvkI,QAASukI,EAAMtkI,QAAS+1D,GAE7E,OAAOquE,EAAQz3F,EAAIzxC,UAAYymI,GAAgBh1F,EAAI5sC,QAAS4sC,EAAI3sC,QAAS+1D,IAKvEwuE,CAA2B53F,EAAKonD,EAAOixB,UAAUC,YAAct4E,EAAI29D,sBACrEvW,EAAOixB,UAAUjtD,OAAO78D,IAGxBspI,EAAmB,SAAU37C,GAC/B,OAAIjI,EAAIxL,GAAGyT,EAAK,gBACP,CAACA,EAAIttF,cAAc,QACjBqlF,EAAItrB,SAASuzB,EAAK,uBAAyBjV,EAAciV,EAAIpuF,mBAC/D,CACLouF,EACAA,EAAIpuF,mBAGC,CAACouF,IAGR47C,EAAc,SAAU57C,GAC1B,IAAIpyB,EAAWq5D,GAAkB/7B,GACjC,QAAKt9B,IAGuC,UAAxCoyB,EAAInuF,aAAa,qBAGjBmuF,IAAQkL,EAAOmxB,YAGftkC,EAAItrB,SAASuzB,EAAK,sBACbnH,GAAKb,GAAaF,QAAQkI,EAAIpuF,mBAAoBg8D,GAElDirB,GAAKb,GAAaF,QAAQkI,GAAMpyB,OAUvCiuE,EAAc,SAAU9kI,EAASuL,EAAMjS,GACzC,GAAI06E,EAAc16E,GAAQ,CACxB,IAAIyrI,EAAUH,EAAiB5kI,GAC/BmqD,EAAK46E,GAAS,SAAUzpI,GAClBA,EAAOmF,MAAM8K,KAAU4oF,EAAO0M,OAAOkG,QAAQzrG,EAAOu6C,SAASl4C,cAAe4N,GAC9Ey1E,EAAIrqB,SAASr7D,EAAQiQ,EAAMjS,GAE3B0nF,EAAIg6B,UAAU1/G,EAAQiQ,EAAM,GAAKjS,QAKrC0rI,EAAkB,SAAUC,EAAU3kI,EAAOE,GAC/CskI,EAAYG,EAAU,QAAS3kI,GAC/BwkI,EAAYG,EAAU,SAAUzkI,IAE9B0kI,EAAqB,SAAU5sI,GACjC,IAAI6sI,EAAQnpI,EACRopI,EAAeC,EACnBF,EAAS7sI,EAAEgtI,QAAU5B,EACrB1nI,EAAS1D,EAAEitI,QAAU5B,EACrBrjI,EAAQ6kI,EAAS3B,EAAe,GAAKI,EACrCpjI,EAASxE,EAASwnI,EAAe,GAAKK,EACtCvjI,EAAQA,EAAQ,EAAI,EAAIA,EACxBE,EAASA,EAAS,EAAI,EAAIA,IACrBgkI,EAAQnB,IAAgB1R,EAAU0R,MAAsD,IA7/DlE,SAAUlvC,GACvC,OAAOA,EAAO46B,SAAS,2BAA2B,EAAM,WA4/DEyW,CAAyBrxC,IAC/D+tC,GAAGc,gBAAgB1qI,GAEpB4pI,GAAGc,gBAAgB1qI,MAG9BiqB,EAAI4iH,GAAU5iH,EAAIvmB,IACpBwE,EAAS1D,EAAMwD,EAAQgrD,GACvBhrD,EAAQxD,EAAM0D,EAAS8qD,KAEvBhrD,EAAQxD,EAAM0D,EAAS8qD,GACvB9qD,EAAS1D,EAAMwD,EAAQgrD,KAG3B05E,EAAgB1B,EAAkBhjI,EAAOE,GAGzC4kI,GAFAA,EAAgB5B,EAAenN,SAAS12H,EAAIwlI,GAEZ,EAAIC,EAAgB,EACpDC,GAFAA,EAAgB7B,EAAenN,SAASl5H,EAAInB,GAEZ,EAAIqpI,EAAgB,EACpDrkD,EAAIy8B,UAAU8lB,EAAc,CAC1BljI,KAAM+kI,EACN7kI,IAAK8kI,EACLl8G,QAAS,UAEXo6G,EAAa5oI,UAAY2F,EAAQ,YAAcE,EAC3CgjI,EAAe,GAAK,GAAKF,EAAiBrpE,aAAe35D,GAC3D0gF,EAAIrqB,SAAS2sE,EAAkB,OA1IfmC,WA0IuC7B,EAAStjI,IAE9DkjI,EAAe,GAAK,GAAKF,EAAiBnsE,cAAgB32D,GAC5DwgF,EAAIrqB,SAAS2sE,EAAkB,MA7IDoC,WA6IwB7B,EAASrjI,KAEjE2kI,EAASvqC,EAAY+qC,YAAc5B,IACnC/nI,EAAS4+F,EAAY1jC,aAAe8sE,KACZ,GACtBhjD,EAAIy8B,UAAU8lB,EAAc,CAC1BljI,KAAM+kI,EAAgBD,EACtB5kI,IAAK8kI,EAAgBrpI,IAGpB8nI,KAlNmB,SAAU3vC,EAAQ74F,EAAQgF,EAAOE,EAAQ0oC,GACnEirD,EAAOn0B,KAAK,oBAAqB,CAC/B1kE,OAAQA,EACRgF,MAAOA,EACPE,OAAQA,EACR0oC,OAAQA,IA8MN08F,CAAsBzxC,EAAQkvC,EAAaO,EAAQC,EAAQ,UAAYL,EAAej4H,MACtFu4H,GAAgB,IAGhB+B,EAAiB,WACnB,IAAIC,EAAmBhC,EACvBA,GAAgB,EACZgC,IACFhB,EAAYzB,EAAa,QAAS/iI,GAClCwkI,EAAYzB,EAAa,SAAU7iI,IAErCwgF,EAAIkrB,OAAOg4B,EAAa,YAAagB,GACrClkD,EAAIkrB,OAAOg4B,EAAa,UAAW2B,GAC/B1B,IAAiBD,IACnBljD,EAAIkrB,OAAOi4B,EAAc,YAAae,GACtClkD,EAAIkrB,OAAOi4B,EAAc,UAAW0B,IAEtC7kD,EAAIt6E,OAAO48H,GACXtiD,EAAIt6E,OAAO68H,GACXviD,EAAIt6E,OAAO+8H,GACXsC,EAAe1C,GACXyC,KAhOgB,SAAU3xC,EAAQ74F,EAAQgF,EAAOE,EAAQ0oC,GAC/DirD,EAAOn0B,KAAK,gBAAiB,CAC3B1kE,OAAQA,EACRgF,MAAOA,EACPE,OAAQA,EACR0oC,OAAQA,IA4NN88F,CAAkB7xC,EAAQkvC,EAAa/iI,EAAOE,EAAQ,UAAYgjI,EAAej4H,MACjFy1E,EAAIg6B,UAAUqoB,EAAa,QAASriD,EAAI65B,UAAUwoB,EAAa,WAEjElvC,EAAO8xC,eAELF,EAAiB,SAAUG,GAC7BC,IACA,IAAItkI,EAAWm/E,EAAIkI,OAAOg9C,EAAWtrC,GACjC6qC,EAAe5jI,EAASlC,EACxB+lI,EAAe7jI,EAAS1E,EACxBirH,EAAO8d,EAAUjmI,wBACjBmmI,EAAche,EAAK9nH,OAAS8nH,EAAKzmH,MAAQymH,EAAK/nH,KAC9CgmI,EAAeje,EAAK5nH,QAAU4nH,EAAKxmH,OAASwmH,EAAK7nH,IACjD8iI,IAAgB6C,IAClBI,IACAjD,EAAc6C,EACd5lI,EAAQE,EAAS,GAEnB,IAAIlI,EAAI67F,EAAOn0B,KAAK,iBAAkB,CAAE1kE,OAAQ4qI,IAC5CK,EAAgBvlD,EAAI65B,UAAUwoB,EAAaY,EAAsB,KACjEY,EAAYqB,KAAe5tI,EAAEoyG,qBAC/BnyB,EAAO6rD,GAAe,SAAU73C,EAAQhhF,GACtC,IAAIi7H,EACAC,EAAY,SAAUnuI,GACxB,IAtH2B2wF,EAsHvB3tF,EAASspI,EAAiBvB,GAAa,GAC3CK,EAASprI,EAAEgtI,QACX3B,EAASrrI,EAAEitI,QACX3B,EAAStoI,EAAO2+D,YAChB4pE,EAASvoI,EAAO67D,aAChB7L,EAAQu4E,EAASD,GACjBJ,EAAiBj3C,GACFhhF,KAAOA,EACtBi4H,EAAenN,SAAW,CACxB12H,EAAGymI,EAAc75C,EAAO,GAAKk5C,EAC7BtoI,EAAGkpI,EAAe95C,EAAO,GAAKm5C,GAEhC3B,EAAmBnpC,EAAY+qC,YAC/B3B,EAAoBppC,EAAY1jC,aAChCusE,EAAiBziD,EAAI96E,IAAI00F,EAAa,MAAO,CAAEgd,MAAO,wBACtD52B,EAAIy8B,UAAUgmB,EAAgB,CAC5B5hI,SAAU,QACVxB,KAAM,IACNE,IAAK,IACLD,MAAO,OACPE,OAAQ,SAEV8iI,EA3IF3R,EAD6B1oC,EA4IWo6C,GA1InCriD,EAAIxnF,OAAO,MAAO,CAAE4vB,IAAK01D,GAAIK,iBAE7B8J,EAAI1vB,WAAU,GAyIjBynB,EAAI/xB,SAASq0E,EAAkB,uBAC/BtiD,EAAIg6B,UAAUsoB,EAAkB,iBAAkB,OAClDA,EAAiBpkD,gBAAkB,QACnC8B,EAAIy8B,UAAU6lB,EAAkB,CAC9BjjI,KAAMolI,EACNllI,IAAKmlI,EACL5jI,OAAQ,IAEVkjI,EAAgB1B,EAAkB8C,EAAaC,GAC/C/C,EAAiBvoI,gBAAgBkpI,GACjCrpC,EAAYv0F,YAAYi9H,GACxBtiD,EAAIvnF,KAAKyqI,EAAa,YAAagB,GACnClkD,EAAIvnF,KAAKyqI,EAAa,UAAW2B,GAC7B1B,IAAiBD,IACnBljD,EAAIvnF,KAAK0qI,EAAc,YAAae,GACpClkD,EAAIvnF,KAAK0qI,EAAc,UAAW0B,IAEpCtC,EAAeviD,EAAI96E,IAAI00F,EAAa,MAAO,CACzC,MAAS,oBACT,iBAAkB,OACjBgpC,EAAS,YAAcC,KAE5B2C,EAAYxlD,EAAI9nF,IAAI,kBAAoBqS,KAEtCy1E,EAAIt6E,OAAO8/H,GAEbA,EAAYxlD,EAAI96E,IAAI00F,EAAa,MAAO,CACtC,GAAM,kBAAoBrvF,EAC1B,iBAAkB,MAClB,MAAS,mBACT,cAAgB,EAChB,MAAS,UAAYA,EAAO,iCAEf,KAAXuzE,GAAIzC,KACNmqD,EAAUtnD,iBAAkB,GAE9B8B,EAAIvnF,KAAK+sI,EAAW,aAAa,SAAUluI,GACzCA,EAAEkQ,2BACFlQ,EAAE+D,iBACFoqI,EAAUnuI,MAEZi0F,EAAOtD,IAAMu9C,EACbxlD,EAAIy8B,UAAU+oB,EAAW,CACvBnmI,KAAM+lI,EAAc75C,EAAO,GAAKk5C,EAAee,EAAU9lI,YAAc,EACvEH,IAAK8lI,EAAe95C,EAAO,GAAKm5C,EAAec,EAAU7lI,aAAe,OAI5E2lI,IAEGtlD,EAAI65B,UAAUwoB,EAAaY,IAC9BZ,EAAYt+H,aAAak/H,EAAsBsC,IAG/CD,EAAiB,WACnBH,IACI9C,GACFA,EAAYtoI,gBAAgBkpI,GAE9BxsD,GAAO2sD,GAAe,SAAU9qI,EAAOiS,GACrC,IAAIi7H,EAAYxlD,EAAI9nF,IAAI,kBAAoBqS,GACxCi7H,IACFxlD,EAAIkrB,OAAOs6B,GACXxlD,EAAIt6E,OAAO8/H,QAIbE,EAAmB,SAAUpuI,GAC/B,IAAcquI,EACVC,EAAiB,SAAU/yF,EAAM+iB,GACnC,GAAI/iB,EACF,GACE,GAAIA,IAAS+iB,EACX,OAAO,QAEF/iB,EAAOA,EAAKltC,aAGrBm9H,GAAiB3vC,EAAOC,UAG5B7b,EAAOyI,EAAI7oB,OAAO,iDAAiD,SAAU1X,GAC3EA,EAAI1lD,gBAAgBkpI,MAEtB0C,EAAwB,cAAXruI,EAAEgG,KAAuBhG,EAAEgD,OAAS8pH,EAAU2D,UAEvD6d,EADJD,EAAa3lD,EAAIhiF,EAAE2nI,GAAY3zC,QAAQ,2DAA2D,GACnE4H,KAC7BisC,IAEID,EADOxhB,EAAU0hB,UAAS,GACDH,IAAeC,EAAexhB,EAAU2hB,QAAO,GAAOJ,IACjFZ,EAAeY,GAInBL,MAEEU,EAA+B,SAAU/9C,GAC3C,OAAOk6C,GAAyBrB,GAAuB3tC,EAAOmxB,UAAWr8B,KAEvEk9C,EAA2B,WAC7B1uD,GAAO2sD,GAAe,SAAU73C,GAC1BA,EAAOtD,MACTjI,EAAIkrB,OAAO3f,EAAOtD,YACXsD,EAAOtD,SAIhB49C,EAAqB,WACvB,IACE1yC,EAAOusC,SAASuG,YAAY,wBAAwB,EAAO,SAC3D,MAAOh6C,MAGXkH,EAAOr6C,GAAG,QAAQ,WAEhB,GADA+sF,IACI/nD,GAAIrE,QAAQuB,QAAU8C,GAAIrE,QAAQqB,SAAU,CAC9CqY,EAAOr6C,GAAG,mBAAmB,SAAUxhD,GACrC,IAAIgD,EAAShD,EAAEgD,OAAQu6C,EAAWv6C,EAAOu6C,SACpCiuF,IAAiB,mBAAmB3lI,KAAK03C,IAAcmxF,EAA6B1rI,KACtE,IAAbhD,EAAEqM,QACJwvF,EAAOixB,UAAUjtD,OAAO78D,EAAqB,UAAbu6C,GAEnB,cAAXv9C,EAAEgG,MACJ61F,EAAO8xC,kBAIb,IAAIiB,EAA0B,SAAU5uI,GACtC,IAAI6uI,EAAgB,SAAUtzF,GAC5BkgD,GAAMG,iBAAiBC,GAAQ,WAC7B,OAAOA,EAAOixB,UAAUjtD,OAAOtkB,OAGnC,GAAImzF,EAA6B1uI,EAAEgD,SAAWusF,GAAQvvF,EAAEgD,QAGtD,OAFAhD,EAAE+D,sBACF8qI,EAAc7uI,EAAEgD,QAGd,mBAAmB6C,KAAK7F,EAAEgD,OAAOu6C,YACnCv9C,EAAE+D,iBACuB,QAArB/D,EAAEgD,OAAOi+C,SACX4tF,EAAc7uI,EAAEgD,UAItB0lF,EAAIvnF,KAAKmhG,EAAa,kBAAmBssC,GACzC/yC,EAAOr6C,GAAG,UAAU,WAClB,OAAOknC,EAAIkrB,OAAOtR,EAAa,kBAAmBssC,MAGtD,IAAIE,EAA4BrzC,GAAMO,UAAS,SAAUh8F,GAClD67F,EAAOkzC,WACVX,EAAiBpuI,MAGrB67F,EAAOr6C,GAAG,iFAAkFstF,GAC5FjzC,EAAOr6C,GAAG,wBAAwB,SAAUxhD,GACtC+qI,GAAwC,UAAzBA,EAAYxtF,UAC7BuxF,EAA0B9uI,MAG9B67F,EAAOr6C,GAAG,YAAawsF,GACvBnyC,EAAOr6C,GAAG,wBAAyB2qF,GAAwB,MAE7DtwC,EAAOr6C,GAAG,SAAUqsF,GAIpB,MAAO,CACLtB,YAAaA,EACbkB,eAAgBA,EAChBO,eAAgBA,EAChBI,iBAAkBA,EAClBtlI,QARY,WACZiiI,EAAcC,EAAmBG,EAAiB,QAWlD6D,GAAgB,SAAUzzF,GAC5B,OAAO6zC,GAAsB7zC,IAAS8zC,GAAuB9zC,IAwC3D0zF,GAAc,SAAUpnI,EAASC,EAASotD,GAC5C,IAAI23D,EAAK9sF,EACLmvG,EAAWh6E,EACf,GAAIg6E,EAASC,wBACXpvG,EAAQmvG,EAASC,uBAAuBtnI,EAASC,OAE/C+kH,EAAM33D,EAAIgvD,eACN4C,SAAS/mF,EAAMqvG,WAAYrvG,EAAM9lB,QACrC4yG,EAAIkD,UAAS,SAEV,GAAI76D,EAAIm6E,oBACbxiB,EAAM33D,EAAIm6E,oBAAoBxnI,EAASC,QAClC,GAAIonI,EAASn+H,KAAKu+H,gBAAiB,CACxCziB,EAAMqiB,EAASn+H,KAAKu+H,kBACpB,IACEziB,EAAI0iB,YAAY1nI,EAASC,GACzB+kH,EAAIkD,UAAS,GACb,MAAOp7B,GACPk4B,EA/CmB,SAAUhlH,EAASC,EAASotD,GACnD,IAAIs6E,EACA9nI,EAAUwtD,EAAIk0B,iBAAiBvhF,EAASC,GACxC+kH,EAAM33D,EAAInkD,KAAKu+H,kBAWnB,GAVK5nI,GAA+B,SAApBA,EAAQu5C,UACtBv5C,EAAUwtD,EAAInkD,MAEhB87G,EAAI4iB,kBAAkB/nI,IAEtB8nI,GADAA,EAAQhoD,GAAM1uB,QAAQ+zD,EAAIpuD,mBACZnwC,MAAK,SAAUrsB,EAAG0C,GAG9B,OAFA1C,EAAIwC,KAAKwlB,IAAIxlB,KAAKJ,IAAIpC,EAAEgG,IAAMH,EAAS7F,EAAEqH,OAASxB,KAC9CrD,KAAKwlB,IAAIxlB,KAAKJ,IAAIM,EAAEsD,IAAMH,EAASnD,EAAE2E,OAASxB,QAG1CjF,OAAS,EAAG,CACpBiF,GAAW0nI,EAAM,GAAGlmI,OAASkmI,EAAM,GAAGvnI,KAAO,EAC7C,IAGE,OAFA4kH,EAAI0iB,YAAY1nI,EAASC,GACzB+kH,EAAIkD,UAAS,GACNlD,EACP,MAAOl4B,KAGX,OAAO,KAwBG+6C,CAAmB7nI,EAASC,EAASotD,GAE7C,OAxBgC,SAAU23D,EAAKpuB,GACjD,IAAIx7F,EAAgB4pH,GAAOA,EAAI5pH,cAAgB4pH,EAAI5pH,gBAAkB,KACrE,OAAOosF,GApCQ,SAAU9zC,EAAMkjD,EAAUp7D,GACzC,KAAOkY,GAAQA,IAASkjD,GAAU,CAChC,GAAIp7D,EAAUkY,GACZ,OAAOA,EAETA,EAAOA,EAAKltC,WAEd,OAAO,KA6BuBshI,CAAW1sI,EAAew7F,EAAUuwC,KAAkB,KAAOniB,EAsBlF+iB,CAA8B/iB,EAAK33D,EAAInkD,MAEhD,OAAO87G,GAGLgjB,GAAS,SAAUC,EAAMha,GAC3B,OAAOga,GAAQha,GAASga,EAAK1oB,iBAAmB0O,EAAK1O,gBAAkB0oB,EAAKzoB,cAAgByO,EAAKzO,aAAiByoB,EAAKxoB,eAAiBwO,EAAKxO,cAAgBwoB,EAAKvoB,YAAcuO,EAAKvO,WAYnLwoB,GAAY,SAAUx0F,EAAMkjD,EAAUp7D,GACxC,OAAmD,OAVlC,SAAUkY,EAAMkjD,EAAUp7D,GAC3C,KAAOkY,GAAQA,IAASkjD,GAAU,CAChC,GAAIp7D,EAAUkY,GACZ,OAAOA,EAETA,EAAOA,EAAKltC,WAEd,OAAO,KAGA2hI,CAAaz0F,EAAMkjD,EAAUp7D,IAElC4sG,GAAoB,SAAU10F,EAAMkjD,EAAUxrF,GAChD,OAAO88H,GAAUx0F,EAAMkjD,GAAU,SAAUljD,GACzC,OAAOA,EAAKgC,WAAatqC,MAGzBi9H,GAAY,SAAU30F,GACxB,OAAOA,GAA0B,UAAlBA,EAAKgC,UAElB4yF,GAAgB,SAAU50F,GAC5B,OAAOA,GAAQ,oBAAoB11C,KAAK01C,EAAKgC,WAE3C6yF,GAA0B,SAAU70F,EAAMkjD,GAC5C,OAAO6B,GAAiB/kD,KAAoD,IAA3Cw0F,GAAUx0F,EAAMkjD,EAAU6gC,KAEzD+Q,GAAmB,SAAU3nD,EAAKntC,EAAMxzC,GAE1C,IADA,IAAIk7F,EAAS,IAAI1E,GAAchjD,EAAMmtC,EAAIm8B,UAAUtpE,EAAKltC,WAAYq6E,EAAI2W,UAAY3W,EAAI25B,WACjF9mE,EAAO0nD,EAAOl7F,EAAO,OAAS,WACnC,GAAImnF,GAAK3zC,GACP,OAAO,GAgBT+0F,GAAuB,SAAU5nD,EAAK6nD,EAAa1a,EAAW9tH,EAAMy2F,GACtE,IAAIgyC,EAEAj1F,EADAxqC,EAAO23E,EAAI25B,UAEXxY,EAAsBnhB,EAAI6f,OAAO6F,sBACjCqiC,EAAuB/nD,EAAIm8B,UAAUrmB,EAAUnwF,WAAYq6E,EAAI2W,UAAYtuF,EAC/E,GAAIhJ,GAAQmnF,GAAKsP,IAAc+xC,GAAe7nD,EAAIma,QAAQ4tC,GACxD,OAAOvyD,EAAS5tE,KAAKwiH,GAAct0B,EAAUnwF,WAAYq6E,EAAIkzB,UAAUpd,KAGzE,IADA,IAAIyE,EAAS,IAAI1E,GAAcC,EAAWiyC,GACnCl1F,EAAO0nD,EAAOl7F,EAAO,OAAS,WAAW,CAC9C,GAA2C,UAAvC2gF,EAAIu+B,yBAAyB1rE,IAAqB60F,GAAwB70F,EAAMxqC,GAClF,OAAOmtE,EAAStB,OAElB,GAAIkS,GAASvzC,IAASA,EAAK2/D,UAAUr4G,OAAS,EAC5C,OAA2C,IAAvCotI,GAAkB10F,EAAMxqC,EAAM,KACzBmtE,EAAS5tE,KAAKwiH,GAAcv3E,EAAMxzC,EAAOwzC,EAAK2/D,UAAUr4G,OAAS,IAEnEq7E,EAAStB,OAElB,GAAI8L,EAAI2W,QAAQ9jD,IAASsuD,EAAoBtuD,EAAKgC,SAASl4C,eACzD,OAAO64E,EAAStB,OAElB4zD,EAAoBj1F,EAEtB,OAAIs6E,GAAa2a,EACRtyD,EAAS5tE,KAAKwiH,GAAc0d,EAAmB,IAEjDtyD,EAAStB,QAEd8zD,GAAoB,SAAUhoD,EAAKmtC,EAAW5sH,EAAO4jH,GACvD,IAAI/iH,EAAWmQ,EAEXshC,EACAo1F,EAFA5/H,EAAO23E,EAAI25B,UAEIr0E,GAAa,EAChClkC,EAAY+iH,GAAK5jH,EAAQ,QAAU,OAAS,aAC5CgR,EAAS4yG,GAAK5jH,EAAQ,QAAU,OAAS,UACzC,IAAIsnI,EAAcliD,GAAYvkF,IAAcmQ,IAAWnQ,EAAUinD,WAAWluD,OACxEgnG,EAAsBnhB,EAAI6f,OAAO6F,sBAErC,GADAuiC,EAAgB1nI,EACZq3F,GAAiBx2F,GACnB,OAAOo0E,EAAStB,OASlB,GAPIyR,GAAYvkF,IAAcmQ,EAASnQ,EAAUinD,WAAWluD,OAAS,IACnE8tI,GAAgB,GAEd3hD,GAAallF,KACfA,EAAYiH,EACZkJ,EAAS,GAEPnQ,IAAciH,EAAM,CACtB,GAAI4/H,IACFp1F,EAAOzxC,EAAUinD,WAAW92C,EAAS,EAAIA,EAAS,EAAI,IAC5C,CACR,GAAIqmF,GAAiB/kD,GACnB,OAAO2iC,EAAStB,OAElB,GAAIitB,EAAoBtuD,EAAKgC,WAAa2yF,GAAU30F,GAClD,OAAO2iC,EAAStB,OAItB,GAAI9yE,EAAUg/E,gBAAiB,CAI7B,GAHA7uE,EAASxV,KAAKN,KAAKwsI,GAAiB12H,EAAS,EAAIA,EAAS,EAAIA,EAAQnQ,EAAUinD,WAAWluD,OAAS,GACpGiH,EAAYA,EAAUinD,WAAW92C,GACjCA,EAAS60E,GAAShlF,IAAcymI,EAAczmI,EAAUgjB,KAAKjqB,OAAS,GACjEgzH,GAAa/rH,IAAciH,EAAKy6E,WAAa0kD,GAAUpmI,GAC1D,OAAOo0E,EAAStB,OAElB,GA9E8B,SAAU7rE,EAAMwqC,GAClD,KAAOA,GAAQA,IAASxqC,GAAM,CAC5B,GAAIs+E,GAAuB9zC,GACzB,OAAO,EAETA,EAAOA,EAAKltC,WAEd,OAAO,EAuECuiI,CAA8B7/H,EAAMjH,IAAcw2F,GAAiBx2F,GACrE,OAAOo0E,EAAStB,OAElB,GAAI9yE,EAAUg/E,kBAA4C,IAAzBonD,GAAUpmI,GAAsB,CAC/DyxC,EAAOzxC,EACP,IAAIm5F,EAAS,IAAI1E,GAAcz0F,EAAWiH,GAC1C,EAAG,CACD,GAAIs+E,GAAuB9zC,IAAS+kD,GAAiB/kD,GAAO,CAC1DvN,GAAa,EACb,MAEF,GAAI8gD,GAASvzC,IAASA,EAAK2/D,UAAUr4G,OAAS,EAAG,CAC/CoX,EAAS02H,EAAgB,EAAIp1F,EAAK2/D,UAAUr4G,OAC5CiH,EAAYyxC,EACZvN,GAAa,EACb,MAEF,GAAI67D,EAAoBtuD,EAAKgC,SAASl4C,iBAAmB8qI,GAAc50F,GAAO,CAC5EthC,EAASyuE,EAAIkzB,UAAUrgE,GACvBzxC,EAAYyxC,EAAKltC,WACZsiI,GACH12H,IAEF+zB,GAAa,EACb,aAEKuN,EAAOo1F,EAAgB1tC,EAAO3mF,OAAS2mF,EAAOvE,UAiC7D,OA7BIm3B,IACE/mC,GAAShlF,IAAyB,IAAXmQ,GACzBq2H,GAAqB5nD,EAAK6nD,EAAa1a,GAAW,EAAM/rH,GAAW+nD,MAAK,SAAU77B,GAChFlsB,EAAYksB,EAAIlsB,YAChBmQ,EAAS+b,EAAI/b,SACb+zB,GAAa,KAGbqgD,GAAYvkF,MACdyxC,EAAOzxC,EAAUinD,WAAW92C,MAE1BshC,EAAOzxC,EAAUinD,WAAW92C,EAAS,KAEnCshC,IAAQ2zC,GAAK3zC,IA5HN,SAAUA,EAAMtoC,GAC/B,OAAOsoC,EAAK4vC,iBAAmB5vC,EAAK4vC,gBAAgB5tC,WAAatqC,EA2HlC49H,CAAWt1F,EAAM,MAAS80F,GAAiB3nD,EAAKntC,GAAM,IAAW80F,GAAiB3nD,EAAKntC,GAAM,IACtH+0F,GAAqB5nD,EAAK6nD,EAAa1a,GAAW,EAAMt6E,GAAMsW,MAAK,SAAU77B,GAC3ElsB,EAAYksB,EAAIlsB,YAChBmQ,EAAS+b,EAAI/b,SACb+zB,GAAa,OAKjB2iG,IAAkB9a,GAAa/mC,GAAShlF,IAAcmQ,IAAWnQ,EAAUoxG,UAAUr4G,QACvFytI,GAAqB5nD,EAAK6nD,EAAa1a,GAAW,EAAO/rH,GAAW+nD,MAAK,SAAU77B,GACjFlsB,EAAYksB,EAAIlsB,YAChBmQ,EAAS+b,EAAI/b,SACb+zB,GAAa,KAGVA,EAAakwC,EAAS5tE,KAAKwiH,GAAchpH,EAAWmQ,IAAWikE,EAAStB,QAE7E7vD,GAAY,SAAU27D,EAAKmkC,GAC7B,IAAIgJ,EAAYhJ,EAAIgJ,UAAWib,EAAUjkB,EAAIuF,aACzC2L,EAAWjL,GAAcG,eAAepG,GAc5C,OAbA6jB,GAAkBhoD,EAAKmtC,GAAW,EAAMib,GAASj/E,MAAK,SAAU77B,GACzD6/F,GAAc/C,GAAc1C,QAAQ2N,EAAU/nG,IACjD86G,EAAQhqB,SAAS9wF,EAAIlsB,YAAaksB,EAAI/b,aAGrC47G,GACH6a,GAAkBhoD,EAAKmtC,GAAW,EAAOib,GAASj/E,MAAK,SAAU77B,GAC/D86G,EAAQ/pB,OAAO/wF,EAAIlsB,YAAaksB,EAAI/b,aAGpC47G,GACFib,EAAQ/gB,UAAS,GAEZ8f,GAAOhjB,EAAKikB,GAAW5yD,EAAStB,OAASsB,EAAS5tE,KAAKwgI,IAG5D1W,GAAY,SAAU7+E,EAAMthC,GAC9B,OAAOshC,EAAK6+E,UAAUngH,IAEpB82H,GAAU,SAAUlkB,GACtB,IAAIzF,EAAiByF,EAAIzF,eAAgBC,EAAcwF,EAAIxF,YAAaC,EAAeuF,EAAIvF,aAAcC,EAAYsF,EAAItF,UAwBzH,OAvBIH,IAAmBE,GAAgBx4B,GAASs4B,GAC1CC,EAAc,GAAKA,EAAcD,EAAelM,UAAUr4G,SAE5DukH,GADAE,EAAe8S,GAAUhT,EAAgBC,IACXl8B,gBAC1Bo8B,EAAYF,GAEdD,EAAiBE,EAAe8S,GAAU9S,EAD1CC,GAAwBF,GAC2Cl8B,gBACnEo8B,EAAYD,EAAapM,UAAUr4G,OACnCwkH,EAAc,GAEdE,EAAY,IAIZz4B,GAASs4B,IAAmBC,EAAc,GAAKA,EAAcD,EAAelM,UAAUr4G,SACxFukH,EAAiBgT,GAAUhT,EAAgBC,GAC3CA,EAAc,GAEZv4B,GAASw4B,IAAiBC,EAAY,GAAKA,EAAYD,EAAapM,UAAUr4G,SAEhF0kH,GADAD,EAAe8S,GAAU9S,EAAcC,GAAWp8B,iBACzB+vB,UAAUr4G,SAGhC,CACLukH,eAAgBA,EAChBC,YAAaA,EACbC,aAAcA,EACdC,UAAWA,IAIXypB,GAAa,SAAUtoD,GAYzB,MAAO,CACLnB,KAZS,SAAUslC,EAAKxjF,GACxB,OAAO27F,GAAOt8C,EAAKmkC,EAAKxjF,IAYxBlmC,MAVU4tI,GAWVhkH,UAVgB,SAAU8/F,GAC1B,OAAO9/F,GAAU27D,EAAKmkC,GAAK7vC,KAAKN,GAAO,SAAUu0D,GAG/C,OAFApkB,EAAI/F,SAASmqB,EAAc7pB,eAAgB6pB,EAAc5pB,aACzDwF,EAAI9F,OAAOkqB,EAAc3pB,aAAc2pB,EAAc1pB,YAC9C,QASbypB,GAAWE,cAAgBrB,GAC3BmB,GAAWG,uBAAyBlC,GACpC+B,GAAWxgB,gBAAkBA,GAC7BwgB,GAAWvgB,QAAUA,GAErB,IAqfI2gB,GA7cAC,GAxCY,SAAUp+H,EAAMq+H,GAC9B,IASI1wI,EAAM,SAAU8G,GAClB,IAAI7G,EAAIywI,EAAU5pI,GAClB,GAAI7G,GAAK,GAAW,OAANA,EAAY,CACxB,IAAI01D,EAAM05B,GAAMvoF,EAASuL,GACzB,OAAO+rD,WAAWzI,IAAQ,EAE5B,OAAO11D,GAGL0wI,EAAY,SAAU7pI,EAAS8pI,GACjC,OAAO9yD,EAAM8yD,GAAY,SAAU/yD,EAAKtoE,GACtC,IAAIujB,EAAMu2D,GAAMvoF,EAASyO,GACrBnV,OAAgB0R,IAARgnB,EAAoB,EAAIv0B,SAASu0B,EAAK,IAClD,OAAO30B,MAAM/D,GAASy9E,EAAMA,EAAMz9E,IACjC,IAOL,MAAO,CACLsW,IA/BQ,SAAU5P,EAAStD,GAC3B,IAAKw3E,EAASx3E,KAAOA,EAAEa,MAAM,YAC3B,MAAM,IAAI4E,MAAMoJ,EAAO,wDAA0D7O,GAEnF,IAAIskF,EAAMhhF,EAAQghF,IACd8G,GAAc9G,KAChBA,EAAIvgF,MAAM8K,GAAQ7O,EAAI,OA0BxBxD,IAAKA,EACL6wI,SAhBa7wI,EAiBb2wI,UAAWA,EACXltI,IAVQ,SAAUqD,EAAS1G,EAAOwwI,GAClC,IAAIE,EAAuBH,EAAU7pI,EAAS8pI,GAE9C,OADkBxwI,EAAQ0wI,EAAuB1wI,EAAQ0wI,EAAuB,IAYxEC,CAAU,UAAU,SAAUjqI,GACxC,IAAIghF,EAAMhhF,EAAQghF,IAClB,OAAOgE,GAAOhlF,GAAWghF,EAAI/gF,wBAAwBO,OAASwgF,EAAIrgF,gBAMhEupI,GAAS,SAAUC,EAAY38E,GAEjC,OADY28E,EAAWj5H,KAAKs8C,GACf8nB,KAAKf,EAAS,KAAK,SAAU13E,GACxC,IAAI+5D,EAASuzE,EAAWhnD,MAAMtmF,GAC1ButI,EAAOF,GAAOC,EAAYvzE,GAC9B,MAAO,CAAC/5D,GAAGgrB,OAAOuiH,OAiBlBC,GAA0BtxI,OAAOo5D,OAAO,CACxCjnC,UAAW,KACXha,KAXO,SAAUs8C,GACnB,IAAIg5D,EAEJ,OADch5D,EAAIwzB,MAAQvmF,SAAW+7E,EAAStB,OAASsB,EAASt8E,KAAoC,QAA9BssH,EAAKh5D,EAAIwzB,IAAIuC,mBAAgC,IAAPijC,OAAgB,EAASA,EAAG34D,eACzHrwD,IAAIyjF,GAAaF,UAS9BoC,MAPU,SAAUnjF,GACtB,OAAOqjF,GAAgBrjF,MASrBsqI,GAAS,SAAUtqI,GACrB,IAAIwtD,EAAMyzB,GAAaF,QAAQtmF,UAC3B2rF,EAASV,GAAMl4B,GACf+8E,EAvBO,SAAUvqI,EAASmqI,GAC9B,IAAIrxI,EAAIqxI,EAAWhnD,MAAMnjF,GACzB,OAAOkqI,GAAOC,EAAYrxI,GAqBb0xI,CAAOxqI,EAASqqI,IACzB93H,EAAS+yE,GAAStlF,GAClB7G,EAAI29E,EAAMyzD,GAAQ,SAAUttI,EAAG1C,GACjC,IAAIkwI,EAAMnlD,GAAS/qF,GACnB,MAAO,CACL8F,KAAMpD,EAAEoD,KAAOoqI,EAAIpqI,KACnBE,IAAKtD,EAAEsD,IAAMkqI,EAAIlqI,OAElB,CACDF,KAAM,EACNE,IAAK,IAEP,OAAO6kF,GAAcjsF,EAAEkH,KAAOkS,EAAOlS,KAAO+lF,EAAO/lF,KAAMlH,EAAEoH,IAAMgS,EAAOhS,IAAM6lF,EAAO7lF,MAGnFmqI,GAAqB,SAAU1qI,GACjC,MAAyB,aAAlBuL,GAAKvL,IAgDV2qI,GAAa,SAAU3qI,EAAS4qI,GAClC,IAAIt8G,EAt9US,SAAUtuB,GACvB,IAAIwtD,EAAMxtD,EAAQghF,IAAIoC,cAClB/5E,EAAOmkD,EAAInkD,KACXkkD,EAAMC,EAAI+1B,YACVr7D,EAAOslC,EAAInrD,gBACf,GAAIgH,IAASrJ,EAAQghF,IACnB,OAAOoE,GAAc/7E,EAAKk8E,WAAYl8E,EAAKm/D,WAE7C,IAAIjB,EAAY8d,GAAmB93B,aAAiC,EAASA,EAAIs9E,YAAa3iH,EAAKq/C,WAC/Fqe,EAAaP,GAAmB93B,aAAiC,EAASA,EAAIu9E,YAAa5iH,EAAK09D,YAChG0D,EAAYjE,GAAmBn9D,EAAKohE,UAAWjgF,EAAKigF,WACpDD,EAAahE,GAAmBn9D,EAAKmhE,WAAYhgF,EAAKggF,YAC1D,OAAO/D,GAAStlF,GAASkhD,UAAU0kC,EAAayD,EAAY9hB,EAAY+hB,GA08U9DyhD,CAAS/qI,GACfQ,EArGM,SAAUR,GACpB,OAAO2pI,GAAMzwI,IAAI8G,GAoGJgrI,CAAMhrI,GACnB,MAAO,CACLA,QAASA,EACT4B,OAAQ0sB,EAAI/tB,IAAMC,EAClBA,OAAQA,EACR8tB,IAAKA,EACLkyF,QAASoqB,IAGTK,GAAe,SAAUjrI,EAASuS,GACpC,IAAIwrH,EAnDQ,SAAU/9H,EAASuS,GAC/B,IAAIwyE,EAAa/pF,GAASgF,GAC1B,GAA0B,IAAtB+kF,EAAW5pF,QAAgBuvI,GAAmB1qI,GAChD,MAAO,CACLA,QAASA,EACTuS,OAAQA,GAEL,GAAIA,EAASwyE,EAAW5pF,SAAWuvI,GAAmB3lD,EAAWxyE,IACtE,MAAO,CACLvS,QAAS+kF,EAAWxyE,GACpBA,OAAQ,GAGV,IAAIglE,EAAOwN,EAAWA,EAAW5pF,OAAS,GAC1C,OAAIuvI,GAAmBnzD,GACd,CACLv3E,QAASA,EACTuS,OAAQA,GAGS,QAAfhH,GAAKgsE,GACA,CACLv3E,QAASu3E,EACThlE,OAAQ,GAEDywE,GAAOzL,GACT,CACLv3E,QAASu3E,EACThlE,OAAQmtH,GAAMnoD,GAAMp8E,QAGf,CACL6E,QAASu3E,EACThlE,OAAQvX,GAASu8E,GAAMp8E,QAkBd+vI,CAAQlrI,EAASuS,GAC9Bu/B,EAAOmvC,GAAaC,SAAS,4CAEjC,OADAsD,GAAOu5C,EAAW/9H,QAAS8xC,GACpB64F,GAAW74F,GAAM,WACtB,OAAOprC,GAAOorC,OAMdq5F,GAAa,SAAUh3C,EAAQt3F,EAAGsoH,EAAKr/B,GACzCslD,GAAaj3C,GAAQ,SAAU5e,EAAIpqC,GACjC,OAAOkgG,GAAgBl3C,EAAQt3F,EAAGsoH,EAAKr/B,KACtCq/B,IAEDmmB,GAAmB,SAAUn3C,EAAQ3mC,EAAK3wD,EAAG4nF,EAAQqB,GACvD,IAAI1gE,EAAO,CACT6jE,IAAKxE,EAAOzkF,QAAQghF,IACpB8E,WAAYA,IA5Ec,SAAUqO,EAAQ/uE,GAE9C,OADkB+uE,EAAOn0B,KAAK,iBAAkB56C,GAC7BslF,sBA4Ef6gC,CAAwBp3C,EAAQ/uE,KAIpCvoB,EAAE2wD,EADck4B,GAAMl4B,GAAKjtD,IACTkkF,EAAQqB,GA9EO,SAAUqO,EAAQ/uE,GACnD+uE,EAAOn0B,KAAK,sBAAuB56C,GA8EnComH,CAA6Br3C,EAAQ/uE,KAEnCimH,GAAkB,SAAUl3C,EAAQt3F,EAAGsoH,EAAKr/B,GAC9C,IAAIz8E,EAAO43E,GAAaF,QAAQoT,EAAOmxB,WACnC93D,EAAMyzB,GAAaF,QAAQoT,EAAOusC,UAC/Br3H,EAjwUE23E,IAAItgF,YAkwUb,IAAI+jF,EAASwmD,GAAahqD,GAAaF,QAAQokC,EAAIzF,gBAAiByF,EAAIxF,aACxE2rB,GAAiBn3C,EAAQ3mC,EAAK3wD,EAAG4nF,EAAQqB,GACzCrB,EAAO+7B,WAELirB,GAAc,SAAUt3C,EAAQn0F,EAASnD,EAAGipF,GAC9C,IAAIt4B,EAAMyzB,GAAaF,QAAQoT,EAAOusC,UACtC4K,GAAiBn3C,EAAQ3mC,EAAK3wD,EA9BZ,SAAUmD,GAC5B,OAAO2qI,GAAW1pD,GAAaF,QAAQ/gF,GAAUm0E,GA6BhBu3D,CAAc1rI,GAAU8lF,IAEvDslD,GAAe,SAAUj3C,EAAQt3F,EAAGsoH,GACtC,IAAIwmB,EAAexmB,EAAIzF,eACnBC,EAAcwF,EAAIxF,YAClBisB,EAAazmB,EAAIvF,aACjBC,EAAYsF,EAAItF,UACpBhjH,EAAEokF,GAAaF,QAAQ4qD,GAAe1qD,GAAaF,QAAQ6qD,IAC3D,IAAInhB,EAASt2B,EAAOnT,IAAIu7B,YACxBkO,EAAOrL,SAASusB,EAAchsB,GAC9B8K,EAAOpL,OAAOusB,EAAY/rB,GAC1B1rB,EAAOixB,UAAUiU,OAAOlU,IAEtB0mB,GAAiB,SAAUpnD,EAAQqnD,EAAYhmD,EAAYt4B,GAC7D,IAAIl/B,EAAMm2D,EAAOn2D,IACjB,GAAIw3D,EACFpyE,GAAG4a,EAAIjuB,KAAMiuB,EAAI/tB,IAAKitD,OACjB,CACL,IAAIrwD,EAAImxB,EAAI/tB,IAAMurI,EAAarnD,EAAOjkF,OACtCkT,GAAG4a,EAAIjuB,KAAMlD,EAAGqwD,KAGhBu+E,GAAqB,SAAUv+E,EAAK+Z,EAAWukE,EAAYrnD,EAAQqB,GACrE,IAAIkmD,EAAiBF,EAAavkE,EAC9B0kE,EAAYxnD,EAAOn2D,IAAI/tB,IACvB2rI,EAAeznD,EAAO7iF,OACtBuqI,EAAqBD,EAAeD,GAAaH,EACrD,GAAIG,EAAY1kE,EACdskE,GAAepnD,EAAQqnD,GAA2B,IAAfhmD,EAAsBt4B,QACpD,GAAIy+E,EAAYD,EAAgB,CAErCH,GAAepnD,EAAQqnD,EADXK,GAAoC,IAAfrmD,GAAsC,IAAfA,EACdt4B,QACjC0+E,EAAeF,IAAmBG,GAC3CN,GAAepnD,EAAQqnD,GAA2B,IAAfhmD,EAAqBt4B,IAGxD4+E,GAAa,SAAU5+E,EAAK+Z,EAAWkd,EAAQqB,GACjD,IAAIgmD,EAAat+E,EAAIwzB,IAAIuC,YAAYj6E,YACrCyiI,GAAmBv+E,EAAK+Z,EAAWukE,EAAYrnD,EAAQqB,IAErDumD,GAAY,SAAU7+E,EAAK+Z,EAAWkd,EAAQqB,GAChD,IAAIwmD,EAAkB9+E,EAAIwzB,IAAIuC,YAAYj6E,YAC1CyiI,GAAmBv+E,EAAK+Z,EAAW+kE,EAAiB7nD,EAAQqB,GAC5D,IAAIymD,EAAKjC,GAAO7lD,EAAOzkF,SACnBwsI,EAAiBtmD,GAAUhuF,QAC3Bq0I,EAAGhsI,IAAMisI,EAAervI,EAC1B0oF,GAASpB,EAAOzkF,SAAwB,IAAf8lF,GAChBymD,EAAGhsI,IAAMisI,EAAe5qI,QACjCikF,GAASpB,EAAOzkF,SAAwB,IAAf8lF,IAGzB2mD,GAAkB,SAAUt4C,EAAQgxB,EAAKr/B,GAC3C,OAAOqlD,GAAWh3C,EAAQi4C,GAAYjnB,EAAKr/B,IAEzC4mD,GAAoB,SAAUv4C,EAAQn0F,EAAS8lF,GACjD,OAAO2lD,GAAYt3C,EAAQn0F,EAASosI,GAAYtmD,IAE9C6mD,GAAiB,SAAUx4C,EAAQgxB,EAAKr/B,GAC1C,OAAOqlD,GAAWh3C,EAAQk4C,GAAWlnB,EAAKr/B,IAExC8mD,GAAmB,SAAUz4C,EAAQn0F,EAAS8lF,GAChD,OAAO2lD,GAAYt3C,EAAQn0F,EAASqsI,GAAWvmD,IAM7C+mD,GAAsB,SAAU14C,EAAQgxB,EAAKr/B,IAChCqO,EAAOvuF,OAAS6mI,GAAkBE,IACxCx4C,EAAQgxB,EAAKr/B,IAUpB2uB,GAAW,SAAUz0G,GACvB,IAAIsG,EAAO49E,GAAYlkF,GAASghF,IAChC,OAAOhhF,EAAQghF,MAAQ16E,EAAK/G,eAE1BivF,GAAS,SAAUloF,GAIrB,YAHa,IAATA,IACFA,EAZK26E,GAAaF,QAAQtmF,WAcrB+7E,EAASt8E,KAAKoM,EAAK06E,IAAIzhF,eAAe/B,IAAIyjF,GAAaF,UAgB5D+rD,GARW,SAAUvrI,EAAOwrI,EAASC,EAAQC,GAC/C,MAAO,CACL1rI,MAAOA,EACPwrI,QAASA,EACTC,OAAQA,EACRC,QAASA,IAKTn8C,GAAMH,GAAa,CACrB,CAAEnM,OAAQ,CAAC,YACX,CACE1qC,GAAI,CACF,UACA,WAGJ,CAAE4qC,MAAO,CAAC,cAWRwoD,IAHWp8C,GAAItM,OACVsM,GAAIh3C,GACCg3C,GAAIpM,MALH,SAAUyoD,GACvB,OAAOA,EAAK73D,KAAKd,EAAUA,EAAUA,KAanC44D,GAAQz8C,GAAa,CACvB,CAAE08C,SAAU,CAAC,QACb,CACEv7B,SAAU,CACR,YACA,eAGJ,CACEw7B,MAAO,CACL,QACA,UACA,SACA,cA4BFC,GAAe,CACjBF,SATaD,GAAMC,SAUnBv7B,SATas7B,GAAMt7B,SAUnBw7B,MATUF,GAAME,MAUhBE,eA5BmB,SAAUC,GAC7B,OAAOL,GAAME,MAAMG,EAASlsI,MAAOksI,EAASV,QAASU,EAAST,OAAQS,EAASR,UA4B/ES,OAVW,SAAUtoB,GACrB,IAAI7jH,EAjBW,SAAU6jH,GACzB,OAAOA,EAAU7nH,MAAM,CACrB8vI,SAAU,SAAUloB,GAClB,OAAOlkC,GAAaF,QAAQokC,EAAIzF,iBAElC5N,SAAU,SAAU67B,EAAWC,GAC7B,OAAOV,GAAcS,IAEvBL,MAAO,SAAU/rI,EAAOssI,EAAUC,EAASC,GACzC,OAAOxsI,KAQCysI,CAAW5oB,GACvB,OAAO7hC,GAAYhiF,IASnB40D,MAPU22E,IAURmB,GAAYxvD,KAAWhE,QACvByzD,GAAQ,SAAU37H,EAAQvS,GAC5B,IAAIrD,EAAMqmF,GAAOhjF,GAAW0/H,GAAM1/H,GAAS7E,OAASH,GAASgF,GAAS7E,OAAS,EAC/E,OAAIoX,EAAS5V,EACJA,EACE4V,EAAS,EACX,EAEFA,GAEL47H,GAAe,SAAUhpB,GAC3B,OAAOooB,GAAap3E,MAAMgvD,EAAI5jH,MAAO2sI,GAAM/oB,EAAI4nB,QAAS5nB,EAAI5jH,OAAQ4jH,EAAI6nB,OAAQkB,GAAM/oB,EAAI8nB,QAAS9nB,EAAI6nB,UAErGoB,GAAe,SAAU9nI,EAAM2iF,GACjC,OAAQvC,GAAiBuC,EAAIjI,OAAS2B,GAAWr8E,EAAM2iF,IAAQ7G,GAAK97E,EAAM2iF,KAExEolD,GAAc,SAAU/nI,GAC1B,OAAO,SAAU6+G,GACf,OAAOipB,GAAa9nI,EAAM6+G,EAAI5jH,QAAU6sI,GAAa9nI,EAAM6+G,EAAI6nB,UAG/DsB,GAAc,SAAUn6C,GAC1B,OAAyB,IAAlBA,EAAOvuF,QAAmBqoI,GAAUjyD,QAEzCuyD,GAA8B,SAAUp1I,GAC1C,OAAOo0I,GAAap3E,MAAM8qB,GAAaF,QAAQ5nF,EAAEumH,gBAAiBvmH,EAAEwmH,YAAa1+B,GAAaF,QAAQ5nF,EAAEymH,cAAezmH,EAAE0mH,YAOvH2uB,GAAgB,SAAUloI,GAE5B,OAPc,SAAUinD,GACxB,IAAI63D,EAAY73D,EAAI8xB,eAEpB,OADW+lC,GAAsC,IAAzBA,EAAU8Y,WAAqC1nD,EAASt8E,KAAKkrH,EAAU+Y,WAAW,IAArD3nD,EAAStB,QACnD13E,IAAI+wI,IAIRE,CADGlrD,GAAYj9E,GACD06E,KAAK3qE,OAAOg4H,GAAY/nI,KAK3CooI,GAAsB,SAAU7gB,GAClC,IAAI1I,EAAM1qH,SAAS+hH,cACnB,IAGE,OAFA2I,EAAI/F,SAASyO,EAAStsH,MAAMy/E,IAAK6sC,EAASkf,SAC1C5nB,EAAI9F,OAAOwO,EAASmf,OAAOhsD,IAAK6sC,EAASof,SAClCz2D,EAAS5tE,KAAKu8G,GACrB,MAAO/nH,GACP,OAAOo5E,EAAStB,SAGhB5jE,GAAQ,SAAU6iF,GACpB,IAAIw6C,EAAcL,GAAYn6C,GAAUq6C,GAAcvtD,GAAaF,QAAQoT,EAAOmxB,YAAc9uC,EAAStB,OACzGif,EAAO05B,SAAW8gB,EAAYl5D,SAAWk5D,EAAcx6C,EAAO05B,UAQ5DxI,GAAS,SAAUlxB,GAErB,OADeA,EAAO05B,SAAW15B,EAAO05B,SAAWr3C,EAAStB,QAC5Cz7E,MAAK,SAAUkG,GAC7B,OA1BW,SAAU2G,EAAMunH,GAC7B,OAAOr3C,EAASt8E,KAAK2zH,GAAUx3G,OAAOg4H,GAAY/nI,IAAO9I,IAAI2wI,IAyBpDS,CAAS3tD,GAAaF,QAAQoT,EAAOmxB,WAAY3lH,MACvDlG,KAAKi1I,KAYNG,GAAe,CAAEC,kBAJG,SAAU7lD,GAChC,IAAIloF,EAAYkoF,EAAIloF,UAAUpC,WAC9B,OAAsC,IAA/BoC,EAAU6I,QAAQ,UAAiD,IAA/B7I,EAAU6I,QAAQ,UA0B3DmlI,GAAuB,SAAU56C,EAAQ66C,GAC7BvwD,KAAWhE,QACbuB,OAZS,SAAUmY,GAC/BA,EAAOr6C,GAAG,YAAY,WACpBxoC,GAAM6iF,MAWN86C,CAAiB96C,GARC,SAAUA,EAAQ66C,GACtC76C,EAAOr6C,GAAG,oBAAoB,SAAU3O,GACtC6jG,EAAe16C,cAQf46C,CAAgB/6C,EAAQ66C,GAE1B76C,EAAOr6C,GAAG,oBAAoB,SAAUxhD,IA7BjB,SAAUA,GACjC,MAAkB,eAAXA,EAAEgG,MAAyBhG,EAAE62I,iBA6B7BC,CAAmB92I,IACtBgZ,GAAM6iF,OAIRotC,GAAW,SAAUptC,GACvB,IAAI66C,EAAiBzgH,IAAM,WACzBjd,GAAM6iF,KACL,GACHA,EAAOr6C,GAAG,QAAQ,WACZq6C,EAAOvuF,QArCW,SAAUuuF,EAAQ66C,GAC1C,IAAIK,EAAc,WAChBL,EAAe16C,YAEjBgmB,GAAS2D,IAAIxkH,KAAKgB,SAAU,UAAW40I,GACvCl7C,EAAOr6C,GAAG,UAAU,WAClBwgE,GAAS2D,IAAI/R,OAAOzxG,SAAU,UAAW40I,MAgCvCC,CAAoBn7C,EAAQ66C,GAE9BD,GAAqB56C,EAAQ66C,MAE/B76C,EAAOr6C,GAAG,UAAU,WAClBk1F,EAAezrI,aAKfgsI,GAAQj1B,GAAS2D,IAYjBuxB,GAAc,SAAUr7C,EAAQlL,GAClC,IAAIwmD,EA/jGoB,SAAUt7C,GAClC,OAAOA,EAAO46B,SAAS,qBAAsB,GAAI,UA8jG5B2gB,CAAoBv7C,GAIzC,OAAkB,OAHLo7C,GAAMpyB,UAAUl0B,GAAK,SAAUA,GAC1C,OAdsB,SAAUA,GAClC,OAAO4lD,GAAaC,kBAAkB7lD,GAa7B0mD,CAAoB1mD,MAASwmD,GAAiBt7C,EAAOnT,IAAIxL,GAAGyT,EAAKwmD,OAgBxEG,GAAiB,SAAUC,EAAev3I,GAC5C,IAAI67F,EAAS77F,EAAE67F,OACfotC,GAASptC,GACTA,EAAOr6C,GAAG,WAAW,WACnB,IAAIg2F,EAAgBD,EAAcC,cAC9BA,IAAkB37C,IAChB27C,GACFA,EAAc9vE,KAAK,OAAQ,CAAE8vE,cAAe37C,IAE9C07C,EAAcE,UAAU57C,GACxB07C,EAAcC,cAAgB37C,EAC9BA,EAAOn0B,KAAK,QAAS,CAAEgwE,cAAeF,IACtC37C,EAAOh4F,OAAM,OAGjBg4F,EAAOr6C,GAAG,YAAY,WACpBi6C,GAAMG,iBAAiBC,GAAQ,WAC7B,IAAI27C,EAAgBD,EAAcC,cAC7BN,GAAYr7C,EA9BA,SAAUA,GAC/B,IACE,IAAI7tF,EAAO49E,GAAYjD,GAAaF,QAAQoT,EAAOn7C,eACnD,OAAOw1C,GAAOloF,GAAMgvE,MAAK,WACvB,OAAO76E,SAAS4O,QACf,SAAU1J,GACX,OAAOA,EAAEqhF,OAEX,MAAOiM,GACP,OAAOxyF,SAAS4O,MAqBW4mI,CAAiB97C,KAAY27C,IAAkB37C,IACtEA,EAAOn0B,KAAK,OAAQ,CAAE8vE,cAAe,OACrCD,EAAcC,cAAgB,YAI/BpG,KACHA,GAAyB,SAAUpxI,GACjC,IAAI43I,EAAeL,EAAcK,aAC7BA,GA1+VmB,SAAU/jG,GACrC,GAAIg4C,MAAiBnQ,EAAc7nC,EAAM7wC,QAAS,CAChD,IAAI8K,EAAK66E,GAAaF,QAAQ50C,EAAM7wC,QACpC,GAAIo3D,GAAUtsD,IAAOm+E,GAAiBn+E,IAChC+lC,EAAMgkG,UAAYhkG,EAAM9wC,aAAc,CACxC,IAAIA,EAAe8wC,EAAM9wC,eACzB,GAAIA,EACF,OAAO+xD,GAAK/xD,IAKpB,OAAOm7E,EAASt8E,KAAKiyC,EAAM7wC,QA+9VrB80I,CAAuB93I,GAAG6xD,MAAK,SAAU7uD,GACnCA,EAAO8nF,gBAAkB3oF,WACvBa,IAAWb,SAAS4O,MAASmmI,GAAYU,EAAc50I,IAAWu0I,EAAcC,gBAAkBI,IACpGA,EAAalwE,KAAK,OAAQ,CAAE8vE,cAAe,OAC3CD,EAAcC,cAAgB,WAMxCP,GAAM91I,KAAKgB,SAAU,UAAWivI,MAGhC2G,GAA2B,SAAUR,EAAev3I,GAClDu3I,EAAcC,gBAAkBx3I,EAAE67F,SACpC07C,EAAcC,cAAgB,MAE3BD,EAAcK,eACjBX,GAAMrjC,OAAOzxG,SAAU,UAAWivI,IAClCA,GAAyB,OAgBzB4G,GAAoB,SAAUhqI,EAAM6+G,GACtC,OAJqB,SAAUA,GAC/B,OAAOA,EAAIgJ,UAAY33C,EAASt8E,KAAK6uH,GAAQ5D,EAAIzF,eAAgByF,EAAIxF,cAAcniH,IAAIyjF,GAAaF,SAAWvK,EAAStB,OAGjHq7D,CAAiBprB,GAAK1rH,MAAK,SAAUo6C,GAC1C,OAAIokD,GAAepkD,GACV2iC,EAAS5tE,KAAKirC,IACe,IAA3B8uC,GAAWr8E,EAAMutC,GACnB2iC,EAAS5tE,KAAKtC,GAEdkwE,EAAStB,WAIlBs7D,GAAqB,SAAUr8C,EAAQgxB,GACzCmrB,GAAkBrvD,GAAaF,QAAQoT,EAAOmxB,WAAYH,GAAK1rH,MAAK,SAAUwvF,GAC5E,OAAOwuC,GAAgBxuC,EAAIjI,QAC1B1L,MAAK,WACN6e,EAAOixB,UAAU//F,eAEhB,SAAUorH,GACX,OAAOt8C,EAAOixB,UAAUiU,OAAOoX,EAASplB,eAGxCqlB,GAAY,SAAUrnI,GACxB,GAAIA,EAAK0mI,UACP,IACE1mI,EAAK0mI,YACL,MAAO9iD,GACP5jF,EAAKlN,aAGPkN,EAAKlN,SAGLw0I,GAAkB,SAAU1nD,GAC9B,OAAOwrB,GAASxrB,KA5VKjpF,EA4VUipF,EA3VxBuF,GAAOtK,GAAYlkF,IAAUqW,QAAO,SAAU/d,GACnD,OAAO0H,EAAQghF,IAAI76E,SAAS7N,EAAE0oF,SA0VIvL,SA5VzB,IAAUz1E,GA2WnB4wI,GAAa,SAAUz8C,GACzB,OAAOA,EAAOvuF,OAXK,SAAUuuF,GAC7B,IAAI08C,EAAU18C,EAAOmxB,UACrB,OAAOurB,GAAWF,GAAgB1vD,GAAaF,QAAQ8vD,IAShCC,CAAe38C,GAdnB,SAAUA,GAC7B,OAAOA,EAAO48C,eAAiBt8B,GAASxzB,GAAaF,QAAQoT,EAAO48C,gBAapBC,CAAe78C,IAE7D88C,GAAqB,SAAU98C,GACjC,OAAOy8C,GAAWz8C,IAVH,SAAUA,GACzB,IAAI7Q,EAAMY,GAAYjD,GAAaF,QAAQoT,EAAOn7C,eAClD,OAAOw1C,GAAOlL,GAAKjtE,QAAO,SAAUm8C,GAClC,aArIgBxnD,KADd9J,EAsIiCsxD,EAAKwuB,IAtItB9/E,aAEXA,EAAUiF,SAAS,kBAAoBjF,EAAUiF,SAAS,0BAA4BjF,EAAUiF,SAAS,uBAoIhEqpI,GAAYr7C,EAAQ3hC,EAAKwuB,KAvI5C,IAC3B9/E,KAuIDu0E,SAM0By7D,CAAW/8C,IAgCtCg9C,GAAiB,SAAUh9C,GAC7B,OAAOA,EAAO07C,cAAcE,UAAU57C,IAEpCi9C,GAAU,SAAUj9C,EAAQk9C,GAC1Bl9C,EAAOC,UAGXi9C,EAAYF,GAAeh9C,GArCX,SAAUA,GAC1B,IAAIixB,EAAYjxB,EAAOixB,UACnB/7G,EAAO8qF,EAAOmxB,UACdH,EAAMC,EAAUC,SACpBlxB,EAAOm9C,OAAOC,8BACUvmI,IAApBmpF,EAAO05B,WAAiD,IAAvB+iB,GAAWz8C,IAC9CkxB,GAAOlxB,GAAQhqC,MAAK,SAAUqnF,GAC5Br9C,EAAOixB,UAAUiU,OAAOmY,GACxBrsB,EAAMqsB,KAGV,IAAIC,EAzEuB,SAAUt9C,EAAQtgD,GAC7C,OAAOsgD,EAAOnT,IAAIm8B,UAAUtpE,GAAM,SAAUA,GAC1C,MAA+C,SAAxCsgD,EAAOnT,IAAI07B,mBAAmB7oE,MAuEb69F,CAAuBv9C,EAAQixB,EAAU2D,WACnE,GAAI50B,EAAOn1F,EAAEmH,SAASkD,EAAMooI,GAI1B,OAHAf,GAAUe,GACVjB,GAAmBr8C,EAAQgxB,QAC3BgsB,GAAeh9C,GAGZA,EAAOvuF,SACLk5E,GAAI3xE,OACPujI,GAAUrnI,GAEZ8qF,EAAOu5C,SAASvxI,UAEd2iF,GAAIC,OAASoV,EAAOvuF,UACtB8qI,GAAUrnI,GACVmnI,GAAmBr8C,EAAQgxB,IAE7BgsB,GAAeh9C,GASsBw9C,CAAYx9C,KAG/Cy9C,GAAqB,SAAUtrI,EAAM6+G,EAAK5jH,EAAOswI,EAAM7/E,GACzD,IAAI5vD,EAAYb,EAAQ4jH,EAAIzF,eAAiByF,EAAIvF,aAC7CrtG,EAAShR,EAAQ4jH,EAAIxF,YAAcwF,EAAItF,UAC3C,OAAOrpC,EAASt8E,KAAKkI,GAAW5E,IAAIyjF,GAAaF,SAASvjF,KAAI,SAAUyrF,GACtE,OAAQ4oD,GAAS1sB,EAAIgJ,UAA0DllC,EAA9Cp3C,GAAMo3C,EAAKj3B,EAAQi3B,EAAK12E,IAASmjE,MAAMuT,MACvExvF,MAAK,SAAUwvF,GAChB,OAAOv2B,GAAUu2B,GAAOzS,EAAS5tE,KAAKqgF,GAAOryB,GAAOqyB,GAAK5yE,OAAOq8C,OAC/Dl1D,KAAI,SAAUyrF,GACf,OAAOA,EAAIjI,OACVtL,MAAMpvE,IAEPwrI,GAAa,SAAUxrI,EAAM6+G,EAAK0sB,GACpC,OAAOD,GAAmBtrI,EAAM6+G,GAAK,EAAM0sB,GAAM,SAAU5oD,EAAK12E,GAC9D,OAAOxV,KAAKN,IAAoBwsF,EAtpWnBjI,IAAI33B,WAAWluD,OAspWUoX,OAGtCw0H,GAAS,SAAUzgI,EAAM6+G,EAAK0sB,GAChC,OAAOD,GAAmBtrI,EAAM6+G,GAAK,EAAO0sB,GAAM,SAAU5oD,EAAK12E,GAC/D,OAAOA,EAAS,EAAIA,EAAS,EAAIA,MAGjCw/H,GAAqB,SAAUl+F,EAAMk0E,GAEvC,IADA,IAAIiqB,EAAOn+F,EACJA,GAAQuzC,GAASvzC,IAAyB,IAAhBA,EAAK14C,QACpC04C,EAAOk0E,EAAWl0E,EAAKrtC,YAAcqtC,EAAK4vC,gBAE5C,OAAO5vC,GAAQm+F,GA8EbC,GAAgB,SAAU99C,EAAQ8pC,GACpC,OAAOzgI,EAAIygI,GAAQ,SAAU9nE,GAC3B,IAAIppB,EAAMonD,EAAOn0B,KAAK,oBAAqB,CAAE7J,MAAOA,IACpD,OAAOppB,EAAIopB,QAAUA,EAAQppB,EAAIopB,MAAQA,MAIzC+7E,GAAa,CACf,QAAS,EACT,WAAY,EACZ,SAAU,EACV,MAAO,EACP,WAAY,GACZ,qBAAsB,IAEpBC,GAAS,SAAUt+F,EAAMvtC,EAAM0wF,GACjC,IAAIK,EAAYL,EAAO,YAAc,aACjCM,EAAcN,EAAO,OAAS,OAClC,GAAInjD,EAAKwjD,GACP,OAAOxjD,EAAKwjD,GAEd,GAAIxjD,IAASvtC,EAAM,CACjB,IAAIupE,EAAUh8B,EAAKyjD,GACnB,GAAIznB,EACF,OAAOA,EAET,IAAK,IAAIguD,EAAWhqF,EAAK+iB,OAAQinE,GAAYA,IAAav3H,EAAMu3H,EAAWA,EAASjnE,OAElF,GADAiZ,EAAUguD,EAASvmC,GAEjB,OAAOznB,IAKXuiE,GAAoB,SAAUv+F,GAChC,IAAK6mD,GAAiB7mD,EAAKv6C,OACzB,OAAO,EAET,IAAIqN,EAAaktC,EAAK+iB,OACtB,OAAIjwD,GAAmC,SAApBA,EAAW4E,OAAmB5E,EAAWypD,KAAK,WAAa,SAASjyD,KAAK01C,EAAKv6C,QAK/FgjH,GAAoB,SAAUzoE,GAChC,IAAIknD,EAA8B,MAAdlnD,EAAKtoC,OAAiBsoC,EAAKuc,KAAK,SAAWvc,EAAKuc,KAAK,MACzE,OAAOvc,EAAKuc,KAAK,SAAWvc,EAAKuc,KAAK,QAAUvc,EAAKgwC,YAAchwC,EAAKuc,KAAK,sBAAwB2qC,GAEnGs3C,GAAU,WACZ,SAASA,EAAQ9mI,EAAMjN,GACrByE,KAAKwI,KAAOA,EACZxI,KAAKzE,KAAOA,EACC,IAATA,IACFyE,KAAK09B,WAAa,GAClB19B,KAAK09B,WAAWjjC,IAAM,IA8O1B,OA3OA60I,EAAQ74I,OAAS,SAAU+R,EAAM08E,GAC/B,IAAIp0C,EAAO,IAAIw+F,EAAQ9mI,EAAM2mI,GAAW3mI,IAAS,GAMjD,OALI08E,GACFxQ,GAAOwQ,GAAO,SAAU3uF,EAAOsjE,GAC7B/oB,EAAKuc,KAAKwM,EAAUtjE,MAGjBu6C,GAETw+F,EAAQ14I,UAAUuC,QAAU,SAAU23C,GACpC,IAAI3pC,EAAOnH,KAMX,OALI8wC,EAAK+iB,QACP/iB,EAAKntC,SAEPwD,EAAKooI,OAAOz+F,EAAM3pC,GAClBA,EAAKxD,SACEwD,GAETmoI,EAAQ14I,UAAUy2D,KAAO,SAAU7kD,EAAMjS,GACvC,IACI2uF,EADA/9E,EAAOnH,KAEX,GAAoB,iBAATwI,EAMT,OALIA,SACFksE,GAAOlsE,GAAM,SAAUjS,EAAOgG,GAC5B4K,EAAKkmD,KAAK9wD,EAAKhG,MAGZ4Q,EAET,GAAI+9E,EAAQ/9E,EAAKu2B,WAAY,CAC3B,QAAcz1B,IAAV1R,EAAqB,CACvB,GAAc,OAAVA,EAAgB,CAClB,GAAIiS,KAAQ08E,EAAMzqF,IAAK,QACdyqF,EAAMzqF,IAAI+N,GAEjB,IADA,IAAI9S,EAAIwvF,EAAM9sF,OACP1C,KACL,GAAIwvF,EAAMxvF,GAAG8S,OAASA,EAEpB,OADA08E,EAAMp+E,OAAOpR,EAAG,GACTyR,EAIb,OAAOA,EAET,GAAIqB,KAAQ08E,EAAMzqF,KAEhB,IADI/E,EAAIwvF,EAAM9sF,OACP1C,KACL,GAAIwvF,EAAMxvF,GAAG8S,OAASA,EAAM,CAC1B08E,EAAMxvF,GAAGa,MAAQA,EACjB,YAIJ2uF,EAAMhtF,KAAK,CACTsQ,KAAMA,EACNjS,MAAOA,IAIX,OADA2uF,EAAMzqF,IAAI+N,GAAQjS,EACX4Q,EAET,OAAO+9E,EAAMzqF,IAAI+N,KAGrB8mI,EAAQ14I,UAAUmF,MAAQ,WACxB,IAEIyzI,EAFAroI,EAAOnH,KACPjE,EAAQ,IAAIuzI,EAAQnoI,EAAKqB,KAAMrB,EAAK5L,MAExC,GAAIi0I,EAAYroI,EAAKu2B,WAAY,CAC/B,IAAI+xG,EAAa,GACjBA,EAAWh1I,IAAM,GACjB,IAAK,IAAI/E,EAAI,EAAGC,EAAI65I,EAAUp3I,OAAQ1C,EAAIC,EAAGD,IAAK,CAChD,IAAIg6I,EAAWF,EAAU95I,GACH,OAAlBg6I,EAASlnI,OACXinI,EAAWA,EAAWr3I,QAAU,CAC9BoQ,KAAMknI,EAASlnI,KACfjS,MAAOm5I,EAASn5I,OAElBk5I,EAAWh1I,IAAIi1I,EAASlnI,MAAQknI,EAASn5I,OAG7CwF,EAAM2hC,WAAa+xG,EAIrB,OAFA1zI,EAAMxF,MAAQ4Q,EAAK5Q,MACnBwF,EAAM4zI,WAAaxoI,EAAKwoI,WACjB5zI,GAETuzI,EAAQ14I,UAAUm/G,KAAO,SAAUt5G,GACjC,IAAI0K,EAAOnH,KAGX,OAFAmH,EAAK0sD,OAAO07E,OAAO9yI,EAAS0K,GAC5B1K,EAAQ8hC,OAAOp3B,GACRA,GAETmoI,EAAQ14I,UAAUmrF,OAAS,WAEzB,IADA,IAAI56E,EAAOnH,KACF8wC,EAAO3pC,EAAK25E,WAAYhwC,GAAO,CACtC,IAAIj/B,EAAOi/B,EAAKj/B,KAChB1K,EAAKooI,OAAOz+F,EAAM3pC,GAAM,GACxB2pC,EAAOj/B,EAET1K,EAAKxD,UAEP2rI,EAAQ14I,UAAU+M,OAAS,WACzB,IAAIwD,EAAOnH,KAAM6zD,EAAS1sD,EAAK0sD,OAAQhiD,EAAO1K,EAAK0K,KAAMoiF,EAAO9sF,EAAK8sF,KAoBrE,OAnBIpgC,IACEA,EAAOitB,aAAe35E,GACxB0sD,EAAOitB,WAAajvE,EAChBA,IACFA,EAAKoiF,KAAO,OAGdA,EAAKpiF,KAAOA,EAEVgiD,EAAOktB,YAAc55E,GACvB0sD,EAAOktB,UAAYkT,EACfA,IACFA,EAAKpiF,KAAO,OAGdA,EAAKoiF,KAAOA,EAEd9sF,EAAK0sD,OAAS1sD,EAAK0K,KAAO1K,EAAK8sF,KAAO,MAEjC9sF,GAETmoI,EAAQ14I,UAAU2nC,OAAS,SAAUuS,GACnC,IAAI3pC,EAAOnH,KACP8wC,EAAK+iB,QACP/iB,EAAKntC,SAEP,IAAI6wE,EAAOrtE,EAAK45E,UAShB,OARIvM,GACFA,EAAK3iE,KAAOi/B,EACZA,EAAKmjD,KAAOzf,EACZrtE,EAAK45E,UAAYjwC,GAEjB3pC,EAAK45E,UAAY55E,EAAK25E,WAAahwC,EAErCA,EAAK+iB,OAAS1sD,EACP2pC,GAETw+F,EAAQ14I,UAAU24I,OAAS,SAAUz+F,EAAM8+F,EAASnuD,GAC9C3wC,EAAK+iB,QACP/iB,EAAKntC,SAEP,IAAIkwD,EAAS+7E,EAAQ/7E,QAAU7zD,KAqB/B,OApBIyhF,GACEmuD,IAAY/7E,EAAOitB,WACrBjtB,EAAOitB,WAAahwC,EAEpB8+F,EAAQ37C,KAAKpiF,KAAOi/B,EAEtBA,EAAKmjD,KAAO27C,EAAQ37C,KACpBnjD,EAAKj/B,KAAO+9H,EACZA,EAAQ37C,KAAOnjD,IAEX8+F,IAAY/7E,EAAOktB,UACrBltB,EAAOktB,UAAYjwC,EAEnB8+F,EAAQ/9H,KAAKoiF,KAAOnjD,EAEtBA,EAAKj/B,KAAO+9H,EAAQ/9H,KACpBi/B,EAAKmjD,KAAO27C,EACZA,EAAQ/9H,KAAOi/B,GAEjBA,EAAK+iB,OAASA,EACP/iB,GAETw+F,EAAQ14I,UAAU4nC,OAAS,SAAUh2B,GAGnC,IAFA,IACIstE,EAAa,GACRhlC,EAFE9wC,KAEU8gF,WAAYhwC,EAAMA,EAAOs+F,GAAOt+F,EAF1C9wC,MAGL8wC,EAAKtoC,OAASA,GAChBstE,EAAW59E,KAAK44C,GAGpB,OAAOglC,GAETw5D,EAAQ14I,UAAUo2D,MAAQ,WACxB,IAAI7lD,EAAOnH,KACX,GAAImH,EAAK25E,WAAY,CAEnB,IADA,IAAIkF,EAAQ,GACHl1C,EAAO3pC,EAAK25E,WAAYhwC,EAAMA,EAAOs+F,GAAOt+F,EAAM3pC,GACzD6+E,EAAM9tF,KAAK44C,GAGb,IADA,IAAIp7C,EAAIswF,EAAM5tF,OACP1C,KAAK,EACNo7C,EAAOk1C,EAAMtwF,IACZm+D,OAAS/iB,EAAKgwC,WAAahwC,EAAKiwC,UAAYjwC,EAAKj/B,KAAOi/B,EAAKmjD,KAAO,MAI7E,OADA9sF,EAAK25E,WAAa35E,EAAK45E,UAAY,KAC5B55E,GAETmoI,EAAQ14I,UAAUwhG,QAAU,SAAUn6F,EAAU+vB,EAAY4K,QACvC,IAAf5K,IACFA,EAAa,IAEf,IAAI7mB,EAAOnH,KACP8wC,EAAO3pC,EAAK25E,WAChB,GAAIy4B,GAAkBpyG,GACpB,OAAO,EAET,GAAI2pC,EACF,EAAG,CACD,GAAkB,IAAdA,EAAKv1C,KAAY,CACnB,GAAIu1C,EAAKuc,KAAK,kBACZ,SAEF,GAAIpvD,EAAS6yC,EAAKtoC,MAChB,OAAO,EAET,GAAI+wG,GAAkBzoE,GACpB,OAAO,EAGX,GAAkB,IAAdA,EAAKv1C,KACP,OAAO,EAET,GAAkB,IAAdu1C,EAAKv1C,OAAe8zI,GAAkBv+F,GACxC,OAAO,EAET,GAAkB,IAAdA,EAAKv1C,MAAcu1C,EAAK+iB,QAAU7lC,EAAW8iB,EAAK+iB,OAAOrrD,OAASmvF,GAAiB7mD,EAAKv6C,OAC1F,OAAO,EAET,GAAIqiC,GAAaA,EAAUkY,GACzB,OAAO,QAEFA,EAAOs+F,GAAOt+F,EAAM3pC,IAE/B,OAAO,GAETmoI,EAAQ14I,UAAUkmF,KAAO,SAAUmX,GACjC,OAAOm7C,GAAOpvI,KAAM,KAAMi0F,IAErBq7C,EApPK,GA6RVO,GAAkB,SAAU1qH,EAAM3f,GACpC,OAAO2f,EAAKhsB,QAAQqM,EAAOiX,IAAI,SAAUqzH,GACvC,OAAOz6D,GAAM7vE,EAAOuqI,KAAMD,GAASn9D,MAAMm9D,OAezCE,GAAyB,CAC3B,MACA,SASEC,GAAe,SAAUv+C,EAAUw+C,EAAK15F,GAC1C,OAAIk7C,EAASy+C,uBAEF,iBAAiB/0I,KAAK80I,GAPZ,SAAUE,EAAkB55F,GAEjD,QADcw6B,EAAWo/D,GAAoBhtI,EAAS4sI,GAAwBx5F,GAAW45F,GAOhFC,CAAiB3+C,EAASoU,oBAAqBtvD,IAAY,yBAAyBp7C,KAAK80I,GAEzF,UAAU90I,KAAK80I,KAGtBI,GAAkB,SAAUxyC,EAAQ34E,EAAMorH,GAC5C,IAAenoI,EAAOozE,EAAlBptE,EAAQ,EACRoiI,EAAqB1yC,EAAOwF,wBAC5BmtC,EAAc,uGAElB,IADAA,EAAYjnH,UAAYphB,EAAQmoI,EACzB/0D,EAAUi1D,EAAYp1I,KAAK8pB,IAAO,CAEvC,GADA/c,EAAQqoI,EAAYjnH,UACD,MAAfgyD,EAAQ,GACVptE,SACK,IAAKotE,EAAQ,GAAI,CACtB,GAAIA,EAAQ,KAAMg1D,EAChB,SAEFpiI,IAEF,GAAc,IAAVA,EACF,MAGJ,OAAOhG,GAyBLsoI,GAAsB,SAAUC,EAAQC,GAC1C,IAAIp1D,EAAUm1D,EAAOt1I,KAAKu1I,GAC1B,GAAIp1D,EAAS,CACX,IAAI6B,EAAS7B,EAAQ,GACjBjlF,EAAQilF,EAAQ,GACpB,MAAyB,iBAAX6B,GAAgD,mBAAzBA,EAAOziF,cAAqCrE,EAAQ,KAEzF,OAAO,MAGPs6I,GAAY,SAAUn/C,EAAUoM,QACnB,IAAXA,IACFA,EAASd,OAGuB,KADlCtL,EAAWA,GAAY,IACVo/C,mBACXp/C,EAASo/C,kBAAmB,GAE9B,IAAIC,EAAUr/C,EAASq/C,QAAUr/C,EAASq/C,QAAU3/D,EAChD4/D,EAAQt/C,EAASs/C,MAAQt/C,EAASs/C,MAAQ5/D,EAC1C/lB,EAAOqmC,EAASrmC,KAAOqmC,EAASrmC,KAAO+lB,EACvC5yE,EAAQkzF,EAASlzF,MAAQkzF,EAASlzF,MAAQ4yE,EAC1C1yE,EAAMgzF,EAAShzF,IAAMgzF,EAAShzF,IAAM0yE,EACpC6/D,EAAKv/C,EAASu/C,GAAKv/C,EAASu/C,GAAK7/D,EACjC8/D,EAAUx/C,EAASw/C,QAAUx/C,EAASw/C,QAAU9/D,EAChD+/D,EAAgB,SAAUC,EAAelZ,QAC5B,IAAXA,IACFA,EAAS,QAqHX,IAnHA,IACI18C,EAAoBjlF,EAAO86I,EAE3BC,EAAU57I,EAAG67I,EAAU/oI,EACvBgpI,EAAmBC,EACnBC,EAAaC,EAAgBtkF,EAAMukF,EAAcC,EAAoBC,EACrElxC,EAAoBC,EAAmBC,EAChB9R,EAPvB7pE,EAAOisH,EAAcjsH,KACZ/c,EAAQ,EACjB2kD,EAAQ,GAK0B4kC,EAAU,EAC5C2K,EAASP,GAASO,OAClBy1C,EAAmBh1D,GAAMC,QAAQ,gEACjCg1D,EAAkB,4BAClBC,EAAyB,SAAX/Z,EAAoB,EAAI,EACtCga,EAAgB,SAAU1pI,GAC5B,IAAI+iB,EAAK71B,EAET,IADA61B,EAAMwhC,EAAM30D,OACLmzB,KACDwhC,EAAMxhC,GAAK/iB,OAASA,IAI1B,GAAI+iB,GAAO,EAAG,CACZ,IAAK71B,EAAIq3D,EAAM30D,OAAS,EAAG1C,GAAK61B,EAAK71B,KACnC8S,EAAOukD,EAAMr3D,IACJy8I,OACPzzI,EAAI8J,EAAKA,MAGbukD,EAAM30D,OAASmzB,IAGf6mH,EAAc,SAAU77I,EAAOovF,GACjC,OAAOt6B,EAAKwkF,GAAgBt5I,EAAO66I,GAAgBzrD,IAEjD0sD,EAAiB,SAAU97I,GACf,KAAVA,IAGoB,MAApBA,EAAM4R,OAAO,KACf5R,EAAQ,IAAMA,GAEXm7F,EAAS4gD,4BAAmE,QAArC/7I,EAAMwhF,OAAO,EAAG,GAAGn9E,gBAC7DrE,EAAQ,IAAMA,GAEhBw6I,EAAQlB,GAAgBt5I,EAAO66I,MAK7BmB,EAA0B,SAAUh8I,EAAOg6I,GAC7C,IAAIiC,EAAWj8I,GAAS,GACpB0tF,GAAWpnF,GAAW21I,EAAU,MAChCC,EApGgB,SAAUttH,EAAM8+D,EAASssD,QAC9B,IAAfA,IACFA,EAAa,GAEf,IAAImC,EAASvtH,EAAKvqB,cAClB,IAA4C,IAAxC83I,EAAO7rI,QAAQ,OAAQ0pI,IARF,SAAUprH,EAAMorH,GACzC,MAAO,2CAA2Cn1I,KAAK+pB,EAAK4yD,OAAOw4D,IAOlBoC,CAAqBD,EAAQnC,GAAa,CACzF,IAAIqC,EAAaF,EAAO7rI,QAAQ,UAAW0pI,GAC3C,OAAOmC,EAAO7rI,QAAQ,IAAK+rI,GAE3B,GAAI3uD,EAAS,CACX,IAAIwuD,EAAWC,EAAO7rI,QAAQ,IAAK0pI,GACnC,OAAqB,IAAdkC,EAAkBA,EAAWC,EAAOt6I,OAE3C,IAAIy6I,EAAmB,SACvBA,EAAiBrpH,UAAY+mH,EAC7B,IAAI/1I,EAAQq4I,EAAiBx3I,KAAK8pB,GAClC,OAAO3qB,EAAQA,EAAM4N,MAAQ5N,EAAM,GAAGpC,OAASs6I,EAAOt6I,OAoFvC06I,CAAoB3tH,EAAM8+D,EAASssD,GAGlD,OAFAh6I,EAAQ4uB,EAAK4yD,OAAOw4D,EAAYkC,EAAWlC,GAC3C8B,EAAepuD,EAAUuuD,EAAWj8I,EAAQA,GACrCk8I,EAAW,GAEhBM,EAAiB,SAAUv8F,EAAShuC,EAAMjS,EAAOy8I,EAAMC,GACzD,IAAIC,EAAUx9I,EAId,GADAa,EAfgB,SAAUA,GAC1B,OAAOs5I,GAAgBt5I,EAAO66I,GActB+B,EADR3qI,EAAOA,EAAK5N,iBACgBw4I,EAAe5qI,EAAO8zF,EAAO/lG,GAASy8I,GAAQC,GAAQ,KAC9EpH,IAAa2F,IAAqD,IAtJhD,SAAUhpI,GACpC,OAAiC,IAA1BA,EAAK3B,QAAQ,UAA4C,IAA1B2B,EAAK3B,QAAQ,SAqJTwsI,CAAsB7qI,GAAiB,CAE3E,KADA0qI,EAAWrB,EAAmBrpI,KACbspI,EAAwB,CAEvC,IADAp8I,EAAIo8I,EAAuB15I,OACpB1C,OACLw9I,EAAWpB,EAAuBp8I,IACrBwrG,QAAQ9lG,KAAKoN,MAIjB,IAAP9S,IACFw9I,EAAW,MAGf,IAAKA,EACH,OAEF,GAAIA,EAASlyC,eAAiBzqG,KAAS28I,EAASlyC,aAC9C,OAGJ,GAAI+wC,EAAiBvpI,KAAUkpF,EAASkU,kBAAmB,CACzD,IAAIsqC,EAAM35I,EAAM4C,QAzBD,sBAyBqB,IACpC,IACE+2I,EAAMhzG,mBAAmBgzG,GACzB,MAAOhmD,GACPgmD,EAAMoD,SAASpD,GAEjB,GAAI8B,EAAgB52I,KAAK80I,GACvB,OAEF,GAAID,GAAav+C,EAAUw+C,EAAK15F,GAC9B,OAGAg7F,IAAsBhpI,KAAQupI,GAA2C,IAAvBvpI,EAAK3B,QAAQ,SAGnEyqI,EAAS72I,IAAI+N,GAAQjS,EACrB+6I,EAASp5I,KAAK,CACZsQ,KAAMA,EACNjS,MAAOA,MAGPk6I,EAAc,IAAI5yH,OAAO,iUAA0W,KACnY01H,EAAa,iFACb/C,EAAqB1yC,EAAOwF,wBAC5BkwC,EAAc9hD,EAAS+hD,uBAAyB31C,EAAO4F,yBACvD0vC,EAAet1C,EAAO2F,eACtBooC,EAAWn6C,EAASm6C,SACpB6H,EAAyBhiD,EAASiiD,iBAClCC,EAAiBliD,EAASo/C,iBAC1B3zC,EAAkBW,EAAOgG,qBACzB+vC,EAAc1uH,EAAO,IAClBq2D,EAAUi1D,EAAYp1I,KAAKw4I,IAAc,CAC9C,IAAIC,EAAYt4D,EAAQ,GAIxB,GAHIpzE,EAAQozE,EAAQpzE,OAClBgqI,EAAY91C,EAAOn3E,EAAK4yD,OAAO3vE,EAAOozE,EAAQpzE,MAAQA,KAEpD7R,EAAQilF,EAAQ,GAEM,OADxBjlF,EAAQA,EAAMqE,eACJuN,OAAO,KACf5R,EAAQA,EAAMwhF,OAAO,IAEvBm6D,EAAc37I,QACT,GAAIA,EAAQilF,EAAQ,GAAI,CAC7B,GAAIA,EAAQpzE,MAAQ0rI,EAAU17I,OAAS+sB,EAAK/sB,OAAQ,CAClDg6I,EAAY91C,EAAOn3E,EAAK4yD,OAAOyD,EAAQpzE,SACvCA,EAAQozE,EAAQpzE,MAAQ0rI,EAAU17I,OAClC,SAGsB,OADxB7B,EAAQA,EAAMqE,eACJuN,OAAO,KACf5R,EAAQA,EAAMwhF,OAAO,IAEvB05D,EAAel7I,KAASi6I,EACpBoD,GAAkBJ,EAAYj9I,IAAUw2D,EAAM30D,OAAS,GAAK20D,EAAMA,EAAM30D,OAAS,GAAGoQ,OAASjS,GAC/F27I,EAAc37I,GAEhB,IAAIw9I,GAAarD,GAAoB6C,EAAY/3D,EAAQ,IACzD,GAAmB,OAAfu4D,GAAqB,CACvB,GAAmB,QAAfA,GAAsB,CACxB3rI,EAAQkoI,GAAgBxyC,EAAQ34E,EAAMsrH,EAAYjnH,WAClDinH,EAAYjnH,UAAYphB,EACxB,SAEFupI,GAAiB,EAEnB,IAAK9F,IAAa6F,EAAc5zC,EAAOkE,eAAezrG,IAAS,CAqB7D,GApBAo7I,GAAiB,EACb9F,IACFgG,EAAqBH,EAAYh0G,WACjCo0G,EAAyBJ,EAAYzwC,oBAEnC2wC,EAAep2D,EAAQ,MACzBg2D,GAA+D,IAA3CI,EAAa/qI,QAAQ,mBAChB6sI,IACvB/B,GAAiB,IAEnBL,EAAW,IACF72I,IAAM,GACfm3I,EAAaz4I,QAAQo6I,GAAY,SAAU/4I,EAAOgO,EAAMymB,EAAK+jH,EAAMC,GAEjE,OADAF,EAAex8I,EAAOiS,EAAMymB,EAAK+jH,EAAMC,GAChC,QAGT3B,EAAW,IACF72I,IAAM,GAEboxI,IAAa2F,EAAmB,CAQlC,GAPA5wC,EAAqB8wC,EAAY9wC,mBACjCC,EAAoB6wC,EAAY7wC,kBAChCC,EAAmB4wC,EAAY5wC,iBACP4wC,EAAY/wC,mBACN2wC,EAASl5I,SACrCu5I,GAAiB,GAEf7wC,EAEF,IADAprG,EAAIorG,EAAiB1oG,OACd1C,KAEL8S,GADA6kD,EAAOyzC,EAAiBprG,IACZ8S,KAEM,YADlBwmF,EAAY3hC,EAAK92D,SAEfy4F,EAAY,OAAS2C,KAEvB2/C,EAAS72I,IAAI+N,GAAQwmF,EACrBsiD,EAASp5I,KAAK,CACZsQ,KAAMA,EACNjS,MAAOy4F,IAIb,GAAI6R,EAEF,IADAnrG,EAAImrG,EAAkBzoG,OACf1C,MAEL8S,GADA6kD,EAAOwzC,EAAkBnrG,IACb8S,QACE8oI,EAAS72I,MAEH,YADlBu0F,EAAY3hC,EAAK92D,SAEfy4F,EAAY,OAAS2C,KAEvB2/C,EAAS72I,IAAI+N,GAAQwmF,EACrBsiD,EAASp5I,KAAK,CACZsQ,KAAMA,EACNjS,MAAOy4F,KAKf,GAAI4R,EAAoB,CAEtB,IADAlrG,EAAIkrG,EAAmBxoG,OAChB1C,OACDkrG,EAAmBlrG,KAAM47I,EAAS72I,QAI7B,IAAP/E,IACFi8I,GAAiB,GAGrB,GAAItkF,EAAOikF,EAAS72I,IAAI,kBAAmB,CACzC,GAAa,QAAT4yD,EAAgB,CAClBjlD,EAAQkoI,GAAgBxyC,EAAQ34E,EAAMsrH,EAAYjnH,WAClDinH,EAAYjnH,UAAYphB,EACxB,SAEFupI,GAAiB,GAGjBA,GACFnzI,EAAMjI,EAAO+6I,EAAUG,QAGzBE,GAAiB,EAEnB,GAAIN,EAAYl0C,EAAgB5mG,GAAQ,CACtC86I,EAAU7nH,UAAYphB,EAAQozE,EAAQpzE,MAAQ0rI,EAAU17I,QACpDojF,EAAU61D,EAAUh2I,KAAK8pB,KACvBwsH,IACFJ,EAAWpsH,EAAK4yD,OAAO3vE,EAAOozE,EAAQpzE,MAAQA,IAEhDA,EAAQozE,EAAQpzE,MAAQozE,EAAQ,GAAGpjF,SAEnCm5I,EAAWpsH,EAAK4yD,OAAO3vE,GACvBA,EAAQ+c,EAAK/sB,QAEXu5I,IACEJ,EAASn5I,OAAS,GACpBg6I,EAAYb,GAAU,GAExB7yI,EAAInI,IAENk6I,EAAYjnH,UAAYphB,EACxB,SAEGqpI,IACEG,GAAgBA,EAAa/qI,QAAQ,OAAS+qI,EAAax5I,OAAS,EAK9Du5I,GACTjzI,EAAInI,GALJw2D,EAAM70D,KAAK,CACTsQ,KAAMjS,EACN47I,MAAOR,UAMR,GAAIp7I,EAAQilF,EAAQ,GACzB62D,EAAe97I,QACV,GAAIA,EAAQilF,EAAQ,GAAI,CAE7B,KAD0C,IAAhBy2D,GAAqBvgD,EAASsiD,gBAAkBjnF,EAAM30D,OAAS,GAAK0lG,EAAOiG,aAAah3C,EAAMA,EAAM30D,OAAS,GAAGoQ,KAAM,WAGzI,CACLJ,EAAQmqI,EAAwB,GAAI/2D,EAAQpzE,MAAQ,GACpDqoI,EAAYjnH,UAAYphB,EACxB,SAJA4oI,EAAMz6I,QAMH,GAAIA,EAAQilF,EAAQ,GACzB01D,EAAQ36I,OACH,KAAKA,EAAQilF,EAAQ,KAAqB,OAAds4D,EAAoB,CACrD1rI,EAAQmqI,EAAwBh8I,EAAOilF,EAAQpzE,MAAQ0rI,EAAU17I,QACjEq4I,EAAYjnH,UAAYphB,EACxB,SACK,GAAI7R,EAAQilF,EAAQ,GAAI,CAC7B,GAAoB,IAAhBy2D,EAEG,CACL7pI,EAAQmqI,EAAwB,IAAK/2D,EAAQpzE,MAAQ,GACrDqoI,EAAYjnH,UAAYphB,EACxB,SAJA6oI,EAAG16I,EAAOilF,EAAQ,KAOtBpzE,EAAQozE,EAAQpzE,MAAQ0rI,EAAU17I,OAKpC,IAHIgQ,EAAQ+c,EAAK/sB,QACfg6I,EAAY91C,EAAOn3E,EAAK4yD,OAAO3vE,KAE5B1S,EAAIq3D,EAAM30D,OAAS,EAAG1C,GAAK,EAAGA,KACjCa,EAAQw2D,EAAMr3D,IACJy8I,OACRzzI,EAAInI,EAAMiS,OAUhB,MAAO,CAAEq7C,MANG,SAAU1+B,EAAM+yG,QACX,IAAXA,IACFA,EAAS,QAEXiZ,EA1cwB,SAAUhsH,GAQpC,IAPA,IAIIq2D,EAJAy4D,EAAe,uCACf/zF,EAAS,GACT6vF,EAAO,GACPjgF,EAASo0D,GAAW,OAEpB97G,EAAQ,EACRgG,EAAQ,EACLotE,EAAUy4D,EAAa54I,KAAK8pB,IAAO,CACxC,IAAI+qH,EAAM10D,EAAQ,GACds0D,EAAUhgF,EAAS,IAAM1hD,IAC7B2hI,EAAKD,GAAWI,EACZ9nI,EAAQozE,EAAQpzE,OAClB83C,EAAOhoD,KAAKitB,EAAK4yD,OAAO3vE,EAAOozE,EAAQpzE,MAAQA,IAEjD83C,EAAOhoD,KAAK43I,GACZ1nI,EAAQozE,EAAQpzE,MAAQ8nI,EAAI93I,OAE9B,IAAIqkB,EAAK,IAAIoB,OAAOiyC,EAAS,UAAW,KACxC,OAAc,IAAV1nD,EACK,CACL0nD,OAAQA,EACRigF,KAAMA,EACN5qH,KAAMA,EACN1I,GAAIA,IAGFrU,EAAQ+c,EAAK/sB,QACf8nD,EAAOhoD,KAAKitB,EAAK4yD,OAAO3vE,IAEnB,CACL0nD,OAAQA,EACRigF,KAAMA,EACN5qH,KAAM+6B,EAAO1kD,KAAK,IAClBihB,GAAIA,IAwaQy3H,CAAsB/uH,GAAO+yG,MAI/C2Y,GAAUsD,WAAa7D,GAEvB,IAII8D,GAAe,SAAUvwB,EAAY1+F,GACvC,IAEIkvH,EAAajsI,EAAOksI,EAAa94D,EAFjCh2D,EAAUL,EACVovH,EAAiB,0CAEjBz2C,EAAS+lB,EAAW/lB,OACxBt4E,EATa,SAAUgvH,EAAWrvH,GAClC,IAAIsvH,EAAoB,IAAI52H,OAAO,CAAC,QAAU22H,EAAUh5I,KAAK,KAAO,aAAaA,KAAK,KAAM,MAC5F,OAAO2pB,EAAKhsB,QAAQs7I,EAAmB,IAO7BC,CAAS7wB,EAAW8wB,eAAgBnvH,GAE9C,IADA,IAAIgrH,EAAqB1yC,EAAOwF,wBACzB9nB,EAAU+4D,EAAel5I,KAAKmqB,IACnCpd,EAAQmsI,EAAe/qH,UACvB8qH,EAAc94D,EAAQ,GAAGpjF,OAEvBi8I,EADE7D,EAAmBh1D,EAAQ,IACfpzE,EAEAyoI,GAAUsD,WAAWr2C,EAAQt4E,EAASpd,GAEtDod,EAAUA,EAAQ/pB,UAAU,EAAG2M,EAAQksI,GAAe9uH,EAAQ/pB,UAAU44I,GACxEE,EAAe/qH,UAAYphB,EAAQksI,EAErC,OAAO9+C,GAAOhwE,IAEZovH,GAAeR,GAOfS,GAAqB,SAAUzjD,EAAQryD,EAAMm5F,EAAQ5xH,GACvD,IAAIkf,EA2BJ,OA1BAuZ,EAAKm5F,OAASA,EACdn5F,EAAK5oC,KAAM,EACX4oC,EAAK+1G,UAAW,EACX/1G,EAAKg2G,WACR3jD,EAAOn0B,KAAK,mBAAoBl+B,GAGhCvZ,EADkB,QAAhBuZ,EAAKm5F,OACGn7C,GAAMllF,KAAK+8I,GAAaxjD,EAAOyyB,WAAYv9G,EAAK1O,YACjC,SAAhBmnC,EAAKm5F,OACJ9mC,EAAOnT,IAAIma,QAAQ9xF,GAAQ,GAAKkvF,GAAOlvF,EAAK2oC,WAAa3oC,EAAK0oC,aAC/C,SAAhBjQ,EAAKm5F,OACJ9mC,EAAOyyB,WAAWzmF,UAAU92B,EAAMy4B,GAlBxB,SAAUqyD,EAAQjsE,GACxC,IAAIixE,EAAY+1B,GAAmB/6B,GAC/B4jD,EAAc,IAAIn3H,OAAO,MAAQu4E,EAAY,4CAAiDA,EAAY,8BAC9G,OAAOjxE,EAAKhsB,QAAQ67I,EAAa,IAiBrBC,CAAkB7jD,EAAQA,EAAOyyB,WAAWzmF,UAAU92B,EAAMy4B,IAEnE37B,EAAS,CACV,OACA,QACC27B,EAAKm5F,SAAY9iC,GAAoBlX,GAAaF,QAAQ13E,IAG7Dy4B,EAAKvZ,QAAUA,EAFfuZ,EAAKvZ,QAAUu3D,GAAMllF,KAAK2tB,GAIvBuZ,EAAKg2G,WACR3jD,EAAOn0B,KAAK,aAAcl+B,GAErBA,EAAKvZ,SAQV0vH,GAASn4D,GAAM31B,KACf+tF,GAAe,SAAUl3D,GA4C3B,MAAO,CAAE0xB,QA3CK,SAAU+hB,EAAOC,GAC7B,GAAID,EAAM5+E,WAAa6+E,EAAM7+E,SAC3B,OAAO,EAET,IAAIklE,EAAa,SAAUlnE,GACzB,IAAIskG,EAAU,GAOd,OANAF,GAAOj3D,EAAI+5B,WAAWlnE,IAAO,SAAUuc,GACrC,IAAI7kD,EAAO6kD,EAAKva,SAASl4C,cACC,IAAtB4N,EAAK3B,QAAQ,MAAuB,UAAT2B,GAA8C,IAA1BA,EAAK3B,QAAQ,WAC9DuuI,EAAQ5sI,GAAQy1E,EAAI65B,UAAUhnE,EAAMtoC,OAGjC4sI,GAELC,EAAiB,SAAUC,EAAMC,GACnC,IAAIh/I,EAAOiS,EACX,IAAKA,KAAQ8sI,EACX,GAAIA,EAAKz+I,eAAe2R,GAAO,CAE7B,QAAqB,KADrBjS,EAAQg/I,EAAK/sI,IAEX,OAAO,EAET,GAAI8sI,EAAK9sI,KAAUjS,EACjB,OAAO,SAEFg/I,EAAK/sI,GAGhB,IAAKA,KAAQ+sI,EACX,GAAIA,EAAK1+I,eAAe2R,GACtB,OAAO,EAGX,OAAO,GAET,QAAK6sI,EAAer9B,EAAW0Z,GAAQ1Z,EAAW2Z,QAG7C0jB,EAAep3D,EAAI68B,WAAW78B,EAAI65B,UAAU4Z,EAAO,UAAWzzC,EAAI68B,WAAW78B,EAAI65B,UAAU6Z,EAAO,cAG/F4E,GAAiB7E,KAAW6E,GAAiB5E,QAKrD6jB,GAAYz4D,GAAMC,QAClBy4D,GAAS,SAAU/jD,GACrB,IAAIvsE,EAAO,GAEPuwH,GADJhkD,EAAWA,GAAY,IACDgkD,OAClBC,EAAeH,GAAU9jD,EAASkkD,eAAiB,IACnDC,EAAcL,GAAU9jD,EAASokD,cAAgB,IACjDlpH,EAASmvE,GAASE,cAAcvK,EAASqkD,iBAAmB,MAAOrkD,EAASoK,UAC5Ek6C,EAAyC,SAA5BtkD,EAASukD,eAC1B,MAAO,CACLz3I,MAAO,SAAUgK,EAAM08E,EAAOl4B,GAC5B,IAAIt3D,EAAGC,EAAG03D,EAAM92D,EAQhB,GAPIm/I,GAAUC,EAAantI,IAAS2c,EAAK/sB,OAAS,IAChD7B,EAAQ4uB,EAAKA,EAAK/sB,OAAS,IACjBA,OAAS,GAAe,OAAV7B,GACtB4uB,EAAKjtB,KAAK,MAGditB,EAAKjtB,KAAK,IAAKsQ,GACX08E,EACF,IAAKxvF,EAAI,EAAGC,EAAIuvF,EAAM9sF,OAAQ1C,EAAIC,EAAGD,IACnC23D,EAAO63B,EAAMxvF,GACbyvB,EAAKjtB,KAAK,IAAKm1D,EAAK7kD,KAAM,KAAMokB,EAAOygC,EAAK92D,OAAO,GAAO,KAI5D4uB,EAAKA,EAAK/sB,SADP40D,GAASgpF,EACQ,IAEA,MAElBhpF,GAAS0oF,GAAUG,EAAYrtI,IAAS2c,EAAK/sB,OAAS,IACxD7B,EAAQ4uB,EAAKA,EAAK/sB,OAAS,IACjBA,OAAS,GAAe,OAAV7B,GACtB4uB,EAAKjtB,KAAK,OAIhBwG,IAAK,SAAU8J,GACb,IAAIjS,EACJ4uB,EAAKjtB,KAAK,KAAMsQ,EAAM,KAClBktI,GAAUG,EAAYrtI,IAAS2c,EAAK/sB,OAAS,IAC/C7B,EAAQ4uB,EAAKA,EAAK/sB,OAAS,IACjBA,OAAS,GAAe,OAAV7B,GACtB4uB,EAAKjtB,KAAK,OAIhBmzD,KAAM,SAAUA,EAAMs6B,GAChBt6B,EAAKjzD,OAAS,IAChB+sB,EAAKA,EAAK/sB,QAAUutF,EAAMt6B,EAAOz+B,EAAOy+B,KAG5C2lF,MAAO,SAAU3lF,GACflmC,EAAKjtB,KAAK,YAAamzD,EAAM,QAE/B0lF,QAAS,SAAU1lF,GACjBlmC,EAAKjtB,KAAK,UAAQmzD,EAAM,WAE1B4lF,GAAI,SAAUzoI,EAAM6iD,GACdA,EACFlmC,EAAKjtB,KAAK,KAAMsQ,EAAM,IAAKokB,EAAOy+B,GAAO,MAEzClmC,EAAKjtB,KAAK,KAAMsQ,EAAM,MAEpBktI,GACFvwH,EAAKjtB,KAAK,OAGdg5I,QAAS,SAAU7lF,GACjBlmC,EAAKjtB,KAAK,YAAamzD,EAAM,IAAKqqF,EAAS,KAAO,KAEpDnlG,MAAO,WACLprB,EAAK/sB,OAAS,GAEhBs4D,WAAY,WACV,OAAOvrC,EAAK3pB,KAAK,IAAIrC,QAAQ,MAAO,OAKtC+8I,GAAiB,SAAUxkD,EAAUoM,QACxB,IAAXA,IACFA,EAASd,MAEX,IAAIm5C,EAASV,GAAO/jD,IACpBA,EAAWA,GAAY,IACdm6C,WAAW,aAAcn6C,IAAWA,EAASm6C,SAqFtD,MAAO,CAAEzuG,UApFO,SAAU0T,GACxB,IAAI+6F,EAAWn6C,EAASm6C,SACpBuK,EAAW,CACb7rD,EAAG,SAAUz5C,GACXqlG,EAAO9qF,KAAKva,EAAKv6C,MAAOu6C,EAAK60C,MAE/B0wD,EAAG,SAAUvlG,GACXqlG,EAAOpF,QAAQjgG,EAAKv6C,QAEtB+/I,EAAG,SAAUxlG,GACXqlG,EAAOlF,GAAGngG,EAAKtoC,KAAMsoC,EAAKv6C,QAE5BggJ,GAAI,SAAUzlG,GACZqlG,EAAOjF,QAAQpgG,EAAKv6C,QAEtBo1F,EAAG,SAAU76C,GACXqlG,EAAOnF,MAAMlgG,EAAKv6C,QAEpBigJ,GAAI,SAAU1lG,GACZ,GAAIA,EAAOA,EAAKgwC,WACd,GACEhE,EAAKhsC,SACEA,EAAOA,EAAKj/B,QAI3BskI,EAAO5lG,QACP,IAAIusC,EAAO,SAAUhsC,GACnB,IACItoC,EAAM4vF,EAASlT,EAAOrrB,EAAUm1B,EAAWynD,EAAa/gJ,EAAGC,EAAG+7I,EAD9DgF,EAAUN,EAAStlG,EAAKv1C,MAE5B,GAAKm7I,EA4CHA,EAAQ5lG,OA5CI,CAIZ,GAHAtoC,EAAOsoC,EAAKtoC,KACZ4vF,EAAUtnD,EAAK6+F,WACfzqD,EAAQp0C,EAAKpT,WACTmuG,GAAY3mD,GAASA,EAAM9sF,OAAS,KACtCq+I,EAAc,IACFh8I,IAAM,GAClBi3I,EAAc5zC,EAAOkE,eAAelxD,EAAKtoC,OACxB,CACf,IAAK9S,EAAI,EAAGC,EAAI+7I,EAAY1zC,gBAAgB5lG,OAAQ1C,EAAIC,EAAGD,KACzDmkE,EAAW63E,EAAY1zC,gBAAgBtoG,MACvBwvF,EAAMzqF,MACpBu0F,EAAY9J,EAAMzqF,IAAIo/D,GACtB48E,EAAYh8I,IAAIo/D,GAAYm1B,EAC5BynD,EAAYv+I,KAAK,CACfsQ,KAAMqxD,EACNtjE,MAAOy4F,KAIb,IAAKt5F,EAAI,EAAGC,EAAIuvF,EAAM9sF,OAAQ1C,EAAIC,EAAGD,KACnCmkE,EAAWqrB,EAAMxvF,GAAG8S,QACFiuI,EAAYh8I,MAC5Bu0F,EAAY9J,EAAMzqF,IAAIo/D,GACtB48E,EAAYh8I,IAAIo/D,GAAYm1B,EAC5BynD,EAAYv+I,KAAK,CACfsQ,KAAMqxD,EACNtjE,MAAOy4F,KAIb9J,EAAQuxD,EAIZ,GADAN,EAAO33I,MAAMsyC,EAAKtoC,KAAM08E,EAAOkT,IAC1BA,EAAS,CACZ,GAAItnD,EAAOA,EAAKgwC,WACd,GACEhE,EAAKhsC,SACEA,EAAOA,EAAKj/B,MAEvBskI,EAAOz3I,IAAI8J,MAWjB,OALkB,IAAdsoC,EAAKv1C,MAAem2F,EAASilD,MAG/BP,EAAS,IAAItlG,GAFbgsC,EAAKhsC,GAIAqlG,EAAOzlF,gBAKdkmF,GAAuB,IAAIC,IAoD7BzvF,EAlD8B,CAC5B,SACA,cACA,eACA,aACA,gBACA,UACA,eACA,gBACA,cACA,iBACA,SACA,eACA,eACA,eACA,aACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,oBACA,kBACA,QACA,WACA,OACA,QACA,MACA,SACA,UACA,UACA,YACA,QACA,YACA,YACA,SACA,aACA,aACA,WACA,aACA,aACA,gBACA,iBACA,aACA,mBACA,sBACA,sBACA,+BAE4B,SAAU1pD,GACtCk5I,GAAqBzzI,IAAIzF,MAG7B,IAAIo5I,GAAsB,CACxB,OACA,kBACA,iBAEEC,GAAgB,SAAU94D,EAAKntC,GACjC,OAAO34C,GAAK8lF,EAAI68B,WAAW78B,EAAI65B,UAAUhnE,EAAM,YAK7CkmG,GAAuB,SAAU/4D,EAAKntC,GACxC,OAAOqiC,EAAO4jE,GAAc94D,EAAKntC,IAAO,SAAUpzC,GAChD,OALwB,SAAUA,GACpC,OAAOk5I,GAAqB1tI,IAAIxL,GAItBu5I,CAAsBv5I,OAU9Bw5I,GAAmB,SAAUj5D,EAAKntC,EAAMltC,GAC1C,IAAIuzI,EAAiBJ,GAAc94D,EAAKntC,GACpCsmG,EAAuBL,GAAc94D,EAAKr6E,GAC1CyzI,EAAgB,SAAUxvG,GAC5B,IAAI4oE,EAAYxyB,EAAIs6B,SAASznE,EAAMjJ,GAC/ByvG,EAAcr5D,EAAIs6B,SAAS30G,EAAYikC,GAC3C,OAAOuwC,GAAWq4B,IAAcr4B,GAAWk/D,IAAgB7mC,IAAc6mC,GAE3E,OAAOpkE,EAAOikE,GAAgB,SAAUI,GACtC,IAAIC,EAAa,SAAU3uG,GACzB,OAAOqqC,EAAOrqC,GAAO,SAAUhB,GAC7B,OAAOA,IAAS0vG,MAGpB,IAAKC,EAAWJ,IAAyBI,EAAWV,IAAsB,CACxE,IAAIW,EArBDnkI,EAqBuC8jI,GArBxB,SAAU15I,GAC9B,OAAOw1E,EAAO4jE,IAAqB,SAAUjvG,GAC3C,OAAOhrC,GAAWa,EAAOmqC,SAoBzB,OAAOqrC,EAAOukE,EAAeJ,GAE7B,OAAOA,EAAcE,OAKvBG,GAAS,SAAUzmC,EAASr4E,EAAWrN,GACzC,OAAOkoD,EAASt8E,KAAKo0B,EAAIlsB,aAAaiU,OAAO+wE,IAAUnR,QAAO,SAAU7nB,GACtE,IAAI9+B,EAAQ0kF,EAAU,GAAK,EAC3B,OAAOr4E,EAAUyyB,EAAKhpC,KAAKla,OAAOojB,EAAI/b,SAAW+c,QAGjDorH,GAAgBjmE,EAAMgmE,IAAQ,EAAMhhB,IACpCkhB,GAAelmE,EAAMgmE,IAAQ,EAAOhhB,IACpCmhB,GAAc,SAAUtsH,GAC1B,IAAIlsB,EAAYksB,EAAIlsB,YACpB,OAAOglF,GAAShlF,KAAyC,IAA1BA,EAAUgjB,KAAKjqB,QAAgBm9F,GAASl2F,EAAUgjB,OAASy8G,GAAgBnmC,eAAet5F,EAAUuE,cAEjIk0I,GAAyB,SAAUr2D,EAAQ7oD,GAC7C,OAAO,SAAUrN,GACf,OAAOkoD,EAASt8E,KAAKg6H,GAA6B1vC,EAAS,GAAK,EAAGl2D,IAAMjY,OAAOslB,GAAW85C,WAG3FqlE,GAAe,SAAUjnG,GAC3B,OAAO4zC,GAAM5zC,IAA0D,UAAjD00C,GAAMtH,GAAaF,QAAQltC,GAAO,YAEtDknG,GAAY,SAAUlnG,GACxB,OAAO8zC,GAAuB9zC,KApnYf,SAAUA,GACzB,OAAO8yC,GAAY9yC,IAAiD,QAAxCA,EAAK/4C,aAAa,kBAmnYNkgJ,CAAWnnG,IAEjDonG,GAAqBJ,IAAuB,EAAMC,IAClDI,GAAoBL,IAAuB,EAAOC,IAClDK,GAAgBN,IAAuB,EAAMhzD,IAC7CuzD,GAAeP,IAAuB,EAAOhzD,IAC7CwzD,GAAgBR,IAAuB,EAAM5zD,IAC7Cq0D,GAAeT,IAAuB,EAAO5zD,IAC7Cs0D,GAA+BV,IAAuB,EAAME,IAC5DS,GAA8BX,IAAuB,EAAOE,IAW5DU,GAAmB,SAAUxyD,GAC/B,IAAIyyD,EAAS72B,GAAc57B,EAAK,MAC5ByQ,EAAMrjF,EAXY,SAAU4yE,GAGhC,IAFA,IAAIjuF,EAAW,GACX2gJ,EAAU1yD,EAAIjI,IACX26D,GACL3gJ,EAASC,KAAKgmF,GAAaF,QAAQ46D,IACnCA,EAAUA,EAAQ73D,UAEpB,OAAO9oF,EAIU4gJ,CAAkB3yD,GAAK5uF,OAAO,GAAIw9F,IAC/C6jD,EAAOvgJ,SAAWu+F,EAAIv+F,QACxBgvD,EAAKuvC,EAAKhzF,KAGVm1I,GAAoB,SAAU5yD,GAChCl5B,GAAMk5B,GACN3nD,GAAO2nD,EAAKhI,GAAaC,SAAS,6BAEhC46D,GAAsB,SAAU7yD,GAClCnF,GAAUmF,GAAK9+B,MAAK,SAAU25B,GAC5BN,GAAYM,GAAW35B,MAAK,SAAU4xF,GAChCpkD,GAAQ1O,IAAQ4O,GAAO/T,IAAc6T,GAAQokD,IAC/Cr1I,GAAOo9E,UASXk4D,GAAiB,SAAUz6I,EAAO+E,EAAMq1B,GAC1C,OAAIgnD,GAAWr8E,EAAM/E,GAn+YT,SAAUvB,EAAS6xF,GAI/B,IAHA,IAAI9uB,EAAOkR,EAAW4d,GAAUA,EAAS7c,EACrCgM,EAAMhhF,EAAQghF,IACd2L,EAAM,GACgB,OAAnB3L,EAAIr6E,iBAA0CqE,IAAnBg2E,EAAIr6E,YAA0B,CAC9D,IAAIs1I,EAAYj7D,EAAIr6E,WAChB9M,EAAIonF,GAAaF,QAAQk7D,GAE7B,GADAtvD,EAAI1xF,KAAKpB,IACO,IAAZkpE,EAAKlpE,GACP,MAEAmnF,EAAMi7D,EAGV,OAAOtvD,EAs9YWmZ,CAAQvkG,GAAO,SAAU0nF,GACvC,OAAOttD,EAAUstD,IAAQ7G,GAAK6G,EAAK3iF,MAL7BjM,MAAM,GAAI,GAQX,IAGP6hJ,GAAY,SAAU36I,EAAO+E,GAC/B,OAAO01I,GAAez6I,EAAO+E,EAAM0uE,IAEjCmnE,GAAiB,SAAU56I,EAAO+E,GACpC,MAAO,CAAC/E,GAAOsmB,OAAOq0H,GAAU36I,EAAO+E,KAGrC81I,GAA+B,SAAUpoC,EAAS1tG,EAAMpM,GAC1D,OAAOi9H,GAAenjB,EAAS1tG,EAAMpM,EAAM0gJ,KAEzCyB,GAAkB,SAAU/1I,EAAMgoB,GACpC,OAAOtoB,EAAKm2I,GAAel7D,GAAaF,QAAQzyD,EAAIlsB,aAAckE,GAAOqxF,KAEvE2kD,GAA+B,SAAUtoC,EAAS1tG,EAAMgoB,GAC1D,OAAO8tH,GAA6BpoC,EAAS1tG,EAAK06E,IAAK1yD,GAAK4nD,QAAO,SAAUqmE,GAC3E,OAAOF,GAAgB/1I,EAAMgoB,GAAKgnD,MAAK,WACrC,OAAgD,IAAzCy+C,GAAcwoB,EAAQjuH,EAAKhoB,EAAK06E,QACtC,SAAUw7D,GACX,OAAgD,IAAzCzoB,GAAcwoB,EAAQjuH,EAAKhoB,EAAK06E,MAAkB2B,GAAW65D,EAAWv7D,GAAaF,QAAQw7D,EAAOn6I,qBAI7Gq6I,GAAsB,SAAUzoC,EAAS1tG,EAAMgoB,GACjD,OAAO+tH,GAAgB/1I,EAAMgoB,GAAKgnD,MAAK,WACrC,OAAO8mE,GAA6BpoC,EAAS1tG,EAAK06E,IAAK1yD,GAAK4nD,QAAO,SAAUqmE,GAC3E,OAAgD,IAAzCxoB,GAAcwoB,EAAQjuH,EAAKhoB,EAAK06E,WAExC,SAAUpqB,GACX,OAAOwlF,GAA6BpoC,EAASp9C,EAAOoqB,IAAK1yD,GAAK8mD,aAG9DsnE,GAAmBjoE,EAAMgoE,IAAqB,GAC9CE,GAAiBloE,EAAMgoE,IAAqB,GAC5CG,GAAgBnoE,EAAM6nE,IAA8B,GACpDO,GAAepoE,EAAM6nE,IAA8B,GAEnDQ,GAAS,SAAUxuH,GACrB,OAAO8mG,GAAuB9mG,GAAK2nD,OAAO4hB,KAExCklD,GAAS,SAAU/oC,EAAS1tG,EAAMgoB,GACpC,IAAI0uH,EAAe3mI,EAAO8lI,GAAel7D,GAAaF,QAAQzyD,EAAIlsB,aAAckE,GAAOqxF,IACnFxW,EAAQ/zB,GAAK4vF,GAActnE,MAAMpvE,GACrC,OAAO2wH,GAAajjB,EAAS7yB,EAAMH,IAAK1yD,GAAKjY,OAAOymI,KAElDG,GAAa,SAAU32I,EAAMgoB,GAC/B,OAAO8mG,GAAuB9mG,GAAK2nD,OAAO4hB,KAAWklD,IAAO,EAAMz2I,EAAMgoB,GAAKmnD,UAE3EynE,GAAY,SAAU52I,EAAMgoB,GAC9B,OA7lI+B,SAAUA,GACzC,OAAOkoD,EAASt8E,KAAKo0B,EAAIy6F,SAAQ,IAAOvrH,IAAIyjF,GAAaF,SA4lIlDo8D,CAA2B7uH,GAAK2nD,OAAO4hB,KAAWklD,IAAO,EAAOz2I,EAAMgoB,GAAKmnD,UAEhF2nE,GAAiB3oE,EAAMsoE,IAAQ,GAC/BM,GAAa5oE,EAAMsoE,IAAQ,GAE3BO,GAAmB,SAAUhvH,GAC/B,OAAO88F,GAAcO,eAAer9F,KAASA,EAAIyqE,cAAgBzqE,EAAI2qE,WAEnEskD,GAAoB,SAAUj3I,EAAMgoB,GACtC,IAAI0uH,EAAe3mI,EAAO8lI,GAAel7D,GAAaF,QAAQzyD,EAAIlsB,aAAckE,GAAOqxF,IACvF,OAAOvqC,GAAK4vF,GAActnE,MAAMpvE,IAE9Bk3I,GAAiB,SAAUl3I,EAAMgoB,GACnC,OAAIgvH,GAAiBhvH,GACZqsH,GAAarsH,GAEbqsH,GAAarsH,IAAQkpG,GAAa+lB,GAAkBj3I,EAAMgoB,GAAK0yD,IAAK1yD,GAAK2nD,OAAO0kE,KAGvF8C,GAAgB,SAAUn3I,EAAMgoB,GAClC,OAAIgvH,GAAiBhvH,GACZosH,GAAcpsH,GAEdosH,GAAcpsH,IAAQipG,GAAagmB,GAAkBj3I,EAAMgoB,GAAK0yD,IAAK1yD,GAAK2nD,OAAOykE,KASxFgD,GAAU,SAAUpvH,GACtB,OAAO8mG,GAAuB9mG,GAAK70B,MAAK,SAAUwvF,GAChD,OAAO+J,GAAQ/J,EAAKv2B,OACnBujB,QAAO,SAAUgT,GAClB,OAVa,SAAU3vF,GACzB,OAAO6M,EAAS,CACd,MACA,YACC7M,GAMMqkJ,CAAWp1D,GAAMU,EAAK,oBAS7B20D,GAAmB,SAAUt3I,EAAMgoB,GACrC,OAPwB,SAAUhoB,EAAMgoB,GACxC,OAAOkpG,GAAalxH,EAAK06E,IAAK1yD,GAAK8mD,SAM5ByoE,CAAoBv3I,EAAMgoB,IAJf,SAAUhoB,EAAMgoB,GAClC,OAAOipG,GAAajxH,EAAK06E,IAAK1yD,GAAK8mD,SAGM0oE,CAAcx3I,EAAMgoB,IAAQouH,GAAiBp2I,EAAMgoB,IAAQquH,GAAer2I,EAAMgoB,IAAQ4uH,GAAU52I,EAAMgoB,IAAQ2uH,GAAW32I,EAAMgoB,IASxKyvH,GAAoB,SAAUz3I,EAAMgoB,GACtC,OAAIovH,GAAQpvH,KAGHouH,GAAiBp2I,EAAMgoB,IAAQsuH,GAAct2I,EAAMgoB,IAAQ4uH,GAAU52I,EAAMgoB,IAAQkvH,GAAel3I,EAAMgoB,KAY/G0vH,GAAqB,SAAU13I,EAAMgoB,GACvC,OAAIovH,GAAQpvH,KAGHquH,GAAer2I,EAAMgoB,IAAQuuH,GAAav2I,EAAMgoB,IAAQ2uH,GAAW32I,EAAMgoB,IAAQmvH,GAAcn3I,EAAMgoB,KAG5G2vH,GAAgB,SAAU33I,EAAMgoB,GAClC,OAAOyvH,GAAkBz3I,EAAMgoB,IAAQ0vH,GAAmB13I,EAjB5C,SAAUgoB,GACxB,IAAIlsB,EAAYksB,EAAIlsB,YAChBmQ,EAAS+b,EAAI/b,SACjB,OAAI60E,GAAShlF,IAAcmQ,EAASnQ,EAAUgjB,KAAKjqB,OAC1CiwH,GAAchpH,EAAWmQ,EAAS,GAElC+b,EAWuD0mG,CAAU1mG,KAExE4vH,GAAW,SAAU9vF,EAAM77C,GAC7B,OAAOgnH,GAAOnrE,EAAKljD,OAAOqH,KAExB4rI,GAAU,SAAU7vH,GACtB,IAAIlsB,EAAYksB,EAAIlsB,YACpB,OAAOglF,GAAShlF,IAAcy4E,GAAWz4E,EAAUgjB,KAAMgzE,KAsBvDgmD,GAAkC,SAAUvqG,GAC9C,IAAIua,EAAOva,EAAKzuB,KACZi5H,EAtBoB,SAAUjwF,GAClC,IAAIkwF,EAAQlwF,EAAK3yD,MAAM,IACvB,OAAO+B,EAAI8gJ,GAAO,SAAU32H,EAAKlvB,GAC/B,OAAI8gI,GAAO5xG,IAAQlvB,EAAI,GAAKA,EAAI6lJ,EAAMnjJ,OAAS,GAAKu+H,GAAY4kB,EAAM7lJ,EAAI,KAAOihI,GAAY4kB,EAAM7lJ,EAAI,IAC9F,IAEAkvB,KAERppB,KAAK,IAcMggJ,CAAoBnwF,GAClC,OAAIiwF,IAAYjwF,IACdva,EAAKzuB,KAAOi5H,GACL,IAePG,GAAiB,SAAUl4I,EAAMgoB,GACnC,OAAOkoD,EAAS5tE,KAAK0lB,GAAKjY,OAAO8nI,IAAS1kJ,MAAK,SAAU60B,GACvD,IAAIlsB,EAAYksB,EAAIlsB,YAEpB,OAlCuB,SAAUkE,EAAMutC,GACzC,IAAIua,EAAOva,EAAKzuB,KACZq5H,EAAWrzB,GAAcv3E,EAAM,GACnC,SAAIqqG,GAAS9vF,EAAM,IAAO6vF,GAAc33I,EAAMm4I,KAC5C5qG,EAAKzuB,KAAO,IAAMgpC,EAAK/zD,MAAM,GACtB,IA4BUqkJ,CAAqBp4I,EAAMlE,IAAcg8I,GAAgCh8I,IAbrE,SAAUkE,EAAMutC,GACvC,IAAIua,EAAOva,EAAKzuB,KACZu5H,EAAUvzB,GAAcv3E,EAAMua,EAAKjzD,OAAS,GAChD,SAAI+iJ,GAAS9vF,EAAMA,EAAKjzD,OAAS,IAAO8iJ,GAAc33I,EAAMq4I,KAC1D9qG,EAAKzuB,KAAOgpC,EAAK/zD,MAAM,GAAI,GAAK,IACzB,IAQiGukJ,CAAmBt4I,EAAMlE,GAC7Go0E,EAAS5tE,KAAK0lB,GAAOkoD,EAAStB,WAGlD2pE,GAAyB,SAAU1qD,GACrC,IAAI7tF,EAAO26E,GAAaF,QAAQoT,EAAOmxB,WACnCnxB,EAAOixB,UAAU0I,eACnB0wB,GAAel4I,EAAM8kH,GAAcG,eAAep3B,EAAOixB,UAAUC,WAAWl7D,MAAK,SAAU77B,GAC3F6lE,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,eA+B9ByzB,GAAc,SAAUjrG,EAAMthC,EAAQpB,GACxC,GAAc,IAAVA,EAAJ,CAGA,IAAI83E,EAAMhI,GAAaF,QAAQltC,GAC3BvtC,EAAOsrF,GAAS3I,EAAK0O,IAASjiB,MAAMuT,GACpCl4D,EAAa8iB,EAAKzuB,KAAK/qB,MAAMkY,EAAQA,EAASpB,GAC9C4tI,EAAiBxsI,EAASpB,GAAS0iC,EAAKzuB,KAAKjqB,QAAU6iJ,GAAmB13I,EAAM8kH,GAAcv3E,EAAMA,EAAKzuB,KAAKjqB,SAC9G6jJ,EAA8B,IAAXzsI,GAAgBwrI,GAAkBz3I,EAAM8kH,GAAcv3E,EAAM,IACnFA,EAAKorG,YAAY1sI,EAAQpB,EAnCJ,SAAUoX,EAASy2H,EAAkBD,GAwB1D,OAvBa/nE,EAAMzuD,GAAS,SAAUwuD,EAAKl+E,GACzC,OAAI4gI,GAAe5gI,IAAM0gI,GAAO1gI,GAC1Bk+E,EAAImoE,qBAAmC,KAAZnoE,EAAIx2D,KAAcy+H,GAAoBjoE,EAAIx2D,IAAIplB,SAAWotB,EAAQptB,OAAS,GAAK4jJ,EACrG,CACLG,qBAAqB,EACrB3+H,IAAKw2D,EAAIx2D,IAAM63E,IAGV,CACL8mD,qBAAqB,EACrB3+H,IAAKw2D,EAAIx2D,IAAM,KAIZ,CACL2+H,qBAAqB,EACrB3+H,IAAKw2D,EAAIx2D,IAAM1nB,KAGlB,CACDqmJ,qBAAqB,EACrB3+H,IAAK,KAEOA,IAWkB4+H,CAAiBpuH,EAAYiuH,EAAkBD,MAE7EK,GAA2B,SAAUvrG,EAAMthC,GAC7C,IAAIgW,EAAUsrB,EAAKzuB,KAAK/qB,MAAMkY,GAC1B8sI,EAAkB92H,EAAQptB,OAAS8/E,GAAM1yD,GAASptB,OACtD,OAAO2jJ,GAAYjrG,EAAMthC,EAAQ8sI,IAE/BC,GAA4B,SAAUzrG,EAAMthC,GAC9C,IAAIgW,EAAUsrB,EAAKzuB,KAAK/qB,MAAM,EAAGkY,GAC7B8sI,EAAkB92H,EAAQptB,OAAS+/E,GAAM3yD,GAASptB,OACtD,OAAO2jJ,GAAYjrG,EAAMthC,EAAS8sI,EAAiBA,IAEjDE,GAAiB,SAAUC,EAAUlpB,EAAUmpB,EAAqBC,QAClD,IAAhBA,IACFA,GAAc,GAEhB,IAAIC,EAAmBzkE,GAAMskE,EAASp6H,MAAMjqB,OACxCykJ,EAAUF,EAAcF,EAAWlpB,EACnC3F,EAAa+uB,EAAcppB,EAAWkpB,EAU1C,OATIE,EACFE,EAAQtnB,WAAW3H,EAAWvrG,MAE9Bw6H,EAAQC,WAAW,EAAGlvB,EAAWvrG,MAEnC1e,GAAOu6E,GAAaF,QAAQ4vC,IACxB8uB,GACFL,GAAyBQ,EAASD,GAE7BC,GAQL9sB,GAAa,SAAU7pC,EAAK36D,GAC9B,OANoB,SAAUA,EAAK26D,GACnC,IAAI7mF,EAAYksB,EAAIlsB,YAChBmQ,EAAS+b,EAAI/b,SACjB,OAA6C,IAAtC64G,GAAcO,eAAer9F,IAAkBlsB,IAAc6mF,EAAItiF,YAAc4L,EAAS64G,GAAc5mC,OAAOyE,GAAK12E,SAGlHutI,CAAgBxxH,EAAK26D,GAAOmiC,GAAc98F,EAAIlsB,YAAaksB,EAAI/b,SAAW,GAAK+b,GAQpFyxH,GAAkC,SAAU92D,GAC9C,OAAImR,GAAiBnR,EAAIxF,iBAChBjN,EAAS5tE,MALSirC,EAKSo1C,EAAIxF,gBAJjC2D,GAASvzC,GAAQu3E,GAAcv3E,EAAMA,EAAKzuB,KAAKjqB,QAAUiwH,GAAc1mC,MAAM7wC,KAM3Eo1C,EAAIxF,gBAAkBi0C,GAAezuC,EAAIxF,iBAAmBjN,EAAStB,OAP7D,IAAUrhC,GAUzBmsG,GAA8B,SAAU/2D,GAC1C,OAAImR,GAAiBnR,EAAIziF,aAChBgwE,EAAS5tE,MAfYirC,EAeSo1C,EAAIziF,YAdpC4gF,GAASvzC,GAAQu3E,GAAcv3E,EAAM,GAAKu3E,GAAc5mC,OAAO3wC,KAgB7Do1C,EAAIziF,YAAcixH,GAAgBxuC,EAAIziF,aAAegwE,EAAStB,OAjBnD,IAAUrhC,GA+B5BosG,GAA6B,SAAUrlD,EAAa3R,GACtD,OAAO82D,GAAgC92D,GAAKjT,SAAQ,WAClD,OAAOgqE,GAA4B/2D,MAClCjT,SAAQ,WACT,OAfoC,SAAU4kB,EAAa3R,GAC7D,IAAIi3D,EAAgB90B,GAAc5mC,OAAOyE,EAAIxF,gBAAkBwF,EAAIxF,gBAAkBwF,EAAItiF,YACzF,OAAO6wH,GAAa58B,EAAaslD,GAAe5qE,MAAK,WACnD,OAAOiiD,GAAa38B,EAAawwB,GAAc1mC,MAAMuE,MACpDzS,EAAS5tE,MAWHu3I,CAAkCvlD,EAAa3R,OAGtDm3D,GAA2B,SAAUxlD,EAAa3R,GACpD,OAAO+2D,GAA4B/2D,GAAKjT,SAAQ,WAC9C,OAAO+pE,GAAgC92D,MACtCjT,SAAQ,WACT,OAhBmC,SAAU4kB,EAAa3R,GAC5D,OAAOsuC,GAAa38B,EAAawwB,GAAc1mC,MAAMuE,IAAM3T,MAAK,WAC9D,OAAOkiD,GAAa58B,EAAawwB,GAAc5mC,OAAOyE,MACrDzS,EAAS5tE,MAaHy3I,CAAiCzlD,EAAa3R,OAMrDq3D,GAAoC,SAAUtsC,EAASpZ,EAAa3R,GACtE,OAJwB,SAAU+qB,EAASpZ,EAAa3R,GACxD,OAAO+qB,EAAUosC,GAAyBxlD,EAAa3R,GAAOg3D,GAA2BrlD,EAAa3R,GAG/Fs3D,CAAoBvsC,EAASpZ,EAAa3R,GAAKzrF,IAAIi3E,EAAMq+C,GAAY7pC,KAE1Eu3D,GAAe,SAAUrsD,EAAQ6f,EAAS1lF,GAC5CA,EAAIgnD,MAAK,WACP6e,EAAOh4F,WACN,SAAUmyB,GACX6lE,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,UAAWrX,OAQvCysC,GAAY,SAAUtsD,EAAQlL,GAChC,OAAOA,GAAOh9E,GAAIkoF,EAAO0M,OAAOsF,mBAAoB56F,GAAK09E,KAEvDy3D,GAAiB,SAAUz3D,GAC7B,GAAIkS,GAAQlS,GAAM,CAChB,IAAImQ,EAAKnY,GAAaC,SAAS,2BAG/B,OAFAnxB,GAAMk5B,GACN3nD,GAAO2nD,EAAKmQ,GACL5iB,EAAS5tE,KAAKwiH,GAAc5mC,OAAO4U,EAAGpY,MAE7C,OAAOxK,EAAStB,QAGhByrE,GAAmB,SAAU13D,EAAK23D,EAAmBnB,GACvD,IArvLoBx3B,EAAIC,EAAI24B,EAAIhkJ,EAqvL5BikJ,EAAct9D,GAAYyF,GAAK5yE,OAAO2sE,IACtC+9D,EAAcv6I,GAAYyiF,GAAK5yE,OAAO2sE,IAE1C,OADAt8E,GAAOuiF,IAvvLag/B,EAwvLP64B,EAxvLW54B,EAwvLE64B,EAxvLEF,EAwvLWD,EAxvLP/jJ,EAwvL0B,SAAUm6F,EAAMpiF,EAAM0Z,GAC9E,IAAIkxH,EAAWxoD,EAAKhW,IAAKs1C,EAAW1hH,EAAKosE,IACrCzuE,EAASitI,EAASp6H,KAAKjqB,OAE3B,OADAokJ,GAAeC,EAAUlpB,EAAUmpB,GAC5BnxH,EAAIlsB,cAAgBk0H,EAAWlL,GAAco0B,EAAUjtI,GAAU+b,GA3vLnE25F,EAAGxyC,UAAYyyC,EAAGzyC,UAAYorE,EAAGprE,SAAWe,EAAS5tE,KAAK/L,EAAEorH,EAAGryC,WAAYsyC,EAAGtyC,WAAYirE,EAAGjrE,aAAeY,EAAStB,QA4vLzHc,SAAQ,WAST,OARIypE,IACFqB,EAAY32F,MAAK,SAAU8+B,GACzB,OAAOq2D,GAA0Br2D,EAAIjI,IAAKiI,EAAIjI,IAAI7lF,WAEpD4lJ,EAAY52F,MAAK,SAAU8+B,GACzB,OAAOm2D,GAAyBn2D,EAAIjI,IAAK,OAGtC4/D,MAMPI,GAAgB,SAAU7sD,EAAQ6f,EAAS/qB,EAAKg4D,QAChC,IAAdA,IACFA,GAAY,GAEd,IA9CwBtF,EA8CpBuF,EAAiBZ,GAAkCtsC,EAAS7f,EAAOmxB,UAAWr8B,EAAIjI,KAClFmgE,EAAcvvD,GAAS3I,EAAKxU,EAAMgsE,GAAWtsD,IA/CzBwnD,EA+C4CxnD,EAAOmxB,UA9CpE,SAAUr8B,GACf,OAAOA,EAAIjI,MAAQ26D,KA8CjByF,EAA2BT,GAAiB13D,EAAKi4D,EATjC,SAAU/sD,EAAQn0F,GACtC,OAAOiM,GAAIkoF,EAAO0M,OAAO0F,wBAAyBh7F,GAAKvL,IAQcqhJ,CAAgBltD,EAAQlL,IACzFkL,EAAOnT,IAAIma,QAAQhH,EAAOmxB,YAC5BnxB,EAAOx1B,WAAW,IAClBw1B,EAAOixB,UAAUk8B,qBAEjBH,EAAY1nJ,KAAKinJ,IAAgBprE,MAAK,WAChC2rE,GACFT,GAAarsD,EAAQ6f,EAASotC,MAE/B,SAAUG,GACPN,GACFT,GAAarsD,EAAQ6f,EAASx9B,EAAS5tE,KAAK24I,QAMhDC,GAAe,SAAUjgJ,EAAOE,GAClC,MAAO,CACLF,MAAOA,EACPE,IAAKA,IAULggJ,GAAe9wD,GAAa,CAC9B,CAAE+wD,YAAa,CAAC,YAChB,CAAEC,WAAY,CAAC,UACf,CACEC,oBAAqB,CACnB,MACA,WASFC,GAAiB,SAAUz/I,EAAWyvF,GACxC,OAAOwB,GAAUpS,GAAaF,QAAQ3+E,GAAY,QAASyvF,IAEzDiwD,GAAkB,SAAUC,EAAMlwD,GACpC,OAAOqB,GAAW6uD,EAAM,QAASlwD,IAE/BmwD,GAAoB,SAAUC,GAChC,OAAQ7/D,GAAK6/D,EAAQ1gJ,MAAO0gJ,EAAQxgJ,MAElCygJ,GAAsB,SAAUD,EAASpwD,GAC3C,OAAOiwD,GAAgBG,EAAQ1gJ,MAAOswF,GAAQp4F,MAAK,SAAU0oJ,GAC3D,OAAOL,GAAgBG,EAAQxgJ,IAAKowF,GAAQp4F,MAAK,SAAU2oJ,GACzD,OAx0LiBnlJ,EAw0LHmlF,GAAK+/D,EAAkBC,GAx0LjB7nJ,EAw0LkC4nJ,EAv0LnDllJ,EAAIu5E,EAAS5tE,KAAKrO,GAAKi8E,EAAStB,OAD5B,IAAUj4E,EAAG1C,SAk1LtB8nJ,GAAgB,SAAUlhD,GAC5B,OAAO0jB,GAAc1jB,EAAO,UAc1BmhD,GAAmB,SAAUzwD,EAAQszB,GACvC,IAAIo9B,EAAYV,GAAe18B,EAAIzF,eAAgB7tB,GAC/C2wD,EAAUX,GAAe18B,EAAIvF,aAAc/tB,GAC/C,OAAOszB,EAAIgJ,UAAY33C,EAAStB,OAAS8yC,GAAMu6B,EAAWC,EAAShB,IAAclsE,MAAK,WACpF,OAAOitE,EAAUjtE,MAAK,WACpB,OAAOktE,EAAQ/oJ,MAAK,SAAU+oJ,GAC5B,OAAOV,GAAgBU,EAAS3wD,GAAQp4F,MAAK,SAAU0nG,GACrD,OAAO/zC,GAAKi1F,GAAclhD,IAAQ3jG,KAAI,SAAU+kJ,GAC9C,OAAOf,GAAae,EAAWC,eAIpC,SAAUD,GACX,OAAOT,GAAgBS,EAAW1wD,GAAQp4F,MAAK,SAAU0nG,GACvD,OAAO5pB,GAAK8qE,GAAclhD,IAAQ3jG,KAAI,SAAUglJ,GAC9C,OAAOhB,GAAae,EAAWC,eAIpC,SAAUP,GACX,OAAOQ,GAAkB5wD,EAAQowD,GAAWzrE,EAAStB,OA3BxB,SAAU+sE,EAASpwD,GAClD,OAAOiwD,GAAgBG,EAAQ1gJ,MAAOswF,GAAQp4F,MAAK,SAAU0nG,GAC3D,OAAO5pB,GAAK8qE,GAAclhD,IAAQ3jG,KAAI,SAAUglJ,GAC9C,OAAOhB,GAAaS,EAAQ1gJ,MAAOihJ,SAwByBE,CAA2BT,EAASpwD,OAGlG4wD,GAAoB,SAAU5wD,EAAQowD,GACxC,OAAOC,GAAoBD,EAASpwD,GAAQpc,UAO1CktE,GAAoB,SAAUC,EAAYz9B,EAAKtzB,GACjD,OAAO+wD,EAAWvsI,QAAO,SAAU4rI,GACjC,OAAOD,GAAkBC,IAAYQ,GAAkB5wD,EAAQowD,MAC9DjsE,SAAQ,WACT,OAAOssE,GAAiBzwD,EAAQszB,MAC/B1rH,MAAK,SAAUopJ,GAChB,OAX+B,SAAUZ,EAASpwD,GACpD,OAAOqwD,GAAoBD,EAASpwD,GAAQr0F,KAAI,SAAU2jG,GACxD,OAvFiB,SAAUgkB,EAAKhkB,EAAO2hD,GACzC,MAAO,CACL39B,IAAKA,EACLhkB,MAAOA,EACP2hD,MAAOA,GAmFAC,CAAed,EAAS9gD,EAAOkhD,GAAclhD,OAS7C6hD,CAA6BH,EAAMhxD,OAG1CoxD,GAAe,SAAUH,EAAOf,GAClC,OAAOxrI,EAAUusI,GAAO,SAAUnjJ,GAChC,OAAOyiF,GAAKziF,EAAGoiJ,OAQfmB,GAAmC,SAAUN,EAAYz9B,EAAKtzB,GAChE,OAAO+wD,EAAWvsI,QAAO,SAAU4rI,GACjC,OAzEoB,SAAUA,EAASpwD,GACzC,OAAQmwD,GAAkBC,IAAYC,GAAoBD,EAASpwD,GAAQ5b,QAAO,SAAUkrB,GAC1F,IAAIgiD,EAAOhiD,EAAMngB,IAAImiE,KACrB,OAAuB,IAAhBA,EAAKhoJ,QAAyC,IAAzBgoJ,EAAK,GAAGL,MAAM3nJ,UAsEnCioJ,CAAkBnB,EAASpwD,IAAW+sC,GAAuBqjB,EAAQ1gJ,MAAO4jH,MAClF3nH,KAAI,SAAUykJ,GACf,OAAOA,EAAQ1gJ,UAGf8hJ,GAAY,SAAUN,GACxB,OAbqB,SAAUA,GAC/B,OAAO/6B,GAAMi7B,GAAaF,EAAeD,MAAOC,EAAe59B,IAAI5jH,OAAQ0hJ,GAAaF,EAAeD,MAAOC,EAAe59B,IAAI1jH,MAAM,SAAU6xI,EAAYkC,GAC3J,OAAOuN,EAAeD,MAAMzoJ,MAAMi5I,EAAYkC,EAAW,MAWpD8N,CAAiBP,GAAgBvlJ,KAAI,SAAUyoD,GACpD,IAAI68F,EAAQC,EAAeD,MAC3B,OAAO78F,EAAS9qD,SAAW2nJ,EAAM3nJ,OAASsmJ,GAAaC,YAAYqB,EAAe5hD,OAASsgD,GAAaE,WAAW17F,OAGnHs9F,GAAqB,SAAUj9I,EAAM6+G,GACvC,IAAItzB,EA1GkB,SAAUvrF,GAChC,OAAO,SAAUu7E,GACf,OAAOO,GAAK97E,EAAMu7E,IAwGP2hE,CAAkBl9I,GAC3Bs8I,EA7EW,SAAUz9B,EAAKtzB,GAC9B,IAAI0wD,EAAYV,GAAe18B,EAAIzF,eAAgB7tB,GAC/C2wD,EAAUX,GAAe18B,EAAIvF,aAAc/tB,GAC/C,OAAOm2B,GAAMu6B,EAAWC,EAAShB,IA0EhBiC,CAAWt+B,EAAKtzB,GACjC,OAAOqxD,GAAiCN,EAAYz9B,EAAKtzB,GAAQr0F,KAAI,SAAUukJ,GAC7E,OAAON,GAAaG,oBAAoBz8B,EAAK48B,MAC5C/rE,SAAQ,WACT,OAAO2sE,GAAkBC,EAAYz9B,EAAKtzB,GAAQp4F,KAAK4pJ,QAIvDK,GAAc,SAAUp9I,GAC1B,IAlhawBtG,EAmhaxB,OArlaY,IAmEL1B,GADiB0B,EAkhaFsG,IAjhagC,aAAlBiF,GAAKvL,GAihaXwjF,GAAYl9E,GAAQw9E,GAAUx9E,IAC/C7M,KAAKiqJ,IAAa1tE,SAAQ,WACrC,OAAOQ,EAAS5tE,KAAKtC,OAGrBq7I,GAAa,SAAUxtD,EAAQ2uD,GAGjC,OAFA34F,EAAK24F,EAAOjH,IACZ1nD,EAAOixB,UAAUk8B,kBAAkBwB,EAAM,GAAG9hE,IAAK,IAC1C,GAEL2iE,GAAqB,SAAUxvD,EAAQgxB,EAAK48B,GAC9C58B,EAAIy+B,iBACJ,IAv/ZuB5jJ,EAu/ZnB6jJ,EAAWH,GAAY3B,GAAMrsE,MAAMqsE,GACnC+B,EAAY7iE,GAAaF,QAAQoT,EAAOnT,IAAIm8B,UAAU0mC,EAAS7iE,IAAKmT,EAAOnT,IAAI2W,UAKnF,GAJIwD,GAAQ2oD,KACVjI,GAAkBiI,GAClB3vD,EAAOixB,UAAUk8B,kBAAkBwC,EAAU9iE,IAAK,KAE/CoB,GAAK2/D,EAAM+B,GAAY,CAC1B,IAAIC,EAAyBntF,GAAOktF,GAAWtuE,GAAGusE,GAAQ,GAx/ZrDnrF,GANgB52D,EA8/ZmD8jJ,GAx/ZnDtmJ,IAAIxC,IAAUwC,KALpB,SAAUwD,GACzB,OAAOqV,EAAOrV,GAAU,SAAUrB,GAChC,OAAQyiF,GAAKpiF,EAASL,SAG2B+1E,MAAM,IAy/ZzDvrB,EAAK45F,EAAuBl8H,OAAO7sB,GAAS+mJ,KAAQ,SAAUluG,GACvDuuC,GAAKvuC,EAAMiwG,IAAenhE,GAAW9uC,EAAMiwG,IAC9Cp9I,GAAOmtC,MAIb,OAAO,GAELmwG,GAAqB,SAAU7vD,EAAQgN,GAEzC,OADA6/C,GAAc7sD,GAAQ,EAAOgN,IACtB,GAUL8iD,GAAmB,SAAU9vD,EAAQhL,EAASg8B,EAAK++B,GACrD,OAAOC,GAAiBh7D,EAAS+6D,GAAU5uE,MAAK,WAC9C,OAVkB,SAAU6e,EAAQhL,EAASg8B,GAC/C,OAAOo+B,GAAmBp6D,EAASg8B,GAAK3nH,KAAI,SAAU4mJ,GACpD,OAAOA,EAAO9uE,KAAKb,EAAMuvE,GAAoB7vD,GAAS1f,EAAMktE,GAAYxtD,GAAS1f,EAAMkvE,GAAoBxvD,OAQpGkwD,CAAgBlwD,EAAQhL,EAASg8B,MACvC,SAAU57B,GACX,OAPqB,SAAU4K,EAAQ5K,GACzC,OAAO+6D,GAAanwD,EAAQ5K,GAMnBg7D,CAAmBpwD,EAAQ5K,MACjC7T,OAAM,IAQP8uE,GAAgB,SAAUr7D,EAASF,GACrC,OAAOjjF,EAAKm2I,GAAelzD,EAAKE,GAAU+O,KAExCisD,GAAmB,SAAUh7D,EAASF,GACxC,OAAOjjF,EAAKm2I,GAAelzD,EAAKE,IAAU,SAAUF,GAClD,MAAqB,YAAd19E,GAAK09E,OAUZq7D,GAAe,SAAUnwD,EAAQlL,GAGnC,OAFA4yD,GAAkB5yD,GAClBkL,EAAOixB,UAAUk8B,kBAAkBr4D,EAAIjI,IAAK,GACrCxK,EAAS5tE,MAAK,IAiBnB67I,GAA2B,SAAUtwD,EAAQhL,EAAS6qB,EAAS0wC,EAAaxqJ,GAC9E,OAAOg9H,GAASljB,EAAS7f,EAAOmxB,UAAWprH,GAAMT,MAAK,SAAUia,GAC9D,OAjBwB,SAAUgxI,EAAa1wC,EAAS95G,EAAMwZ,GAChE,OAAO+jH,GAAgBitB,EAAY1jE,KAAKvnF,MAAK,SAAU80B,GACrD,OAAOmpG,GAAegtB,EAAY1jE,KAAKxjF,KAAI,SAAU+5E,GACnD,OAAOy8B,EAAU95G,EAAKoxH,QAAQ/8F,IAAU7a,EAAG43G,QAAQ/zC,GAAQr9E,EAAKoxH,QAAQ/zC,IAAS7jE,EAAG43G,QAAQ/8F,SAE7FmnD,OAAM,GAYAivE,CAAsBD,EAAa1wC,EAAS95G,EAAMwZ,GAVrC,SAAUygF,EAAQlL,GACxC,OAAOq7D,GAAanwD,EAAQlL,GASqC27D,CAAkBzwD,EAAQuwD,GAPlE,SAAUv7D,EAASu7D,EAAahxI,GACzD,OAAOywI,GAAiBh7D,EAASlI,GAAaF,QAAQrtE,EAAGq1G,YAAYvrH,KAAI,SAAUqnJ,GACjF,OAAwC,IAAjCziE,GAAKyiE,EAAWH,MAKiFI,CAAqB37D,EAASu7D,EAAahxI,MAClJqiE,GAAGS,EAAS5tE,MAAK,KAElBm8I,GAAmB,SAAU5wD,EAAQ6f,EAAS7qB,EAAS+6D,GACzD,IAAIhqJ,EAAOkxH,GAAcG,eAAep3B,EAAOixB,UAAUC,UACzD,OAAOm/B,GAAcr7D,EAAS+6D,GAAUzqJ,MAAK,SAAUurJ,GACrD,OAAO7pD,GAAQ6pD,GAAYV,GAAanwD,EAAQ6wD,GAnC3B,SAAU7wD,EAAQhL,EAAS6qB,EAASgxC,EAAU9qJ,GACrE,OAAOg9H,GAASljB,EAAS7f,EAAOmxB,UAAWprH,GAAMT,MAAK,SAAUia,GAC9D,OAAO8wI,GAAcr7D,EAASlI,GAAaF,QAAQrtE,EAAGq1G,YAAYvrH,KAAI,SAAUynJ,GAC9E,OAAkC,IAA3B7iE,GAAK6iE,EAAQD,SAgCsCE,CAAmB/wD,EAAQhL,EAAS6qB,EAASgxC,EAAU9qJ,MAClHw7E,OAAM,IAMPyvE,GAAc,SAAUnxC,EAAS1lF,GACnC,OAAO0lF,EAAUqnC,GAAc/sH,GAAOgtH,GAAahtH,IAQjD82H,GAAc,SAAUjxD,EAAQ6f,EAASkwC,GAC3C,IAAI/6D,EAAUlI,GAAaF,QAAQoT,EAAOmxB,WAC1C,OAAO6+B,GAAiBh7D,EAAS+6D,GAAU5uE,MAAK,WAC9C,OAAOyvE,GAAiB5wD,EAAQ6f,EAAS7qB,EAAS+6D,IAT3B,SAAU/vD,EAAQ6f,GAC3C,IAAIqxC,EAAUj6B,GAAcG,eAAep3B,EAAOixB,UAAUC,UAC5D,OAAO8/B,GAAYnxC,EAASqxC,IAAYpuB,GAAajjB,EAAS7f,EAAOmxB,UAAW+/B,GAASpvE,QAAO,SAAU3nD,GACxG,OAAO62H,GAAYnxC,EAAS1lF,MAMmCg3H,CAAqBnxD,EAAQ6f,MAC3F,SAAU0wC,GACX,OAlBqB,SAAUvwD,EAAQ6f,EAAS7qB,EAASu7D,GAC3D,IAAIxqJ,EAAOkxH,GAAcG,eAAep3B,EAAOixB,UAAUC,UACzD,OAAOlqB,GAAQupD,GAAeJ,GAAanwD,EAAQuwD,GAAeD,GAAyBtwD,EAAQhL,EAAS6qB,EAAS0wC,EAAaxqJ,GAgBzHqrJ,CAAmBpxD,EAAQ6f,EAAS7qB,EAASu7D,GAAahvE,OAAM,OAGvE8vE,GAAkB,SAAUrxD,EAAQ6f,GACtC,IAAIkwC,EAAWjjE,GAAaF,QAAQoT,EAAOixB,UAAU0hB,UAAS,IAC1Dgc,EAAQtkB,GAAmBrqC,GAC/B,OAAOA,EAAOixB,UAAU0I,eAAkC,IAAjBg1B,EAAM3nJ,OAAeiqJ,GAAYjxD,EAAQ6f,EAASkwC,GA5E3E,SAAU/vD,EAAQ+vD,GAClC,IAAIntD,EAAW9V,GAAaF,QAAQoT,EAAOmxB,WACvCH,EAAMhxB,EAAOixB,UAAUC,SACvBkZ,EAAgBC,GAAmBrqC,GACvC,OAAgC,IAAzBoqC,EAAcpjI,OAAewmJ,GAAWxtD,EAAQoqC,GAAiB0lB,GAAiB9vD,EAAQ4C,EAAUouB,EAAK++B,GAwETuB,CAAYtxD,EAAQ+vD,IASzHwB,GAA+B,SAAUvgC,GAC3C,IAAIkR,EAAWjL,GAAcG,eAAepG,GACxCrxG,EAASs3G,GAAcI,aAAarG,GACpCpuB,EAAWouB,EAAIwgC,wBACnB,OAAO1uB,IAAa,EAAOlgC,EAAUjjF,GAAQtW,KAAI,SAAUooJ,GACzD,OAAK7xB,GAAcsC,EAAUviH,EAAQijF,IAAag9B,GAAcsC,EAAUuvB,EAAW7uD,GAXrE,SAAUszB,EAAIE,EAAID,EAAIE,GACxC,IAAIrF,EAAM1qH,SAAS+hH,cAGnB,OAFA2I,EAAI/F,SAASiL,EAAIE,GACjBpF,EAAI9F,OAAOiL,EAAIE,GACRrF,EAQI0gC,CAAcxvB,EAASj0H,YAAai0H,EAAS9jH,SAAUqzI,EAAUxjJ,YAAawjJ,EAAUrzI,UAExF4yG,KAERzvC,MAAMyvC,IAEP2gC,GAAc,SAAU3gC,GAC1B,OAAOA,EAAIgJ,UAAYhJ,EAAMugC,GAA6BvgC,IASxD4gC,GAAqB,SAAUllD,EAAQhtD,GAEzC,OADoBgtD,EAAOsF,mBACNtyD,EAAKtoC,OARN,SAAUsoC,GAC9B,OAAOA,EAAKgwC,YAAchwC,EAAKgwC,aAAehwC,EAAKiwC,UAOhBkiE,CAAgBnyG,IALjC,SAAUA,GAC5B,MAAqB,OAAdA,EAAKtoC,MAAiBsoC,EAAKv6C,QAAU8+F,GAIgB6tD,CAAcpyG,EAAKgwC,aAM7EqiE,GAAiB,SAAUrlD,EAAQn4D,GACrC,IAAIm7C,EAAan7C,EAASm7C,WACtBC,EAAYp7C,EAASo7C,UAUzB,OATID,GAAkC,SAApBA,EAAWt4E,OAC3Bs4E,EAAaA,EAAWjvE,MAEtBkvE,GAAsC,eAAzBA,EAAU1zB,KAAK,QAC9B0zB,EAAYA,EAAUkT,MAXG,SAAU6J,EAAQhtD,GAC7C,IAAIsyG,EAAmBtlD,EAAO6F,sBAC9B,OAAO7yD,IAASA,EAAKsnD,QAAQgrD,IAAqBJ,GAAmBllD,EAAQhtD,IAWzEuyG,CAAuBvlD,EAAQ/c,KACjCA,EAAYA,EAAUkT,SAEnBnT,GAAcA,IAAeC,KAGP,OAApBD,EAAWt4E,MAAqC,OAApBs4E,EAAWt4E,OA0B5C86I,GAAmB,SAAUxyG,GAC/B,OAAOA,GAAQA,EAAKgwC,YAAchwC,EAAKgwC,aAAehwC,EAAKiwC,WAJ7C,SAAUjwC,GACxB,OAAOA,EAAKzuB,OAASgzE,IAAQ5Q,GAAK3zC,GAGsCyyG,CAAUzyG,EAAKgwC,aAKrF0iE,GAAgB,SAAU/qC,GAC5B,OAAOA,EAAKrgH,OAAS,MAJS8tF,EAIYuyB,EAAKA,EAAKrgH,OAAS,IAHjD0oF,YAAcwiE,GAAiBp9D,IAGwBuyB,EAAKnhH,MAAM,GAAI,GAAKmhH,EAJnE,IAAUvyB,GAM5Bu9D,GAAc,SAAUxlE,EAAKntC,GAC/B,IAAIstG,EAAcngE,EAAIm8B,UAAUtpE,EAAMmtC,EAAI2W,SAC1C,OAAOwpD,GAAwC,OAAzBA,EAAYtrG,SAAoBsrG,EAAc,MAqBlEsF,GAAa,SAAU5yG,EAAMkjD,GAC/B,IAAI05C,EAAWrlB,GAAc1mC,MAAM7wC,GAE/B6yG,EADc/vB,GAAY5/B,GACAC,KAAKy5C,GACnC,OAAOiW,EAAcA,EAAYr7B,UAAY,MAa3C5kH,GAAe,SAAUnL,EAAQkgH,EAAMzkB,GACzC,IAAIilB,EAAY1gH,EAAOqL,WAIvB,OAHAm5E,GAAM31B,KAAKqxD,GAAM,SAAUvyB,GACzB+yB,EAAUv1G,aAAawiF,EAAK3tF,MA1Bd,SAAUu4C,EAAMkjD,GAChC,IAAI05C,EAAWrlB,GAAc5mC,OAAO3wC,GAEhC6yG,EADc/vB,GAAY5/B,GACAniF,KAAK67H,GACnC,OAAOiW,EAAcA,EAAYr7B,UAAY,KAwBtCs7B,CAAYrrJ,EAAQy7F,IAMzB6vD,GAAgB,SAAUhgC,EAAY5lC,EAAKmkC,EAAKz8E,GAClD,IArE0BugD,EAqEtB49D,EA1Ec,SAAU7lE,EAAK4lC,EAAYl+E,GAC7C,IAAIxgB,EAAO0+F,EAAWzmF,UAAUuI,GAEhC,OAduB,SAAUm+G,GACjC,IAAIhjE,EAAagjE,EAAYhjE,WACzBC,EAAY+iE,EAAY/iE,UAO5B,OANID,GAAsC,SAAxBA,EAAWhuC,UAC3BguC,EAAWl9E,WAAWJ,YAAYs9E,GAEhCC,GAA8B,eAAjBA,EAAUxvD,IACzBwvD,EAAUn9E,WAAWJ,YAAYu9E,GAE5B+iE,EAKAC,CADW9lE,EAAI21B,eAAezuF,IAwEnB6+H,CAAc/lE,EAAK4lC,EAAYl+E,GAC7Cs+G,EAAWR,GAAYxlE,EAAKmkC,EAAIzF,gBAChCunC,EAASV,IAvEat9D,EAuEa49D,EAAYhjE,WAtE5C/D,GAAMG,KAAKgJ,EAAI5/B,YAAY,SAAUxX,GAC1C,MAA0B,OAAnBA,EAAMgE,cAuEXkhD,EAAW/V,EAAI25B,UACfusC,EAAO,SAAU1yC,GACnB,IAAIi8B,EAAWrlB,GAAcG,eAAepG,GACxCgiC,EAAcxwB,GAAY31C,EAAI25B,WAC9B4hC,EALU,IAKD/nC,EAAyB2yC,EAAYnwD,KAAKy5C,GAAY0W,EAAYvyI,KAAK67H,GACpF,OAAO8L,GAASiK,GAAYxlE,EAAKu7D,EAAOxzB,aAAei+B,GAEzD,OAAIE,EARY,GASPzgJ,GAAaugJ,EAAUC,EAAQlwD,GAC7BmwD,EAVc,GART,SAAU5rJ,EAAQkgH,EAAMzkB,EAAU/V,GAElD,OADAA,EAAIu9B,YAAY/C,EAAK9pG,UAAWpW,GACzBmrJ,GAAWjrC,EAAK,GAAIzkB,GAiBlBwnB,CAAYyoC,EAAUC,EAAQlwD,EAAU/V,GArChC,SAAU1lF,EAAQkgH,EAAMzkB,EAAUouB,GACnD,IAAIjhF,EAvBS,SAAUv9B,EAAYw+G,GACnC,IAAIiiC,EAAYjiC,EAAIuF,aAChB28B,EAAWliC,EAAIuF,aAGnB,OAFA08B,EAAU/yB,eAAe1tH,GACzB0gJ,EAAS18B,YAAYhkH,GACd,CACLygJ,EAAUE,gBACVD,EAASC,iBAgBCC,CAASjsJ,EAAQ6pH,GACzBnJ,EAAY1gH,EAAOqL,WAOvB,OANAq1G,EAAUv1G,aAAay9B,EAAM,GAAI5oC,GACjCwkF,GAAM31B,KAAKqxD,GAAM,SAAUnW,GACzB2W,EAAUv1G,aAAa4+F,EAAI/pG,MAE7B0gH,EAAUv1G,aAAay9B,EAAM,GAAI5oC,GACjC0gH,EAAUz1G,YAAYjL,GACfmrJ,GAAWjrC,EAAKA,EAAKrgH,OAAS,GAAI47F,GA8BlCywD,CAAaR,EAAUC,EAAQlwD,EAAUouB,IAkB9CsiC,GAAgB7/D,GAgIhB8/D,GAAwB,SAAUvzD,GACpC,IAAInT,EAAMmT,EAAOnT,IACbmkC,EAAM2gC,GAAY3xD,EAAOixB,UAAUC,UACvClxB,EAAOixB,UAAUiU,OAAOlU,GACxB,IAAIo9B,EAAYvhE,EAAIm8B,UAAUgI,EAAIzF,eAAgB+nC,KAnInB,SAAUzmE,EAAKmkC,EAAK48B,GACnD,OAAa,OAATA,GAEKA,IADO/gE,EAAIm8B,UAAUgI,EAAIvF,aAAc6nC,KACnB7oB,GAAuB39C,GAAaF,QAAQghE,GAAO58B,GAiI5EwiC,CAA2B3mE,EAAKmkC,EAAKo9B,GAGvCpuD,EAAOusC,SAASuG,YAAY,UAAU,EAAO,MAF7C0c,GAAmBxvD,EAAQgxB,EAAKlkC,GAAaF,QAAQwhE,KAKrDqF,GAAoB,SAAUzzD,EAAQ76F,EAAOuuJ,GAC/C,IAAIlhJ,EAAYowF,EAAUj1D,EACtB2iD,EAAQ0gC,EAAKtxE,EACbuxE,EAAYjxB,EAAOixB,UAAWpkC,EAAMmT,EAAOnT,IAC3C,QAAQ7iF,KAAK7E,KACfA,EA/JqB,SAAU0nF,EAAKmkC,EAAKj9F,GAC3C,IAAI5hB,EAAO26E,GAAaF,QAAQC,EAAI25B,WAWpC,OATEzyF,EADE61H,GAAkBz3I,EAAM8kH,GAAcG,eAAepG,IAChDj9F,EAAKhsB,QAAQ,KAAM,UAEnBgsB,EAAKhsB,QAAQ,UAAW,KAE7B8hJ,GAAmB13I,EAAM8kH,GAAcI,aAAarG,IAC/Cj9F,EAAKhsB,QAAQ,0BAA2B,UAExCgsB,EAAKhsB,QAAQ,uBAAwB,KAqJpC4rJ,CAAmB9mE,EAAKokC,EAAUC,SAAU/rH,IAEtD,IAAIyuJ,EAAS5zD,EAAO4zD,OAChBC,EAAQH,EAAQG,MAChBphC,EAAaqyB,GAAe,CAAErK,SAAUve,GAAel8B,IAAWA,EAAO0M,QACzEonD,EAAe,iEAQnB,GAPAnmH,EAAO,CACLvZ,QAASjvB,EACT2hI,OAAQ,OACR7V,WAAW,EACX/xE,MAAOw0G,EAAQx0G,QAEjBvR,EAAOqyD,EAAOn0B,KAAK,mBAAoBl+B,IAC9B4oE,qBACPvW,EAAOn0B,KAAK,aAAc,CACxBz3C,QAASuZ,EAAKvZ,QACd0yG,OAAQ,OACR7V,WAAW,EACX/xE,MAAOw0G,EAAQx0G,YALnB,EAUmC,KADnC/5C,EAAQwoC,EAAKvZ,SACH3e,QAAQ,cAChBtQ,GAAS,YAEXA,EAAQA,EAAM4C,QAAQ,cAAe+rJ,GAErC,IAAIC,GADJ/iC,EAAMC,EAAUC,UACO3F,iBAAmByF,EAAI5pH,cAAgB4pH,EAAI5pH,gBAAkB,MAChF8N,EAAO8qF,EAAOmxB,UACd4iC,IAAiB7+I,GAAQ+7G,EAAU0I,eACjC9sC,EAAI2W,QAAQtuF,EAAKw6E,aA/GH,SAAUsQ,EAAQtgD,GACtC,OAAOA,IAASsgD,EAAO0M,OAAOwF,wBAAwBxyD,EAAKgC,UA8GrBsyG,CAAgBh0D,EAAQ9qF,EAAKw6E,aAAe7C,EAAIma,QAAQ9xF,EAAKw6E,eAC/FshC,EAAMnkC,EAAIu7B,aACN6C,SAAS/1G,EAAKw6E,WAAY,GAC9BshC,EAAI9F,OAAOh2G,EAAKw6E,WAAY,GAC5BuhC,EAAUiU,OAAOlU,IAGhBC,EAAU0I,eACb45B,GAAsBvzD,GAGxB,IAlIqClL,EAkIjCm/D,EAAa,CACfx5C,SAFFjoG,EAAay+G,EAAU2D,WAEDlzE,SAASl4C,cAC7BynB,KAAMyiI,EAAQziI,KACdktH,QAAQ,GAEN5pG,EAAWq/G,EAAOnhG,MAAMttD,EAAO8uJ,GACnC,IAAsB,IAAlBP,EAAQx0G,OAAkB6yG,GAAe/xD,EAAO0M,OAAQn4D,IAlRxC,SAAUs4C,EAAKntC,GACnC,QAAS2yG,GAAYxlE,EAAKntC,GAiR+Cw0G,CAAgBrnE,EAAKr6E,GAI5F,OAHAw+G,EAAMyhC,GAAchgC,EAAY5lC,EAAKokC,EAAUC,SAAU38E,GACzD08E,EAAUiU,OAAOlU,QACjBhxB,EAAOn0B,KAAK,aAAcl+B,GAK5B,GAxJyB,SAAU4G,GAEnC,IADA,IAAImL,EAAOnL,EACJmL,EAAOA,EAAKgsC,QACC,IAAdhsC,EAAKv1C,MACPu1C,EAAKuc,KAAK,oBAAqB,KAkJnCk4F,CAAqB5/G,GAEG,gBADxBmL,EAAOnL,EAASo7C,WACP1zB,KAAK,MAEZ,IADAq0B,EAAS5wC,EACJA,EAAOA,EAAKmjD,KAAMnjD,EAAMA,EAAOA,EAAKgsC,MAAK,GAC5C,GAAkB,IAAdhsC,EAAKv1C,OAAe0iF,EAAI2W,QAAQ9jD,EAAKtoC,MAAO,CAC1C4oF,EAAO0M,OAAOiG,aAAajzD,EAAK+iB,OAAOrrD,KAAM,SAC/CsoC,EAAK+iB,OAAO07E,OAAO7tD,EAAQ5wC,EAAoB,OAAdA,EAAKtoC,MAExC,MAKN,GADA4oF,EAAOo0D,oBAAoBC,wBAAwB7hJ,GAC9CyhJ,EAAWK,QAGT,CASL,IARAt0D,EAAOixB,UAAUzmD,WAAWspF,GAC5BthJ,EAAay+G,EAAU2D,UACvBhyB,EAAW5C,EAAOmxB,UACU,IAAxB3+G,EAAW6xC,SACb7xC,EAAaktC,EAAOkjD,EAEpBljD,EAAOltC,EAEFktC,IAASkjD,GACdpwF,EAAaktC,EACbA,EAAOA,EAAKltC,WAEdrN,EAAQqN,IAAeowF,EAAWA,EAASp8F,UAAYqmF,EAAIq9B,aAAa13G,GACxErN,EAAQstH,EAAWzmF,UAAU4nH,EAAOnhG,MAAMttD,EAAM4C,QAAQ,qDAAqD,WAC3G,OAAO0qH,EAAWzmF,UAAUuI,QAE1B/hC,IAAeowF,EACjB/V,EAAI86B,QAAQ/kB,EAAUz9F,GAEtB0nF,EAAIs9B,aAAa33G,EAAYrN,QAlOd,SAAU66F,EAAQ76F,EAAOqN,GAC5C,GAAkD,QAA9CA,EAAW7L,aAAa,kBAC1B6L,EAAWA,WAAWF,aAAa0tF,EAAOnT,IAAI21B,eAAer9G,GAAQqN,OAChE,CACL,IAAIktC,EAAOltC,EAAWk9E,WAClB6wC,EAAQ/tH,EAAWm9E,WAClBjwC,GAAQA,IAAS6gF,GAA2B,OAAlB7gF,EAAKgC,SAClCs+C,EAAOnT,IAAI86B,QAAQn1G,EAAYrN,GAE/B66F,EAAOixB,UAAUzmD,WAAWrlE,IAoM9BovJ,CAAev0D,EADf76F,EAAQstH,EAAWzmF,UAAUuI,GACC/hC,IA7LH,SAAUwtF,EAAQ6zD,GAC/C,IAAIW,EAAqBx0D,EAAO0M,OAAO0F,wBACnCvlB,EAAMmT,EAAOnT,IACjB,GAAIgnE,EAAO,CACT,IAAIY,EAASz0D,EAAOmxB,UAChBujC,EAAiB3Q,GAAal3D,GAClClB,GAAM31B,KAAK62B,EAAI7oB,OAAO,yBAAyB,SAAUtkB,GAEvD,GADemgC,EAAc20E,EAAmB90G,EAAKgC,SAASl4C,iBAC9Co8I,GAAqB/4D,EAAKntC,GACxC,IAAK,IAAIltC,EAAaktC,EAAKltC,WAAYqtE,EAAcrtE,IAAeA,IAAeiiJ,IAC7D3O,GAAiBj5D,EAAKntC,EAAMltC,GADyCA,EAAaA,EAAWA,WAKjH,GAAIkiJ,EAAen2C,QAAQ/rG,EAAYktC,GAAO,CAC5CmtC,EAAIt6E,OAAOmtC,GAAM,GACjB,WAqMVi1G,CAAyB30D,EAAQ6zD,GA3KP,SAAU7zD,EAAQ1P,GAC5C,IAAIskE,EAEAr0B,EADA1zC,EAAMmT,EAAOnT,IAAKokC,EAAYjxB,EAAOixB,UAWzC,GAAK3gC,EAAL,CAGA2gC,EAAUp/B,eAAevB,GACzB,IAAIukE,EAbgC,SAAUn1G,GAE5C,IADA,IAAIvtC,EAAO6tF,EAAOmxB,UACXzxE,GAAQA,IAASvtC,EAAMutC,EAAOA,EAAKltC,WACxC,GAAqC,UAAjCq6E,EAAI07B,mBAAmB7oE,GACzB,OAAOA,EAGX,OAAO,KAMoBo1G,CAA8BxkE,GAC3D,GAAIukE,EAGF,OAFAhoE,EAAIt6E,OAAO+9E,QACX2gC,EAAUjtD,OAAO6wF,GAGnB,IAAI7jC,EAAMnkC,EAAIu7B,YACV1oE,EAAO4wC,EAAOhB,gBACd5vC,GAA0B,IAAlBA,EAAK2E,UACf2sE,EAAI/F,SAASvrE,EAAMA,EAAK2/D,UAAUr4G,QAC7B2jF,GAAIzC,KACPq4C,EAAQjwC,EAAOj+E,cACiB,IAAnBkuH,EAAMl8E,WACjB3E,EAAKykF,WAAW5D,EAAMtvG,MACtBsvG,EAAM/tH,WAAWJ,YAAYmuH,MAIjCvP,EAAIkP,eAAe5vC,GACnB0gC,EAAImP,aAAa7vC,IAEnB,IAQI08D,EAAcngE,EAAIm8B,UAAU14B,EAAQzD,EAAI2W,SAC5C3W,EAAIt6E,OAAO+9E,GACP08D,GAAengE,EAAIma,QAAQgmD,KAC7BhtD,EAAOn1F,EAAEmiJ,GAAapxF,QACtBo1D,EAAI/F,SAAS+hC,EAAa,GAC1Bh8B,EAAI9F,OAAO8hC,EAAa,GACnBsG,GAActG,IA1DA,SAAUttG,GAC/B,QAASA,EAAK/4C,aAAa,qBAyDWouJ,CAAiB/H,MAAiB4H,EAdjD,SAAU5jC,GAC/B,IAAIsrB,EAAWrlB,GAAcG,eAAepG,GAG5C,GADAsrB,EADkB9Z,GAAYxiC,EAAOmxB,WACd1wG,KAAK67H,GAE1B,OAAOA,EAASplB,UAS8D89B,CAAiBhkC,IAI/FnkC,EAAI96E,IAAIi7I,EAAangE,EAAIxnF,OAAO,KAAM,CAAE,iBAAkB,QAH1D2rH,EAAM4jC,EACN/nE,EAAIt6E,OAAOy6I,KAKf/7B,EAAUiU,OAAOlU,IAiHjBikC,CAAsBj1D,EAAQnT,EAAI9nF,IAAI,eAvLD+vF,EAwLdkL,EAAOmxB,UAvL9BxlC,GAAM31B,KAAK8+B,EAAIr3C,qBAAqB,MAAM,SAAUq3C,GAClDA,EAAIluF,gBAAgB,wBApCG,SAAUimF,EAAKiI,GACxCzS,EAASt8E,KAAK8mF,EAAIm8B,UAAUl0B,EAAK,UAAUzrF,IAAIyjF,GAAaF,SAAS52B,KAAK2xF,IA0N1EuN,CAAqBroE,EAAKokC,EAAU0hB,YACpC3yC,EAAOn0B,KAAK,aAAcl+B,GAC1BqyD,EAAOm1D,cAGLC,GAAW,SAAU11G,EAAM17B,GAC7BA,EAAG07B,GACCA,EAAKgwC,YACP0lE,GAAS11G,EAAKgwC,WAAY1rE,GAExB07B,EAAKj/B,MACP20I,GAAS11G,EAAKj/B,KAAMuD,IA+CpBqxI,GAAW,SAAUC,EAAaC,EAAkB71G,GACtD,IAAI0qC,EA7CkB,SAAUkrE,EAAaC,EAAkB71G,GAC/D,IAAI81G,EAAc,GACdC,EAAc,GACdrrE,EAAU,GA6Bd,IAAK,IAAI6B,KA5BLvsC,EAAKgwC,YACP0lE,GAAS11G,EAAKgwC,YAAY,SAAUhwC,GAClCsW,EAAKs/F,GAAa,SAAUpzI,GACtBA,EAAO9K,OAASsoC,EAAKtoC,OACnBo+I,EAAYtzI,EAAO9K,MACrBo+I,EAAYtzI,EAAO9K,MAAMw9E,MAAM9tF,KAAK44C,GAEpC81G,EAAYtzI,EAAO9K,MAAQ,CACzB8K,OAAQA,EACR0yE,MAAO,CAACl1C,QAKhBsW,EAAKu/F,GAAkB,SAAUrzI,GACO,iBAA3Bw9B,EAAKuc,KAAK/5C,EAAO9K,QACtBq+I,EAAYvzI,EAAO9K,MACrBq+I,EAAYvzI,EAAO9K,MAAMw9E,MAAM9tF,KAAK44C,GAEpC+1G,EAAYvzI,EAAO9K,MAAQ,CACzB8K,OAAQA,EACR0yE,MAAO,CAACl1C,WAOD81G,EACbA,EAAY/vJ,eAAewmF,IAC7B7B,EAAQtjF,KAAK0uJ,EAAYvpE,IAG7B,IAAK,IAAIypE,KAAUD,EACbA,EAAYhwJ,eAAeiwJ,IAC7BtrE,EAAQtjF,KAAK2uJ,EAAYC,IAG7B,OAAOtrE,EAGOurE,CAAkBL,EAAaC,EAAkB71G,GAC/DsW,EAAKo0B,GAAS,SAAUhhF,GACtB4sD,EAAK5sD,EAAM8Y,OAAOg2B,WAAW,SAAU1K,GACrCA,EAASpkC,EAAMwrF,MAAOxrF,EAAM8Y,OAAO9K,KAAM,WAM3Cw+I,GAAa,SAAUxhI,GACzB,OAAOA,aAAmB8pH,IAWxB2X,GAAgB,SAAU71D,EAAQjsE,GACpCisE,EAAOnT,IAAI86B,QAAQ3nB,EAAOmxB,UAAWp9F,GAVnB,SAAUisE,GACxBy8C,GAAWz8C,IACbsjC,GAAgBtjC,EAAOmxB,WAAWn7D,MAAK,SAAU77B,GAC/C,IAAIulB,EAAOvlB,EAAIy6F,UACX0nB,EAAWxpD,GAAQpzC,GAAQ4jF,GAAgB5jF,GAAM6hC,MAAMpnD,GAAOA,EAClE6lE,EAAOixB,UAAUiU,OAAOoX,EAASplB,cAMrC4+B,CAAc91D,IA6CZ+1D,GAAqB,SAAU/1D,EAAQ5rE,EAASuZ,GAUlD,OATAA,EAAKm5F,OAASn5F,EAAKm5F,OAASn5F,EAAKm5F,OA7Df,OA8DlBn5F,EAAKlyB,KAAM,EACXkyB,EAAKvZ,QAAUwhI,GAAWxhI,GAAW,GAAKA,EACrCuZ,EAAKg2G,WACR3jD,EAAOn0B,KAAK,mBAAoBl+B,GAE7BioH,GAAWxhI,KACdA,EAAUuZ,EAAKvZ,SAEViuD,EAASt8E,KAAKi6F,EAAOmxB,WAAWhwC,KAAKf,EAAShsD,IAAU,SAAUlf,GACvE,OAAO0gJ,GAAWxhI,GArBD,SAAU4rE,EAAQ9qF,EAAMkf,EAASuZ,GACpD0nH,GAASr1D,EAAO4zD,OAAOoC,iBAAkBh2D,EAAO4zD,OAAOqC,sBAAuB7hI,GAC9E,IAAIL,EAAO+wH,GAAe,CAAErK,SAAUz6C,EAAOy6C,UAAYz6C,EAAO0M,QAAQ1gE,UAAU5X,GAMlF,OALAuZ,EAAKvZ,QAAU4vE,GAAoBlX,GAAaF,QAAQ13E,IAAS6e,EAAO43D,GAAMllF,KAAKstB,GACnF8hI,GAAc71D,EAAQryD,EAAKvZ,SACtBuZ,EAAKg2G,WACR3jD,EAAOn0B,KAAK,aAAcl+B,GAErBvZ,EAawB8hI,CAAel2D,EAAQ9qF,EAAMkf,EAASuZ,GAtDhD,SAAUqyD,EAAQ9qF,EAAMkf,EAASuZ,GACtD,IAAIwoH,EAAqBC,EA8BzB,OA7BuB,IAAnBhiI,EAAQptB,QAAgB,QAAQgD,KAAKoqB,IACvCgiI,EAAO,0BACe,UAAlBlhJ,EAAKwsC,SACPttB,EAAU,WAAagiI,EAAO,aACrB,YAAYpsJ,KAAKkL,EAAKwsC,YAC/BttB,EAAU,OAASgiI,EAAO,UAE5BD,EAAsBp7B,GAAmB/6B,KACdA,EAAO0M,OAAOiG,aAAaz9F,EAAKwsC,SAASl4C,cAAe2sJ,EAAoB3sJ,gBACrG4qB,EAAUgiI,EACVhiI,EAAU4rE,EAAOnT,IAAIs8B,WAAWgtC,EAAqBl7B,GAAwBj7B,GAAS5rE,IAC5EA,IACVA,EAAU,2BAEZyhI,GAAc71D,EAAQ5rE,GACtB4rE,EAAOn0B,KAAK,aAAcl+B,KAEN,QAAhBA,EAAKm5F,SACP1yG,EAAU0wH,GAAe,CAAErK,SAAUz6C,EAAOy6C,UAAYz6C,EAAO0M,QAAQ1gE,UAAUg0D,EAAO4zD,OAAOnhG,MAAMr+B,EAAS,CAC5GiiI,eAAe,EACflY,QAAQ,MAGZxwG,EAAKvZ,QAAU4vE,GAAoBlX,GAAaF,QAAQ13E,IAASkf,EAAUu3D,GAAMllF,KAAK2tB,GACtFyhI,GAAc71D,EAAQryD,EAAKvZ,SACtBuZ,EAAKg2G,WACR3jD,EAAOn0B,KAAK,aAAcl+B,IAGvBA,EAAKvZ,QAuBiEkiI,CAAiBt2D,EAAQ9qF,EAAMkf,EAASuZ,OAInH4oH,GAAY,SAAUvpE,EAAOxlD,GAC/B,OAlzYY,SAAUwlD,EAAOxlD,GAC7B,IAAI37B,EAAUmhF,EAAMH,IACpB,OAAKhhF,EAAQ2G,WAGNssF,GAAQhS,GAAaF,QAAQ/gF,EAAQ2G,aAAa,SAAUhH,GACjE,OAAQyiF,GAAKjB,EAAOxhF,IAAMg8B,EAAUh8B,MAH7B62E,EAAStB,OA+yYXrF,CAAQsR,EAAOxlD,GAAW85C,UAG/Bk1E,GAAe,SAAU94D,GAC3B,OAAO5d,EAAW4d,GAAUA,EAAS7c,GAiBnC41E,GAAY,SAAUzpE,EAAOtkC,EAAWg1C,GAC1C,IAAInX,EAAU79B,EAAUskC,GACpBpe,EAAO4nF,GAAa94D,GACxB,OAAOnX,EAAQ1E,SAAQ,WACrB,OAAOjT,EAAKoe,GAAS3K,EAAStB,OAnBjB,SAAUiM,EAAOtkC,EAAWg1C,GAG3C,IAFA,IAAI7xF,EAAUmhF,EAAMH,IAChBje,EAAO4nF,GAAa94D,GACjB7xF,EAAQ2G,YAAY,CACzB3G,EAAUA,EAAQ2G,WAClB,IAAIP,EAAK66E,GAAaF,QAAQ/gF,GAC1B6qJ,EAAchuG,EAAUz2C,GAC5B,GAAIykJ,EAAYp1E,SACd,OAAOo1E,EACF,GAAI9nF,EAAK38D,GACd,MAGJ,OAAOowE,EAAStB,OAMyB41E,CAAW3pE,EAAOtkC,EAAWkmB,OAIpEgoF,GAASzwB,GACT0wB,GAAmC,SAAU9wB,EAAIrmF,EAAMtoC,GACzD,IAAI0/I,EAAa/wB,EAAGiB,UAAUjiI,IAAIqS,GAClC,GAAI0/I,EACF,IAAK,IAAIxyJ,EAAI,EAAGA,EAAIwyJ,EAAW9vJ,OAAQ1C,IACrC,IAA8B,IAA1BwyJ,EAAWxyJ,GAAGyyJ,SAAqBhxB,EAAGl5C,IAAIxL,GAAG3hC,EAAMo3G,EAAWxyJ,GAAGo+D,UACnE,OAAO,EAIb,OAAO,GAELs0F,GAAe,SAAUh3D,EAAQtgD,EAAMtoC,EAAM8uH,GAC/C,IAAI/zH,EAAO6tF,EAAOnT,IAAI25B,UACtB,OAAI9mE,IAASvtC,IAGbutC,EAAOsgD,EAAOnT,IAAIm8B,UAAUtpE,GAAM,SAAUA,GAC1C,QAAIm3G,GAAiC72D,EAAQtgD,EAAMtoC,KAG5CsoC,EAAKltC,aAAeL,KAAU8kJ,GAAUj3D,EAAQtgD,EAAMtoC,EAAM8uH,GAAM,OAEpE+wB,GAAUj3D,EAAQtgD,EAAMtoC,EAAM8uH,KAEnCgxB,GAAY,SAAUrqE,EAAKntC,EAAMonF,GACnC,QAAI8vB,GAAOl3G,EAAMonF,EAAOr1H,YAGpBmlJ,GAAOl3G,EAAMonF,EAAO9L,SAGpB8L,EAAOpkE,SACgB,IAAlBhjB,EAAK2E,UAAkBwoC,EAAIxL,GAAG3hC,EAAMonF,EAAOpkE,eADpD,KAIEy0F,GAAa,SAAUtqE,EAAKntC,EAAMonF,EAAQswB,EAAUC,EAASnxB,GAC/D,IAAI/6H,EAAKhG,EAELb,EADA+jD,EAAQy+E,EAAOswB,GAEnB,GAAItwB,EAAOwwB,QACT,OAAOxwB,EAAOwwB,QAAQ53G,EAAMonF,EAAQswB,GAEtC,GAAI/uG,EACF,QAA4B,IAAjBA,EAAMrhD,QACf,IAAKmE,KAAOk9C,EACV,GAAIA,EAAM5iD,eAAe0F,GAAM,CAM7B,GAJEhG,EADe,eAAbiyJ,EACMvqE,EAAI65B,UAAUhnE,EAAMv0C,GAEpBg8G,GAASt6B,EAAKntC,EAAMv0C,GAE1BksJ,IAAYlyJ,IAAU2hI,EAAOqS,MAC/B,OAEF,KAAMke,GAAWvwB,EAAOqS,SAAWyd,GAAOzxJ,EAAOkhI,GAAoBx5C,EAAKo5C,GAAY59E,EAAMl9C,GAAM+6H,GAAO/6H,IACvG,aAKN,IAAK7G,EAAI,EAAGA,EAAI+jD,EAAMrhD,OAAQ1C,IAC5B,GAAiB,eAAb8yJ,EAA4BvqE,EAAI65B,UAAUhnE,EAAM2I,EAAM/jD,IAAM6iH,GAASt6B,EAAKntC,EAAM2I,EAAM/jD,IACxF,OAAOwiI,EAKf,OAAOA,GAELmwB,GAAY,SAAUlxB,EAAIrmF,EAAMtoC,EAAM8uH,EAAMmxB,GAC9C,IACIvwB,EAAQxiI,EAAGkH,EAAG2gI,EADd2qB,EAAa/wB,EAAGiB,UAAUjiI,IAAIqS,GAE9By1E,EAAMk5C,EAAGl5C,IACb,GAAIiqE,GAAcp3G,EAChB,IAAKp7C,EAAI,EAAGA,EAAIwyJ,EAAW9vJ,OAAQ1C,IAEjC,GADAwiI,EAASgwB,EAAWxyJ,GAChB4yJ,GAAUnxB,EAAGl5C,IAAKntC,EAAMonF,IAAWqwB,GAAWtqE,EAAKntC,EAAMonF,EAAQ,aAAcuwB,EAASnxB,IAASixB,GAAWtqE,EAAKntC,EAAMonF,EAAQ,SAAUuwB,EAASnxB,GAAO,CAC3J,GAAIiG,EAAUrF,EAAOqF,QACnB,IAAK3gI,EAAI,EAAGA,EAAI2gI,EAAQnlI,OAAQwE,IAC9B,IAAKu6H,EAAGl5C,IAAItrB,SAAS7hB,EAAMumF,GAAYkG,EAAQ3gI,GAAI06H,IACjD,OAIN,OAAOY,IAKX19H,GAAQ,SAAU42F,EAAQ5oF,EAAM8uH,EAAMxmF,GACxC,GAAIA,EACF,OAAOs3G,GAAah3D,EAAQtgD,EAAMtoC,EAAM8uH,GAG1C,GADAxmF,EAAOsgD,EAAOixB,UAAU2D,UACpBoiC,GAAah3D,EAAQtgD,EAAMtoC,EAAM8uH,GACnC,OAAO,EAET,IAAIvjC,EAAY3C,EAAOixB,UAAU0hB,WACjC,QAAIhwC,IAAcjjD,IACZs3G,GAAah3D,EAAQ2C,EAAWvrF,EAAM8uH,KAqB1CqxB,GAAY,SAAUv3D,EAAQ5pE,GAChC,IAAIsnE,EAAS,SAAU5I,GACrB,OAAO7G,GAAK6G,EAAKhI,GAAaF,QAAQoT,EAAOmxB,aAK/C,OAAO9uC,EAASt8E,KAAKi6F,EAAOixB,UAAU0hB,UAAS,IAAOrtI,MAAK,SAAUkyJ,GACnE,OAAOf,GAAU3pE,GAAaF,QAAQ4qE,IAAS,SAAU1iE,GACvD,OA9vdQ,SAAUx9C,EAAK5uC,GAC3B,IAAK,IAAIpE,EAAI,EAAGA,EAAIgzC,EAAItwC,OAAQ1C,IAAK,CACnC,IAAIU,EAAI0D,EAAE4uC,EAAIhzC,GAAIA,GAClB,GAAIU,EAAEs8E,SACJ,OAAOt8E,EAGX,OAAOq9E,EAAStB,OAuvdL02E,CAAQrhI,GAAO,SAAUhf,GAC9B,OANM,SAAU09E,EAAK19E,GACzB,OAAO6/I,GAAUj3D,EAAQlL,EAAIjI,IAAKz1E,GAAQirE,EAAS5tE,KAAK2C,GAAQirE,EAAStB,OAK9D33E,CAAM0rF,EAAK19E,QAEnBsmF,MACFhc,aAuBDg2E,GAAiB,SAAU13D,EAAQtgD,EAAMi4G,GAC3C,OAAO90E,EAAM80E,GAAa,SAAU/0E,EAAKxrE,GACvC,IAAIwgJ,EAz0JmB,SAAU53D,EAAQ0mC,GAe3C,OAAO5kD,EAAOke,EAAOgnC,UAAUjiI,IAAI2hI,IAdX,SAAUI,GAChC,IAAI+wB,EAAkB,SAAUh6H,GAC9B,OAAOA,EAAI72B,OAAS,GAAuB,MAAlB62B,EAAI9mB,OAAO,IAEtC,OAAO+qE,EAAO,CACZ,SACA,eACC,SAAU32E,GACX,OAAO84E,GAAM6iD,EAAQ37H,GAAK22E,QAAO,SAAUg2E,GACzC,IAAIC,EAAc/xJ,EAAQ8xJ,GAASA,EAAQ5tJ,GAAO4tJ,GAClD,OAAOh2E,EAAOi2E,EAAaF,YA8zJZG,CAAqBh4D,EAAQ5oF,GAChD,OAAI4oF,EAAOgnC,UAAUiwB,UAAUv3G,EAAMtoC,EAAM,GAAIwgJ,GACtCh1E,EAAIlvD,OAAO,CAACtc,IAEZwrE,IAER,KAGDq1E,GAAS/zD,GAAMg0D,GAAa,aAiB5BC,GAAwB,SAAUz4G,GACpC,OAd4B,SAAUA,GAEtC,IADA,IAAIk1C,EAAQ,GACLl1C,GAAM,CACX,GAAsB,IAAlBA,EAAK2E,UAAkB3E,EAAK2/D,YAAc44C,IAAUv4G,EAAKwV,WAAWluD,OAAS,EAC/E,MAAO,GAEa,IAAlB04C,EAAK2E,UACPuwC,EAAM9tF,KAAK44C,GAEbA,EAAOA,EAAKgwC,WAEd,OAAOkF,EAGAwjE,CAAwB14G,GAAM14C,OAAS,GAE5CqxJ,GAAoB,SAAU34G,GAChC,GAAIA,EAAM,CACR,IAAI0nD,EAAS,IAAI1E,GAAchjD,EAAMA,GACrC,IAAKA,EAAO0nD,EAAO7gB,UAAW7mC,EAAMA,EAAO0nD,EAAO3mF,OAChD,GAAIwyE,GAASvzC,GACX,OAAOA,EAIb,OAAO,MAEL44G,GAAuB,SAAUC,GACnC,IAAIjzD,EAAiBxY,GAAaI,QAAQ,QAS1C,OARA2G,GAAOyR,EAAgB,CACrB,GAAM4yD,GACN,iBAAkB,IAClB,gBAAiB,iBAEfK,GACFprH,GAAOm4D,EAAgBxY,GAAaK,SAAS8qE,KAExC3yD,GASLkzD,GAA2B,SAAUx4D,EAAQtgD,EAAMotG,QACnC,IAAdA,IACFA,GAAY,GAEd,IAAIjgE,EAAMmT,EAAOnT,IAAKokC,EAAYjxB,EAAOixB,UACzC,GAAIknC,GAAsBz4G,GACxBmtG,GAAc7sD,GAAQ,EAAOlT,GAAaF,QAAQltC,GAAOotG,OACpD,CACL,IAAI97B,EAAMC,EAAUC,SAChB8J,EAAQnuC,EAAIm8B,UAAUtpE,EAAMmtC,EAAI2W,SAChC+nB,EAAiByF,EAAIzF,eACrBC,EAAcwF,EAAIxF,YAClBC,EAAeuF,EAAIvF,aACnBC,EAAYsF,EAAItF,UAChB4S,EArByB,SAAUjB,GACzC,IAAIiB,EAAW+5B,GAAkBh7B,GAIjC,OAHIiB,GAAYA,EAASjf,UAAUtoG,OAAO,KAAOkhJ,IAC/C35B,EAAS1B,WAAW,EAAG,GAElB0B,EAgBUm6B,CAA2B/4G,GAC1CmtC,EAAIt6E,OAAOmtC,GAAM,GACb6rE,IAAmB+S,GAAY9S,EAAc,GAC/CwF,EAAI/F,SAASqT,EAAU9S,EAAc,GAEnCC,IAAiB6S,GAAY5S,EAAY,GAC3CsF,EAAI9F,OAAOoT,EAAU5S,EAAY,GAE/BsP,GAASnuC,EAAIma,QAAQg0B,IACvB0sB,GAAkB56D,GAAaF,QAAQouC,IAEzC/J,EAAUiU,OAAOlU,KAGjB0nC,GAAuB,SAAU14D,EAAQtgD,EAAMotG,QAC/B,IAAdA,IACFA,GAAY,GAEd,IAAIjgE,EAAMmT,EAAOnT,IAAKokC,EAAYjxB,EAAOixB,UACzC,GAAKvxE,EAQH84G,GAAyBx4D,EAAQtgD,EAAMotG,QANvC,KADAptG,EAAOgkF,GAAwB1jC,EAAOmxB,UAAWF,EAAU0hB,aAEzD,KAAOjzF,EAAOmtC,EAAI9nF,IAAImzJ,KACpBM,GAAyBx4D,EAAQtgD,GAAM,IAoB3Ci5G,GAAa,SAAUnmJ,EAAYktC,GAErC,OADAltC,EAAWN,YAAYwtC,GAChBA,GAELk5G,GAAsC,SAAUC,EAAavzD,GAC/D,IAAIwzD,EAAsBn2E,EAAMk2E,GAAa,SAAUrmJ,EAAYumJ,GACjE,OAAOJ,GAAWnmJ,EAAYumJ,EAAW3zF,WAAU,MAClDkgC,GACH,OAAOqzD,GAAWG,EAAqBA,EAAoB7pE,cAAc7B,eAAe6qE,MAsDtFe,GAAoB,SAAUh5D,EAAQ5oF,EAAM8uH,EAAMmxB,GACpD,IAEI4B,EAAiBv5G,EAAMq5G,EAFvBlsE,EAAMmT,EAAOnT,IACbokC,EAAYjxB,EAAOixB,UAEnBtf,EAAU,GACVqf,EAAMC,EAAUC,SAChBjjH,EAAY+iH,EAAIzF,eAChBntG,EAAS4yG,EAAIxF,YAQjB,IAPA9rE,EAAOzxC,EACoB,IAAvBA,EAAUo2C,WACRjmC,IAAWnQ,EAAUoxG,UAAUr4G,SACjCiyJ,GAAkB,GAEpBv5G,EAAOA,EAAKltC,YAEPktC,GAAM,CACX,GAAIu3G,GAAUj3D,EAAQtgD,EAAMtoC,EAAM8uH,EAAMmxB,GAAU,CAChD0B,EAAar5G,EACb,MAEEA,EAAKrtC,cACP4mJ,GAAkB,GAEpBtnD,EAAQ7qG,KAAK44C,GACbA,EAAOA,EAAKltC,WAEd,GAAKumJ,EAGL,GAAIE,EAAiB,CACnB,IAAIv/B,EAAWzI,EAAUqJ,cACzBtJ,EAAIkD,UAAS,GACb,IAAIglC,EAAcnwB,GAAU/oC,EAAQgxB,EAAKhxB,EAAOgnC,UAAUjiI,IAAIqS,IAAO,GACrE8hJ,EAAchkB,GAAQgkB,GACtBl5D,EAAOgnC,UAAUz0H,OAAO6E,EAAM8uH,EAAMgzB,EAAa7B,GACjDpmC,EAAUmJ,eAAeV,OACpB,CACL,IAAIp0B,EAAiBo+B,GAAwB1jC,EAAOmxB,UAAW4nC,GAC3DI,EAAoBb,IAAqB,GAAOzrE,KAjHzB,SAAUmT,EAAQsF,EAAgByzD,GAC/D,IAAIlsE,EAAMmT,EAAOnT,IAAKmuC,EAAQnuC,EAAIm8B,UAAU+vC,EAAYz4E,EAAMwlD,GAAe9lC,IACzEg7B,GAASnuC,EAAIma,QAAQg0B,GACvB+9B,EAAWvmJ,WAAWC,aAAa6yF,EAAgByzD,IAEnDzR,GAAiBx6D,GAAaF,QAAQmsE,IAClClsE,EAAIma,QAAQ+xD,GACdA,EAAWvmJ,WAAWC,aAAa6yF,EAAgByzD,GAEnDlsE,EAAIu9B,YAAY9kB,EAAgByzD,IAyGlCK,CAAyBp5D,EAAQm5D,EAAsC,OAAnB7zD,EAA0BA,EAAiByzD,GAC/F,IAAIM,EA5Fc,SAAUr5D,EAAQsF,EAAgByzD,EAAY3hJ,EAAM8uH,EAAMmxB,GAC9E,IAAIrwB,EAAYhnC,EAAOgnC,UACnBn6C,EAAMmT,EAAOnT,IACbysE,EAAep3I,EAAOnb,GAAKigI,EAAUjiI,QAAQ,SAAU2hI,GACzD,OAAOA,IAAetvH,IAASsvE,GAAWggD,EAAY,mBAEpD6yB,EAAiB7B,GAAe13D,EAAQ+4D,EAAYO,GAIxD,GAHoBp3I,EAAOq3I,GAAgB,SAAUC,GACnD,OAAQ/yB,GAAkBzmC,EAAQw5D,EAASpiJ,MAE3BpQ,OAAS,EAAG,CAC5B,IAAIyyJ,EAAmBV,EAAW3zF,WAAU,GAI5C,OAHAynB,EAAI96E,IAAIuzF,EAAgBm0D,GACxBzyB,EAAUz0H,OAAO6E,EAAM8uH,EAAMuzB,EAAkBpC,GAC/CxqE,EAAIt6E,OAAOknJ,GACJp3E,EAAS5tE,KAAKglJ,GAErB,OAAOp3E,EAAStB,OA2EQ24E,CAAgB15D,EAAQm5D,EAAmBJ,EAAY3hJ,EAAM8uH,EAAMmxB,GACvFsC,EAAgBf,GAAoCjnD,EAAQj+E,OAAO2lI,EAAkBp8F,WAAYk8F,GACrGX,GAAyBx4D,EAAQsF,GAAgB,GACjD2rB,EAAUk8B,kBAAkBwM,EAAe,GACvC9sE,EAAIma,QAAQ+xD,IACdlsE,EAAIt6E,OAAOwmJ,KAcba,GAAU,SAAU55D,GACtBA,EAAOr6C,GAAG,mBAAmB,SAAUxhD,IAXb,SAAU67F,EAAQ65D,GAC5C,IAAI5oC,EAAYjxB,EAAOixB,UAAW/7G,EAAO8qF,EAAOmxB,UAChDunC,GAAqB14D,EAAQ,MAAM,GAClB,IAAZ65D,GAA6B,KAAZA,IAAmB5oC,EAAU0I,eAAiB1I,EAAU0hB,WAAWnsI,YAAcyxJ,IACrGS,GAAqB14D,EAAQ0jC,GAAwBxuH,EAAM+7G,EAAU0hB,aAEvD,KAAZknB,GAA8B,KAAZA,GACpBnB,GAAqB14D,EAAQ0jC,GAAwBxuH,EAAM+7G,EAAU0hB,aAKrEmnB,CAAsB95D,EAAQ77F,EAAE01J,aAUhCE,GAAkB,SAAU/5D,EAAQn0F,GAEtC,OADqBm0F,EAAO0M,OAAO0F,wBACb3sG,eAAe2R,GAAKvL,MAAc43H,GAAY53H,EAAQghF,OAASgG,GAAQhnF,EAAQghF,MAMnGmtE,GAAmB,GACnBC,GAAWz1E,GACX01E,GAAS91E,IACY,SAAUhtE,EAAMgtG,GAC3B41C,GAAiB5iJ,KAE3B4iJ,GAAiB5iJ,GAAQ,IAE3B4iJ,GAAiB5iJ,GAAMtQ,KAAKs9G,GAO9B+1C,CAAmB,OAAO,SAAUn6D,GAClC,IACIo6D,EADAppC,EAAMhxB,EAAOixB,UAAUC,SASvBmpC,EAAQ5nE,GAAe,CAAC,QACvBu+B,EAAIgJ,YACPogC,EAASp6D,EAAOixB,UAAUqpC,oBAC1BJ,GAAOD,GAASA,GAASG,EAAQC,IAVf,SAAU9gG,GAC5B,OAAO8gG,EAAM9gG,EAAI+1B,mBAAgE,IAA5C7K,GAAU21E,EAAQ7gG,EAAI+1B,qBASF,SAAU/1B,GAPvD,IAAUghG,EAAMC,EAAND,EAQZhhG,EAAI+1B,gBAPd0zB,GAD4Bw3C,EAQGjhG,GAPhBhnD,SACfywG,GAASu3C,GAAMptH,OAAO,YAAYA,OAAOqtH,EAAKtlG,mBAWlD,IAAIulG,GAAS9uE,GAAM31B,KACf0kG,GAAgB,SAAUh7G,GAC5B,OAAO8yC,GAAY9yC,KAAUylF,GAAiBzlF,KAAU+jF,GAAY/jF,KAAUmzC,GAAQnzC,IAEpFi7G,GAAqB,SAAUj7G,EAAMyjD,GACvC,IAAIznB,EACJ,IAAKA,EAAUh8B,EAAMg8B,EAASA,EAAUA,EAAQynB,GAAc,CAC5D,GAAIlQ,GAASvX,IAAyC,IAA7BA,EAAQ2jC,UAAUr4G,OACzC,OAAO04C,EAET,GAAI8yC,GAAY9W,KAAaypD,GAAiBzpD,GAC5C,OAAOA,EAGX,OAAOh8B,GAELk7G,GAAqB,SAAU/tE,EAAKgW,EAAMpiF,GAC5C,IAAIi7D,EAASm/E,EACTC,EAAe/W,GAAal3D,GAChC,GAAIgW,GAAQpiF,IACVoiF,EAAO83D,GAAmB93D,EAAM,mBAChCpiF,EAAOk6I,GAAmBl6I,EAAM,eAC5Bq6I,EAAav8C,QAAQ1b,EAAMpiF,IAAO,CACpC,IAAKi7D,EAAUmnB,EAAKxwF,YAAaqpE,GAAWA,IAAYj7D,GACtDo6I,EAAan/E,EACbA,EAAUA,EAAQrpE,YAClBwwF,EAAK3wF,YAAY2oJ,GAMnB,OAJAhuE,EAAIt6E,OAAOkO,GACXkrE,GAAM31B,KAAK21B,GAAMG,KAAKrrE,EAAKy0C,aAAa,SAAUxV,GAChDmjD,EAAK3wF,YAAYwtC,MAEZmjD,EAGX,OAAOpiF,GAELs6I,GAAgB,SAAUluE,EAAKi6C,EAAQZ,EAAMxmF,GAC/C,GAAIA,IAAkC,IAA1BonF,EAAOk0B,eAA0B,CAC3C,IAAIvP,EAAUmP,GAAmB/tE,EAAK+4C,GAAwBlmF,GAAOA,GACrEk7G,GAAmB/tE,EAAK4+D,EAAS7lB,GAAwB6lB,GAAS,MAelEwP,GAAuB,SAAUv7G,EAAMx9B,EAAQ8H,GACjDywI,GAAO/6G,EAAKwV,YAAY,SAAUxV,GAC5Bg7G,GAAch7G,KACZx9B,EAAOw9B,IACT11B,EAAQ01B,GAENA,EAAKutC,iBACPguE,GAAqBv7G,EAAMx9B,EAAQ8H,QAUvCkxI,GAAW,SAAUruE,EAAKz1E,GAC5B,OAAO,SAAUsoC,GACf,SAAUA,IAAQynE,GAASt6B,EAAKntC,EAAMtoC,MAGtC+jJ,GAAa,SAAUtuE,EAAKz1E,EAAMjS,GACpC,OAAO,SAAUu6C,GACfmtC,EAAIrqB,SAAS9iB,EAAMtoC,EAAMjS,GACU,KAA/Bu6C,EAAK/4C,aAAa,UACpB+4C,EAAK94C,gBAAgB,SAdL,SAAUimF,EAAKntC,GACb,SAAlBA,EAAKgC,UAAuD,IAAhCmrC,EAAI+5B,WAAWlnE,GAAM14C,QACnD6lF,EAAIt6E,OAAOmtC,GAAM,GAcjB07G,CAAgBvuE,EAAKntC,KAIrB27G,GAAe7+D,GAAa,CAC9B,CAAE69B,KAAM,IACR,CAAE/P,OAAQ,CAAC,SACX,CAAErqB,QAAS,MAETq7D,GAAc,qBACdC,GAAS5vE,GAAM31B,KACfwlG,GAASr1B,GAITs1B,GAAwB,SAAU5uE,EAAKntC,EAAM+iB,GAC/C,OAAOoqB,EAAIw+B,UAAU3rE,EAAM+iB,IAAW/iB,IAAS+iB,IAAWoqB,EAAI2W,QAAQ/gC,IAEpE5D,GAAe,SAAUknE,EAAI/U,EAAK5jH,GACpC,IAAIa,EAAWmQ,EAGf,GAFAnQ,EAAY+iH,EAAI5jH,EAAQ,iBAAmB,gBAC3CgR,EAAS4yG,EAAI5jH,EAAQ,cAAgB,aACjColF,GAAYvkF,GAAY,CAC1B,IAAIytJ,EAAUztJ,EAAUinD,WAAWluD,OAAS,GACvCoG,GAASgR,GACZA,IAEFnQ,EAAYA,EAAUinD,WAAW92C,EAASs9I,EAAUA,EAAUt9I,GAQhE,OANI60E,GAAShlF,IAAcb,GAASgR,GAAUnQ,EAAUoxG,UAAUr4G,SAChEiH,EAAY,IAAIy0F,GAAcz0F,EAAW83H,EAAG5U,WAAW1wG,QAAUxS,GAE/DglF,GAAShlF,KAAeb,GAAoB,IAAXgR,IACnCnQ,EAAY,IAAIy0F,GAAcz0F,EAAW83H,EAAG5U,WAAWtuB,QAAU50F,GAE5DA,GAEL0tJ,GAA0B,SAAUj8G,EAAMtyC,GAC5C,IAAIqpC,EAAOrpC,EAAQ,aAAe,YAClC,GA3BqB,SAAUsyC,GAC/B,MAAO,eAAe11C,KAAK01C,EAAKgC,UA0B5Bk6G,CAAiBl8G,IAASA,EAAKjJ,GAAO,CACxC,IAAIolH,EAAYn8G,EAAKjJ,GACrB,MAAsB,OAAlBiJ,EAAKgC,UACAm6G,EAAUplH,IAEVolH,EAGX,OAAOn8G,GAELo8G,GAAS,SAAUjvE,EAAKntC,EAAMtoC,EAAM08E,GACtC,IAAIzoF,EAAUwhF,EAAIxnF,OAAO+R,EAAM08E,GAG/B,OAFAp0C,EAAKltC,WAAWF,aAAajH,EAASq0C,GACtCr0C,EAAQ6G,YAAYwtC,GACbr0C,GAEL0wJ,GAAmB,SAAUlvE,EAAKntC,EAAMj/B,EAAMrJ,EAAM08E,GACtD,IAAI1mF,EAAQ0/E,GAAaF,QAAQltC,GAC7Br0C,EAAUyhF,GAAaF,QAAQC,EAAIxnF,OAAO+R,EAAM08E,IAChDy1C,EAAW9oH,EAAO+uE,GAAapiF,GAASmiF,GAAaniF,GASzD,OARAqjF,GAASplF,EAASk+H,GACd9oH,GACF4vE,GAAOjjF,EAAO/B,GACdmlF,GAAQnlF,EAAS+B,KAEjBmjF,GAAMnjF,EAAO/B,GACb8hC,GAAO9hC,EAAS+B,IAEX/B,EAAQwhF,KAgBbmvE,GAAS,SAAUnvE,EAAKntC,EAAMj/B,EAAMjB,GAEtC,QADAkgC,EAAOkmF,GAAwBlmF,EAAMj/B,EAAMjB,KACR,OAAlBkgC,EAAKgC,UAAqBmrC,EAAI2W,QAAQ9jD,IAwCrDu8G,GAAuB,SAAUl2B,EAAIe,EAAQZ,EAAMxmF,EAAMw8G,GAC3D,IAAIC,EACAtvE,EAAMk5C,EAAGl5C,IACb,IA3DgB,SAAUA,EAAKntC,EAAMonF,GACrC,QAAI00B,GAAO97G,EAAMonF,EAAOr1H,WAGpB+pJ,GAAO97G,EAAMonF,EAAO9L,SAGpB8L,EAAOpkE,SACF8vB,GAAY9yC,IAASmtC,EAAIxL,GAAG3hC,EAAMonF,EAAOpkE,eADlD,GAoDK05F,CAAYvvE,EAAKntC,EAAMonF,KAhDD,SAAUpnF,EAAMonF,GAC3C,OAAOA,EAAOu1B,OAA2B,MAAlB38G,EAAKgC,SA+CY46G,CAAuB58G,EAAMonF,GACnE,OAAOu0B,GAAahhC,OAEtB,IAAIvlC,EAAMp1C,EACV,GAAIonF,EAAOr1H,QAA4B,QAAlBq1H,EAAOv0H,QAAoBvM,EAAQ8gI,EAAOy1B,qBAAsB,CACnF,IAAIC,EAAkBt6I,EAAO2qE,EAAI+5B,WAAW9xB,IAAM,SAAU74B,GAC1D,OAAOjqD,EAAS80H,EAAOy1B,oBAAqBtgG,EAAK7kD,KAAK5N,kBAMxD,GAJAqjF,EAAI28B,iBAAiB10B,GACrB9+B,EAAKwmG,GAAiB,SAAUvgG,GAC9B,OAAO4wB,EAAIg6B,UAAU/xB,EAAK74B,EAAK7kD,KAAM6kD,EAAK92D,UAExCq3J,EAAgBx1J,OAAS,EAC3B,OAAOq0J,GAAa/wC,OAAO,QAG/B,GAAsB,QAAlBwc,EAAOv0H,OAAkB,CAC3BgpJ,GAAOz0B,EAAOn7B,QAAQ,SAAUxmG,EAAOiS,GACrCjS,EAAQkhI,GAAoBx5C,EAAKo5C,GAAY9gI,EAAO+gI,GAAO9uH,EAAO,IAC9D2oE,EAAS3oE,KACXA,EAAOjS,EACP+2J,EAAc,OAEZp1B,EAAO21B,iBAAoBP,GAAeV,GAAOr0C,GAASt6B,EAAKqvE,EAAa9kJ,GAAOjS,KACrF0nF,EAAIrqB,SAASsyB,EAAK19E,EAAM,IAE1B+kJ,GAAiB,KAEfA,GAAkD,KAAhCtvE,EAAI65B,UAAU5xB,EAAK,WACvCA,EAAIluF,gBAAgB,SACpBkuF,EAAIluF,gBAAgB,mBAEtB20J,GAAOz0B,EAAOx6F,YAAY,SAAUnnC,EAAOiS,GACzC,IAAIslJ,EAMJ,GALAv3J,EAAQ8gI,GAAY9gI,EAAO+gI,GACvBnmD,EAAS3oE,KACXA,EAAOjS,EACP+2J,EAAc,MAEZp1B,EAAO21B,iBAAoBP,GAAeV,GAAO3uE,EAAI65B,UAAUw1C,EAAa9kJ,GAAOjS,GAAS,CAC9F,GAAa,UAATiS,IACFjS,EAAQ0nF,EAAI65B,UAAU5xB,EAAK19E,MAEzBslJ,EAAW,GACX1mG,EAAK7wD,EAAMmC,MAAM,QAAQ,SAAU2gH,GAC7B,WAAWj+G,KAAKi+G,KAClBy0C,IAAaA,EAAW,IAAM,IAAMz0C,MAGpCy0C,GAEF,YADA7vE,EAAIg6B,UAAU/xB,EAAK19E,EAAMslJ,GAKlB,UAATtlJ,GACF09E,EAAIluF,gBAAgB,aAElB00J,GAAYtxJ,KAAKoN,IACnB09E,EAAIluF,gBAAgB,YAAcwQ,GAEpC09E,EAAIluF,gBAAgBwQ,OAGxBmkJ,GAAOz0B,EAAOqF,SAAS,SAAUhnI,GAC/BA,EAAQ8gI,GAAY9gI,EAAO+gI,GACtBg2B,IAAervE,EAAItrB,SAAS26F,EAAa/2J,IAC5C0nF,EAAIxqB,YAAYyyB,EAAK3vF,MAIzB,IADA,IAAI2uF,EAAQjH,EAAI+5B,WAAW9xB,GAClBxwF,EAAI,EAAGA,EAAIwvF,EAAM9sF,OAAQ1C,IAAK,CACrC,IAAImkE,EAAWqrB,EAAMxvF,GAAGo9C,SACxB,GAA8B,IAA1B+mB,EAAShzD,QAAQ,MAA4C,IAA9BgzD,EAAShzD,QAAQ,SAClD,OAAO4lJ,GAAahhC,QAI1B,MAAsB,SAAlByM,EAAOv0H,QAvHM,SAAUwzH,EAAIrmF,EAAMonF,GACrC,IACI61B,EADAnqJ,EAAaktC,EAAKltC,WAElBq6E,EAAMk5C,EAAGl5C,IAAK+vE,EAAkB7hC,GAAmBgL,GACnDe,EAAO9L,QACJ4hC,EAUCpqJ,IAAeq6E,EAAI25B,YAChBsgB,EAAO+1B,YAAerB,GAAO97G,EAAMonF,EAAO+1B,aAC7C7mG,EAAKqtB,GAAO3jC,EAAKwV,aAAa,SAAUxV,GAClCkzD,GAAQmzB,EAAI62B,EAAiBl9G,EAAKgC,SAASl4C,eACxCmzJ,EAIHA,EAAazqJ,YAAYwtC,IAHzBi9G,EAAeb,GAAOjvE,EAAKntC,EAAMk9G,GACjC/vE,EAAI66B,WAAWi1C,EAAc52B,EAAGzlC,SAASw8D,0BAK3CH,EAAe,MApBnB9vE,EAAI2W,QAAQ9jD,KAAUmtC,EAAI2W,QAAQhxF,KAC/BwpJ,GAAOnvE,EAAKntC,GAAM,IAAWs8G,GAAOnvE,EAAKntC,EAAKgwC,YAAY,GAAM,IACnEhwC,EAAKptC,aAAau6E,EAAIxnF,OAAO,MAAOq6C,EAAKgwC,YAEtCssE,GAAOnvE,EAAKntC,GAAM,IAAUs8G,GAAOnvE,EAAKntC,EAAKiwC,WAAW,GAAO,IAClEjwC,EAAKxtC,YAAY26E,EAAIxnF,OAAO,SAsBhCyhI,EAAOpkE,UAAYokE,EAAOr1H,SAAW+pJ,GAAO10B,EAAOr1H,OAAQiuC,IAG/DmtC,EAAIt6E,OAAOmtC,GAAM,GAoFfq9G,CAAah3B,EAAIjxC,EAAKgyC,GACfu0B,GAAap7D,WAEfo7D,GAAahhC,QAElB2iC,GAAe,SAAUj3B,EAAIe,EAAQZ,EAAMxmF,EAAMw8G,GACnD,OAAOD,GAAqBl2B,EAAIe,EAAQZ,EAAMxmF,EAAMw8G,GAAa/6E,KAAKN,GAAO,SAAUo8E,GAErF,OADAl3B,EAAGl5C,IAAIy9B,OAAO5qE,EAAMu9G,IACb,IACNn8E,IAcDo8E,GAAwB,SAAUl9D,EAAQ8mC,EAAQZ,EAAMv7H,GAC1D,OAAOsxJ,GAAqBj8D,EAAQ8mC,EAAQZ,EAAMv7H,EAAOA,GAAOw2E,KAAKf,EAASz1E,IAAQ,SAAUsyJ,GAG9F,OAFej9D,EAAOnT,IAAI21B,iBACjBtwG,YAAYvH,GACdq1F,EAAOnT,IAAIy9B,OAAO3/G,EAAOsyJ,KAC/B78E,EAAS,QAsCV+8E,GAAW,SAAUp3B,EAAI3uH,EAAM8uH,EAAMxmF,EAAM23G,GAC7C,IAAIP,EAAa/wB,EAAGiB,UAAUjiI,IAAIqS,GAC9B0vH,EAASgwB,EAAW,GACpB/rE,GAAkB,EAClB8B,EAAMk5C,EAAGl5C,IACTokC,EAAY8U,EAAG9U,UACfmsC,EAAoB,SAAUnvJ,GAChC,IAAIovJ,EA9Da,SAAUr9D,EAAQ/xF,EAAWmJ,EAAM8uH,EAAMmxB,GAC5D,IAAIgG,EASJ,OARArnG,EAAKwwE,GAAaxmC,EAAOnT,IAAK5+E,EAAUuE,YAAY+K,WAAW,SAAUklD,GACvE,IAAK46F,GAA4B,WAAd56F,EAAOtiC,IAAiC,SAAdsiC,EAAOtiC,GAAe,CACjE,IAAI2mG,EAASmwB,GAAUj3D,EAAQv9B,EAAQrrD,EAAM8uH,EAAMmxB,GAC/CvwB,IAA2B,IAAjBA,EAAOx/H,QACnB+1J,EAAa56F,OAIZ46F,EAoDYC,CAAev3B,EAAI93H,EAAWmJ,EAAM8uH,EAAMmxB,GAC3D,OA5Ce,SAAUr3D,EAAQ82D,EAAYuG,EAAYpvJ,EAAW9G,EAAQG,EAAOw/H,EAAQZ,GAC7F,IAAIv7H,EAAO4yJ,EAAWC,EAClB3wE,EAAMmT,EAAOnT,IACjB,GAAIwwE,EAAY,CAEd,IADA,IAAII,EAAmBJ,EAAW7qJ,WACzBk3H,EAAWz7H,EAAUuE,WAAYk3H,GAAYA,IAAa+zB,EAAkB/zB,EAAWA,EAASl3H,WAAY,CACnH7H,EAAQkiF,EAAIliF,MAAM++H,GAAU,GAC5B,IAAK,IAAIplI,EAAI,EAAGA,EAAIwyJ,EAAW9vJ,QAEf,QADd2D,EAAQuyJ,GAAsBl9D,EAAQ82D,EAAWxyJ,GAAI4hI,EAAMv7H,IADtBrG,KAMnCqG,IACE4yJ,GACF5yJ,EAAMuH,YAAYqrJ,GAEfC,IACHA,EAAa7yJ,GAEf4yJ,EAAY5yJ,IAGZrD,GAAWw/H,EAAO42B,OAAU7wE,EAAI2W,QAAQ65D,KAC1CpvJ,EAAY4+E,EAAIvlF,MAAM+1J,EAAYpvJ,IAEhCsvJ,IACFp2J,EAAOqL,WAAWF,aAAairJ,EAAWp2J,GAC1Cq2J,EAAWtrJ,YAAY/K,GACnB2/H,EAAOr1H,QACTspJ,GAAcluE,EAAKi6C,EAAQZ,EAAMq3B,IAIvC,OAAOtvJ,EAUE0vJ,CAAa53B,EAAI+wB,EAAYuG,EAAYpvJ,EAAWA,GAAW,EAAM64H,EAAQZ,IAKlFl8G,EAAU,SAAU01B,GACtB,IAAIk+G,EAAqB7qE,EACrBvgF,EAAaktC,EAAKltC,WAClBygF,GAASvzC,IAAS+nF,GAAiB56C,EAAKr6E,IAC1CwqJ,GAAaj3B,EAAIe,EAAQZ,EAAM1zH,EAAYA,GAEzCggF,GAAY9yC,IAASmtC,EAAI07B,mBAAmB7oE,KAC9Ck+G,EAAsB7yE,EACtBA,EAAmD,SAAjC8B,EAAI07B,mBAAmB7oE,GACzCqzC,GAA0B,GAE5B,IAAIlsF,EAAWw8E,GAAO3jC,EAAKwV,YAC3B,GAAI61B,IAAoBgI,EACtB,IAAK,IAAIzuF,EAAI,EAAGA,EAAIwyJ,EAAW9vJ,SACzBg2J,GAAaj3B,EAAI+wB,EAAWxyJ,GAAI4hI,EAAMxmF,EAAMA,GADXp7C,KAMzC,GAAIwiI,EAAOpe,MACL7hH,EAASG,OAAQ,CACnB,IAAS1C,EAAI,EAAGA,EAAIuC,EAASG,OAAQ1C,IACnC0lB,EAAQnjB,EAASvC,IAEfyuF,IACFhI,EAAkB6yE,KAKtBjtE,EAAS,SAAUvjF,GACrB,IAAIsyC,EAAOmtC,EAAI9nF,IAAIqI,EAAQ,SAAW,QAClCm3E,EAAM7kC,EAAKtyC,EAAQ,aAAe,aAQtC,OA3CyB,SAAUsyC,GACnC,OAAOylF,GAAiBzlF,IAAS8yC,GAAY9yC,KAAsB,WAAZA,EAAKvf,IAA+B,SAAZuf,EAAKvf,IAmChF09H,CAAqBt5E,KACvBA,EAAMA,EAAIn3E,EAAQ,aAAe,cAE/B6lF,GAAS1O,IAA4B,IAApBA,EAAItzD,KAAKjqB,SAC5Bu9E,EAAMn3E,EAAQsyC,EAAK4vC,iBAAmB5vC,EAAKrtC,YAAcqtC,EAAKrtC,aAAeqtC,EAAK4vC,iBAEpFzC,EAAIt6E,OAAOmtC,GAAM,GACV6kC,GAELu5E,EAAiB,SAAU9sC,GAC7B,IAAIzF,EAAgBE,EAChBytC,EAAcnwB,GAAUhD,EAAI/U,EAAK8lC,EAAY9lC,EAAIgJ,WACrD,GAAI8M,EAAOx/H,MAAO,CAIhB,GAHA4xJ,EAAchkB,GAAQgkB,IACtB3tC,EAAiB1sD,GAAaknE,EAAImzB,GAAa,OAC/CztC,EAAe5sD,GAAaknE,EAAImzB,IACK,CAGnC,GAFA3tC,EAAiBowC,GAAwBpwC,GAAgB,GACzDE,EAAekwC,GAAwBlwC,GAAc,GACjDgwC,GAAsB5uE,EAAK0+B,EAAgBE,GAAe,CAC5D,IAAIn7B,EAASjO,EAASt8E,KAAKwlH,EAAe77B,YAAYnO,MAAMgqC,GAM5D,OALA6xC,EAAkBrB,GAAiBlvE,EAAKyD,GAAQ,EAAM,OAAQ,CAC5D,GAAM,SACN,gBAAiB,mBAEnBK,GAAO,GAGT,GAAI8qE,GAAsB5uE,EAAK4+B,EAAcF,GAAiB,CACxDj7B,EAASjO,EAASt8E,KAAK0lH,EAAa97B,WAAWpO,MAAMkqC,GAMzD,OALA2xC,EAAkBrB,GAAiBlvE,EAAKyD,GAAQ,EAAO,OAAQ,CAC7D,GAAM,OACN,gBAAiB,mBAEnBK,GAAO,GAGT46B,EAAiBuwC,GAAOjvE,EAAK0+B,EAAgB,OAAQ,CACnD,GAAM,SACN,gBAAiB,aAEnBE,EAAeqwC,GAAOjvE,EAAK4+B,EAAc,OAAQ,CAC/C,GAAM,OACN,gBAAiB,aAEnB,IAAI6K,EAASzpC,EAAIu7B,YACjBkO,EAAO8J,cAAc7U,GACrB+K,EAAO6J,aAAa1U,GACpB0d,GAAOt8C,EAAKypC,GAAQ,SAAU1hC,GAC5B5+B,EAAK4+B,GAAO,SAAUvwF,GACf8gI,GAAiB9gI,IAAO8gI,GAAiB9gI,EAAEmO,aAC9C4qJ,EAAkB/4J,SAIxB+4J,EAAkB7xC,GAClB6xC,EAAkB3xC,GAClBF,EAAiB56B,GAAO,GACxB86B,EAAe96B,SAEf46B,EAAiBE,EAAe2xC,EAAkB7xC,GAEpD2tC,EAAY3tC,eAAiBA,EAAe/4G,WAAa+4G,EAAe/4G,WAAa+4G,EACrF2tC,EAAY1tC,YAAc3+B,EAAIkzB,UAAUwL,GACxC2tC,EAAYztC,aAAeA,EAAaj5G,WAAai5G,EAAaj5G,WAAai5G,EAC/EytC,EAAYxtC,UAAY7+B,EAAIkzB,UAAU0L,GAAgB,EAExD0d,GAAOt8C,EAAKqsE,GAAa,SAAUtkE,GACjC5+B,EAAK4+B,GAAO,SAAUl1C,GACpB11B,EAAQ01B,GAMRsW,EALsB,CACpB,YACA,eACA,aAEoB,SAAUuwE,GAC1B/zC,GAAY9yC,IAASqmF,EAAGl5C,IAAIs6B,SAASznE,EAAM,qBAAuB6mF,GAAc7mF,EAAKltC,YAAc8zH,GAAkBz5C,EAAKntC,EAAKltC,cAAgB+zH,GACjJy2B,GAAaj3B,EAAI,CACfrd,MAAM,EACNywB,OAAO,EACP1nI,OAAQ,OACRk6F,OAAQ,CAAEoyD,eAAgBx3B,IACzB,KAAM7mF,aAMnB,GAAIA,EACF,GAAI8lF,GAAO9lF,GAAO,CAChB,IAAIsxE,EAAMnkC,EAAIu7B,YACd4I,EAAIkP,eAAexgF,GACnBsxE,EAAIwF,YAAY92E,GAChBo+G,EAAe9sC,QAEf8sC,EAAep+G,QAInB,GAAoD,UAAhDmtC,EAAI07B,mBAAmB0I,EAAU2D,WAWhC3D,EAAU0I,eAAkBmN,EAAOr1H,SAAU44H,GAAmBtE,GAAI/+H,OASvEgyJ,GAAkBjzB,EAAI3uH,EAAM8uH,EAAMmxB,IARlCnsB,GAASja,GAAW,GAAM,WACxB6Z,GAAY/E,EAAI+3B,MAEdh3B,EAAOr1H,QAAUrI,GAAM28H,EAAI3uH,EAAM8uH,EAAMjV,EAAU0hB,aACnDlN,GAAU54C,EAAKokC,EAAWA,EAAUC,UAEtC6U,EAAG+L,mBAlBL,CACEpyF,EAAOuxE,EAAU2D,UACjB,IAAK,IAAItwH,EAAI,EAAGA,EAAIwyJ,EAAW9vJ,UACzB8vJ,EAAWxyJ,GAAG05J,kBACZhB,GAAaj3B,EAAI+wB,EAAWxyJ,GAAI4hI,EAAMxmF,EAAMA,IAFbp7C,QAsBvC25J,GAAStyE,GAAM31B,KA4BfkoG,GAAoB,SAAUl+D,EAAQ82D,EAAY5wB,EAAMxmF,GAC1Du+G,GAAOnH,GAAY,SAAUhwB,GAC3Bm3B,GAAOj+D,EAAOnT,IAAI7oB,OAAO8iE,EAAOr1H,OAAQiuC,IAAO,SAAUhC,GAClDg9G,GAAch9G,IAGnBs/G,GAAah9D,EAAQ8mC,EAAQZ,EAAMxoF,EAAOopF,EAAOqS,MAAQz7F,EAAQ,SApgBhD,SAAUmvC,EAAKi6C,EAAQpnF,GAC5C,GAAIonF,EAAOq3B,mBAAoB,CAC7B,IAAIz7F,EAAWokE,EAAOu1B,MAAQ,WAAa,IAC3C5B,GAAO5tE,EAAI7oB,OAAOtB,EAAUhjB,IAAO,SAAUA,GACvCg7G,GAAch7G,IAChB+6G,GAAO3zB,EAAOn7B,QAAQ,SAAUxmG,EAAOiS,GACrCy1E,EAAIrqB,SAAS9iB,EAAMtoC,EAAM,WAggB/BgnJ,CAAiBp+D,EAAOnT,IAAKi6C,EAAQpnF,OAmBrC2+G,GAAS1yE,GAAM31B,KACfsoG,GAAoB,SAAUx3B,EAAQrwF,GACxC,OAAOytC,GAAkB4iD,EAAQrwF,IA0B/B8nH,GAAc,SAAUx4B,EAAI3uH,EAAM8uH,EAAMxmF,GAC1C,IAAIo3G,EAAa/wB,EAAGiB,UAAUjiI,IAAIqS,GAC9B0vH,EAASgwB,EAAW,GACpBn9B,GAAej6E,GAAQqmF,EAAG9U,UAAU0I,cACpC9sC,EAAMk5C,EAAGl5C,IACTokC,EAAY8U,EAAG9U,UACfutC,EAAmB,SAAU1pE,EAAK2pE,GAEpC,GADAA,EAAMA,GAAO33B,EACThyC,EAAK,CAOP,GANI2pE,EAAIC,UACND,EAAIC,SAAS5pE,EAAK2pE,EAAKv4B,EAAMxmF,GAE/B2+G,GAAOI,EAAI9yD,QAAQ,SAAUxmG,EAAOiS,GAClCy1E,EAAIrqB,SAASsyB,EAAK19E,EAAM6uH,GAAY9gI,EAAO+gI,OAEzCu4B,EAAI9yD,OAAQ,CACd,IAAIgzD,EAAW9xE,EAAI65B,UAAU5xB,EAAK,SAC9B6pE,GACF9xE,EAAIg6B,UAAU/xB,EAAK,iBAAkB6pE,GAGzCN,GAAOI,EAAInyH,YAAY,SAAUnnC,EAAOiS,GACtCy1E,EAAIg6B,UAAU/xB,EAAK19E,EAAM6uH,GAAY9gI,EAAO+gI,OAE9Cm4B,GAAOI,EAAItyB,SAAS,SAAUhnI,GAC5BA,EAAQ8gI,GAAY9gI,EAAO+gI,GACtBr5C,EAAItrB,SAASuzB,EAAK3vF,IACrB0nF,EAAI/xB,SAASg6B,EAAK3vF,QAKtBy5J,EAAiB,SAAU9H,EAAYp3G,GACzC,IAAIrS,GAAQ,EACZ,QAAKk6F,GAAiBT,KAGtBu3B,GAAOvH,GAAY,SAAUhwB,GAC3B,KAAI,cAAeA,IAAUA,EAAO9M,YAAcL,EAGlD,OAAI9sC,EAAIxL,GAAG3hC,EAAMonF,EAAOpkE,YAAc+gE,GAAY/jF,IAChD8+G,EAAiB9+G,EAAMonF,GACvBz5F,GAAQ,GACD,QAHT,KAMKA,IAELwxH,EAAgB,SAAUhyE,EAAKmkC,EAAK0I,EAAUolC,GAChD,IAAIxyB,EAAc,GACdvhD,GAAkB,EAClBygD,EAAW1E,EAAOr1H,QAAUq1H,EAAO9L,MACnC+jC,EAAUlyE,EAAIxnF,OAAOmmI,GACzBgzB,EAAiBO,GACjB51B,GAAOt8C,EAAKmkC,GAAK,SAAUp8B,GACzB,IAAIoqE,EACAh1I,EAAU,SAAU01B,GACtB,IAAIqzC,GAA0B,EAC1B6qE,EAAsB7yE,EACtBrpC,EAAWhC,EAAKgC,SAASl4C,cACzBy1J,EAAav/G,EAAKltC,WAAWkvC,SAASl4C,cAM1C,GALIgpF,GAAY9yC,IAASmtC,EAAI07B,mBAAmB7oE,KAC9Ck+G,EAAsB7yE,EACtBA,EAAmD,SAAjC8B,EAAI07B,mBAAmB7oE,GACzCqzC,GAA0B,GAExBM,GAAK3zC,KAxFC,SAAUsgD,EAAQ8mC,EAAQpnF,EAAMu/G,GAChD,GAtwNwB,SAAUj/D,GAClC,OAAOA,EAAO46B,SAAS,sBAAsB,EAAO,WAqwNhDskC,CAAoBl/D,IAAWwnC,GAAeV,GAAS,CACzD,IAAIq4B,EAAwBn6E,GAASA,GAAS,GAAIgb,EAAO0M,OAAOyF,wBAAyB,CACvFhB,GAAI,GACJC,GAAI,GACJF,GAAI,GACJD,GAAI,GACJD,GAAI,GACJouD,WAAY,GACZhqE,QAAS,GACTs+D,QAAS,GACT2L,QAAS,KAEPC,EAAsB/I,GAAUzpE,GAAaF,QAAQltC,IAAO,SAAUg8B,GACxE,OAAO+nD,GAAY/nD,EAAQmR,QAE7B,OAAO3I,GAAkBi7E,EAAuBF,IAAej4D,GAAQla,GAAaF,QAAQltC,EAAKltC,aAAa,KAAW8sJ,EAEzH,OAAO,EAsEgBC,CAAYx5B,EAAIe,EAAQpnF,EAAMu/G,GAK/C,OAJAD,EAAiB,UACb13B,GAAcR,IAChBj6C,EAAIt6E,OAAOmtC,IAIf,GAAIonF,EAAOz7H,SAAW4rJ,GAAUlxB,EAAIrmF,EAAMtoC,EAAM8uH,GAC9C84B,EAAiB,SADnB,CAIA,GAAIj0E,IAAoBgI,GAA2Bu0C,GAAcR,KAAYA,EAAOz7H,SAAWy6H,GAAcC,EAAIrkF,IAAakxD,GAAQmzB,EAAIk5B,EAAYzzB,GAAW,CAC/J,IAAI12C,EAAMjI,EAAIy9B,OAAO5qE,EAAM8rF,GAI3B,OAHAgzB,EAAiB1pE,GACjBw3C,EAAYxlI,KAAKguF,QACjBkqE,EAAiB,MAGnB,GAAIz3B,GAAiBT,GAAS,CAC5B,IAAIz5F,EAAQuxH,EAAe9H,EAAYp3G,GAIvC,GAHIuzC,GAASvzC,IAAS+nF,GAAiB56C,EAAKntC,EAAKltC,aAC/CosJ,EAAe9H,EAAYp3G,EAAKltC,aAE7B8rJ,GAAkBx3B,EAAQ,WAAaz5F,EAE1C,YADA2xH,EAAiB,OAIjBj0E,GAAoBgI,IAA2B6f,GAAQmzB,EAAIyF,EAAU9pF,KAAakxD,GAAQmzB,EAAIk5B,EAAYzzB,KAAgBszB,GAAkC,IAAlBp/G,EAAK2E,UAA4C,IAA1B3E,EAAK2/D,UAAUr4G,QAAiD,QAAjC04C,EAAK2/D,UAAU9kF,WAAW,IAAkBkpG,GAAY/jF,IAAW4+G,GAAkBx3B,EAAQ,WAAcj6C,EAAI2W,QAAQ9jD,IAQzTs/G,EAAiB,KACjBX,GAAO1yE,GAAMG,KAAKpsC,EAAKwV,YAAalrC,GAChC+oE,IACFhI,EAAkB6yE,GAEpBoB,EAAiB,OAZZA,IACHA,EAAiBnyE,EAAIliF,MAAMo0J,GAAS,GACpCr/G,EAAKltC,WAAWF,aAAa0sJ,EAAgBt/G,GAC7C4sF,EAAYxlI,KAAKk4J,IAEnBA,EAAe9sJ,YAAYwtC,MAU/B2+G,GAAOzpE,EAAO5qE,OAEK,IAAjB88G,EAAOu1B,OACTgC,GAAO/xB,GAAa,SAAU5sF,GAC5B,IAAI11B,EAAU,SAAU01B,GACA,MAAlBA,EAAKgC,UACP88G,EAAiB9+G,EAAMonF,GAEzBu3B,GAAO1yE,GAAMG,KAAKpsC,EAAKwV,YAAalrC,IAEtCA,EAAQ01B,MAGZ2+G,GAAO/xB,GAAa,SAAU5sF,GAC5B,IASI8/G,EAAsB,SAAUrtJ,GAClC,IAAIurC,GAAQ,EAOZ,OANA2gH,GAAOlsJ,EAAK+iD,YAAY,SAAUxV,GAChC,GAjKY,SAAUA,GAC9B,OAAOA,GAA0B,IAAlBA,EAAK2E,WAAmB8gF,GAAiBzlF,KAAU+jF,GAAY/jF,KAAUmzC,GAAQnzC,GAgKpF+/G,CAAgB//G,GAElB,OADAhC,EAAQgC,GACD,KAGJhC,GAaLgiH,EA9BgB,SAAUhgH,GAC5B,IAAI1iC,EAAQ,EAMZ,OALAqhJ,GAAO3+G,EAAKwV,YAAY,SAAUxV,IAz3LpB,SAAUA,GAC9B,OAAOmgC,EAAcngC,IAASuzC,GAASvzC,IAAyB,IAAhBA,EAAK14C,QAy3LxC24J,CAAgBjgH,IAAUylF,GAAiBzlF,IAC9C1iC,OAGGA,EAuBQ4iJ,CAAclgH,KAC1B4sF,EAAYtlI,OAAS,IAAM6lF,EAAI2W,QAAQ9jD,IAAyB,IAAfggH,GAIlDl4B,GAAeV,IAAWA,EAAOz7H,WAC9By7H,EAAOqS,OAAwB,IAAfumB,IACnBhgH,EAlBc,SAAUA,GAC1B,IAAI/0C,EACA+yC,EAAQ8hH,EAAoB9/G,GAOhC,OANIhC,IAAUynF,GAAiBznF,IAAUw5G,GAAUrqE,EAAKnvC,EAAOopF,KAC7Dn8H,EAAQkiF,EAAIliF,MAAM+yC,GAAO,GACzB8gH,EAAiB7zJ,GACjBkiF,EAAI9kF,QAAQ4C,EAAO+0C,GAAM,GACzBmtC,EAAIt6E,OAAOmrC,GAAO,IAEb/yC,GAAS+0C,EASPmgH,CAAYngH,IAErBw+G,GAAkBn4B,EAAI+wB,EAAY5wB,EAAMxmF,GAhNzB,SAAUsgD,EAAQ8mC,EAAQ1vH,EAAM8uH,EAAMxmF,GACvDu3G,GAAUj3D,EAAQtgD,EAAKltC,WAAY4E,EAAM8uH,IACvC82B,GAAah9D,EAAQ8mC,EAAQZ,EAAMxmF,IAIrConF,EAAOg5B,oBACT9/D,EAAOnT,IAAIm8B,UAAUtpE,EAAKltC,YAAY,SAAUiwD,GAC9C,GAAIw0F,GAAUj3D,EAAQv9B,EAAQrrD,EAAM8uH,GAElC,OADA82B,GAAah9D,EAAQ8mC,EAAQZ,EAAMxmF,IAC5B,KAuMPqgH,CAAiBh6B,EAAIe,EAAQ1vH,EAAM8uH,EAAMxmF,GAvOX,SAAUmtC,EAAKi6C,EAAQZ,EAAMxmF,GAC7DonF,EAAOn7B,QAAUm7B,EAAOn7B,OAAO/3F,iBACjCqnJ,GAAqBv7G,EAAMw7G,GAASruE,EAAK,YAAasuE,GAAWtuE,EAAK,kBAAmBo5C,GAAYa,EAAOn7B,OAAO/3F,gBAAiBsyH,KAsOhI85B,CAAgCnzE,EAAKi6C,EAAQZ,EAAMxmF,GAxPxB,SAAUmtC,EAAKi6C,EAAQZ,EAAMxmF,GAC9D,IAAIugH,EAAiC,SAAU57J,GAC7C,GAAmB,IAAfA,EAAEggD,UAAkBhgD,EAAEmO,YAAwC,IAA1BnO,EAAEmO,WAAW6xC,SAAgB,CACnE,IAAI05G,EAAiBz3B,GAAkBz5C,EAAKxoF,EAAEmO,YAC1Cq6E,EAAIs6B,SAAS9iH,EAAG,UAAY05J,EAC9BlxE,EAAIrqB,SAASn+D,EAAG,kBAAmB05J,GAC1BlxE,EAAIs6B,SAAS9iH,EAAG,qBAAuB05J,GAChDlxE,EAAIrqB,SAASn+D,EAAG,kBAAmB,QAIrCyiI,EAAOn7B,SAAWm7B,EAAOn7B,OAAOn4F,OAASszH,EAAOn7B,OAAOoyD,kBACzDpyE,GAAMD,KAAKhsC,EAAMugH,EAAgC,cACjDA,EAA+BvgH,IA4O3BwgH,CAA6BrzE,EAAKi6C,EAAQZ,EAAMxmF,GApOtC,SAAUmtC,EAAKi6C,EAAQZ,EAAMxmF,GACvB,QAAlBonF,EAAOr1H,QAAsC,QAAlBq1H,EAAOr1H,SACpCwpJ,GAAqBv7G,EAAMw7G,GAASruE,EAAK,YAAasuE,GAAWtuE,EAAK,WAAY,KAClFA,EAAIt6E,OAAOs6E,EAAI7oB,OAAyB,QAAlB8iE,EAAOr1H,OAAmB,MAAQ,MAAOiuC,IAAO,IAkOlEygH,CAAYtzE,EAAKi6C,EAAQZ,EAAMxmF,GAC/Bq7G,GAAcluE,EAAKi6C,EAAQZ,EAAMxmF,IAZjCmtC,EAAIt6E,OAAOmtC,GAAM,OAgBvB,GAAoD,UAAhDmtC,EAAI07B,mBAAmB0I,EAAU2D,YAWrC,GAAIkS,EAAQ,CACV,GAAIpnF,EACF,GAAI8lF,GAAO9lF,IACT,IAAKk/G,EAAe9H,EAAYp3G,GAAO,CACrC,IAAIsxE,EAAMnkC,EAAIu7B,YACd4I,EAAIkP,eAAexgF,GACnBsxE,EAAIwF,YAAY92E,GAChBm/G,EAAchyE,EAAKk8C,GAAUhD,EAAI/U,EAAK8lC,GAAa,GAAM,SAG3D+H,EAAchyE,EAAKntC,EAAM,GAAM,QAGjC,GAAKi6E,GAAgB6N,GAAeV,KAAWuD,GAAmBtE,GAAI/+H,QAt7BrD,SAAUg5F,EAAQ5oF,EAAM8uH,GAC7C,IAAI5gC,EAAgBg5B,EAChBrN,EAAYjxB,EAAOixB,UACnBic,EAAejc,EAAUC,SACzB9yG,EAAS8uH,EAAa1hB,YAEtBvxD,EADYizE,EAAa3hB,eACRlM,WACrB/Z,EAAiBo+B,GAAwB1jC,EAAOmxB,UAAWF,EAAU0hB,eAEnErU,EAAW+5B,GAAkB/yD,IAE/B,IAnJyBrW,EAAevvC,EAmJpC0gH,EAAgB,gCACpB,GAAInmG,GAAQ77C,EAAS,GAAKA,EAAS67C,EAAKjzD,QAAUo5J,EAAcp2J,KAAKiwD,EAAKljD,OAAOqH,KAAYgiJ,EAAcp2J,KAAKiwD,EAAKljD,OAAOqH,EAAS,IAAK,CACxI,IAAIs7G,EAAWzI,EAAUqJ,cACzB4S,EAAahZ,UAAS,GACtB,IAAIlD,EAAM+X,GAAU/oC,EAAQktC,EAAcltC,EAAOgnC,UAAUjiI,IAAIqS,IAC/D45G,EAAMkkB,GAAQlkB,GACdhxB,EAAOgnC,UAAUpkH,MAAMxL,EAAM8uH,EAAMlV,GACnCC,EAAUmJ,eAAeV,QAEpBp0B,GAAkBg5B,EAASjf,YAAc44C,KA5JvBhpE,EA6JO+Q,EAAOusC,SA7JC7sF,EA6JS44G,IAAqB,GAAMzrE,IACxEyxC,GADAh5B,EA5JGrW,EAAcoxE,WAAW3gH,GAAM,IA6JRgwC,WAC1Bw9C,EAAarV,WAAWvyB,GACxBlnF,EAAS,GAGT4hF,EAAOgnC,UAAUpkH,MAAMxL,EAAM8uH,EAAM5gC,GAErC2rB,EAAUk8B,kBAAkB7uB,EAAUlgH,GAy6BlCkiJ,CAAiBv6B,EAAI3uH,EAAM8uH,OAhBiD,CAC5E,IAAIq6B,EAAatvC,EAAU2D,UACvB4rC,EAAc1J,EAAW,GACxB/wB,EAAGzlC,SAASmgE,oBAAqBD,EAAYE,cAAiB7zE,EAAIm8B,UAAUu3C,EAAY1zE,EAAI2W,UAC/F+6D,GAAYx4B,EAAIy6B,EAAYE,cAE9BzvC,EAAUiU,OAAOysB,GAAY1gC,EAAUC,WACvCga,GAASja,GAAW,GAAM,SAAUyI,GAClCoR,GAAY/E,GAAI,SAAUmH,EAAcyzB,GACtC,IAAIzH,EAAcyH,EAAOzzB,EAAenE,GAAUhD,EAAImH,EAAc4pB,GACpE+H,EAAchyE,EAAKqsE,SAGvBzzB,GAAU54C,EAAKokC,EAAWA,EAAUC,UACpC6U,EAAG+L,eA30BO,SAAU16H,EAAM4oF,GAChCk6D,GAAOF,GAAiB5iJ,IAAO,SAAUgtG,GACvCA,EAAKpkB,MA80BL4gE,CAAYxpJ,EAAM2uH,QA3CpB,CACErmF,EAAOuxE,EAAU2D,UACjB,IAAK,IAAItwH,EAAI,EAAGC,EAAIuyJ,EAAW9vJ,OAAQ1C,EAAIC,EAAGD,IAAK,CACjD,IAAIu8J,EAAa/J,EAAWxyJ,GAC5B,GAAIu8J,EAAW7C,iBAAmBz2B,GAAiBs5B,IAAeh0E,EAAIxL,GAAG3hC,EAAMmhH,EAAWn+F,UAExF,YADA87F,EAAiB9+G,EAAMmhH,MAiD3BC,GAA+B,SAAU9gE,EAAQlL,EAAKisE,EAAgBC,GACxE,IAAIC,EAAcl6J,GAAKg6J,EAAeh8J,OAClCm8J,EAAa,GACb3H,EAAiB,GACjB5nD,EAAUzvF,EAAOskH,GAAaxmC,EAAOnT,IAAKiI,IAAM,SAAUp1C,GAC5D,OAAyB,IAAlBA,EAAK2E,WAAmB3E,EAAK/4C,aAAa,qBAEnD28E,GAAO09E,GAAkB,SAAU/vI,EAAM61G,GACvCn7C,GAAM31B,KAAK27C,GAAS,SAAUjyD,GAC5B,OAAIsgD,EAAOgnC,UAAUiwB,UAAUv3G,EAAMonF,EAAQ,GAAI71G,EAAKomI,WACf,IAAjC4J,EAAYxrJ,QAAQqxH,KACtB9wE,EAAK/kC,EAAKinB,WAAW,SAAU1K,GAC7BA,GAAS,EAAM,CACbkS,KAAMA,EACNonF,OAAQA,EACRn1B,QAASA,OAGbuvD,EAAWp6B,GAAU71G,EAAKinB,WAE5BqhH,EAAezyB,GAAU71G,EAAKinB,WACvB,IAEL2+G,GAAiC72D,EAAQtgD,EAAMonF,SAAnD,QAKJ,IAAIq6B,EAAmBC,GAAuBL,EAAeh8J,MAAOw0J,EAAgBzkE,EAAK6c,GACzFovD,EAAetlJ,IAAIupE,GAASA,GAAS,GAAIk8E,GAAaC,KAEpDC,GAAyB,SAAUL,EAAgBxH,EAAgBzkE,EAAK6c,GAC1E,OAAO7tB,GAASi9E,GAAgB,SAAU7oH,EAAW4uF,GACnD,QAAKhvH,GAAIyhJ,EAAgBzyB,KACvB9wE,EAAK9d,GAAW,SAAU1K,GACxBA,GAAS,EAAO,CACdkS,KAAMo1C,EACNgyC,OAAQA,EACRn1B,QAASA,QAGN,MAIRztG,GA2BDm9J,GAAwB,SAAUrhE,EAAQshE,EAA2BC,EAAS/zH,EAAU6pH,GAK1F,OAJwC,OAApCiK,EAA0Bv8J,OAhFlB,SAAUu8J,EAA2BthE,GACjD,IAAI+gE,EAAiBh0C,GAAK,IAC1Bu0C,EAA0B7lJ,IAAI,IAC9BukF,EAAOr6C,GAAG,cAAc,SAAUxhD,GAChC28J,GAA6B9gE,EAAQ77F,EAAE0H,QAASk1J,EAAgBO,EAA0Bv8J,UA6E1Fy8J,CAAQF,EAA2BthE,GA3BpB,SAAUshE,EAA2BC,EAAS/zH,EAAU6pH,GACzE,IAAIoK,EAAoBH,EAA0Bv8J,MAClDixD,EAAKurG,EAAQj6J,MAAM,MAAM,SAAUw/H,GAC5B26B,EAAkB36B,KACrB26B,EAAkB36B,GAAU,CAC1BuwB,QAASA,EACTn/G,UAAW,KAGfupH,EAAkB36B,GAAQ5uF,UAAUpxC,KAAK0mC,MAE3C8zH,EAA0B7lJ,IAAIgmJ,GAkB9BC,CAAaJ,EAA2BC,EAAS/zH,EAAU6pH,GACpD,CACLt/C,OAAQ,WACN,OAnBgB,SAAUupD,EAA2BC,EAAS/zH,GAClE,IAAIi0H,EAAoBH,EAA0Bv8J,MAClDixD,EAAKurG,EAAQj6J,MAAM,MAAM,SAAUw/H,GACjC26B,EAAkB36B,GAAQ5uF,UAAYh2B,EAAOu/I,EAAkB36B,GAAQ5uF,WAAW,SAAUxzC,GAC1F,OAAOA,IAAM8oC,KAEoC,IAA/Ci0H,EAAkB36B,GAAQ5uF,UAAUlxC,eAC/By6J,EAAkB36B,MAG7Bw6B,EAA0B7lJ,IAAIgmJ,GASnBE,CAAgBL,EAA2BC,EAAS/zH,MAc7Do0H,GAAe,SAAU/0J,EAAUmgF,GACrC,IACIz4C,GADMy4C,GAAS1mF,UACAq8G,yBAInB,OAHA3sD,EAAKnpD,GAAU,SAAUhB,GACvB0oC,EAASriC,YAAYrG,EAAQghF,QAExBC,GAAaF,QAAQr4C,IAG1BstH,GAAa,SAAUh2J,EAASM,EAAO6iJ,GACzC,MAAO,CACLnjJ,QAASA,EACTM,MAAOA,EACP6iJ,KAAMA,IAGN8S,GAAW,SAAUj2J,EAAS8iJ,GAChC,MAAO,CACL9iJ,QAASA,EACT8iJ,MAAOA,IAGPoT,GAAe,SAAUv2J,EAAGxC,GAC9B,MAAO,CACLwC,EAAGA,EACHxC,EAAGA,IAGHg5J,GAAU,SAAU7wD,EAAIhmG,GAC1B,IAAIhG,EAAQmE,SAASyqF,GAAMod,EAAIhmG,GAAM,IACrC,OAAOjC,MAAM/D,GAAS,EAAIA,GAgBxB88J,GAAa,SAAUj1D,EAAOxhG,EAAGxC,GACnC,IAAIgmJ,EAAOhiD,EAAMgiD,KAEjB,SADYA,EAAKhmJ,GAAKgmJ,EAAKhmJ,GAAG2lJ,MAAQ,IACvBnjJ,IAQb02J,GAAW,SAAUlT,GACvB,OAAOnsE,EAAMmsE,GAAM,SAAUpsE,EAAKu/E,GAChC,OAAOA,EAAIxT,MAAM3nJ,OAAS47E,EAAMu/E,EAAIxT,MAAM3nJ,OAAS47E,IAClD,IAEDw/E,GAAiB,SAAUp1D,EAAOnhG,GAEpC,IADA,IAAImjJ,EAAOhiD,EAAMgiD,KACRhmJ,EAAI,EAAGA,EAAIgmJ,EAAKhoJ,OAAQgC,IAE/B,IADA,IAAI2lJ,EAAQK,EAAKhmJ,GAAG2lJ,MACXnjJ,EAAI,EAAGA,EAAImjJ,EAAM3nJ,OAAQwE,IAChC,GAAIyiF,GAAK0gE,EAAMnjJ,GAAIK,GACjB,OAAOw2E,EAAS5tE,KAAKstJ,GAAav2J,EAAGxC,IAI3C,OAAOq5E,EAAStB,QAEdshF,GAAc,SAAUr1D,EAAO72C,EAAIC,EAAI0iC,EAAI7hC,GAG7C,IAFA,IAAIqrG,EAAU,GACVtT,EAAOhiD,EAAMgiD,KACRhmJ,EAAIotD,EAAIptD,GAAKiuD,EAAIjuD,IAAK,CAC7B,IAAI2lJ,EAAQK,EAAKhmJ,GAAG2lJ,MAChBzoJ,EAAQiwD,EAAK2iC,EAAK61D,EAAMzoJ,MAAMiwD,EAAI2iC,EAAK,GAAK61D,EAAMzoJ,MAAM4yF,EAAI3iC,EAAK,GACrEmsG,EAAQx7J,KAAKg7J,GAAS9S,EAAKhmJ,GAAG6C,QAAS3F,IAEzC,OAAOo8J,GA4BLC,GAAY,SAAUC,GACxB,IAAIx1D,EAAQ60D,GAAW9+D,GAAQy/D,GAAW,EAAG,IAM7C,OALAxsG,EAAK06D,GAAc8xC,EAAU,OAAO,SAAUnxD,EAAIroG,GAChDgtD,EAAK06D,GAAcrf,EAAI,UAAU,SAAUF,EAAI3lG,IAjFrC,SAAUwhG,EAAOxhG,EAAGxC,EAAGqoG,EAAIF,GAIvC,IAHA,IAAIsxD,EAAUT,GAAQ7wD,EAAI,WACtBuxD,EAAUV,GAAQ7wD,EAAI,WACtB69C,EAAOhiD,EAAMgiD,KACR2T,EAAK35J,EAAG25J,EAAK35J,EAAIy5J,EAASE,IAAM,CAClC3T,EAAK2T,KACR3T,EAAK2T,GAAMb,GAASp5C,GAAKrX,GAAK,KAEhC,IAAK,IAAIuxD,EAAKp3J,EAAGo3J,EAAKp3J,EAAIk3J,EAASE,IACrB5T,EAAK2T,GAAIhU,MACfiU,GAAMD,IAAO35J,GAAK45J,IAAOp3J,EAAI2lG,EAAKpO,GAAQoO,IAwEhD0xD,CAAQ71D,EA/DG,SAAUA,EAAOxhG,EAAGxC,GACnC,KAAOi5J,GAAWj1D,EAAOxhG,EAAGxC,IAC1BwC,IAEF,OAAOA,EA2DYs3J,CAAW91D,EAAOxhG,EAAGxC,GAAIA,EAAGqoG,EAAIF,SAG5C0wD,GAAW70D,EAAMnhG,QAASq2J,GAASl1D,EAAMgiD,MAAOhiD,EAAMgiD,OAE3D+T,GAAQ,SAAU/1D,GACpB,OA9BmB,SAAUA,EAAOgiD,GACpC,IAAIgU,EAAejgE,GAAQiK,EAAMnhG,SAC7Bo3J,EAAYn2E,GAAaI,QAAQ,SAGrC,OAFAuD,GAASwyE,EAAWjU,GACpB7hH,GAAO61H,EAAcC,GACdD,EAyBAE,CAAel2D,EAvBC,SAAUA,GACjC,OAAO3jG,EAAI2jG,EAAMgiD,MAAM,SAAUmT,GAC/B,IAAIxT,EAAQtlJ,EAAI84J,EAAIxT,OAAO,SAAUf,GACnC,IAAIz8C,EAAKuX,GAAKklC,GAGd,OAFA35D,GAASkd,EAAI,WACbld,GAASkd,EAAI,WACNA,KAELE,EAAKtO,GAAQo/D,EAAIt2J,SAErB,OADA4kF,GAAS4gB,EAAIs9C,GACNt9C,KAaoB8xD,CAAmBn2D,KAE9Co2D,GAAa,SAAUp2D,EAAOwqC,EAAcC,GAC9C,OAAO2qB,GAAep1D,EAAOwqC,GAAclyI,MAAK,SAAU48H,GACxD,OAAOkgC,GAAep1D,EAAOyqC,GAAYpuI,KAAI,SAAUsW,GACrD,OAzCS,SAAUqtF,EAAOk1B,EAAUviH,GACxC,IAAIw2C,EAAK+rE,EAAS12H,EAAG4qD,EAAK8rE,EAASl5H,EAC/B8vF,EAAKn5E,EAAOnU,EAAGyrD,EAAKt3C,EAAO3W,EAC3Bs5J,EAAUlsG,EAAKa,EAAKorG,GAAYr1D,EAAO72C,EAAIC,EAAI0iC,EAAI7hC,GAAMorG,GAAYr1D,EAAO72C,EAAIc,EAAI6hC,EAAI1iC,GAC5F,OAAOyrG,GAAW70D,EAAMnhG,QAASq2J,GAASI,GAAUA,GAqCzCe,CAASr2D,EAAOk1B,EAAUviH,UAUnC2jJ,GAA+B,SAAU3xD,EAASqf,GACpD,OAAOn/G,EAAK8/F,GAAS,SAAU7c,GAC7B,MAAqB,OAAd19E,GAAK09E,IAAiB21C,GAAuB31C,EAAKk8B,MACxD7vC,KAAKf,EAAS,KAAK,SAAUmjF,GAC9B,OAT0B,SAAU5xD,GACtC,OAAO9/F,EAAK8/F,GAAS,SAAU7c,GAC7B,MAAqB,OAAd19E,GAAK09E,IAA+B,OAAd19E,GAAK09E,MAO3B0uE,CAAwB7xD,GAAStoG,KAAI,SAAUo6J,GACpD,IAAIC,EAAU52E,GAAaI,QAAQ91E,GAAKqsJ,IACpCE,EAAa5/E,GAASyQ,GAAUivE,IAAW,SAAUG,EAAQxsJ,GAC/D,OAAO3L,GAAW2L,EAAM,iBAG1B,OADA88E,GAASwvE,EAASC,GACX,CACL72E,GAAaI,QAAQ,MACrBw2E,MAEDniF,MAAM,QAsBTsiF,GAAkB,SAAUjhE,EAAUouB,GACxC,IAAI8yC,EAAwBh3E,GAAaF,QAAQokC,EAAIwgC,yBACjD7/C,EAAUq2C,GAAe8b,EAAuBlhE,GAChDmhE,EAAe7hJ,EAAOyvF,GAAS,SAAU7c,GAC3C,OAAO2O,GAAS3O,IAAQyO,GAAUzO,MAEhCkvE,EAAeV,GAA6B3xD,EAASqf,GACrDizC,EAAcF,EAAarwI,OAAOswI,EAAah9J,OAASg9J,EAnBrC,SAAUF,GACjC,OAAIjgE,GAAWigE,GACNrhG,GAAOqhG,GAAuB5hJ,OAAO0hF,IAAQziB,KAAKf,EAAS,KAAK,SAAUsjF,GAC/E,MAAO,CACLI,EACAJ,MAIG9/D,GAAOkgE,GAAyB,CAACA,GAAyB,GAUQI,CAAmBJ,IAC9F,OAAOz6J,EAAI46J,EAAalhE,KAEtBohE,GAAgB,WAClB,OAAOvC,GAAa,KAElBwC,GAAuB,SAAUxhE,EAAUouB,GAC7C,OAjCqBqzC,EAiCPv3E,GAAaF,QAAQokC,EAAImiC,iBAjCR9rC,EAiC0Bw8C,GAAgBjhE,EAAUouB,GAhC/EszC,EAAUzhF,EAAMwkC,GAAM,SAAUzkC,EAAKkS,GAEvC,OADA3nD,GAAO2nD,EAAKlS,GACLkS,IACNuvE,GACIh9C,EAAKrgH,OAAS,EAAI46J,GAAa,CAAC0C,IAAYA,EALxC,IAAUD,EAAUh9C,EAC3Bi9C,GAqCFC,GAAmB,SAAU3hE,EAAU4hE,GACzC,OAJ6BxvE,EAIP4N,EAJgBgrD,EAIN4W,EAAmB,GAH5CzlE,GAAW6uD,EAAM,QAASttE,EAAM2N,GAAM+G,KAGU1vF,MAAK,SAAUk9J,GACpE,IAAIiC,EAAYD,EAAmB,GAC/BE,EAAWF,EAAmBA,EAAmBx9J,OAAS,GAC1D29J,EAAiBpC,GAAUC,GAC/B,OAAOY,GAAWuB,EAAgBF,EAAWC,GAAUr7J,KAAI,SAAUu7J,GACnE,OAAOhD,GAAa,CAACmB,GAAM6B,WAE5BpjF,WAAW2iF,IAXK,IAAUnvE,EAAS44D,GAgBpCiX,GAAS,SAAUjiE,EAAUknC,GAC/B,IAAIM,EAAgBD,GAA4BL,EAAQlnC,GACxD,OAAOwnC,EAAcpjI,OAAS,EAAIu9J,GAAiB3hE,EAAUwnC,GALpC,SAAUxnC,EAAUknC,GAC7C,OAAOA,EAAO9iI,OAAS,GAAK8iI,EAAO,GAAG9P,UAAYmqC,KAAkBC,GAAqBxhE,EAAUknC,EAAO,IAI5Bg7B,CAAqBliE,EAAUknC,IAM3Gi7B,GAA0B,SAAU9qG,EAAMjjD,GAC5C,OAAOA,GAAS,GAAKA,EAAQijD,EAAKjzD,QAAUs+H,GAAerrE,EAAKljD,OAAOC,KAErEguJ,GAAe,SAAUC,EAAKC,GAChC,IAAIjrG,EAAOmqC,GAAO6gE,EAAIpnH,WACtB,OAAOqnH,EARwB,SAAUjrG,GACzC,OAAOA,EAAKlyD,QAAQ,kBAAmB,IAOnBo9J,CAA2BlrG,GAAQA,GA8CrDmrG,GAA6B,SAAUplE,EAAQ8mC,EAAQn5F,GAQzD,QAPa,IAATA,IACFA,EAAO,IAETA,EAAK5oC,KAAM,EACX4oC,EAAKm5F,OAASA,EACdn5F,EAAKsjF,WAAY,GACjBtjF,EAAOqyD,EAAOn0B,KAAK,mBAAoBl+B,IAC9B4oE,qBAEP,OADAvW,EAAOn0B,KAAK,aAAcl+B,GACnBA,EAAKvZ,QAEd,GAAoB,SAAhBuZ,EAAKm5F,OACP,OApDiB,SAAU9mC,GAC7B,OAAO3d,EAASt8E,KAAKi6F,EAAOixB,UAAUC,UAAU7nH,KAAI,SAAU2nH,GAC5D,IAAIq0C,EAAiBhjF,EAASt8E,KAAKi6F,EAAOnT,IAAIm8B,UAAUgI,EAAIwgC,wBAAyBxxD,EAAOnT,IAAI2W,UAC5FtuF,EAAO8qF,EAAOmxB,UACdm0C,EATiB,SAAUD,GACjC,OAAOA,EAAeh8J,KAAI,SAAU2xH,GAClC,OAAOA,EAAMt5E,YACZ6/B,MAAM,OAAO/3E,cAMQ+7J,CAAmBF,GACrCG,EAAmB76E,GAAIrE,QAAQuB,QAA8B,QAApBy9E,EACzCL,EAAMjlE,EAAOnT,IAAI96E,IAAImD,EAAMowJ,EAAiB,CAC9C,iBAAkB,MAClB,MAAS,iCACRt0C,EAAImiC,iBACHl5F,EAAO+qG,GAAaC,EAAKO,GACzBC,EAAkBrhE,GAAO6gE,EAAIrnH,aAEjC,GADAoiD,EAAOnT,IAAIt6E,OAAO0yJ,GACdF,GAAwBU,EAAiB,IAAMV,GAAwBU,EAAiBA,EAAgBz+J,OAAS,GAAI,CACvH,IAAIgmJ,EAAcqY,EAAe9jF,MAAMrsE,GACnCwwJ,EAAkBV,GAAahY,EAAawY,GAC5CG,EAAYD,EAAgBjwJ,QAAQwkD,GACxC,OAAmB,IAAf0rG,EACK1rG,GAEkB8qG,GAAwBW,EAAiBC,EAAY,GAEjD,IAAM,IAAM1rG,GADlB8qG,GAAwBW,EAAiBC,EAAY1rG,EAAKjzD,QACb,IAAM,IAG5E,OAAOizD,KAERsnB,MAAM,IAyBAqkF,CAAe5lE,GAEtBryD,EAAK+1G,UAAW,EAChB,IAAItvH,EA1BmB,SAAU4rE,EAAQryD,GAC3C,IAAIqjF,EAAMhxB,EAAOixB,UAAUC,SAAU20C,EAAS7lE,EAAOnT,IAAIxnF,OAAO,QAC5D8lE,EAAM60B,EAAOixB,UAAUqZ,SACvBR,EAASgU,GAAc99C,EAAQ6pC,GAAU1+D,IACzC52B,EAAW5G,EAAKm4H,WAAajB,GAAO/3E,GAAaF,QAAQoT,EAAOmxB,WAAY2Y,GAAQj9C,IAAMmkC,EAAImiC,gBAIlG,OAHI5+G,GACFsxH,EAAO3zJ,YAAYqiC,GAEdyrD,EAAOixB,UAAUwB,WAAWzmF,UAAU65H,EAAQl4H,GAkBrCo4H,CAAqB/lE,EAAQryD,GAC3C,MAAoB,SAAhBA,EAAKm5F,OACA1yG,GAEPuZ,EAAKvZ,QAAU4rE,EAAOixB,UAAU0I,cAAgB,GAAKvlG,EACrD4rE,EAAOn0B,KAAK,aAAcl+B,GACnBA,EAAKvZ,UA0Hd4xI,GAAe,SAAUlxE,GAC3B,OAAItC,GAAYsC,GACPA,EAAItZ,UACFyX,GAAS6B,GACX6V,GAASJ,UAAUzV,EAAI7jE,MAAM,GAC3BiiE,GAAY4B,GACd,UAASA,EAAI7jE,KAAO,SAEtB,IAcLg1I,GAAW,SAAUnxE,EAAK/gE,EAAM/c,GAClC,IAAIu9B,EAbiB,SAAUxgB,GAC/B,IAAI2rB,EACAzxC,EAAY3H,SAASC,cAAc,OACnCm8G,EAAOp8G,SAASq8G,yBAIpB,IAHI5uF,IACF9lB,EAAUzH,UAAYutB,GAEjB2rB,EAAOzxC,EAAUyhF,YACtBgzB,EAAKxwG,YAAYwtC,GAEnB,OAAOgjE,EAGQwjD,CAAiBnyI,GAChC,GAAI+gE,EAAI7H,iBAAmBj2E,EAAQ89E,EAAI5/B,WAAWluD,OAAQ,CACxD,IAAIG,EAAS2tF,EAAI5/B,WAAWl+C,GAC5B7P,EAAOqL,WAAWF,aAAaiiC,EAAUptC,QAEzC2tF,EAAI5iF,YAAYqiC,IA2BhB5f,GAAQ,SAAUwxI,EAAWrxE,GAC/B,IA5KmB5oF,EAAMsB,EACrB8sB,EACA8rI,EACAC,EAQAC,EAwCAC,EAOAC,EAqDAv5D,EA6DAw5D,EAAmBp9J,EAAIg6E,GAAOyR,EAAI5/B,YAAa8wG,IAEnD,OArBc,SAAUzqD,EAAMzmB,GAC9B,IAAI99E,EAAQ,EACZg/C,EAAKulD,GAAM,SAAU00C,GA5JZ,IA6JHA,EAAO,GACTj5I,IA9JiB,IA+JRi5I,EAAO,IAChBgW,GAASnxE,EAAKm7D,EAAO,GAAIj5I,GACzBA,KAjK6B,IAkKpBi5I,EAAO,IAdP,SAAUn7D,EAAK99E,GAC5B,GAAI89E,EAAI7H,iBAAmBj2E,EAAQ89E,EAAI5/B,WAAWluD,OAAQ,CACxD,IAAIG,EAAS2tF,EAAI5/B,WAAWl+C,GAC5B7P,EAAOqL,WAAWJ,YAAYjL,IAY5Bu/J,CAAS5xE,EAAK99E,MAWlB2vJ,EA7KyBn5J,EA6KQ24J,EA5K7B7rI,GADepuB,EA6KJu6J,GA5KCz/J,OAASwG,EAAMxG,OAAS,EACpCo/J,EAAQ,IAAItgK,MAAMw0B,GAClB+rI,EAAM,IAAIvgK,MAAMw0B,GAQhBgsI,EAAc,SAAUM,EAAQC,EAAMC,EAAQC,EAAM95D,GACtD,IAAI5/F,EAASm5J,EAAeI,EAAQC,EAAMC,EAAQC,GAClD,GAAe,OAAX15J,GAAmBA,EAAOD,QAAUy5J,GAAQx5J,EAAO25J,OAASH,EAAOE,GAAQ15J,EAAOC,MAAQs5J,GAAUv5J,EAAO25J,OAASJ,EAASE,EAG/H,IAFA,IAAIxiK,EAAIsiK,EACJjpJ,EAAImpJ,EACDxiK,EAAIuiK,GAAQlpJ,EAAIopJ,GACjBziK,EAAIuiK,GAAQlpJ,EAAIopJ,GAAQ76J,EAAK5H,KAAOkJ,EAAMmQ,IAC5CsvF,EAAOnmG,KAAK,CAnBX,EAqBCoF,EAAK5H,OAELA,IACAqZ,GAEEkpJ,EAAOD,EAASG,EAAOD,GACzB75D,EAAOnmG,KAAK,CA3BW,EA6BrBoF,EAAK5H,OAELA,IAEF2oG,EAAOnmG,KAAK,CAjCD,EAmCT0G,EAAMmQ,OAENA,OAIH,CACL2oJ,EAAYM,EAAQv5J,EAAOD,MAAO05J,EAAQz5J,EAAOD,MAAQC,EAAO25J,KAAM/5D,GACtE,IAAK,IAAIg6D,EAAK55J,EAAOD,MAAO65J,EAAK55J,EAAOC,MAAO25J,EAC7Ch6D,EAAOnmG,KAAK,CA5CT,EA8CDoF,EAAK+6J,KAGTX,EAAYj5J,EAAOC,IAAKu5J,EAAMx5J,EAAOC,IAAMD,EAAO25J,KAAMD,EAAM95D,KAG9Ds5D,EAAa,SAAUn5J,EAAO45J,EAAMH,EAAME,GAE5C,IADA,IAAIz5J,EAAMF,EACHE,EAAM05J,EAAOD,GAAQz5J,EAAMu5J,GAAQ36J,EAAKoB,KAASE,EAAMF,EAAM05J,MAChE15J,EAEJ,OApDU,SAAUF,EAAOE,EAAK05J,GAChC,MAAO,CACL55J,MAAOA,EACPE,IAAKA,EACL05J,KAAMA,GAgDDE,CAAM95J,EAAOE,EAAK05J,IAEvBR,EAAiB,SAAUI,EAAQC,EAAMC,EAAQC,GACnD,IAAItiK,EAAIoiK,EAAOD,EACXviK,EAAI0iK,EAAOD,EACf,GAAU,IAANriK,GAAiB,IAANJ,EACb,OAAO,KAET,IAKIM,EAAGiG,EAAGtG,EAAGkH,EAAGxC,EALZmyB,EAAQ12B,EAAIJ,EACZ8iK,EAAM9iK,EAAII,EACV2Z,GAAU+oJ,EAAM,GAAM,EAAIA,EAAMA,EAAM,GAAK,EAI/C,IAHAf,EAAM,EAAIhoJ,GAAUwoJ,EACpBP,EAAI,EAAIjoJ,GAAUyoJ,EAAO,EAEpBliK,EAAI,EAAGA,GAAKyZ,IAAUzZ,EAAG,CAC5B,IAAKiG,GAAKjG,EAAGiG,GAAKjG,EAAGiG,GAAK,EAAG,CAS3B,IARAtG,EAAIsG,EAAIwT,EACJxT,KAAOjG,GAAKiG,IAAMjG,GAAKyhK,EAAM9hK,EAAI,GAAK8hK,EAAM9hK,EAAI,GAClD8hK,EAAM9hK,GAAK8hK,EAAM9hK,EAAI,GAErB8hK,EAAM9hK,GAAK8hK,EAAM9hK,EAAI,GAAK,EAG5B0E,GADAwC,EAAI46J,EAAM9hK,IACFsiK,EAASE,EAASl8J,EACnBY,EAAIq7J,GAAQ79J,EAAI+9J,GAAQ76J,EAAKV,KAAOgC,EAAMxE,IAC/Co9J,EAAM9hK,KAAOkH,IACXxC,EAEJ,GAAImyB,EAAQ,GAAM,GAAKA,EAAQx2B,GAAKiG,GAAKA,GAAKuwB,EAAQx2B,GAChD0hK,EAAI/hK,EAAI62B,IAAUirI,EAAM9hK,GAC1B,OAAOiiK,EAAWF,EAAI/hK,EAAI62B,GAAQvwB,EAAIg8J,EAASE,EAAQD,EAAME,GAInE,IAAKn8J,EAAIuwB,EAAQx2B,EAAGiG,GAAKuwB,EAAQx2B,EAAGiG,GAAK,EAAG,CAS1C,IARAtG,EAAIsG,EAAIwT,EAAS+c,EACbvwB,IAAMuwB,EAAQx2B,GAAKiG,IAAMuwB,EAAQx2B,GAAK0hK,EAAI/hK,EAAI,IAAM+hK,EAAI/hK,EAAI,GAC9D+hK,EAAI/hK,GAAK+hK,EAAI/hK,EAAI,GAAK,EAEtB+hK,EAAI/hK,GAAK+hK,EAAI/hK,EAAI,GAGnB0E,GADAwC,EAAI66J,EAAI/hK,GAAK,GACLsiK,EAASE,EAASl8J,EACnBY,GAAKo7J,GAAU59J,GAAK89J,GAAU56J,EAAKV,KAAOgC,EAAMxE,IACrDq9J,EAAI/hK,GAAKkH,IACTxC,IAEF,GAAImyB,EAAQ,GAAM,IAAMx2B,GAAKiG,GAAKA,GAAKjG,GACjC0hK,EAAI/hK,IAAM8hK,EAAM9hK,EAAI62B,GACtB,OAAOorI,EAAWF,EAAI/hK,GAAIsG,EAAIg8J,EAASE,EAAQD,EAAME,MAM3D95D,EAAS,GACbq5D,EAAY,EAAGp6J,EAAKlF,OAAQ,EAAGwG,EAAMxG,OAAQimG,GACtCA,GA4DsCnY,GACtCA,GAGLsyE,GAAoBr6C,GAAK1qC,EAAStB,QA6BlCsmF,GAAmB,SAAUrnE,GAC/B,IAzCqBlL,EAyCjBqxE,GAzCiBrxE,EAyCEkL,EAAOmxB,UAxCvBjvG,EAAO7Y,EAAIg6E,GAAOyR,EAAI5/B,YAAa8wG,KAAe,SAAUp9G,GACjE,OAAOA,EAAK5hD,OAAS,MAwCnBsgK,EAAmBhiK,EAAK6gK,GAAW,SAAUpyI,GAC/C,IAAIwzI,EAAUvkB,GAAahjD,EAAOyyB,WAAY1+F,GAC9C,OAAOwzI,EAAQvgK,OAAS,EAAI,CAACugK,GAAW,MAEtCnzI,EAAUkzI,EAAiBl9J,KAAK,IACpC,OA3BsC,IA2BpBgqB,EA3BN3e,QAAQ,aAEM,SAAU0wJ,GACpC,MAAO,CACLh8J,KAAM,aACNg8J,UAAWA,EACX/xI,QAAS,GACTslG,SAAU,KACV8tC,eAAgB,MAmBWC,CAAsBH,GAhB3B,SAAUlzI,GAClC,MAAO,CACLjqB,KAAM,WACNg8J,UAAW,KACX/xI,QAASA,EACTslG,SAAU,KACV8tC,eAAgB,MAUqDE,CAAoBtzI,IAEzFuzI,GAAgB,SAAU3nE,EAAQ4nE,EAAOv3E,GACxB,eAAfu3E,EAAMz9J,KACRwqB,GAAMizI,EAAMzB,UAAWnmE,EAAOmxB,WAE9BnxB,EAAOx1B,WAAWo9F,EAAMxzI,QAAS,CAAE0yG,OAAQ,QAE7C9mC,EAAOixB,UAAUmJ,eAAe/pC,EAASu3E,EAAMJ,eAAiBI,EAAMluC,WAEpEmuC,GAAkB,SAAUD,GAC9B,MAAsB,eAAfA,EAAMz9J,KAAwBy9J,EAAMzB,UAAU/7J,KAAK,IAAMw9J,EAAMxzI,SAEpE0zI,GAAuB,SAAUF,GACnC,IAAI9yE,EAAMhI,GAAaI,QAAQ,OAhDxBk6E,GAAkBriK,MAAMy8E,YAAW,WACxC,IAAInoB,EAAM/yD,SAASyhK,eAAeC,mBAAmB,QAErD,OADAZ,GAAkB3rJ,IAAI4mE,EAAS5tE,KAAK4kD,IAC7BA,MAgDT,OAFA25D,GAAMl+B,EAAK+yE,GAAgBD,IAC3B5xG,EAAK06D,GAAc57B,EAAK,qBAAsBnE,IACjCmE,EA5kREjI,IAAIrmF,WAolRjByhK,GAAS,SAAUC,EAAQC,GAC7B,SAAKD,IAAWC,OAPI,SAAUD,EAAQC,GACtC,OAAON,GAAgBK,KAAYL,GAAgBM,GAQxCC,CAAgBF,EAAQC,IANR,SAAUD,EAAQC,GAC7C,OAAOL,GAAqBI,KAAYJ,GAAqBK,GAQpDE,CAAuBH,EAAQC,KAItCG,GAAa,SAAUC,GACzB,OAAuB,IAAhBA,EAAMxjK,OAGXyjK,GAAY,SAAU37B,EAAa47B,EAAQF,GACzCD,GAAWC,KACb17B,EAAY47B,OAASA,IAGrBC,GAAY,SAAU77B,EAAa07B,GACjC17B,EAAY47B,SACdD,GAAU37B,GAAa,EAAO07B,GAC9B17B,EAAY96H,QA4KZ42J,GAAmB,SAAU3oE,GAC/B,MAAO,CACL6sC,YAAa,CACX+7B,aAAc,SAAUL,EAAOf,GAC7B,OAtKW,SAAUxnE,EAAQuoE,EAAOf,GACtCc,GAAWC,IACbf,EAAe/rJ,IAAI4mE,EAAS5tE,KAAKgmH,GAAgBz6B,EAAOixB,aAoK7C23C,CAAa5oE,EAAQuoE,EAAOf,IAErCqB,aAAc,SAAUh8B,EAAa71H,EAAOuxJ,EAAOf,EAAgBI,EAAO5vH,GACxE,OApKW,SAAUgoD,EAAQ6sC,EAAa71H,EAAOuxJ,EAAOf,EAAgBI,EAAO5vH,GACrF,IAAI8wH,EAAezB,GAAiBrnE,GAGpC,GAFA4nE,EAAQA,GAAS,GACjBA,EAAQj8E,GAAMjnC,OAAOkjH,EAAOkB,IACF,IAAtBR,GAAWC,IAAoBvoE,EAAOC,QACxC,OAAO,KAET,IAAI8oE,EAAYl8B,EAAY57G,KAAKja,EAAMjS,OACvC,GAAIi7F,EAAOn0B,KAAK,gBAAiB,CAC7B+7F,MAAOA,EACPmB,UAAWA,EACX/yD,cAAeh+D,IACdu+D,qBACH,OAAO,KAET,GAAIwyD,GAAad,GAAOc,EAAWnB,GACjC,OAAO,KAEL/6B,EAAY57G,KAAKja,EAAMjS,QACzByiK,EAAeziK,MAAMixD,MAAK,SAAUgzG,GAClCn8B,EAAY57G,KAAKja,EAAMjS,OAAOyiK,eAAiBwB,KAGnD,IAAIC,EAxoPwB,SAAUjpE,GACtC,OAAOA,EAAO46B,SAAS,0BAA2B,EAAG,UAuoP1BsuC,CAAwBlpE,GACnD,GAAIipE,GACEp8B,EAAY57G,KAAKjqB,OAASiiK,EAAsB,CAClD,IAAK,IAAI3kK,EAAI,EAAGA,EAAIuoI,EAAY57G,KAAKjqB,OAAS,EAAG1C,IAC/CuoI,EAAY57G,KAAK3sB,GAAKuoI,EAAY57G,KAAK3sB,EAAI,GAE7CuoI,EAAY57G,KAAKjqB,SACjBgQ,EAAMyE,IAAIoxH,EAAY57G,KAAKjqB,QAG/B4gK,EAAMluC,SAAWe,GAAgBz6B,EAAOixB,WACpCj6G,EAAMjS,MAAQ8nI,EAAY57G,KAAKjqB,OAAS,IAC1C6lI,EAAY57G,KAAKjqB,OAASgQ,EAAMjS,MAAQ,GAE1C8nI,EAAY57G,KAAKnqB,KAAK8gK,GACtB5wJ,EAAMyE,IAAIoxH,EAAY57G,KAAKjqB,OAAS,GACpC,IAAI2mC,EAAO,CACTi6H,MAAOA,EACPmB,UAAWA,EACX/yD,cAAeh+D,GASjB,OAPIhhC,EAAMjS,MAAQ,GAChBi7F,EAAOmpE,UAAS,GAChBnpE,EAAOn0B,KAAK,UAAWl+B,GACvBqyD,EAAOn0B,KAAK,SAAUl+B,IAEtBqyD,EAAOn0B,KAAK,UAAWl+B,GAElBi6H,EAiHMiB,CAAa7oE,EAAQ6sC,EAAa71H,EAAOuxJ,EAAOf,EAAgBI,EAAO5vH,IAEhFoxH,KAAM,SAAUv8B,EAAa07B,EAAOvxJ,GAClC,OAvFG,SAAUgpF,EAAQ6sC,EAAa07B,EAAOvxJ,GAC/C,IAAI4wJ,EAaJ,OAZI/6B,EAAY47B,SACd57B,EAAY96H,MACZ86H,EAAY47B,QAAS,EACrBD,GAAU37B,GAAa,EAAO07B,IAE5BvxJ,EAAMjS,MAAQ,IAChBiS,EAAMyE,IAAIzE,EAAMjS,MAAQ,GACxB6iK,EAAQ/6B,EAAY57G,KAAKja,EAAMjS,OAC/B4iK,GAAc3nE,EAAQ4nE,GAAO,GAC7B5nE,EAAOmpE,UAAS,GAChBnpE,EAAOn0B,KAAK,OAAQ,CAAE+7F,MAAOA,KAExBA,EAyEMwB,CAAKppE,EAAQ6sC,EAAa07B,EAAOvxJ,IAE1CqyJ,KAAM,SAAUryJ,EAAOia,GACrB,OArGG,SAAU+uE,EAAQhpF,EAAOia,GAClC,IAAI22I,EAQJ,OAPI5wJ,EAAMjS,MAAQksB,EAAKjqB,OAAS,IAC9BgQ,EAAMyE,IAAIzE,EAAMjS,MAAQ,GACxB6iK,EAAQ32I,EAAKja,EAAMjS,OACnB4iK,GAAc3nE,EAAQ4nE,GAAO,GAC7B5nE,EAAOmpE,UAAS,GAChBnpE,EAAOn0B,KAAK,OAAQ,CAAE+7F,MAAOA,KAExBA,EA4FMyB,CAAKrpE,EAAQhpF,EAAOia,IAE7BhiB,MAAO,SAAU49H,EAAa71H,GAC5B,OAxHI,SAAUgpF,EAAQ6sC,EAAa71H,GACzC61H,EAAY57G,KAAO,GACnBja,EAAMyE,IAAI,GACVoxH,EAAY47B,QAAS,EACrBzoE,EAAOn0B,KAAK,cAoHC58D,CAAM+wF,EAAQ6sC,EAAa71H,IAEpCmoC,MAAO,SAAU0tF,GACf,OAhFI,SAAUA,GACpBA,EAAY59H,QACZ49H,EAAY96H,MA8ECotC,CAAM0tF,IAEfy8B,QAAS,SAAUz8B,EAAa71H,GAC9B,OA/EM,SAAUgpF,EAAQ6sC,EAAa71H,GAC3C,OAAOA,EAAMjS,MAAQ,GAAK8nI,EAAY47B,QAAU57B,EAAY57G,KAAK,KAAOg3I,GAAOZ,GAAiBrnE,GAAS6sC,EAAY57G,KAAK,IA8E7Gq4I,CAAQtpE,EAAQ6sC,EAAa71H,IAEtCuyJ,QAAS,SAAU18B,EAAa71H,GAC9B,OA/EM,SAAU61H,EAAa71H,GACnC,OAAOA,EAAMjS,MAAQ8nI,EAAY57G,KAAKjqB,OAAS,IAAM6lI,EAAY47B,OA8EpDc,CAAQ18B,EAAa71H,IAE9B81H,SAAU,SAAUD,EAAa07B,EAAO/6H,GACtC,OA/EO,SAAUq/F,EAAa07B,EAAO/6H,GAI3C,OAHAk7H,GAAU77B,EAAa07B,GACvB17B,EAAY+7B,eACZ/7B,EAAY28B,OAAOh8H,GACZq/F,EAAY96H,MA2EN+6H,CAASD,EAAa07B,EAAO/6H,IAEtCg8H,OAAQ,SAAUjB,EAAO/6H,GACvB,OA5EK,SAAU+6H,EAAO/6H,GAC5B,IACE+6H,EAAM9sJ,IAAI8sJ,EAAMxjK,MAAQ,GACxByoC,IACA,QACA+6H,EAAM9sJ,IAAI8sJ,EAAMxjK,MAAQ,IAuEbykK,CAAOjB,EAAO/6H,IAEvB3R,MAAO,SAAUgxG,EAAa71H,EAAOyyJ,EAAWC,GAC9C,OApII,SAAU1pE,EAAQ6sC,EAAa71H,EAAOyyJ,EAAWC,GAC3D,GAAI78B,EAAYC,SAAS28B,GAAY,CACnC,IAAI/vC,EAAWmT,EAAY57G,KAAKja,EAAMjS,OAAO20H,SACzCqvC,EAAYl8B,EAAY57G,KAAKja,EAAMjS,MAAQ,GAC/C4iK,GAAc3nE,EAAQ+oE,GAAW,GAC7Bl8B,EAAYC,SAAS48B,KACvB78B,EAAY57G,KAAKja,EAAMjS,MAAQ,GAAGyiK,eAAiB9tC,IA8H1C79F,CAAMmkE,EAAQ6sC,EAAa71H,EAAOyyJ,EAAWC,KAGxD1iC,UAAW,CACT59H,MAAO,SAAUgO,EAAM8uH,EAAMxmF,GAC3B,OAAOt2C,GAAM42F,EAAQ5oF,EAAM8uH,EAAMxmF,IAEnCiqH,SAAU,SAAUvzI,EAAO8vG,GACzB,OAp/DO,SAAUlmC,EAAQ5pE,EAAO8vG,GACtC,IAAI0jC,EAAqB,GACrBC,EAAa,GACbryB,EAAex3C,EAAOixB,UAAU0hB,WAUpC,OATA3yC,EAAOnT,IAAIm8B,UAAUwuB,GAAc,SAAU93F,GAC3C,IAAK,IAAIp7C,EAAI,EAAGA,EAAI8xB,EAAMpvB,OAAQ1C,IAAK,CACrC,IAAI2nF,EAAS71D,EAAM9xB,IACdulK,EAAW59E,IAAWgrE,GAAUj3D,EAAQtgD,EAAMusC,EAAQi6C,KACzD2jC,EAAW59E,IAAU,EACrB29E,EAAmB9iK,KAAKmlF,OAG3B+T,EAAOnT,IAAI25B,WACPojD,EAu+DMD,CAAS3pE,EAAQ5pE,EAAO8vG,IAEjC+wB,UAAW,SAAUv3G,EAAMtoC,EAAM8uH,EAAMmxB,GACrC,OAAOJ,GAAUj3D,EAAQtgD,EAAMtoC,EAAM8uH,EAAMmxB,IAE7CyS,SAAU,SAAU1yJ,GAClB,OA59DO,SAAU4oF,EAAQ5oF,GAC/B,IACIurF,EAAWgP,EAASrtG,EAAGkH,EAAGk3D,EAD1Bo0F,EAAa92D,EAAOgnC,UAAUjiI,IAAIqS,GAElCy1E,EAAMmT,EAAOnT,IACjB,GAAIiqE,EAGF,IAFAn0D,EAAY3C,EAAOixB,UAAU0hB,WAC7BhhC,EAAU60B,GAAa35C,EAAK8V,GACvBn3F,EAAIsrJ,EAAW9vJ,OAAS,EAAGwE,GAAK,EAAGA,IAAK,CAE3C,KADAk3D,EAAWo0F,EAAWtrJ,GAAGk3D,WACRo0F,EAAWtrJ,GAAGk1J,aAC7B,OAAO,EAET,IAAKp8J,EAAIqtG,EAAQ3qG,OAAS,EAAG1C,GAAK,EAAGA,IACnC,GAAIuoF,EAAIxL,GAAGswB,EAAQrtG,GAAIo+D,GACrB,OAAO,EAKf,OAAO,EAy8DMonG,CAAS9pE,EAAQ5oF,IAE1BynF,QAAS,SAAUzoE,GACjB,OAAOmhI,GAAUv3D,EAAQ5pE,IAE3BxT,MAAO,SAAUxL,EAAM8uH,EAAMxmF,GAC3B,OAAO6+G,GAAYv+D,EAAQ5oF,EAAM8uH,EAAMxmF,IAEzCntC,OAAQ,SAAU6E,EAAM8uH,EAAMxmF,EAAM23G,GAClC,OAAO8F,GAASn9D,EAAQ5oF,EAAM8uH,EAAMxmF,EAAM23G,IAE5C10F,OAAQ,SAAUvrD,EAAM8uH,EAAMxmF,GAC5B,OAvxBK,SAAUsgD,EAAQ5oF,EAAM8uH,EAAMxmF,GACzC,IAAI++G,EAAMz+D,EAAOgnC,UAAUjiI,IAAIqS,IAC3BhO,GAAM42F,EAAQ5oF,EAAM8uH,EAAMxmF,IAAY,WAAY++G,EAAI,KAAOA,EAAI,GAAG97F,OAGtE47F,GAAYv+D,EAAQ5oF,EAAM8uH,EAAMxmF,GAFhCy9G,GAASn9D,EAAQ5oF,EAAM8uH,EAAMxmF,GAoxBlBijB,CAAOq9B,EAAQ5oF,EAAM8uH,EAAMxmF,IAEpCqqH,cAAe,SAAUzI,EAA2BC,EAAS/zH,EAAU6pH,GACrE,OAAOgK,GAAsBrhE,EAAQshE,EAA2BC,EAAS/zH,EAAU6pH,KAGvFr3D,OAAQ,CACN1gC,WAAY,SAAU3xB,EAAMm5F,GAC1B,OAnuHiB,SAAU9mC,EAAQryD,EAAMm5F,GAC/C,OAAOzkD,EAASt8E,KAAKi6F,EAAOmxB,WAAWhwC,KAAKf,EAAyB,SAAhBzyC,EAAKm5F,OAAoB,IAAIoX,GAAQ,OAAQ,IAAM,KAAK,SAAUhpI,GACrH,OAAOuuI,GAAmBzjD,EAAQryD,EAAMm5F,EAAQ5xH,MAiuHrC80J,CAAmBhqE,EAAQryD,EAAMm5F,IAE1Ct8D,WAAY,SAAUp2C,EAASuZ,GAC7B,OAAOooH,GAAmB/1D,EAAQ5rE,EAASuZ,IAE7Cs8H,cAAe,SAAU9kK,EAAOuuJ,GAC9B,OAAOD,GAAkBzzD,EAAQ76F,EAAOuuJ,IAE1CyB,UAAW,SAAUrgE,GACnB,OAjHgB,SAAUkL,EAAQlL,GACxC,IAAIjI,EAAMmT,EAAOnT,IACbG,EAAQnN,EAAciV,GAAOA,EAAMkL,EAAOmxB,UAC1CxxC,EAAYqgB,EAAOkqE,aACrBlqE,EAAOkqE,UAztPe,SAAUlqE,GAClC,OAAOA,EAAO46B,SAAS,UAAU,EAAM,WAwtPlBuvC,CAAoBnqE,IAEzChqC,EAAK62B,EAAI7oB,OAAO,UAAWgpB,IAAQ,SAAUo9E,GAC3C,OAAQA,EAAW1oH,UACnB,IAAK,QACH,IAAIumE,EA3tPoB,SAAUjoB,GACtC,OAAOA,EAAO46B,SAAS,qBAAsB,iBAAkB,UA0tPjDyvC,CAAwBrqE,GAC9B76F,EAAQ0nF,EAAI65B,UAAU0jD,EAAY,UAChCjlK,GAAmB,MAAVA,IAAkB66F,EAAOkqE,UAGtCr9E,EAAIxqB,YAAY+nG,EAAYniD,GAF5Bp7B,EAAI/xB,SAASsvG,EAAYniD,GAI3B,MACF,IAAK,IACH,IAAKp7B,EAAI65B,UAAU0jD,EAAY,QAAS,CACtC,IAAIE,EAAUz9E,EAAI65B,UAAU0jD,EAAY,SAAWA,EAAWjqI,GAC1DoqI,EAnuPmB,SAAUvqE,GACvC,OAAOA,EAAO46B,SAAS,sBAAuB,kBAAmB,UAkuP/C4vC,CAAyBxqE,GACjCsqE,GAAWtqE,EAAOkqE,UACpBr9E,EAAI/xB,SAASsvG,EAAYG,GAEzB19E,EAAIxqB,YAAY+nG,EAAYG,QAMpCvqE,EAAOn0B,KAAK,YAAa,CACvBhgE,QAASipF,EACTo1E,UAAWlqE,EAAOkqE,YAiFPO,CAAkBzqE,EAAQlL,KAGrCm8B,UAAW,CACT3xD,WAAY,SAAUwnE,EAAQn5F,GAC5B,OAAOy3H,GAA2BplE,EAAQ8mC,EAAQn5F,KAGtD4mD,IAAK,CACHm2E,SAAU,WACR,OAAOroF,EAAStB,WAmIpB4pF,GAAQ,SAAU3qE,GACpB,OAAOloF,GAAIkoF,EAAO4qE,QAAS,QAOzBC,GAAU,SAAU7qE,GACtB,IAAI8qE,EAAa9qE,EACjB,OAPgB,SAAUA,GAC1B,OAAO/b,GAAM+b,EAAO4qE,QAAS,OAAOtlK,MAAK,SAAUylK,GACjD,OAAO1oF,EAASt8E,KAAKglK,EAAU7wG,UAK1B8wG,CAAYhrE,GAAQ7e,MAAK,WAE9B,OADA2pF,EAAWG,YAActC,GAAiB3oE,GACnC3d,EAAStB,UACf,SAAU7mB,GACX,OAAOmoB,EAAS5tE,KAAKylD,IAAQ4R,MAAK,SAAUo/F,GAE1C,OADAJ,EAAWG,YA7II,SAAUC,GAC7B,IAAIC,EAAc,SAAUjlC,GAC1B,OAAO3vH,EAAS2vH,GAAQA,EAAO,IAE7BklC,EAAczqF,EAAI,iCAClBksD,EAAcq+B,EAAUr+B,YAAa7F,EAAYkkC,EAAUlkC,UAAWhnC,EAASkrE,EAAUlrE,OAAQixB,EAAYi6C,EAAUj6C,UAAW18B,EAAM22E,EAAU32E,IAEtJ,MAAO,CACLs4C,YAAa,CACX+7B,aAHS5oF,EAIT6oF,aAAcuC,EACdhC,KAAM,WACJ,OAAOv8B,EAAYu8B,QAErBC,KAAM,WACJ,OAAOx8B,EAAYw8B,QAErBp6J,MAAO,WACL,OAAO49H,EAAY59H,SAErBkwC,MAAO,WACL,OAAO0tF,EAAY1tF,SAErBmqH,QAAS,WACP,OAAOz8B,EAAYy8B,WAErBC,QAAS,WACP,OAAO18B,EAAY08B,WAErBz8B,SAAU,SAAUu+B,EAAcC,EAAQtnJ,GACxC,OAAO6oH,EAAYC,SAAS9oH,IAE9BwlJ,OAAQ,SAAU8B,EAAQ99H,GACxB,OAAOq/F,EAAY28B,OAAOh8H,IAE5B3R,MAAO,SAAUwvI,EAAcE,EAAQ9B,EAAWC,GAChD,OAAO78B,EAAYhxG,MAAM4tI,EAAWC,KAGxC1iC,UAAW,CACT59H,MAAO,SAAUgO,EAAM8uH,EAAMslC,GAC3B,OAAOxkC,EAAU59H,MAAMgO,EAAM+zJ,EAAYjlC,KAE3CyjC,SAAUyB,EACVnU,UAAWmU,EACXtB,SAAU,SAAU1yJ,GAClB,OAAO4vH,EAAU8iC,SAAS1yJ,IAE5BynF,QAAS,SAAUzoE,GACjB,OAAO4wG,EAAUnoC,QAAQzoE,IAE3BxT,MAAO,SAAUxL,EAAM8uH,EAAMslC,GAC3B,OAAOxkC,EAAUpkH,MAAMxL,EAAM+zJ,EAAYjlC,KAE3C3zH,OAAQ,SAAU6E,EAAM8uH,EAAMslC,EAAOC,GACnC,OAAOzkC,EAAUz0H,OAAO6E,EAAM+zJ,EAAYjlC,KAE5CvjE,OAAQ,SAAUvrD,EAAM8uH,EAAMslC,GAC5B,OAAOxkC,EAAUrkE,OAAOvrD,EAAM+zJ,EAAYjlC,KAE5C6jC,cAAe,SAAU2B,EAAMnK,EAAS/zH,EAAU6pH,GAChD,OAAOrwB,EAAU+iC,cAAcxI,EAAS/zH,EAAU6pH,KAGtDr3D,OAAQ,CACN1gC,WAAY,SAAU3xB,EAAMg+H,GAC1B,OAAO3rE,EAAO1gC,WAAW3xB,IAE3B68B,WAAY,SAAUp2C,EAASuZ,GAC7B,OAAOqyD,EAAOx1B,WAAWp2C,EAASuZ,IAEpCs8H,cAAe,SAAU71I,EAASw3I,GAChC,OAAO5rE,EAAOiqE,cAAc71I,IAE9B+gI,UApESn1E,GAsEXixC,UAAW,CACT3xD,WAAY,SAAUqsG,EAASh+H,GAC7B,OAAOsjF,EAAU3xD,WAAW3xB,KAGhC4mD,IAAK,CACHm2E,SAAU,WACR,OAAOroF,EAAS5tE,KAAK8/E,EAAIs3E,kBA0DFC,CAAeZ,GACjCA,EAAUa,IAAIC,YACpB,SAAU/0H,GAEX,OADA6zH,EAAWG,YAxDK,WACpB,IAAIgB,EAAM7rF,EAAS,MACfxkB,EAAQwkB,EAAS,IACrB,MAAO,CACLysD,YAAa,CACX+7B,aAAc5oF,EACd6oF,aAAcoD,EACd7C,KAAM6C,EACN5C,KAAM4C,EACNh9J,MAAO+wE,EACP7gC,MAAO6gC,EACPspF,QAASzoF,EACT0oF,QAAS1oF,EACTisD,SAAUm/B,EACVzC,OAAQxpF,EACRnkD,MAAOmkD,GAETgnD,UAAW,CACT59H,MAAOy3E,EACP8oF,SAAUvpF,EAAS,IACnB62E,UAAWp2E,EACXipF,SAAUjpF,EACVge,QAASjjC,EACTh5C,MAAOo9D,EACPztE,OAAQytE,EACRrd,OAAQqd,EACR+pF,cAAe3pF,EAAS,CAAE23B,OAAQ/3B,KAEpCggB,OAAQ,CACN1gC,WAAY1D,EACZ4O,WAAY5O,EACZquG,cAAejqF,EACfm1E,UAAWn1E,GAEbixC,UAAW,CAAE3xD,WAAY1D,GACzB24B,IAAK,CAAEm2E,SAAUtqF,EAASiC,EAAStB,UAqBRmrF,GAClB/sE,GAAW1G,OAAOxhD,WAI3Bk1H,GAA6B,SAAUnsE,GACzC,OAAOA,EAAOirE,YAAcjrE,EAAOirE,YAActC,GAAiB3oE,IAEhEosE,GAA0B,SAAUpsE,GACtC,IAAIirE,EAAcjrE,EAAOirE,YACzB,GAAKA,EAGH,OAAOA,EAFP,MAAM,IAAIj9J,MAAM,oDAoFhBq+J,GAAe,SAAUrsE,EAAQryD,GAKnC,YAJa,IAATA,IACFA,EAAO,IATc,SAAUqyD,EAAQ8mC,EAAQn5F,GACjD,OAAOy+H,GAAwBpsE,GAAQixB,UAAU3xD,WAAWwnE,EAAQn5F,GAW7D2+H,CAAmBtsE,EADbryD,EAAKm5F,OAASn5F,EAAKm5F,OAAS,OACCn5F,IAGxC2hE,GAAc,SAAUr1C,GAC1B,OAAwB,IAApBA,EAAK4yB,IAAI7lF,QACXuL,GAAO0nD,GACAooB,EAAStB,QAETsB,EAAS5tE,KAAKwlD,IA8BrBsyG,GAAwB,SAAUC,EAAWpqC,EAAWpR,EAAK5jH,GAC/Do/J,EAAUlnK,MAAK,SAAUmnK,GAGvB,OAFiBr/J,EAAQ+9I,GAA4BF,IAC1CwhB,EAAM5/E,IAAKz/E,EAAQq/J,EAAM5/E,IAAI7lF,OAAS,GAC1Co7H,EAAUlgH,OAAO2sE,IAAQxlF,KAAI,SAAUk8I,GAC5C,OA3BM,SAAUknB,EAAOlnB,EAAOv0B,EAAK5jH,GACvC,IAAIs/J,EAAWD,EAAM5/E,IACjBw3E,EAAW9e,EAAM14D,IACjB8/E,EAAYv/J,EAAQs/J,EAAS1lK,OAASq9J,EAASr9J,OAC/CoG,GACFg+I,GAAeshB,EAAUrI,GAAU,GAAQj3J,GAC3C4jH,EAAI/F,SAASo5C,EAAUsI,KAEvBvhB,GAAeiZ,EAAUqI,GAAU,GAAQt/J,GAC3C4jH,EAAI9F,OAAOm5C,EAAUsI,IAkBZ9Y,CAAM4Y,EAAOlnB,EAAOv0B,EAAK5jH,SAEjCy0E,SAAQ,WAET,OApCmB,SAAUniC,EAAMtyC,GACrC,OAAOsyC,EAAKx9B,QAAO,SAAU4yE,GAC3B,OAAO44C,GAAgBnmC,eAAezS,EAAIjI,QACzCvnF,KAAK8H,EAAQiF,GAAcg9E,IAgCRu9E,CAAiBxqC,EAAWh1H,GAAOw0E,GAAGwgD,GAAWlgH,OAAO2sE,IACvDxlF,KAAI,SAAUk8I,GACjC,OApBwB,SAAUA,EAAOn4I,GAC7Cq1D,GAAO8iF,GAAOvvF,MAAK,SAAU7jD,GAC3B,IAAI8nD,EAAOsrF,EAAM14D,IACbz/E,GAASw8I,GAAkBz3I,EAAM8kH,GAAch9D,EAAM,IACvDgxF,GAAyBhxF,EAAM,IACrB7sD,GAASy8I,GAAmB13I,EAAM8kH,GAAch9D,EAAMA,EAAKjzD,UACrEmkJ,GAA0BlxF,EAAMA,EAAKjzD,WAc9B6lK,CAAwBtnB,EAAOn4I,UAoCxC0/J,GAAe,SAAU9sE,EAAQ5rE,EAASuZ,QAC/B,IAATA,IACFA,EAAO,IAET,IAAIo/H,EAzBU,SAAUp/H,EAAMvZ,GAC9B,OAAO4wD,GAASA,GAAS,CAAE8hD,OAAQ,QAAUn5F,GAAO,CAClDlyB,KAAK,EACLw1G,WAAW,EACX78F,QAASA,IAqBO44I,CAAUr/H,EAAMvZ,GAClC,GAAK24I,EAAYppB,aACfopB,EAAc/sE,EAAOn0B,KAAK,mBAAoBkhG,IAC9Bx2D,qBAFlB,CAOA5oE,EAAKvZ,QA1BY,SAAU4rE,EAAQryD,GACnC,GAAoB,QAAhBA,EAAKm5F,OAAkB,CACzB,IAAI9V,EAAMhxB,EAAOixB,UAAUC,SACvB+7C,EAAejtE,EAAOnT,IAAIm8B,UAAUgI,EAAIwgC,wBAAyBxxD,EAAOnT,IAAI2W,SAC5E0pE,EAAcD,EAAe,CAAExyD,QAASwyD,EAAavrH,SAASl4C,eAAkB,GAChFk2C,EAAOsgD,EAAO4zD,OAAOnhG,MAAM9kB,EAAKvZ,QAAS4wD,GAASA,GAAS,CAC7DqxE,eAAe,EACfoK,mBAAmB,GAClByM,GAAcv/H,IACjB,OAAOm3G,GAAe,CAAErK,SAAUz6C,EAAOy6C,UAAYz6C,EAAO0M,QAAQ1gE,UAAU0T,GAE9E,OAAO/R,EAAKvZ,QAeC+4I,CAAantE,EAAQ+sE,GACpC,IAAI/7C,EAAMhxB,EAAOixB,UAAUC,UA7CT,SAAUF,EAAKz8E,GACjC,IAAIm7C,EAAarN,EAASt8E,KAAKwuC,EAASm7C,YAAYrmF,IAAIyjF,GAAaF,SACjE+C,EAAYtN,EAASt8E,KAAKwuC,EAASo7C,WAAWtmF,IAAIyjF,GAAaF,SACnEokC,EAAIy+B,iBACJz+B,EAAI6G,WAAWtjF,GACf,IAAI64H,EAAW19E,EAAWpqF,KAAK+pF,IAAantE,OAAO2sE,IAAQvpF,KAAKgqG,IAC5D+9D,EAAW19E,EAAUrqF,KAAK+M,IAAa6P,OAAO2sE,IAAQvpF,KAAKgqG,IAC/Di9D,GAAsBa,EAAU19E,EAAYshC,GAAK,GACjDu7C,GAAsBc,EAAU19E,EAAWqhC,GAAK,GAChDA,EAAIkD,UAAS,GAqCbo5C,CAAct8C,EAAKA,EAAIu8C,yBAAyB5/H,EAAKvZ,UACrD4rE,EAAOixB,UAAUiU,OAAOlU,GACxB0nB,GAAoB14C,EAAQgxB,GACvB+7C,EAAYppB,WACf3jD,EAAOn0B,KAAK,aAAckhG,QAVxB/sE,EAAOn0B,KAAK,aAAckhG,IAc5BS,GAAwB,SAAU37C,EAAanvD,EAAUl1B,GAC3D,GAAIqkF,GAAeA,EAAYpsH,eAAei9D,GAAW,CACvD,IAAI+qG,EAAevrJ,EAAO2vG,EAAYnvD,IAAW,SAAU2hB,GACzD,OAAOA,IAAO72C,KAEY,IAAxBigI,EAAazmK,cACR6qH,EAAYnvD,GAEnBmvD,EAAYnvD,GAAY+qG,IA4D9B,IAujD0BC,GA2NpBrqE,GAlxDFsqE,GAAsB,SAAU38C,GAClC,QAASA,EAAIhtD,QAEX4pG,GAAkB,SAAUluH,GAC9B,SAAUA,IAAQA,EAAKuvC,gBAAkBT,GAAW1B,GAAaF,QAAQltC,EAAKuvC,eAAgBnC,GAAaF,QAAQltC,KAWjHmuH,GAAkB,SAAUhhF,EAAKzzB,EAAKq5D,EAAYzyB,GACpD,IAAI8tE,EACAC,EACAC,EA1EN,SAA0BnhF,EAAKmT,GAC7B,IAAIiuE,EACAC,EACJ,MAAO,CACLF,0BAA2B,SAAUtrG,EAAUl1B,GA0C7C,OAzCKygI,IACHA,EAAsB,GACtBC,EAAmB,GACnBluE,EAAOr6C,GAAG,cAAc,SAAUxhD,GAChC,IAAIu7C,EAAOv7C,EAAE0H,QAAS8lG,EAAU9kB,EAAIy6B,WAAW5nE,EAAM,KAAMmtC,EAAI25B,WAAY2nD,EAAmB,GAC9FxiF,GAAM31B,KAAKi4G,GAAqB,SAAU/1H,EAAWwqB,GACnDipB,GAAM31B,KAAK27C,GAAS,SAAUjyD,GAC5B,GAAImtC,EAAIxL,GAAG3hC,EAAMgjB,GAYf,OAXKwrG,EAAiBxrG,KACpBipB,GAAM31B,KAAK9d,GAAW,SAAU1K,GAC9BA,GAAS,EAAM,CACbkS,KAAMA,EACNgjB,SAAUA,EACVivC,QAASA,OAGbu8D,EAAiBxrG,GAAYxqB,GAE/Bi2H,EAAiBzrG,GAAYxqB,GACtB,QAIbyzC,GAAM31B,KAAKk4G,GAAkB,SAAUh2H,EAAWwqB,GAC3CyrG,EAAiBzrG,YACbwrG,EAAiBxrG,GACxBipB,GAAM31B,KAAK9d,GAAW,SAAU1K,GAC9BA,GAAS,EAAO,CACdkS,KAAMA,EACNgjB,SAAUA,EACVivC,QAASA,eAOhBs8D,EAAoBvrG,KACvBurG,EAAoBvrG,GAAY,IAElCurG,EAAoBvrG,GAAU57D,KAAK0mC,GAC5B,CACLuqE,OAAQ,WACNy1D,GAAsBS,EAAqBvrG,EAAUl1B,GACrDggI,GAAsBU,EAAkBxrG,EAAUl1B,OAyB1B4gI,CAAgBvhF,EAAKmT,GAAQguE,0BAgBzDxjG,EAAa,SAAUp2C,EAASuZ,GAClC,OAAOm/H,GAAa9sE,EAAQ5rE,EAASuZ,IA4BnCumF,EAAW,SAAUC,GACvB,IAAInD,EAAMq9C,IACVr9C,EAAIkD,WAAWC,GACf+Q,EAAOlU,IAELsZ,EAAS,WACX,OAAOlxE,EAAI8xB,aAAe9xB,EAAI8xB,eAAiB9xB,EAAI9yD,SAAS2qH,WAE1Do9C,EAAW,WACb,IAAIp9C,EAAWD,EAAKl8B,EAChBw5E,EAA2B,SAAUC,EAAKC,EAAaC,GACzD,IACE,OAAOD,EAAYE,sBAAsBH,EAAKE,GAC9C,MAAO31E,GACP,OAAQ,IAGRz/B,EAAMD,EAAI9yD,SACd,QAAwBuQ,IAApBmpF,EAAO05B,WAAiD,IAAvB+iB,GAAWz8C,GAAmB,CACjE,IAAI05B,EAAWxI,GAAOlxB,GACtB,GAAI05B,EAASp4C,SACX,OAAOo4C,EAASrwH,KAAI,SAAUrE,GAC5B,OAAO84I,GAAc99C,EAAQ,CAACh7F,IAAI,MACjCu8E,MAAMloB,EAAIgvD,eAGjB,KACO4I,EAAYqZ,OAAc/3C,GAAiB0+B,EAAU09C,cAEtD39C,EADEC,EAAU8Y,WAAa,EACnB9Y,EAAU+Y,WAAW,GAErB/Y,EAAU5I,YAAc4I,EAAU5I,cAAgBhvD,EAAIgvD,cAE9D2I,EAAM8sB,GAAc99C,EAAQ,CAACgxB,IAAM,IAErC,MAAOl4B,IAkBT,OAhBKk4B,IACHA,EAAM33D,EAAIgvD,YAAchvD,EAAIgvD,cAAgBhvD,EAAInkD,KAAKu+H,mBAEnDziB,EAAI/F,UAA4C,IAAhC+F,EAAIzF,eAAelnE,UAAkB2sE,EAAIgJ,YAC3DllC,EAAMjI,EAAI25B,UACVwK,EAAI/F,SAASn2B,EAAK,GAClBk8B,EAAI9F,OAAOp2B,EAAK,IAEdg5E,GAAiBC,IACsD,IAArEO,EAAyBt9C,EAAI49C,eAAgB59C,EAAK88C,IAAyF,IAAjEQ,EAAyBt9C,EAAI69C,WAAY79C,EAAK88C,GAC1H98C,EAAM+8C,GAEND,EAAgB,KAChBC,EAAgB,OAGb/8C,GAELkU,EAAS,SAAUlU,EAAKnR,GAC1B,IAAIngE,EACJ,GAlHe,SAAUsxE,GAC3B,QAAKA,MAEM28C,GAAoB38C,IAGtB48C,GAAgB58C,EAAIzF,iBAAmBqiD,GAAgB58C,EAAIvF,eA4G7DqjD,CAAa99C,GAAlB,CAGA,IAAI+9C,EAAUpB,GAAoB38C,GAAOA,EAAM,KAC/C,GAAI+9C,EAAJ,CACEhB,EAAgB,KAChB,IACEgB,EAAQ/qG,SACR,MAAO80B,SAJX,CAQA,IAAI3tB,EAAMm/D,IAMV,GADAtZ,EAJUhxB,EAAOn0B,KAAK,oBAAqB,CACzC7J,MAAOgvD,EACPnR,QAASA,IAED79C,MACNmJ,EAAK,CACP4iG,EAAgB/8C,EAChB,IACE7lD,EAAI6jG,kBACJ7jG,EAAI8jG,SAASj+C,GACb,MAAOl4B,KAEO,IAAZ+mB,GAAqB10C,EAAIzmB,SAC3BymB,EAAI+oD,SAASlD,EAAIvF,aAAcuF,EAAItF,WACnCvgD,EAAIzmB,OAAOssE,EAAIzF,eAAgByF,EAAIxF,cAErCsiD,EAAgB3iG,EAAI4+D,WAAa,EAAI5+D,EAAI6+D,WAAW,GAAK,KAEtDhZ,EAAIgJ,WAAahJ,EAAIzF,iBAAmByF,EAAIvF,eAAgBtgD,EAAI+jG,kBAAqBvkF,GAAIzC,IACxF8oC,EAAItF,UAAYsF,EAAIxF,YAAc,GAChCwF,EAAIzF,eAAet+B,kBACrBvtC,EAAOsxE,EAAIzF,eAAer2D,WAAW87D,EAAIxF,eACZ,QAAjB9rE,EAAK0F,UACf+lB,EAAI+jG,iBAAiBl+C,EAAIzF,eAAgByF,EAAIxF,YAAawF,EAAIvF,aAAcuF,EAAItF,WAC5EvgD,EAAIwjG,aAAe39C,EAAIzF,gBAAkBpgD,EAAIgkG,YAAcn+C,EAAIvF,cACjEtgD,EAAI+jG,iBAAiBxvH,EAAM,EAAGA,EAAM,IAM9CsgD,EAAOn0B,KAAK,yBAA0B,CACpC7J,MAAOgvD,EACPnR,QAASA,OAaTuvD,EAAY,WACd,IAAIjkG,EAAMm/D,IACNqkC,EAAaxjG,aAAiC,EAASA,EAAIwjG,WAC3DQ,EAAYhkG,aAAiC,EAASA,EAAIgkG,UAC9D,IAAKhkG,IAAQwjG,IAAeQ,GAAa58E,GAAiBo8E,IAAep8E,GAAiB48E,GACxF,OAAO,EAET,IAAIE,EAAcxiF,EAAIu7B,YACtBinD,EAAYpkD,SAAS0jD,EAAYxjG,EAAImkG,cACrCD,EAAYn7C,UAAS,GACrB,IAAIq7C,EAAa1iF,EAAIu7B,YAGrB,OAFAmnD,EAAWtkD,SAASkkD,EAAWhkG,EAAIqkG,aACnCD,EAAWr7C,UAAS,GACbm7C,EAAYX,sBAAsBW,EAAYT,eAAgBW,IAAe,GA4ClFtrK,EAAU,CACZwrK,gBAAiB,KACjBC,iBAAkB,KAClB7iF,IAAKA,EACLzzB,IAAKA,EACLq5D,WAAYA,EACZzyB,OAAQA,EACRk0B,SAAUA,EACVi5B,kBAjOsB,SAAUztG,EAAMthC,GACtC,IAAI4yG,EAAMnkC,EAAIu7B,YACVvoC,EAAcngC,IAASmgC,EAAczhE,IACvC4yG,EAAI/F,SAASvrE,EAAMthC,GACnB4yG,EAAI9F,OAAOxrE,EAAMthC,GACjB8mH,EAAOlU,GACPkD,GAAS,KAET0W,GAAe/9C,EAAKmkC,EAAKhxB,EAAOmxB,WAAW,GAC3C+T,EAAOlU,KAyNT1xD,WAtNe,SAAU3xB,GACzB,OAAO0+H,GAAarsE,EAAQryD,IAsN5B68B,WAAYA,EACZ8vD,YA5MgB,SAAUnwH,EAAMgoC,GAChC,OAAOs9H,EAAgBn1C,YAAYnwH,EAAMgoC,IA4MzCioF,eA1MmB,SAAUV,GAC7B,OAAO+1C,EAAgBr1C,eAAeV,IA0MtC11D,OAxMW,SAAUtkB,EAAMtrB,GAE3B,OAlhKW,SAAUy4D,EAAKntC,EAAMtrB,GAClC,OAAOiuD,EAASt8E,KAAK25C,GAAMr2C,KAAI,SAAUq2C,GACvC,IAAIwgE,EAAMrzB,EAAIkzB,UAAUrgE,GACpBsxE,EAAMnkC,EAAIu7B,YAOd,OANA4I,EAAI/F,SAASvrE,EAAKltC,WAAY0tG,GAC9B8Q,EAAI9F,OAAOxrE,EAAKltC,WAAY0tG,EAAM,GAC9B9rF,IACFw2G,GAAe/9C,EAAKmkC,EAAKtxE,GAAM,GAC/BkrF,GAAe/9C,EAAKmkC,EAAKtxE,GAAM,IAE1BsxE,KAugKP2+C,CAAS9iF,EAAKntC,EAAMtrB,GAAS4hC,KAAKkvE,GAC3BxlF,GAuMPi6E,YArMgB,WAChB,IAAI3I,EAAMq9C,IAAYljG,EAAMm/D,IAC5B,SAAKtZ,GAAOA,EAAIpoE,QAGZooE,EAAI4+C,iBAC6C,IAA5C5+C,EAAI4+C,iBAAiB,aAAc5+C,IAEpC7lD,GAAO6lD,EAAIgJ,YA8LnBo1C,UAAWA,EACXS,QAnFY,SAAU/6E,GAEtB,OADAtqB,EAAWqiB,EAAIq9B,aAAap1B,IACrBA,GAkFP8/B,QAhFY,WACZ,OA3sKY,SAAUziH,EAAM6+G,GAC9B,IAAIl8B,EAAKy2B,EAAgBE,EACzB,IAAKuF,EACH,OAAO7+G,EAETo5G,EAAiByF,EAAIzF,eACrBE,EAAeuF,EAAIvF,aACnB,IAAID,EAAcwF,EAAIxF,YAClBE,EAAYsF,EAAItF,UAEpB,OADA52B,EAAMk8B,EAAIwgC,yBACLxgC,EAAIgJ,YACHzO,IAAmBE,GACjBC,EAAYF,EAAc,GACxBD,EAAet+B,kBACjB6H,EAAMy2B,EAAer2D,WAAWs2D,IAIN,IAA5BD,EAAelnE,UAA4C,IAA1BonE,EAAapnE,WAE9CknE,EADEA,EAAevkH,SAAWwkH,EACXoyB,GAAmBryB,EAAel5G,aAAa,GAE/Ck5G,EAAe/4G,WAGhCi5G,EADgB,IAAdC,EACakyB,GAAmBnyB,EAAan8B,iBAAiB,GAEjDm8B,EAAaj5G,WAE1B+4G,GAAkBA,IAAmBE,IAChCF,EAITz2B,GAAwB,IAAjBA,EAAIzwC,SACNywC,EAAItiF,WAENsiF,EAsqKEg7E,CAAU9vE,EAAOmxB,UAAWk9C,MAgFnC/jC,OAAQA,EACRpF,OAAQA,EACRhU,OAAQm9C,EACR17B,SA5Na,SAAU+K,GACvB,OAAOC,GAAW39C,EAAOmxB,UAAWk9C,IAAY3wB,IA4NhD9K,OA1Na,SAAU8K,GACvB,OAAO9K,GAAO5yC,EAAOmxB,UAAWk9C,IAAY3wB,IA0N5C4c,kBAnFwB,SAAUvK,EAAUggB,GAC5C,OAvqKoB,SAAUljF,EAAKmkC,EAAK++B,EAAUggB,GACpD,IAAIrwH,EACAswH,EAAiB,GACjB79J,EAAO06E,EAAI25B,UAMf,GALAupC,EAAWljE,EAAIm8B,UAAU+mC,GAAYpS,GAAWxrI,EAAM6+G,EAAKA,EAAIgJ,WAAYntC,EAAI2W,SAC/EusE,EAASljF,EAAIm8B,UAAU+mD,GAAUn9B,GAAOzgI,EAAM6+G,EAAKA,EAAIgJ,WAAYntC,EAAI2W,SACnEusD,GAAYA,IAAa59I,GAC3B69J,EAAelpK,KAAKipJ,GAElBA,GAAYggB,GAAUhgB,IAAaggB,EAAQ,CAC7CrwH,EAAOqwG,EAEP,IADA,IAAI3oD,EAAS,IAAI1E,GAAcqtD,EAAU59I,IACjCutC,EAAO0nD,EAAO3mF,SAAWi/B,IAASqwH,GACpCljF,EAAI2W,QAAQ9jD,IACdswH,EAAelpK,KAAK44C,GAO1B,OAHIqwH,GAAUhgB,IAAaggB,GAAUA,IAAW59J,GAC9C69J,EAAelpK,KAAKipK,GAEfC,EAkpKE1V,CAAkBztE,EAAKwhF,IAAYte,EAAUggB,IAmFpD7+I,UAlEgB,WAChB,IAAI8/F,EAAMq9C,IACNljG,EAAMm/D,IACV,KA7gOKT,GA6gOkB1+D,GA7gOGnkE,OAAS,IA6gOJ6jI,GAAa7qC,GAAS,CACnD,IAAIi1C,EAAU/jH,GAAU27D,EAAKmkC,GAI7B,OAHAikB,EAAQj/E,MAAK,SAAUi/E,GACrB/P,EAAO+P,EAASm6B,QAEXn6B,EAAQ1zD,MAAMyvC,GAEvB,OAAOA,GAyDPi/C,gBAvDoB,SAAUvtG,EAAUl1B,GAExC,OADAwgI,EAA0BtrG,EAAUl1B,GAC7BvpC,GAsDP+pK,0BAA2BA,EAC3BkC,mBArDuB,WAGvB,IAFA,IAAIC,EACAzwH,EAAOmtC,EAAI25B,UACR9mE,GAA0B,SAAlBA,EAAKgC,UAAqB,CACvC,GAAIhC,EAAKqjB,aAAerjB,EAAKsjB,aAAc,CACzCmtG,EAAkBzwH,EAClB,MAEFA,EAAOA,EAAKltC,WAEd,OAAO29J,GA4CPt+E,eA1CmB,SAAUiD,EAAKnD,GAClC,OA3sLwB,SAAUqO,EAAQn0F,EAAS8lF,IACtCqO,EAAOvuF,OAAS8mI,GAAoBE,IAC1Cz4C,EAAQn0F,EAAS8lF,GAysLjBy+E,CAAsBpwE,EAAQlL,EAAKnD,IA0C1C0+E,aAxCiB,SAAUrkK,EAASC,GACpC,OAAOi5H,EAAOkO,GAAYpnI,EAASC,EAAS+zF,EAAOusC,YAwCnDzgI,sBAtC0B,WAC1B,IAAIklH,EAAMq9C,IACV,OAAOr9C,EAAIgJ,UAAY/C,GAAcG,eAAepG,GAAKpuD,iBAAiB,GAAKouD,EAAIllH,yBAqCnFmB,QAnCY,WACZmsD,EAAM00G,EAAgBC,EAAgB,KACtC2B,EAAiBziK,YAmCfwiK,EAAkB/hC,GAAgBzpI,GAClCyrK,EAAmBzgC,GAAiBhrI,EAAS+7F,GAGjD,OAFA/7F,EAAQwrK,gBAAkBA,EAC1BxrK,EAAQyrK,iBAAmBA,EACpBzrK,GAQLqsK,GAAuB,SAAUC,EAAW5kE,EAAQ6kE,GACtDD,EAAU79C,cAAc,QAAQ,SAAU99B,GACxC5+B,EAAK4+B,GAAO,SAAUl1C,GACpB,IAAIjI,EAAQk0D,EAAOl5C,MAAM/S,EAAKuc,KAAK,UAC/BzoD,EAAQksC,EAAKuc,KAAK,SAClBw0G,EAAO/wH,EAAKuc,KAAK,QACjB3hC,EAAOolB,EAAKuc,KAAK,QACjBzoD,IACFikC,EAAMjkC,MAAQA,GAEZi9J,IACFh5H,EAAM,eAAiBg5H,GAErBn2I,IACFmd,EAAM,aAAe+4H,EAAUlnK,SAASo2C,EAAKuc,KAAK,QAAS,IAAM,IAEnEvc,EAAKtoC,KAAO,OACZsoC,EAAKuc,KAAK,QAAS0vC,EAAO3/D,UAAUyL,IAtBxB,SAAUiI,EAAMtpB,GAChC4/B,EAAK5/B,GAAO,SAAUhf,GACpBsoC,EAAKuc,KAAK7kD,EAAM,SAqBds5J,CAAYhxH,EAAM,CAChB,QACA,OACA,gBAeJixH,GAAa,SAAUJ,EAAWjwE,GACpC,IAAIqL,EAASqH,KACT1S,EAASswE,wBACXN,GAAqBC,EAAW5kE,EAAQhgB,GAAMe,QAAQ4T,EAASuwE,0BAbvC,SAAUN,EAAW5kE,GAC/C4kE,EAAU79C,cAAc,UAAU,SAAU99B,GAC1C5+B,EAAK4+B,GAAO,SAAUl1C,GACpB,IAAIjI,EAAQk0D,EAAOl5C,MAAM/S,EAAKuc,KAAK,UACnCxkB,EAAM,mBAAqB,eAC3BiI,EAAKtoC,KAAO,OACZsoC,EAAKuc,KAAK,QAAS0vC,EAAO3/D,UAAUyL,UASxCq5H,CAAsBP,EAAW5kE,IA+B/BolE,GAAiB,SAAUjyB,GAC7B,IAAI30I,EACA6mK,EAAWllI,mBAAmBgzG,GAAKx3I,MAAM,KACzC8iF,EAAU,eAAengF,KAAK+mK,EAAS,IAI3C,OAHI5mF,IACFjgF,EAAOigF,EAAQ,IAEV,CACLjgF,KAAMA,EACN8mB,KAAM+/I,EAAS,KAGfC,GAAY,SAAU9mK,EAAM8mB,GAC9B,IAAI7E,EACJ,IACEA,EAAMuoC,KAAK1jC,GACX,MAAO9sB,GACP,OAAOk+E,EAAStB,OAGlB,IADA,IAAIzpC,EAAM,IAAIn+B,WAAWiT,EAAIplB,QACpB1C,EAAI,EAAGA,EAAIgzC,EAAItwC,OAAQ1C,IAC9BgzC,EAAIhzC,GAAK8nB,EAAImO,WAAWj2B,GAE1B,OAAO+9E,EAAS5tE,KAAK,IAAI2/C,KAAK,CAAC9c,GAAM,CAAEntC,KAAMA,MAU3C+mK,GAAY,SAAU9+I,GACxB,OAA6B,IAAzBA,EAAI3c,QAAQ,SAzDE,SAAU2c,GAC5B,OAAO,IAAI+sE,IAAW,SAAUthC,EAAS46B,GACvC,IAAI04E,EAAkB,WACpB14E,EAAO,kBAAoBrmE,EAAM,2DAEnC,IACE,IAAIg/I,EAAQ,IAAIthH,eAChBshH,EAAMj8I,KAAK,MAAO/C,GAAK,GACvBg/I,EAAM/+G,aAAe,OACrB++G,EAAMxlH,OAAS,WACQ,MAAjBwlH,EAAMnxH,OACR4d,EAAQuzG,EAAM9hH,UAEd6hH,KAGJC,EAAM9jH,QAAU6jH,EAChBC,EAAMz+G,OACN,MAAOmmC,GACPq4E,QAuCKE,CAAcj/I,GAEM,IAAzBA,EAAI3c,QAAQ,UAZYqpI,EAaL1sH,EAZhB,IAAI+sE,IAAW,SAAUthC,GAC9B,IAAIw0D,EAAK0+C,GAAejyB,GAAM30I,EAAOkoH,EAAGloH,KAAM8mB,EAAOohG,EAAGphG,KACxDggJ,GAAU9mK,EAAM8mB,GAAMkwD,MAAK,WACzB,OAAOtjB,EAAQ,IAAIzJ,KAAK,OACvByJ,OAUE,KAfW,IAAUihF,GA2B1B9hI,GAAQ,EACRitG,GAAW,SAAUvrD,GACvB,OAAQA,GAAU,UAAY1hD,MAE5Bs0J,GAAkB,SAAUC,EAAWjlH,EAAKuR,EAAS46B,GACvD,IAAI+4E,EAAQC,EACZ,GAAiC,IAA7BnlH,EAAIr3B,IAAIxf,QAAQ,SAApB,CAwBA,IAAI48G,EAAK0+C,GAAezkH,EAAIr3B,KAAMhE,EAAOohG,EAAGphG,KAAM9mB,EAAOkoH,EAAGloH,KAC5DqnK,EAASvgJ,GACTwgJ,EAAWF,EAAUG,UAAUF,EAAQrnK,IAErC0zD,EAAQ,CACN1F,MAAO7L,EACPmlH,SAAUA,IAGZP,GAAU5kH,EAAIr3B,KAAK62C,MAAK,SAAU11B,GAChCq7H,EAAWF,EAAUlsK,OAAO4kH,KAAY7zE,EAAMo7H,GAC9CD,EAAUx/J,IAAI0/J,GACd5zG,EAAQ,CACN1F,MAAO7L,EACPmlH,SAAUA,OAEX,SAAUx6H,GACXwhD,EAAOxhD,WAxCTw6H,EAAWF,EAAUI,SAASrlH,EAAIr3B,MAEhC4oC,EAAQ,CACN1F,MAAO7L,EACPmlH,SAAUA,IAGZP,GAAU5kH,EAAIr3B,KAAK62C,MAAK,SAAU11B,IAxBpB,SAAUA,GAC5B,OAAO,IAAI+oD,IAAW,SAAUthC,GAC9B,IAAI+zG,EAAS,IAAIjmH,WACjBimH,EAAOC,UAAY,WACjBh0G,EAAQ+zG,EAAOx9J,SAEjBw9J,EAAO9lH,cAAc1V,OAmBjB07H,CAAc17H,GAAM01B,MAAK,SAAUimG,GACjCP,EAAST,GAAegB,GAAS9gJ,KACjCwgJ,EAAWF,EAAUlsK,OAAO4kH,KAAY7zE,EAAMo7H,GAC9CD,EAAUx/J,IAAI0/J,GACd5zG,EAAQ,CACN1F,MAAO7L,EACPmlH,SAAUA,UAGb,SAAUx6H,GACXwhD,EAAOxhD,OA6BX+6H,GAAe,SAAUC,EAAcV,GACzC,IAAIW,EAAiB,GAuDrB,MAAO,CAAEzkC,QAtDK,SAAU34C,EAAKttD,GACtBA,IACHA,EAAYs5C,GAEd,IAAIqxF,EAASjwJ,EATE,SAAU4yE,GAC3B,OAAOA,EAAMzR,GAAOyR,EAAIr3C,qBAAqB,QAAU,GAQjC20H,CAAat9E,IAAM,SAAUxoC,GAC/C,IAAIr3B,EAAMq3B,EAAIr3B,IACd,QAAK01D,GAAIF,WAGLn+B,EAAIqF,aAAa,qBAGjBrF,EAAIqF,aAAa,6BAGhB18B,GAAOA,IAAQ01D,GAAIK,kBAGK,IAAzB/1D,EAAIxf,QAAQ,UACNw8J,EAAaI,WAAWp9I,IAAQuS,EAAU8kB,GAEvB,IAAzBr3B,EAAIxf,QAAQ,UACP+xB,EAAU8kB,UAIjBgmH,EAAWjpK,EAAI8oK,GAAQ,SAAU7lH,GACnC,QAAgCz1C,IAA5Bq7J,EAAe5lH,EAAIr3B,KACrB,OAAO,IAAIkqE,IAAW,SAAUthC,GAC9Bq0G,EAAe5lH,EAAIr3B,KAAK62C,MAAK,SAAUymG,GACrC,GAAyB,iBAAdA,EACT,OAAOA,EAET10G,EAAQ,CACN1F,MAAO7L,EACPmlH,SAAUc,EAAUd,iBAK5B,IAAIe,EAAa,IAAIrzE,IAAW,SAAUthC,EAAS46B,GACjD64E,GAAgBC,EAAWjlH,EAAKuR,EAAS46B,MACxC3sB,MAAK,SAAU13D,GAEhB,cADO89J,EAAe99J,EAAO+jD,MAAMljC,KAC5B7gB,KACNkrF,OAAM,SAAU7kF,GAEjB,cADOy3J,EAAe5lH,EAAIr3B,KACnBxa,KAGT,OADAy3J,EAAe5lH,EAAIr3B,KAAOu9I,EACnBA,KAET,OAAOrzE,GAAW1e,IAAI6xF,MAKtBG,GAAgB,SAAUnyE,EAAU3yD,EAAM+kI,EAAehzH,IACzC4gD,EAASqyE,oBAAsBhlI,EAAKwwG,SACnCu0B,EAAchzH,EAAKtoC,MACpCsoC,EAAKkc,QAAQzuB,OAAO,IAAI+wG,GAAQ,KAAM,IAAIK,YAAa,EAEvD7+F,EAAKkc,QAAQzuB,OAAO,IAAI+wG,GAAQ,QAAS,IAAI/4I,MAAQ8+F,IAMrD2uE,GAAe,SAAUlzH,EAAMtoC,GACjC,OAAOsoC,GAAQA,EAAKgwC,YAAchwC,EAAKgwC,aAAehwC,EAAKiwC,WAAajwC,EAAKgwC,WAAWt4E,OAASA,GAM/Fy7J,GAAY,SAAUnmE,EAAQslD,EAAkB8gB,EAAoBpzH,GACtE,OAAOA,EAAKsnD,QAAQgrD,EAAkB8gB,GAAoB,SAAUpzH,GAClE,OANW,SAAUgtD,EAAQhtD,GAC/B,IAAI2wD,EAAO3D,EAAOkE,eAAelxD,EAAKtoC,MACtC,OAAOi5F,GAAQA,EAAKhB,UAIX0jE,CAASrmE,EAAQhtD,OAyBxBszH,GAA4B,SAAUpf,EAAQtzD,GAChD,IAAIixE,EAAYjxE,EAAS2yE,WACrBC,EAAe,SAAU5mH,GAC3B,IAAI6mH,EAAW7mH,EAAI2P,KAAK,QAlBA,SAAU3P,GACpC,OAAOA,EAAI2P,KAAK,SAAW0uB,GAAIK,gBAAkB1+B,EAAI2P,KAAK,yBAkBpDm3G,CAAsB9mH,IAtBX,SAAUA,GAC3B,OAAOA,EAAI2P,KAAK,kBAqBoBo3G,CAAa/mH,IAtrKhC,SAAUwyF,GAC3B,IAAI10D,EAAU,wCAAwCngF,KAAK60I,GAC3D,OAAI10D,EACK/H,EAAS5tE,KAAK,CACnBtK,KAAMigF,EAAQ,GACdn5D,KAAM6a,mBAAmBs+C,EAAQ,MAG5B/H,EAAStB,OAirKhBuyF,CAAaH,GAAUjxJ,QAAO,WAC5B,OApBe,SAAUoqC,EAAKg0C,GAClC,GAAIA,EAASizE,sBAAuB,CAClC,IAAIC,EAAY,IAAIC,MAKpB,OAJAD,EAAUv+I,IAAMq3B,EAAI2P,KAAK,OACzBqnB,GAAOh3B,EAAIhgB,WAAWjjC,KAAK,SAAUlE,EAAOgG,GAC1CqoK,EAAU5iK,aAAazF,EAAKhG,MAEvBm7F,EAASizE,sBAAsBC,GAEtC,OAAO,EAWEE,CAAepnH,EAAKg0C,MAC1Bh7F,MAAK,SAAU+sH,GAChB,IAAIloH,EAAOkoH,EAAGloH,KAAM8mB,EAAOohG,EAAGphG,KAC9B,OAAOoxD,EAASt8E,KAAKwrK,EAAUG,UAAUzgJ,EAAM9mB,IAAO03E,SAAQ,WAC5D,OAAOovF,GAAU9mK,EAAM8mB,GAAM5nB,KAAI,SAAU+sC,GACzC,IAAIq7H,EAAWF,EAAUlsK,OAAO4kH,KAAY7zE,EAAMnlB,GAElD,OADAsgJ,EAAUx/J,IAAI0/J,GACPA,WAGVz7G,MAAK,SAAUy7G,GAChBnlH,EAAI2P,KAAK,MAAOw1G,EAASkC,eAGzBpC,GACF3d,EAAOggB,mBAAmB,OAAO,SAAUh/E,GACzC,OAAO5+B,EAAK4+B,EAAOs+E,OAgKrBW,GAAYloF,GAAMC,QAASkoF,GAASnoF,GAAM31B,KAAM+9G,GAAYpoF,GAAMe,QAASsnF,GAAWroF,GAAMjnC,OAC5FuvH,GAAY,SAAU3zE,EAAUoM,QACnB,IAAXA,IACFA,EAASd,MAEX,IAAI0pD,EAAc,GACdC,EAAmB,GACnB2e,EAAe,GACfC,EAAoB,IACxB7zE,EAAWA,GAAY,IACdm6C,WAAW,aAAcn6C,IAAWA,EAASm6C,SACtDn6C,EAAS8zE,UAAY9zE,EAAS8zE,WAAa,OAC3C,IAsFIC,EAAa,SAAU30H,GACzB,IAAIp7C,EAAG8S,EAAMunB,GACbvnB,EAAOsoC,EAAKtoC,QACAk+I,KACV32H,EAAOu1I,EAAa98J,IAElBunB,EAAK73B,KAAK44C,GAEVw0H,EAAa98J,GAAQ,CAACsoC,IAG1Bp7C,EAAIixJ,EAAiBvuJ,OACrB,KAAO1C,MACL8S,EAAOm+I,EAAiBjxJ,GAAG8S,QACfsoC,EAAKpT,WAAWjjC,OAC1Bs1B,EAAOw1I,EAAkB/8J,IAEvBunB,EAAK73B,KAAK44C,GAEVy0H,EAAkB/8J,GAAQ,CAACsoC,IAIjC,OAAOA,GAuVLz7C,EAAU,CACZyoG,OAAQA,EACRknE,mBAlUuB,SAAUx8J,EAAMo2B,GACvCsmI,GAAOC,GAAU38J,IAAO,SAAUA,GAChC,IAAI9S,EACJ,IAAKA,EAAI,EAAGA,EAAIixJ,EAAiBvuJ,OAAQ1C,IACvC,GAAIixJ,EAAiBjxJ,GAAG8S,OAASA,EAE/B,YADAm+I,EAAiBjxJ,GAAG4zC,UAAUpxC,KAAK0mC,GAIvC+nH,EAAiBzuJ,KAAK,CACpBsQ,KAAMA,EACN8gC,UAAW,CAAC1K,SAwThByoH,oBApTwB,WACxB,MAAO,GAAGviI,OAAO6hI,IAoTjB7iC,cAzVkB,SAAUt7G,EAAMo2B,GAClCsmI,GAAOC,GAAU38J,IAAO,SAAUA,GAChC,IAAIunB,EAAO22H,EAAYl+I,GAClBunB,IACH22H,EAAYl+I,GAAQunB,EAAO,IAE7BA,EAAK73B,KAAK0mC,OAoVZwoH,eAjVmB,WACnB,IAAIzxE,EAAM,GACV,IAAK,IAAI0H,KAAUqpE,EACbA,EAAY7vJ,eAAewmF,IAC7B1H,EAAIz9E,KAAK,CACPsQ,KAAM60E,EACN/zC,UAAWo9G,EAAYrpE,KAI7B,OAAO1H,GAwUP8vF,WAAYA,EACZ5hH,MArTU,SAAU1+B,EAAM4Z,GAC1B,IAAIinD,EAAOtwF,EAAGC,EAAG+vK,EAAIC,EAAI51I,EAAMvnB,EAE3Bo9J,EACA90H,EAFA+0H,EAAkB,GAYtB9mI,EAAOA,GAAQ,GACfumI,EAAe,GACfC,EAAoB,GACpB,IAAIzB,EAAgBsB,GAASH,GAAU,gDAAiDnnE,EAAOsF,oBAC3FggD,EAAmBtlD,EAAO6F,sBAC1B1rG,EAAW6lG,EAAO7lG,SAClB4zI,EAAWn6C,EAASm6C,SAEpBi6B,EAjBmB,SAAUt9J,GAC/B,OAAa,IAATA,EACK,IACW,IAATA,EACF,IAEAA,EAWSu9J,CADM,sBAAuBhnI,EAAOA,EAAK8yH,kBAAoBngE,EAASmgE,mBAEtFmU,EAAqBloE,EAAO+F,wBAC5BoiE,EAAwB,cACxBC,EAAsB,cACtBC,EAAsB,cACtBC,EAAwB,eAC5BR,EAAiCI,EAAmBnvK,eAAekoC,EAAK8sE,UAAYm6D,EAAmBnvK,eAAe66F,EAAS8zE,WAC/H,IAoCIa,EAAa,SAAU79J,EAAMjN,GAC/B,IACIw0B,EADA+gB,EAAO,IAAIw+F,GAAQ9mI,EAAMjN,GAU7B,OARIiN,KAAQk+I,KACV32H,EAAOu1I,EAAa98J,IAElBunB,EAAK73B,KAAK44C,GAEVw0H,EAAa98J,GAAQ,CAACsoC,IAGnBA,GAELw1H,EAAyB,SAAUx1H,GACrC,IAAI4+E,EAAU62C,EAAcC,EAAS15F,EACjCg3F,EAAgBhmE,EAAOsF,mBAC3B,IAAKssB,EAAW5+E,EAAKmjD,KAAMy7B,GAA8B,IAAlBA,EAASn0H,MAAa,CAE3D,IADAirK,EAAU92C,EAASn5H,MAAM4C,QAAQ+sK,EAAqB,KAC1C9tK,OAAS,EAEnB,YADAs3H,EAASn5H,MAAQiwK,GAInB,GADAD,EAAe72C,EAAS79G,KACN,CAChB,GAA0B,IAAtB00J,EAAahrK,MAAcgrK,EAAahwK,MAAM6B,OAAQ,CACxDs3H,EAAWA,EAASz7B,KACpB,SAEF,IAAK6vE,EAAcyC,EAAa/9J,OAA+B,WAAtB+9J,EAAa/9J,MAA2C,UAAtB+9J,EAAa/9J,KAAkB,CACxGknH,EAAWA,EAASz7B,KACpB,UAGJnnB,EAAU4iD,EAASz7B,KACnBy7B,EAAS/rH,SACT+rH,EAAW5iD,IAaXk4E,EAASnU,GAAU,CACrBhF,SAAUA,EACVsE,qBAAsBz+C,EAASy+C,qBAC/BrqC,oBAAqBpU,EAASoU,oBAC9BF,kBAAmBlU,EAASkU,kBAC5B0sC,2BAA4B5gD,EAAS4gD,2BACrC0B,eAAgBtiD,EAASsiD,eACzBP,sBAjB0B,SAAU1wI,GACpC,IAAIyF,EACAskB,EAAS,GACb,IAAKtkB,KAAQzF,EACE,OAATyF,GAA0B,MAATA,IACnBskB,EAAOtkB,GAAQzF,EAAMyF,IAGzB,OAAOskB,EASgB25I,CAAsB3oE,EAAO4F,0BACpDstC,MAAO,SAAU3lF,GACfva,EAAKvS,OAAO8nI,EAAW,SAAU,IAAI9vK,MAAQ80D,GAE/CA,KAAM,SAAUA,EAAMs6B,GACpB,IAAI+pC,EACCk2C,IACHv6G,EAAOA,EAAKlyD,QAAQgtK,EAAqB,KA/e7B,SAAUr1H,EAAMgzH,GACpC,OAAOhzH,IAASgzH,EAAchzH,EAAKtoC,OAAuB,OAAdsoC,EAAKtoC,MA+erCk+J,CAAgB51H,EAAKiwC,UAAW+iF,KAClCz4G,EAAOA,EAAKlyD,QAAQ8sK,EAAuB,MAG3B,IAAhB56G,EAAKjzD,UACPs3H,EAAW22C,EAAW,QAAS,IACtB1gF,MAAQA,EACjB70C,EAAKvS,OAAOmxF,GAAUn5H,MAAQ80D,IAGlC0lF,QAAS,SAAU1lF,GACjBva,EAAKvS,OAAO8nI,EAAW,WAAY,IAAI9vK,MAAQ80D,GAEjD4lF,GAAI,SAAUzoI,EAAM6iD,GAClBva,EAAKvS,OAAO8nI,EAAW79J,EAAM,IAAIjS,MAAQ80D,EACzCi7G,EAAuBx1H,IAEzBogG,QAAS,SAAU7lF,GACHva,EAAKvS,OAAO8nI,EAAW,WAAY,KACzC9vK,MAAQ80D,EAChBi7G,EAAuBx1H,IAEzBtyC,MAAO,SAAUgK,EAAM08E,EAAOl4B,GAC5B,IAAI6vF,EAAS8pB,EAAgB9sG,EAAUhG,EACnC69E,EAAc7F,EAAW/tC,EAAOkE,eAAex5F,GAAQ,GAC3D,GAAIkpI,EAAa,CAUf,KATAmL,EAAUwpB,EAAW30B,EAAYvxC,YAAc33F,EAAM,IAC7Ck1B,WAAawnD,EACrB23D,EAAQlN,WAAa3iF,EACrBlc,EAAKvS,OAAOs+G,IACZhpF,EAAS57D,EAAS64C,EAAKtoC,QACTvQ,EAAS4kJ,EAAQr0I,QAAUqrD,EAAOgpF,EAAQr0I,OACtDq9J,EAAgB3tK,KAAK2kJ,GAEvB8pB,EAAiBhgB,EAAiBvuJ,OAC3BuuK,MACL9sG,EAAW8sF,EAAiBggB,GAAgBn+J,QAC5B08E,EAAMzqF,OACpBs1B,EAAOw1I,EAAkB1rG,IAEvB9pC,EAAK73B,KAAK2kJ,GAEV0oB,EAAkB1rG,GAAY,CAACgjF,IAIjCinB,EAAct7J,IAChB89J,EAAuBzpB,GAEpB7vF,IACHlc,EAAO+rG,IAEJ+oB,GAAkCI,EAAmBx9J,KACxDo9J,GAAiC,KAIvClnK,IAAK,SAAU8J,GACb,IAAIknH,EAAUrkE,EAAMyhB,EAAS85F,EACzBl1B,EAAc7F,EAAW/tC,EAAOkE,eAAex5F,GAAQ,GAC3D,GAAIkpI,EAAa,CACf,GAAIoyB,EAAct7J,KACXo9J,EAAgC,CAEnC,IADAl2C,EAAW5+E,EAAKgwC,aACkB,IAAlB4uC,EAASn0H,KAEvB,IADA8vD,EAAOqkE,EAASn5H,MAAM4C,QAAQ8sK,EAAuB,KAC5C7tK,OAAS,EAChBs3H,EAASn5H,MAAQ80D,EACjBqkE,EAAWA,EAAS79G,UAKpB,IAHAi7D,EAAU4iD,EAAS79G,KACnB69G,EAAS/rH,SACT+rH,EAAW5iD,EACJ4iD,GAA8B,IAAlBA,EAASn0H,MAC1B8vD,EAAOqkE,EAASn5H,MAChBu2E,EAAU4iD,EAAS79G,MACC,IAAhBw5C,EAAKjzD,QAAgBguK,EAAsBhrK,KAAKiwD,MAClDqkE,EAAS/rH,SACT+rH,EAAW5iD,GAEb4iD,EAAW5iD,EAKjB,IADA4iD,EAAW5+E,EAAKiwC,YACkB,IAAlB2uC,EAASn0H,KAEvB,IADA8vD,EAAOqkE,EAASn5H,MAAM4C,QAAQ+sK,EAAqB,KAC1C9tK,OAAS,EAChBs3H,EAASn5H,MAAQ80D,EACjBqkE,EAAWA,EAASz7B,UAKpB,IAHAnnB,EAAU4iD,EAASz7B,KACnBy7B,EAAS/rH,SACT+rH,EAAW5iD,EACJ4iD,GAA8B,IAAlBA,EAASn0H,MAC1B8vD,EAAOqkE,EAASn5H,MAChBu2E,EAAU4iD,EAASz7B,MACC,IAAhB5oC,EAAKjzD,QAAgBguK,EAAsBhrK,KAAKiwD,MAClDqkE,EAAS/rH,SACT+rH,EAAW5iD,GAEb4iD,EAAW5iD,EASrB,GAHI84F,GAAkCI,EAAmBx9J,KACvDo9J,GAAiC,GAE/Bl0B,EAAYhxC,aAAeujE,GAAUnmE,EAAQslD,EAAkB4iB,EAAoBl1H,GAQrF,OAPA81H,EAAW91H,EAAK+iB,OACZiwG,EAAchzH,EAAKtoC,MACrBsoC,EAAKkc,QAAQrpD,SAEbmtC,EAAKixC,cAEPjxC,EAAO81H,GAGLl1B,EAAYjxC,YAvnBH,SAAU3vD,GAC/B,OAAOkzH,GAAalzH,EAAM,UAAYA,EAAKgwC,WAAWvqF,QAAU8+F,GAsnB1BwxE,CAAiB/1H,IAASmzH,GAAUnmE,EAAQslD,EAAkB4iB,EAAoBl1H,KAC9G+yH,GAAcnyE,EAAU3yD,EAAM+kI,EAAehzH,GAE/CA,EAAOA,EAAK+iB,UAGfiqC,GACC9J,EAAWljD,EAAO,IAAIw+F,GAAQvwG,EAAK8sE,SAAWna,EAAS8zE,UAAW,IAYtE,GAXAxgB,EAAOnhG,MAAM1+B,EAAM4Z,EAAKm5F,QACpB2T,GAAYg6B,EAAgBztK,SACzB2mC,EAAK8sE,QAGR9sE,EAAK2mH,SAAU,EA3ZI,SAAU1/D,GACjC,IAAI+X,EAAIjtD,EAAM+iB,EAAQkvC,EAAS+jE,EAAWC,EAAaH,EAAU3Z,EAAWv3J,EACxEo3E,EAASymD,EACTyzC,EAAuB/B,GAAU,oCACjC7hB,EAAmBtlD,EAAO6F,sBAC1BugE,EAAqBpmE,EAAO+F,wBAC5BojE,EAAoBnpE,EAAOyF,uBAC3BpG,EAAkBW,EAAOgG,qBAC7B,IAAK/F,EAAK,EAAGA,EAAK/X,EAAM5tF,OAAQ2lG,IAE9B,IADAjtD,EAAOk1C,EAAM+X,IACHlqC,SAAU/iB,EAAKo2H,MAGzB,GAAID,EAAkBn2H,EAAKtoC,OAA8B,OAArBsoC,EAAK+iB,OAAOrrD,KAAhD,CAEE,IADAskE,EAAUh8B,EAAKj/B,KACRi7D,GACDm6F,EAAkBn6F,EAAQtkE,OAC5BskE,EAAQtkE,KAAO,KACfskE,EAAQo6F,OAAQ,EAChBp2H,EAAK+iB,OAAO07E,OAAOziE,EAASh8B,EAAK+iB,QAInCiZ,EAAUA,EAAQj7D,KAEpBi/B,EAAKixC,OAAOjxC,OAZd,CAgBA,IADAiyD,EAAU,CAACjyD,GACN+iB,EAAS/iB,EAAK+iB,OAAQA,IAAWiqC,EAAOiG,aAAalwC,EAAOrrD,KAAMsoC,EAAKtoC,QAAUw+J,EAAqBnzG,EAAOrrD,MAAOqrD,EAASA,EAAOA,OACvIkvC,EAAQ7qG,KAAK27D,GAEf,GAAIA,GAAUkvC,EAAQ3qG,OAAS,EAAG,CAGhC,IAFA2qG,EAAQp0F,UACRm4J,EAAYC,EAActB,EAAW1iE,EAAQ,GAAGhnG,SAC3CrG,EAAI,EAAGA,EAAIqtG,EAAQ3qG,OAAS,EAAG1C,IAAK,CAOvC,IANIooG,EAAOiG,aAAagjE,EAAYv+J,KAAMu6F,EAAQrtG,GAAG8S,OACnDo+J,EAAWnB,EAAW1iE,EAAQrtG,GAAGqG,SACjCgrK,EAAYxoI,OAAOqoI,IAEnBA,EAAWG,EAER9Z,EAAYlqD,EAAQrtG,GAAGorF,WAAYmsE,GAAaA,IAAclqD,EAAQrtG,EAAI,IAC7E69H,EAAW05B,EAAUp7I,KACrB+0J,EAASroI,OAAO0uH,GAChBA,EAAY15B,EAEdwzC,EAAcH,EAEX3C,GAAUnmE,EAAQslD,EAAkB8gB,EAAoB4C,GAI3DjzG,EAAO07E,OAAOz+F,EAAMiyD,EAAQ,IAAI,IAHhClvC,EAAO07E,OAAOu3B,EAAW/jE,EAAQ,IAAI,GACrClvC,EAAO07E,OAAOz+F,EAAMg2H,IAItBjzG,EAASkvC,EAAQ,IACbkhE,GAAUnmE,EAAQslD,EAAkB8gB,EAAoBrwG,IAAWmwG,GAAanwG,EAAQ,QAC1FA,EAAO7G,QAAQrpD,cAEZ,GAAImtC,EAAK+iB,OAAQ,CACtB,GAAkB,OAAd/iB,EAAKtoC,KAAe,CAEtB,IADAskE,EAAUh8B,EAAKmjD,QACkB,OAAjBnnB,EAAQtkE,MAAkC,OAAjBskE,EAAQtkE,MAAgB,CAC/DskE,EAAQvuC,OAAOuS,GACf,SAGF,IADAg8B,EAAUh8B,EAAKj/B,QACkB,OAAjBi7D,EAAQtkE,MAAkC,OAAjBskE,EAAQtkE,MAAgB,CAC/DskE,EAAQyiE,OAAOz+F,EAAMg8B,EAAQgU,YAAY,GACzC,SAEFhwC,EAAKilE,KAAK0vD,EAAW,IAAIn2B,GAAQ,KAAM,KACvC,SAEExxC,EAAOiG,aAAajzD,EAAK+iB,OAAOrrD,KAAM,QAAUs1F,EAAOiG,aAAa,MAAOjzD,EAAKtoC,MAClFsoC,EAAKilE,KAAK0vD,EAAW,IAAIn2B,GAAQ,MAAO,KAEpCnyC,EAAgBrsD,EAAKtoC,MACvBsoC,EAAKkc,QAAQrpD,SAEbmtC,EAAKixC,WAyUTolF,CAAmBtB,IAKnBC,IAAoC,SAAlB9xE,EAASxrF,MAAmBu2B,EAAK0oH,gBA3OnC,WAClB,IAAgC51I,EAAMu1J,EAAlCt2H,EAAOkjD,EAASlT,WAChBjpF,EAAO,SAAUuvK,GACfA,KACFt2H,EAAOs2H,EAActmF,aACK,IAAdhwC,EAAKv1C,OACfu1C,EAAKv6C,MAAQu6C,EAAKv6C,MAAM4C,QAAQ8sK,EAAuB,MAEzDn1H,EAAOs2H,EAAcrmF,YACK,IAAdjwC,EAAKv1C,OACfu1C,EAAKv6C,MAAQu6C,EAAKv6C,MAAM4C,QAAQ+sK,EAAqB,OAI3D,GAAKpoE,EAAOiG,aAAa/P,EAASxrF,KAAMs9J,EAAclrK,eAAtD,CAGA,KAAOk2C,GACLj/B,EAAOi/B,EAAKj/B,KACM,IAAdi/B,EAAKv1C,MAA4B,IAAdu1C,EAAKv1C,MAA4B,MAAdu1C,EAAKtoC,OAAiBs7J,EAAchzH,EAAKtoC,QAAUsoC,EAAKuc,KAAK,kBAChG+5G,KACHA,EAAgBf,EAAWP,EAAe,IAC5Bz4G,KAAKqkC,EAASw8D,yBAC5Bl6D,EAASu7C,OAAO63B,EAAet2H,IAG/Bs2H,EAAc7oI,OAAOuS,KAGvBj5C,EAAKuvK,GACLA,EAAgB,MAElBt2H,EAAOj/B,EAETha,EAAKuvK,IA0MLC,IAEGtoI,EAAK2mH,QAAS,CACjB,IAAKl9I,KAAQ88J,EACX,GAAKA,EAAazuK,eAAe2R,GAAjC,CAMA,IAHAunB,EAAO22H,EAAYl+I,GAEnBk9J,GADA1/E,EAAQs/E,EAAa98J,IACVpQ,OACJstK,KACA1/E,EAAM0/E,GAAI7xG,QACbmyB,EAAMl/E,OAAO4+J,EAAI,GAGrB,IAAKhwK,EAAI,EAAGC,EAAIo6B,EAAK33B,OAAQ1C,EAAIC,EAAGD,IAClCq6B,EAAKr6B,GAAGswF,EAAOx9E,EAAMu2B,GAGzB,IAAKrpC,EAAI,EAAGC,EAAIgxJ,EAAiBvuJ,OAAQ1C,EAAIC,EAAGD,IAE9C,IADAq6B,EAAO42H,EAAiBjxJ,IACf8S,QAAQ+8J,EAAmB,CAGlC,IADAG,GADA1/E,EAAQu/E,EAAkBx1I,EAAKvnB,OACpBpQ,OACJstK,KACA1/E,EAAM0/E,GAAI7xG,QACbmyB,EAAMl/E,OAAO4+J,EAAI,GAGrB,IAAKA,EAAK,EAAGC,EAAK51I,EAAKuZ,UAAUlxC,OAAQstK,EAAKC,EAAID,IAChD31I,EAAKuZ,UAAUo8H,GAAI1/E,EAAOj2D,EAAKvnB,KAAMu2B,IAK7C,OAAOi1D,IAaT,OAvnBe,SAAUgxD,EAAQtzD,GACjC,IAAIoM,EAASknD,EAAOlnD,OAChBpM,EAAS41E,qBACXtiB,EAAOlhC,cAAc,MAAM,SAAU99B,EAAO3rF,EAAG0kC,GAC7C,IAAIrpC,EAEAo7C,EAGA+iB,EAAQ0gD,EAAYtgB,EAAMszE,EAE1B71B,EAAahiB,EANb/5H,EAAIqwF,EAAM5tF,OAEV0rK,EAAgB/mF,GAAMjnC,OAAO,GAAIgoD,EAAOsF,oBACxCggD,EAAmBtlD,EAAO6F,sBAE1BqiE,EAAqBloE,EAAO+F,wBAGhC,IADAigE,EAAcx9J,KAAO,EAChB5Q,EAAI,EAAGA,EAAIC,EAAGD,IAGjB,GADAm+D,GADA/iB,EAAOk1C,EAAMtwF,IACCm+D,OACViwG,EAAchzH,EAAK+iB,OAAOrrD,OAASsoC,IAAS+iB,EAAOktB,UAAW,CAEhE,IADAkT,EAAOnjD,EAAKmjD,KACLA,GAAM,CAEX,GAAiB,UADjBszE,EAAWtzE,EAAKzrF,OAC0C,aAA/ByrF,EAAK5mC,KAAK,iBAAiC,CACnD,OAAbk6G,IACFz2H,EAAO,MAET,MAEFmjD,EAAOA,EAAKA,KAEVnjD,IACFA,EAAKntC,SACDsgK,GAAUnmE,EAAQslD,EAAkB4iB,EAAoBnyG,KAC1D69E,EAAc5zC,EAAOkE,eAAenuC,EAAOrrD,SAErCkpI,EAAYhxC,YACd7sC,EAAOlwD,SACE+tI,EAAYjxC,WACrBojE,GAAcnyE,EAAU3yD,EAAM+kI,EAAejwG,SAKhD,CAEL,IADA0gD,EAAazjE,EACN+iB,GAAUA,EAAOitB,aAAeyzB,GAAc1gD,EAAOktB,YAAcwzB,IACxEA,EAAa1gD,GACTiwG,EAAcjwG,EAAOrrD,QAGzBqrD,EAASA,EAAOA,OAEd0gD,IAAe1gD,IAA0C,IAAhC69B,EAASqyE,sBACpCr0C,EAAW,IAAI4f,GAAQ,QAAS,IACvB/4I,MAAQ8+F,GACjBvkD,EAAK33C,QAAQu2H,QAMvBs1B,EAAOggB,mBAAmB,QAAQ,SAAUh/E,GAC1C,IAO4B4M,EACtB40E,EARF9xK,EAAIswF,EAAM5tF,OAed,IAAKs5F,EAAS+1E,yBACZ,KAAO/xK,KAAK,CACV,IAAIo7C,EAAOk1C,EAAMtwF,GACC,MAAdo7C,EAAKtoC,MAAwC,WAAxBsoC,EAAKuc,KAAK,WACjCvc,EAAKuc,KAAK,OAXVm6G,YADsB50E,EAYO9hD,EAAKuc,KAAK,QAXxB0vB,GAAMllF,KAAK+6F,GAAO,GAChC,kBAAkBx3F,KAAKosK,GAGnBA,EAXK,SAAU50E,GAIxB,OAHYA,EAAIl6F,MAAM,KAAK4a,QAAO,SAAUxc,GAC1C,OAAOA,EAAEsB,OAAS,KAEP0sB,OAAO,CAAC,aAAajB,OAAOroB,KAAK,KAKrCksK,CAAUF,SAclB91E,EAASi2E,4BACZ3iB,EAAOggB,mBAAmB,WAAW,SAAUh/E,GAE7C,IADA,IAAsBlZ,EAAS2T,EAAa5sB,EAAQ/iB,EAAhDp7C,EAAIswF,EAAM5tF,OACP1C,KAEL,GAAkB,OADlBo7C,EAAOk1C,EAAMtwF,IACJ8S,MAAgBsoC,EAAKgwC,aAAehwC,EAAKuc,KAAK,QAAS,CAC9DwG,EAAS/iB,EAAK+iB,OACdiZ,EAAUh8B,EAAKiwC,UACf,GACEN,EAAc3T,EAAQmnB,KACtBpgC,EAAO07E,OAAOziE,EAASh8B,GACvBg8B,EAAU2T,QACH3T,OAKb4kB,EAASk2E,mBACX5iB,EAAOlhC,cAAc,SAAS,SAAU99B,GAEtC,IADA,IAAsBl1C,EAAMltC,EAAxBlO,EAAIswF,EAAM5tF,OACP1C,KAGL,GAAwB,QADxBkO,GADAktC,EAAOk1C,EAAMtwF,IACKm+D,QACHrrD,MAAqC,OAApB5E,EAAW4E,KACzC,GAAIsoC,EAAKmjD,MAA2B,OAAnBnjD,EAAKmjD,KAAKzrF,KACzBsoC,EAAKmjD,KAAK11D,OAAOuS,OACZ,CACL,IAAIwxD,EAAK,IAAIgtC,GAAQ,KAAM,GAC3BhtC,EAAGj1C,KAAK,QAAS,yBACjBvc,EAAKilE,KAAKzT,OAMhB5Q,EAASm6C,UAAY/tC,EAAOqF,mBAC9B6hD,EAAOggB,mBAAmB,SAAS,SAAUh/E,GAI3C,IAHA,IAAsBl1C,EAAM3yC,EAAWirG,EAAIprG,EAAW6pK,EAElDC,EAAiB31B,EAFjBz8I,EAAIswF,EAAM5tF,OACVymG,EAAef,EAAOqF,kBAEnBztG,KAAK,CAIV,IAFAyI,GADA2yC,EAAOk1C,EAAMtwF,IACI23D,KAAK,SAAS30D,MAAM,KACrCmvK,EAAa,GACRz+D,EAAK,EAAGA,EAAKjrG,EAAU/F,OAAQgxG,IAClCprG,EAAYG,EAAUirG,GACtB+oC,GAAQ,GACR21B,EAAkBjpE,EAAa,OACRipE,EAAgB9pK,KACrCm0I,GAAQ,GAEV21B,EAAkBjpE,EAAa/tD,EAAKtoC,OAC/B2pI,GAAS21B,GAAmBA,EAAgB9pK,KAC/Cm0I,GAAQ,GAENA,IACE01B,IACFA,GAAc,KAEhBA,GAAc7pK,GAGb6pK,EAAWzvK,SACdyvK,EAAa,MAEf/2H,EAAKuc,KAAK,QAASw6G,OAIzBzD,GAA0Bpf,EAAQtzD,GA4dlCq2E,CAAW1yK,EAASq8F,GAh4BL,SAAUiwE,EAAWjwE,GAChCA,EAASs2E,eACXjG,GAAWJ,EAAWjwE,GA+3BxBu2E,CAAW5yK,EAASq8F,GACbr8F,GAqLL+lB,GAAU,SAAUg2E,EAAQtgD,EAAM/R,GACpC,OAJoB,SAAUqyD,EAAQryD,GACtC,OAAOqyD,GAAUA,EAAO82E,kBAAkB,gBAAkBnpI,EAAKg2G,UAG1DozB,CAAgB/2E,EAAQryD,GA5BhB,SAAUqyD,EAAQtgD,EAAM/R,GACvC,IAAI0rB,EAAK29G,EACLnqF,EAAMmT,EAAOnT,IACjBntC,EAAOA,EAAK0lB,WAAU,GACtB,IAAI6xG,EAAO3wK,SAASyhK,eAkBpB,OAjBIkP,EAAKjP,qBACP3uG,EAAM49G,EAAKjP,mBAAmB,IAC9Br8E,GAAM31B,KAAuB,SAAlBtW,EAAKgC,SAAsBhC,EAAKwV,WAAa,CAACxV,IAAO,SAAUA,GACxE2Z,EAAInkD,KAAKhD,YAAYmnD,EAAIgnG,WAAW3gH,GAAM,OAG1CA,EADoB,SAAlBA,EAAKgC,SACA2X,EAAInkD,KAAKw6E,WAETr2B,EAAInkD,KAEb8hK,EAASnqF,EAAIxzB,IACbwzB,EAAIxzB,IAAMA,GAv3PO,SAAU2mC,EAAQryD,GAC9BqyD,EAAOn0B,KAAK,aAAcl+B,GAw3PjCupI,CAAel3E,EAAQhb,GAASA,GAAS,GAAIr3C,GAAO,CAAE+R,KAAMA,KACxDs3H,IACFnqF,EAAIxzB,IAAM29G,GAELt3H,EAMgCy3H,CAAWn3E,EAAQtgD,EAAM/R,GAAQ+R,GAGtE03H,GAAc,SAAUC,EAAYj0B,EAAWhsI,IACT,IAApCu0E,GAAM5wB,QAAQqoF,EAAWhsI,KAC3BigK,EAAWzD,mBAAmBx8J,GAAM,SAAUw9E,EAAOx9E,GAEnD,IADA,IAAI9S,EAAIswF,EAAM5tF,OACP1C,KACLswF,EAAMtwF,GAAG23D,KAAK7kD,EAAM,SAGxBgsI,EAAUt8I,KAAKsQ,KAyBfkgK,GAAS,SAAUt3E,EAAQM,EAAUoM,EAAQ9J,EAAUj1D,GAEzD,OAxBkB,SAAUqyD,EAAQryD,EAAMvZ,GAC1C,OAAKuZ,EAAKg2G,WAAa3jD,EA/4PH,SAAUA,EAAQryD,GACtC,OAAOqyD,EAAOn0B,KAAK,cAAel+B,GA+4PlB4pI,CAAgBv3E,EAAQhb,GAASA,GAAS,GAAIr3C,GAAO,CAAEvZ,QAASA,KAC/DA,QAERA,EAmBFojJ,CAAcx3E,EAAQryD,EANX,SAAU2yD,EAAUoM,EAAQhtD,GAE9C,OADqBolG,GAAexkD,EAAUoM,GACxB1gE,UAAU0T,GAGlB+3H,CAAcn3E,EAAUoM,EAAQ9J,KAG5C80E,GAAoB,SAAUp3E,EAAUN,GAC1C,IAAIojD,EAAY,CAAC,qBACbv2D,EAAMmT,GAAUA,EAAOnT,IAAMmT,EAAOnT,IAAMs5B,GAAS2D,IACnDpd,EAAS1M,GAAUA,EAAO0M,OAAS1M,EAAO0M,OAASd,GAAOtL,GAC9DA,EAASqkD,gBAAkBrkD,EAASqkD,iBAAmB,QACvDrkD,EAAS41E,sBAAsB,wBAAyB51E,IAAWA,EAAS41E,oBAC5E,IAAImB,EAAapD,GAAU3zE,EAAUoM,IAjOtB,SAAU2qE,EAAY/2E,EAAUzT,GAC/CwqF,EAAWzD,mBAAmB,qBAAqB,SAAUh/E,EAAOx9E,GAElE,IADA,IAAsBsoC,EAAlBp7C,EAAIswF,EAAM5tF,OACP1C,MACLo7C,EAAOk1C,EAAMtwF,IACR23D,KAAK,WAAYvc,EAAKuc,KAAK,sBAChCvc,EAAKuc,KAAK7kD,EAAM,SAGpBigK,EAAWzD,mBAAmB,kBAAkB,SAAUh/E,EAAOx9E,GAK/D,IAJA,IAAsBsoC,EAAMv6C,EAAxBb,EAAIswF,EAAM5tF,OACV2wK,EAAe,YAAcvgK,EAC7Bq8F,EAAenT,EAASoT,cACxBC,EAAoBrT,EAASsT,oBAC1BtvG,UAGSuS,KADd1R,GADAu6C,EAAOk1C,EAAMtwF,IACA23D,KAAK07G,KAEhBj4H,EAAKuc,KAAK7kD,EAAMjS,EAAM6B,OAAS,EAAI7B,EAAQ,MAC3Cu6C,EAAKuc,KAAK07G,EAAc,QAExBxyK,EAAQu6C,EAAKuc,KAAK7kD,GACL,UAATA,EACFjS,EAAQ0nF,EAAI88B,eAAe98B,EAAI68B,WAAWvkH,GAAQu6C,EAAKtoC,MAC9Cq8F,IACTtuG,EAAQsuG,EAAajvG,KAAKmvG,EAAmBxuG,EAAOiS,EAAMsoC,EAAKtoC,OAEjEsoC,EAAKuc,KAAK7kD,EAAMjS,EAAM6B,OAAS,EAAI7B,EAAQ,UAIjDkyK,EAAWzD,mBAAmB,SAAS,SAAUh/E,GAE/C,IADA,IAAsBl1C,EAAMv6C,EAAxBb,EAAIswF,EAAM5tF,OACP1C,MAELa,GADAu6C,EAAOk1C,EAAMtwF,IACA23D,KAAK,YAEhB92D,EAAQu6C,EAAKuc,KAAK,SAASl0D,QAAQ,8BAA+B,IAClE23C,EAAKuc,KAAK,QAAS92D,EAAM6B,OAAS,EAAI7B,EAAQ,UAIpDkyK,EAAWzD,mBAAmB,iBAAiB,SAAUh/E,EAAOx9E,EAAMu2B,GAEpE,IADA,IAAsB+R,EAAlBp7C,EAAIswF,EAAM5tF,OACP1C,KAE8B,cADnCo7C,EAAOk1C,EAAMtwF,IACJ23D,KAAK,kBAAoCtuB,EAAK0+E,UACnChqC,EAASt8E,KAAK25C,EAAKgwC,YAAY5N,QAAO,SAAU4N,GAChE,OAAQyU,GAASzU,EAAWvqF,UAG5Bu6C,EAAKixC,SAELjxC,EAAKntC,aAKb8kK,EAAW3kD,cAAc,YAAY,SAAU99B,GAE7C,IADA,IAAsBl1C,EAAlBp7C,EAAIswF,EAAM5tF,OACP1C,MACLo7C,EAAOk1C,EAAMtwF,GAAGorF,cAEdhwC,EAAKv6C,MAAQwlG,GAASO,OAAOxrD,EAAKv6C,WAIxCkyK,EAAW3kD,cAAc,gBAAgB,SAAU99B,EAAOx9E,GAKxD,IAJA,IAAsBsoC,EAAMv6C,EAAOgF,EAA/B7F,EAAIswF,EAAM5tF,OACVP,EAAO,SAAUtB,GACnB,OAAOA,EAAM4C,QAAQ,2BAA4B,MAAMA,QAAQ,qBAAsB,IAAIA,QAAQ,0HAA2H,IAAIA,QAAQ,4GAA6G,KAEhVzD,KAELa,GADAu6C,EAAOk1C,EAAMtwF,IACAorF,WAAahwC,EAAKgwC,WAAWvqF,MAAQ,GACrC,WAATiS,IACFjN,EAAOu1C,EAAKuc,KAAK,UAEfvc,EAAKuc,KAAK,OAAiB,gBAAT9xD,EAAyB,KAAOA,EAAKpC,QAAQ,SAAU,KAE3C,UAA5Bu4F,EAASukD,gBAA8B1/I,EAAM6B,OAAS,IACxD04C,EAAKgwC,WAAWvqF,MAAQ,iBAAmBsB,EAAKtB,GAAS,aAG3B,UAA5Bm7F,EAASukD,gBAA8B1/I,EAAM6B,OAAS,IACxD04C,EAAKgwC,WAAWvqF,MAAQ,YAAWsB,EAAKtB,GAAS,eAKzDkyK,EAAW3kD,cAAc,YAAY,SAAU99B,GAE7C,IADA,IAAsBl1C,EAAlBp7C,EAAIswF,EAAM5tF,OACP1C,KACLo7C,EAAOk1C,EAAMtwF,GACTg8F,EAASsiD,gBAAoD,IAAlCljG,EAAKv6C,MAAMsQ,QAAQ,YAChDiqC,EAAKtoC,KAAO,SACZsoC,EAAKv1C,KAAO,EACZu1C,EAAKv6C,MAAQ0nF,EAAIqe,OAAOxrD,EAAKv6C,MAAM4C,QAAQ,oBAAqB,MACd,IAAzC23C,EAAKv6C,MAAMsQ,QAAQ,oBAC5BiqC,EAAKtoC,KAAO,QACZsoC,EAAKv1C,KAAO,EACZu1C,EAAK60C,KAAM,EACX70C,EAAKv6C,MAAQ+8I,SAASxiG,EAAKv6C,OAAOwhF,OAAO,QAI/C0wF,EAAW3kD,cAAc,uBAAuB,SAAU99B,EAAOx9E,GAE/D,IADA,IAAsBsoC,EAAlBp7C,EAAIswF,EAAM5tF,OACP1C,KAEa,KADlBo7C,EAAOk1C,EAAMtwF,IACJ6F,KACPu1C,EAAKntC,SACkB,IAAdmtC,EAAKv1C,OACD,UAATiN,GAAqBsoC,EAAKuc,KAAK,SACjCvc,EAAKuc,KAAK,OAAQ,YAK1Bo7G,EAAWzD,mBAAmB,iBAAiB,SAAUh/E,GACvD5+B,EAAK4+B,GAAO,SAAUl1C,GACe,iBAA/BA,EAAKuc,KAAK,mBACRvc,EAAKsnD,QAAQqwE,EAAW3qE,OAAO6F,uBACjC7yD,EAAKntC,SAELmtC,EAAKixC,gBAKb0mF,EAAWzD,mBAAmB,mIAA6I,SAAUh/E,EAAOx9E,GAE1L,IADA,IAAI9S,EAAIswF,EAAM5tF,OACP1C,KACLswF,EAAMtwF,GAAG23D,KAAK7kD,EAAM,SA6FxBwgK,CAAWP,EAAY/2E,EAAUzT,GAWjC,MAAO,CACL6f,OAAQA,EACRgmB,cAAe2kD,EAAW3kD,cAC1BkhD,mBAAoByD,EAAWzD,mBAC/B5nI,UAdc,SAAU0T,EAAMu0G,QACX,IAAfA,IACFA,EAAa,IAEf,IAAItmH,EAAOq3C,GAAS,CAAE8hD,OAAQ,QAAUmtB,GACpC/sD,EAAal9E,GAAQg2E,EAAQtgD,EAAM/R,GACnC5Z,EAhCc,SAAU84D,EAAKntC,EAAM/R,GACzC,IAAI5Z,EAAOqwE,GAAOz2D,EAAK+1G,SAAWhkG,EAAKl5C,UAAYqmF,EAAIq9B,aAAaxqE,IACpE,OAAO/R,EAAKsjF,WAAajtB,GAAoBlX,GAAaF,QAAQltC,IAAS3rB,EAAO43D,GAAMllF,KAAKstB,GA8BhF8jJ,CAAgBhrF,EAAKqa,EAAYv5D,GACxCi1D,EA7BQ,SAAUy0E,EAAYtjJ,EAAM4Z,GAC1C,IAAIsmH,EAAatmH,EAAKsjF,UAAYjsC,GAAS,CAAEy7E,mBAAmB,GAAS9yH,GAAQA,EAC7Ei1D,EAAWy0E,EAAW5kH,MAAM1+B,EAAMkgI,GAEtC,OAxEmB,SAAUrxD,GAC7B,IAAIvP,EAAO,SAAU3zC,GACnB,OAAOA,GAAsB,OAAdA,EAAKtoC,MAElB0gK,EAAUl1E,EAASjT,UACvB,GAAI0D,EAAKykF,GAAU,CACjB,IAAIC,EAAUD,EAAQj1E,KAClBxP,EAAK0kF,KACPD,EAAQvlK,SACRwlK,EAAQxlK,WA8DZylK,CAAep1E,GACRA,EAyBUq1E,CAAUZ,EAAYtjJ,EAAM4Z,GAC3C,MAAuB,SAAhBA,EAAKm5F,OAAoBlkC,EAAW00E,GAAOt3E,EAAQM,EAAUoM,EAAQ9J,EAAUj1D,IAOtFuqI,SAAU,SAAUC,GAClBzrE,EAAO6B,iBAAiB4pE,IAE1BC,SAAU,SAAUD,GAClBzrE,EAAOqD,iBAAiBooE,IAE1Bf,YAAa92F,EAAM82F,GAAaC,EAAYj0B,GAC5CG,aAAcnjE,EAASgjE,GACvB4S,eAAgBqhB,EAAWrhB,eAC3BC,oBAAqBohB,EAAWphB,sBAIhCoiB,GAAgB,SAAU/3E,EAAUN,GACtC,IAAIs4E,EAAgBZ,GAAkBp3E,EAAUN,GAChD,MAAO,CACL0M,OAAQ4rE,EAAc5rE,OACtBgmB,cAAe4lD,EAAc5lD,cAC7BkhD,mBAAoB0E,EAAc1E,mBAClC5nI,UAAWssI,EAActsI,UACzBksI,SAAUI,EAAcJ,SACxBE,SAAUE,EAAcF,SACxBhB,YAAakB,EAAclB,YAC3B7zB,aAAc+0B,EAAc/0B,aAC5ByS,eAAgBsiB,EAActiB,eAC9BC,oBAAqBqiB,EAAcriB,sBAKnCsiB,GAAe,SAAUv4E,EAAQryD,GAKnC,YAJa,IAATA,IACFA,EAAO,IA9pDM,SAAUqyD,EAAQryD,EAAMm5F,GACvC,OAAOqlC,GAA2BnsE,GAAQA,OAAO1gC,WAAW3xB,EAAMm5F,GAgqD3DxnE,CAAW0gC,EAAQryD,EADbA,EAAKm5F,OAASn5F,EAAKm5F,OALZ,SASlB0xC,GAAe,SAAUx4E,EAAQ5rE,EAASuZ,GAI5C,YAHa,IAATA,IACFA,EAAO,IAnqDM,SAAUqyD,EAAQ5rE,EAASuZ,GAC1C,OAAOw+H,GAA2BnsE,GAAQA,OAAOx1B,WAAWp2C,EAASuZ,GAoqD9D68B,CAAWw1B,EAAQ5rE,EAASuZ,IAGjC8qI,GAAQtyD,GAAS2D,IAIjB4uD,GAAc,SAAUltK,GAC1B,OAAO62E,EAASt8E,KAAKyF,GAAGwqD,MAAK,SAAUxqD,GACrC,OAAOA,EAAEyB,cAqBT0rK,GAAW,SAAU34E,GACvB,IAAKA,EAAOC,QAAS,CACnB,IAAIm0D,EAAsBp0D,EAAOo0D,oBAAqBwkB,EAAe54E,EAAO44E,aACxE1jK,EAAO8qF,EAAOmxB,UACdtlH,EAAUm0F,EAAOn7C,aACjB3vC,GACF8qF,EAAOlxF,KAAK,CAAE+pK,aAAa,IAE7B74E,EAAOC,SAAU,EACjBD,EAAO84E,wBACH94E,EAAO+4E,gBAAkBltK,GAC3B4sK,GAAMlmK,OAAO1G,EAAQwG,aA/gQV,SAAU2tF,GAClBA,EAAOn0B,KAAK,UAghQjBmtG,CAAWh5E,GACXA,EAAO07C,cAAcnpI,OAAOytF,IACvBA,EAAOvuF,QAAUyD,GAzCE,SAAU8qF,GACpCy4E,GAAMj2G,SAASw9B,EAAO7/D,GAAI,UAAW6/D,EAAOi5E,YAyCxCC,CAAsBl5E,GAjhQX,SAAUA,GAClBA,EAAOn0B,KAAK,UAkhQjBstG,CAAWn5E,GACXy4E,GAAMlmK,OAAOytF,EAAOnhC,gBACpB65G,GAAYtkB,GACZskB,GAAYE,GACZ54E,EAAO/yF,YAGPA,GAAU,SAAU+yF,EAAQo5E,GAC9B,IAAInoD,EAAYjxB,EAAOixB,UAAWpkC,EAAMmT,EAAOnT,IAC3CmT,EAAOq5E,YAGND,GAAcp5E,EAAOC,SAIrBm5E,IACHp5E,EAAO07C,cAAcxkD,IAAI,eAAgB8I,EAAOs5E,eAC5Ct5E,EAAOvwF,OAASuwF,EAAOvwF,MAAMxC,SAC/B+yF,EAAOvwF,MAAMxC,UAEfyrK,GAAYznD,GACZynD,GAAY7rF,IAlDE,SAAUmT,GAC1B,IAAI94C,EAAO84C,EAAOu5E,YACdryH,IACEA,EAAKsyH,gBACPtyH,EAAKuyH,OAASvyH,EAAKsyH,cACnBtyH,EAAKsyH,cAAgB,MAEvBf,GAAM1gE,OAAO7wD,EAAM,eAAgB84C,EAAO05E,oBA6C5CC,CAAY35E,GA5DW,SAAUA,GACjCA,EAAO45E,qBAAuB55E,EAAOu5E,YAAcv5E,EAAO/xF,UAAY+xF,EAAO65E,gBAAkB,KAC/F75E,EAAO85E,YAAc95E,EAAOmlB,gBAAkBnlB,EAAO9qE,cAAgB,KACrE8qE,EAAO48C,cAAgB58C,EAAO+xC,UAAY,KACtC/xC,EAAOixB,YACTjxB,EAAOixB,UAAYjxB,EAAOixB,UAAU73D,IAAM4mC,EAAOixB,UAAUpkC,IAAMmT,EAAOixB,UAAUpkC,IAAIxzB,IAAM,MAwD9F0gH,CAAmB/5E,GACnBA,EAAOq5E,WAAY,GAbjBr5E,EAAOztF,WAgBPynK,GAAmBp1K,OAAOY,UAAUC,eA0BpCw0K,IArBsBvM,GAJb,SAAU/yD,EAAKt1B,GAE1B,OADkB9uE,EAASokG,IAAQpkG,EAAS8uE,GACvB40F,GAAUt/D,EAAKt1B,GAAMA,GAGnC,WAEL,IADA,IAAInyB,EAAU,GACL3L,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC2L,EAAQ3L,GAAMphD,UAAUohD,GAE1B,GAAuB,IAAnB2L,EAAQlsD,OACV,MAAM,IAAIgH,MAAM,4BAGlB,IADA,IAAIwqF,EAAM,GACD76E,EAAI,EAAGA,EAAIu1C,EAAQlsD,OAAQ2W,IAAK,CACvC,IAAIu8J,EAAYhnH,EAAQv1C,GACxB,IAAK,IAAIxS,KAAO+uK,EACVF,GAAiBx1K,KAAK01K,EAAW/uK,KACnCqtF,EAAIrtF,GAAOuiK,GAAOl1E,EAAIrtF,GAAM+uK,EAAU/uK,KAI5C,OAAOqtF,IAWP2hF,GAAkB7vF,KAAWd,WAC7BI,GAAUuwF,GAAgBvwF,UAC1BE,GAAUqwF,GAAgBrwF,UAC1BD,GAAWswF,GAAgBtwF,WAC3BuwF,GAAsB,CACxB,QACA,WACA,YAEEC,GAAuB,CACzBC,YAAY,EACZC,iBAAiB,EACjBx8H,QAAQ,GAENy8H,GAAmB,SAAU5P,GAC/B,IAAI6P,EAAcz0K,EAAQ4kK,GAAWA,EAAQxgK,KAAK,KAAOwgK,EACrD8P,EAAiBrxK,EAAIm2E,EAASi7F,GAAeA,EAAYnzK,MAAM,KAAO,GAAIb,IAC9E,OAAOyb,EAAOw4J,GAAgB,SAAU9xH,GACtC,OAAOA,EAAK5hD,OAAS,MAMrB2zK,GAAkB,SAAU5zK,EAAMu5F,GACpC,IAAIlsF,EAAS0vE,GAASwc,GAAU,SAAUn7F,EAAOgG,GAC/C,OAAO6G,EAASjL,EAAMoE,MAExB,OAlCkB,SAAUyvK,EAAUt6E,GACtC,MAAO,CACLs6E,SAAUx6F,EAASw6F,GACnBt6E,SAAUlgB,EAASkgB,IA+Bdu6E,CAAczmK,EAAOlQ,EAAGkQ,EAAO1L,IAUpCoyK,GAAa,SAAUD,EAAezjK,GACxC,OAAOyjK,EAAcD,WAAWn1K,eAAe2R,IAS7C2jK,GAAiB,SAAUz6E,EAAUqmB,GACvC,OAAO1iC,GAAMqc,EAAU,gBAAgBze,SAAQ,WAC7C,OAAOoC,GAAMqc,EAAU,kBAAkBj3F,KAAI,SAAUw0B,GACrD,OAAe,IAARA,EAAgB,OAASA,QAEjC0jD,MAAMolC,IAgCPq0D,GAA2B,SAAUC,EAAgBnxF,GACvD,IAAIoxF,EAAwB,CAC1Bn9H,QAAQ,EACRo9H,aAAcJ,GAAeE,EAAgB,aAC7CG,gBAAgB,GAGlB,OAAOp2F,GAASA,GAASA,GAAS,GAAIq1F,IAAuBa,GAAwBpxF,EAD1D,CAAEuxF,SAAS,GACgF,KAEpHC,GAAuB,SAAUC,EAAkBj7E,GACrD,IAAIk7E,EAA6Bl7E,EAASm7E,iBAAmBn7E,EAASm7E,iBAAmB,GACzF,OAAIF,GAAoBA,EAAiBE,iBAChC9vF,GAAMjnC,OAAO,GAAI62H,EAAiBE,iBAAkBD,GAEpDA,GAMPE,GAAqB,SAAUC,EAAgBd,EAAee,EAAgBC,GAChF,OAAIF,GAjEe,SAAUd,EAAezjK,EAAM3H,GAClD,IAAIqsK,EAAUjB,EAAcD,WAC5B,OAAOE,GAAWD,EAAezjK,IAAS0kK,EAAQ1kK,GAAM3H,QAAUA,EA+D5CssK,CAAelB,EAAe,SAAU,UApFvD34J,EAqF4B25J,EArFZv7F,EAAMtuE,EAAUooK,KAsF5BuB,GAAkBb,GAAWD,EAAe,UAC9CgB,EAEAD,GAGPI,GAAiB,SAAUL,EAAgBd,EAAeoB,EAAyB37E,GACrF,IAAI47E,EAAgB1B,GAAiByB,EAAwBE,gBACzDP,EAAiBpB,GAAiBl6E,EAASsqE,SAC3CwR,EAxEiB,SAAUvB,EAAezjK,GAC9C,OAAO0jK,GAAWD,EAAezjK,GAAQyjK,EAAcD,WAAWxjK,GAAQ,GAuEvDilK,CAAiBxB,EAAe,UAC/CgB,EAAgBO,EAAaxR,QAAU4P,GAAiB4B,EAAaxR,SAAWgR,EAEhFU,EAlBe,SAAUJ,EAAetR,GAC5C,MAAO,GAAGl3I,OAAO8mJ,GAAiB0B,IAAgBxoJ,OAAO8mJ,GAAiB5P,IAiBpD2R,CAAeL,EADfR,GAAmBC,EAAgBd,EAAee,EAAgBC,IAExF,GAAIlxF,GAAIrE,QAAQuB,QAAU71E,EAASsqK,EAAiB,OAClD,MAAM,IAAItuK,MAAM,yCAElB,OAAO29E,GAAMjnC,OAAO47C,EAAU,CAAEsqE,QAAS0R,EAAgBlyK,KAAK,QAK5DoyK,GAAkB,SAAUb,EAAgB7xF,EAAS2yF,EAAiBR,EAAyB37E,GACjG,IAAIo8E,EAAwBf,EAAiB,CAAEgB,OAAQ3B,GAAyB16E,EAASq8E,QAAU,GAAI7yF,IAAa,GAChH+wF,EAAgBF,GAAgB,CAAC,UAAWV,GAAUyC,EAAuBp8E,IAC7Es8E,EAAmBjxF,GAAMjnC,OAAO+3H,EAAiBR,EAAyBpB,EAAcv6E,WAN7E,SAAUq7E,EAAgBd,GACzC,OAAOc,GAAkBb,GAAWD,EAAe,UAKqDgC,CAAWlB,EAAgBd,GAtGpH,SAAUA,EAAezjK,EAAMquG,QAC7B,IAAbA,IACFA,EAAW,IAEb,IAAIm1D,EAAWC,EAAcD,WACzBkC,EAAkBlC,EAASn1K,eAAe2R,GAAQwjK,EAASxjK,GAAQ,GACvE,OAAOu0E,GAAMjnC,OAAO,GAAI+gE,EAAUq3D,GAgGkHC,CAAWlC,EAAe,UAAY,GAAI,CAC5LpgC,UAAU,EACVghC,iBAAkBH,GAAqBW,EAAyBpB,EAAcv6E,cAEhF,OAAO07E,GAAeL,EAAgBd,EAAeoB,EAAyBW,IAE5EI,GAAoB,SAAUh9E,EAAQ7/D,EAAI88I,EAAiBhB,EAAyB37E,GACtF,IAAIm8E,EApFmB,SAAUn8E,EAAUngE,EAAI88I,EAAiBrzF,EAASoW,GACzE,IAAIk9E,EAAe,CACjB/8I,GAAIA,EACJ1wB,MAAO,SACP0rK,aAAcJ,GAAez6E,EAAU,YACvCsqE,QAAS,GACTuS,kBAAmBF,EACnBG,yBAAyB,EACzBC,cAAc,EACdC,oBAAoB,EACpBC,cAAc,EACdC,eAAe,EACfC,oBAAoB,EACpBlD,iBAAiB,EACjBz6B,QAAS,kBACT49B,QAAQ,EACR7M,wBAAyB,oDACzBpQ,kBAAmB,IACnBkd,cAAc,EACd/G,eAAe,EACfhG,wBAAwB,EACxBtsB,QAAQ,EACRE,cAAe,oMACfE,aAAc,oMACdC,gBAAiB,QACjBjxC,cAAe1T,EAAO49E,WACtBhqE,oBAAqB5T,GAEvB,OAAOhb,GAASA,GAAS,GAAIk4F,GAAetzF,EAAUywF,GAAuB,IAwDvDwD,CAAmBv9E,EAAUngE,EAAI88I,EAAiBrzF,GAASoW,GACjF,OAAOw8E,GAAgB1yF,IAAWD,GAAUC,GAAS2yF,EAAiBR,EAAyB37E,IAE7Fw9E,GAAc,SAAUt2I,EAAWw4D,EAAQ5oF,GAC7C,OAAOirE,EAASt8E,KAAKi6F,EAAOM,SAASlpF,IAAO8K,OAAOslB,IAuBjDozF,GAAW,SAAU56B,EAAQ5oF,EAAMuvG,EAAYx8G,GACjD,IANwBzE,EAMpBP,EAAQiS,KAAQ4oF,EAAOM,SAAWN,EAAOM,SAASlpF,GAAQuvG,EAC9D,MAAa,SAATx8G,EAvBe,SAAUhF,GAC7B,IAAIu2B,EAAS,GAab,MAZqB,iBAAVv2B,EACT6wD,EAAK7wD,EAAMsQ,QAAQ,KAAO,EAAItQ,EAAMmC,MAAM,6BAA+BnC,EAAMmC,MAAM,MAAM,SAAUu2B,GACnG,IAAIyZ,EAAMzZ,EAAIv2B,MAAM,KAChBgwC,EAAItwC,OAAS,EACf00B,EAAOiwD,GAAMllF,KAAK6wC,EAAI,KAAOq0C,GAAMllF,KAAK6wC,EAAI,IAE5C5b,EAAOiwD,GAAMllF,KAAK6wC,EAAI,KAAOq0C,GAAMllF,KAAK6wC,EAAI,OAIhD5b,EAASv2B,EAEJu2B,EAUEqiJ,CAAe54K,GACJ,WAATgF,EACF2zK,GAAYt+F,EAAUwgB,EAAQ5oF,GAAMmqE,MAAMolC,GAC/B,WAATx8G,EACF2zK,GAAY/9F,EAAUigB,EAAQ5oF,GAAMmqE,MAAMolC,GAC/B,YAATx8G,EACF2zK,GAAYp+F,EAAWsgB,EAAQ5oF,GAAMmqE,MAAMolC,GAChC,WAATx8G,EACF2zK,GAAYvnK,EAAUypF,EAAQ5oF,GAAMmqE,MAAMolC,GAC/B,UAATx8G,EACF2zK,GAAY93K,EAASg6F,EAAQ5oF,GAAMmqE,MAAMolC,GAC9B,aAATx8G,EACF2zK,IApBep4K,EAoBO85E,EAnBxB,SAAUp5E,GACf,OAAOJ,EAAQI,IAAM27E,EAAO37E,EAAGV,KAkBSs6F,EAAQ5oF,GAAMmqE,MAAMolC,GAC1C,aAATx8G,EACF2zK,GAAYh+F,EAAYkgB,EAAQ5oF,GAAMmqE,MAAMolC,GAE5CxhH,GAwBP64K,IAnBE36E,GAAS,GAaN,CACLtxF,IAbQ,SAAUouB,EAAI89I,GACtB56E,GAAOljE,GAAM89I,GAabl5K,IAXQ,SAAUo7B,GAClB,OAAIkjE,GAAOljE,GACFkjE,GAAOljE,GAET,CAAE+9I,MAAO,KAQhBpmK,IANU,SAAUqoB,GACpB,OAAOroB,GAAIurF,GAAQljE,MAUnBg+I,GAAU,SAAUC,EAAUtpF,GAEhC,OADaA,EAAIjI,IACHuxF,IAEZC,GAAsB,SAAUD,EAAUtpF,GAC5C,OAAOxrF,SAAS8qF,GAAMU,EAAKspF,GAAW,KAEpCE,GAAiBh+F,EAAM69F,GAAS,eAChCI,GAAkBj+F,EAAM69F,GAAS,gBACjCK,GAAel+F,EAAM+9F,GAAqB,cAC1CI,GAAgBn+F,EAAM+9F,GAAqB,eAoB3CK,GAAoB,SAAU1+E,EAAQh0F,EAASC,GACjD,IAnkkB8BJ,EAmkkB1B8yK,EAAU7xF,GAAaF,QAAQoT,EAAOmxB,WACtC4gB,EAAY/xC,EAAOvuF,OAASktK,GApkkBF9yK,EAokkB4B8yK,EAnkkBnD7xF,GAAaF,QAAQsC,GAAgBrjF,GAASghF,IAAI3+E,kBAokkBrD0wK,EAdU,SAAUntK,EAAQqjF,EAAK9oF,EAASC,GAC9C,IAAI4pH,EATwB,SAAU/gC,GACtC,OAAOA,EAAIjI,IAAI/gF,wBAQE+yK,CAAwB/pF,GAKzC,MAAO,CACLtpF,EAHMQ,GAFKyF,EAASokH,EAAW3pH,KAAO4oF,EAAIjI,IAAIqI,WAAaupF,GAAc3pF,GAAO,GAMhF9rF,EAHMiD,GAFKwF,EAASokH,EAAWzpH,IAAM0oF,EAAIjI,IAAIsI,UAAYqpF,GAAa1pF,GAAO,IAWzDgqF,CAAU9+E,EAAOvuF,OAAQsgI,EAAW/lI,EAASC,GACnE,OApB+B,SAAU0yK,EAAS3yK,EAASC,GAC3D,IAAI65D,EAAcw4G,GAAeK,GAC7B37G,EAAeu7G,GAAgBI,GACnC,OAAO3yK,GAAW,GAAKC,GAAW,GAAKD,GAAW85D,GAAe75D,GAAW+2D,EAiBrE+7G,CAA2BhtC,EAAW6sC,EAAgBpzK,EAAGozK,EAAgB51K,IAK9Eg2K,GAAwB,SAAUh/E,GACpC,IAJ0BtgD,EAItBu/H,EAAej/E,EAAOvuF,OAASuuF,EAAOmxB,UAAYnxB,EAAOk/E,0BAC7D,OAL0Bx/H,EAKPu/H,EAJZ58F,EAASt8E,KAAK25C,GAAMr2C,IAAIyjF,GAAaF,UAIXvjF,IAAIwnF,IAAQtP,OAAM,IAejD49F,GAAsB,SAAUn/E,GAClC,IAAIo/E,EAAgB,GAChBC,EAAoB,WACtB,IAdEC,EAcE7vK,EAAQuwF,EAAOvwF,MACnB,OAAOA,GAASA,EAAM8vK,2BAA6B9vK,EAAM8vK,6BAZpD,CACLpqJ,KAJEmqJ,EAAgB,WAClB,MAAM,IAAItxK,MAAM,gEAIhB4mB,MAAO0qJ,EACP3gD,WAAY2gD,EACZE,QAASF,IAUPG,EAAqB,WACvB,OAAOp9F,EAASt8E,KAAKq5K,EAAc,KAKjCzgD,EAAa,WACXygD,EAAcp4K,OAAS,GACzBq4K,IAAoB1gD,WAAWygD,IAM/BM,EAAoB,SAAUC,GAChCv9J,EAAUg9J,GAAe,SAAUQ,GACjC,OAAOA,IAAsBD,KAC5B3pH,MAAK,SAAUh/C,GAChBooK,EAAc1pK,OAAOsB,EAAO,OAG5Bme,EAAO,SAAU0qJ,EAAMC,GAIzB,QAHkB,IAAdA,IACFA,GAAY,IAEV9/E,EAAOC,SAAY++E,GAAsBh/E,GAM7C,OAHI8/E,GACF9/E,EAAOn0B,KAAK,yBAA0B,CAAE8zG,aAAcE,IAEjDhuK,EAAKutK,GAAe,SAAUO,GACnC,OA7BoBv5K,EA6BLi5K,IAAoBG,QAAQG,GA7BpB72K,EA6BmC+2K,IA5BrDz5K,EAAE+D,OAASrB,EAAEqB,MAAQ/D,EAAE6zD,OAASnxD,EAAEmxD,MAAS7zD,EAAE25K,aAAgB35K,EAAEgzC,SAAYtwC,EAAEi3K,aAAgBj3K,EAAEswC,SAD1F,IAAUhzC,EAAG0C,KA8BtB04E,YAAW,WACZwe,EAAO07C,cAAcE,UAAU57C,GAC/B,IAAI2/E,EAAeN,IAAoBlqJ,KAAK0qJ,GAAM,WAChDH,EAAkBC,GAClBhhD,IACA8gD,IAAqBt+F,MAAK,WACxB,OAAO6e,EAAOh4F,WACb,SAAUoE,GACX,OAAa0gF,GAAaF,QAAQxgF,EAAI4zK,SA52O/BnzF,IAAI7kF,cAk3Of,OApCkB,SAAU23K,GAC9BP,EAAct4K,KAAK64K,GAgCjBM,CAAgBN,GAChBhhD,IACA3+B,EAAOn0B,KAAK,mBAAoBmZ,GAAS,GAAI26F,IACtCA,MAkCX,OArBqB,SAAU3/E,GAC7BA,EAAOr6C,GAAG,cAAc,WACtB,IAAIu6H,EApuUc,SAAUlgF,GAChC,OAAOA,EAAO46B,SAAS,mBAmuUEulD,CAAkBngF,GACnCkgF,GACF/qJ,EAAK,CACH8kC,KAAMimH,EACN/1K,KAAM,UACNivC,QAAS,IACR,MAGP4mD,EAAOr6C,GAAG,wCAAwC,WAChDi6C,GAAM7uF,sBAAsB4tH,MAE9B3+B,EAAOr6C,GAAG,UAAU,WAClBqQ,EAAKopH,EAAcl5K,SAAS,SAAUy5K,GACpCN,IAAoBzqJ,MAAM+qJ,SAIhClkC,CAAez7C,GACR,CACL7qE,KAAMA,EACNP,MAjCU,WACV6qJ,IAAqBzpH,MAAK,SAAU2pH,GAClCN,IAAoBzqJ,MAAM+qJ,GAC1BD,EAAkBC,GAClBhhD,QA8BFyhD,iBA3BqB,WACrB,OAAOhB,KA8BP1vD,GAAgBxB,GAAawB,cAE7BC,GAAezB,GAAayB,aAiBhC,IAw2EI0wD,GAx2EAC,GAAgB,SAAUtgF,GAC5B,IAAIugF,EAAU,GACVlB,EAAoB,WACtB,IAjBEC,EAiBE7vK,EAAQuwF,EAAOvwF,MACnB,OAAOA,GAASA,EAAM+wK,qBAAuB/wK,EAAM+wK,uBAf9C,CACLrrJ,KAJEmqJ,EAAgB,WAClB,MAAM,IAAItxK,MAAM,0DAIhByyK,QAASnB,EACToB,MAAOpB,EACPn/H,QAASm/H,EACT1qJ,MAAO0qJ,EACPqB,UAAWrB,EACXsB,UAAWtB,IAUTuB,EAAW,SAAU7zF,EAAOtkF,GAC9B,OAAO,WAEL,IADA,IAAIilC,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAEvB,OAAO7+C,EAAIA,EAAEka,MAAMoqE,EAAOr/C,QAAQ92B,IASlCiqK,EAAY,SAAUC,GACxBR,EAAQz5K,KAAKi6K,GAPK,SAAUA,GAC5B/gF,EAAOn0B,KAAK,aAAc,CAAEk1G,OAAQA,IAOpCC,CAAcD,IAEZE,EAAc,SAAUF,IAPP,SAAUA,GAC7B/gF,EAAOn0B,KAAK,cAAe,CAAEk1G,OAAQA,IAOrCG,CAAeH,GAIQ,KAHvBR,EAAUr+J,EAAOq+J,GAAS,SAAUY,GAClC,OAAOA,IAAgBJ,MAEb/5K,QACVg5F,EAAOh4F,SAMPo5K,EAA8B,SAAUC,GAC1CrhF,EAAO07C,cAAcE,UAAU57C,GAC/B7iF,GAAM6iF,GACN,IAAI+gF,EAASM,IAEb,OADAP,EAAUC,GACHA,GA+BT,OALA/gF,EAAOr6C,GAAG,UAAU,WAClBqQ,EAAKuqH,GAAS,SAAUQ,GACtB1B,IAAoBzqJ,MAAMmsJ,SAGvB,CACL5rJ,KA9BS,SAAUwY,EAAMd,GACzB,OAAOu0I,GAA4B,WACjC,OAAO/B,IAAoBlqJ,KAAKwY,EAAMd,EAAQo0I,OA6BhDR,QA1BY,SAAU9yI,GACtB,OAAOyzI,GAA4B,WACjC,OAAO/B,IAAoBoB,QAAQ9yI,EAAMszI,OAyB3CP,MAtBU,SAAU3/H,EAASvT,EAAUw/C,GACvC,IAAIs0F,EAAoBjC,IACxBiC,EAAkBZ,MAAM3/H,EAAS8/H,EAAS7zF,GAAgBs0F,EAAmB9zI,KAqB7E2S,QAnBY,SAAUY,EAASvT,EAAUw/C,GACzC,IAAIs0F,EAAoBjC,IACxBiC,EAAkBnhI,QAAQY,EAAS8/H,EAAS7zF,GAAgBs0F,EAAmB9zI,KAkB/E5Y,MAhBU,WA3BHytD,EAASt8E,KAAKw6K,EAAQA,EAAQv5K,OAAS,IA4B/BgvD,MAAK,SAAU+qH,GAC5B1B,IAAoBzqJ,MAAMmsJ,GAC1BE,EAAYF,SAiBdQ,GAAsB,SAAUvhF,EAAQj/C,GAC1Ci/C,EAAOwhF,oBAAoBrsJ,KAAK,CAC9BhrB,KAAM,QACN8vD,KAAMlZ,KAGN0gI,GAAe,SAAUzhF,EAAQj/C,GAC/Bi/C,EAAO0hF,YACTH,GAAoBvhF,EAAQj/C,GAE5Bi/C,EAAOr6C,GAAG,cAAc,WACtB47H,GAAoBvhF,EAAQj/C,OAU9B4gI,GAAW,SAAU3hF,EAAQ8tC,EAAWltD,GAC1CitD,GAAU7tC,EAAQ8tC,EAAW,CAAE/sF,QAAS6/B,IACxCt3B,QAAQ7uC,MAAMmmE,IAEZghG,GAAkB,SAAUz3K,EAAMioB,EAAKhb,GACzC,OAAOA,EAAO,kBAAoBjN,EAAO,KAAOiN,EAAO,aAAegb,EAAM,kBAAoBjoB,EAAO,SAAWioB,GAEhHyvJ,GAAkB,SAAU7hF,EAAQ5tE,EAAKhb,GAC3CuqK,GAAS3hF,EAAQ,kBAAmB4hF,GAAgB,SAAUxvJ,EAAKhb,KAiBjE0qK,GAAY,SAAU/gI,GAExB,IADA,IAAIv1C,EAAI,GACC+7C,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC/7C,EAAE+7C,EAAK,GAAKphD,UAAUohD,GAExB,IAAI+B,EAAUvlD,OAAOulD,QACjBA,IACEA,EAAQ7uC,MACV6uC,EAAQ7uC,MAAMmI,MAAM0mC,EAAS27B,GAAe,CAAClkC,GAAUv1C,IAEvD89C,EAAQh7B,IAAI1L,MAAM0mC,EAAS27B,GAAe,CAAClkC,GAAUv1C,MAQvDu2K,GAAoB,SAAU/hF,GAChC,OAAOgiF,GAAgBhiF,EA38UL,SAAUA,GAC5B,IAAIiiF,EAAajiF,EAAO46B,SAAS,eACjC,OAAIp7C,EAASyiG,GACJ54K,EAAI44K,EAAW36K,MAAM,KAAMb,IACzBT,EAAQi8K,GACVA,GACiB,IAAfA,GAAwBjiF,EAAOvuF,OACjC,GAEA,CAAC,WAk8UqBywK,CAAcliF,KAK3CgiF,GAAkB,SAAUhiF,EAAQmiF,GACtC,IAAIC,EAAUpiF,EAAO07C,cAAc9sB,QAAU,iBAEzCyzD,EAAiB,UADRriF,EAAO07C,cAAc7nC,OACQ,OACtCpiG,GAA2B,IAAlBuuF,EAAOvuF,OACpB,OAAOpI,EAAI84K,GAAU,SAAU/vJ,GAC7B,OAfuB,SAAUA,GACnC,MAAO,iBAAiBpoB,KAAKooB,GAcvBkwJ,CAAqBlwJ,KAAS3gB,EACzB2wK,EAAU,IAAMhwJ,EAAM,IAAMiwJ,EAE5BriF,EAAOuiF,gBAAgBC,WAAWpwJ,OAI3CqwJ,GAA+B,SAAUziF,GAC3CA,EAAO0iF,WAAa1iF,EAAO0iF,WAAWhvJ,OAAOquJ,GAAkB/hF,GAjB5C,SAAUA,GAC7B,OAAOgiF,GAAgBhiF,EAAQ67B,GAAW77B,IAgB8B2iF,CAAe3iF,KAGrF4iF,GAAe,WACjB,IACIC,EAAkB,GAClBC,EAAe,SAAU7iI,EAAQ8iI,GACnC,MAAO,CACL9iI,OAAQA,EACR8iI,UAAWA,IAGXC,EAAa,SAAUrP,GACzB,OAAOA,KAAWkP,GAwBpB,MAAO,CACLG,WAAYA,EACZC,aAxBiB,SAAUtP,GAC3B,IAAIv/J,EAASyuK,EAAgBlP,GAC7B,OAAOv/J,EAASA,EAAO2uK,UAAY,MAuBnCG,UArBc,SAAUvP,GACxB,QAAOqP,EAAWrP,IAhBN,IAgBiBkP,EAAgBlP,GAAS1zH,QAqBtDoyH,WAnBe,SAAUsB,GACzB,QAAOqP,EAAWrP,IAnBQ,IAmBGkP,EAAgBlP,GAAS1zH,QAmBtDkjI,YAjBgB,SAAUxP,GAC1BkP,EAAgBlP,GAAWmP,EAtBf,EAsBqC,OAiBjDM,aAfiB,SAAUzP,EAASoP,GACpCF,EAAgBlP,GAAWmP,EAzBD,EAyBwBC,IAelDM,aAbiB,SAAU1P,UACpBkP,EAAgBlP,IAavB1mK,QAXY,WACZ41K,EAAkB,MAclBS,GAAU,EAQVxmI,GAAO,SAAU4hB,GACnB,OAAOA,EAAS4kH,MAPZC,EAAM,WACR,OAAO36K,KAAKD,MAAsB,WAAhBC,KAAKy3B,UAAuB71B,SAAS,KAGlD,KADG,IAAI+4C,MAAOwvE,UACJvoH,SAAS,IAAM+4K,IAAQA,IAAQA,KALvC,IACLA,GA8GFC,GAAW,SAAUvR,EAAc3xE,GACrC,IAAImjF,EAAkB,GAOlBC,EAAiB,SAAUjS,EAAU3vH,EAAS5N,EAASoN,GACzD,IAAI5E,EAAM,IAAIoT,eACdpT,EAAIvnB,KAAK,OAAQmrE,EAASluE,KAC1BsqB,EAAIvD,gBAAkBmnD,EAASqjF,YAC/BjnI,EAAIG,OAAOuT,WAAa,SAAUjsD,GAChCm9C,EAASn9C,EAAE8tD,OAAS9tD,EAAE6iD,MAAQ,MAEhCtK,EAAI4Q,QAAU,WACZpZ,EAAQ,2DAA6DwI,EAAIuD,SAE3EvD,EAAIkP,OAAS,WACX,GAAIlP,EAAIuD,OAAS,KAAOvD,EAAIuD,QAAU,IACpC/L,EAAQ,eAAiBwI,EAAIuD,YAD/B,CAIA,IArBqB2jI,EAAOC,EAqBxBC,EAAOtxH,KAAKC,MAAM/V,EAAI4V,cAC1B,GAAKwxH,GAAiC,iBAAlBA,EAAKzjE,SAIzBv+D,GA1BqB8hI,EA0BJtjF,EAASyjF,SA1BEF,EA0BQC,EAAKzjE,SAzBvCujE,EACKA,EAAM77K,QAAQ,MAAO,IAAM,IAAM87K,EAAM97K,QAAQ,MAAO,IAExD87K,SAmBH3vI,EAAQ,iBAAmBwI,EAAI4V,gBAKnC,IAAI5B,EAAW,IAAIC,SACnBD,EAASvjB,OAAO,OAAQskI,EAASr7H,OAAQq7H,EAAS5nH,YAClDnN,EAAIiW,KAAKjC,IAOPszH,EAAiB,SAAUvS,EAAUr/I,GACvC,MAAO,CACLA,IAAKA,EACLq/I,SAAUA,EACVxxH,QAAQ,IAGRgkI,EAAiB,SAAUxS,EAAU1wH,EAASj2C,GAChD,MAAO,CACLsnB,IAAK,GACLq/I,SAAUA,EACVxxH,QAAQ,EACRxlC,MAAO,CACLsmC,QAASA,EACTj2C,QAASA,KAIXo5K,EAAiB,SAAUvQ,EAASv/J,GACtCu3E,GAAM31B,KAAKytH,EAAgB9P,IAAU,SAAU91G,GAC7CA,EAAQzpD,aAEHqvK,EAAgB9P,IAqDrBwQ,EAAc,SAAUC,EAAWC,GAIrC,OAHAD,EAAYz4F,GAAMG,KAAKs4F,GAAW,SAAU3S,GAC1C,OAAQQ,EAAaI,WAAWZ,EAASkC,cAEpCx0E,GAAW1e,IAAIkL,GAAMtiF,IAAI+6K,GAAW,SAAU3S,GACnD,OAAOQ,EAAaiR,UAAUzR,EAASkC,WAZf,SAAUlC,GACpC,IAAIkC,EAAUlC,EAASkC,UACvB,OAAO,IAAIx0E,IAAW,SAAUthC,GAC9B4lH,EAAgB9P,GAAW8P,EAAgB9P,IAAY,GACvD8P,EAAgB9P,GAAS7sK,KAAK+2D,MAQsBymH,CAAsB7S,GAxDzD,SAAUA,EAAUnsB,EAAS++B,GAEhD,OADApS,EAAakR,YAAY1R,EAASkC,WAC3B,IAAIx0E,IAAW,SAAUthC,GAC9B,IAAI8hH,EACJ,IACE,IAAI4E,EAAsB,WACpB5E,GACFA,EAAa/qJ,SA4BjB0wH,EAAQmsB,GAxBM,SAAUr/I,GACtBmyJ,IACAtS,EAAamR,aAAa3R,EAASkC,UAAWvhJ,GAC9C8xJ,EAAezS,EAASkC,UAAWqQ,EAAevS,EAAUr/I,IAC5DyrC,EAAQmmH,EAAevS,EAAUr/I,OAErB,SAAU3X,EAAO3P,GAC7B,IAAI05K,EAAiB15K,GAAoB,GACzCy5K,IACAtS,EAAaoR,aAAa5R,EAASkC,WACnCuQ,EAAezS,EAASkC,UAAWsQ,EAAexS,EAAUh3J,EAAO+pK,IACnE3mH,EAAQomH,EAAexS,EAAUh3J,EAAO+pK,OAE/B,SAAUC,GACfA,EAAU,GAAKA,EAAU,KAG7BpiG,EAASt8E,KAAK45K,GAAc99F,SAAQ,WAClC,OAAOQ,EAASt8E,KAAKs+K,GAAkBh7K,IAAIuZ,MAC1CozC,MAAK,SAAU3xD,GAChBs7K,EAAet7K,EACfA,EAAE07K,YAAY56K,MAAMs/K,SAIxB,MAAO3rF,GACPj7B,EAAQomH,EAAexS,EAAU34E,EAAG/3C,QAAS,SAmBuC2jI,CAAejT,EAAUnxE,EAASglD,QAAS++B,QASrI,OAHqC,IAAjCvkG,EAAWwgB,EAASglD,WACtBhlD,EAASglD,QAAUo+B,GAEd,CAAE7mI,OANI,SAAUunI,EAAWC,GAChC,OAAQ/jF,EAASluE,KAAwBkuE,EAASglD,UAlB/Bo+B,EAkBuDS,EAAYC,EAAWC,GAxF1F,IAAIllF,IAAW,SAAUthC,GAC9BA,EAAQ,UA+FVwmH,GAAmB,SAAUrkF,GAC/B,OAAO,WACL,OAAOA,EAAOwhF,oBAAoBrsJ,KAAK,CACrC8kC,KAAM+lC,EAAOjzC,UAAU,sBACvB5iD,KAAM,OACNivC,SAAU,EACV2mI,aAAa,MAIf4E,GAAiB,SAAU3kF,EAAQiyE,GACrC,OAAOuR,GAASvR,EAAc,CAC5B7/I,IAAKipG,GAAkBr7B,GACvB+jF,SAAUzoD,GAAuBt7B,GACjC2jF,YAAapoD,GAA2Bv7B,GACxCslD,QAAS9pB,GAAuBx7B,MAmChC4kF,GAAe,SAAU5kF,GAC3B,IACI6kF,EAAUC,EADVvT,EA1RU,WACd,IAAIhmK,EAAQ,GAgCRw5K,EAAa,SAAU3gL,GACzB,IAAKA,EAAEgyC,OAAShyC,EAAEotK,OAChB,MAAM,IAAIxjK,MAAM,wFAElB,IAnCwBg3K,EAmCpB7kJ,EAAK/7B,EAAE+7B,IAAM2c,GAAK,UAClB1lC,EAAOhT,EAAEgT,MAAQ+oB,EACjBiW,EAAOhyC,EAAEgyC,KACb,MAAO,CACLjW,GAAIigD,EAASjgD,GACb/oB,KAAMgpE,EAAShpE,GACfyyC,SAAUu2B,EAASh8E,EAAEylD,UAAYzyC,EAAO,KAzClB4tK,EAyCkC5uI,EAAKjsC,KAxCnD,CACV,aAAc,MACd,YAAa,MACb,YAAa,MACb,YAAa,MACb,aAAc,OACd,aAAc,OACd,gBAAiB,MACjB,aAAc,OACd,YAAa,MACb,aAAc,QAEH66K,EAAKx7K,gBAAkB,QA6BlC4sC,KAAMgqC,EAAShqC,GACfo7H,OAAQpxF,EAASh8E,EAAEotK,QACnBmC,QAASvzF,EAASh8E,EAAEuvK,SAAWthJ,IAAI4jB,gBAAgBG,IACnD0oG,IAAK1+D,EAASh8E,EAAE06I,OAQhBmmC,EAAY,SAAUz9I,GACxB,OAAO31B,EAAKtG,EAAOi8B,GAAWm6C,kBAE5B58E,EAAM,SAAUo7B,GAClB,OAAO8kJ,GAAU,SAAUC,GACzB,OAAOA,EAAe/kJ,OAASA,MA4BnC,MAAO,CACL96B,OAxEW,SAAUjB,EAAGgyC,EAAMo7H,EAAQp6J,EAAMyyC,GAC5C,GAAI21B,EAASp7E,GAEX,OAAO2gL,EAAW,CAChB5kJ,GAFO/7B,EAGPgT,KAAMA,EACNyyC,SAAUA,EACVzT,KAAMA,EACNo7H,OAAQA,IAEL,GAAIj7J,EAASnS,GAClB,OAAO2gL,EAAW3gL,GAElB,MAAM,IAAI4J,MAAM,uBA4DlB+D,IAxCQ,SAAU0/J,GACb1sK,EAAI0sK,EAAStxI,OAChB50B,EAAMzE,KAAK2qK,IAuCb1sK,IAAKA,EACL4sK,SA7Ba,SAAUgC,GACvB,OAAOsR,GAAU,SAAUxT,GACzB,OAAOA,EAASkC,YAAcA,MA4BhCjC,UAzBc,SAAUF,EAAQrnK,GAChC,OAAO86K,GAAU,SAAUxT,GACzB,OAAOA,EAASD,WAAaA,GAAUC,EAASr7H,OAAOjsC,OAASA,MAwBlE86K,UAAWA,EACXE,YAtBgB,SAAUxR,GAC1BpoK,EAAQ2W,EAAO3W,GAAO,SAAUkmK,GAC9B,OAAIA,EAASkC,YAAcA,IACzBthJ,IAAI8jB,gBAAgBs7H,EAASkC,YACtB,OAmBX1mK,QAdY,WACZ+oD,EAAKzqD,GAAO,SAAU25K,GACpB7yJ,IAAI8jB,gBAAgB+uI,EAAevR,cAErCpoK,EAAQ,KAoMM65K,GAEZnT,EAAe2Q,KACfyC,EAAa,GACbC,EAxBoB,SAAUtlF,GAClC,IAAIulF,EAAmBx4D,GAAK,MAgB5B,OAfA/sB,EAAOr6C,GAAG,kBAAkB,SAAUxhD,GACpCohL,EAAiB9pK,IAAIupE,GAAS,GAAI7gF,EAAEyjK,WAc/B,CAAE4d,cAZW,WAClB,IAAIv0J,EAAO+uE,EAAO6sC,YAAY57G,KAC9BmyD,GAAKnyD,GAAM/O,QAAO,SAAU0lJ,GAC1B,OAAQK,GAAOsd,EAAiBxgL,MAAO6iK,MACtC5xG,MAAK,SAAU4xG,GAChB5nE,EAAOmpE,UAAS,GAChBnpE,EAAOn0B,KAAK,SAAU,CACpB+7F,MAAOA,EACPmB,UAAWhkK,GAAIksB,EAAMA,EAAKjqB,OAAS,GAAG06E,mBAWxB+jG,CAAoBzlF,GACpC0lF,EAAa,SAAUl4I,GACzB,OAAO,SAAUp5B,GACf,OAAI4rF,EAAOixB,UACFzjF,EAASp5B,GAEX,KAMPuxK,EAAgB,SAAUvxJ,EAASshB,EAAQ3tC,GAC7C,IAAIiP,EAAQ,EACZ,IAEiB,KADfA,EAAQod,EAAQ3e,QAAQigC,EAAQ1+B,MAE9Bod,EAAUA,EAAQ/pB,UAAU,EAAG2M,GAASjP,EAAUqsB,EAAQuyD,OAAO3vE,EAAQ0+B,EAAO1uC,QAChFgQ,GAASjP,EAAQf,OAAS0uC,EAAO1uC,OAAS,UAE1B,IAAXgQ,GACT,OAAOod,GAELwxJ,EAAkB,SAAUxxJ,EAASyxJ,EAAWC,GAClD,IAAIC,EAAoB,QAAUD,EAAiB,KAAOA,IAAmBn7F,GAAIK,eAAiB,4BAA8B,IAGhI,OAFA52D,EAAUuxJ,EAAcvxJ,EAAS,QAAUyxJ,EAAY,IAAKE,GAC5D3xJ,EAAUuxJ,EAAcvxJ,EAAS,iBAAmByxJ,EAAY,IAAK,iBAAmBC,EAAiB,MAGvGE,EAAwB,SAAUH,EAAWC,GAC/C9vH,EAAKgqC,EAAO6sC,YAAY57G,MAAM,SAAU22I,GACnB,eAAfA,EAAMz9J,KACRy9J,EAAMzB,UAAY98J,EAAIu+J,EAAMzB,WAAW,SAAU5xH,GAC/C,OAAOqxI,EAAgBrxI,EAAUsxI,EAAWC,MAG9Cle,EAAMxzI,QAAUwxJ,EAAgBhe,EAAMxzI,QAASyxJ,EAAWC,OAY5DG,EAAe,SAAUz4I,GAI3B,OAHKq3I,IACHA,EAAWF,GAAe3kF,EAAQiyE,IAE7BiU,IAAgBp6G,KAAK45G,GAAW,SAAUS,GAC/C,IAAI/B,EAAY/6K,EAAI88K,GAAY,SAAU5T,GACxC,OAAOA,EAAUd,YAEnB,OAAOoT,EAAShoI,OAAOunI,EAAWC,GAAiBrkF,IAASl0B,KAAK45G,GAAW,SAAUtxK,GACpF,IAAIgyK,EAAiB,GACjBC,EAAiBh9K,EAAI+K,GAAQ,SAAUkyK,EAAYtvK,GACrD,IAAIy6J,EAAW0U,EAAWnvK,GAAOy6J,SAC7Bt5G,EAAQguH,EAAWnvK,GAAOmhD,MAW9B,OAVImuH,EAAWrmI,QA75VG,SAAU+/C,GACpC,OAAOA,EAAO46B,SAAS,4BAA4B,EAAM,WA45VxB2rD,CAAsBvmF,IAC7CuxE,EAAU4T,YAAYhtH,EAAMljC,KAtBV,SAAUkjC,EAAO4qH,GAC3C,IAhC+B3wJ,EAgC3B6C,EAAM+qE,EAAO49E,WAAWmF,EAAW,OACvCiD,EAAsB7tH,EAAMljC,IAAK8tJ,GACjC/iF,EAAOn1F,EAAEstD,GAAO8D,KAAK,CACnB,IAAOk/D,GAAoBn7B,IAnCE5tE,EAmCyB2wJ,EAlCjD3wJ,IAA6B,IAAtBA,EAAI3c,QAAQ,KAAc,IAAM,MAAO,IAAI8tC,MAAOwvE,WAkCKgwD,EACnE,eAAgB9tJ,IAkBVuxJ,CAAsBruH,EAAOmuH,EAAWl0J,MAC/Bk0J,EAAW7rK,QAChB6rK,EAAW7rK,MAAM3P,QAAQyH,SAC3ByzK,EAAsB7tH,EAAMxxD,aAAa,OAAQgkF,GAAIK,gBACrDo7F,EAAet/K,KAAKqxD,IAnehB,SAAU6nC,EAAQj/C,GAClC0gI,GAAazhF,EAAQmtB,GAAKpgE,UAAU,CAClC,8BACAhM,KAkeQ0lI,CAAYzmF,EAAQsmF,EAAW7rK,MAAMsmC,UAEhC,CACLl1C,QAASssD,EACTlY,OAAQqmI,EAAWrmI,OACnBymI,UAAWJ,EAAWl0J,IACtBq/I,SAAUA,MAqBd,OAlBI4U,EAAer/K,OAAS,GAC1Bs+K,EAAcE,gBAEZY,EAAep/K,OAAS,IACtB2jK,GAAM3qE,GACR12C,QAAQ7uC,MAAM,sEAEdulF,EAAO6sC,YAAYC,UAAS,WAC1B92E,EAAKowH,GAAgB,SAAUv6K,GAC7Bm0F,EAAOnT,IAAIt6E,OAAO1G,GAClB0lK,EAAU4T,YAAYt5K,EAAQopB,YAKlCuY,GACFA,EAAS64I,GAEJA,WAITM,EAAmB,SAAUn5I,GAC/B,GAAI0tF,GAA0Bl7B,GAC5B,OAAOimF,EAAaz4I,IAGpBo5I,EAAsB,SAAUC,GAClC,OAES,IAFL9kG,EAAOsjG,GAAY,SAAUnjK,GAC7B,OAAOA,EAAO2kK,QAIkC,IAAhDA,EAAOlgL,aAAa,OAAO8O,QAAQ,UAx9Vd,SAAUuqF,GACrC,OAAOA,EAAO46B,SAAS,wBAAyB95C,EAAQ,YAw9VhCgmG,CAAuB9mF,EACpC+mF,CAAcF,KAOrBX,EAAgB,WAIlB,OAHKpB,IACHA,EAAe9S,GAAaC,EAAcV,IAErCuT,EAAar3C,QAAQztC,EAAOmxB,UAAWy1D,GAAqB96G,KAAK45G,GAAW,SAAUtxK,GAa3F,OAZAA,EAAS8N,EAAO9N,GAAQ,SAAU4yK,GAChC,MAA0B,iBAAfA,IACTvF,GAAazhF,EAAQgnF,IACd,MAIXhxH,EAAK5hD,GAAQ,SAAU4yK,GACrBhB,EAAsBgB,EAAW7uH,MAAMljC,IAAK+xJ,EAAWvV,SAASkC,WAChEqT,EAAW7uH,MAAMljC,IAAM+xJ,EAAWvV,SAASkC,UAC3CqT,EAAW7uH,MAAMvxD,gBAAgB,mBAE5BwN,OAQP6yK,EAAkB,SAAU7yJ,GAC9B,OAAOA,EAAQrsB,QAAQ,uBAAuB,SAAUqB,EAAOuqK,GAC7D,IAAIoP,EAAY9Q,EAAagR,aAAatP,GAC1C,GAAIoP,EACF,MAAO,QAAUA,EAAY,IAE/B,IAAItR,EAAWF,EAAUI,SAASgC,GAMlC,OALKlC,IACHA,EAAW5uF,EAAMmd,EAAO07C,cAAc32I,OAAO,SAAUqP,EAAQ4rF,GAC7D,OAAO5rF,GAAU4rF,EAAO44E,cAAgB54E,EAAO44E,aAAarH,UAAUI,SAASgC,KAC9E,OAEDlC,EAEK,aADIA,EAASr7H,OACOjsC,KAAO,WAAasnK,EAASD,SAAW,IAE9DpoK,MAiCX,OA9BA42F,EAAOr6C,GAAG,cAAc,WAClBu1E,GAA0Bl7B,GAC5B2mF,IAEAT,OAGJlmF,EAAOr6C,GAAG,kBAAkB,SAAUxhD,GACpCA,EAAEiwB,QAAU6yJ,EAAgB9iL,EAAEiwB,YAEhC4rE,EAAOr6C,GAAG,cAAc,SAAUxhD,GAC5BA,EAAE+iL,aAA4B,QAAb/iL,EAAE2iI,QAAiC,SAAb3iI,EAAE2iI,SAG7C3iI,EAAEiwB,QAAU6yJ,EAAgB9iL,EAAEiwB,aAEhC4rE,EAAOr6C,GAAG,cAAc,WACtBq6C,EAAO4zD,OAAOlhC,cAAc,OAAO,SAAUy/C,GAC3Cn8G,EAAKm8G,GAAQ,SAAU7lH,GACrB,IAAIr3B,EAAMq3B,EAAI2P,KAAK,OACnB,IAAIs1G,EAAUI,SAAS18I,GAAvB,CAGA,IAAI8tJ,EAAY9Q,EAAagR,aAAahuJ,GACtC8tJ,GACFz2H,EAAI2P,KAAK,MAAO8mH,aAKjB,CACLxR,UAAWA,EACX4V,UA/Ec,SAAUjlK,GACxBmjK,EAAWv+K,KAAKob,IA+EhB+jK,aAAcA,EACdU,iBAAkBA,EAClBT,cAAeA,EACfj5K,QA5DY,WACZskK,EAAUtkK,UACVglK,EAAahlK,UACb63K,EAAeD,EAAW,QAsV1BuC,GAAiB,SAAUpnF,GAC7B,IAAIuhE,EAAU,GAOVn0B,EAAW,SAAUh2H,EAAM0vH,GACzB1vH,IACkB,iBAATA,EACTu0E,GAAM31B,KAAK5+C,GAAM,SAAU0vH,EAAQ1vH,GACjCg2H,EAASh2H,EAAM0vH,OAGZ9gI,EAAQ8gI,KACXA,EAAS,CAACA,IAEZn7C,GAAM31B,KAAK8wE,GAAQ,SAAUA,QACA,IAAhBA,EAAOpe,OAChBoe,EAAOpe,MAAQoe,EAAOpkE,eAEI,IAAjBokE,EAAOx/H,QAChBw/H,EAAOx/H,OAASw/H,EAAOpkE,UAAYokE,EAAOr1H,aAEf,IAAlBq1H,EAAOv0H,QAA0Bu0H,EAAOpkE,WAAaokE,EAAOr1H,SACrEq1H,EAAOv0H,OAAS,QAEdu0H,EAAOpkE,UAAYokE,EAAOr1H,SAC5Bq1H,EAAO42B,OAAQ,EACf52B,EAAO+B,cAAe,GAEM,iBAAnB/B,EAAOqF,UAChBrF,EAAOqF,QAAUrF,EAAOqF,QAAQ7kI,MAAM,WAG1Ci6J,EAAQnqJ,GAAQ0vH,KAYtB,OAFAsG,EAvUU,SAAUvgD,GACpB,IAAI00E,EAAU,CACZ8lB,UAAW,CAAC,CACR3kH,SAAU,QACVipC,OAAQ,CAAE27E,cAAe,SAE7BC,aAAc,CAAC,CACX7kH,SAAU,QACVipC,OAAQ,CAAE27E,cAAe,YAE7BE,aAAc,CAAC,CACX9kH,SAAU,QACVipC,OAAQ,CAAE27E,cAAe,YAE7BG,UAAW,CACT,CACE/kH,SAAU,eACVs3D,WAAW,EACXmS,QAAS,aACT6xB,iBAAiB,EACjBjuJ,QAAS,yBAEX,CACE2yD,SAAU,mDACVipC,OAAQ,CAAE/wC,UAAW,QACrBm8F,SAAS,EACThnJ,SAAS,EACT2wJ,aAAc,OAEhB,CACEh+F,SAAU,wBACVs3D,WAAW,EACXruB,OAAQ,CAAEiY,MAAO,QACjB7zG,QAAS,0BAGb23K,YAAa,CACX,CACEhlH,SAAU,mDACVipC,OAAQ,CAAE/wC,UAAW,UACrBm8F,SAAS,EACThnJ,QAAS,wBACT2wJ,aAAc,OAEhB,CACEh+F,SAAU,eACVs3D,WAAW,EACXmS,QAAS,eACT6xB,iBAAiB,EACjBjuJ,QAAS,yBAEX,CACE2yD,SAAU,kBACVs3D,WAAW,EACXruB,OAAQ,CACN32E,QAAS,QACT2yJ,WAAY,OACZC,YAAa,QAEf73K,SAAS,GAEX,CACE2yD,SAAU,QACVs3D,WAAW,EACXruB,OAAQ,CACNg8E,WAAY,OACZC,YAAa,QAEf73K,QAAS,0BAGb83K,WAAY,CACV,CACEnlH,SAAU,eACVs3D,WAAW,EACXmS,QAAS,cACT6xB,iBAAiB,EACjBjuJ,QAAS,yBAEX,CACE2yD,SAAU,mDACVipC,OAAQ,CAAE/wC,UAAW,SACrBm8F,SAAS,EACThnJ,QAAS,wBACT2wJ,aAAc,OAEhB,CACEh+F,SAAU,wBACVs3D,WAAW,EACXruB,OAAQ,CAAEiY,MAAO,SACjB7zG,QAAS,0BAGb+3K,aAAc,CAAC,CACXplH,SAAU,mDACVipC,OAAQ,CAAE/wC,UAAW,WACrBm8F,SAAS,EACT2J,aAAc,MACd3wJ,QAAS,0BAEbg4K,KAAM,CACJ,CACEt2K,OAAQ,SACRc,OAAQ,MACRgqJ,oBAAqB,CACnB,QACA,UAGJ,CACE9qJ,OAAQ,OACRk6F,OAAQ,CAAEq8E,WAAY,SAExB,CACEv2K,OAAQ,IACRc,OAAQ,MACRgqJ,oBAAqB,CACnB,QACA,WAIN0rB,OAAQ,CACN,CACEx2K,OAAQ,KACRc,OAAQ,MACRgqJ,oBAAqB,CACnB,QACA,UAGJ,CACE9qJ,OAAQ,OACRk6F,OAAQ,CAAEu8E,UAAW,WAEvB,CACEz2K,OAAQ,IACRc,OAAQ,MACRgqJ,oBAAqB,CACnB,QACA,WAIN4rB,UAAW,CACT,CACE12K,OAAQ,OACRk6F,OAAQ,CAAEoyD,eAAgB,aAC1B5kB,OAAO,GAET,CACE1nI,OAAQ,IACRc,OAAQ,MACRgqJ,oBAAqB,CACnB,QACA,WAIN6rB,cAAe,CACb,CACE32K,OAAQ,OACRk6F,OAAQ,CAAEoyD,eAAgB,gBAC1B5kB,OAAO,GAET,CACE1nI,OAAQ,SACRc,OAAQ,MACRgqJ,oBAAqB,CACnB,QACA,UAGJ,CACE9qJ,OAAQ,IACRc,OAAQ,MACRgqJ,oBAAqB,CACnB,QACA,WAIN8rB,UAAW,CACT52K,OAAQ,OACRk6F,OAAQ,CAAEn4F,MAAO,UACjB6oJ,OAAO,EACPI,gBAAgB,EAChB0B,oBAAoB,GAEtBmqB,YAAa,CACX72K,OAAQ,OACRk6F,OAAQ,CAAE/3F,gBAAiB,UAC3ByoJ,OAAO,EACPI,gBAAgB,EAChB0B,oBAAoB,GAEtBoqB,SAAU,CACR92K,OAAQ,OACRkxD,QAAQ,EACRgpC,OAAQ,CAAE68E,WAAY,UACtBrqB,oBAAoB,GAEtBsqB,SAAU,CACRh3K,OAAQ,OACRkxD,QAAQ,EACRgpC,OAAQ,CAAE+8E,SAAU,UACpBvqB,oBAAoB,GAEtBwqB,WAAY,CACVjmH,SAAU,mCACVg+F,aAAc,IACd/0D,OAAQ,CAAEi9E,WAAY,WAExBC,eAAgB,CACdp3K,OAAQ,OACR66B,WAAY,CAAEm3E,MAAO,WAEvBqlE,WAAY,CACV9tD,MAAO,aACP3vH,SAAS,EACTkH,OAAQ,OAEVw2K,UAAW,CAAEt3K,OAAQ,OACrBu3K,YAAa,CAAEv3K,OAAQ,OACvB+C,KAAM,CAAE/C,OAAQ,QAChBmvF,KAAM,CACJnvF,OAAQ,IACRixD,SAAU,IACVnwD,OAAQ,MACRjL,OAAO,EACPohH,MAAM,EACN4uC,QAAS,SAAU53G,EAAMupI,EAAMC,GAC7B,OAAO12F,GAAY9yC,IAASA,EAAKiS,aAAa,SAEhD+sG,SAAU,SAAU5pE,EAAKm0F,EAAM/iD,GAC7Bv6C,GAAM31B,KAAKkwE,GAAM,SAAU/gI,EAAOgG,GAChC0hF,EAAIg6B,UAAU/xB,EAAK3pF,EAAKhG,QAI9BgkL,aAAc,CACZ,CACEzmH,SAAU,wFACVnwD,OAAQ,MACRjL,OAAO,EACP2hI,QAAQ,EACRJ,cAAc,EACdngB,MAAM,GAER,CACEhmD,SAAU,OACVp2B,WAAY,CACV,QACA,SAEF/5B,OAAQ,QACRjL,OAAO,EACP2hI,QAAQ,EACRvgB,MAAM,GAER,CACEhmD,SAAU,IACVp2B,WAAY,CACV,QACA,SAEFhlC,OAAO,EACP2hI,QAAQ,EACRvgB,MAAM,KAUZ,OANA/8B,GAAM31B,KAAK,iDAAiD1uD,MAAM,OAAO,SAAU8P,GACjFmqJ,EAAQnqJ,GAAQ,CACd4jH,MAAO5jH,EACP7E,OAAQ,UAGLgvJ,EAiDE6nB,CAAMppF,EAAOnT,MACtBugD,EA1xWe,SAAUptC,GACzB,OAAOA,EAAO46B,SAAS,WAyxWdyuD,CAAWrpF,IACb,CACLj7F,IA/CQ,SAAUqS,GAClB,OAAOA,EAAOmqJ,EAAQnqJ,GAAQmqJ,GA+C9BzpJ,IA7CU,SAAUV,GACpB,OAAOU,GAAIypJ,EAASnqJ,IA6CpBg2H,SAAUA,EACVk8C,WAZe,SAAUlyK,GAIzB,OAHIA,GAAQmqJ,EAAQnqJ,WACXmqJ,EAAQnqJ,GAEVmqJ,KAYPgoB,GAAS59F,GAAM31B,KACf62B,GAAMs5B,GAAS2D,IACf0/D,GAAuB,SAAUC,EAAUzpF,GAC7C,IAAIlL,EAAKlsC,EAAMrU,EACXm4D,EAAS1M,GAAUA,EAAO0M,QAAUd,GAAO,IAO3CrlG,EAAgB,SAAUmjL,GAC5B9gI,EAAwB,iBAAV8gI,EAAqB,CACjCtyK,KAAMsyK,EACNv9C,QAAS,GACTr4C,MAAO,IACL41F,EACJ,IAAI50F,EAAMjI,GAAIxnF,OAAOujD,EAAKxxC,MAE1B,OAda,SAAU09E,EAAKlsC,GACxBA,EAAKujF,QAAQnlI,QACf6lF,GAAI/xB,SAASg6B,EAAKlsC,EAAKujF,QAAQ/hI,KAAK,MAEtCyiF,GAAI66B,WAAW5yB,EAAKlsC,EAAKkrC,OASzB+3C,CAAS/2C,EAAKlsC,GACPksC,GAYL60F,EAAa,SAAU70F,EAAK20F,EAAUlgD,GACxC,IAAI9mE,EAAQmnH,EACRnsF,EAAWgsF,EAASziL,OAAS,GAAKyiL,EAAS,GAC3CI,EAAepsF,GAAYA,EAASrmF,KACpC0yK,EAdkB,SAAUh1F,EAAK3O,GACrC,IAAI/uE,EAAsB,iBAAR09E,EAAmBA,EAAIpzC,SAASl4C,cAAgBsrF,EAC9Di1F,EAAUr9E,EAAOkE,eAAex5F,GAChCw6F,EAAkBm4E,GAAWA,EAAQn4E,gBACzC,SAAIA,IAAmBA,EAAgB5qG,UAC9Bm/E,IAA4D,IAA/CwF,GAAM5wB,QAAQ62C,EAAiBzrB,GAAoBA,EAAYyrB,EAAgB,IAShFo4E,CAAkBl1F,EAAK+0F,GAC5C,GAAIC,EACED,IAAiBC,GACnBF,EAAkBH,EAAS,GAC3BA,EAAWA,EAASvjL,MAAM,IAE1B0jL,EAAkBE,OAEf,GAAIrsF,EACTmsF,EAAkBH,EAAS,GAC3BA,EAAWA,EAASvjL,MAAM,QACrB,IAAKqjI,EACV,OAAOz0C,EAgBT,OAdI80F,IACFnnH,EAASl8D,EAAcqjL,IAChB13K,YAAY4iF,GAEjBy0C,IACG9mE,IACHA,EAASoqB,GAAIxnF,OAAO,QACb6M,YAAY4iF,GAErBnJ,GAAM31B,KAAKuzE,GAAU,SAAU7tD,GAC7B,IAAIuuG,EAAa1jL,EAAcm1E,GAC/BjZ,EAAOnwD,aAAa23K,EAAYn1F,OAG7B60F,EAAWlnH,EAAQgnH,EAAUG,GAAmBA,EAAgBrgD,WAEzE,OAAIkgD,GAAYA,EAASziL,QACvB4hD,EAAO6gI,EAAS,GAChB30F,EAAMvuF,EAAcqiD,IACpBrU,EAAWs4C,GAAIxnF,OAAO,QACb6M,YAAYy3K,EAAW70F,EAAK20F,EAASvjL,MAAM,GAAI0iD,EAAK2gF,WACtDh1F,GAEA,IAGP21I,GAAoB,SAAUthI,GAChC,IAAIxD,EACA5O,EAAM,CACR21F,QAAS,GACTr4C,MAAO,IA4BT,MAzBa,OADblrC,EAAOpS,EAAIksB,SAAWipB,GAAMllF,KAAKmiD,MAE/BxD,EAAUwD,EAAK7gD,QAAQ,6CAA6C,SAAUoiL,EAAIr8D,EAAIC,EAAIq8D,EAAIC,GAC5F,OAAQv8D,GACR,IAAK,IACHt3E,EAAIs9C,MAAM3zD,GAAK4tF,EACf,MACF,IAAK,IACHv3E,EAAI21F,QAAQrlI,KAAKinH,GACjB,MACF,IAAK,KACkF,IAAjFpiC,GAAM5wB,QAAQ,8CAA8CzzD,MAAM,KAAMymH,KAC1Ev3E,EAAIs9C,MAAMi6B,GAAMA,GAIpB,GAAW,MAAPq8D,EAAY,CACd,IAAI3lL,EAAI4lL,EAAGjhL,MAAM,8BACb3E,IACF+xC,EAAIs9C,MAAMrvF,EAAE,IAAMA,EAAE,IAGxB,MAAO,OAGX+xC,EAAIp/B,KAAOguC,GAAW,MACf5O,GAiBL8zI,GAAa,SAAUtqF,EAAQ8mC,GACjC,IAAI1vH,EAAMmzK,EACWC,EAAjBC,EAAa,GACbC,EA/5WiB,SAAU1qF,GAC/B,IAAI1zF,EAAQ0zF,EAAO46B,SAAS,iBAxKH,+IAyKzB,OAAIp7C,EAASlzE,GACJA,EAEA,GA05WWq+K,CAAiB3qF,GACrC,GAAsB,KAAlB0qF,EACF,MAAO,GAET,IAAIE,EAAa,SAAU/sJ,GACzB,OAAOA,EAAI91B,QAAQ,UAAW,KAEhC,GAAsB,iBAAX++H,EAAqB,CAE9B,KADAA,EAAS9mC,EAAOgnC,UAAUjiI,IAAI+hI,IAE5B,OAEFA,EAASA,EAAO,GAElB,GAAI,YAAaA,EAAQ,CACvB,IAAI+jD,EAAa5mG,GAAM6iD,EAAQ,WAC/B,GAAI+jD,EAAWxpG,IAAG,GAChB,MAAO,GAEPqpG,EAAgBG,EAAWtpG,MAAMmpG,GAGrCtzK,EAAO0vH,EAAO9L,OAAS8L,EAAOr1H,QAAU,OACxC,IAzC4BixD,EAyCxBra,GAzCwBqa,EAyCFokE,EAAOpkE,WAxCI,iBAAbA,GAIxBA,GADAA,EAAWA,EAASp7D,MAAM,WAAW,IACjBS,QAAQ,sBAAuB,MAC5C4jF,GAAMtiF,IAAIq5D,EAASp7D,MAAM,4BAA4B,SAAUshD,GACpE,IAAI2gF,EAAW59C,GAAMtiF,IAAIu/C,EAAKthD,MAAM,gBAAiB4iL,IACjD1zI,EAAM+yF,EAASv5F,MAInB,OAHIu5F,EAASviI,SACXwvC,EAAI+yF,SAAWA,GAEV/yF,KACNj5B,WAXM,GAwCL8qC,EAAMrhD,QACHqhD,EAAM,GAAGjxC,OACZixC,EAAM,GAAGjxC,KAAOA,GAElBA,EAAO0vH,EAAOpkE,SACd6nH,EAAcf,GAAqBnhI,EAAO23C,IAE1CuqF,EAAcf,GAAqB,CAACpyK,GAAO4oF,GAE7C,IAAI8qF,EAAaj+F,GAAI7oB,OAAO5sD,EAAMmzK,GAAa,IAAMA,EAAY76F,WAwDjE,OAvDA65F,GAAOziD,EAAOn7B,QAAQ,SAAUxmG,EAAOiS,GACrC,IAAIshF,EAAWkyF,EAAWzlL,GACtBuzF,GACF7L,GAAIrqB,SAASsoH,EAAY1zK,EAAMshF,MAGnC6wF,GAAOziD,EAAOx6F,YAAY,SAAUnnC,EAAOiS,GACzC,IAAIshF,EAAWkyF,EAAWzlL,GACtBuzF,GACF7L,GAAIg6B,UAAUikE,EAAY1zK,EAAMshF,MAGpC6wF,GAAOziD,EAAOqF,SAAS,SAAUhnI,GAC/B,IAAIuzF,EAAWkyF,EAAWzlL,GACrB0nF,GAAItrB,SAASupH,EAAYpyF,IAC5B7L,GAAI/xB,SAASgwH,EAAYpyF,MAG7BsH,EAAOn0B,KAAK,kBACZghB,GAAIy8B,UAAUihE,EAAa,CACzB78K,SAAU,WACVxB,MAAO,QAET8zF,EAAOmxB,UAAUj/G,YAAYq4K,GAC7BC,EAAiB39F,GAAIs6B,SAASnnB,EAAOmxB,UAAW,YAAY,GAC5Dq5D,EAAiB,MAAMxgL,KAAKwgL,GAAkBlhL,SAASkhL,EAAgB,IAAM,EAC7EjB,GAAOmB,EAAcpjL,MAAM,MAAM,SAAU8P,GACzC,IAAIjS,EAAQ0nF,GAAIs6B,SAAS2jE,EAAY1zK,GAAM,GAC3C,KAAa,qBAATA,GAA+B,oCAAoCpN,KAAK7E,KAC1EA,EAAQ0nF,GAAIs6B,SAASnnB,EAAOmxB,UAAW/5G,GAAM,GACN,YAAnCy1E,GAAIkmB,MAAM5tG,GAAOqE,gBAIV,UAAT4N,GACqC,YAAnCy1E,GAAIkmB,MAAM5tG,GAAOqE,eADvB,CAKA,GAAa,cAAT4N,GACE,QAAQpN,KAAK7E,GAAQ,CACvB,GAAuB,IAAnBqlL,EACF,OAGFrlL,EADeg+D,WAAWh+D,IAAU,KAAK6E,KAAK7E,GAAS,IAAM,GAC1CqlL,EAAiB,KAG3B,WAATpzK,GAAqBjS,IACvBslL,GAAc,kBAEhBA,GAAcrzK,EAAO,IAAMjS,EAAQ,QAErC66F,EAAOn0B,KAAK,uBACZghB,GAAIt6E,OAAOg4K,GACJE,GA+BLM,GAAY,SAAU/qF,GACxB,IAAIuhE,EAAU6lB,GAAepnF,GACzBgrF,EAAoBj+D,GAAK,MAG7B,OAjCY,SAAU/sB,GACtBA,EAAOirF,YAAY,SAAU,GAAI,QACjCjrF,EAAOirF,YAAY,SAAU,GAAI,UACjCjrF,EAAOirF,YAAY,SAAU,GAAI,aACjC,IAAK,IAAI3mL,EAAI,EAAGA,GAAK,EAAGA,IACtB07F,EAAOirF,YAAY,UAAY3mL,EAAG,GAAI,CACpC,eACA,EACA,IAAMA,IAGV07F,EAAOirF,YAAY,WAAY,GAAI,CACjC,eACA,EACA,MAEFjrF,EAAOirF,YAAY,WAAY,GAAI,CACjC,eACA,EACA,QAEFjrF,EAAOirF,YAAY,WAAY,GAAI,CACjC,eACA,EACA,YAOFC,CAAQlrF,GACR45D,GAAQ55D,GACD,CACLj7F,IAAKw8J,EAAQx8J,IACb+S,IAAKypJ,EAAQzpJ,IACbs1H,SAAUm0B,EAAQn0B,SAClBk8C,WAAY/nB,EAAQ+nB,WACpB1mK,MAAO,SAAUxL,EAAM8uH,EAAMxmF,IAj8Gb,SAAUsgD,EAAQ5oF,EAAM8uH,EAAMxmF,GAChD0sH,GAAwBpsE,GAAQgnC,UAAUpkH,MAAMxL,EAAM8uH,EAAMxmF,GAi8GxDyrI,CAAcnrF,EAAQ5oF,EAAM8uH,EAAMxmF,IAEpCntC,OAAQ,SAAU6E,EAAM8uH,EAAMxmF,EAAM23G,IAj8GnB,SAAUr3D,EAAQ5oF,EAAM8uH,EAAMxmF,EAAM23G,GACvD+U,GAAwBpsE,GAAQgnC,UAAUz0H,OAAO6E,EAAM8uH,EAAMxmF,EAAM23G,GAi8G/D+zB,CAAeprF,EAAQ5oF,EAAM8uH,EAAMxmF,EAAM23G,IAE3C10F,OAAQ,SAAUvrD,EAAM8uH,EAAMxmF,IAj8Gf,SAAUsgD,EAAQ5oF,EAAM8uH,EAAMxmF,GAC/C0sH,GAAwBpsE,GAAQgnC,UAAUrkE,OAAOvrD,EAAM8uH,EAAMxmF,GAi8GzD2rI,CAAarrF,EAAQ5oF,EAAM8uH,EAAMxmF,IAEnCt2C,MAAO,SAAUgO,EAAM8uH,EAAMxmF,GAC3B,OA19GY,SAAUsgD,EAAQ5oF,EAAM8uH,EAAMxmF,GAC9C,OAAO0sH,GAAwBpsE,GAAQgnC,UAAU59H,MAAMgO,EAAM8uH,EAAMxmF,GAy9GxD4rI,CAAYtrF,EAAQ5oF,EAAM8uH,EAAMxmF,IAEzCm/C,QAAS,SAAUzoE,GACjB,OAj9Gc,SAAU4pE,EAAQ5pE,GACpC,OAAOg2I,GAAwBpsE,GAAQgnC,UAAUnoC,QAAQzoE,GAg9G9Cm1J,CAAcvrF,EAAQ5pE,IAE/BuzI,SAAU,SAAUvzI,EAAO8vG,GACzB,OA79GgB,SAAUlmC,EAAQ5pE,EAAO8vG,GAC7C,OAAOkmC,GAAwBpsE,GAAQgnC,UAAU2iC,SAASvzI,EAAO8vG,GA49GtDslD,CAAgBxrF,EAAQ5pE,EAAO8vG,IAExC+wB,UAAW,SAAUv3G,EAAMtpB,EAAO8vG,EAAMmxB,GACtC,OA79GgB,SAAUr3D,EAAQtgD,EAAMtoC,EAAM8uH,EAAMmxB,GACxD,OAAO+U,GAAwBpsE,GAAQgnC,UAAUiwB,UAAUv3G,EAAMtoC,EAAM8uH,EAAMmxB,GA49GlEo0B,CAAgBzrF,EAAQtgD,EAAMtpB,EAAO8vG,EAAMmxB,IAEpDyS,SAAU,SAAU1yJ,GAClB,OA79Ge,SAAU4oF,EAAQ5oF,GACrC,OAAOg1J,GAAwBpsE,GAAQgnC,UAAU8iC,SAAS1yJ,GA49G/Cs0K,CAAe1rF,EAAQ5oF,IAEhC2yJ,cAAe,SAAUxI,EAAS/zH,EAAU6pH,GAC1C,OAj9Gc,SAAUr3D,EAAQshE,EAA2BC,EAAS/zH,EAAU6pH,GAIlF,YAHgB,IAAZA,IACFA,GAAU,GAEL+U,GAAwBpsE,GAAQgnC,UAAU+iC,cAAczI,EAA2BC,EAAS/zH,EAAU6pH,GA68GlG0S,CAAc/pE,EAAQgrF,EAAmBzpB,EAAS/zH,EAAU6pH,IAErEizB,WAAYhqG,EAAMgqG,GAAYtqF,KAyG9B2rF,GAAc,SAAU3rF,GAC1B,IAAIwnE,EAAiBz6C,GAAK1qC,EAAStB,QAC/BwnF,EAAQx7C,GAAK,GACb/1G,EAAQ+1G,GAAK,GACb8f,EAAc,CAChB57G,KAAM,GACNw3I,QAAQ,EACRG,aAAc,YA5nHG,SAAU5oE,EAAQuoE,EAAOf,GAC5C4E,GAAwBpsE,GAAQ6sC,YAAY+7B,aAAaL,EAAOf,GA4nH5DokB,CAAe5rF,EAAQuoE,EAAOf,IAEhCz1J,IAAK,SAAU61J,EAAO5vH,GACpB,OA7nHe,SAAUgoD,EAAQ6sC,EAAa71H,EAAOuxJ,EAAOf,EAAgBI,EAAO5vH,GACvF,OAAOo0H,GAAwBpsE,GAAQ6sC,YAAYg8B,aAAah8B,EAAa71H,EAAOuxJ,EAAOf,EAAgBI,EAAO5vH,GA4nHvG6zI,CAAe7rF,EAAQ6sC,EAAa71H,EAAOuxJ,EAAOf,EAAgBI,EAAO5vH,IAElFoxH,KAAM,WACJ,OA7nHO,SAAUppE,EAAQ6sC,EAAa07B,EAAOvxJ,GACjD,OAAOo1J,GAAwBpsE,GAAQ6sC,YAAYu8B,KAAKv8B,EAAa07B,EAAOvxJ,GA4nHjE80K,CAAO9rF,EAAQ6sC,EAAa07B,EAAOvxJ,IAE5CqyJ,KAAM,WACJ,OA7nHO,SAAUrpE,EAAQhpF,EAAOia,GACpC,OAAOm7I,GAAwBpsE,GAAQ6sC,YAAYw8B,KAAKryJ,EAAOia,GA4nHpD86J,CAAO/rF,EAAQhpF,EAAO61H,EAAY57G,OAE3ChiB,MAAO,YA5nHG,SAAU+wF,EAAQ6sC,EAAa71H,GAC3Co1J,GAAwBpsE,GAAQ6sC,YAAY59H,MAAM49H,EAAa71H,GA4nH3Dg1K,CAAQhsF,EAAQ6sC,EAAa71H,IAE/BmoC,MAAO,YA5nHG,SAAU6gD,EAAQ6sC,GAC9Bu/B,GAAwBpsE,GAAQ6sC,YAAY1tF,MAAM0tF,GA4nH9Co/C,CAAQjsF,EAAQ6sC,IAElBy8B,QAAS,WACP,OA7nHU,SAAUtpE,EAAQ6sC,EAAa71H,GAC7C,OAAOo1J,GAAwBpsE,GAAQ6sC,YAAYy8B,QAAQz8B,EAAa71H,GA4nH7Dk1K,CAAUlsF,EAAQ6sC,EAAa71H,IAExCuyJ,QAAS,WACP,OA7nHU,SAAUvpE,EAAQ6sC,EAAa71H,GAC7C,OAAOo1J,GAAwBpsE,GAAQ6sC,YAAY08B,QAAQ18B,EAAa71H,GA4nH7Dm1K,CAAUnsF,EAAQ6sC,EAAa71H,IAExC81H,SAAU,SAAUt/F,GAClB,OA7nHW,SAAUwyD,EAAQ6sC,EAAa07B,EAAO/6H,GACrD,OAAO4+H,GAAwBpsE,GAAQ6sC,YAAYC,SAASD,EAAa07B,EAAO/6H,GA4nHrE4+I,CAAWpsF,EAAQ6sC,EAAa07B,EAAO/6H,IAEhDg8H,OAAQ,SAAUh8H,IA5nHP,SAAUwyD,EAAQuoE,EAAO/6H,GACtC4+H,GAAwBpsE,GAAQ6sC,YAAY28B,OAAOjB,EAAO/6H,GA4nHtD6+I,CAASrsF,EAAQuoE,EAAO/6H,IAE1B3R,MAAO,SAAU4tI,EAAWC,IA5nHlB,SAAU1pE,EAAQ6sC,EAAa71H,EAAOyyJ,EAAWC,GAC7D0C,GAAwBpsE,GAAQ6sC,YAAYhxG,MAAMgxG,EAAa71H,EAAOyyJ,EAAWC,GA4nH7E4iB,CAAQtsF,EAAQ6sC,EAAa71H,EAAOyyJ,EAAWC,KAOnD,OAJKiB,GAAM3qE,IA9IU,SAAUA,EAAQ6sC,EAAa07B,GACpD,IAAIgkB,EAAwBx/D,IAAK,GAC7By/D,EAAwB,SAAUroL,GACpCqkK,GAAU37B,GAAa,EAAO07B,GAC9B17B,EAAY96H,IAAI,GAAI5N,IAEtB67F,EAAOr6C,GAAG,QAAQ,WAChBknF,EAAY96H,SAEdiuF,EAAOr6C,GAAG,qBAAqB,SAAUxhD,GACvC,IAAIsoL,EAAMtoL,EAAEuoL,QAAQljL,cACR,SAARijL,GAA0B,SAARA,GAA0B,eAARA,IACtC/jB,GAAU77B,EAAa07B,GACvB17B,EAAY+7B,mBAGhB5oE,EAAOr6C,GAAG,eAAe,SAAUxhD,GACjC,IAAIsoL,EAAMtoL,EAAEuoL,QAAQljL,cACR,SAARijL,GAA0B,SAARA,GAA0B,eAARA,GACtCD,EAAsBroL,MAG1B67F,EAAOr6C,GAAG,yBAAyB,WACjCknF,EAAY+7B,kBAEd5oE,EAAOr6C,GAAG,iCAAkC6mI,GAC5CxsF,EAAOr6C,GAAG,UAAW6mI,GACrBxsF,EAAOr6C,GAAG,SAAS,SAAUxhD,GAC3B,IAAI01J,EAAU11J,EAAE01J,QACZ11J,EAAEoyG,wBAGFsjD,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAkB,KAAZA,GAAkB11J,EAAEyD,WAC1F4kL,IACAxsF,EAAO8xC,eAEO,KAAZ+nB,GAA8B,IAAZA,GACpB75D,EAAO8xC,cAELy6C,EAAsBxnL,OAAS8nI,EAAY47B,SAAoE,IAA1DR,GAAOZ,GAAiBrnE,GAAS6sC,EAAY57G,KAAK,OAChF,IAArB+uE,EAAO2sF,YACT3sF,EAAOmpE,UAAS,GAChBnpE,EAAOn0B,KAAK,SAAU,CACpB+7F,MAAO/6B,EAAY57G,KAAK,GACxB83I,UAAW,QAGf/oE,EAAOn0B,KAAK,cACZ0gH,EAAsB9wK,KAAI,GAC1BukF,EAAO8xC,mBAGX9xC,EAAOr6C,GAAG,WAAW,SAAUxhD,GAC7B,IAAI01J,EAAU11J,EAAE01J,QAChB,IAAI11J,EAAEoyG,qBAGN,GAAIsjD,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAkB,KAAZA,EAClEhtB,EAAY47B,QACd+jB,EAAsBroL,OAF1B,CAMA,IAAIyoL,EAASzoL,EAAEyD,UAAYzD,EAAE2qI,QAAU3qI,EAAEyyG,UACpCijD,EAAU,IAAMA,EAAU,KAAmB,MAAZA,GAA+B,KAAZA,GAAmBhtB,EAAY47B,QAAWmkB,IACjG//C,EAAY+7B,eACZJ,GAAU37B,GAAa,EAAM07B,GAC7B17B,EAAY96H,IAAI,GAAI5N,GACpBooL,EAAsB9wK,KAAI,QAG9BukF,EAAOr6C,GAAG,aAAa,SAAUxhD,GAC3B0oI,EAAY47B,QACd+jB,EAAsBroL,MAY1B67F,EAAOr6C,GAAG,SAAS,SAAUxhD,GANF,IAAU6zC,EAO/B7zC,EAAEutD,YATqB,0BASiBvtD,EAT/ButD,WAGc,gBADQ1Z,EAOoC7zC,GAN1DutD,WAA6C,OAAf1Z,EAAM/mB,MAErB,SAAU+mB,GACtC,MAA2B,oBAApBA,EAAM0Z,WAAuD,mBAApB1Z,EAAM0Z,UAGuBm7H,CAAwB1oL,KACnGqoL,EAAsBroL,MAG1B67F,EAAOr6C,GAAG,gCAAgC,SAAUxhD,GAC7CA,EAAEoyG,sBACLvW,EAAO8xC,iBAmDTg7C,CAAiB9sF,EAAQ6sC,EAAa07B,GA/Cf,SAAUvoE,GACnCA,EAAOirF,YAAY,SAAU,GAAI,QACjCjrF,EAAOirF,YAAY,sBAAuB,GAAI,QA+C9C8B,CAAqB/sF,GACd6sC,GAGLmgD,GAAoB,CACtB,EACA,GACAj/C,GAAGa,KACHb,GAAGY,IACH,GACA,GACA,GACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACAZ,GAAGG,KACHH,GAAGS,GACHT,GAAGK,KACHL,GAAGM,OACH36G,OAAOi3D,GAAIrE,QAAQyB,YAAc,CAAC,KAAO,IACvCklG,GAAkB,uBAClBC,GAAkB,SAAU/oL,GAC9B,MAAkB,YAAXA,EAAEgG,MAAiC,UAAXhG,EAAEgG,MAE/BgjL,GAAgB,SAAUhpL,GAC5B,IAAI01J,EAAU11J,EAAE01J,QAChB,OAAOA,IAAY9rB,GAAGC,WAAa6rB,IAAY9rB,GAAGE,QA4BhDm/C,GAAU,SAAUptF,GACtB,IAAInT,EAAMmT,EAAOnT,IACbkxC,EAAYhD,GAAmB/6B,GAC/Br3B,EAvyXe,SAAUq3B,GAC7B,OAAOA,EAAO46B,SAAS,cAAeF,GAAMhU,UAAU1mB,EAAOn7C,aAAc,eAAgB,UAsyXzEwoI,CAAertF,GAC7BstF,EAAoB,SAAUnpL,EAAG6oH,GACnC,IA/B2B,SAAU7oH,GACvC,GAAI+oL,GAAgB/oL,GAAI,CACtB,IAAI01J,EAAU11J,EAAE01J,QAChB,OAAQszB,GAAchpL,KAAO4pI,GAAGgB,eAAe5qI,IAAMA,EAAE2qI,QAAU+qB,GAAW,KAAOA,GAAW,KAAO7nJ,EAASg7K,GAAmBnzB,IAEjI,OAAO,EA0BH0zB,CAAyBppL,GAA7B,CAGA,IAAI+Q,EAAO8qF,EAAOmxB,UACdq8D,GA3BoB,SAAUrpL,GACpC,OAAO+oL,GAAgB/oL,MAAQgpL,GAAchpL,IAAiB,UAAXA,EAAEgG,MAAkC,MAAdhG,EAAE01J,SA0BnD4zB,CAAsBtpL,IAxB1B,SAAU0oF,EAAKmI,EAAS4nE,GAC5C,GAAI51D,GAAQla,GAAaF,QAAQoI,IAAU,GAAQ,CACjD,IAAI04F,EAA6C,KAApB9wB,EACzBjoE,EAAeK,EAAQtuF,kBAC3B,OAAKiuF,IAEM9H,EAAIs6B,SAASnyB,EAAQtuF,kBAAmB,kBAAmBmmF,EAAIs6B,SAASnyB,EAAQtuF,kBAAmB,mBAGrGgnL,GAA0B7gG,EAAI2W,QAAQ7O,GAAgBioE,IAAoBjoE,EAAajzC,SAASl4C,eAGzG,OAAO,EAYkDmkL,CAAgB9gG,EAAK33E,EAAM6oH,IAClB,KAAzClxC,EAAI65B,UAAUxxG,EAAM+3K,MAClBO,GAAmBxgE,KAC5CngC,EAAIg6B,UAAU3xG,EAAM+3K,GAAiBO,EAAkB7kH,EAAc,MACrEkkB,EAAIg6B,UAAU3xG,EAAM,mBAAoBs4K,EAAkB7kH,EAAc,MAz8TlD,SAAUq3B,EAAQ7vE,GACrC6vE,EAAOn0B,KAAK,oBAAqB,CAAE17C,MAAOA,IAy8T7Cy9J,CAAsB5tF,EAAQwtF,GAC9BxtF,EAAOr6C,GAAG6nI,EAAkB,UAAY,QAASF,GACjDttF,EAAO9I,IAAIs2F,EAAkB,QAAU,UAAWF,MAGlD3kH,GACFq3B,EAAOr6C,GAAG,QAAQ,SAAUxhD,GAC1BmpL,EAAkBnpL,GAAG,GACrB67F,EAAOr6C,GAAG,gCAAiC2nI,GAC3CttF,EAAOr6C,GAAG,SAAS,SAAUxhD,GAC3B,OAAOy7F,GAAMG,iBAAiBC,GAAQ,WACpC,OAAOstF,EAAkBnpL,aAO/B0pL,GAAY,4CAKZC,GAAiB,SAAU9tF,EAAQlL,GACrC,OAAOnH,GAAKb,GAAaF,QAAQkI,GAx1XH,SAAUkL,GACxC,OAAOA,EAAO46B,SAAS,6BAA8B,+BAAgC,UAu1X9CmzD,CAA0B/tF,KAE/DguF,GAAU,SAAUniL,GACtB,MAA6D,QAAtDs6G,GAAS2D,IAAI3C,SAASt7G,EAAS,aAAa,KARxBouD,EAQwDpuD,EAAQ+xC,YAPpFiwI,GAAU7jL,KAAKiwD,IADL,IAAUA,GAazBg0H,GAAiB,SAAUH,EAAgBlrF,EAAUzoE,GACvD,IAAIw3E,EAJkB,SAAUm8E,EAAgBlrF,EAAUzoE,GAC1D,OAAOjY,EAAOikG,GAAS2D,IAAIxC,WAAWntF,EAAIlsB,YAAa,IAAK20F,GAAWkrF,GAGzDI,CAAkBJ,EAAgBlrF,EAAUzoE,GAC1D,OAAOkoD,EAASt8E,KAAK4rG,EAAQA,EAAQ3qG,OAAS,KAU5CmnL,GAAoB,SAAUtuE,EAAS1lF,GACzC,IAAKA,EACH,OAAOA,EAET,IAAIlsB,EAAYksB,EAAIlsB,YAAamQ,EAAS+b,EAAI/b,SAC9C,OAAIyhG,EACErb,GAAuBv2F,GACrBglF,GAAShlF,EAAUoE,aACd4kH,GAAchpH,EAAUoE,YAAa,GAErC4kH,GAAc1mC,MAAMtiF,GAGtB02F,GAAexqE,GAAO88F,GAAchpH,EAAWmQ,EAAS,GAAK+b,EAGlEqqE,GAAuBv2F,GACrBglF,GAAShlF,EAAUqhF,iBACd2nC,GAAchpH,EAAUqhF,gBAAiBrhF,EAAUqhF,gBAAgBr+D,KAAKjqB,QAExEiwH,GAAc5mC,OAAOpiF,GAGvB42F,GAAc1qE,GAAO88F,GAAchpH,EAAWmQ,EAAS,GAAK+b,GAIrEi0J,GAAoB9tG,EAAM6tG,IAAmB,GAC7CE,GAAqB/tG,EAAM6tG,IAAmB,GAO9CG,GAAmB,SAAU1rF,EAAU9N,GACzC,OAAOtG,GAAWoU,EAAU9N,GAAO+J,GAAQ/J,GAAK,SAAUjpF,GACxD,OAAO83F,GAAY93F,IAAYg4F,GAAWh4F,KAP3B,SAAU+2F,GAC3B,OAAO,SAAU9N,GACf,OAAO7G,GAAK2U,EAAU9V,GAAaF,QAAQkI,EAAIjI,IAAIr6E,cAMlD+7K,CAAa3rF,IAAavgB,EAAStB,QAOpCytG,GAAgB,SAAUxuF,GACxBA,EAAOnT,IAAIma,QAAQhH,EAAOmxB,aAC5BnxB,EAAOx1B,WAAW,IAPM,SAAUw1B,GACpC,IAAI9qF,EAAO8qF,EAAOmxB,UACdzxE,EAAOxqC,EAAKw6E,YAAcsQ,EAAOnT,IAAI2W,QAAQtuF,EAAKw6E,YAAcx6E,EAAKw6E,WAAax6E,EACtF8qF,EAAOixB,UAAUk8B,kBAAkBztG,EAAM,GAKvC+uI,CAAsBzuF,KA0BtB0uF,GAAgB,SAAU3oL,EAAMwZ,GAClC,MAAO,CACLxZ,KAAMA,EACNwZ,GAAIA,IAGJovK,GAAmB,SAAU/rF,EAAUzoE,GACzC,IAAI66D,EAAUlI,GAAaF,QAAQgW,GAC/BgsF,EAAe9hG,GAAaF,QAAQzyD,EAAIlsB,aAC5C,OAAOqgL,GAAiBt5F,EAAS45F,GAAcvlL,KAAI,SAAU2xH,GAC3D,OAhBgB,SAAUA,EAAOttH,GACnC,MAAO,CACLstH,MAAOA,EACPttH,SAAUA,GAaHmhL,CAAc7zD,EAAO7gG,OA+B5B20J,GAAgB,SAAUlsF,EAAUid,EAASmR,GAC/C,IAAI+9D,EAAeJ,GAAiB/rF,EAAUq0B,GAAcG,eAAepG,IACvEg+D,EAAaD,EAAazpL,MAAK,SAAU2pL,GAC3C,OAAOnsD,GAAajjB,EAASjd,EAAUqsF,EAASvhL,UAAUpI,MAAK,SAAUia,GACvE,OAAOovK,GAAiB/rF,EAAUrjF,GAAIlW,KAAI,SAAU4lL,GAClD,OApBS,SAAUrsF,EAAUid,EAASgvE,GAC5C,OAAIx7F,GAAKw7F,EAAcnhL,SAASknH,aAA+C,IAAjC5tB,GAAQ6nF,EAAc7zD,OAC3DkI,IAAW,EAAO2rD,EAAc7zD,MAAMnuC,KAAKvnF,MAAK,SAAU4pL,GAC/D,OAAIA,EAAoB/3D,QAAQ03D,EAAcnhL,UACrCo1H,GAAajjB,EAASjd,EAAUssF,GAAqB5pL,MAAK,SAAUia,GACzE,OAAOovK,GAAiB/rF,EAAUrjF,MAG7B8iE,EAAS5tE,KAAKo6K,MAEtBttG,MAAMstG,GAEFA,EAQIM,CAAWvsF,EAAUid,EAASovE,YAI3C,OAAOp7D,GAAMk7D,EAAcC,EAAYN,IAAexsK,QAAO,SAAUwsK,GACrE,OAtCoB,SAAUA,GAChC,OAAkE,IAA3DzgG,GAAKygG,EAAc3oL,KAAKi1H,MAAO0zD,EAAcnvK,GAAGy7G,OAqC9Co0D,CAAkBV,IAnCT,SAAUA,GAC5B,OAAOjsH,GAAOisH,EAAc3oL,KAAKi1H,OAAO11H,MAAK,SAAU+pL,GACrD,OAAO5sH,GAAOisH,EAAcnvK,GAAGy7G,OAAO94G,QAAO,SAAUotK,GACrD,OAAOrhG,GAAKohG,EAASC,SAEtBhuG,SA8B0CiuG,CAAcb,IA5B5C,SAAUA,GACzB,OAAgE,IAAzDl7F,GAAuBk7F,EAAc3oL,KAAKi1H,MAAMnuC,OAAyE,IAAvD2G,GAAuBk7F,EAAcnvK,GAAGy7G,MAAMnuC,KA2B1C2iG,CAAWd,OAOtFe,GAAgC,SAAUz0D,GAC5C,IAAIpqC,EAAa/pF,GAASm0H,GAC1B,OAAO54G,EAAUwuE,EAAY4S,IAASriB,MAAK,WACzC,OAAOyP,KACN,SAAU55E,GACX,OAAO45E,EAAW1qF,MAAM,EAAG8Q,OAG3B04K,GAAkB,SAAU10D,GAC9B,IAAIn0H,EAAW4oL,GAA8Bz0D,GAE7C,OADAhlE,EAAKnvD,EAAU0L,IACR1L,GAEL8oL,GAAkB,SAAU/sF,EAAUo4B,GACxC,IAAIrpB,EAAUq2C,GAAehtB,EAAOp4B,GACpC,OAAO/wF,EAAK8/F,EAAQp0F,WAAW,SAAU1R,GACvC,OAAOm7F,GAAQn7F,MACdmqD,KAAKzjD,KAONq9K,GAAmB,SAAUhtF,EAAUylD,EAAWwnC,EAASC,GAC7D,GAAI9oF,GAAQ6oF,GAEV,OADAnoC,GAAkBmoC,GACXvsD,GAAgBusD,EAAQhjG,KALnB,IAFP3qE,EAAOqtE,GASIugG,IATc,SAAU79K,GACxC,OAAQ+0F,GAAQ/0F,MACfjL,QAOkCggG,GAAQqhD,IAC3Ch4D,GAAOy/F,EAAgBhjG,GAAaI,QAAQ,OAE9C,IAAIx/E,EAAW21H,GAAawsD,EAAQhjG,IAAKoqC,GAAc5mC,OAAOy/F,EAAejjG,MAK7E,OAJA72B,EAAK05H,GAAgBrnC,IAAY,SAAU3qG,GACzC2yC,GAAOy/F,EAAgBpyI,MAEzBiyI,GAAgB/sF,EAAUylD,GACnB36I,GAELqiL,GAAqB,SAAUntF,EAAUylD,EAAWwnC,GACtD,GAAI7oF,GAAQ6oF,GAKV,OAJAt9K,GAAOs9K,GACH7oF,GAAQqhD,IACVX,GAAkBW,GAEb/kB,GAAgB+kB,EAAUx7D,KAEnC,IAAIn/E,EAAW61H,GAAessD,EAAQhjG,KAKtC,OAJA72B,EAAK05H,GAAgBrnC,IAAY,SAAU3qG,GACzCvQ,GAAO0iJ,EAASnyI,MAElBiyI,GAAgB/sF,EAAUylD,GACnB36I,GAMLsiL,GAAoB,SAAU3nC,EAAWwnC,GAC3C,OAAOrhG,GAAWqhG,EAASxnC,GALJ,SAAUwnC,EAAS70D,GAC1C,IAAIi1D,EAAmBjoC,GAAehtB,EAAO60D,GAC7C,OAAOxtG,EAASt8E,KAAKkqL,EAAiBA,EAAiBjpL,OAAS,IAGxBkpL,CAAmBL,EAASxnC,GAAahmE,EAAStB,QAExFovG,GAAS,SAAU/1J,EAAO4gG,GAC5BkI,GAAW9oG,EAAO4gG,EAAMnuC,KAAKxjF,KAAI,SAAUqE,GACzC,OAAOA,EAASknH,aACfvrH,IAAIyjF,GAAaF,SAAS1qE,OAAOwhF,IAAQ1tC,KAAKzjD,KAE/C69K,GAAiB,SAAUxtF,EAAUylD,EAAWwnC,GAGlD,OAFAM,IAAO,EAAM9nC,GACb8nC,IAAO,EAAON,GACPG,GAAkB3nC,EAAWwnC,GAAS1uG,KAAKb,EAAMyvG,GAAoBntF,EAAUylD,EAAWwnC,GAAUvvG,EAAMsvG,GAAkBhtF,EAAUylD,EAAWwnC,KAEtJQ,GAAc,SAAUztF,EAAUid,EAASywE,EAAQC,GACrD,OAAO1wE,EAAUuwE,GAAextF,EAAU2tF,EAAQD,GAAUF,GAAextF,EAAU0tF,EAAQC,IAG3FC,GAAoB,SAAUxwF,EAAQ6f,GACxC,IAAIjd,EAAW9V,GAAaF,QAAQoT,EAAOmxB,WACvCzjH,EAjFO,SAAUk1F,EAAUid,EAASmR,GACxC,OAAOA,EAAIgJ,UAAY80D,GAAclsF,EAAUid,EAASmR,GAAO3uC,EAAStB,OAgFzD0vG,CAAO7tF,EAAS/V,IAAKgzB,EAAS7f,EAAOixB,UAAUC,UAAU5rH,MAAK,SAAUopL,GACrF,OAAO2B,GAAYztF,EAAUid,EAAS6uE,EAAc3oL,KAAKi1H,MAAO0zD,EAAcnvK,GAAGy7G,UAKnF,OAHAttH,EAASsoD,MAAK,SAAU77B,GACtB6lE,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,cAEvBxpH,EAAS4zE,UAiBdovG,GAAmB,SAAUv+K,EAAMq1I,GACrC,IAAI9nG,EAAOotC,GAAaF,QAAQ46D,GAC5B9pD,EAASpd,EAAM2N,GAAM97E,GACzB,OAAOsrF,GAAS/9C,EAAMqkD,GAAerG,GAAQpc,UAK3CqvG,GAAuB,SAAUx+K,EAAM6+G,GACzC,IAAI4/D,EAAavtD,GAAalxH,EAAK06E,IAAKoqC,GAAcG,eAAepG,IAAM/vC,SACvE4vG,EAASztD,GAAajxH,EAAK06E,IAAKoqC,GAAcI,aAAarG,IAAM/vC,SACrE,OANuB,SAAU9uE,EAAM6+G,GACvC,OAAO0/D,GAAiBv+K,EAAM6+G,EAAIzF,iBAAmBmlE,GAAiBv+K,EAAM6+G,EAAIvF,cAKxEqlE,CAAmB3+K,EAAM6+G,IAAQ4/D,GAAcC,GAOrDE,GAAgB,SAAU/wF,GAC5B,IAAI4C,EAAW9V,GAAaF,QAAQoT,EAAOmxB,WACvCH,EAAMhxB,EAAOixB,UAAUC,SAC3B,OAAOy/D,GAAqB/tF,EAAUouB,GARtB,SAAUhxB,GAG1B,OAFAA,EAAOx1B,WAAW,IAClBw1B,EAAOixB,UAAUk8B,qBACV,EAKsC6jC,CAAYhxF,GAnC9B,SAAU4C,EAAUquB,GAC/C,IAAID,EAAMC,EAAUC,SACpB,OAAO2C,GAAMy6D,GAAiB1rF,EAAU9V,GAAaF,QAAQokC,EAAIzF,iBAAkB+iE,GAAiB1rF,EAAU9V,GAAaF,QAAQokC,EAAIvF,gBAAgB,SAAU6kE,EAAQC,GACvK,OAA6B,IAAzBtiG,GAAKqiG,EAAQC,KACfv/D,EAAIy+B,iBACJ4gC,GAAYztF,GAAU,EAAM0tF,EAAQC,GAAQv6H,MAAK,SAAU77B,GACzD82F,EAAUiU,OAAO/qG,EAAI+8F,eAEhB,MAIR31C,OAAM,GAuB0D0vG,CAAuBruF,EAAU5C,EAAOixB,YAEzGigE,GAAoB,SAAUlxF,EAAQmxF,GACxC,OAAOnxF,EAAOixB,UAAU0I,eAAwBo3D,GAAc/wF,IAG5DoxF,GAA0B79F,GAC1B89F,GAA2B79F,GAC3B89F,GAAY,SAAUzsH,EAAWm7B,EAAQtgD,EAAM2wC,EAAQwB,GACzD,OAAOxP,EAASt8E,KAAKi6F,EAAOo0D,oBAAoBk9B,UAAUzsH,EAAWnlB,EAAM2wC,EAAQwB,KAOjFizC,GAAa,SAAU9kC,EAAQtgD,GAEjC,OADQsgD,EAAOn0B,KAAK,uBAAwB,CAAE1kE,OAAQu4C,IAChD62D,qBACGl0B,EAAStB,OAEXsB,EAAS5tE,KAVC,SAAUirC,GAC3B,IAAIsxE,EAAMtxE,EAAKuvC,cAAco5B,cAE7B,OADA2I,EAAI8T,WAAWplF,GACRsxE,EAOcugE,CAAa7xI,KAEhC8xI,GAAqB,SAAUxxF,EAAQh+B,EAAO6vB,GAChD,IAAImvC,EAAkBL,GAAe,EAAG3gC,EAAOmxB,UAAWnvD,GACtD60D,EAAgBI,GAAcG,eAAe4J,GAC7CywD,EAAoB56D,EAAcjC,UACtC,GAAI6J,GAAwBgzD,GAC1B,OAAOH,GAAU,EAAGtxF,EAAQyxF,GAAoB56D,EAAc/xB,WAAW,GAE3E,IAAI4sF,EAA0B76D,EAAcjC,SAAQ,GACpD,GAAI6J,GAAwBizD,GAC1B,OAAOJ,GAAU,EAAGtxF,EAAQ0xF,GAAyB,GAAO,GAE9D,IAAIC,EAAS3xF,EAAOnT,IAAIm8B,UAAU6N,EAAcjC,WAAW,SAAUl1E,GACnE,OAAO2xI,GAAyB3xI,IAAS0xI,GAAwB1xI,MAEnE,OAAI++E,GAAwBkzD,GACnBL,GAAU,EAAGtxF,EAAQ2xF,GAAQ,EAAO9/F,GAEtCxP,EAAStB,QAEd6wG,GAAmB,SAAU5xF,EAAQh+B,EAAO6vB,GAC9C,OAAO7vB,EAAMg4D,UAAYw3D,GAAmBxxF,EAAQh+B,EAAO6vB,GAAgBtQ,MAAMvf,GAASA,GAGxF6vH,GAAmB,SAAU13J,GAC/B,OAAOitH,GAA6BjtH,IAAQ6sH,GAAc7sH,IAExD23J,GAAkB,SAAU33J,GAC9B,OAAOktH,GAA4BltH,IAAQ8sH,GAAa9sH,IAOtD43J,GAA4B,SAAU/xF,EAAQh+B,EAAOtiB,EAAMmlB,EAAWg7C,EAASmyE,GAgBjF,OAfAV,GAAUzsH,EAAWm7B,EAAQgyF,EAAkBp9D,SAAS/U,GAAUA,GAAS,GAAM7pD,MAAK,SAAUi8H,GAC9F,GAAIjwH,EAAMg4D,UAAW,CACnB,IAAIs3B,EAActvF,EAAMu0D,aACpB1W,EACFyxC,EAAYpmC,OAAO+mE,EAAW1mE,eAAgB0mE,EAAWzmE,aAEzD8lC,EAAYrmC,SAASgnE,EAAWxmE,aAAcwmE,EAAWvmE,WAE3D4lC,EAAY7B,sBAEZztF,EAAMytF,iBAERzvD,EAAOixB,UAAUiU,OAAO+sD,MAlBF,SAAUplG,EAAKntC,GACnCuzC,GAASvzC,IAA8B,IAArBA,EAAKzuB,KAAKjqB,QAC9B6lF,EAAIt6E,OAAOmtC,GAkBbwyI,CAAoBlyF,EAAOnT,IAAKntC,IACzB,GA0BLyyI,GAAoB,SAAUnyF,EAAQ6f,GACxC,OAzBuB,SAAU7f,EAAQ6f,GACzC,IAAI79C,EAAQg+B,EAAOixB,UAAUC,SAC7B,IAAKj+B,GAASjxB,EAAMwvF,yBAClB,OAAO,EAET,IAAI3sF,EAAYg7C,EAAU6X,GAAW2K,SAAW3K,GAAW+K,UACvDuwB,EAAcxwB,GAAYxiC,EAAOmxB,WACjCihE,EAAe9xG,EAAM4gD,GAAwBrhB,EAAUmzC,EAAYvyI,KAAOuyI,EAAYnwD,MACtFwvF,EAAaxyE,EAAUgyE,GAAmBC,GAC1Cj7D,EAAgBkK,GAA2Bl8D,EAAWm7B,EAAOmxB,UAAWnvD,GACxEswH,EAAoBnE,GAAkBtuE,EAASuyE,EAAav7D,IAChE,IAAKy7D,IAAsBlxD,GAAsBvK,EAAey7D,GAC9D,OAAO,EACF,GAAID,EAAWC,GACpB,OAAOP,GAA0B/xF,EAAQh+B,EAAO60D,EAAcjC,UAAW/vD,EAAWg7C,EAASyyE,GAE/F,IAAIN,EAAoBI,EAAaE,GACrC,SAAIN,GAAqBK,EAAWL,IAC9B5wD,GAAsBkxD,EAAmBN,KACpCD,GAA0B/xF,EAAQh+B,EAAO60D,EAAcjC,UAAW/vD,EAAWg7C,EAASmyE,GAM1FO,CAAmBvyF,EAAQ6f,IAMhC2yE,GAAeh2F,GAAa,CAC9B,CAAEjqF,OAAQ,CAAC,YACX,CAAEkgL,cAAe,CAAC,YAClB,CAAEC,eAAgB,CAAC,eAejBC,GAA8B,SAAUxgL,EAAM0tG,EAAS95G,EAAMwZ,GAC/D,IAAIqzK,EAAWrzK,EAAGq1G,SAAoB,IAAZ/U,GAC1B,OAAOyuE,GAAiBxhG,GAAaF,QAAQz6E,GAAO26E,GAAaF,QAAQ7mF,EAAK6uH,YAAYvrH,KAAI,SAAUwpL,GACtG,OAAO7rF,GAAQ6rF,GAAYL,GAAajgL,OAAOsgL,EAAShmG,KAAO2lG,GAAaC,cAAcG,MACzF/wG,SAAQ,WACT,OAAOQ,EAAS5tE,KAAK+9K,GAAaC,cAAcG,QAGhDE,GAAkB,SAAU3gL,EAAM0tG,EAAS95G,GAC7C,OAAO+8H,GAAajjB,EAAS1tG,EAAMpM,GAAMT,MAAK,SAAUia,GACtD,OA/B8BmgC,EA+BRngC,EAAGq1G,UA9BpB7wB,GAAcjX,GAAaF,QAAQltC,KAAUmkD,GAAW/W,GAAaF,QAAQltC,KAYjD,SAAUvtC,EAAM0tG,EAAS95G,EAAMwZ,GAClE,IAAI8hH,EAAc,SAAUvsC,GAC1B,OAAO2O,GAAS3W,GAAaF,QAAQkI,MAAU8qC,GAAc75H,EAAMwZ,EAAIpN,IAEzE,OAAO2uH,IAAmBjhB,EAAS95G,GAAMo7E,MAAK,WAC5C,OAAO2/C,GAAkBjhB,EAAStgG,GAAI4hE,KAAKN,EAAOwgD,KACjDA,GAcU0xD,CAA+B5gL,EAAM0tG,EAAS95G,EAAMwZ,GADtD8iE,EAAStB,OAGP8+B,GAAWrsB,GAAuBj0E,EAAGq1G,aAEzB,IAAZ/U,GAAqBrsB,GAAuBj0E,EAAGq1G,SAAQ,IADzD+9D,GAA4BxgL,EAAM0tG,EAAS95G,EAAMwZ,GAG/CsgG,GAAWwnC,GAA4BthJ,KAE3B,IAAZ85G,GAAqBunC,GAA6BrhJ,GADpDs8E,EAAS5tE,KAAK+9K,GAAaE,eAAenzK,IAI1C8iE,EAAStB,OA5CE,IAAUrhC,MAsE9BszI,GAA2B,SAAU7gL,EAAM0tG,EAAS95G,GACtD,OA/DkC,SAAU85G,EAAS95G,GACrD,IAAI+uF,EAAM/uF,EAAK6uH,SAAoB,IAAZ/U,GACnBozE,EAAgBpzE,EAAU,QAAU,SACxC,OAAOrtB,GAAYsC,IAAQA,EAAInuF,aAAa,oBAAsBssL,EA4D9DC,CAA8BrzE,EAAS95G,GAvBT,SAAU85G,EAAS/qB,GACrD,OAAI+qB,GAAWrsB,GAAuBsB,EAAIziF,aACjCgwE,EAAS5tE,KAAK+9K,GAAaC,cAAc39F,EAAIziF,eAC/B,IAAZwtG,GAAqBrsB,GAAuBsB,EAAIxF,iBAClDjN,EAAS5tE,KAAK+9K,GAAaC,cAAc39F,EAAIxF,kBAE7CjN,EAAStB,OAkBToyG,CAA8BtzE,EAAS95G,EAAK6uH,SAAoB,IAAZ/U,IAAoB1+B,MAAK,WAClF,OAAO2xG,GAAgB3gL,EAAM0tG,EAAS95G,KACrCs8E,EAAS5tE,MAELq+K,GAAgB3gL,EAAM0tG,EAAS95G,GAAMT,MAAK,SAAUgoJ,GACzD,OApBuC,SAAUn7I,EAAMpM,EAAMunJ,GACjE,OAAOA,EAAansE,MAAK,SAAU2T,GACjC,OAAOzS,EAAS5tE,KAAK+9K,GAAajgL,OAAOuiF,OACxC,SAAUA,GACX,OAAOzS,EAAS5tE,KAAK+9K,GAAaC,cAAc39F,OAC/C,SAAUv1E,GACX,OAAIqgH,GAAc75H,EAAMwZ,EAAIpN,GACnBkwE,EAAStB,OAETsB,EAAS5tE,KAAK+9K,GAAaE,eAAenzK,OAW1C6zK,CAAuCjhL,EAAMpM,EAAMunJ,OA6C5D+lC,GAAgB,SAAUrzF,EAAQtgD,GACpC,OAAO2iC,EAASt8E,KAAK4nI,GAAuB3tC,EAAOmxB,UAAWzxE,KAE5D4zI,GAAuB,SAAUtzF,EAAQ6f,GAC3C,IAAI0zE,EAAevzF,EAAOixB,UAAU2D,UACpC,OAAOy+D,GAAcrzF,EAAQuzF,GAAcrxK,OAAOsxE,IAAwBrS,MAAK,WAC7E,OA/CS,SAAUhvE,EAAM0tG,EAASmR,GACpC,IAAIgQ,EAAkBL,GAAe9gB,EAAU,GAAK,EAAG1tG,EAAM6+G,GACzDjrH,EAAOkxH,GAAcG,eAAe4J,GACpCv6B,EAAc3Z,GAAaF,QAAQz6E,GACvC,OAAgB,IAAZ0tG,GAAqBwnC,GAA4BthJ,GAC5Cs8E,EAAS5tE,KAAK+9K,GAAajgL,OAAOxM,EAAK6uH,SAAQ,KAC7C/U,GAAWunC,GAA6BrhJ,GAC1Cs8E,EAAS5tE,KAAK+9K,GAAajgL,OAAOxM,EAAK6uH,aACzB,IAAZ/U,GAAqBunC,GAA6BrhJ,IAASgjJ,GAAUtiD,EAAa1gG,GACpFkjJ,GAAexiD,EAAa1gG,GAAMsD,KAAI,SAAU47F,GACrD,OAAOutF,GAAajgL,OAAO0yF,EAAG2vB,cAEvB/U,GAAWwnC,GAA4BthJ,IAAS+iJ,GAAWriD,EAAa1gG,GAC1EmjJ,GAAWziD,EAAa1gG,GAAMsD,KAAI,SAAU47F,GACjD,OAAOutF,GAAajgL,OAAO0yF,EAAG2vB,cAGzBo+D,GAAyB7gL,EAAM0tG,EAAS95G,GA8BxCytL,CAAOxzF,EAAOmxB,UAAWtR,EAAS7f,EAAOixB,UAAUC,UAAUpvC,QAAO,SAAUwrE,GACnF,OAAOA,EAAansE,KA3BJ,SAAU6e,EAAQ6f,GACtC,OAAO,SAAUh0G,GAGf,OAFAm0F,EAAOo0D,oBAAoBq/B,gBAC3B5mC,GAAc7sD,EAAQ6f,EAAS/yB,GAAaF,QAAQ/gF,KAC7C,GAuBoB6nL,CAAgB1zF,EAAQ6f,GApBnC,SAAU7f,EAAQ6f,GACpC,OAAO,SAAUh0G,GACf,IAAIsuB,EAAM0lF,EAAUoX,GAAc5mC,OAAOxkF,GAAWorH,GAAc1mC,MAAM1kF,GAExE,OADAm0F,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,YACrB,GAgBsDu7D,CAAczyF,EAAQ6f,GAblE,SAAU7f,GAC7B,OAAO,SAAU7lE,GAEf,OADA6lE,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,YACrB,GAUsFw7D,CAAe1yF,SAE3Glf,IAKD6yG,GAAuB,SAAU3zF,EAAQ6f,GAC3C,IAAI0zE,EAAevzF,EAAOixB,UAAU2D,UACpC,QAAIphC,GAAuB+/F,IACJF,GAAcrzF,EAAQuzF,EAAa/gL,YAAY0P,OAAOsxE,IACrDrS,MAAK,WAPA,IAAUslB,EAWnC,OAXmCA,EAQV3Z,GAAaF,QAAQoT,EAAOmxB,WAPzDn7D,EAAK06D,GAAcjqB,EAAa,4BAA6Bl0F,IAQzDs6I,GAAc7sD,EAAQ6f,EAAS/yB,GAAaF,QAAQoT,EAAOixB,UAAU2D,YACrE45D,GAAcxuF,IACP,IACNlf,IAIH8yG,GAAmB,SAAU5zF,GAC/B,IAAInT,EAAMmT,EAAOnT,IAAKokC,EAAYjxB,EAAOixB,UACrC0gE,EAAShkD,GAAuB3tC,EAAOmxB,UAAWF,EAAU2D,WAChE,GAAIrhC,GAAsBo+F,IAAW9kG,EAAI2W,QAAQmuF,IAAW9kG,EAAIma,QAAQ2qF,GAAS,CAC/E,IAAI1sF,EAAKpY,EAAIxnF,OAAO,KAAM,CAAE,iBAAkB,MAC9CwnF,EAAI86B,QAAQgqE,EAAQ,IACpBA,EAAOz/K,YAAY+yF,GACnBgsB,EAAUiU,OAAOjO,GAAc5mC,OAAO4U,GAAIiyB,WAE5C,OAAO,GAEL28D,GAAoB,SAAU7zF,EAAQ6f,GACxC,OAAI7f,EAAOixB,UAAU0I,cACZ25D,GAAqBtzF,EAAQ6f,GAE7B8zE,GAAqB3zF,EAAQ6f,IAepCi0E,GAAoB,SAAU9zF,EAAQ6f,GACxC,QAAO7f,EAAOixB,UAAU0I,eAZN,SAAU35B,EAAQ6f,GACpC,IAAIqxC,EAAUj6B,GAAcG,eAAep3B,EAAOixB,UAAUC,UAC5D,OAAO4R,GAAajjB,EAAS7f,EAAOmxB,UAAW+/B,GAAShvI,QAAO,SAAUiY,GACvE,OAAO0lF,EAAUinC,GAAmB3sH,GAAO4sH,GAAkB5sH,MAC5D70B,MAAK,SAAU60B,GAChB,OAAOkoD,EAASt8E,KAAKg6H,GAA6BlgB,EAAU,GAAK,EAAG1lF,OACnE2nD,QAAO,SAAUgT,GAElB,OADAkL,EAAOixB,UAAUjtD,OAAO8wB,IACjB,KAI+Bi/F,CAAc/zF,EAAQ6f,IAG5Dm0E,GAAW/gG,GACXghG,GAA6B,SAAUv0I,GACzC,OAAOs0I,GAASt0I,IAASA,EAAKzuB,KAAK,KAAOizE,IAExCgwF,GAA2B,SAAUx0I,GACvC,OAAOs0I,GAASt0I,IAASA,EAAKzuB,KAAKyuB,EAAKzuB,KAAKjqB,OAAS,KAAOk9F,IAE3DiwF,GAAa,SAAUz0I,GACzB,OAAOA,EAAKuvC,cAAc7B,eAAe8W,KAgDvCkwF,GAAiB,SAAU/jG,EAAQ3wC,GACrC,OAAO2wC,EA/CY,SAAU3wC,GAC7B,GAAIs0I,GAASt0I,EAAK4vC,iBAChB,OAAI4kG,GAAyBx0I,EAAK4vC,kBAGhC5vC,EAAK4vC,gBAAgB60C,WAAWjgC,IAFzBxkD,EAAK4vC,gBAKT,GAAI0kG,GAASt0I,GAClB,OAAIu0I,GAA2Bv0I,IAG7BA,EAAKgsG,WAAW,EAAGxnD,IAFZxkD,EAMT,IAAI+rG,EAAU0oC,GAAWz0I,GAEzB,OADAA,EAAKltC,WAAWF,aAAam5I,EAAS/rG,GAC/B+rG,EA6BO4oC,CAAe30I,GA1Bb,SAAUA,GAC5B,GAAIs0I,GAASt0I,EAAKrtC,aAChB,OAAI4hL,GAA2Bv0I,EAAKrtC,cAGlCqtC,EAAKrtC,YAAYq5I,WAAW,EAAGxnD,IAFxBxkD,EAAKrtC,YAKT,GAAI2hL,GAASt0I,GAClB,OAAIw0I,GAAyBx0I,IAG3BA,EAAKykF,WAAWjgC,IAFTxkD,EAMT,IAAI+rG,EAAU0oC,GAAWz0I,GAMzB,OALIA,EAAKrtC,YACPqtC,EAAKltC,WAAWF,aAAam5I,EAAS/rG,EAAKrtC,aAE3CqtC,EAAKltC,WAAWN,YAAYu5I,GAEvBA,EAI8B6oC,CAAc50I,IAEnD60I,GAAqBj0G,EAAM8zG,IAAgB,GAC3CI,GAAoBl0G,EAAM8zG,IAAgB,GAE1CK,GAAkB,SAAUt6J,EAAKk2D,GACnC,OAAI4C,GAAS94D,EAAIlsB,aACRmmL,GAAe/jG,EAAQl2D,EAAIlsB,aAE3BmmL,GAAe/jG,EAAQl2D,EAAIy6F,YAGlC8/D,GAAsB,SAAUv6J,EAAKikG,GACvC,IAAIu2D,EAAYv2D,EAAMr5H,MACtB,OAAO4vL,GAAax6J,EAAIlsB,cAAgB0mL,GAAanwF,GAAuBmwF,IAE1EC,GAAc,SAAUx2D,EAAO/d,GACjC,OAAOA,EAASl/B,MAAK,SAAUt1E,GAC7BixH,GAASsB,EAAMr5H,OACf,IAAIk1D,EAAOs6H,GAAmB1oL,GAE9B,OADAuyH,EAAM3iH,IAAIw+C,GACHooB,EAAS5tE,KAAKwiH,GAAch9D,EAAMA,EAAKjzD,OAAS,OACtD,SAAU6E,GACX,OAAOy3H,GAAgBz3H,GAASxC,KAAI,SAAU8wB,GAC5C,GAAKu6J,GAAoBv6J,EAAKikG,GAM5B,OAAOnH,GAAcmH,EAAMr5H,MAAO,GALlC+3H,GAASsB,EAAMr5H,OACf,IAAIk1D,EAAOw6H,GAAgBt6J,GAAK,GAEhC,OADAikG,EAAM3iH,IAAIw+C,GACHg9D,GAAch9D,EAAM,SAK9B,SAAUpuD,GACX,OAAO03H,GAAe13H,GAASxC,KAAI,SAAU8wB,GAC3C,GAAKu6J,GAAoBv6J,EAAKikG,GAM5B,OAAOnH,GAAcmH,EAAMr5H,MAAOq5H,EAAMr5H,MAAMiC,OAAS,GALvD81H,GAASsB,EAAMr5H,OACf,IAAIk1D,EAAOw6H,GAAgBt6J,GAAK,GAEhC,OADAikG,EAAM3iH,IAAIw+C,GACHg9D,GAAch9D,EAAMA,EAAKjzD,OAAS,SAK5C,SAAU6E,GACXixH,GAASsB,EAAMr5H,OACf,IAAIk1D,EAAOu6H,GAAkB3oL,GAE7B,OADAuyH,EAAM3iH,IAAIw+C,GACHooB,EAAS5tE,KAAKwiH,GAAch9D,EAAM,QAIzC46H,GAAgB,SAAUC,EAAKnnJ,GACjC,IAAK,IAAIrpC,EAAI,EAAGA,EAAIwwL,EAAI9tL,OAAQ1C,IAAK,CACnC,IAAI8P,EAAS0gL,EAAIxwL,GAAGse,MAAM,KAAM+qB,GAChC,GAAIv5B,EAAOktE,SACT,OAAOltE,EAGX,OAAOiuE,EAAStB,QAGdg0G,GAAWv4F,GAAa,CAC1B,CAAEnM,OAAQ,CAAC,YACX,CAAEjjF,MAAO,CAAC,YACV,CAAEE,IAAK,CAAC,YACR,CAAEijF,MAAO,CAAC,cAERykG,GAAU,SAAUpyF,EAAUljD,GAChC,IAAIstG,EAAcrtB,GAAejgF,EAAMkjD,GACvC,OAAOoqD,GAA4BpqD,GAEjCqyF,GAAW,SAAUnH,EAAgBlrF,EAAUzoE,GACjD,IAAI+6J,EAAO9G,GAAkBj0J,GACzB6yD,EAAQgoG,GAAQpyF,EAAUsyF,EAAKjnL,aACnC,OAAOggL,GAAeH,EAAgB9gG,EAAOkoG,GAAM/zG,MAAK,WACtD,OAAOiiD,GAAap2C,EAAOkoG,GAAM5vL,KAAKg7E,EAAM2tG,GAAgBH,EAAgB9gG,IAAQ3jF,KAAI,SAAUoI,GAChG,OAAOsjL,GAAS1kG,OAAO5+E,QAExB4wE,EAAStB,OAEVo0G,GAAkC,SAAUvyF,EAAU9N,GACxD,OAAkD,OAA3C4uC,GAAwB9gC,EAAU9N,IAEvCsgG,GAAuB,SAAUtH,EAAgBlrF,EAAUzoE,GAC7D,OAAO8zJ,GAAeH,EAAgBlrF,EAAUzoE,GAAKjY,OAAOo+D,EAAM60G,GAAiCvyF,KAEjGx1F,GAAQ,SAAU0gL,EAAgBlrF,EAAUzoE,GAC9C,IAAI+6J,EAAO7G,GAAmBl0J,GAC9B,OAAOi7J,GAAqBtH,EAAgBlrF,EAAUsyF,GAAM5vL,MAAK,SAAUmM,GAEzE,OADc4xH,GAAa5xH,EAAQyjL,GACpBj0G,SAAWoB,EAAS5tE,KAAKsgL,GAAS3nL,MAAMqE,IAAW4wE,EAAStB,WAG3EzzE,GAAM,SAAUwgL,EAAgBlrF,EAAUzoE,GAC5C,IAAI+6J,EAAO9G,GAAkBj0J,GAC7B,OAAOi7J,GAAqBtH,EAAgBlrF,EAAUsyF,GAAM5vL,MAAK,SAAUmM,GAEzE,OADc2xH,GAAa3xH,EAAQyjL,GACpBj0G,SAAWoB,EAAS5tE,KAAKsgL,GAASznL,IAAImE,IAAW4wE,EAAStB,WAGzEs0G,GAAU,SAAUvH,EAAgBlrF,EAAUzoE,GAChD,IAAI+6J,EAAO7G,GAAmBl0J,GAC1B6yD,EAAQgoG,GAAQpyF,EAAUsyF,EAAKjnL,aACnC,OAAOggL,GAAeH,EAAgB9gG,EAAOkoG,GAAM/zG,MAAK,WACtD,OAAOkiD,GAAar2C,EAAOkoG,GAAM5vL,KAAKg7E,EAAM2tG,GAAgBH,EAAgB9gG,IAAQ3jF,KAAI,SAAUoI,GAChG,OAAOsjL,GAASxkG,MAAM9+E,QAEvB4wE,EAAStB,OAEVu0G,GAAkB,SAAUj1E,GAC9B,OAAyC,IAAlC2tE,GAAQnpI,GAAWw7D,KAExBk1E,GAAe,SAAUzH,EAAgBlrF,EAAUzoE,GAWrD,OAVe06J,GAAc,CAC3BI,GACA7nL,GACAE,GACA+nL,IACC,CACDvH,EACAlrF,EACAzoE,IAEcjY,OAAOozK,KAErBzwI,GAAa,SAAUw7D,GACzB,OAAOA,EAASl/B,KAAKd,EAAUA,EAAUA,EAAUA,IAEjDm1G,GAAU,SAAUn1E,GACtB,OAAOA,EAASl/B,KAAKf,EAAS,UAAWA,EAAS,SAAUA,EAAS,OAAQA,EAAS,WAEpFq1G,GAAU,SAAUp1E,GACtB,OAAOA,EAASl/B,KAAK4zG,GAAS1kG,OAAQ0kG,GAAS1kG,OAAQ0kG,GAASxkG,MAAOwkG,GAASxkG,QAE9EmlG,GAAS,SAAUr1E,GACrB,OAAOA,EAASl/B,KAAK4zG,GAAS3nL,MAAO2nL,GAAS3nL,MAAO2nL,GAASznL,IAAKynL,GAASznL,MAK1EqoL,GAAiB,SAAU91E,EAASiuE,EAAgBlrF,EAAU78F,EAAMwZ,EAAI8gG,GAC1E,OAAOwT,GAAMo6D,GAAeH,EAAgBlrF,EAAU78F,GAAOkoL,GAAeH,EAAgBlrF,EAAUrjF,IAAK,SAAUq2K,EAAYC,GAC/H,OAAID,IAAeC,GA3uBE,SAAUjzF,EAAU09B,EAAOC,GAClD,IAAI+vD,EAAS3wD,GAAeW,EAAO19B,GAC/B2tF,EAAS5wD,GAAeY,EAAO39B,GACnC,OAAO0tF,GAAUA,IAAWC,EAwuBKuF,CAAmBlzF,EAAUgzF,EAAYC,GAC/Dd,GAASxkG,MAAMsvB,EAAU+1E,EAAaC,GAEtCx1E,KAER9+B,MAAM8+B,IAEP01E,GAAiB,SAAUC,EAAcC,GAC3C,OAAOD,EAAa70G,KAAKL,GAAQ,SAAUk1G,GACzC,OAd8BE,EAcDD,IAbxBT,GADcW,EAcJH,KAbaR,GAAQU,IAAcrxI,GAAWsxI,KAAetxI,GAAWqxI,IAD9E,IAAUC,EAAWD,MA2B9BE,GAAqB,SAAUv2E,EAASQ,GAC1C,OAAIR,EACKQ,EAASl/B,KAAKlB,EAAQoC,EAAS5tE,KAAMsgL,GAAS3nL,OAAQi1E,EAAStB,KAAMd,EAAQoC,EAAS5tE,KAAMsgL,GAASxkG,OAAQlO,EAAStB,MAEtHs/B,EAASl/B,KAAKkB,EAAStB,KAAMd,EAAQoC,EAAS5tE,KAAMsgL,GAAS1kG,QAAShO,EAAStB,KAAMd,EAAQoC,EAAS5tE,KAAMsgL,GAASznL,OAG5H+oL,GAAe,SAAUx2E,EAASiuE,EAAgBlrF,EAAUzoE,GAC9D,IAAIp0B,EAAOooL,GAAkBtuE,EAAS1lF,GAClC67J,EAAeT,GAAazH,EAAgBlrF,EAAU78F,GAC1D,OAAOwvL,GAAazH,EAAgBlrF,EAAU78F,GAAMT,KAAKg7E,EAAM81G,GAAoBv2E,IAAUh+B,SAAQ,WACnG,OArBuB,SAAUg+B,EAASiuE,EAAgBlrF,EAAUozF,EAAc77J,GACpF,IAAIp0B,EAAOooL,GAAkBtuE,EAAS1lF,GAOtC,OANS2oG,GAAajjB,EAASjd,EAAU78F,GAAMsD,IAAIi3E,EAAM6tG,GAAmBtuE,IAC1D1+B,MAAK,WACrB,OAAO60G,EAAa3sL,IAAIosL,OACvB,SAAUl2K,GACX,OAAOg2K,GAAazH,EAAgBlrF,EAAUrjF,GAAIlW,IAAIi3E,EAAMq1G,GAAgB91E,EAASiuE,EAAgBlrF,EAAU78F,EAAMwZ,IAAK2C,OAAOo+D,EAAMy1G,GAAgBC,OAEzI9zK,OAAOozK,IAadgB,CAAqBz2E,EAASiuE,EAAgBlrF,EAAUozF,EAAc77J,OAS7Eo8J,IANej2G,EAAM+1G,IAAc,GACpB/1G,EAAM+1G,IAAc,GAKzB,SAAUx2E,EAASoR,EAAW92F,GAC1C,IAAIgB,EAAQ0kF,EAAU,GAAK,EAG3B,OAFAoR,EAAUiU,OAAOjO,GAAc98F,EAAIlsB,YAAaksB,EAAI/b,SAAW+c,GAAO+7F,WACtEjG,EAAUqZ,SAASksD,OAAO,OAAQ32E,EAAU,UAAY,WAAY,SAC7D,IAEL42E,GAAa,SAAU52E,EAAS7f,GAClC,IAAIgxB,EAAMhxB,EAAOixB,UAAUC,SACvB/2F,EAAM0lF,EAAUoX,GAAcI,aAAarG,GAAOiG,GAAcG,eAAepG,GACnF,QAZ0B,SAAUhxB,GACpC,OAAOlgB,EAAWkgB,EAAOixB,UAAUqZ,SAASksD,QAWvCE,CAAsB12F,KAEhB6f,GAAWlb,GAAexqE,GAC5Bo8J,IAAQ,EAAMv2F,EAAOixB,UAAW92F,KAC7B0lF,IAAWhb,GAAc1qE,KAC5Bo8J,IAAQ,EAAOv2F,EAAOixB,UAAW92F,MAO3C,SAAUkmJ,GACTA,EAAUA,EAAc,GAAI,GAAK,KACjCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAe,IAAI,GAAK,MAJpC,CAKEA,KAAcA,GAAY,KAC5B,IA+HIsW,GA/HAC,GAAO,SAAU/xH,EAAWgyH,GAC9B,OAAOhyH,IAAc6yD,GAAW+K,UAAYllH,EAAQs5K,GAAaA,GAE/DC,GAAS,SAAUjyH,EAAWmuF,EAAa74H,GAC7C,OAAO0qC,IAAc6yD,GAAW2K,SAAW2wB,EAAYvyI,KAAK0Z,GAAO64H,EAAYnwD,KAAK1oE,IAElF48J,GAAe,SAAU/pG,EAAOnoB,EAAWmyH,EAAYC,GACzD,OAAI5jG,GAAK4jG,EAAQriE,QAAQ/vD,IAAc6yD,GAAW2K,WACzCg+C,GAAU6W,IAC+B,IAAvCt3D,GAAco3D,EAAYC,GAC5B5W,GAAU8W,MAEV9W,GAAU+W,MAGjBC,GAAoB,SAAU7vJ,EAAWq9B,EAAWmoB,EAAO5/E,GAI7D,IAHA,IACwB6pL,EADpBjkC,EAAcxwB,GAAYx1C,GAC1BgqG,EAAa5pL,EACbypL,EAAY,GACTG,IACLC,EAAUH,GAAOjyH,EAAWmuF,EAAagkC,KADxB,CAKjB,GAAI3jG,GAAK4jG,EAAQriE,SAAQ,IACvB,OAAI/vD,IAAc6yD,GAAW2K,SACpB,CACLw0D,UAAWD,GAAK/xH,EAAWgyH,GAAWnjK,OAAO,CAACujK,IAC9CK,UAAWjX,GAAU6W,GACrBK,QAASl1G,EAAS5tE,KAAKwiL,IAGlB,CACLJ,UAAWD,GAAK/xH,EAAWgyH,GAC3BS,UAAWjX,GAAU6W,GACrBK,QAASl1G,EAAS5tE,KAAKwiL,IAI7B,GAAKA,EAAQp2H,YAAb,CAIA,GAAIr5B,EAAUwvJ,EAAYC,GAAU,CAClC,IAAIK,EAAYP,GAAa/pG,EAAOnoB,EAAWmyH,EAAYC,GAC3D,MAAO,CACLJ,UAAWD,GAAK/xH,EAAWgyH,GAC3BS,UAAWA,EACXC,QAASl1G,EAAS5tE,KAAKwiL,IAG3BJ,EAAU/vL,KAAKmwL,GACfD,EAAaC,OAZXD,EAAaC,EAcjB,MAAO,CACLJ,UAAWD,GAAK/xH,EAAWgyH,GAC3BS,UAAWjX,GAAUmX,IACrBD,QAASl1G,EAAStB,SAGlB02G,GAA2B,SAAU5yH,EAAW6yH,EAAwB1qG,EAAO5/E,GACjF,OAAOsqL,EAAuB1qG,EAAO5/E,GAAOmqL,QAAQluL,KAAI,SAAU8wB,GAChE,IAAI08J,EAAYa,EAAuB1qG,EAAO7yD,GAAK08J,UACnD,OAAOhyH,IAAc6yD,GAAW+K,UAAYo0D,EAAUnjK,OAAOyG,GAAO,CAACA,GAAKzG,OAAOmjK,MAChFt1G,MAAM,KAEPo2G,GAAyC,SAAUd,EAAWrrL,GAChE,OAAOq3E,EAAMg0G,GAAW,SAAUj0G,EAAKwlE,GACrC,OAAOxlE,EAAIzB,MAAK,WACd,OAAOkB,EAAS5tE,KAAK2zI,MACpB,SAAUoC,GACX,OAAO32B,GAAM56D,GAAKuxF,EAAQ5nF,kBAAmB3J,GAAKmvF,EAAOxlF,mBAAmB,SAAUg1H,EAAUC,GAC9F,IAAIC,EAAWlvL,KAAKwlB,IAAI5iB,EAAIosL,EAAS1rL,MAErC,OADctD,KAAKwlB,IAAI5iB,EAAIqsL,EAAQ3rL,OACjB4rL,EAAW1vC,EAASoC,KACrC5oE,GAAGgB,QAEPP,EAAStB,SAEVg3G,GAAgC,SAAUlB,EAAW18J,GACvD,OAAO8+B,GAAK9+B,EAAIyoC,kBAAkBt9D,MAAK,SAAU0yL,GAC/C,OAAOL,GAAuCd,EAAWmB,EAAW9rL,UAGpE+rL,GAAgC33G,EAAM+2G,GAAmBpgE,GAAc1C,SAAU,GACjF2jE,GAA4B53G,EAAM+2G,GAAmBpgE,GAAcxC,QAAS,GAO5E0jE,GAAoB73G,EAAMm3G,IAA2B,EAAGQ,IACxDG,GAAoB93G,EAAMm3G,GAA0B,EAAGS,IAYvDG,GAAqB,SAAU34I,GACjC,IAAI44I,EAAkB,SAAUxiE,GAC9B,OAAOzsH,EAAIysH,GAAa,SAAUD,GAGhC,OAFAA,EAAa7B,GAAQ6B,IACVn2E,KAAOA,EACXm2E,MAGX,GAAIrjC,GAAY9yC,GACd,OAAO44I,EAAgB54I,EAAKkjB,kBAE9B,GAAIqwB,GAASvzC,GAAO,CAClB,IAAIsxE,EAAMtxE,EAAKuvC,cAAco5B,cAG7B,OAFA2I,EAAI/F,SAASvrE,EAAM,GACnBsxE,EAAI9F,OAAOxrE,EAAMA,EAAKzuB,KAAKjqB,QACpBsxL,EAAgBtnE,EAAIpuD,oBAG3BA,GAAiB,SAAUgyB,GAC7B,OAAOtvF,EAAKsvF,EAAOyjG,MAIpB,SAAU1B,GACTA,EAAWA,EAAe,IAAK,GAAK,KACpCA,EAAWA,EAAiB,KAAI,GAAK,OAFvC,CAGEA,KAAeA,GAAa,KAC9B,IA6uKI4B,GAwgCAC,GA9uMAC,GAAY,SAAU5zH,EAAW6zH,EAAWC,EAAYxmL,EAAMstH,EAAa5I,GAC7E,IAAI+hE,EAAO,EACPxkL,EAAS,GACTrC,EAAM,SAAU2tC,GAClB,IAAIp7C,EAAGuxH,EAAYC,EAKnB,IAJAA,EAAclzD,GAAe,CAACljB,KACX,IAAfmlB,IACFixD,EAAcA,EAAYv4G,WAEvBjZ,EAAI,EAAGA,EAAIwxH,EAAY9uH,OAAQ1C,IAElC,GADAuxH,EAAaC,EAAYxxH,IACrBq0L,EAAW9iE,EAAYgjE,GAA3B,CAOA,GAJIzkL,EAAOpN,OAAS,GAAK0xL,EAAU7iE,EAAY9wC,GAAO3wE,KACpDwkL,IAEF/iE,EAAW+iE,KAAOA,EACdn5D,EAAY5J,GACd,OAAO,EAETzhH,EAAOtN,KAAK+uH,KAGZgjE,EAAmB9zG,GAAO8xC,EAAcj0D,kBAC5C,IAAKi2H,EACH,OAAOzkL,EAET,IAAIsrC,EAAOm3E,EAAcjC,UAGzB,OAFA7iH,EAAI2tC,GApCY,SAAUmlB,EAAW1yD,EAAMstH,EAAa//E,GACxD,KAAOA,EAAO8/E,GAAS9/E,EAAMmlB,EAAWuhC,GAA0Bj0F,IAChE,GAAIstH,EAAY//E,GACd,OAkCJo5I,CAAYj0H,EAAW1yD,EAAMJ,EAAK2tC,GAC3BtrC,GAQL2kL,GAAUz4G,EAAMm4G,GAAW9B,GAAWqC,GAAIzkE,GAASE,IACnDwkE,GAAY34G,EAAMm4G,GAAW9B,GAAWuC,KAAMzkE,GAASF,IA6CvD4kE,GAAc,SAAUC,GAC1B,OAAO,SAAUvjE,GACf,OAtDkB,SAAUujE,EAAYvjE,GAC1C,OAAOA,EAAW+iE,KAAOQ,EAqDhBC,CAAgBD,EAAYvjE,KAGnCyjE,GAAS,SAAUF,GACrB,OAAO,SAAUvjE,GACf,OAxDe,SAAUujE,EAAYvjE,GACvC,OAAOA,EAAW+iE,OAASQ,EAuDlBG,CAAaH,EAAYvjE,KAIhC2jE,GAA2BhmG,GAC3BimG,GAAaj6D,GACbk6D,GAAqB,SAAU7jE,EAAY7pH,GAC7C,OAAOpD,KAAKwlB,IAAIynG,EAAW3pH,KAAOF,IAEhC2tL,GAAsB,SAAU9jE,EAAY7pH,GAC9C,OAAOpD,KAAKwlB,IAAIynG,EAAWroH,MAAQxB,IAEjC4tL,GAAY,SAAU5tL,EAAS6pH,GACjC,OAAO7pH,GAAW6pH,EAAW3pH,MAAQF,GAAW6pH,EAAWroH,OAEzDqsL,GAAY,SAAU5tL,EAAS4pH,GACjC,OAAO5pH,GAAW4pH,EAAWzpH,KAAOH,GAAW4pH,EAAWpoH,QAExDqsL,GAAwB,SAAUhkE,EAAa9pH,GACjD,OAAOzE,GAAOuuH,GAAa,SAAUikE,EAAelkE,GAClD,IAAImkE,EAAcpxL,KAAKN,IAAIoxL,GAAmBK,EAAe/tL,GAAU2tL,GAAoBI,EAAe/tL,IACtGiuL,EAAcrxL,KAAKN,IAAIoxL,GAAmB7jE,EAAY7pH,GAAU2tL,GAAoB9jE,EAAY7pH,IACpG,OAAI4tL,GAAU5tL,EAAS6pH,GACdA,EAEL+jE,GAAU5tL,EAAS+tL,GACdA,EAELE,IAAgBD,GAAeR,GAAyB3jE,EAAWn2E,OAGnEu6I,EAAcD,EAFTnkE,EAKFkkE,MAGPG,GAAc,SAAUr1H,EAAW1yD,EAAMstH,EAAa98B,EAAWw3F,GACnE,IAAIz6I,EAAO+5I,GAAW92F,EAAW99B,EAAWuhC,GAA0Bj0F,GAAOgoL,GAC7E,GACE,IAAKz6I,GAAQ+/E,EAAY//E,GACvB,aAEKA,EAAO+5I,GAAW/5I,EAAMmlB,EAAWuhC,GAA0Bj0F,KA4BpEioL,GAAmB,SAAUjoL,EAAMnG,EAASC,GAC9C,IAAIouL,EAAsBz3H,GAVF,SAAUzwD,GAClC,OAAO+P,EAAOmhE,GAAOlxE,EAAKsrC,qBAAqB,MAAOohF,IASby7D,CAAoBnoL,IACzDooL,EAAkBr4K,EAAOm4K,EAAqB/5G,EAAMu5G,GAAW5tL,IAC/DuuL,EAAkBV,GAAsBS,EAAiBvuL,GAC7D,GAAIwuL,EAAiB,CACnB,IAAIL,GAAmBrnG,GAAQ0nG,EAAgB96I,QAAUg0C,GAAQ8mG,EAAgB96I,MAEjF,IADA86I,EAAkBV,GAhCE,SAAU3nL,EAAMsoL,EAAgBN,QAC9B,IAApBA,IACFA,GAAkB,GAEpB,IAAIrkE,EAAc,GACdvO,EAAU,SAAUmzE,EAAYh7I,GAClC,IAAIi7I,EAAYz4K,EAAO0gD,GAAe,CAACljB,KAAQ,SAAUm2E,GACvD,OAAQ6kE,EAAW7kE,EAAY4kE,MAGjC,OADA3kE,EAAcA,EAAYpiG,OAAOinK,GACL,IAArBA,EAAU3zL,QAKnB,OAHA8uH,EAAYhvH,KAAK2zL,GACjBP,GAAYvD,GAAWqC,GAAI7mL,EAAMmuE,EAAMinC,EAASgN,IAAUkmE,EAAe/6I,KAAMy6I,GAC/ED,GAAYvD,GAAWuC,KAAM/mL,EAAMmuE,EAAMinC,EAASkN,IAAUgmE,EAAe/6I,KAAMy6I,GAC1ErkE,EAiBmC8kE,CAAkBzoL,EAAMqoL,EAAiBL,GAAkBnuL,KAC5E6yH,GAAkB27D,EAAgB96I,MACvD,OAdU,SAAUm2E,EAAY7pH,GACpC,MAAO,CACL0zC,KAAMm2E,EAAWn2E,KACjB2wC,OAAQqpG,GAAmB7jE,EAAY7pH,GAAW2tL,GAAoB9jE,EAAY7pH,IAWzE6uL,CAAUL,EAAiBxuL,GAGtC,OAAO,MAGL8uL,GAAc,SAAU96F,EAAQgxB,GAClChxB,EAAOixB,UAAUiU,OAAOlU,GACxB0nB,GAAoB14C,EAAQA,EAAOixB,UAAUC,WAE3C6pE,GAAsB,SAAU/6F,EAAQh+B,EAAO6vB,GACjD,OAAOxP,EAAS5tE,KAAKm9K,GAAiB5xF,EAAQh+B,EAAO6vB,KAEnDmpG,GAAmB,SAAUh7F,EAAQn7B,EAAW7C,EAAOi5H,EAAUC,EAAS38H,GAC5E,IAAIq1D,EAAW/uD,IAAc6yD,GAAW2K,SACpC2wB,EAAcxwB,GAAYxiC,EAAOmxB,WACjCihE,EAAe9xG,EAAM4gD,GAAwBtN,EAAWo/B,EAAYvyI,KAAOuyI,EAAYnwD,MACvFwvF,EAAaz+D,EAAWqnE,EAAWC,EACvC,IAAKl5H,EAAMg4D,UAAW,CACpB,IAAIt6E,EAAOi1E,GAAgB3yD,GAC3B,GAAIzD,EAAU7e,GACZ,OAAO4xI,GAAUzsH,EAAWm7B,EAAQtgD,EAAMmlB,IAAc6yD,GAAW+K,WAAW,GAGlF,IAAI5L,EAAgBkK,GAA2Bl8D,EAAWm7B,EAAOmxB,UAAWnvD,GAC5E,GAAIqwH,EAAWx7D,GACb,OAAOiO,GAAW9kC,EAAQ62B,EAAcjC,SAAShB,IAEnD,IAAI0+D,EAAoBnE,GAAkBv6D,EAAUw+D,EAAav7D,IAC7DskE,EA3ulB6B,SAAUn5H,GAC3C,OAAOuiC,GAAsBviC,EAAMupD,gBA0ulBL6vE,CAA6Bp5H,GAC3D,IAAKswH,EACH,OAAO6I,EAA0B94G,EAAS5tE,KAAKutD,GAASqgB,EAAStB,OAEnE,GAAIsxG,EAAWC,GACb,OAAOhB,GAAUzsH,EAAWm7B,EAAQsyF,EAAkB19D,SAAShB,GAAWA,GAAU,GAEtF,IAAIo+D,EAAoBI,EAAaE,GACrC,OAAIN,GAAqBK,EAAWL,IAC9B5wD,GAAsBkxD,EAAmBN,GACpCV,GAAUzsH,EAAWm7B,EAAQgyF,EAAkBp9D,SAAShB,GAAWA,GAAU,GAGpFunE,EACKJ,GAAoB/6F,EAAQsyF,EAAkBp7D,WAAW,GAE3D70C,EAAStB,QAEds6G,GAAiB,SAAUr7F,EAAQn7B,EAAW7C,EAAOi5H,EAAUC,EAAS38H,GAC1E,IAAIs4D,EAAgBkK,GAA2Bl8D,EAAWm7B,EAAOmxB,UAAWnvD,GACxEs5H,EAAkBv2G,GAAO8xC,EAAcj0D,kBACvCgxD,EAAW/uD,IAAc8xH,GAAWuC,KACxC,IAAKoC,EACH,OAAOj5G,EAAStB,OAElB,IAUI40F,EATA4lB,GADW3nE,EAAWqlE,GAAYF,IACT/4F,EAAOmxB,UAAWgoE,GAAY,GAAItiE,GAC3D2kE,EAAoBt5K,EAAOq5K,EAAejC,GAAO,IACjDttL,EAAUsvL,EAAgBpvL,KAC1BuvL,EAAe3B,GAAsB0B,EAAmBxvL,GAC5D,GAAIyvL,GAAgBl9H,EAAUk9H,EAAa/7I,MAAO,CAChD,IAAIg8I,EAAQ9yL,KAAKwlB,IAAIpiB,EAAUyvL,EAAavvL,MACxCyvL,EAAQ/yL,KAAKwlB,IAAIpiB,EAAUyvL,EAAajuL,OAC5C,OAAO8jL,GAAUzsH,EAAWm7B,EAAQy7F,EAAa/7I,KAAMg8I,EAAQC,GAAO,GAUxE,GANEhmB,EADEslB,EAASpkE,GACGA,EAAcjC,UACnBsmE,EAAQrkE,GACHA,EAAcjC,SAAQ,GAEtBD,GAAgB3yD,GAEf,CACf,IAAI45H,EA3Ma,SAAU/2H,EAAW1yD,EAAMstH,EAAa//E,GAC3D,IACIyhF,EAAQ06D,EAAWnD,EAAW7hE,EAEpBhB,EAHVm9B,EAAcxwB,GAAYrwH,GAE1BiC,EAAS,GACTwkL,EAAO,EACPkD,EAAgB,SAAUjlE,GAC5B,OACS9xC,GAAO8xC,EAAcj0D,mBAId,IAAdiC,GACFs8D,EAAS6xB,EAAYvyI,KACrBo7K,EAAYpnE,GACZikE,EAAYnkE,GACZsC,EAAgBI,GAAc1mC,MAAM7wC,KAEpCyhF,EAAS6xB,EAAYnwD,KACrBg5F,EAAYtnE,GACZmkE,EAAYjkE,GACZoC,EAAgBI,GAAc5mC,OAAO3wC,IAEvC,IAAIm5I,EAAmBiD,EAAcjlE,GACrC,GACE,GAAKA,EAAch2D,cAIf63H,EADJ7iE,EAAaimE,EAAcjlE,GACDgiE,GAA1B,CASA,GANIzkL,EAAOpN,OAAS,GAAK60L,EAAUhmE,EAAY9wC,GAAO3wE,KACpDwkL,KAEF/iE,EAAa7B,GAAQ6B,IACVnoH,SAAWmpH,EACtBhB,EAAW+iE,KAAOA,EACdn5D,EAAY5J,GACd,OAAOzhH,EAETA,EAAOtN,KAAK+uH,UACLgB,EAAgBsK,EAAOtK,IAChC,OAAOziH,EAiKgB2nL,CAAel3H,EAAWm7B,EAAOmxB,UAAWgoE,GAAY,GAAIxjB,GAC7EqmB,EAAsBlC,GAAsB53K,EAAO05K,EAAgBtC,GAAO,IAAKttL,GACnF,GAAIgwL,EACF,OAAOjB,GAAoB/6F,EAAQg8F,EAAoBtuL,SAASwpH,WAAW,GAG7E,GADA8kE,EAAsBj3G,GAAO7iE,EAAO05K,EAAgBtC,GAAO,KAEzD,OAAOyB,GAAoB/6F,EAAQg8F,EAAoBtuL,SAASwpH,WAAW,GAG/E,OAAiC,IAA7BskE,EAAkBx0L,OACbi1L,GAAgBj8F,EAAQ4zB,GAAU1xG,OAAO0xG,EAAWsnE,EAAUD,GAAU5xL,KAAI,SAAU8wB,GAC3F,OAAOy3J,GAAiB5xF,EAAQ7lE,EAAI+8F,WAAW,MAG5C70C,EAAStB,QAEdk7G,GAAkB,SAAUj8F,EAAQ6f,GACtC,IAAImR,EAAMhxB,EAAOixB,UAAUC,SACvBh8G,EAAO8qF,EAAOmxB,UAClB,GAAItR,EAAS,CACX,IAAI95G,EAAOkxH,GAAcI,aAAarG,GAClC58G,EAAS8jL,GAA0BhjL,EAAMnP,GAC7C,OAAOq9E,GAAKhvE,EAAOyiL,WAEf9wL,EAAOkxH,GAAcG,eAAepG,GACpC58G,EAAS6jL,GAA8B/iL,EAAMnP,GACjD,OAAOkzD,GAAK7kD,EAAOyiL,YAGnBqF,GAAqB,SAAUl8F,EAAQ6f,EAAS4X,GAClD,OAAOwkE,GAAgBj8F,EAAQ6f,GAAS39F,OAAOu1G,GAAmB31C,QAAO,SAAU3nD,GAEjF,OADA6lE,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,YACrB,MAIPilE,GAAmB,SAAUn8F,EAAQ7lE,GACvC,IAAI62F,EAAMhxB,EAAOnT,IAAIu7B,YACrB4I,EAAI/F,SAAS9wF,EAAIlsB,YAAaksB,EAAI/b,UAClC4yG,EAAI9F,OAAO/wF,EAAIlsB,YAAaksB,EAAI/b,UAChC4hF,EAAOixB,UAAUiU,OAAOlU,IAEtBorE,GAAc,SAAUjsK,EAAO2kE,GAC7B3kE,EACF2kE,EAAIlkF,aAAa,oBAAqB,mBAEtCkkF,EAAIluF,gBAAgB,sBAGpBy1L,GAAsB,SAAUr8F,EAAQo+B,EAAO/d,GACjD,OAAOu0E,GAAYx2D,EAAO/d,GAAUh3G,KAAI,SAAU8wB,GAEhD,OADAgiK,GAAiBn8F,EAAQ7lE,GAClBkmF,MAqBPi8E,GAA2B,SAAUt8F,EAAQo+B,GAC/C,GAAIp+B,EAAOixB,UAAU0I,gBAAsC,IAArB35B,EAAOkzC,WAAsB9U,EAAMr5H,MAAO,CAC9E,IAAIo1B,EAAM88F,GAAcG,eAAep3B,EAAOixB,UAAUC,UACpD+F,GAAcO,eAAer9F,KAA0B,IAvvChD,SAAUA,GACvB,OAAOwqE,GAAexqE,IAAQ0qE,GAAc1qE,GAsvCDoiK,CAASpiK,KAChDgiK,GAAiBn8F,EAAQm9B,GAAoBiB,EAAMr5H,MAAOo1B,IAC1DikG,EAAM3iH,IAAI,SAeZ+gL,GAAO,SAAUx8F,EAAQo+B,EAAOve,GAClC,QAAOsc,GAA0Bn8B,IAvCd,SAAUA,EAAQo+B,EAAOve,GAC5C,IAAIjd,EAAW5C,EAAOmxB,UAClBprH,EAAOkxH,GAAcG,eAAep3B,EAAOixB,UAAUC,UACrDurE,EAAmBn8G,EAAMwtG,GAAgB9tF,GAE7C,OADeq2F,GAAax2E,EAAS48E,EAAkB75F,EAAU78F,GACjDT,MAAK,SAAU+6G,GAC7B,OAAOg8E,GAAoBr8F,EAAQo+B,EAAO/d,MAiCDq8E,CAAe18F,EAAQo+B,EAAOve,GAASv+B,UAEhFq7G,GAAW,SAAU98E,EAAS7f,EAAQ48F,GACxC,QAAOzgE,GAA0Bn8B,IAAUy2F,GAAW52E,EAAS7f,IAE7D68F,GAAqB,SAAU78F,GACjC,IAAIo+B,EAAQrR,GAAK,MACb0vE,EAAmBn8G,EAAMwtG,GAAgB9tF,GAQ7C,OAPAA,EAAOr6C,GAAG,cAAc,SAAUxhD,IAC5Bg4H,GAA0Bn8B,IAAarV,GAAIrE,QAAQuB,QAAU1jF,EAAE6oH,UAvCnD,SAAU8gE,EAAgBjhG,EAAKw6B,GACjD,IAAIy1E,EAAmBzzL,EAAIqnH,GAAc5jC,GAAaF,QAAQC,EAAI25B,WAAY,2CAA2C,SAAUriH,GACjI,OAAOA,EAAE0oF,OAEPkwG,EAAkB76K,EAAO46K,EAAkBhP,GAC3CkP,EAAgB96K,EAAOmlG,EAAMymE,GACjC93H,EAAKitB,GAAW85G,EAAiBC,GAAgB18G,EAAM87G,IAAa,IACpEpmI,EAAKitB,GAAW+5G,EAAeD,GAAkBz8G,EAAM87G,IAAa,IAiChEa,CAAcR,EAAkBz8F,EAAOnT,IAAK1oF,EAAEwtG,SAC9C2qF,GAAyBt8F,EAAQo+B,GAvBT,SAAU0vD,EAAgB9tF,EAAQo+B,EAAO/W,GACrE,GAAIrnB,EAAOixB,UAAU0I,cAAe,CAClC,IAAIujE,EAAUh7K,EAAOmlG,EAAMymE,GAC3B93H,EAAKknI,GAAS,SAAUC,GACtB,IAAIhjK,EAAM88F,GAAcG,eAAep3B,EAAOixB,UAAUC,UACxDqkE,GAAazH,EAAgB9tF,EAAOmxB,UAAWh3F,GAAK70B,MAAK,SAAU+6G,GACjE,OAAOg8E,GAAoBr8F,EAAQo+B,EAAO/d,UAkB5C+8E,CAAwBX,EAAkBz8F,EAAQo+B,EAAOj6H,EAAEwtG,aAGxDysB,GAELi/D,GAAe/8G,EAAMq8G,IAAU,GAC/BW,GAAeh9G,EAAMq8G,IAAU,GAC/BY,GAAuB,SAAUv9F,EAAQ6f,EAASue,GACpD,GAAIjC,GAA0Bn8B,GAAS,CACrC,IAAIw9F,EAAYvB,GAAgBj8F,EAAQ6f,GAASr+B,YAAW,WAC1D,IAAIwvC,EAAMhxB,EAAOixB,UAAUC,SAC3B,OAAOrR,EAAUoX,GAAcI,aAAarG,GAAOiG,GAAcG,eAAepG,MAElF,OAAOukE,GAAaj1G,EAAMwtG,GAAgB9tF,GAASA,EAAOmxB,UAAWqsE,GAAW17G,QAAO,SAAUw0D,GAC/F,IAAImnD,EAAahI,GAAQn/C,GACzB,OAAOs+C,GAAYx2D,EAAOq/D,GAAY37G,QAAO,SAAU3nD,GAErD,OADAgiK,GAAiBn8F,EAAQ7lE,IAClB,QAIX,OAAO,GAmBPujK,GAAmB,SAAU19F,EAAQo+B,GACvC,OAAO,SAAU/d,GACf,OAAOu0E,GAAYx2D,EAAO/d,GAAUv+B,QAAO,SAAU3nD,GAEnD,OADAgiK,GAAiBn8F,EAAQ7lE,IAClB,OAITwjK,GAAe,SAAU39F,EAAQo+B,EAAOr4H,EAAMwZ,GAChD,IAAIqjF,EAAW5C,EAAOmxB,UAClBsrE,EAAmBn8G,EAAMwtG,GAAgB9tF,GAC7CA,EAAO6sC,YAAY28B,QAAO,WACxBxpE,EAAOixB,UAAUiU,OA3BI,SAAUn/H,EAAMwZ,GACvC,IAAIyiD,EAAQ17D,SAAS+hH,cAGrB,OAFArmD,EAAMipD,SAASllH,EAAKkI,YAAalI,EAAKqY,UACtC4jD,EAAMkpD,OAAO3rG,EAAGtR,YAAasR,EAAGnB,UACzB4jD,EAuBmB47H,CAAmB73L,EAAMwZ,IACjDygF,EAAO8yC,YAAY,UACnByiD,GAAakH,EAAkB75F,EAAUq0B,GAAcG,eAAep3B,EAAOixB,UAAUC,WAAW7nH,IAAIqsL,IAAQrsL,IAAIq0L,GAAiB19F,EAAQo+B,OAE7Ip+B,EAAO8xC,eAML+rD,GAA2B,SAAU79F,EAAQo+B,EAAOve,EAAS95G,GAC/D,IAAI68F,EALU,SAAUA,EAAUljD,GAElC,OADkBigF,GAAejgF,EAAMkjD,IACJA,EAGpBk7F,CAAU99F,EAAOmxB,UAAWprH,EAAKkI,aAC5CwuL,EAAmBn8G,EAAMwtG,GAAgB9tF,GACzCg2F,EAAeT,GAAakH,EAAkB75F,EAAU78F,GAC5D,OAAOiwL,EAAa1wL,MAAK,SAAU+6G,GACjC,OAAIR,EACKQ,EAASl/B,KAAKf,EAASiC,EAAS5tE,KAAKihL,GAAOr1E,KAAah+B,EAAStB,KAAMX,EAASiC,EAAS5tE,KAAKghL,GAAQp1E,KAAah+B,EAAStB,MAE7Hs/B,EAASl/B,KAAKkB,EAAStB,KAAMX,EAASiC,EAAS5tE,KAAKghL,GAAQp1E,KAAah+B,EAAStB,KAAMX,EAASiC,EAAS5tE,KAAKihL,GAAOr1E,SAE9Hh3G,IAAIq0L,GAAiB19F,EAAQo+B,IAAQ58C,YAAW,WACjD,IAAIu8G,EAAah7D,GAASljB,EAASjd,EAAU78F,GACzCkwL,EAAa8H,EAAWz4L,MAAK,SAAU60B,GACzC,OAAOo7J,GAAakH,EAAkB75F,EAAUzoE,MAElD,OAAO05F,GAAMmiE,EAAcC,GAAY,WACrC,OAAOhI,GAAewO,EAAkB75F,EAAU78F,GAAM+7E,QAAO,SAAUgT,GACvE,QAhD4B,SAAUA,GAC5C,OAAO++B,GAAMyP,GAAgBxuC,GAAMyuC,GAAezuC,IAAM,SAAUw1D,EAAUE,GAC1E,IAAIwzC,EAAqB7P,IAAkB,EAAM7jC,GAC7C2zC,EAAoB9P,IAAkB,EAAO3jC,GACjD,OAAOpnB,GAAatuC,EAAKkpG,GAAoBj8G,QAAO,SAAU5nD,GAC5D,OAAOA,EAAIg9F,QAAQ8mE,SAEpB18G,OAAM,GAyCC28G,CAA8BppG,KAChC+3D,GAAc7sD,EAAQ6f,EAAS/yB,GAAaF,QAAQkI,KAC7C,SAKVjT,SAAQ,WACT,OAAOo0G,EAAW3wL,MAAK,SAAU2D,GAC/B,OAAO80L,EAAW10L,KAAI,SAAUkW,GAM9B,OALIsgG,EACF89E,GAAa39F,EAAQo+B,EAAOr4H,EAAMwZ,GAElCo+K,GAAa39F,EAAQo+B,EAAO7+G,EAAIxZ,IAE3B,WAGVw7E,OAAM,OAGT48G,GAAoB,SAAUn+F,EAAQo+B,EAAOve,GAC/C,GAAI7f,EAAOixB,UAAU0I,eAAiBwC,GAA0Bn8B,GAAS,CACvE,IAAIj6F,EAAOkxH,GAAcG,eAAep3B,EAAOixB,UAAUC,UACzD,OAAO2sE,GAAyB79F,EAAQo+B,EAAOve,EAAS95G,GAE1D,OAAO,GASLq4L,GAAoB,SAAUtpG,GAChC,OAAgC,IAAzBjuF,GAASiuF,GAAK9tF,QAEnBq3L,GAAqB,SAAUx+E,EAAS7f,EAAQ74F,EAAQm3L,GAC1D,IAAIC,EAAoBj+G,EAAMy5E,GAAiB/5D,GAC3C64D,EAAcxvJ,EAAI6Y,EAAOo8K,EAAeC,IAAoB,SAAUzpG,GACxE,OAAOA,EAAIjI,OAEb,GAA2B,IAAvBgsE,EAAY7xJ,OACd6lJ,GAAc7sD,EAAQ6f,EAAS14G,OAC1B,CACL,IAAIgzB,EAvkOqB,SAAU+sE,EAAY2xD,GACjD,IAAIvzD,EAAiBgzD,IAAqB,GACtCkmC,EAAY5lC,GAAoCC,EAAavzD,EAAezY,KAGhF,OAFAwD,GAAOvD,GAAaF,QAAQsa,GAAa5B,GACzC/yF,GAAOu6E,GAAaF,QAAQsa,IACrB+vB,GAAcunE,EAAW,GAkkOpBC,CAAuBt3L,EAAO0lF,IAAKgsE,GAC7C74D,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,aAG5BwnE,GAAgB,SAAU1+F,EAAQ6f,GACpC,IAAI7qB,EAAUlI,GAAaF,QAAQoT,EAAOmxB,WACtC4+B,EAAWjjE,GAAaF,QAAQoT,EAAOixB,UAAU0hB,YACjD2rD,EAAgBp8K,EAxBC,SAAU8yE,EAAS+6D,GACxC,IAAIp+C,EAAUq2C,GAAe+H,EAAU/6D,GACvC,OAAO5yE,EAAUuvF,EAASnO,IAASriB,KAAKf,EAASuxB,IAAU,SAAU36F,GACnE,OAAO26F,EAAQzrG,MAAM,EAAG8Q,MAqBC2nL,CAAiB3pG,EAAS+6D,GAAWquC,IAChE,OAAOh7G,GAAKk7G,GAAex8G,QAAO,SAAU36E,GAC1C,IArkOsC0E,EAqkOlCqlJ,EAAUj6B,GAAcG,eAAep3B,EAAOixB,UAAUC,UAC5D,SAt2CkC,SAAUrR,EAASqxC,EAASp8D,GAChE,OAAO++B,GAAMyP,GAAgBxuC,GAAMyuC,GAAezuC,IAAM,SAAUw1D,EAAUE,GAC1E,IAAIwzC,EAAqB7P,IAAkB,EAAM7jC,GAC7C2zC,EAAoB9P,IAAkB,EAAO3jC,GAC7Co0C,EAAoBzQ,IAAkB,EAAOj9B,GACjD,OAAIrxC,EACKujB,GAAatuC,EAAK8pG,GAAmB98G,QAAO,SAAUm1G,GAC3D,OAAOA,EAAQ9/D,QAAQ8mE,IAAsB/sC,EAAQ/5B,QAAQ6mE,MAGxD36D,GAAavuC,EAAK8pG,GAAmB98G,QAAO,SAAU+8G,GAC3D,OAAOA,EAAQ1nE,QAAQ6mE,IAAuB9sC,EAAQ/5B,QAAQ8mE,SAGjE18G,OAAM,GAw1CHu9G,CAAgCj/E,EAASqxC,EAAS/pJ,EAAO0lF,OAtkOvBhhF,EAskO0D1E,EArkO3Fs8H,GAAY53H,EAAQghF,MAAQsrE,GAAsBtsJ,EAAQghF,SAskO7DwxG,GAAmBx+E,EAAS7f,EAAQ74F,EAAQm3L,IACrC,OAMTS,GAAoB,SAAU/+F,EAAQ6f,GACxC,QAAO7f,EAAOixB,UAAU0I,eAAgB+kE,GAAc1+F,EAAQ6f,IAG5Dm/E,GAAkB,SAAUh/F,EAAQ6f,EAASh0G,GAG/C,OAFAm0F,EAAOo0D,oBAAoBq/B,gBAC3B5mC,GAAc7sD,EAAQ6f,EAAS/yB,GAAaF,QAAQ/gF,KAC7C,GAoBLozL,GAAoB,SAAUj/F,EAAQ6f,GACxC,OAAO7f,EAAOixB,UAAU0I,cAnBN,SAAU35B,EAAQ6f,GACpC,IAAIq/E,EAAcr/E,EAAUmnC,GAAgBC,GACxCpiF,EAAYg7C,EAAU6X,GAAW2K,SAAW3K,GAAW+K,UACvDyuB,EAAUnwB,GAA2Bl8D,EAAWm7B,EAAOmxB,UAAWnxB,EAAOixB,UAAUC,UACvF,OAAIguE,EAAYhuC,GACP8tC,GAAgBh/F,EAAQ6f,EAASqxC,EAAQt8B,SAAS/U,IAElDx9B,EAASt8E,KAAKooL,GAAkBtuE,EAASqxC,IAAUhvI,QAAO,SAAUiY,GACzE,OAAO+kK,EAAY/kK,IAAQinG,GAAsB8vB,EAAS/2H,MACzD2nD,QAAO,SAAU3nD,GAClB,OAAO6kK,GAAgBh/F,EAAQ6f,EAAS1lF,EAAIy6F,SAAS/U,OASjBs/E,CAAcn/F,EAAQ6f,GAL5C,SAAU7f,EAAQ6f,GACpC,IAAI0zE,EAAevzF,EAAOixB,UAAU2D,UACpC,QAAOlhC,GAAQ6/F,IAAgByL,GAAgBh/F,EAAQ6f,EAAS0zE,GAGS6L,CAAcp/F,EAAQ6f,IAU7Fw/E,GAAmB,SAAUl6L,GAC/B,IAAIoX,EAASjT,SAASnE,EAAO,IAC7B,OAAO+D,MAAMqT,GAAU,EAAIA,GAEzB+iL,GAAqB,SAAUC,EAAW1zL,GAG5C,OAFsB0zL,GA7smBA,UAAfnoL,GA6smBsCvL,GAAW,SAAW,YACtB,QAAhCuoF,GAAMvoF,EAAS,aAAyB,SAAW,UAqB9D2zL,GAAa,SAAUx/F,GACzB,IAAIo6D,EAASqlC,GAAkBz/F,GAC/B,OAAQA,EAAOpmE,KAAK8lK,eAAiBtlC,EAAOpzJ,OAAS,GAVlC,SAAUg5F,EAAQo6D,GACrC,OAAOr4E,EAAOq4E,GAAQ,SAAUp/B,GAC9B,IAAI2kE,EAAkBL,GAAmB1jE,GAAsB57B,GAASg7B,GACpE4kE,EAActrG,GAAO0mC,EAAO2kE,GAAiBt2L,IAAIg2L,IAAkB99G,MAAM,GAE7E,MAA2B,UADLye,EAAOnT,IAAI07B,mBAAmByS,EAAMnuC,MACpB+yG,EAAc,KAKIC,CAAe7/F,EAAQo6D,KAE/E0lC,GAAkB,SAAU7tL,GAC9B,OAAO2xF,GAAO3xF,IAAO4xF,GAAW5xF,IAK9BwtL,GAAoB,SAAUz/F,GAChC,OAAO99E,EAAO7Y,EAAI22F,EAAOixB,UAAUqpC,oBAAqBxtE,GAAaF,UAAU,SAAU36E,GACvF,OAAQ6tL,GAAgB7tL,KALA,SAAUA,GACpC,OAAOwwD,GAAOxwD,GAAI5I,IAAIy2L,IAAiBv+G,OAAM,GAIXw+G,CAAsB9tL,IA7CjD4sF,GA6CqE5sF,GA7CrD,SAAU6iF,GAC/B,OAAOvB,GAAsBuB,EAAIjI,MAAQ2G,GAAuBsB,EAAIjI,QACnE/K,QAAO,SAAUgT,GAClB,OAAOvB,GAAsBuB,EAAIjI,YA6CjCuL,GAAS,SAAU4H,EAAQ0sF,GAC7B,IAAI7/F,EAAMmT,EAAOnT,IAAKokC,EAAYjxB,EAAOixB,UAAW+V,EAAYhnC,EAAOgnC,UACnEg5D,EAr3ae,SAAUhgG,GAC7B,OAAOA,EAAO46B,SAAS,cAAe,OAAQ,UAo3a5BqlE,CAAejgG,GAC7BkgG,EAAa,YAAYj2L,KAAK+1L,GAAa,GAC3CG,EAAc72L,SAAS02L,EAAa,IACpCT,EAAY3jE,GAAsB57B,GAClC48D,EAAkB7hC,GAAmB/6B,GACpCA,EAAOogG,kBAAkB,wBAA2BpgG,EAAOogG,kBAAkB,sBACxD,KAApBxjC,GAA2B/vE,EAAIm8B,UAAUiI,EAAU2D,UAAW/nC,EAAI2W,UACpEwjC,EAAUpkH,MAAM,OAGpBozC,EAAKypI,GAAkBz/F,IAAS,SAAUg7B,IA7CxB,SAAUnuC,EAAK6/F,EAAS6S,EAAWp6L,EAAOgjD,EAAMt8C,GAClE,IAAI8zL,EAAkBL,GAAmBC,EAAWzyG,GAAaF,QAAQ/gF,IACzE,GAAgB,YAAZ6gL,EAAuB,CACzB,IAAI2T,EAAaz3L,KAAKJ,IAAI,EAAG62L,GAAiBxzL,EAAQS,MAAMqzL,IAAoBx6L,GAChF0nF,EAAIrqB,SAAS32D,EAAS8zL,EAAiBU,EAAaA,EAAal4I,EAAO,SAEpEk4I,EAAahB,GAAiBxzL,EAAQS,MAAMqzL,IAAoBx6L,EAAQgjD,EAC5E0kC,EAAIrqB,SAAS32D,EAAS8zL,EAAiBU,GAuCvCC,CAAczzG,EAAK6/F,EAAS6S,EAAWY,EAAaD,EAAYllE,EAAMnuC,SAItE0zG,GAAoB,SAAUvgG,EAAQmxF,GACxC,GAAInxF,EAAOixB,UAAU0I,eAAiB6lE,GAAWx/F,GAAS,CACxD,IAAInT,EAAMmT,EAAOnT,IACbmkC,EAAMhxB,EAAOixB,UAAUC,SACvB/2F,EAAM88F,GAAcG,eAAepG,GACnCgK,EAAQnuC,EAAIm8B,UAAUgI,EAAIzF,eAAgB1+B,EAAI2W,SAClD,GAAc,OAAVw3B,GAAkButB,GAAiBz7D,GAAaF,QAAQouC,GAAQ7gG,GAElE,OADAi+D,GAAO4H,EAAQ,YACR,EAGX,OAAO,GAGLwgG,GAAgB,SAAUxgG,EAAQ0sF,GACpC1sF,EAAOusC,SAASuG,YAAY45C,GAAS,EAAO,OAmD1C+T,GAAU,SAAUzgG,EAAQo+B,GAC9Bp+B,EAAO0gG,WAAW,UAAU,YAlDV,SAAU1gG,EAAQo+B,GAChCmiE,GAAkBvgG,IAEX6zF,GAAkB7zF,GAAQ,IAE1BmyF,GAAkBnyF,GAAQ,IAE1Bm+F,GAAkBn+F,EAAQo+B,GAAO,IAEjCoyD,GAAkBxwF,GAAQ,IAE1BqxD,GAAgBrxD,IAEhB8zF,GAAkB9zF,GAAQ,IAE1Bi/F,GAAkBj/F,GAAQ,IAE1BkxF,GAAkBlxF,IAElB++F,GAAkB/+F,GAAQ,KAGnCwgG,GAAcxgG,EAAQ,UACtBwuF,GAAcxuF,IA4Bd2gG,CAAc3gG,EAAQo+B,MAExBp+B,EAAO0gG,WAAW,iBAAiB,YA3BV,SAAU1gG,EAAQo+B,GACvCy1D,GAAkB7zF,GAAQ,IAEnBmyF,GAAkBnyF,GAAQ,IAE1Bm+F,GAAkBn+F,EAAQo+B,GAAO,IAEjCoyD,GAAkBxwF,GAAQ,IAE1BqxD,GAAgBrxD,IAEhB8zF,GAAkB9zF,GAAQ,IAE1Bi/F,GAAkBj/F,GAAQ,IAE1BkxF,GAAkBlxF,IAElB++F,GAAkB/+F,GAAQ,IAGnCwgG,GAAcxgG,EAAQ,iBAQtB4gG,CAAqB5gG,EAAQo+B,OAM7ByiE,GAAW,SAAU7oJ,GACvB,YAAsBnhC,IAAlBmhC,EAAMjsC,SAAkD,IAAzBisC,EAAMjsC,QAAQ/E,OACxCq7E,EAAStB,OAEXsB,EAAS5tE,KAAKujC,EAAMjsC,QAAQ,KAOjC+0L,GAAU,SAAU9gG,GACtB,IAAI+gG,EAAYh0E,GAAK1qC,EAAStB,QAC1BigH,EAAiBj0E,IAAK,GACtBk0E,EAAoBpxE,IAAO,SAAU1rH,GACvC67F,EAAOn0B,KAAK,YAAamZ,GAASA,GAAS,GAAI7gF,GAAI,CAAEgG,KAAM,eAC3D62L,EAAevlL,KAAI,KAjBD,KAmBpBukF,EAAOr6C,GAAG,cAAc,SAAUxhD,GAChC08L,GAAS18L,GAAG6xD,MAAK,SAAUu6E,GACzB0wD,EAAkB7xL,SAClB,IAAI6hB,EAAO,CACTzlB,EAAG+kI,EAAMvkI,QACThD,EAAGunI,EAAMtkI,QACT9E,OAAQhD,EAAEgD,QAEZ85L,EAAkB9gG,SAASh8F,GAC3B68L,EAAevlL,KAAI,GACnBslL,EAAUtlL,IAAI4mE,EAAS5tE,KAAKwc,UAE7B,GACH+uE,EAAOr6C,GAAG,aAAa,SAAUxhD,GAC/B88L,EAAkB7xL,SAClByxL,GAAS18L,GAAG6xD,MAAK,SAAUu6E,GACzBwwD,EAAUh8L,MAAMixD,MAAK,SAAU/kC,IA5BnB,SAAUs/G,EAAOt/G,GACjC,IAAIiwK,EAAQt4L,KAAKwlB,IAAImiH,EAAMvkI,QAAUilB,EAAKzlB,GACtC21L,EAAQv4L,KAAKwlB,IAAImiH,EAAMtkI,QAAUglB,EAAKjoB,GAC1C,OAAOk4L,EAXc,GAWcC,EAXd,GAqCXC,CAAY7wD,EAAOt/G,KACrB8vK,EAAUtlL,IAAI4mE,EAAStB,QACvBigH,EAAevlL,KAAI,GACnBukF,EAAOn0B,KAAK,6BAIjB,GACHm0B,EAAOr6C,GAAG,wBAAwB,SAAUxhD,GAC1C88L,EAAkB7xL,SACH,gBAAXjL,EAAEgG,MAGN42L,EAAUh8L,MAAMmd,QAAO,SAAU+O,GAC/B,OAAOA,EAAK9pB,OAAOk6L,YAAYl9L,EAAEgD,WAChC6uD,MAAK,WACFgrI,EAAej8L,MACjBZ,EAAE+D,iBAEF83F,EAAOn0B,KAAK,MAAOmZ,GAASA,GAAS,GAAI7gF,GAAI,CAAEgG,KAAM,eAGxD,IAGDm3L,GAAiB,SAAU5uB,EAAehzH,GAC5C,OAAOgzH,EAAcjtK,eAAei6C,EAAKgC,WAEvC6/I,GAAgB,SAAU7uB,EAAehzH,GAC3C,QAAIuzC,GAASvzC,MAEF8yC,GAAY9yC,MACb4hJ,GAAe5uB,EAAehzH,KAAUylF,GAAiBzlF,KAUjE8hJ,GAAuB,SAAU9uB,EAAehzH,GAClD,GAAIuzC,GAASvzC,GAAO,CAClB,GAA8B,IAA1BA,EAAK2/D,UAAUr4G,OACjB,OAAO,EACF,GAAI,QAAQgD,KAAK01C,EAAK2/D,cAAgB3/D,EAAKrtC,aAAeivL,GAAe5uB,EAAehzH,EAAKrtC,cAClG,OAAO,EAGX,OAAO,GAEL4jK,GAAgB,SAAUj2E,GAC5B,IAIIg2E,EAAeR,EAAUlR,EAJzBz3E,EAAMmT,EAAOnT,IAAKokC,EAAYjxB,EAAOixB,UACrCvkB,EAAS1M,EAAO0M,OAAQgmE,EAAgBhmE,EAAOsF,mBAC/CtyD,EAAOuxE,EAAU0hB,WACjB/vC,EAAW5C,EAAOmxB,UAElByrC,EAAkB7hC,GAAmB/6B,GACzC,GAAKtgD,GAAS8yC,GAAY9yC,IAAUk9G,EAApC,CAGA,IAAI6kC,EAAe7+F,EAASlhD,SAASl4C,cACrC,GAAKkjG,EAAOiG,aAAa8uF,EAAc7kC,EAAgBpzJ,iBA1BpC,SAAUkpK,EAAevgK,EAAMutC,GAClD,OAAOoiC,EAAOimE,GAAUj7D,GAAaF,QAAQltC,GAAOotC,GAAaF,QAAQz6E,KAAQ,SAAU2iF,GACzF,OAAOwsG,GAAe5uB,EAAe59E,EAAIjI,QAwB8B60G,CAAehvB,EAAe9vE,EAAUljD,GAAjH,CAGA,IAAIsxE,EAAMC,EAAUC,SAChB3F,EAAiByF,EAAIzF,eACrBC,EAAcwF,EAAIxF,YAClBC,EAAeuF,EAAIvF,aACnBC,EAAYsF,EAAItF,UAChBi2E,EAAmBllD,GAAWz8C,GAElC,IADAtgD,EAAOkjD,EAASlT,WACThwC,GACL,GAAI6hJ,GAAc7uB,EAAehzH,GAAO,CACtC,GAAI8hJ,GAAqB9uB,EAAehzH,GAAO,CAC7C81H,EAAW91H,EACXA,EAAOA,EAAKrtC,YACZw6E,EAAIt6E,OAAOijK,GACX,SAEGQ,IACHA,EAAgBnpF,EAAIxnF,OAAOu3J,EAAiB3hC,GAAwBj7B,IACpEtgD,EAAKltC,WAAWF,aAAa0jK,EAAet2H,GAC5C4kH,GAAU,GAEZkR,EAAW91H,EACXA,EAAOA,EAAKrtC,YACZ2jK,EAAc9jK,YAAYsjK,QAE1BQ,EAAgB,KAChBt2H,EAAOA,EAAKrtC,YAGZiyJ,GAAWq9B,IACb3wE,EAAI/F,SAASM,EAAgBC,GAC7BwF,EAAI9F,OAAOO,EAAcC,GACzBuF,EAAUiU,OAAOlU,GACjBhxB,EAAO8xC,kBAiBPuiB,GAA0B,SAAUr0D,EAAQ4hG,GAC1CA,EAAoBjwI,aAAa,oBACnC0zC,GAAwBu8F,GALF,SAAU5hG,GAClCA,EAAOixB,UAAUiU,OAAOllC,EAAOixB,UAAUC,UAKvC2wE,CAAoB7hG,GACpBA,EAAOixB,UAAUp/B,eAAe+vG,KAGhCE,GAAuB,SAAU9hG,EAAQ77F,GAC3C,IAAIy9L,EAhBwB,SAAU5hG,GACtC,OAAOhB,GAAWlS,GAAaF,QAAQoT,EAAOmxB,WAAY,qBAAqBhwC,KAAKf,EAAS,OAAO,SAAU0U,GAC5G,OAAOA,EAAIjI,OAcak1G,CAAwB/hG,GAClD,GAAK4hG,EAGL,MAAe,qBAAXz9L,EAAEgG,MACJhG,EAAE+D,iBACF/D,EAAE6I,uBACFqnJ,GAAwBr0D,EAAQ4hG,SAG9Bl9F,GAAWk9F,KACbvtC,GAAwBr0D,EAAQ4hG,GAChC5hG,EAAO6sC,YAAY96H,SAOnBiwL,GAA2BxuG,GAoB3ByuG,GAAe,SAAUjiG,EAAQn7B,EAAW7C,GAC9C,IAAIgxF,EAAcxwB,GAAYxiC,EAAOmxB,WACjC+wE,EAA2B5hH,EAAM4gD,GAAsC,IAAdr8D,EAAkBmuF,EAAYvyI,KAAOuyI,EAAYnwD,MAC9G,GAAI7gC,EAAMg4D,WA7jba,SAAUh6B,GACjC,MAAsC,KAA/B+6B,GAAmB/6B,GA4jbHmiG,CAAmBniG,GAAS,CACjD,IAAIzmC,EAAMymC,EAAOnT,IAAIm8B,UAAUhnD,EAAMupD,eAAgB,OACrD,IAAKhyD,EACH,OAGF,IADe2oI,EAAyBjrE,GAAcG,eAAep1D,IACtD,CACb,IAAIogI,EAjBY,SAAUpiG,GAC9B,IAAIqiG,EAAYriG,EAAOnT,IAAIxnF,OAAO01H,GAAmB/6B,IAIrD,QAHKrV,GAAIzC,IAAMyC,GAAIzC,IAAM,MACvBm6G,EAAU77L,UAAY,2BAEjB67L,EAYYC,CAAgBtiG,GACb,IAAdn7B,EACFm7B,EAAOn1F,EAAE0uD,GAAKg3B,MAAM6xG,GAEpBpiG,EAAOn1F,EAAE0uD,GAAK82B,OAAO+xG,GAEvBpiG,EAAOixB,UAAUjtD,OAAOo+H,GAAU,GAClCpiG,EAAOixB,UAAUiD,cAInBquE,GAAqB,SAAUviG,EAAQ6f,GACzC,IAAIh7C,EAAYg7C,EAAU6X,GAAW2K,SAAW3K,GAAW+K,UACvDzgE,EAAQg+B,EAAOixB,UAAUC,SAC7B,OA3C8B,SAAUrsD,EAAWm7B,EAAQh+B,GAC3D,OAAOg5H,GAAiBh7F,EAAQn7B,EAAW7C,EAAOolF,GAA8BC,GAA6B26C,IA0CtGQ,CAA0B39H,EAAWm7B,EAAQh+B,GAAO6f,SAAQ,WAEjE,OADAogH,GAAajiG,EAAQn7B,EAAW7C,GACzBqgB,EAAStB,WAGhB0hH,GAAmB,SAAUziG,EAAQ0iG,GACvC,IAAI79H,EAAY69H,EAAO,GAAK,EACxB1gI,EAAQg+B,EAAOixB,UAAUC,SAC7B,OAhD4B,SAAUrsD,EAAWm7B,EAAQh+B,GAOzD,OAAOq5H,GAAer7F,EAAQn7B,EAAW7C,GAN1B,SAAU60D,GACvB,OAAOuwB,GAA6BvwB,IAAkBqwB,GAAcrwB,MAExD,SAAUA,GACtB,OAAOwwB,GAA4BxwB,IAAkBswB,GAAatwB,KAEDmrE,IAyC5DW,CAAwB99H,EAAWm7B,EAAQh+B,GAAO6f,SAAQ,WAE/D,OADAogH,GAAajiG,EAAQn7B,EAAW7C,GACzBqgB,EAAStB,WAGhB6hH,GAAQ,SAAU5iG,EAAQ6f,GAC5B,OAAO0iF,GAAmBviG,EAAQ6f,GAAS/9B,QAAO,SAAU+gH,GAE1D,OADA/H,GAAY96F,EAAQ6iG,IACb,MAGPC,GAAQ,SAAU9iG,EAAQ0iG,GAC5B,OAAOD,GAAiBziG,EAAQ0iG,GAAM5gH,QAAO,SAAU+gH,GAErD,OADA/H,GAAY96F,EAAQ6iG,IACb,MAGPE,GAAuB,SAAU/iG,EAAQ6f,GAE3C,OAAOq8E,GAAmBl8F,EAAQ6f,EADdA,EAAUwnC,GAA8BD,KAI1D47C,GAAW,SAAUtjJ,GACvB,OAAO1tC,EAAS,CAAC,cAAeoF,GAAKsoC,KAEnCujJ,GAAc,SAAU97L,GAC1B,IAAI6pH,EAAM1qH,SAAS+hH,cAGnB,OAFA2I,EAAIkP,eAAe/4H,EAAO0lF,KAC1BmkC,EAAImP,aAAah5H,EAAO0lF,KACjBmkC,GAELkyE,GAAgB,SAAU/wL,EAAM2iF,EAAK+qB,GACnCA,EACF1yE,GAAOh7B,EAAM2iF,GAEbtE,GAAQr+E,EAAM2iF,IAgBdquG,GAAkB,SAAUhxL,EAAMuiK,EAAe5gF,EAAO+rB,GAC1D,MAAsB,KAAlB60D,EAdS,SAAUviK,EAAM0tG,GAC7B,IAAI5a,EAAKnY,GAAaI,QAAQ,MAE9B,OADAg2G,GAAc/wL,EAAM8yF,EAAI4a,GACjBojF,GAAYh+F,GAYVm+F,CAASjxL,EAAM0tG,GAVN,SAAU1tG,EAAM0tG,EAAS7a,EAAWlR,GACtD,IAAIknC,EAAQluC,GAAaI,QAAQ8X,GAC7BC,EAAKnY,GAAaI,QAAQ,MAI9B,OAHA2G,GAAOmnC,EAAOlnC,GACd3mD,GAAO6tF,EAAO/1B,GACdi+F,GAAc/wL,EAAM6oH,EAAOnb,GACpBojF,GAAYh+F,GAMVo+F,CAAclxL,EAAM0tG,EAAS60D,EAAe5gF,IAOnDwvG,GAAsB,SAAUnxL,EAAM0tG,EAAS1lF,GACjD,OAAO0lF,EAl/BU,SAAU7yB,EAAO7yD,GAClC,OAAO+9J,GAA0BlrG,EAAO7yD,GAAKo9J,QAAQt2G,SAi/BpCsiH,CAAapxL,EAAK06E,IAAK1yD,GAr/BtB,SAAU6yD,EAAO7yD,GACnC,OAAO89J,GAA8BjrG,EAAO7yD,GAAKo9J,QAAQt2G,SAo/BVuiH,CAAcrxL,EAAK06E,IAAK1yD,IAErEspK,GAA0B,SAAUzjG,EAAQ6f,GAC9C,IAAI1tG,EAAO26E,GAAaF,QAAQoT,EAAOmxB,WACnCh3F,EAAM88F,GAAcG,eAAep3B,EAAOixB,UAAUC,UACpD6M,EAAYhD,GAAmB/6B,GAC/B0jG,EAAiBzoE,GAAwBj7B,GAC7C,OAZ0B,SAAU7lE,EAAKhoB,GACzC,IAAIurF,EAASpd,EAAM2N,GAAM97E,GACzB,OAAO0sF,GAAQ/R,GAAaF,QAAQzyD,EAAIlsB,aAAcu1F,GAAS9F,GAAQx7E,OAAO8gL,IAUvEW,CAAsBxpK,EAAKhoB,GAAM2vE,QAAO,WAC7C,GAAIwhH,GAAoBnxL,EAAM0tG,EAAS1lF,GAAM,CAC3C,IAAI62F,EAAMmyE,GAAgBhxL,EAAM4rH,EAAW2lE,EAAgB7jF,GAE3D,OADA7f,EAAOixB,UAAUiU,OAAOlU,IACjB,EAEP,OAAO,MAIT4yE,GAAU,SAAU5jG,EAAQ6f,GAC9B,QAAI7f,EAAOixB,UAAU0I,eACZ8pE,GAAwBzjG,EAAQ6f,IAqBvCgkF,GAAU,SAAUC,EAAUlrJ,GAChC,OAAOtzC,EAhBa,SAAUw+L,GAC9B,OAAOz6L,EAAIy6L,GAAU,SAAUh0F,GAC7B,OAAO9qB,GAAS,CACdr9E,UAAU,EACVmnI,QAAQ,EACRlnI,SAAS,EACTgvG,SAAS,EACTijD,QAAS,EACT5J,OAAQjwE,GACP8vB,MAOOi0F,CAAgBD,IAAW,SAAUh0F,GAC/C,OALe,SAAUA,EAASl3D,GACpC,OAAOA,EAAIihH,UAAY/pD,EAAQ+pD,SAAWjhH,EAAIjxC,WAAamoG,EAAQnoG,UAAYixC,EAAIk2F,SAAWh/B,EAAQg/B,QAAUl2F,EAAIhxC,UAAYkoG,EAAQloG,SAAWgxC,EAAIg+D,UAAY9G,EAAQ8G,QAIlKotF,CAAal0F,EAASl3D,GAAO,CAACk3D,GAAW,OAGhDmgD,GAAS,SAAUvnJ,GAErB,IADA,IAAI8C,EAAI,GACC+7C,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC/7C,EAAE+7C,EAAK,GAAKphD,UAAUohD,GAExB,OAAO,WACL,OAAO7+C,EAAEka,MAAM,KAAMpX,KAGrBy4L,GAAU,SAAUH,EAAUlrJ,GAChC,OAAO/mC,EAAKgyL,GAAQC,EAAUlrJ,IAAM,SAAUk3D,GAC5C,OAAOA,EAAQmgD,aAIfi0C,GAAU,SAAUlkG,EAAQ6f,GAC9B,IAAIh7C,EAAYg7C,EAAU6X,GAAW2K,SAAW3K,GAAW+K,UACvDzgE,EAAQg+B,EAAOixB,UAAUC,SAC7B,OAAO8pE,GAAiBh7F,EAAQn7B,EAAW7C,EAAOglF,GAAeC,GAAcvzD,IAAS5R,QAAO,SAAU+gH,GAEvG,OADA/H,GAAY96F,EAAQ6iG,IACb,MAGPsB,GAAU,SAAUnkG,EAAQ0iG,GAC9B,IAAI79H,EAAY69H,EAAO,GAAK,EACxB1gI,EAAQg+B,EAAOixB,UAAUC,SAC7B,OAAOmqE,GAAer7F,EAAQn7B,EAAW7C,EAAOglF,GAAeC,GAAcvzD,IAAS5R,QAAO,SAAU+gH,GAErG,OADA/H,GAAY96F,EAAQ6iG,IACb,MAGPuB,GAAuB,SAAUpkG,EAAQ6f,GAE3C,OAAOq8E,GAAmBl8F,EAAQ6f,EADhBA,EAAUonC,GAAeD,KA0CzCq9C,GAAmB,SAAUC,EAAeC,EAAgBv3F,EAAOxhG,EAAGxC,GACxE,IAAI2lJ,EAAQj+B,GAAc5jC,GAAaF,QAAQogB,GAAQ,iBAAiB3jG,KAAI,SAAUlF,GACpF,OAAOA,EAAE0oF,OAKX,OAlBsB,SAAU23G,EAASh5L,EAAGxC,GAC5C,OAAO65E,EAAM2hH,GAAS,SAAU5hH,EAAK6hH,GACnC,OAAO7hH,EAAIzB,MAAK,WACd,OAAOkB,EAAS5tE,KAAKgwL,MACpB,SAAUC,GACX,IAAIC,EAAU/7L,KAAKg8L,KAAKh8L,KAAKwlB,IAAIs2K,EAAUl5L,EAAIA,GAAK5C,KAAKwlB,IAAIs2K,EAAU17L,EAAIA,IACvE67L,EAAUj8L,KAAKg8L,KAAKh8L,KAAKwlB,IAAIq2K,EAAUj5L,EAAIA,GAAK5C,KAAKwlB,IAAIq2K,EAAUz7L,EAAIA,IAC3E,OAAOq5E,EAAS5tE,KAAKowL,EAAUF,EAAUF,EAAYC,QAEtDriH,EAAStB,QASL+jH,CAHO5iL,EAhCC,SAAUoiL,EAAeS,GACxC,OAAOz/L,EAAKy/L,GAAK,SAAU5zF,GACzB,IAAI8iB,EAZM,SAAUA,EAAM94F,GAC5B,MAAO,CACLjvB,KAAM+nH,EAAK/nH,KAAOivB,EAClB/uB,IAAK6nH,EAAK7nH,IAAM+uB,EAChB3tB,MAAOymH,EAAKzmH,MAAgB,EAAR2tB,EACpB1tB,OAAQwmH,EAAKxmH,OAAiB,EAAR0tB,EACtBhvB,MAAO8nH,EAAK9nH,MAAQgvB,EACpB9uB,OAAQ4nH,EAAK5nH,OAAS8uB,GAKX6pK,CAAQhxE,GAAQ7iB,EAAGrlG,0BAA2B,GACzD,MAAO,CACL,CACEN,EAAGyoH,EAAK/nH,KACRlD,EAAGs7L,EAAcrwE,GACjB25B,KAAMz8C,GAER,CACE3lG,EAAGyoH,EAAKzmH,MACRxE,EAAGs7L,EAAcrwE,GACjB25B,KAAMz8C,OAoBS8zF,CAAWX,EAAe31C,IAAQ,SAAUu2C,GAC/D,OAAOX,EAAeW,EAAQl8L,MAEEwC,EAAGxC,GAAGK,KAAI,SAAU67L,GACpD,OAAOA,EAAOt3C,SAedu3C,GAAsB7kH,EAAM+jH,IAZX,SAAUpwE,GAC7B,OAAOA,EAAKxmH,UAKE,SAAUy3L,EAAQl8L,GAChC,OAAOk8L,EAAOl8L,EAAIA,KAMhBo8L,GAAsB9kH,EAAM+jH,IAVd,SAAUpwE,GAC1B,OAAOA,EAAK7nH,OAKE,SAAU84L,EAAQl8L,GAChC,OAAOk8L,EAAOl8L,EAAIA,KAIhBq8L,GAAiC,SAAUr4F,EAAO7yE,GACpD,OAAO8+B,GAAK9+B,EAAIyoC,kBAAkBt9D,MAAK,SAAU2uH,GAC/C,OAAOkxE,GAAoBn4F,EAAOinB,EAAK/nH,KAAM+nH,EAAK7nH,QACjD9G,MAAK,SAAUsoJ,GAChB,OAAOmqC,GA3nCFx0D,GAD4Bv2C,EA4nCyB4gE,GA3nC/BvkJ,KAAI,SAAU8wB,GACzC,OAAO89J,GAA8BjrG,EAAO7yD,GAAK08J,UAAUnjK,OAAOyG,MACjEonD,MAAM,IAynC0DpnD,GA5nC1C,IAAU6yD,MA+nCjCs4G,GAAiC,SAAUt4F,EAAO7yE,GACpD,OAAOipD,GAAKjpD,EAAIyoC,kBAAkBt9D,MAAK,SAAU2uH,GAC/C,OAAOmxE,GAAoBp4F,EAAOinB,EAAK/nH,KAAM+nH,EAAK7nH,QACjD9G,MAAK,SAAUsoJ,GAChB,OAAOmqC,GAvoCFz0D,GAD6Bt2C,EAwoCyB4gE,GAvoC/BvkJ,KAAI,SAAU8wB,GAC1C,MAAO,CAACA,GAAKzG,OAAOwkK,GAA0BlrG,EAAO7yD,GAAK08J,cACzDt1G,MAAM,IAqoC2DpnD,GAxoC1C,IAAU6yD,MAupClCu4G,GAAoB,SAAUlO,EAAmBrqG,EAAO7yD,GAC1D,IAAIqrK,EAAWnO,EAAkBrqG,EAAO7yD,GACxC,OARwB,SAAUqrK,GAClC,OAAOA,EAASlO,YAAcjX,GAAU+W,MAAsC,IAA9BoO,EAAS3O,UAAU7vL,OAO/Dy+L,CAAoBD,KAAcnyG,GAAKl5D,EAAIy6F,YALzB,SAAU4wE,GAChC,OAAOA,EAASlO,YAAcjX,GAAU6W,IAAoC,IAA9BsO,EAAS3O,UAAU7vL,OAIJ0+L,CAAkBF,IAb9D,SAAUnO,EAAmBrqG,EAAOw4G,GACrD,OAAOA,EAASjO,QAAQz1G,QAAO,SAAU6jH,GACvC,OAAOtO,EAAkBrqG,EAAO24G,GAAUpO,QAAQj2G,YAY1CskH,CAAavO,EAAmBrqG,EAAOw4G,GAExCA,EAASjO,QAAQt2G,UAGxB4kH,GAAyBvlH,EAAMilH,GAAmBtN,IAClD6N,GAAwBxlH,EAAMilH,GAAmBrN,IAOjD6N,GAAuB,SAAU/lG,EAAQ6f,EAAS7S,EAAOg5F,GAC3D,IAAIh1E,EAAMhxB,EAAOixB,UAAUC,SACvBrsD,EAAYg7C,EAAU,GAAK,EAC/B,SAAI+e,OAT2B,SAAU/e,EAASmR,EAAKhkB,GACvD,IAAIsvC,EAAWrlB,GAAcG,eAAepG,GAC5C,OAAOkS,IAAYrjB,EAAS7S,GAAOlrB,QAAO,SAAU3nD,GAClD,OAAOA,EAAIg9F,QAAQmlB,MAMY2pD,CAA2BpmF,EAASmR,EAAKhkB,MACxEskF,GAAUzsH,EAAWm7B,EAAQgN,GAAQ6S,GAAS,GAAO7pD,MAAK,SAAUsgE,GAClEwkE,GAAY96F,EAAQs2B,OAEf,IAkBP4vE,GAAW,SAAUn0E,EAAU53F,GACjC,IAAIulB,EAAOvlB,EAAIy6F,QAAQ7C,GACvB,OAAOv/B,GAAY9yC,IAA2B,UAAlBA,EAAKgC,SAAuB2gC,EAAS5tE,KAAKirC,GAAQ2iC,EAAStB,QAuBrF+rE,GAAY,SAAU9sD,EAAQ0iG,EAAMvoK,GACtC,IAAI6yE,EAAek5F,KAAPxD,EAAsBvoK,GAC9BipD,GAAgB,IAATs/G,EACX11F,EAAM7rB,MAAK,WACT,OAAO25G,GAAY96F,EAAQ7lE,EAAI+8F,cAC9B,SAAUlqB,GACX,OAAOk2B,GAAW9/C,EAAM4c,EAAOmxB,WAAWjvG,QAAO,SAAUsoI,GACzD,OAAOA,EAAQrzB,QAAQh9F,MACtBgnD,MAAK,WACN,OAAO25G,GAAY96F,EAAQ7lE,EAAI+8F,cAC9B,SAAUjuH,GACX,OAhCY,SAAUy5L,EAAM1iG,EAAQgN,EAAO7yE,GAC/C,IAAIyiI,EAAkB7hC,GAAmB/6B,GACrC48D,EACF58D,EAAO6sC,YAAYC,UAAS,WAC1B,IAAIjhI,EAAUihF,GAAaI,QAAQ0vE,GACnC/oE,GAAOhoF,EAASovH,GAAwBj7B,IACxC7yD,GAAOthC,EAASihF,GAAaI,QAAQ,OACjCw1G,EACFnyG,GAAMzD,GAAaF,QAAQogB,GAAQnhG,GAEnCwkF,GAAOvD,GAAaF,QAAQogB,GAAQnhG,GAEtC,IAAImlH,EAAMhxB,EAAOnT,IAAIu7B,YACrB4I,EAAI/F,SAASp/G,EAAQghF,IAAK,GAC1BmkC,EAAI9F,OAAOr/G,EAAQghF,IAAK,GACxBiuG,GAAY96F,EAAQgxB,MAGtB8pE,GAAY96F,EAAQ7lE,EAAI+8F,WAcfivE,CAAYzD,EAAM1iG,EAAQgN,EAAO7yE,UAI1CisK,GAAqB,SAAUpmG,EAAQ0iG,EAAM11F,EAAOmE,GACtD,IAAI6f,EAAMhxB,EAAOixB,UAAUC,SACvB/2F,EAAM88F,GAAcG,eAAepG,GACnC7+G,EAAO6tF,EAAOmxB,UAClB,IAAKuxE,GAAQmD,GAAuB10F,EAAIh3E,GAAM,CAC5C,IAAIiuH,EA3DsB,SAAUj2I,EAAM66F,EAAO5/F,GACnD,OAAOi4L,GAA+Br4F,EAAO5/F,GAAOy0E,SAAQ,WAC1D,OAAO5oB,GAAK7rD,EAAMw1D,kBAAkBt9D,MAAK,SAAU2uH,GACjD,OAAO0jE,GAAuCQ,GAAkBhmL,EAAM8kH,GAAc5mC,OAAO2c,IAASinB,EAAK/nH,YAE1Gq1E,MAAM01C,GAAc5mC,OAAO2c,IAsDfq5F,CAAwBl0L,EAAM66F,EAAO7yE,GAElD,OADA2yH,GAAU9sD,EAAQ0iG,EAAMt6C,IACjB,EACF,GAAIs6C,GAAQoD,GAAsB30F,EAAIh3E,GAAM,CAC7CiuH,EAxDsB,SAAUj2I,EAAM66F,EAAO5/F,GACnD,OAAOk4L,GAA+Bt4F,EAAO5/F,GAAOy0E,SAAQ,WAC1D,OAAO5oB,GAAK7rD,EAAMw1D,kBAAkBt9D,MAAK,SAAU2uH,GACjD,OAAO0jE,GAAuCS,GAAkBjmL,EAAM8kH,GAAc1mC,MAAMyc,IAASinB,EAAK/nH,YAEzGq1E,MAAM01C,GAAc1mC,MAAMyc,IAmDds5F,CAAwBn0L,EAAM66F,EAAO7yE,GAElD,OADA2yH,GAAU9sD,EAAQ0iG,EAAMt6C,IACjB,EAEP,OAAO,GAGPm+C,GAAS,SAAUvmG,EAAQ6f,EAAS2mF,GACtC,OAAOnkH,EAASt8E,KAAKi6F,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU2D,UAAW,UAAUtvH,MAAK,SAAU6rG,GAC7F,OAAO9uB,EAASt8E,KAAKi6F,EAAOnT,IAAIm8B,UAAU7X,EAAI,UAAU9nG,KAAI,SAAU2jG,GACpE,OAAOw5F,EAAMxmG,EAAQ6f,EAAS7S,EAAOmE,SAEtC5vB,OAAM,IAEPklH,GAAU,SAAUzmG,EAAQ6f,GAC9B,OAAO0mF,GAAOvmG,EAAQ6f,EAASkmF,KAE7BW,GAAU,SAAU1mG,EAAQ6f,GAC9B,OAAO0mF,GAAOvmG,EAAQ6f,EAASumF,KAsF7BO,GAAU,SAAU3mG,EAAQo+B,GAC9Bp+B,EAAOr6C,GAAG,WAAW,SAAU/M,IACI,IAA7BA,EAAI29D,sBArFiB,SAAUvW,EAAQo+B,EAAOxlF,GACpD,IAAI6tC,EAAK6D,KAAW7D,GACpBw9G,GAAQ,CACN,CACEpqC,QAAS9rB,GAAGM,MACZ4hB,OAAQA,GAAO2yC,GAAO5iG,GAAQ,IAEhC,CACE65D,QAAS9rB,GAAGK,KACZ6hB,OAAQA,GAAO2yC,GAAO5iG,GAAQ,IAEhC,CACE65D,QAAS9rB,GAAGS,GACZyhB,OAAQA,GAAO6yC,GAAO9iG,GAAQ,IAEhC,CACE65D,QAAS9rB,GAAGG,KACZ+hB,OAAQA,GAAO6yC,GAAO9iG,GAAQ,IAEhC,CACE65D,QAAS9rB,GAAGM,MACZ4hB,OAAQA,GAAOw2C,GAASzmG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGK,KACZ6hB,OAAQA,GAAOw2C,GAASzmG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGS,GACZyhB,OAAQA,GAAOy2C,GAAS1mG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGG,KACZ+hB,OAAQA,GAAOy2C,GAAS1mG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGM,MACZ4hB,OAAQA,GAAOi0C,GAASlkG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGK,KACZ6hB,OAAQA,GAAOi0C,GAASlkG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGS,GACZyhB,OAAQA,GAAOk0C,GAASnkG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGG,KACZ+hB,OAAQA,GAAOk0C,GAASnkG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGM,MACZ4hB,OAAQA,GAAOusC,GAAMx8F,EAAQo+B,GAAO,IAEtC,CACEy7B,QAAS9rB,GAAGK,KACZ6hB,OAAQA,GAAOusC,GAAMx8F,EAAQo+B,GAAO,IAEtC,CACEy7B,QAAS9rB,GAAGM,MACZzmI,SAAU6+E,EAAGqC,QACbgmD,OAAQroD,EAAGqC,QACXmnE,OAAQA,GAAOotC,GAAcr9F,EAAQo+B,IAEvC,CACEy7B,QAAS9rB,GAAGK,KACZxmI,SAAU6+E,EAAGqC,QACbgmD,OAAQroD,EAAGqC,QACXmnE,OAAQA,GAAOqtC,GAAct9F,EAAQo+B,IAEvC,CACEy7B,QAAS9rB,GAAGS,GACZyhB,OAAQA,GAAO2zC,GAAS5jG,GAAQ,IAElC,CACE65D,QAAS9rB,GAAGG,KACZ+hB,OAAQA,GAAO2zC,GAAS5jG,GAAQ,KAEjCpnD,GAAKod,MAAK,SAAU/sD,GACrB2vC,EAAI1wC,oBAMF0+L,CAAuB5mG,EAAQo+B,EAAOxlF,OAmGxCiuJ,GAAU,SAAU7mG,EAAQo+B,GAC9Bp+B,EAAOr6C,GAAG,WAAW,SAAU/M,IACI,IAA7BA,EAAI29D,sBAhGmB,SAAUvW,EAAQo+B,EAAOxlF,GACtDqrJ,GAAQ,CACN,CACEpqC,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAOswC,GAAmBvgG,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAO4jC,GAAmB7zF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAO4jC,GAAmB7zF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAOkiC,GAAmBnyF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAOkiC,GAAmBnyF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAOkuC,GAAmBn+F,EAAQo+B,GAAO,IAEnD,CACEy7B,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAOkuC,GAAmBn+F,EAAQo+B,GAAO,IAEnD,CACEy7B,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAOoB,GAAiBrxD,GAAQ,IAE1C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAOoB,GAAiBrxD,GAAQ,IAE1C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAO6jC,GAAmB9zF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAO6jC,GAAmB9zF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAOgvC,GAAmBj/F,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAOgvC,GAAmBj/F,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAOihC,GAAmBlxF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAOihC,GAAmBlxF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAOugC,GAAmBxwF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAOugC,GAAmBxwF,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAO8uC,GAAmB/+F,GAAQ,IAE5C,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAO8uC,GAAmB/+F,GAAQ,KAE3CpnD,GAAKod,MAAK,SAAU/sD,GACrB2vC,EAAI1wC,oBAkBF4+L,CAAyB9mG,EAAQo+B,EAAOxlF,MAG5ConD,EAAOr6C,GAAG,SAAS,SAAU/M,IACM,IAA7BA,EAAI29D,sBAnBe,SAAUvW,EAAQpnD,GAC3CqrJ,GAAQ,CACN,CACEpqC,QAAS9rB,GAAGC,UACZiiB,OAAQA,GAAO2jC,GAAkB5zF,IAEnC,CACE65D,QAAS9rB,GAAGE,OACZgiB,OAAQA,GAAO2jC,GAAkB5zF,KAElCpnD,GAUCmuJ,CAAqB/mG,EAAQpnD,OAa/BouJ,GAAsB,SAAUhnG,EAAQ7tF,GAC1C,IAAIutC,EAAMgwG,EAAWv9I,EACjB06E,EAAMmT,EAAOnT,IACbohB,EAAoCjO,EAAO0M,OAAO8F,oCACtD,GAAKrgG,EAAL,CAGA,GAAI,eAAenI,KAAKmI,EAAKuvC,UAAW,CACtC,IAAIguC,EAhB4B,SAAUhwC,GAC5C,KAAOA,GAAM,CACX,GAAsB,IAAlBA,EAAK2E,UAAoC,IAAlB3E,EAAK2E,UAAkB3E,EAAKzuB,MAAQ,WAAWjnB,KAAK01C,EAAKzuB,MAClF,OAAOyuB,EAETA,EAAOA,EAAKrtC,aAWK40L,CAA8B90L,EAAKu9E,YAChDA,GAAc,eAAe1lF,KAAK0lF,EAAWhuC,WAC/CvvC,EAAKG,aAAau6E,EAAIxzB,IAAI+zB,eAAe6W,IAAO9xF,EAAKu9E,YAGzD,IAAIshC,EAAMnkC,EAAIu7B,YAEd,GADAj2G,EAAK+e,YACD/e,EAAK86E,gBAAiB,CAExB,IADA,IAAIma,EAAS,IAAI1E,GAAcvwF,EAAMA,GAC9ButC,EAAO0nD,EAAO7gB,WAAW,CAC9B,GAAI0M,GAASvzC,GAAO,CAClBsxE,EAAI/F,SAASvrE,EAAM,GACnBsxE,EAAI9F,OAAOxrE,EAAM,GACjB,MAEF,GAAIuuD,EAAkCvuD,EAAKgC,SAASl4C,eAAgB,CAClEwnH,EAAIkP,eAAexgF,GACnBsxE,EAAImP,aAAazgF,GACjB,MAEFgwG,EAAWhwG,EACXA,EAAO0nD,EAAO3mF,OAEXi/B,IACHsxE,EAAI/F,SAASykC,EAAU,GACvB1+B,EAAI9F,OAAOwkC,EAAU,SAGnBr8D,GAAKlhF,GACHA,EAAKE,aAAew6E,EAAI2W,QAAQrxF,EAAKE,cACvC2+G,EAAIkP,eAAe/tH,GACnB6+G,EAAImP,aAAahuH,KAEjB6+G,EAAIoP,cAAcjuH,GAClB6+G,EAAIwF,YAAYrkH,KAGlB6+G,EAAI/F,SAAS94G,EAAM,GACnB6+G,EAAI9F,OAAO/4G,EAAM,IAGrB6tF,EAAOixB,UAAUiU,OAAOlU,GACxB0nB,GAAoB14C,EAAQgxB,KAc1Bk2E,GAAmB,SAAUlnG,GAC/B,OAAO3d,EAASt8E,KAAKi6F,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU0hB,UAAS,GAAO3yC,EAAOnT,IAAI2W,WAoBpF2jG,GAAc,SAAUryG,EAAKmqE,GAC/B,OAAOnqE,GAAOA,EAAItiF,YAAcsiF,EAAItiF,WAAWkvC,WAAau9G,GAE1DmoC,GAAc,SAAUtyG,GAC1B,OAAOA,GAAO,eAAe9qF,KAAK8qF,EAAIpzC,WAKpC2lJ,GAAoB,SAAUC,GAChC,IAAIC,EAAuBD,EAAe90L,WAC1C,MAAI,eAAexI,KAAKu9L,EAAqB7lJ,UACpC6lJ,EAEFD,GAELE,GAAkB,SAAUF,EAAgBt6C,EAAa5yH,GAE3D,IADA,IAAIslB,EAAO4nJ,EAAeltK,EAAQ,aAAe,aAC1CslB,IACD8yC,GAAY9yC,IAGhBA,EAAOA,EAAKtlB,EAAQ,cAAgB,mBAEtC,OAAOslB,IAASstG,GAEd7O,GAAS,SAAUn+C,EAAQynG,EAAgBH,EAAgBt6C,EAAa06C,GAC1E,IAAI76G,EAAMmT,EAAOnT,IACbmkC,EAAMhxB,EAAOixB,UAAUC,SAC3B,GAAIo2E,IAAmBtnG,EAAOmxB,UAA9B,CAvBiB,IAAUr8B,EACpBsyG,GADoBtyG,EA0BVwyG,IAzBUF,GAAYtyG,EAAItiF,cA0BzCk1L,EAAe,MAEjB,IAAItF,EAAWsF,EAAeD,EAAeC,GAAgB76G,EAAIxnF,OAAO,MACxE,GAAImiM,GAAgBF,EAAgBt6C,GAAa,IAASw6C,GAAgBF,EAAgBt6C,GAAa,GACrG,GAAIm6C,GAAYG,EAAgB,MAAO,CACrC,IAAIC,EAAuBF,GAAkBC,GAC7Cz6G,EAAIu9B,YAAYg4E,EAAUmF,IA3Cb,SAAUzyG,GAC3B,IAAIu9B,EACJ,OAAkC,QAAzBA,EAAKv9B,EAAItiF,kBAA+B,IAAP6/G,OAAgB,EAASA,EAAG3iC,cAAgBoF,EA0C9E6yG,CAAaL,GAGfz6G,EAAIt6E,OAAO+0L,GAFXz6G,EAAIt6E,OAAOg1L,QAKb16G,EAAI9kF,QAAQq6L,EAAUkF,QAEnB,GAAIE,GAAgBF,EAAgBt6C,GAAa,GAClDm6C,GAAYG,EAAgB,OAC9Bz6G,EAAIu9B,YAAYg4E,EAAUiF,GAAkBC,IAC5ClF,EAASlwL,YAAY26E,EAAIxzB,IAAI+zB,eAAe,MAC5Cg1G,EAASlwL,YAAYo1L,IAErBA,EAAe90L,WAAWF,aAAa8vL,EAAUkF,GAEnDz6G,EAAIt6E,OAAOy6I,QACN,GAAIw6C,GAAgBF,EAAgBt6C,GAAa,GACtDngE,EAAIu9B,YAAYg4E,EAAUiF,GAAkBC,IAC5Cz6G,EAAIt6E,OAAOy6I,OACN,CACLs6C,EAAiBD,GAAkBC,GACnC,IAAIM,EAAS52E,EAAIuF,aACjBqxE,EAAOxnE,cAAc4sB,GACrB46C,EAAOpxE,YAAY8wE,GACnB,IAAI/yJ,EAAWqzJ,EAAOz8E,kBACD,OAAjBu8E,GAzEY,SAAU5yG,EAAK19E,GACjC,OAAO09E,EAAIpF,YAAcoF,EAAIpF,WAAWhuC,WAAatqC,EAwEtBywL,CAActzJ,EAAU,OACnD6tJ,EAAW7tJ,EAASm7C,WACpB7C,EAAIu9B,YAAY71E,EAAU+yJ,KAE1Bz6G,EAAIu9B,YAAY71E,EAAU+yJ,GAC1Bz6G,EAAIu9B,YAAYg4E,EAAUkF,IAE5Bz6G,EAAIt6E,OAAOy6I,GAEbg6C,GAAoBhnG,EAAQoiG,KAS1B0F,GAAgB,SAAUj7G,EAAKiI,GACjC,OAAOA,GAAwB,MAAjBA,EAAIpzC,UAAoBmrC,EAAIma,QAAQlS,IAKhDizG,GAAa,SAAUjzG,GACzBA,EAAItuF,UAAY,2BAEdwhM,GAA0B,SAAU/5L,EAAWyzC,GACjD,OAAOzzC,EAAUyzC,WAAaA,GAAYzzC,EAAUqhF,iBAAmBrhF,EAAUqhF,gBAAgB5tC,WAAaA,GAE5GumJ,GAAgB,SAAUp7G,EAAKntC,GACjC,OAAOA,GAAQmtC,EAAI2W,QAAQ9jD,KAAU,yBAAyB11C,KAAK01C,EAAKgC,YAAc,qBAAqB13C,KAAK01C,EAAKpzC,MAAMoB,WAA8C,SAAjCm/E,EAAI07B,mBAAmB7oE,IA6B7JwoJ,GAAsB,SAAU96L,EAAOa,EAAWmQ,GACpD,OAA4B,IAAxB60E,GAAShlF,GACJmQ,EACEhR,EACS,IAAXgR,GAAgBnQ,EAAUgjB,KAAKla,OAAOqH,EAAS,KAAO8lF,GAAO,EAAI9lF,EAEjEA,IAAWnQ,EAAUgjB,KAAKjqB,OAAS,GAAKiH,EAAUgjB,KAAKla,OAAOqH,KAAY8lF,GAAOj2F,EAAUgjB,KAAKjqB,OAASoX,GAiBhH+pL,GAAoB,SAAUt7G,EAAKntC,GACrC,IACI+iB,EAAQ2lI,EADRj2L,EAAO06E,EAAI25B,UAGf,IADA/jD,EAAS/iB,EACF+iB,IAAWtwD,GAA2C,UAAnC06E,EAAI07B,mBAAmB9lD,IACR,SAAnCoqB,EAAI07B,mBAAmB9lD,KACzB2lI,EAAe3lI,GAEjBA,EAASA,EAAOjwD,WAElB,OAAOiwD,IAAWtwD,EAAOi2L,EAAej2L,GAiCtCk2L,GAAsB,SAAUroG,EAAQtgD,GAC1C,IAAIy2G,EAAsBp7B,GAAmB/6B,GACzCm2D,GAAuBA,EAAoB3sJ,gBAAkBk2C,EAAK0F,QAAQ57C,eAjC1D,SAAUw2F,EAAQtgD,EAAM4oJ,GAC5C,IAAIz7G,EAAMmT,EAAOnT,IACjBxK,EAASt8E,KAAKuiM,EAAqBh8L,OAAOjD,IAAIwjF,EAAI68B,YAAY1zD,MAAK,SAAUuyI,GAC3E,IAAIC,EAAgBh0G,GAAU1H,GAAaF,QAAQltC,IAC/C+oJ,EAAYzjH,GAASA,GAAS,GAAIwjH,GAAgBD,GACtD17G,EAAIy8B,UAAU5pE,EAAM+oJ,MAEtB,IAAIC,EAAiBrmH,EAASt8E,KAAKuiM,EAAqB7kF,OAAOp6G,KAAI,SAAUs/L,GAC3E,OAAOA,EAAYrhM,MAAM,UAEvBshM,EAAoBvmH,EAASt8E,KAAK25C,EAAK9yC,WAAWvD,KAAI,SAAUw/L,GAClE,OAAO3mL,EAAO2mL,EAAevhM,MAAM,QAAQ,SAAU2oH,GACnD,MAAiB,KAAVA,QAGX4D,GAAM60E,EAAgBE,GAAmB,SAAUD,EAAaE,GAC9D,IAAIC,EAAkB5mL,EAAO2mL,GAAgB,SAAU54E,GACrD,OAAQj+G,EAAS22L,EAAa14E,MAE5B84E,EAAa9jH,GAAe0jH,EAAaG,GAC7Cj8G,EAAIg6B,UAAUnnE,EAAM,QAASqpJ,EAAW3+L,KAAK,SAE/C,IAAI4+L,EAAe,CACjB,QACA,SAEEC,EAAiBllH,GAASukH,GAAsB,SAAUr/L,EAAG6qF,GAC/D,OAAQ9hF,EAASg3L,EAAcl1G,MAEjCjH,EAAI66B,WAAWhoE,EAAMupJ,GAMnBC,CAAgBlpG,EAAQtgD,EADGu7E,GAAwBj7B,KAuDnDmpG,GAAW,SAAUnpG,EAAQpnD,GAC/B,IAAIgvJ,EAAQ35L,EAAWmQ,EAAQ4uI,EAC3Bo1C,EAAU7tJ,EAAU+yJ,EAAgB8B,EAAiB1B,EAAc2B,EACnEx8G,EAAMmT,EAAOnT,IACb6f,EAAS1M,EAAO0M,OAAQsB,EAAsBtB,EAAO6F,sBACrDye,EAAMhxB,EAAOixB,UAAUC,SACvBu2E,EAAiB,SAAUrwL,GAC7B,IAAsB4jH,EAAOsuE,EAAY3U,EAArCj1I,EAAOzxC,EACPumJ,EAAqB9nD,EAAO0F,wBAOhC,GADAuiF,EAJE35D,EADE5jH,GAA4B,UAApBgyL,GAAmD,OAApBA,EACjCv8G,EAAIxnF,OAAO+R,GAAQswL,GAEnB16C,EAAY5nF,WAAU,IAGC,IAnndd,SAAU46B,GAC/B,OAAOA,EAAO46B,SAAS,eAAe,GAkndhC2uE,CAAiBvpG,GACnBnT,EAAIg6B,UAAUmU,EAAO,QAAS,MAC9BnuC,EAAIg6B,UAAUmU,EAAO,QAAS,WAE9B,GACE,GAAIw5B,EAAmB90G,EAAKgC,UAAW,CACrC,GAAI+hF,GAAY/jF,IAASylF,GAAiBzlF,GACxC,SAEF4pJ,EAAa5pJ,EAAK0lB,WAAU,GAC5BynB,EAAIg6B,UAAUyiF,EAAY,KAAM,IAC5BtuE,EAAM/tC,iBACRq8G,EAAWp3L,YAAY8oH,EAAMtrC,YAC7BsrC,EAAM9oH,YAAYo3L,KAElB3U,EAAY2U,EACZtuE,EAAM9oH,YAAYo3L,YAGd5pJ,EAAOA,EAAKltC,aAAektC,IAAS0oJ,GAIhD,OAFAC,GAAoBroG,EAAQg7B,GAC5B+sE,GAAWpT,GACJ35D,GAELwuE,EAA6B,SAAUp8L,GACzC,IAAIsyC,EAAMtoC,EACNqyL,EAAmBvB,GAAoB96L,EAAOa,EAAWmQ,GAC7D,GAAI60E,GAAShlF,KAAeb,EAAQq8L,EAAmB,EAAIA,EAAmBx7L,EAAUoxG,UAAUr4G,QAChG,OAAO,EAET,GAAIiH,EAAUuE,aAAew6I,GAAeq8C,IAA+Bj8L,EACzE,OAAO,EAET,GAAIA,GAASolF,GAAYvkF,IAAcA,IAAc++I,EAAYt9D,WAC/D,OAAO,EAET,GAAIs4G,GAAwB/5L,EAAW,UAAY+5L,GAAwB/5L,EAAW,MACpF,OAAOo7L,IAA+Bj8L,IAAUi8L,GAA8Bj8L,EAEhF,IAAIg6F,EAAS,IAAI1E,GAAcz0F,EAAW++I,GAQ1C,IAPI/5D,GAAShlF,KACPb,GAA8B,IAArBq8L,EACXriG,EAAOvE,OACGz1F,GAASq8L,IAAqBx7L,EAAUoxG,UAAUr4G,QAC5DogG,EAAO3mF,QAGJi/B,EAAO0nD,EAAO7gB,WAAW,CAC9B,GAAIiM,GAAY9yC,IACd,IAAKA,EAAK/4C,aAAa,oBACrByQ,EAAOsoC,EAAKgC,SAASl4C,cACjBwkG,EAAoB52F,IAAkB,OAATA,GAC/B,OAAO,OAGN,GAAI67E,GAASvzC,KAAU6mD,GAAiB7mD,EAAK2/D,WAClD,OAAO,EAELjyG,EACFg6F,EAAOvE,OAEPuE,EAAO3mF,OAGX,OAAO,GAELipL,EAAsB,WAEtBtH,EADE,wBAAwBp4L,KAAKo/L,IAA2C,WAAvBO,EACxClC,EAAeC,GAEfD,IAvrdoB,SAAUznG,GAC7C,OAAOA,EAAO46B,SAAS,gCAAgC,GAwrdjDgvE,CAA+B5pG,IAAWioG,GAAcp7G,EAAKy6G,IAAmBz6G,EAAIma,QAAQgmD,GAC9Fo1C,EAAWv1G,EAAIvlF,MAAMggM,EAAgBt6C,GAErCngE,EAAIu9B,YAAYg4E,EAAUp1C,GAE5Bg6C,GAAoBhnG,EAAQoiG,IAE9BlxK,GAAU27D,EAAKmkC,GAAKh7D,MAAK,SAAUi/E,GACjCjkB,EAAI/F,SAASgqB,EAAQ1pB,eAAgB0pB,EAAQzpB,aAC7CwF,EAAI9F,OAAO+pB,EAAQxpB,aAAcwpB,EAAQvpB,cAE3Cz9G,EAAY+iH,EAAIzF,eAChBntG,EAAS4yG,EAAIxF,YACbk8E,EAAe3sE,GAAmB/6B,GAClC,IAAIr4F,KAAcixC,IAAOA,EAAIjxC,UACzBC,KAAagxC,IAAOA,EAAIhxC,SACxB4qF,GAAYvkF,IAAcA,EAAUg/E,kBACtCo8G,EAA6BjrL,EAASnQ,EAAUinD,WAAWluD,OAAS,EACpEiH,EAAYA,EAAUinD,WAAWtsD,KAAKN,IAAI8V,EAAQnQ,EAAUinD,WAAWluD,OAAS,KAAOiH,EAErFmQ,EADEirL,GAA8Bp2G,GAAShlF,GAChCA,EAAUoxG,UAAUr4G,OAEpB,GAGb,IAAIohM,EAAeD,GAAkBt7G,EAAK5+E,GAC1C,GAAKm6L,EAAL,EAGIV,IAAiB//L,IAAa+/L,GAAgB//L,KAChDsG,EAzKoC,SAAU+xF,EAAQ0nG,EAAc12E,EAAK/iH,EAAWmQ,GACtF,IAAIgkL,EAAUp1C,EAAarqD,EAAWjjD,EAAMj/B,EAAMi0J,EAC9C1vE,EAAY0iG,GAAgB,IAC5B76G,EAAMmT,EAAOnT,IAAKu7G,EAAeD,GAAkBt7G,EAAK5+E,GAE5D,KADA++I,EAAcngE,EAAIm8B,UAAU/6G,EAAW4+E,EAAI2W,YACtBykG,GAAcp7G,EAAKmgE,GAAc,CAOpD,GAJE0nB,GAFF1nB,EAAcA,GAAeo7C,KACTpoG,EAAOmxB,WAvHX,SAAUzxE,GAC5B,OAAOA,GAAQ,oBAAoB11C,KAAK01C,EAAKgC,UAsHHmoJ,CAAc78C,GACpCA,EAAYtrG,SAASl4C,cAErBwjJ,EAAYx6I,WAAWkvC,SAASl4C,eAE7CwjJ,EAAY//D,gBAMf,OALAm1G,EAAWv1G,EAAIxnF,OAAO2/F,GACtBqjG,GAAoBroG,EAAQoiG,GAC5Bp1C,EAAY96I,YAAYkwL,GACxBpxE,EAAI/F,SAASm3E,EAAU,GACvBpxE,EAAI9F,OAAOk3E,EAAU,GACdA,EAGT,IADA1iJ,EAAOzxC,EACAyxC,EAAKltC,aAAew6I,GACzBttG,EAAOA,EAAKltC,WAEd,KAAOktC,IAASmtC,EAAI2W,QAAQ9jD,IAC1BijD,EAAYjjD,EACZA,EAAOA,EAAK4vC,gBAEd,GAAIqT,GAAa3C,EAAO0M,OAAOiG,aAAa+hE,EAAe1vE,EAAUx7F,eAAgB,CAKnF,IAJA44L,EAAWv1G,EAAIxnF,OAAO2/F,GACtBqjG,GAAoBroG,EAAQoiG,GAC5Bz/F,EAAUnwF,WAAWF,aAAa8vL,EAAUz/F,GAC5CjjD,EAAOijD,EACAjjD,IAASmtC,EAAI2W,QAAQ9jD,IAC1Bj/B,EAAOi/B,EAAKrtC,YACZ+vL,EAASlwL,YAAYwtC,GACrBA,EAAOj/B,EAETuwG,EAAI/F,SAASh9G,EAAWmQ,GACxB4yG,EAAI9F,OAAOj9G,EAAWmQ,IAG1B,OAAOnQ,EA+HO67L,CAAkC9pG,EAAQ0nG,EAAc12E,EAAK/iH,EAAWmQ,IAEtF4uI,EAAcngE,EAAIm8B,UAAU/6G,EAAW4+E,EAAI2W,SAC3C8jG,EAAiBt6C,EAAcngE,EAAIm8B,UAAUgkC,EAAYx6I,WAAYq6E,EAAI2W,SAAW,KACpF4lG,EAAkBp8C,EAAcA,EAAYtrG,SAASh3C,cAAgB,GACrE,IAAIi/L,EAAqBrC,EAAiBA,EAAe5lJ,SAASh3C,cAAgB,GACvD,OAAvBi/L,GAAgC/hM,IAClColJ,EAAcs6C,EACdA,EAAiBA,EAAe90L,WAChC42L,EAAkBO,GAEhB,eAAe3/L,KAAKo/L,IAClBv8G,EAAIma,QAAQgmD,GACd7O,GAAOn+C,EAAQynG,EAAgBH,EAAgBt6C,EAAa06C,GAI5DA,GAAgB16C,IAAgBhtD,EAAOmxB,YAG3Cu2E,EAAeA,GAAgB,IAC3BnjG,GAAsByoD,IACxBo1C,EAAW/8F,GAAwB2nD,GAC/BngE,EAAIma,QAAQgmD,IACd+6C,GAAW/6C,GAEbq7C,GAAoBroG,EAAQoiG,GAC5B4E,GAAoBhnG,EAAQoiG,IACnBoH,IACTE,IACSF,GAA2B,IACpCpH,EAAWp1C,EAAYx6I,WAAWF,aAAam1L,IAAkBz6C,GACjEg6C,GAAoBhnG,EAAQgoG,GAAwBh7C,EAAa,MAAQo1C,EAAWp1C,MAEpF46C,EA3QqB,SAAU52E,GACjC,IAAIsF,EAAStF,EAAIuF,aAGjB,OAFAD,EAAOrL,SAAS+F,EAAIzF,eAAgB28E,IAAoB,EAAMl3E,EAAIzF,eAAgByF,EAAIxF,cACtF8K,EAAOpL,OAAO8F,EAAIvF,aAAcy8E,IAAoB,EAAOl3E,EAAIvF,aAAcuF,EAAItF,YAC1E4K,EAuQIyzE,CAAmB/4E,GAAKuF,cAC1BC,YAAYw2B,GArUR,SAAUz4G,GACvByhB,EAAKy6D,GAAY3jC,GAAaF,QAAQr4C,GAAWs6C,KAAS,SAAU50B,GAClE,IAAIutF,EAAUvtF,EAAK4yB,IACnB26D,EAAQnoC,UAAYjb,GAAOojD,EAAQnoC,cAoUnC2qF,CADAz1J,EAAWqzJ,EAAOz8E,mBAvQM,SAAUzrE,GACpC,GACMuzC,GAASvzC,KACXA,EAAK2/D,UAAY3/D,EAAK2/D,UAAUt3G,QAAQ,WAAY,KAEtD23C,EAAOA,EAAKgwC,iBACLhwC,GAmQPuqJ,CAAsB11J,GACtB6tJ,EAAW7tJ,EAASm7C,WACpB7C,EAAIu9B,YAAY71E,EAAUy4G,GArTY,SAAUngE,EAAKmhB,EAAqBgtB,GAC5E,IAEI12H,EAFAo7C,EAAOs7E,EACPkvE,EAAc,GAElB,GAAKxqJ,EAAL,CAGA,KAAOA,EAAOA,EAAKgwC,YAAY,CAC7B,GAAI7C,EAAI2W,QAAQ9jD,GACd,OAEE8yC,GAAY9yC,KAAUsuD,EAAoBtuD,EAAKgC,SAASl4C,gBAC1D0gM,EAAYpjM,KAAK44C,GAIrB,IADAp7C,EAAI4lM,EAAYljM,OACT1C,QACLo7C,EAAOwqJ,EAAY5lM,IACT2oF,iBAAmBvtC,EAAKgwC,aAAehwC,EAAKiwC,WAA2C,KAA9BjwC,EAAKgwC,WAAW2vB,WAG7EyoF,GAAcj7G,EAAKntC,KAFvBmtC,EAAIt6E,OAAOmtC,IAmSbyqJ,CAAoCt9G,EAAKmhB,EAAqBo0F,GAtKvC,SAAUv1G,EAAKmuC,GACxCA,EAAM9pG,YACN,IAAIy+D,EAAYqrC,EAAMrrC,UACjBA,IAAa,mBAAmB3lF,KAAK6iF,EAAIs6B,SAASx3B,EAAW,SAAS,KACzE9C,EAAI96E,IAAIipH,EAAO,MAmKfovE,CAAqBv9G,EAAKmgE,GACtBngE,EAAIma,QAAQgmD,IACd+6C,GAAW/6C,GAEbo1C,EAASlxK,YACL27D,EAAIma,QAAQo7F,IACdv1G,EAAIt6E,OAAO6vL,GACXsH,MAEArB,GAAoBroG,EAAQoiG,GAC5B4E,GAAoBhnG,EAAQoiG,KAGhCv1G,EAAIg6B,UAAUu7E,EAAU,KAAM,IAC9BpiG,EAAOn0B,KAAK,WAAY,CAAEu2H,SAAUA,OAalCiI,GAAoB,SAAUrqG,EAAQsqG,EAAOC,GAC/C,IAAIv5E,EAAMhxB,EAAOnT,IAAIu7B,YAChBmiF,GAIHv5E,EAAIkP,eAAeoqE,GACnBt5E,EAAImP,aAAamqE,KAJjBt5E,EAAIoP,cAAckqE,GAClBt5E,EAAIwF,YAAY8zE,IAKlBtqG,EAAOixB,UAAUiU,OAAOlU,GACxB0nB,GAAoB14C,EAAQgxB,IAE1Bw5E,GAAkB,SAAUxqG,EAAQpnD,GACtC,IAGI0xJ,EACAC,EAJAt5E,EAAYjxB,EAAOixB,UACnBpkC,EAAMmT,EAAOnT,IACbmkC,EAAMC,EAAUC,SAGpBhgG,GAAU27D,EAAKmkC,GAAKh7D,MAAK,SAAUi/E,GACjCjkB,EAAI/F,SAASgqB,EAAQ1pB,eAAgB0pB,EAAQzpB,aAC7CwF,EAAI9F,OAAO+pB,EAAQxpB,aAAcwpB,EAAQvpB,cAE3C,IAAIttG,EAAS4yG,EAAIxF,YACbv9G,EAAY+iH,EAAIzF,eACpB,GAA2B,IAAvBt9G,EAAUo2C,UAAkBp2C,EAAUg/E,gBAAiB,CACzD,IAAIo8G,EAA6BjrL,EAASnQ,EAAUinD,WAAWluD,OAAS,EACxEiH,EAAYA,EAAUinD,WAAWtsD,KAAKN,IAAI8V,EAAQnQ,EAAUinD,WAAWluD,OAAS,KAAOiH,EAErFmQ,EADEirL,GAAqD,IAAvBp7L,EAAUo2C,SACjCp2C,EAAUoxG,UAAUr4G,OAEpB,EAGb,IAAIgmJ,EAAcngE,EAAIm8B,UAAU/6G,EAAW4+E,EAAI2W,SAC3C8jG,EAAiBt6C,EAAcngE,EAAIm8B,UAAUgkC,EAAYx6I,WAAYq6E,EAAI2W,SAAW,KACpFmmG,EAAqBrC,EAAiBA,EAAe5lJ,SAASh3C,cAAgB,GAC9E+/L,KAAkB7xJ,IAAOA,EAAIhxC,SACN,OAAvB+hM,GAAgCc,IAClCz9C,EAAcs6C,GAEZr5L,GAAoC,IAAvBA,EAAUo2C,UAAkBjmC,GAAUnQ,EAAUoxG,UAAUr4G,SAlDnD,SAAU0lG,EAAQz+F,EAAW++I,GAIrD,IAHA,IACIttG,EADA0nD,EAAS,IAAI1E,GAAcz0F,EAAW++I,GAEtCh/C,EAAsBtB,EAAO6F,sBAC1B7yD,EAAO0nD,EAAO3mF,QACnB,GAAIutF,EAAoBtuD,EAAKgC,SAASl4C,gBAAkBk2C,EAAK14C,OAAS,EACpE,OAAO,EA6CJ0jM,CAAoB1qG,EAAO0M,OAAQz+F,EAAW++I,KACjDs9C,EAAQz9G,EAAIxnF,OAAO,MACnB2rH,EAAI6G,WAAWyyE,GACft5E,EAAIoP,cAAckqE,GAClBt5E,EAAIwF,YAAY8zE,GAChBC,GAAU,IAGdD,EAAQz9G,EAAIxnF,OAAO,MACnBuyH,GAAgB/qC,EAAKmkC,EAAKs5E,GAC1BD,GAAkBrqG,EAAQsqG,EAAOC,GACjCvqG,EAAO6sC,YAAY96H,OAEjB44L,GAAiB,SAAU3qG,EAAQvuF,GACrC,IAAIwzF,EAAKnY,GAAaI,QAAQ,MAC9BmD,GAAOvD,GAAaF,QAAQn7E,GAASwzF,GACrCjF,EAAO6sC,YAAY96H,OAEjB64L,GAAgB,SAAU5qG,EAAQvuF,GAC/Bo5L,GAAW7qG,EAAOmxB,UAAW1/G,IAChC8+E,GAAMzD,GAAaF,QAAQn7E,GAASq7E,GAAaI,QAAQ,OAE3D,IAAI+X,EAAKnY,GAAaI,QAAQ,MAC9BqD,GAAMzD,GAAaF,QAAQn7E,GAASwzF,GACpColG,GAAkBrqG,EAAQiF,EAAGpY,KAAK,GAClCmT,EAAO6sC,YAAY96H,OAKjB84L,GAAa,SAAUjoG,EAAUD,GACnC,OAJ2BxoE,EAIV88F,GAAc1mC,MAAMoS,KAH9BtP,GAAKl5D,EAAIy6F,YAMPwO,GAAaxgC,EAAUq0B,GAAc1mC,MAAMoS,IAAYt5F,KAAI,SAAU8wB,GAC1E,OAAOk5D,GAAKl5D,EAAIy6F,cACfrzC,OAAM,GATM,IAAUpnD,GAYzB2wK,GAAe,SAAUh2G,GAC3B,OAAOA,GAAwB,MAAjBA,EAAIpzC,UAAoB,SAAUozC,GAE9Ci2G,GAAiB,SAAU1qF,GAC7B,OAAOA,EAASl/B,KAAKN,EAAOiqH,GAAcA,GAAcjqH,IAOtDmqH,GAAwB,SAAUhrG,EAAQqgB,GAC5CA,EAASl/B,KAAKnB,EAAMM,EAAMqqH,GAAgB3qG,GAAS1f,EAAMsqH,GAAe5qG,GAAShgB,IAE/EirH,GAAW,SAAUjrG,EAAQpnD,GAC/B,IAAIsyJ,EATyB,SAAUlrG,GACvC,IAAIy8F,EAAmBn8G,EAAMwtG,GAAgB9tF,GACzCtyF,EAAWupH,GAAcG,eAAep3B,EAAOixB,UAAUC,UAC7D,OAAOqkE,GAAakH,EAAkBz8F,EAAOmxB,UAAWzjH,GAAUwU,OAAO6oL,IAMpDI,CAAyBnrG,GAC1CkrG,EAAe5pH,SACjB4pH,EAAel1I,KAAKsqB,EAAM0qH,GAAuBhrG,IAEjDwqG,GAAgBxqG,EAAQpnD,IAIxBimE,GAAkB,SAAU7e,EAAQt9B,GACtC,OAAOwkI,GAAiBlnG,GAAQ99E,QAAO,SAAU8qI,GAC/C,OAAOtqF,EAAS17D,OAAS,GAAK2mF,GAAKb,GAAaF,QAAQogE,GAActqF,MACrE4e,UASD8pH,GAAgB5uG,GAAa,CAC/B,CAAEyI,GAAI,IACN,CAAE+1B,MAAO,IACT,CAAEj6C,KAAM,MAENsqH,GAAuB,SAAUrrG,EAAQsrG,GAC3C,OAVuB,SAAUtrG,GACjC,OAAO6e,GAAgB7e,EAl5dE,SAAUA,GACnC,OAAOA,EAAO46B,SAAS,sBAAuB,IAi5df2wE,CAAqBvrG,IAS7CwrG,CAAmBxrG,IAExByrG,GAAW,SAAUC,GACvB,OAAO,SAAU1rG,EAAQsrG,GAEvB,MAD4C,KAA/BvwE,GAAmB/6B,KACd0rG,IAGlBC,GAAc,SAAUD,GAC1B,OAAO,SAAU1rG,EAAQsrG,GACvB,OArkBwB,SAAUtrG,GACpC,OAAOknG,GAAiBlnG,GAAQ99E,QAAO,SAAU4yE,GAC/C,OAAO+O,GAAW/W,GAAaF,QAAQkI,OACtCxT,SAkkBMsqH,CAAsB5rG,KAAY0rG,IAGzCG,GAAU,SAAU7mG,EAAW0mG,GACjC,OAAO,SAAU1rG,EAAQsrG,GAEvB,OAhlBqB,SAAUtrG,GACjC,OAAOknG,GAAiBlnG,GAAQ7e,KAAKf,EAAS,KAAK,SAAU4sE,GAC3D,OAAOA,EAAYtrG,SAASh3C,iBA6kBhBohM,CAAmB9rG,KAAYgF,EAAUt6F,gBACpCghM,IAGjBK,GAAa,SAAUL,GACzB,OAAOG,GAAQ,MAAOH,IAKpBM,GAAqB,SAAUN,GACjC,OAAO,SAAU1rG,EAAQsrG,GACvB,OA58dmB,SAAUtrG,GAC/B,OAAOA,EAAO46B,SAAS,aAAa,GA28d3BqxE,CAAiBjsG,KAAY0rG,IAGpCQ,GAAc,SAAUlsG,EAAQsrG,GAClC,OA5CmB,SAAUtrG,GAC7B,OAAO6e,GAAgB7e,EAl5dE,SAAUA,GACnC,OAAOA,EAAO46B,SAAS,sBAAuB,kCAi5dfuxE,CAAqBnsG,IA2C7CosG,CAAepsG,IAEpBqsG,GAAc,SAAUC,EAAS3kM,GACnC,OAAOA,GAEL4kM,GAA4B,SAAUvsG,GACxC,IAAI48D,EAAkB7hC,GAAmB/6B,GACrCwsG,EArnBgB,SAAU3/G,EAAKntC,GACnC,IACI+iB,EAAQ2lI,EADRj2L,EAAO06E,EAAI25B,UAGf,IADA/jD,EAAS/iB,EACF+iB,IAAWtwD,GAA2C,UAAnC06E,EAAI07B,mBAAmB9lD,IACR,SAAnCoqB,EAAI07B,mBAAmB9lD,KACzB2lI,EAAe3lI,GAEjBA,EAASA,EAAOjwD,WAElB,OAAOiwD,IAAWtwD,EAAOi2L,EAAej2L,EA2mBrBs6L,CAAgBzsG,EAAOnT,IAAKmT,EAAOixB,UAAU0hB,YAChE,OAAO65D,GAAgBxsG,EAAO0M,OAAOiG,aAAa65F,EAAa9qJ,SAAUk7G,GAAoC,MAE3G8vC,GAAU,SAAUC,EAAY18C,GAClC,OAAO,SAAUjwD,EAAQr4F,GAIvB,OAHck7E,EAAM8pH,GAAY,SAAUjoK,EAAKh/B,GAC7C,OAAOg/B,GAAOh/B,EAAEs6F,EAAQr4F,MACvB,GACc06E,EAAS5tE,KAAKw7I,GAAU5tE,EAAStB,SAgDlD6rH,GAAW,SAAU5sG,EAAQpnD,IA7Cf,SAAUonD,EAAQpnD,GAClC,OAAOi8I,GAAc,CACnB6X,GAAQ,CAACrB,IAAuBD,GAAcrqH,QAC9C2rH,GAAQ,CA7BHb,GAAQ,WAAW,IA6BIT,GAAcnmG,MAC1CynG,GAAQ,CACNX,IAAW,GACXC,IAAmB,GACnBK,IACCjB,GAAcnmG,MACjBynG,GAAQ,CACNX,IAAW,GACXC,IAAmB,IAClBZ,GAAcpwE,SACjB0xE,GAAQ,CACNX,IAAW,GACXC,IAAmB,GACnBK,IACCjB,GAAcpwE,SACjB0xE,GAAQ,CACNX,IAAW,GACXC,IAAmB,IAClBZ,GAAcnmG,MACjBynG,GAAQ,CACNf,IAAY,GACZU,IACCjB,GAAcnmG,MACjBynG,GAAQ,CAACf,IAAY,IAAQP,GAAcpwE,SAC3C0xE,GAAQ,CACNjB,IAAS,GACTY,GACAE,IACCnB,GAAcpwE,SACjB0xE,GAAQ,CAACjB,IAAS,IAAQL,GAAcnmG,MACxCynG,GAAQ,CAACR,IAAcd,GAAcnmG,MACrCynG,GAAQ,CACNjB,IAAS,GACTY,IACCjB,GAAcnmG,MACjBynG,GAAQ,CAACH,IAA4BnB,GAAcpwE,UAClD,CACDh7B,KACGpnD,IAAOA,EAAIjxC,YACb45E,MAAM6pH,GAAcrqH,SAIvB8rH,CAAY7sG,EAAQpnD,GAAKuoC,MAAK,WAC5B8pH,GAASjrG,EAAQpnD,MAChB,WACDuwJ,GAASnpG,EAAQpnD,KAChBonC,IAgBD8sH,GAAU,SAAU9sG,GACtBA,EAAOr6C,GAAG,WAAW,SAAU3N,GACzBA,EAAM6hH,UAAY9rB,GAAGI,OAfH,SAAUnuC,EAAQhoD,GAjwOZ,IAAU60F,EAkwOpC70F,EAAMu+D,uBAGVv+D,EAAM9vC,kBArwOkC2kI,EAswOd7sC,EAAO6sC,aArwOjB47B,SACd57B,EAAY47B,QAAS,EACrB57B,EAAY96H,OAowOdiuF,EAAO6sC,YAAYC,UAAS,YACa,IAAnC9sC,EAAOixB,UAAU0I,eACnB35B,EAAO8yC,YAAY,UAErB85D,GAAS5sG,EAAQhoD,OAMf+0J,CAAoB/sG,EAAQhoD,OAmC9Bg1J,GAAU,SAAUhtG,EAAQo+B,GAC9Bp+B,EAAOr6C,GAAG,WAAW,SAAU/M,IACI,IAA7BA,EAAI29D,sBAhCmB,SAAUvW,EAAQo+B,EAAOxlF,GACtDqrJ,GAAQ,CACN,CACEpqC,QAAS9rB,GAAGY,IACZshB,OAAQA,GAAO8yC,GAAsB/iG,GAAQ,IAE/C,CACE65D,QAAS9rB,GAAGa,KACZqhB,OAAQA,GAAO8yC,GAAsB/iG,GAAQ,IAE/C,CACE65D,QAAS9rB,GAAGY,IACZshB,OAAQA,GAAOm0C,GAAsBpkG,GAAQ,IAE/C,CACE65D,QAAS9rB,GAAGa,KACZqhB,OAAQA,GAAOm0C,GAAsBpkG,GAAQ,IAE/C,CACE65D,QAAS9rB,GAAGY,IACZshB,OAAQA,GAAOstC,GAAsBv9F,GAAQ,EAAMo+B,IAErD,CACEy7B,QAAS9rB,GAAGa,KACZqhB,OAAQA,GAAOstC,GAAsBv9F,GAAQ,EAAOo+B,KAErDxlF,GAAKod,MAAK,SAAU/sD,GACrB2vC,EAAI1wC,oBAMF+kM,CAAyBjtG,EAAQo+B,EAAOxlF,OAK1Cs0J,GAAY5iH,KAAWhE,QAgBvB6mH,GAAU,SAAUntG,IAfL,SAAUA,GAC3B,IAAIotG,EAAmBhzK,IAAM,WACtB4lE,EAAOkzC,WACVwX,GAAuB1qD,KAExB,GACCktG,GAAUrlH,SACZmY,EAAOr6C,GAAG,YAAY,SAAU3O,GAC9Bo2J,EAAiBjtG,cAEnBH,EAAOr6C,GAAG,UAAU,SAAU3O,GAC5Bo2J,EAAiBh+L,aAKrBi+L,CAAartG,GACbA,EAAOr6C,GAAG,SAAS,SAAUxhD,IACL,IAAlBA,EAAEo3E,aACJmvE,GAAuB1qD,OAKzBstG,GAAahjH,KAabj2E,GAA2B,SAAUlQ,GACvC,OAAOA,EAAEkQ,4BAEPk5L,GAAe,SAAU30J,GAC3B,OAAOA,EAAIihH,UAAY9rB,GAAGU,SAAW71F,EAAIihH,UAAY9rB,GAAGW,WAEtD8+D,GAAuB,SAAUC,EAASztG,EAAQg7B,GAChDA,IAAUyyE,EAAQ1oM,MACpBi7F,EAAOr6C,GAAG,aAActxC,IAA0B,IACxC2mH,GAASyyE,EAAQ1oM,OAC3Bi7F,EAAO9I,IAAI,aAAc7iF,IAE3Bo5L,EAAQhyL,IAAIu/G,IAEV0yE,GAAU,SAAU1tG,EAAQo+B,GAC9B,IAAIkvE,GAAW7mH,GAAGqC,QAAlB,CAGA,IAAI2kH,EAAU1gF,IAAK,GACnB/sB,EAAOr6C,GAAG,WAAW,SAAU/M,GACzB20J,GAAa30J,IACf40J,GAAqBC,EAASztG,GAAQ,MAG1CA,EAAOr6C,GAAG,SAAS,SAAU/M,IACM,IAA7BA,EAAI29D,sBArCa,SAAUvW,EAAQo+B,EAAOxlF,GAChDqrJ,GAAQ,CACN,CACEpqC,QAAS9rB,GAAGU,QACZwhB,OAAQA,GAAOstC,GAAsBv9F,GAAQ,EAAOo+B,IAEtD,CACEy7B,QAAS9rB,GAAGW,UACZuhB,OAAQA,GAAOstC,GAAsBv9F,GAAQ,EAAMo+B,KAEpDxlF,GA4BC+0J,CAAmB3tG,EAAQo+B,EAAOxlF,GAEhC20J,GAAa30J,IAAQ60J,EAAQ1oM,QAC/ByoM,GAAqBC,EAASztG,GAAQ,GACtCA,EAAO8xC,oBAKT87D,GAAuB,SAAU3zI,EAAM9/B,GACzC,IAAIlsB,EAAYksB,EAAIlsB,YAChBmQ,EAAS+b,EAAI/b,SACjB,OAAI60E,GAAShlF,IACXA,EAAUy9I,WAAWttI,EAAQ67C,GACtBooB,EAAS5tE,KAAKwiH,GAAchpH,EAAWmQ,EAAS67C,EAAKjzD,UAErDi6H,GAAuB9mG,GAAK9wB,KAAI,SAAUyrF,GAC/C,IAAIwpC,EAAWxxC,GAAaK,SAASlzB,GAMrC,OALI9/B,EAAI2qE,UACNvU,GAAMuE,EAAKwpC,GAEXjuC,GAAOyE,EAAKwpC,GAEPrH,GAAcqH,EAASzxC,IAAK5yB,EAAKjzD,YAI1C6mM,GAAuBvtH,EAAMstH,GAAsB3pG,IACnD6pG,GAAwBxtH,EAAMstH,GAAsB,KAepDG,GAAkC,SAAU57L,EAAMgoB,GACpD,OAAO,SAAU6zK,GACf,OA36UkB,SAAU77L,EAAMgoB,GACpC,OAAIovH,GAAQpvH,KAGHsvH,GAAiBt3I,EAAMgoB,IAAQkvH,GAAel3I,EAAMgoB,IAAQmvH,GAAcn3I,EAAMgoB,IAu6UhF8zK,CAAgB97L,EAAM67L,GAAYH,GAAqB1zK,GAAO2zK,GAAsB3zK,KAU3F+zK,GAA+B,SAAUluG,GAC3C,IAAI7lE,EAAM88F,GAAcG,eAAep3B,EAAOixB,UAAUC,UACpD/+G,EAAO26E,GAAaF,QAAQoT,EAAOmxB,WACvC,GAAInxB,EAAOixB,UAAU0I,cAAe,CAClC,IAAI8iE,EAAmBn8G,EAAMwtG,GAAgB9tF,GACzC62B,EAAgBI,GAAcG,eAAep3B,EAAOixB,UAAUC,UAClE,OAAOqkE,GAAakH,EAAkBz8F,EAAOmxB,UAAW0F,GAAevxH,KA/B7C,SAAU6M,GACtC,OAAO,SAAUkuG,GACf,OAAOA,EAASl/B,MAAK,SAAUt1E,GAC7B,OAAOw3H,GAAalxH,EAAK06E,IAAKoqC,GAAc5mC,OAAOxkF,OAClD,SAAUA,GACX,OAAOy3H,GAAgBz3H,MACtB,SAAUA,GACX,OAAO03H,GAAe13H,MACrB,SAAUA,GACX,OAAOu3H,GAAajxH,EAAK06E,IAAKoqC,GAAc1mC,MAAM1kF,QAsBwBsiM,CAAwBh8L,IAAO7M,KAAKyoM,GAAgC57L,EAAMgoB,IAAM2nD,OAb3I,SAAUke,GAC7B,OAAO,SAAU7lE,GAGf,OAFA6lE,EAAOixB,UAAUiU,OAAO/qG,EAAI+8F,WAC5Bl3B,EAAO8xC,eACA,GAS4Js8D,CAAepuG,IAElL,OAAO,GAYPquG,GAAU,SAAUruG,GACtBA,EAAOr6C,GAAG,WAAW,SAAU/M,IACI,IAA7BA,EAAI29D,sBAVmB,SAAUvW,EAAQpnD,GAC/CqrJ,GAAQ,CAAC,CACLpqC,QAAS9rB,GAAGO,SACZ2hB,OAAQA,GAAOi+C,GAA8BluG,KAC3CpnD,GAAKod,MAAK,SAAU/sD,GACxB2vC,EAAI1wC,oBAMFomM,CAAyBtuG,EAAQpnD,OAKnC21J,GAA4B,SAAUvuG,GACxC,IAAIo+B,EAAQy+D,GAAmB78F,GAS/B,OA/hDY,SAAUA,GACtBA,EAAOr6C,GAAG,yBAA0B26B,EAAMwhH,GAAsB9hG,IAshDhEwuG,CAAQxuG,GACR2mG,GAAQ3mG,EAAQo+B,GAChByoE,GAAQ7mG,EAAQo+B,GAChB0uE,GAAQ9sG,GACRquG,GAAQruG,GACRmtG,GAAQntG,GACRgtG,GAAQhtG,EAAQo+B,GAChBsvE,GAAQ1tG,EAAQo+B,GACTA,GAULqwE,GAAa,WACf,SAASA,EAAWzuG,GAGlB,IAAI0uG,EAFJ9/L,KAAK+/L,SAAW,GAChB//L,KAAKoxF,OAASA,EAEd,IAAIjqF,EAAOnH,KACL,sBAAuBoxF,EAAOusC,UAClCvsC,EAAOr6C,GAAG,wCAAwC,SAAUxhD,GAC1D,IAAIyqM,EAAY5uG,EAAOixB,UAAUC,SAC7B29E,EAAU,CACZtjF,eAAgBqjF,EAAUrjF,eAC1BC,YAAaojF,EAAUpjF,YACvBC,aAAcmjF,EAAUnjF,aACxBC,UAAWkjF,EAAUljF,WAER,eAAXvnH,EAAEgG,MAA0B6pI,GAAO66D,EAASH,IAC9C1uG,EAAOn0B,KAAK,mBAEd6iI,EAAUG,KAGd7uG,EAAOr6C,GAAG,eAAe,WACvBq6C,EAAOn0B,KAAK,sBAEdm0B,EAAOr6C,GAAG,mBAAmB,WAC3B,IAAIoqG,EAAW/vD,EAAOixB,UAAU0hB,UAAS,IACpCod,IAAaplE,GAAI3oB,OAASg+B,EAAOixB,UAAU0I,eAG5CkR,GAAa7qC,KAAYjqF,EAAK+4L,kBAAkB/+C,IAAa/vD,EAAOnT,IAAIw+B,UAAU0kC,EAAU/vD,EAAOmxB,YACrGnxB,EAAO8xC,YAAY,CAAEkJ,iBAAiB,OAG1Ch7C,EAAOr6C,GAAG,WAAW,SAAUxhD,IACxBA,EAAEoyG,sBAAwBs0B,GAAa7qC,KACE,QAAxCA,EAAOixB,UAAU2D,UAAUlzE,SAC7Bk+C,GAAMG,iBAAiBC,GAAQ,WAC7BA,EAAO8xC,iBAGT9xC,EAAO8xC,kBA4Cf,OAvCA28D,EAAWjpM,UAAUssI,YAAc,SAAUnkG,GAC3C,IACI+R,EAAMiyD,EAASx/F,EADf8+G,EAAYriH,KAAKoxF,OAAOixB,UAExBriH,KAAKoxF,OAAO+uG,aAAe99E,IAAsCriH,KAAKoxF,OApne9D46B,SAAS,wBAoneiEhsH,KAAKoxF,OAAOpmE,KAAK8lK,eACrGvtL,EAAOvD,KAAKoxF,OAAOmxB,WACnBzxE,EAAOuxE,EAAU0hB,UAAS,IAASxgI,GAC1B88E,gBAAkBrgF,KAAKoxF,OAAOusC,UAAa39H,KAAKoxF,OAAOnT,IAAIw+B,UAAU3rE,EAAMvtC,KAClFutC,EAAOvtC,GAETw/F,EAAU,GACV/iG,KAAKoxF,OAAOnT,IAAIm8B,UAAUtpE,GAAM,SAAUA,GACxC,GAAIA,IAASvtC,EACX,OAAO,EAETw/F,EAAQ7qG,KAAK44C,OAEf/R,EAAOA,GAAQ,IACV9hC,QAAU6zC,EACf/R,EAAKgkE,QAAUA,EACf/iG,KAAKoxF,OAAOn0B,KAAK,aAAcl+B,KAGnC8gK,EAAWjpM,UAAUspM,kBAAoB,SAAU/+C,GACjD,IAAIzrJ,EACA0qM,EAAcpgM,KAAKoxF,OAAOn1F,EAAEklJ,GAAU1qC,aAAaz2G,KAAKoxF,OAAOmxB,WAAWp/G,IAAIg+I,GAClF,GAAIi/C,EAAYhoM,SAAW4H,KAAK+/L,SAAS3nM,OAAQ,CAC/C,IAAK1C,EAAI0qM,EAAYhoM,OAAQ1C,GAAK,GAC5B0qM,EAAY1qM,KAAOsK,KAAK+/L,SAASrqM,GADFA,KAKrC,IAAW,IAAPA,EAEF,OADAsK,KAAK+/L,SAAWK,GACT,EAIX,OADApgM,KAAK+/L,SAAWK,GACT,GAEFP,EApFQ,GA6GbQ,GAAU,SAAUjvG,IAtBG,SAAUA,GACnCA,EAAOr6C,GAAG,SAAS,SAAUxhD,GACvB67F,EAAOnT,IAAIm8B,UAAU7kH,EAAEgD,OAAQ,YACjChD,EAAE+D,oBAoBNgnM,CAAqBlvG,GAhBH,SAAUA,GAC5BA,EAAO4zD,OAAOlhC,cAAc,WAAW,SAAUrL,GAC/CrxD,EAAKqxD,GAAM,SAAUqsC,GACnBA,EAAQz3F,KAAK,gBAAiBy3F,EAAQz3F,KAAK,SAC3Cy3F,EAAQz3F,KAAK,OAAQ,cAGzB+jC,EAAOyyB,WAAWC,cAAc,WAAW,SAAUrL,GACnDrxD,EAAKqxD,GAAM,SAAUqsC,GACnB,IAAIv+H,EAAOu+H,EAAQz3F,KAAK,iBACxBy3F,EAAQz3F,KAAK,OAAQujB,EAASrqD,GAAQA,EAAO,MAC7Cu+H,EAAQz3F,KAAK,gBAAiB,YAMlCkzI,CAAcnvG,IAGZovG,GAAkB,SAAU1vJ,GAC9B,OAAO8yC,GAAY9yC,IAASikD,GAAY7W,GAAaF,QAAQltC,KAwB3D2vJ,GAAU,SAAUrvG,GACtBA,EAAOr6C,GAAG,SAAS,SAAUxhD,GACvBA,EAAEs0C,QAAU,GAxBO,SAAUunD,GACnC,IAAIgxB,EAAMhxB,EAAOixB,UAAUC,SACvBgR,EAAWjL,GAAcG,eAAepG,GACxCrxG,EAASs3G,GAAcI,aAAarG,GACxC,GAAIiG,GAAcQ,kBAAkByK,GAAW,CAC7C,IAAIj0H,EAAYi0H,EAASj0H,YACrBmhM,GAAgBnhM,IAClBq1H,GAAgBr1H,GAAW+nD,MAAK,SAAU77B,GACxC,OAAO62F,EAAI/F,SAAS9wF,EAAIlsB,YAAaksB,EAAI/b,aAI3C64G,GAAcQ,kBAAkB93G,KAC9B1R,EAAYi0H,EAASj0H,YACrBmhM,GAAgBnhM,IAClBs1H,GAAet1H,GAAW+nD,MAAK,SAAU77B,GACvC,OAAO62F,EAAI9F,OAAO/wF,EAAIlsB,YAAaksB,EAAI/b,cAI7C4hF,EAAOixB,UAAUiU,OAAOysB,GAAY3gC,IAKhCs+E,CAAqBtvG,OA2BvBuvG,GAAsB,SAAUz6G,GAClC,IAAI+gC,EAAa/gC,EAAIhpF,wBACjButD,EAAMy7B,EAAI7F,cACVuP,EAAUnlC,EAAInrD,gBACdkrD,EAAMC,EAAI+1B,YACd,MAAO,CACLhjF,IAAKypH,EAAWzpH,IAAMgtD,EAAIs9E,YAAcl4C,EAAQrJ,UAChDjpF,KAAM2pH,EAAW3pH,KAAOktD,EAAIu9E,YAAcn4C,EAAQtJ,aAmDlDs6G,GAAO,SAAUxvG,EAAQhoD,GAC3B,OAPgCy3J,EA1CZ,SAAUzvG,GAC9B,OAAOA,EAAOvuF,OAAS89L,GAAoBvvG,EAAOmxB,WAAa,CAC7DjlH,KAAM,EACNE,IAAK,GA8CkBsjM,CAAgB1vG,GAPK2vG,EApCxB,SAAU3vG,GAChC,IAAI9qF,EAAO8qF,EAAOmxB,UAClB,OAAOnxB,EAAOvuF,OAAS,CACrBvF,KAAMgJ,EAAKu8E,WACXrlF,IAAK8I,EAAKk+D,WACR,CACFlnE,KAAM,EACNE,IAAK,GAoC2CwjM,CAAkB5vG,GAN7D,CACLmW,OAF4D05F,EAdzC,SAAU7vG,EAAQhoD,GACvC,GAAIA,EAAM7wC,OAAO8nF,gBAAkB+Q,EAAOusC,SAAU,CAClD,IAAIujE,EAAiBP,GAAoBvvG,EAAOk/E,2BAC5CywB,EAfY,SAAU3vG,GAC5B,IAAI9qF,EAAO8qF,EAAOmxB,UAAW7jC,EAAS0S,EAAOusC,SAASr+H,gBAClD6hM,EAAe,CACjB7jM,KAAMgJ,EAAKu8E,WACXrlF,IAAK8I,EAAKk+D,WAER48H,EAAe,CACjB9jM,KAAMgJ,EAAKu8E,YAAcnE,EAAOmE,WAChCrlF,IAAK8I,EAAKk+D,WAAaka,EAAOla,WAEhC,OAAO4sB,EAAOvuF,OAASs+L,EAAeC,EAKfC,CAAcjwG,GACnC,MAAO,CACL9zF,KAAM8rC,EAAMm+D,MAAQ25F,EAAe5jM,KAAOyjM,EAAezjM,KACzDE,IAAK4rC,EAAMq+D,MAAQy5F,EAAe1jM,IAAMujM,EAAevjM,KAG3D,MAAO,CACLF,KAAM8rC,EAAMm+D,MACZ/pG,IAAK4rC,EAAMq+D,OAUgE65F,CAAiBlwG,EAAQhoD,IAL/E9rC,KAAOujM,EAAavjM,KAAOyjM,EAAezjM,KAC/DmqG,MAAOw5F,EAAczjM,IAAMqjM,EAAarjM,IAAMujM,EAAevjM,KAHzC,IAAUqjM,EAAcE,EAAgBE,GAU5DM,GAA2B38G,GAAwB48G,GAA0B78G,GAe7E88G,GAAc,SAAUrwG,EAAQlL,EAAK3oF,EAAOE,GAC9C,IAAIwgF,EAAMmT,EAAOnT,IACbyjH,EAAYx7G,EAAI1vB,WAAU,GAC9BynB,EAAIy8B,UAAUgnF,EAAW,CACvBnkM,MAAOA,EACPE,OAAQA,IAEVwgF,EAAIg6B,UAAUypF,EAAW,oBAAqB,MAC9C,IAAIx/D,EAAWjkD,EAAIxnF,OAAO,MAAO,CAC/B,MAAS,qBACT,iBAAkB,MAClB,aAAgB,KAChB,gBAAmB,UAiBrB,OAfAwnF,EAAIy8B,UAAUwnB,EAAU,CACtBpjI,SAAU,WACVsC,QAAS,GACTugM,SAAU,SACV57F,OAAQ,EACR/kG,QAAS,EACTjC,OAAQ,EACRxB,MAAOA,EACPE,OAAQA,IAEVwgF,EAAIy8B,UAAUgnF,EAAW,CACvB3iM,OAAQ,EACR6iM,UAAW,eAEb1/D,EAAS5+H,YAAYo+L,GACdx/D,GAoBL2/D,GAAgB,SAAU37G,GACxBA,GAAOA,EAAItiF,YACbsiF,EAAItiF,WAAWJ,YAAY0iF,IAY3B47G,GAAU,SAAUvgL,EAAO6vE,GAC7B,OAAO,SAAU77F,GACf,GAX2B,SAAUA,GACvC,OAAoB,IAAbA,EAAEqM,OAUHmgM,CAAyBxsM,GAAI,CAC/B,IAAIysM,EAAQ/+L,EAAKmuF,EAAOnT,IAAIy6B,WAAWnjH,EAAEgD,QAjsgBtC,WAEP,IADA,IAAIwmC,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAEvB,OAAO,SAAU/7C,GACf,IAAK,IAAIlH,EAAI,EAAGA,EAAIqpC,EAAK3mC,OAAQ1C,IAC/B,GAAIqpC,EAAKrpC,GAAGkH,GACV,OAAO,EAGX,OAAO,GAsrgB6Co2E,CAAGuuH,GAA0BC,KAA0B7uH,MAAM,MAC/G,GAjFsByT,EAiFNgL,EAAOmxB,UAhFpBg/E,GAD4Br7G,EAiFG87G,IAhFE97G,IAAQE,EAgFF,CACxC,IAAI67G,EAAS7wG,EAAOnT,IAAIkI,OAAO67G,GAC3BjyB,EAAU3+E,EAAOmxB,UACjB7jC,EAAS0S,EAAOusC,SAASr+H,gBAC7BiiB,EAAM1U,IAAI,CACR5P,QAAS+kM,EACTE,UAAU,EACV3/D,QAAShtI,EAAEgtI,QACXC,QAASjtI,EAAEitI,QACX2/D,MAAO/wG,EAAOvuF,OAASktK,EAAQntC,YAAclkD,EAAO/gF,aAAe,EACnEykM,MAAOhxG,EAAOvuF,OAASktK,EAAQ57G,aAAeuqB,EAAO9gF,cAAgB,EACrEykM,KAAM9sM,EAAEgyG,MAAQ06F,EAAOrlM,EACvB0lM,KAAM/sM,EAAEkyG,MAAQw6F,EAAO7nM,EACvBmD,MAAOykM,EAAMrkM,YACbF,OAAQukM,EAAMpkM,aACd2kM,MAAOd,GAAYrwG,EAAQ4wG,EAAOA,EAAMrkM,YAAaqkM,EAAMpkM,iBAhGnD,IAAUwoF,EAASF,IAqIjCl2C,GAAO,SAAUzuB,EAAO6vE,GAC1B,OAAO,SAAU77F,GACfgsB,EAAMw1B,IAAG,SAAUx1B,GACjB,GAAIA,EAAM2gL,UArIQ,SAAU9wG,EAAQp7B,EAAewsI,GACvD,OAAIxsI,IAAkBwsI,IAAepxG,EAAOnT,IAAIw+B,UAAUzmD,EAAewsI,KAGjEjB,GAAyBvrI,GAkIvBysI,CAAkBrxG,GATDixB,EASsBjxB,EAAOixB,UANrB,KAD/B1F,EADM0F,EAAUqZ,SAASN,WAAW,GACfze,gBACHlnE,SAAiBknE,EAAe/4G,WAAa+4G,GAMCp7F,EAAMtkB,SAAU,CAC5E,IAAIylM,GAjIex8G,EAiIc3kE,EAAMtkB,SAhI3C0lM,EAAWz8G,EAAI1vB,WAAU,IACpBx+D,gBAAgB,qBAClB2qM,GA+HYvxG,EAAOn0B,KAAK,OAAQ,CAC7B7/D,QAAS7H,EAAE6H,QACXC,QAAS9H,EAAE8H,UAEHsqG,sBACRvW,EAAO6sC,YAAYC,UAAS,WAC1B2jE,GAActgL,EAAMtkB,SACpBm0F,EAAOiqE,cAAcjqE,EAAOnT,IAAIq9B,aAAaonF,IAC7CtxG,EAAOo0D,oBAAoBq/B,mBA1ItB,IAAU3+F,EACvBy8G,EAsHuBtgF,EAEvB1F,KAuBFimF,GAAgBrhL,KAahBqhL,GAAkB,SAAUrhL,GAC9BA,EAAMw1B,IAAG,SAAUx1B,GACjBsgL,GAActgL,EAAMghL,UAEtBhhL,EAAMlhB,SAEJwiM,GAAqB,SAAUzxG,GACjC,IAjQI0xG,EAiQAvhL,GAjQAuhL,EAAU3kF,GAAK1qC,EAAStB,QAarB,CACL9xE,MAbU,WACV,OAAOyiM,EAAQj2L,IAAI4mE,EAAStB,SAa5BtlE,IAXQ,SAAU9V,GAClB,OAAO+rM,EAAQj2L,IAAI4mE,EAAS5tE,KAAK9O,KAWjCgsM,MATU,WACV,OAAOD,EAAQ3sM,MAAMu8E,UASrB37B,GAPO,SAAUj9C,GACjB,OAAOgpM,EAAQ3sM,MAAMixD,KAAKttD,MAuPxBkpM,EAAUzrF,GAAS2D,IACnBkmB,EAAe1pI,SACfurM,EAAmBnB,GAAQvgL,EAAO6vE,GAClC8xG,EA3EO,SAAU3hL,EAAO6vE,GAC5B,IAAI+xG,EAAwBnyG,GAAMO,UAAS,SAAUn0F,EAASC,GAC5D+zF,EAAOo0D,oBAAoBq/B,gBAC3BzzF,EAAOixB,UAAUo/C,aAAarkK,EAASC,KACtC,GAEH,OADA+zF,EAAOr6C,GAAG,SAAUosJ,EAAsBnjI,MACnC,SAAUzqE,GACf,OAAOgsB,EAAMw1B,IAAG,SAAUx1B,GACxB,IAjE4B2gH,EAAU6tC,EAiElCqzB,EAAWppM,KAAKJ,IAAII,KAAKwlB,IAAIjqB,EAAEgtI,QAAUhhH,EAAMghH,SAAUvoI,KAAKwlB,IAAIjqB,EAAEitI,QAAUjhH,EAAMihH,UACxF,IAAKjhH,EAAM2gL,UAAYkB,EAAW,GAAI,CAEpC,GADWhyG,EAAOn0B,KAAK,YAAa,CAAE1kE,OAAQgpB,EAAMtkB,UAC3C0qG,qBACP,OAEFpmF,EAAM2gL,UAAW,EACjB9wG,EAAOh4F,QAET,GAAImoB,EAAM2gL,SAAU,CAClB,IAAImB,EAjDM,SAAU9hL,EAAOziB,GACjC,MAAO,CACLyoG,MAAOzoG,EAASyoG,MAAQhmF,EAAM8gL,KAC9B56F,MAAO3oG,EAAS2oG,MAAQ,GA8CJ67F,CAAY/hL,EAAOq/K,GAAKxvG,EAAQ77F,IA3EtB2sI,EA4ER3gH,EAAMghL,MA5EYxyB,EA4EL3+E,EAAOmxB,UA3ExC2f,EAASt+H,aAAemsK,GAC1BA,EAAQzsK,YAAY4+H,GAGR,SAAUA,EAAUpjI,EAAUvB,EAAOE,EAAQ0kM,EAAMC,GACjE,IAAImB,EAAY,EAAG95H,EAAY,EAC/By4D,EAASxkI,MAAMJ,KAAOwB,EAASyoG,MAAQ,KACvC26B,EAASxkI,MAAMF,IAAMsB,EAAS2oG,MAAQ,KAClC3oG,EAASyoG,MAAQhqG,EAAQ4kM,IAC3BoB,EAAYzkM,EAASyoG,MAAQhqG,EAAQ4kM,GAEnCrjM,EAAS2oG,MAAQhqG,EAAS2kM,IAC5B34H,EAAY3qE,EAAS2oG,MAAQhqG,EAAS2kM,GAExClgE,EAASxkI,MAAMH,MAAQA,EAAQgmM,EAAY,KAC3CrhE,EAASxkI,MAAMD,OAASA,EAASgsE,EAAY,KA6DvC+5H,CAAUjiL,EAAMghL,MAAOc,EAAW9hL,EAAMhkB,MAAOgkB,EAAM9jB,OAAQ8jB,EAAM4gL,KAAM5gL,EAAM6gL,MAC/Ee,EAAsB5tM,EAAE6H,QAAS7H,EAAE8H,cAsDvBomM,CAAOliL,EAAO6vE,GAC5BsyG,EAAc1zJ,GAAKzuB,EAAO6vE,GAC1BuyG,EAvBK,SAAUpiL,EAAO6vE,GAC1B,OAAO,WACL7vE,EAAMw1B,IAAG,SAAUx1B,GACbA,EAAM2gL,UACR9wG,EAAOn0B,KAAK,cAGhB2lI,GAAgBrhL,IAgBGy+C,CAAKz+C,EAAO6vE,GACjCA,EAAOr6C,GAAG,YAAaksJ,GACvB7xG,EAAOr6C,GAAG,YAAamsJ,GACvB9xG,EAAOr6C,GAAG,UAAW2sJ,GACrBV,EAAQtsM,KAAK0qI,EAAc,YAAa8hE,GACxCF,EAAQtsM,KAAK0qI,EAAc,UAAWuiE,GACtCvyG,EAAOr6C,GAAG,UAAU,WAClBisJ,EAAQ75F,OAAOi4B,EAAc,YAAa8hE,GAC1CF,EAAQ75F,OAAOi4B,EAAc,UAAWuiE,OAoDxC1jM,GAAO,SAAUmxF,GACnByxG,GAAmBzxG,GAlDH,SAAUA,GAC1BA,EAAOr6C,GAAG,QAAQ,SAAUxhD,GAC1B,IAAIquM,OAAkC,IAAdruM,EAAE6H,QAA0Bg0F,EAAOusC,SAASh/C,iBAAiBppF,EAAE6H,QAAS7H,EAAE8H,SAAW,MACzGkkM,GAAyBqC,IAAmE,UAApDxyG,EAAOnT,IAAIu+B,yBAAyBonF,KAC9EruM,EAAE+D,oBA+CNuqM,CAAYzyG,GA/gfmB,SAAUA,GACzC,OAAOA,EAAO46B,SAAS,0BAA0B,EAAM,WA+gfnD83E,CAA2B1yG,IA5CF,SAAUA,GACvC,IAAI2yG,EAAkB,SAAUxuM,GAC9B,IAAKA,EAAEoyG,qBAAsB,CAC3B,IAAItwD,EAAe9hD,EAAE8hD,aACjBA,IAAiBj0C,EAASi0C,EAAaC,MAAO,UAAYD,EAAaxJ,MAAMz1C,OAAS,KACxF7C,EAAE+D,iBACa,SAAX/D,EAAEgG,MACJs3K,GAAazhF,EAAQ,yCAKzB4yG,EAA6B,SAAUzuM,GACrCk3I,GAAYr7C,EAAQ77F,EAAEgD,SACxBwrM,EAAgBxuM,IAGhB+1D,EAAQ,WACV,IAAI03I,EAAUzrF,GAAS2D,IACnBj9B,EAAMmT,EAAOnT,IACbxzB,EAAM/yD,SACNusM,EAAa7yG,EAAOvuF,OAASuuF,EAAOmxB,UAAYnxB,EAAOusC,SACvDumE,EAAa,CACf,OACA,YAEF98I,EAAK88I,GAAY,SAAU17L,GACzBw6L,EAAQtsM,KAAK+zD,EAAKjiD,EAAMw7L,GACxB/lH,EAAIvnF,KAAKutM,EAAYz7L,EAAMu7L,MAE7B3yG,EAAOr6C,GAAG,UAAU,WAClBqQ,EAAK88I,GAAY,SAAU17L,GACzBw6L,EAAQ75F,OAAO1+C,EAAKjiD,EAAMw7L,GAC1B/lH,EAAIkrB,OAAO86F,EAAYz7L,EAAMu7L,UAInC3yG,EAAOr6C,GAAG,QAAQ,WAChBi6C,GAAMG,iBAAiBC,EAAQ9lC,EAAO,MAOtC64I,CAAyB/yG,IAuCzBgzG,GAA0Bz/G,GAC1B0/G,GAA2Bz/G,GAC3B0/G,GAA2B,SAAUlzG,EAAQtgD,GAC/C,OAAOiuF,GAAuB3tC,EAAOmxB,UAAWzxE,IAE9CyzJ,GAAqB,SAAUnzG,GACjC,IAQIozG,EARAniF,EAAYjxB,EAAOixB,UAAWpkC,EAAMmT,EAAOnT,IAC3C2W,EAAU3W,EAAI2W,QACdZ,EAAW5C,EAAOmxB,UAClBkiF,EAAYz1E,GAAU59B,EAAQ4C,EAAUY,GAAS,WACnD,OAAOi5C,GAAWz8C,MAEhBszG,EAAkB,OAASzmH,EAAIo9B,WAC/B6lB,EAAuB,oBAKvByjE,EAA+B,SAAU7zJ,GAC3C,OAAOA,IAASkjD,IAAaqwG,GAAyBvzJ,IAASg0C,GAAQh0C,KAAUmtC,EAAIw+B,UAAU3rE,EAAMkjD,IASnG4wG,EAAW,SAAUxxI,GACnBA,GACFivD,EAAUiU,OAAOljE,IAGjByxI,EAAWxiF,EAAUC,OACrBogE,EAAY,SAAUzsH,EAAWnlB,EAAM2wC,EAAQwB,GASjD,YARuB,IAAnBA,IACFA,GAAiB,GAEXmO,EAAOn0B,KAAK,YAAa,CAC/B1kE,OAAQu4C,EACRmlB,UAAWA,EACXwrB,OAAQA,IAEJkmB,qBACG,MAEL1kB,GACFo/B,EAAUp/B,eAAenyC,GAAqB,IAAfmlB,GAE1BwuI,EAAUrkM,KAAKqhF,EAAQ3wC,KA4J5Bg0J,EAAyB,SAAUh0J,GACrC,OAAO+kD,GAAiB/kD,IAASylD,GAAyBzlD,IAAS0lD,GAAuB1lD,IAExFi0J,EAA0B,SAAU3iF,GACtC,OAAO0iF,EAAuB1iF,EAAIzF,iBAAmBmoF,EAAuB1iF,EAAIvF,eAE9EmoF,EAAsC,SAAU5iF,GAClD,IAAIouB,EAAqBp/C,EAAO0M,OAAOwF,wBACnCokB,EAASzpC,EAAIu7B,YACbmD,EAAiByF,EAAIzF,eACrBC,EAAcwF,EAAIxF,YAClBC,EAAeuF,EAAIvF,aACnBC,EAAYsF,EAAItF,UAmBpB,OAlBI5zG,GAAIsnI,EAAoB7zB,EAAe7pE,SAASl4C,eAC9B,IAAhBgiH,EACF8K,EAAO4J,eAAe3U,GAEtB+K,EAAO8J,cAAc7U,GAGvB+K,EAAOrL,SAASM,EAAgBC,GAE9B1zG,GAAIsnI,EAAoB3zB,EAAa/pE,SAASl4C,eAC9B,IAAdkiH,EACF4K,EAAO6J,aAAa1U,GAEpB6K,EAAOE,YAAY/K,GAGrB6K,EAAOpL,OAAOO,EAAcC,GAEvB4K,GA8BLu9E,EAAgB,SAAU/+G,GAC5B,IAAIg/G,EAAch/G,EAAI1vB,WAAU,GAC5BjhE,EAAI67F,EAAOn0B,KAAK,iBAAkB,CACpC1kE,OAAQ2tF,EACRg/G,YAAaA,IAEf,GAAI3vM,EAAEoyG,qBACJ,OAAO,KAET,IAAIv0C,EArCwB,SAAUtiB,EAAMo0J,EAAaC,GACzD,IAAIlpM,EAAIm1F,EAAOn1F,EACXmpM,EAA0Bh1G,GAAWlS,GAAaF,QAAQoT,EAAOmxB,WAAY,IAAMmiF,GAAiBnyH,MAAK,WAC3G,OAAOt2E,EAAE,OACR,SAAUiqF,GACX,OAAOjqF,EAAE,CAACiqF,EAAIjI,SAEuB,IAAnCmnH,EAAwBhtM,SAC1BgtM,EAA0BnpM,EAAE,oEAAoEoxD,KAAK,KAAMq3I,IACnF7uF,SAASzkB,EAAOmxB,WAE1C,IAAI0xE,EAAWh2G,EAAIu7B,YACf0rF,IAAgBC,GAAmBppH,GAAIzC,IACzC8rH,EAAwBp4I,QAAQzuB,OAAO,sDAAyDA,OAAO2mK,GACvGjR,EAASziE,cAAc4zE,EAAwB,GAAGtkH,WAAWA,YAC7DmzG,EAASrsE,YAAYs9E,KAErBE,EAAwBp4I,QAAQzuB,OAAO82D,IAAM92D,OAAO2mK,GAAa3mK,OAAO82D,IACxE4+F,EAAS53E,SAAS+oF,EAAwB,GAAGtkH,WAAY,GACzDmzG,EAAS33E,OAAO8oF,EAAwB,GAAGrkH,UAAW,IAExDqkH,EAAwBt5I,IAAI,CAAEtuD,IAAKygF,EAAIkI,OAAOr1C,EAAMsgD,EAAOmxB,WAAWnoH,IACtEgrM,EAAwB,GAAGhsM,QAC3B,IAAImjE,EAAM8lD,EAAUqZ,SAGpB,OAFAn/D,EAAI6jG,kBACJ7jG,EAAI8jG,SAAS4zB,GACNA,EAWKoR,CAAwBn/G,EAAK3wF,EAAE2vM,YAAaA,GACpDI,EAAUpnH,GAAaF,QAAQkI,GAWnC,OAVA9+B,EAAK06D,GAAc5jC,GAAaF,QAAQoT,EAAOmxB,WAAY,yBAAyB,SAAUr8B,GACvF7G,GAAKimH,EAASp/G,IACjBb,GAASa,EAAKg7C,MAGbjjD,EAAI65B,UAAU5xB,EAAKg7C,IACtBh7C,EAAIlkF,aAAak/H,EAAsB,KAEzCsjE,EAAkBt+G,EAClB2+F,IACOzxH,GAELmyI,EAAsB,SAAUnyI,EAAO69C,GACzC,IAAK79C,EACH,OAAO,KAET,GAAIA,EAAMg4D,UAAW,CACnB,IAAK25E,EAAwB3xI,GAAQ,CACnC,IAAI01B,EAAMmoB,EAAU,GAAK,EACrBgX,EAAgBkK,GAA2BrpC,EAAKkL,EAAU5gC,GAC1D80D,EAAaD,EAAcjC,SAAS/U,GACxC,GAAIgf,GAAkB/H,GACpB,OAAOw6D,EAAU55F,EAAKo/B,IAAYjX,IAAWgX,EAAc/xB,WAAmB,GAEhF,IAAIsvG,EAAYv9E,EAAcjC,QAAQ/U,GACtC,GAAIgf,GAAkBu1E,GACpB,OAAO9iB,EAAU55F,EAAK08G,GAAWv0F,IAAmBgX,EAAc/xB,WAAW,GAGjF,OAAO,KAET,IAAIymB,EAAiBvpD,EAAMupD,eACvBC,EAAcxpD,EAAMwpD,YACpBE,EAAY1pD,EAAM0pD,UAMtB,GALgC,IAA5BH,EAAelnE,UAAkC,IAAhBmnE,GAAqBynF,GAAyB1nF,EAAe/4G,cAChG+4G,EAAiBA,EAAe/4G,WAChCg5G,EAAc3+B,EAAIkzB,UAAUwL,GAC5BA,EAAiBA,EAAe/4G,YAEF,IAA5B+4G,EAAelnE,SACjB,OAAO,KAET,GAAIqnE,IAAcF,EAAc,GAAKD,IAAmBvpD,EAAMypD,aAAc,CAC1E,IAAI/rE,EAAO6rE,EAAer2D,WAAWs2D,GACrC,GAAI+nF,EAA6B7zJ,GAC/B,OAAOm0J,EAAcn0J,GAGzB,OAAO,MAEL20J,EAAyB,WACvBjB,GACFA,EAAgBxsM,gBAAgBkpI,GAElC9wC,GAAWlS,GAAaF,QAAQoT,EAAOmxB,WAAY,IAAMmiF,GAAiBt9I,KAAKzjD,IAC/E6gM,EAAkB,MAMhB3f,EAAgB,WAClB4f,EAAUtkM,QAKZ,OAHI47E,GAAIQ,UAAYw/E,GAAM3qE,IA3RL,WACnBA,EAAOr6C,GAAG,WAAW,SAAUxhD,GAC7B,IAAI69D,EAAQyxI,IACRzxI,EAAMg4D,WAAa0kD,GAAkB1+E,EAAQ77F,EAAE6H,QAAS7H,EAAE8H,UAC5DulL,GAAmBxxF,EAAQh+B,GAAO,GAAOhM,KAAKw9I,MAGlDxzG,EAAOr6C,GAAG,SAAS,SAAUxhD,GAC3B,IAAImwM,EAAsBpB,GAAyBlzG,EAAQ77F,EAAEgD,QACzDmtM,IACErB,GAAyBqB,KAC3BnwM,EAAE+D,iBACF83F,EAAOh4F,SAELgrM,GAAwBsB,IACtBznH,EAAIw+B,UAAUipF,EAAqBrjF,EAAU2D,YAC/Cy/E,QAKRr0G,EAAOr6C,GAAG,gBAAiB0uJ,GAC3Br0G,EAAOr6C,GAAG,sCAAuC0tJ,EAAU10E,YAC3D,IAAI41E,EAAyB,SAAUz/G,GACrC,IAAIk+D,EAAcxwB,GAAY1tC,GAC9B,IAAKA,EAAIpF,WACP,OAAO,EAET,IAjEuCv1D,EAiEnC+nG,EAAWjL,GAAc5mC,OAAOyE,EAAIpF,YACpC04D,EAAS4K,EAAYvyI,KAAKyhH,GAC9B,OAAOkmB,KAlEFhB,GADkCjtH,EAmEMiuH,IAlEHf,GAA4BltH,IAAQ6sH,GAAc7sH,IAAQ8sH,GAAa9sH,KAyE/Gq6K,EAAuB,SAAUttG,EAAYytF,GAC/C,IAN4Br0D,EAAOC,EAM/Bk0E,EAAc5nH,EAAIm8B,UAAU9hB,EAAY1D,GACxCw6B,EAAanxC,EAAIm8B,UAAU2rE,EAAWnxF,GAC1C,SAAIixG,GAAevtG,IAAe82B,IAAcnxC,EAAIw+B,UAAUopF,EAAaz2E,KAA2F,IAA5Ei1E,GAAyBC,GAAyBlzG,EAAQy0G,MAG7IA,IAXqBn0E,EAWSm0E,EAXFl0E,EAWevC,IAVrCnxC,EAAIm8B,UAAUsX,EAAO98B,KACrB3W,EAAIm8B,UAAUuX,EAAO/8B,MAS+B+wG,EAAuBE,IAE1Fz0G,EAAOr6C,GAAG,OAAO,SAAUxhD,GACzB,IAAI4tI,EAAY5tI,EAAEgD,OACdmtM,EAAsBpB,GAAyBlzG,EAAQ+xC,GACvDkhE,GAAyBqB,IAC3BnwM,EAAE+D,iBACF48H,GAAW9kC,EAAQs0G,GAAqBt+I,KAAKm+I,IACpCZ,EAA6BxhE,IACtCjN,GAAW9kC,EAAQ+xC,GAAW/7E,KAAKm+I,MAEpC,GACHn0G,EAAOr6C,GAAG,aAAa,SAAUxhD,GAC/B,IAAI4tI,EAAY5tI,EAAEgD,OAClB,IAAI4qI,IAAcnvC,GAAmC,SAAvBmvC,EAAUrwF,UAAwBmrC,EAAIw+B,UAAU0mB,EAAWnvC,MAGjC,IAApD87E,GAAkB1+E,EAAQ77F,EAAE6H,QAAS7H,EAAE8H,SAA3C,CAGA,IAAIqoM,EAAsBpB,GAAyBlzG,EAAQ+xC,GAC3D,GAAIuiE,EACErB,GAAyBqB,IAC3BnwM,EAAE+D,iBACF48H,GAAW9kC,EAAQs0G,GAAqBt+I,KAAKm+I,KAE7CE,IACMrB,GAAwBsB,IAAwBnwM,EAAEwD,UAAcimI,GAAgBzpI,EAAE6H,QAAS7H,EAAE8H,QAASglH,EAAUC,YACpHuiE,IACAxiE,EAAUo/C,aAAalsK,EAAE6H,QAAS7H,EAAE8H,gBAGnC,GAAIsnM,EAA6BxhE,GACtCjN,GAAW9kC,EAAQ+xC,GAAW/7E,KAAKm+I,QAC9B,IAAqC,IAAjCt1E,GAAkBkT,GAAsB,CACjDsiE,IACA5gB,IACA,IAAIihB,EAAgBta,GAAiBx3F,EAAUz+F,EAAE6H,QAAS7H,EAAE8H,SAC5D,GAAIyoM,IACGF,EAAqBziE,EAAW2iE,EAAch1J,MAAO,CACxDv7C,EAAE+D,iBACF,IAAI85D,EAAQsvH,EAAU,EAAGojB,EAAch1J,KAAMg1J,EAAcrkH,QAAQ,GACnE2P,EAAOmxB,UAAUnpH,QACjBwrM,EAASxxI,SAKjBg+B,EAAOr6C,GAAG,YAAY,SAAUxhD,GAC1B4pI,GAAGc,gBAAgB1qI,IAGnB8uM,GAAyBhiF,EAAU2D,YACrCzwH,EAAE+D,oBAGN83F,EAAOr6C,GAAG,qBAAqB,SAAUxhD,GACvC,IAAI6sH,EAAM7sH,EAAE69D,MACZ,GAAIoxI,EAAiB,CACnB,IAAKA,EAAgB5gM,WAEnB,YADA4gM,EAAkB,OAGpBpiF,EAAMA,EAAIuF,cACNuO,WAAWsuE,GACfjvM,EAAE69D,MAAQgvD,MAGdhxB,EAAOr6C,GAAG,qBAAqB,SAAUxhD,GACvCA,EAAE69D,MAAQ4xI,EAAoCzvM,EAAE69D,OAChD,IAAIgvD,EAAMmjF,EAAoBhwM,EAAE69D,MAAO79D,EAAE07G,SACrCmR,IACF7sH,EAAE69D,MAAQgvD,MAMdhxB,EAAOr6C,GAAG,0BAA0B,SAAUxhD,GAC5C,IArKmCu7C,EAqK/BsxE,EAAM7sH,EAAE69D,MACRxvD,EAAaw+G,EAAIzF,eAAe/4G,WAC/BmhM,EAAwB3iF,IALV,gBAK8Bx+G,EALrC2tB,IAMVszJ,IAxKiC/zI,EA0KPltC,EAzKvBq6E,EAAItrB,SAAS7hB,EAAM,4BA0KtB20J,OAGJr0G,EAAOr6C,GAAG,QAAQ,SAAUxhD,GAC1B,IArKE8J,EAqKEw6C,EAAgBtkD,EAAEskD,cACtB,IAAKtkD,EAAEoyG,sBAAwBpyG,EAAEskD,gBAAkBkiC,GAAIzC,GAAI,CACzD,IAAIysH,GAvKJ1mM,EAAY4+E,EAAI9nF,IAAIuuM,IACLrlM,EAAUwvC,qBAAqB,KAAK,GAAKxvC,EAuKpD0mM,IACFxwM,EAAE+D,iBACFugD,EAAcmsJ,YACdnsJ,EAAcosJ,QAAQ,YAAaF,EAAqBn5H,WACxD/yB,EAAcosJ,QAAQ,aAAcF,EAAqBG,WAAaH,EAAqB92J,gBAIjGhvC,GAAKmxF,GA5OK,SAAUA,GACtB,IAAI+0G,EAAmB36K,IAAM,WAC3B,IAAK4lE,EAAOC,SAAWD,EAAOmxB,UAAUn/G,SAAS1L,SAAS8E,eAAgB,CACxE,IAAI4lH,EAAMhxB,EAAOixB,UAAUC,SAC3B,GAAIF,EAAIgJ,UAAW,CACjB,IAAIi4D,EAAaL,GAAiB5xF,EAAQgxB,GAAK,GAC/ChxB,EAAOixB,UAAUiU,OAAO+sD,OAG3B,GACHjyF,EAAOr6C,GAAG,SAAS,WACjBovJ,EAAiB50G,cAEnBH,EAAOr6C,GAAG,QAAQ,WAChBovJ,EAAiB3lM,YA+NjB4lM,CAAQh1G,GA3NE,SAAUA,GACtBA,EAAOr6C,GAAG,QAAQ,WAChBq6C,EAAOr6C,GAAG,WAAW,SAAUxhD,GAC7B,IAAIgD,EAAShD,EAAEgD,OACf,GAAIusF,GAAQvsF,GAAS,CACnB,IAAIwqL,EAAShkD,GAAuB3tC,EAAOmxB,UAAWhqH,GAClDu4C,EAAO8zC,GAAuBm+F,GAAUA,EAASxqL,EACjD64F,EAAOixB,UAAU2D,YAAcl1E,GACjColF,GAAW9kC,EAAQtgD,GAAMsW,MAAK,SAAUg7D,GACtC,OAAOhxB,EAAOixB,UAAUiU,OAAOlU,aAmNvCikF,CAAQj1G,GA2IRy7C,GAEK,CACL61C,UAAWA,EACXj9B,wBAvS4B,SAAUutC,GAClCA,EAAoBjwI,aAAa,oBACnC0zC,GAAwBu8F,GACxB4R,EAASC,KACTxiF,EAAUp/B,eAAe+vG,KAoS3BnO,cAAeA,EACfxmL,QAdY,WACZomM,EAAUpmM,UACVmmM,EAAkB,QAgBlB8B,GAAS,SAAUl1G,GACrB,IAgKMm1G,EAYAC,EA5KFp/I,EAAO21B,GAAM31B,KACbg4E,EAAYD,GAAGC,UAAWC,EAASF,GAAGE,OAAQphD,EAAMmT,EAAOnT,IAAKokC,EAAYjxB,EAAOixB,UAAW2iC,EAAS5zD,EAAO4zD,OAC9GyhD,EAAU1qH,GAAIC,MAAO/C,EAAO8C,GAAIzC,GAAIotH,EAAW3qH,GAAIH,OACnD+qH,EAAuB,0BACvBC,EAAsB3tH,EAAO,OAAS,MACtC4tH,EAAwB,SAAUhpB,EAAKt8J,GACzC,IACE6vE,EAAOusC,SAASuG,YAAY25C,GAAK,EAAOt8J,GACxC,MAAO2oE,MAGPyd,EAAqB,SAAUpyG,GACjC,OAAOA,EAAEoyG,sBAuCPm/F,EAA0B,WAC5B,IAAIC,EAAe,SAAU3kF,GAC3B,IAAI97G,EAAO23E,EAAIxnF,OAAO,QAClBy/G,EAAWkM,EAAImiC,gBAEnB,OADAj+I,EAAKhD,YAAY4yG,GACVmM,EAAUwB,WAAWzmF,UAAU92B,EAAM,CAAE4xH,OAAQ,UASxD9mC,EAAOr6C,GAAG,WAAW,SAAUxhD,GAC7B,IACIw1H,EAAazkH,EADb2kJ,EAAU11J,EAAE01J,QAEhB,IAAKtjD,EAAmBpyG,KAAO01J,IAAY5rB,GAAU4rB,IAAY7rB,GAAY,CAG3E,GAFArU,EAAc35B,EAAOixB,UAAU0I,cAC/BzkH,EAAO8qF,EAAOmxB,UACVwI,IAAgB9sC,EAAIma,QAAQ9xF,GAC9B,OAEF,IAAKykH,IAhBiB,SAAU3I,GAClC,IAAIC,EAAY0kF,EAAa3kF,GACzB4kF,EAAS/oH,EAAIu7B,YAGjB,OAFAwtF,EAAO9wE,WAAW9kC,EAAOmxB,WAElBF,IADY0kF,EAAaC,GAYTC,CAAoB71G,EAAOixB,UAAUC,UACxD,OAEF/sH,EAAE+D,iBACF83F,EAAOx1B,WAAW,IACdt1D,EAAKw6E,YAAc7C,EAAI2W,QAAQtuF,EAAKw6E,YACtCsQ,EAAOixB,UAAUk8B,kBAAkBj4I,EAAKw6E,WAAY,GAEpDsQ,EAAOixB,UAAUk8B,kBAAkBj4I,EAAM,GAE3C8qF,EAAO8xC,mBAITgkE,EAAY,WACd91G,EAAO+1G,UAAUhkM,IAAI,SAAU,KAAM,cA2CnCwqI,EAAY,WACTy5D,MAAMxwM,UAAUo9D,gBACnBo9B,EAAOr6C,GAAG,aAAa,SAAUxhD,GAC/B,IAAKoyG,EAAmBpyG,IAA4B,SAAtBA,EAAEgD,OAAOu6C,SAAqB,CAC1D,IAAIu0J,EAASj2G,EAAOmxB,UACpB8kF,EAAOh5H,OACP2iB,GAAMG,iBAAiBC,GAAQ,WAC7Bi2G,EAAOjuM,gBAMbkuM,EAAwB,WAC1Bl2G,EAAOr6C,GAAG,SAAS,SAAUxhD,GAC3B,IAAIgD,EAAShD,EAAEgD,OACX,aAAa6C,KAAK7C,EAAOu6C,WAAsD,UAAzCmrC,EAAIu+B,yBAAyBjkH,KACrEhD,EAAE+D,iBACF83F,EAAOixB,UAAUjtD,OAAO78D,GACxB64F,EAAO8xC,eAEe,MAApB3qI,EAAOu6C,UAAoBmrC,EAAItrB,SAASp6D,EAAQ,qBAClDhD,EAAE+D,iBACF+oH,EAAUjtD,OAAO78D,QAwCnBgvM,EAA6B,WAC/Bn2G,EAAOr6C,GAAG,WAAW,SAAUxhD,GAC7B,IAAKoyG,EAAmBpyG,IAAMA,EAAE01J,UAAY7rB,GACtC/c,EAAU0I,eAAoD,IAAnC1I,EAAUC,SAAS1F,YAAmB,CACnE,IAAIl8B,EAAkB2hC,EAAU2D,UAAUtlC,gBAC1C,GAAIA,GAAmBA,EAAgB5tC,UAAuD,UAA3C4tC,EAAgB5tC,SAASl4C,cAE1E,OADArF,EAAE+D,kBACK,OAgCbkuM,EAAyB,YA/ogBd,SAAUp2G,GACzB,OAAOA,EAAO46B,SAAS,aAspgBhB8kE,CAAW1/F,IACdA,EAAOr6C,GAAG,+BARE,WACZ8vJ,EAAsB,gBAAgB,GACtCA,EAAsB,4BAA4B,GAC7C15E,GAAkB/7B,IACrBy1G,EAAsB,wBAAwB,OAOhDY,EAAsB,WAgBxBr2G,EAAOr6C,GAAG,0BAA0B,SAAUxhD,GAC7B,eAAXA,EAAEgG,MAAuC,kBAAdhG,EAAEuoL,SAfjC12H,EAAK62B,EAAI7oB,OAAO,MAAM,SAAUtkB,GAC9B,IAAIltC,EAAaktC,EAAKltC,WAClBL,EAAO06E,EAAI25B,UACf,GAAIh0G,EAAWm9E,YAAcjwC,EAAM,CACjC,KAAOltC,IAAeq6E,EAAI2W,QAAQhxF,IAAa,CAC7C,GAAIA,EAAWA,WAAWm9E,YAAcn9E,GAAcA,IAAeL,EACnE,OAEFK,EAAaA,EAAWA,WAE1Bq6E,EAAI96E,IAAIS,EAAY,KAAM,CAAE,iBAAkB,YAwBlD8jM,EAAsB,WACxBt2G,EAAOu2G,cAAczvM,KAAK,oFAExB0vM,EAAwB,WACrBx2G,EAAOvuF,QACVuuF,EAAOr6C,GAAG,WAAW,WACfr/C,SAAS8E,gBAAkB9E,SAAS4O,MACtC8qF,EAAOu5C,SAASvxI,YAKpByuM,EAAa,WACVz2G,EAAOvuF,SACVuuF,EAAOu2G,cAAczvM,KAAK,4BAC1Bk5F,EAAOr6C,GAAG,SAAS,SAAUxhD,GAC3B,IAAI6sH,EACJ,GAA0B,SAAtB7sH,EAAEgD,OAAOu6C,SAAqB,CAChC,GAAIipC,GAAIzC,GAAK,GAEX,YADA8X,EAAOmxB,UAAUnpH,QAGnBgpH,EAAMhxB,EAAOixB,UAAUC,SACvBlxB,EAAOmxB,UAAUnpH,QACjBg4F,EAAOixB,UAAUiU,OAAOlU,GACxBhxB,EAAOixB,UAAU//F,YACjB8uE,EAAO8xC,oBAKX4kE,EAA0B,WACxB/rH,GAAIE,KACNmV,EAAOr6C,GAAG,WAAW,SAAUxhD,IACzB4pI,GAAGgB,eAAe5qI,IAAOA,EAAEwD,UAA2B,KAAdxD,EAAE01J,SAAgC,KAAd11J,EAAE01J,UAChE11J,EAAE+D,iBACgB83F,EAAOixB,UAAUqZ,SACvBksD,OAAO,OAAsB,KAAdryL,EAAE01J,QAAiB,WAAa,UAAW,qBAQ1E88C,EAAoB,WACtB32G,EAAOr6C,GAAG,SAAS,SAAUxhD,GAC3B,IAAI2wF,EAAM3wF,EAAEgD,OACZ,GACE,GAAoB,MAAhB2tF,EAAI1vC,QAEN,YADAjhD,EAAE+D,uBAGG4sF,EAAMA,EAAItiF,eAErBwtF,EAAOu2G,cAAczvM,KAAK,oDAExB8vM,EAA8B,WAChC52G,EAAOr6C,GAAG,QAAQ,WAChBq6C,EAAOnT,IAAIvnF,KAAK06F,EAAOmxB,UAAW,UAAU,SAAUhtH,GACpDA,EAAE+D,wBAcJ2uM,EAAwB,WAC1B72G,EAAOr6C,GAAG,aAAa,SAAUxhD,IAvVP,SAAUA,GACpC,IAAI2yM,EAAeC,EACf5yM,EAAE8hD,eACA+5C,EAAOixB,UAAU0I,eAAsC,QAArBx1H,EAAEgD,OAAOi+C,SAC7C6rE,EAAUjtD,OAAO7/D,EAAEgD,SAErB2vM,EAAgB92G,EAAOixB,UAAU3xD,cACft4D,OAAS,IACzB+vM,EAAkBxB,EAAuByB,OAAOh3G,EAAO7/D,IAAM,IAAM62K,OAAOF,GAC1E3yM,EAAE8hD,aAAa4uJ,QAAQW,EAAqBuB,KA+U9CE,CAAsB9yM,MAExB67F,EAAOr6C,GAAG,QAAQ,SAAUxhD,GAC1B,IAAKoyG,EAAmBpyG,GAAI,CAC1B,IAAI4yM,EA/UkB,SAAU5yM,GACpC,IAAI4yM,EACJ,OAAI5yM,EAAE8hD,eACJ8wJ,EAAkB5yM,EAAE8hD,aAAayG,QAAQ8oJ,KAClBuB,EAAgBthM,QAAQ8/L,IAAyB,GACtEwB,EAAkBA,EAAgBpwH,OAAO4uH,EAAqBvuM,QAAQM,MAAM,KACrE,CACL64B,GAAI+hH,SAAS60D,EAAgB,IAC7BhjL,KAAMmuH,SAAS60D,EAAgB,MAI9B,KAmUmBG,CAAsB/yM,GAC5C,GAAI4yM,GAAmBA,EAAgB52K,KAAO6/D,EAAO7/D,GAAI,CACvDh8B,EAAE+D,iBACF,IAAI8oH,EAAMoiB,GAAYjvI,EAAEqH,EAAGrH,EAAE6E,EAAGg3F,EAAOusC,UACvCtb,EAAUiU,OAAOlU,GArUe58F,EAsUR2iL,EAAgBhjL,KAtUCojL,GAsUK,EArUhDn3G,EAAOo3G,sBAAsB,6BAC/Bp3G,EAAO8yC,YAAY,6BAA6B,EAAO,CACrD1+G,QAASA,EACT+iL,SAAUA,IAGZn3G,EAAO8yC,YAAY,oBAAoB,EAAO1+G,IAPpB,IAAUA,EAAS+iL,MA2U7C/5D,EAAyBp9D,EAwE7B,OALI2qF,GAAM3qE,IA1DJs1G,IACFY,IACAU,IACAd,IACInrH,GAAIG,MACN0rH,IACAC,IACAE,MAGAtB,IACF94D,IACA65D,IACAE,IACAI,OA1LF12G,EAAOr6C,GAAG,WAAW,SAAUxhD,GAC7B,IAAI6sH,EAAKvuD,EACT,IAAI8zC,EAAmBpyG,IAAMA,EAAE01J,UAAY9rB,GAAGC,UAA9C,CAIA,IAAI//H,GADJ+iH,EAAMC,EAAUC,UACI3F,eAChBntG,EAAS4yG,EAAIxF,YACbr5G,EAAO06E,EAAI25B,UAEf,GADA/jD,EAASx0D,EACJ+iH,EAAIgJ,WAAwB,IAAX57G,EAAtB,CAGA,KAAOqkD,GAAUA,EAAOjwD,YAAciwD,EAAOjwD,WAAWk9E,aAAejtB,GAAUA,EAAOjwD,aAAeL,GACrGswD,EAASA,EAAOjwD,WAEK,eAAnBiwD,EAAOrd,UACT46C,EAAOgnC,UAAUrkE,OAAO,aAAc,KAAMF,IAC5CuuD,EAAMnkC,EAAIu7B,aACN6C,SAASh9G,EAAW,GACxB+iH,EAAI9F,OAAOj9G,EAAW,GACtBgjH,EAAUiU,OAAOlU,SA0KrB0kF,IACK/qH,GAAID,cA7HTsV,EAAOr6C,GAAG,yBAAyB,SAAUxhD,GACtC4pI,GAAGc,gBAAgB1qI,IACtB8sH,EAAU//F,eAEX,GA4HCokL,IAxTCt1G,EAAOvuF,QACVo7E,EAAIvnF,KAAK06F,EAAOusC,SAAU,qBAAqB,SAAUpoI,GACvD,IAAI6sH,EACJ,GAAI7sH,EAAEgD,SAAW64F,EAAOusC,SAASr+H,gBAG/B,GAFA8iH,EAAMC,EAAUC,SAChBlxB,EAAOmxB,UAAUnpH,QACF,cAAX7D,EAAEgG,KAAsB,CAC1B,GAAIs6F,GAAiBusB,EAAIzF,gBACvB,OAEF0F,EAAUo/C,aAAalsK,EAAE6H,QAAS7H,EAAE8H,cAEpCglH,EAAUiU,OAAOlU,MA8SvBklF,IAzIEn7E,GAAmB/6B,IACrBA,EAAOr6C,GAAG,QAAQ,WAChB8vJ,EAAsB,4BAA6B16E,GAAmB/6B,OAyIxE42G,IACAT,IA9DFviD,EAAOlhC,cAAc,MAAM,SAAU99B,GAEnC,IADA,IAAItwF,EAAIswF,EAAM5tF,OACP1C,KAC0B,8BAA3BswF,EAAMtwF,GAAG23D,KAAK,UAChB24B,EAAMtwF,GAAGiO,YA4DTo4E,GAAIG,KACN0rH,IACAC,IACAE,KAEAb,KAGAnrH,GAAIzC,IAAM,KACZuuH,IACAN,KAEExrH,GAAIzC,KACN4tH,IAnGFL,EAAsB,iBAAiB,GAqGrCoB,KAEExB,IA7TJr1G,EAAOr6C,GAAG,WAAW,SAAUxhD,GAC7B,IAAKoyG,EAAmBpyG,IAAMA,EAAE01J,UAAY7rB,EAAW,CACrD,IAAKhuC,EAAOmxB,UAAU1zE,qBAAqB,MAAMz2C,OAC/C,OAEF,GAAIiqH,EAAU0I,eAAoD,IAAnC1I,EAAUC,SAAS1F,YAAmB,CACnE,IAAI9rE,EAAOuxE,EAAU2D,UACjBtlC,EAAkB5vC,EAAK4vC,gBAC3B,GAAsB,OAAlB5vC,EAAKgC,SAGP,OAFAmrC,EAAIt6E,OAAOmtC,QACXv7C,EAAE+D,iBAGAonF,GAAmBA,EAAgB5tC,UAAuD,OAA3C4tC,EAAgB5tC,SAASl4C,gBAC1EqjF,EAAIt6E,OAAO+8E,GACXnrF,EAAE+D,uBAgTRq0I,IA9QE44D,EAA4B,WAC9B,IAAI1lI,EAAWod,EAAI+5B,WAAWqK,EAAU0hB,WAAWvtE,WAAU,IAC7D,OAAO,WACL,IAAIj+D,EAAS8pH,EAAU0hB,WACnBxrI,IAAW64F,EAAOmxB,YACpBtkC,EAAIg6B,UAAU1/G,EAAQ,QAAS,MAC/B6uD,EAAKyZ,GAAU,SAAUxT,GACvB90D,EAAOkwM,iBAAiBp7I,EAAKmJ,WAAU,UAK3CgwI,EAA4B,WAC9B,OAAQnkF,EAAU0I,eAAiB9sC,EAAIm8B,UAAUiI,EAAU0hB,WAAY9lD,EAAI2W,WAAa3W,EAAIm8B,UAAUiI,EAAU2hB,SAAU/lD,EAAI2W,UAEhIxD,EAAOr6C,GAAG,YAAY,SAAUxhD,GAC9B,IAAI+kM,EACJ,IAAK3yF,EAAmBpyG,KAAqB,IAAdA,EAAE01J,SAA+B,KAAd11J,EAAE01J,UAAmBu7C,IAKrE,OAJAlM,EAAkBiM,IAClBn1G,EAAOusC,SAASuG,YAAY,UAAU,EAAO,MAC7Co2D,IACA/kM,EAAE+D,kBACK,KAGX2kF,EAAIvnF,KAAK06F,EAAOusC,SAAU,OAAO,SAAUpoI,GACzC,IAAI+kM,GACC3yF,EAAmBpyG,IAAMixM,MAC5BlM,EAAkBiM,IAClBv1G,GAAMG,iBAAiBC,GAAQ,WAC7BkpG,WAkPJkN,IACAC,IACAC,IACAI,IACAP,MAQG,CACL/4D,uBAAwBA,EACxBpzB,SAzEa,WACb,IAAKqrF,GAAWr1G,EAAOC,QACrB,OAAO,EAET,IAAI90B,EAAM60B,EAAOixB,UAAUqZ,SAC3B,OAAQn/D,IAAQA,EAAI4+D,YAAiC,IAAnB5+D,EAAI4+D,cAwEtCutE,GAAQnxF,GAAS2D,IAYjBytF,GAAc,SAAUv3G,GAC1B,OAAOA,EAAOvuF,OAASuuF,EAAOn7C,aAAanD,SAASl4C,mBAAgBqN,GAElE2gM,GAAkB,SAAUhhK,GAC9B,OAAOutC,GAASvtC,GAAK,SAAU3tC,GAC7B,OAA0B,IAAnB82E,EAAY92E,OAGnB4uM,GAAmB,SAAUz3G,GAC/B,IAAIM,EAAWN,EAAOM,SAClBixE,EAAYvxE,EAAO44E,aAAarH,UACpC,OAAOimC,GAAgB,CACrBt2D,2BAA4B5gD,EAAS4gD,2BACrCnC,qBAAsBz+C,EAASy+C,qBAC/BrqC,oBAAqBpU,EAASoU,oBAC9B6hE,2BAA4Bj2E,EAASi2E,2BACrC/hE,kBAAmBlU,EAASkU,kBAC5B6hE,yBAA0B/1E,EAAS+1E,yBACnCzF,uBAAwBtwE,EAASswE,uBACjC4F,kBAAmBl2E,EAASk2E,kBAC5B3F,wBAAyBvwE,EAASuwE,wBAClCpQ,kBAAmBngE,EAASmgE,kBAC5B3D,wBAAyBx8D,EAASw8D,wBAClC6V,mBAAoBryE,EAASqyE,mBAC7B/vB,eAAgBtiD,EAASsiD,eACzBszB,oBAAqB51E,EAAS41E,oBAC9BU,cAAet2E,EAASs2E,cACxBxC,UAAWmjC,GAAYv3G,GACvBy6C,UAAU,EACVw4B,WAAY1B,EACZgC,sBAAuBjzE,EAASizE,yBAiHhCmkC,GAAoC,SAAU13G,GAChD,IAAI7tF,EAAO6tF,EAAOnT,IAAI25B,UACjBxmB,EAAOvuF,QAAYo5H,GAAa7qC,IAAWA,EAAOixB,UAAU0hB,UAAS,KAAUxgI,GAClFmxH,GAAgBnxH,GAAM6jD,MAAK,SAAU77B,GACnC,IAAIulB,EAAOvlB,EAAIy6F,UACX0nB,EAAWxpD,GAAQpzC,GAAQ4jF,GAAgB5jF,GAAM6hC,MAAMpnD,GAAOA,EAC9DwwD,GAAIrE,QAAQuB,OAlkbJ,SAAUmY,EAAQgxB,GAClC,IAAI7+G,EAAO26E,GAAaF,QAAQoT,EAAOmxB,WAEnCqpB,GADQL,GAAYn6C,GAAU3d,EAASt8E,KAAKirH,GAAO3uC,EAAStB,QACxC13E,IAAI+wI,IAA6Bl4H,OAAOg4H,GAAY/nI,IAC5E6tF,EAAO05B,SAAW8gB,EAAYl5D,SAAWk5D,EAAcx6C,EAAO05B,SA+jbxDi+E,CAAY33G,EAAQs8C,EAASplB,WAE7Bl3B,EAAOixB,UAAUiU,OAAOoX,EAASplB,eAKrC0gF,GAAa,SAAU53G,GACzBA,EAAO63G,4BACP73G,EAAO+uG,aAAc,EA9udR,SAAU/uG,GAChBA,EAAOn0B,KAAK,QA8udnBisI,CAAS93G,GACTA,EAAOh4F,OAAM,GACb0vM,GAAkC13G,GAClCA,EAAO8xC,YAAY,CAAE9kB,SAAS,IAC9BhtB,EAAO+3G,aAAa,yBAA0B/3G,GApChC,SAAUA,GACpBA,EAAOM,SAAS03G,YAClBp4G,GAAMG,iBAAiBC,GAAQ,WAC7B,IAAIw9C,GAEFA,GADiC,IAA/Bx9C,EAAOM,SAAS03G,WACJh4G,EAEAA,EAAO07C,cAAc32I,IAAIi7F,EAAOM,SAAS03G,aAExC3+B,WACf77B,EAAYx1I,UAEb,KAyBLiwM,CAAUj4G,IAERk4G,GAAsB,SAAUl4G,GAClC,OAAOA,EAAOvuF,OAASuuF,EAAOm4G,GAAG9xF,iBAAmBrmB,EAAOnT,IAAIw5B,kBAc7D+xF,GAAiB,SAAUp4G,EAAQtlC,GACrC,IAAI2rD,EAAmB6xF,GAAoBl4G,GACvC87B,EAAUD,GAAW77B,GACrBq4G,EAAY,WACdhyF,EAAiBjkB,UAAU1nC,GACtBslC,EAAOvuF,QACVuuF,EAAOm4G,GAAG9xF,iBAAiBjkB,UAAU05B,IAGrC7pE,EAAS,WACP+tC,EAAOC,QACTo4G,KAEAr4G,EAAOr6C,GAAG,SAAU0yJ,GACpBT,GAAW53G,KAGfb,GAAW1e,IA7BuB,SAAUuf,EAAQtlC,EAAK49I,GACzD,IAAIhmC,EAAW,CAAC,IAAInzE,IAAW,SAAUthC,EAAS46B,GAC9C,OAAOy/G,GAAoBl4G,GAAQ8B,QAAQpnC,EAAKmD,EAAS46B,OAE7D,OAAIuH,EAAOvuF,OACF6gK,EAEAA,EAAS5+I,OAAO,CAAC,IAAIyrE,IAAW,SAAUthC,EAAS46B,GACtD,OAAOuH,EAAOm4G,GAAG9xF,iBAAiBvkB,QAAQw2G,EAAaz6I,EAAS46B,QAqBvD8/G,CAA8Bv4G,EAAQtlC,EAAKohE,IAAUhwD,KAAK7Z,GAAQqtC,MAAMrtC,IAErFumJ,GAAU,SAAUx4G,GACtB,IAAIM,EAAWN,EAAOM,SAAUjnC,EAAM2mC,EAAOusC,SAAUr3H,EAAO8qF,EAAOmxB,UAChE7wB,EAASm4G,oBAAuBn4G,EAASo4G,mBAC5Cr/I,EAAInkD,KAAKyjM,YAAa,EACtBrB,GAAMzwF,UAAU3xG,EAAM,aAAc,UAEtC8qF,EAAOm9C,OAAS+3D,GAAOl1G,GAjydJ,SAAUA,GACtBA,EAAOn0B,KAAK,cAiydnB+sI,CAAe54G,GACf,IAAI64G,EAtphBkB,SAAU74G,GAChC,OAAOA,EAAO46B,SAAS,iBAAkBzN,GAAKa,QAAU,WAAQn3G,GAqphB3CiiM,CAAkB94G,GA0BvC,QAzBuBnpF,IAAnBgiM,IACF3jM,EAAKwiF,IAAMmhH,GAETv4G,EAASy4G,SACX/4G,EAAOr6C,GAAG,oBAAoB,SAAUxhD,GACtCwnF,GAAM31B,KAAKsqC,EAASy4G,SAAS,SAAUjpG,GACrC3rG,EAAEiwB,QAAUjwB,EAAEiwB,QAAQrsB,QAAQ+nG,GAAS,SAAU1jF,GAC/C,MAAO,wBAAuB4qL,OAAO5qL,GAAO,kBAKpD4zE,EAAOr6C,GAAG,cAAc,WACtBq6C,EAAOm1D,UAAUn1D,EAAOmxB,cAErBw5C,GAAM3qE,IACTA,EAAOW,KAAK,CACVqsB,SAAS,EACT8Z,OAAQ,SAGZ9mC,EAAOg5G,aAAeh5G,EAAO1gC,WAAW,CAAEwnE,OAAQ,QAClD9mC,EAAOr6C,GAAG,mCAAmC,SAAUxhD,GACrD67F,EAAOkzC,UAAuB,qBAAX/uI,EAAEgG,QAEnB61F,EAAOu2G,cAAcvvM,OAAS,EAAG,CACnC,IAAIiyM,EAAmB,GACvBttH,GAAM31B,KAAKgqC,EAAOu2G,eAAe,SAAUjqM,GACzC2sM,GAAoB3sM,EAAQ,UAE9B0zF,EAAOnT,IAAI+8B,SAASqvF,GAEtBb,GAAep4G,EAAQA,EAAO0iF,YAC1BpiF,EAAS44G,eA9PG,SAAUl5G,EAAQ/lC,GAClC,IAAI/kD,EAAO43E,GAAaF,QAAQoT,EAAOmxB,WACnCljH,EAAYgiF,GAAkBF,GAAY76E,IAC1C5I,EAAQwgF,GAAaI,QAAQ,SACjCzxE,GAAInP,EAAO,OAAQ,YACnB6gC,GAAO7gC,EAAOwgF,GAAaK,SAASlzB,IACpC9sB,GAAOl/B,EAAW3B,GAClB0zF,EAAOr6C,GAAG,UAAU,WAClBpzC,GAAOjG,MAuPP6sM,CAAYn5G,EAAQM,EAAS44G,gBAG7BE,GAAkB,SAAUp5G,EAAQq5G,GACtC,IAAI/4G,EAAWN,EAAOM,SAClByxC,EAAY/xC,EAAOn7C,aACnBwU,EAAM2mC,EAAOusC,SACZjsC,EAAS7uF,SACZuuF,EAAOn7C,aAAav4C,MAAMi5C,WAAay6C,EAAOs5G,eAE3CD,GAAcr5G,EAAOvuF,SACxB4nD,EAAIlkC,OACJkkC,EAAI1kC,MAAMqrE,EAAOu5G,YACjBlgJ,EAAIzkC,SAEForE,EAAOvuF,SACT6lM,GAAMx8I,SAASi3E,EAAW,oBAC1B/xC,EAAOmlB,gBAAkB9rD,EAAM/yD,SAC/B05F,EAAO9qE,cAAgBnxB,OACvBi8F,EAAO85E,YAAc/nC,EACrB/xC,EAAO45E,qBAAuB7nC,GAEhC,IAAI78H,EAAO8qF,EAAOmxB,UAClBj8G,EAAKxC,UAAW,EAChBstF,EAAO0jB,WAAapjB,EAASojB,SACxB1jB,EAAO0jB,WACN1jB,EAAOvuF,QAAqD,WAA3C6lM,GAAMnwF,SAASjyG,EAAM,YAAY,KACpDA,EAAK5I,MAAMoB,SAAW,YAExBwH,EAAK61E,gBAAkBiV,EAAO46B,SAAS,0BAA0B,IAEnE1lH,EAAKxC,UAAW,EAChBstF,EAAO44E,aAAegM,GAAa5kF,GACnCA,EAAO0M,OAASd,GAAOtL,GACvBN,EAAOnT,IAAMs5B,GAAS9sD,EAAK,CACzBuyD,aAAa,EACblY,cAAe1T,EAAO49E,WACtBhqE,oBAAqB5T,EACrBw5G,WAAYl5G,EAASm5G,uBACrBpwF,eAAe,EACfpC,aAAcjnB,EAAOvuF,OAASuuF,EAAOmxB,UAAY,KACjD5J,QAAS,WACP,OAAOvnB,EAAOvuF,QAEhBi7F,OAAQ1M,EAAO0M,OACfjL,eAAgBg6B,GAAwBz7B,GACxC0B,eAAgBg6B,GAAkB17B,GAClC+mB,YAAa,SAAU5iH,GACrB67F,EAAOn0B,KAAK,YAAa1nE,MAG7B67F,EAAO4zD,OArOU,SAAU5zD,GAC3B,IAAI4zD,EAASqgB,GAAUwjC,GAAiBz3G,GAASA,EAAO0M,QA2DxD,OA1DAknD,EAAOggB,mBAAmB,2BAA2B,SAAUh/E,EAAOx9E,GAIpE,IAHA,IAAsBsoC,EAAMv6C,EAAxBb,EAAIswF,EAAM5tF,OACV6lF,EAAMmT,EAAOnT,IACb8qF,EAAe,YAAcvgK,EAC1B9S,KAGL,IADAa,GADAu6C,EAAOk1C,EAAMtwF,IACA23D,KAAK7kD,MACJsoC,EAAKuc,KAAK07G,GAAe,CACrC,GAA+B,IAA3BxyK,EAAMsQ,QAAQ,UAA6C,IAA3BtQ,EAAMsQ,QAAQ,SAChD,SAEW,UAAT2B,IACFjS,EAAQ0nF,EAAI88B,eAAe98B,EAAI68B,WAAWvkH,GAAQu6C,EAAKtoC,OAC5CpQ,SACT7B,EAAQ,MAEVu6C,EAAKuc,KAAK07G,EAAcxyK,GACxBu6C,EAAKuc,KAAK7kD,EAAMjS,IACE,aAATiS,GACTsoC,EAAKuc,KAAK07G,EAAcxyK,GACxBu6C,EAAKuc,KAAK7kD,EAAM,OAEhBsoC,EAAKuc,KAAK07G,EAAc33E,EAAO49E,WAAWz4K,EAAOiS,EAAMsoC,EAAKtoC,WAKpEw8I,EAAOlhC,cAAc,UAAU,SAAU99B,GAEvC,IADA,IAAItwF,EAAIswF,EAAM5tF,OACP1C,KAAK,CACV,IAAIo7C,EAAOk1C,EAAMtwF,GACb6F,EAAOu1C,EAAKuc,KAAK,SAAW,UACH,IAAzB9xD,EAAKsL,QAAQ,SACfiqC,EAAKuc,KAAK,OAAQ,OAAS9xD,OAI7B61F,EAAOM,SAASsiD,gBAClBgR,EAAOlhC,cAAc,UAAU,SAAU99B,GAEvC,IADA,IAAItwF,EAAIswF,EAAM5tF,OACP1C,KAAK,CACV,IAAIo7C,EAAOk1C,EAAMtwF,GACjBo7C,EAAKv1C,KAAO,EACZu1C,EAAKtoC,KAAO,WACZsoC,EAAKv6C,MAAQ,UAAY66F,EAAOnT,IAAIrxD,OAAOkkB,EAAKv6C,OAAS,SAI/DyuJ,EAAOlhC,cAAc,2BAA2B,SAAU99B,GAGxD,IAFA,IAAItwF,EAAIswF,EAAM5tF,OACVgrJ,EAAmBhyD,EAAO0M,OAAO6F,sBAC9BjuG,KAAK,CACV,IAAIo7C,EAAOk1C,EAAMtwF,GACbo7C,EAAKsnD,QAAQgrD,IAAkD,IAA7BtyG,EAAKtS,OAAO,MAAMpmC,SACtD04C,EAAKvS,OAAO,IAAI+wG,GAAQ,KAAM,IAAIK,YAAa,OAI9CqV,EAyKS8lD,CAAa15G,GAC7BA,EAAOyyB,WAAa4lD,GAvQK,SAAUr4E,GACnC,IAAIM,EAAWN,EAAOM,SACtB,OAAOtb,GAASA,GAAS,GAAIyyH,GAAiBz3G,IAAUw3G,GAAgB,CACtE9jG,cAAepT,EAASoT,cACxBE,oBAAqBtT,EAASsT,oBAC9BixC,eAAgBvkD,EAASukD,eACzBn6C,SAAUpK,EAASoK,SACnBi6C,gBAAiBrkD,EAASqkD,gBAC1BL,OAAQhkD,EAASgkD,OACjBI,aAAcpkD,EAASokD,aACvBF,cAAelkD,EAASkkD,cACxBp0C,eAAgB9P,EAAS8P,eACzBupG,mBAAoBr5G,EAASq5G,mBAC7B9oG,gBAAiBvQ,EAASuQ,gBAC1BE,wBAAyBzQ,EAASyQ,wBAClCc,iBAAkBvR,EAASuR,iBAC3BrE,eAAgBlN,EAASkN,eACzBosG,oCAAqCt5G,EAASs5G,oCAC9CC,mBAAoBv5G,EAASu5G,mBAC7BntG,OAAQpM,EAASoM,OACjB21C,sBAAuB/hD,EAAS+hD,sBAChCy3D,qBAAsBx5G,EAASw5G,qBAC/BzrG,QAAS/N,EAAS+N,QAClB8B,oBAAqB7P,EAAS6P,oBAC9B4pG,qBAAsBz5G,EAASy5G,qBAC/BjpG,eAAgBxQ,EAASwQ,eACzBpD,cAAepN,EAASoN,cACxBN,eAAgB9M,EAAS8M,eACzBE,aAAchN,EAASgN,aACvBH,YAAa7M,EAAS6M,YACtB6sG,oBAAqB15G,EAAS05G,uBAyOEC,CAAqBj6G,GAASA,GAChEA,EAAOixB,UAAY48C,GAAgB7tE,EAAOnT,IAAKmT,EAAOu5C,SAAUv5C,EAAOyyB,WAAYzyB,GACnFA,EAAOk6G,UAAY/sE,GAAUntC,GAC7BA,EAAOgnC,UAAY+jD,GAAU/qF,GAC7BA,EAAO6sC,YAAc8+C,GAAY3rF,GACjCA,EAAOm6G,sBAAwB,IAAI1L,GAAWzuG,GAC9CA,EAAOo0D,oBAAsB++C,GAAmBnzG,GAChD8gG,GAAQ9gG,GACRivG,GAAQjvG,GACH2qE,GAAM3qE,IACTqvG,GAAQrvG,GAEV,IAAIo+B,EA7mDQ,SAAUp+B,GACtB,OAAK2qE,GAAM3qE,GAGF+sB,GAAK,MAFLwhF,GAA0BvuG,GA2mDvBo6G,CAAQp6G,GACpBygG,GAAQzgG,EAAQo+B,GAprGJ,SAAUp+B,GAClB+6B,GAAmB/6B,IACrBA,EAAOr6C,GAAG,aAAc26B,EAAM21F,GAAej2E,IAmrG/Cq6G,CAAQr6G,GACRotF,GAAQptF,GA54dQ,SAAUA,GACnBA,EAAOn0B,KAAK,WA44dnByuI,CAAYt6G,GACZ6qE,GAAQ7qE,GAAQ7e,MAAK,WACnBq3H,GAAQx4G,MACP,SAAUu6G,GACXv6G,EAAOw6G,kBAAiB,GACxBD,EAAWzuI,MAAK,SAAU2uI,GACxBz6G,EAAOw6G,kBAAiB,GACxBhC,GAAQx4G,MACP,SAAU/oD,GACX+oD,EAAOwhF,oBAAoBrsJ,KAAK,CAC9BhrB,KAAM,QACN8vD,KAAM7jD,OAAO6gC,KAEfuhK,GAAQx4G,UAKV06G,GAAQv0F,GAAS2D,IAyBjB6wF,GAAgB,SAAU36G,GAC5B,IAAIu5G,EA75hBW,SAAUv5G,GACzB,OAAOA,EAAO46B,SAAS,UAAW,mBA45hBjBggF,CAAW56G,GAAU,gBA15hBf,SAAUA,GACjC,OAAOA,EAAO46B,SAAS,oBAAqB,KA05hBxCigF,CAAmB76G,KAAYA,EAAOi9E,kBACxCs8B,GAAc,eAAiBv5G,EAAOuiF,gBAAgBu4B,SAAW,QAEnEvB,GAAc,wEACd,IAAIwB,EA55hBU,SAAU/6G,GACxB,OAAO26B,GAAe36B,EAAQ,UAAW,WA25hB5Bg7G,CAAUh7G,GACnBi7G,EA15hBa,SAAUj7G,GAC3B,OAAO26B,GAAe36B,EAAQ,aAAc,IAy5hB5Bk7G,CAAal7G,GAK7B,OAJI86B,GAAyB96B,KAC3Bu5G,GAAc,uDAAyDz+E,GAAyB96B,GAAU,QAE5Gu5G,GAAc,oBAAsBwB,EAAS,6BAA+BE,EAAY,cAAgBj7G,EAAO7/D,GAAK,wBAGlHg7K,GAAe,SAAUn7G,EAAQ57F,GACnC,IAAIi7D,EAAQ2gC,EAAO07C,cAAc3uF,UAAU,yCACvCquJ,EA5BoB,SAAUj7K,EAAIk/B,EAAOhzD,EAAQgvM,GACrD,IAAI3mL,EAASo4D,GAAaI,QAAQ,UASlC,OARA2G,GAAOn/D,EAAQ2mL,GACfxnH,GAAOn/D,EAAQ,CACbyL,GAAIA,EAAK,OACTm7K,YAAa,IACbC,kBAAmB,OACnBl8I,MAAOA,IAETgxD,GAAM37F,EAAQ,yBACPA,EAkBG8mL,CAAoBx7G,EAAO7/D,GAAIk/B,EAAOj7D,EAAEiI,OA/6hB/B,SAAU2zF,GAC7B,OAAOA,EAAO46B,SAAS,eAAgB,IA86hBmB6gF,CAAez7G,IAASnT,IAClFuuH,EAAIxvJ,OAAS,WACXwvJ,EAAIxvJ,OAAS,KACbo0C,EAAOn0B,KAAK,SAEd,IAAI6vI,EA7CY,SAAU17G,EAAQo7G,GAClC,GAAI90M,SAASiuB,SAAWxwB,OAAOs8G,SAAS/qE,UAAYq1C,GAAIrE,QAAQuB,OAAQ,CACtE,IAAI8zH,EAAW7+J,GAAK,OACpBkjD,EAAO27G,GAAY,WACjBvC,GAAgBp5G,IAElB,IAAI47G,EAAiB,2DAAkEt1M,SAASiuB,OAA3E,yCAAoIyrE,EAAO7/D,GAA3I,wDAA+Mw7K,EAAW,cAE/O,OADAjB,GAAM7zF,UAAUu0F,EAAK,MAAOQ,IACrB,EAET,OAAO,EAmCeC,CAAY77G,EAAQo7G,GAK1C,OAJAp7G,EAAO45E,qBAAuBx1K,EAAE03M,gBAChC97G,EAAO48C,cAAgBw+D,EACvBp7G,EAAOu5G,WAAaoB,GAAc36G,GAClC06G,GAAM3oM,IAAI3N,EAAE03M,gBAAiBV,GACtBM,GAeLK,GAAQ51F,GAAS2D,IACjBkyF,GAAa,SAAUh8G,EAAQi8G,EAAoBC,GACrD,IAAIpzL,EAAS4mG,GAAc3qH,IAAIm3M,GAC3BzsF,EAAYC,GAAc3tB,KAAKm6G,IAAWl8G,EAAOi9E,gBAAgBl1K,QAAQ,MAAO,IAEpF,GADAm0M,EAASvwH,GAAMllF,KAAKy1M,GAChBpzL,IAAyD,IAA/C6iE,GAAM5wB,QAAQkhJ,EAAoBC,GAAgB,CAI9D,GAHAvwH,GAAM31B,KAAK05D,GAAcpB,aAAa4tF,IAAS,SAAUztF,GACvDutF,GAAWh8G,EAAQi8G,EAAoBxtF,MAErCzuB,EAAO4qE,QAAQsxC,GACjB,OAEF,IACE,IAAIC,EAAiB,IAAIrzL,EAAOk3E,EAAQyvB,EAAWzvB,EAAOn1F,GAC1Dm1F,EAAO4qE,QAAQsxC,GAAUC,EACrBA,EAAettM,OACjBstM,EAAettM,KAAKmxF,EAAQyvB,GAC5BwsF,EAAmBn1M,KAAKo1M,IAE1B,MAAO/3M,IAr8MS,SAAU67F,EAAQ5oF,EAAM6/B,GAC5C,IAAI8J,EAAUosE,GAAKpgE,UAAU,CAC3B,mCACA31C,IAEFy2H,GAAU7tC,EAAQ,kBAAmB,CAAEj/C,QAASA,IAChD+gI,GAAU/gI,EAAS9J,GACnBwqI,GAAazhF,EAAQj/C,GA+7MjBq7J,CAAgBp8G,EAAQk8G,EAAQ/3M,MAIlCk4M,GAAmB,SAAUjlM,GAC/B,OAAOA,EAAKrP,QAAQ,MAAO,KA+CzBu0M,GAAyB,SAAUzwM,GACrC,MAAO,CACLguK,gBAAiBhuK,EACjBiwM,gBAAiBjwM,EACjBu/H,IAAK,KAQLmxE,GAAmB,SAAUv8G,GAC/B,IAAIp7B,EAAgBo7B,EAAOn7C,aAC3B,OAAOm7C,EAAOvuF,OAAS6qM,GAAuB,MAPnB,SAAU13I,GACrC,IAAIk3I,EAAkBC,GAAM12M,OAAO,OAEnC,OADA02M,GAAM3xF,YAAY0xF,EAAiBl3I,GAC5B03I,GAAuBR,GAIwBU,CAAuB53I,IAE3E63I,GAAgB,SAAUz8G,GAC5B,IAAIlL,EAAMkL,EAAOn7C,aAEjB,OADAm7C,EAAOi5E,WAAankF,EAAIxoF,MAAM0oB,QAC1BwqD,EAASy8C,GAASj8B,IAnCI,SAAUA,GACpC,OAAOA,EAAOvwF,MAAMitM,WAmCXC,CAAsB38G,GACpBlgB,EAAWm8C,GAASj8B,IAlCP,SAAUA,GAClC,IAAIlL,EAAMkL,EAAOn7C,aAEb7G,EADQi+E,GAASj8B,EACVvwF,CAAMuwF,EAAQlL,GAQzB,OAPI92C,EAAK67H,gBAAgBx1H,WACvBrG,EAAK67H,gBAAgB15I,GAAK6d,EAAK67H,gBAAgB15I,IAAM6/D,EAAO7/D,GAAK,WAE/D6d,EAAK89J,iBAAmB99J,EAAK89J,gBAAgBz3J,WAC/CrG,EAAK89J,gBAAgB37K,GAAK6d,EAAK89J,gBAAgB37K,IAAM6/D,EAAO7/D,GAAK,oBAEnE6d,EAAK3xC,OAAS2xC,EAAK4+J,aAAe5+J,EAAK4+J,aAAe9nH,EAAItoF,aACnDwxC,EAwBE6+J,CAAoB78G,GAEpBu8G,GAAiBv8G,IAiBxB88G,GAAS,SAAU98G,GACrBA,EAAOn0B,KAAK,iBAjFE,SAAUm0B,GACxB,IAAI+8G,EAAepxH,GAAMllF,KAAK20H,GAAgBp7B,IAC1Cg9G,EAAeh9G,EAAOm4G,GAAG3lF,SAASplF,SAAS8wI,MAC3C++B,EAAYj4H,GAASA,GAAS,GAAIg5F,GAAYj5K,IAAI,WAAWm5K,OAAQF,GAAYj5K,IAAIg4M,GAAc7+B,OACvG56F,GAAO25H,GAAW,SAAUC,EAASriJ,GAC9B/iD,GAAIklM,EAAcniJ,IACrBmlC,EAAOm4G,GAAG3lF,SAAS2qF,QAAQtiJ,EAAMqiJ,MA4ErCE,CAAUp9G,GAxEI,SAAUA,GACxB,IAAIvwF,EAAQwsH,GAASj8B,GACrB,GAAIxgB,EAAS/vE,GAAQ,CACnBuwF,EAAOM,SAAS7wF,MAAQ4sM,GAAiB5sM,GACzC,IAAI4tM,EAAQ1tF,GAAa5qH,IAAI0K,GAC7BuwF,EAAOvwF,MAAQ,IAAI4tM,EAAMr9G,EAAQ2vB,GAAa5tB,KAAKtyF,IAC/CuwF,EAAOvwF,MAAMZ,MACfmxF,EAAOvwF,MAAMZ,KAAKmxF,EAAQ2vB,GAAa5tB,KAAKtyF,IAAUuwF,EAAOi9E,gBAAgBl1K,QAAQ,MAAO,IAAKi4F,EAAOn1F,QAG1Gm1F,EAAOvwF,MAAQ,GA+DjB6tM,CAAUt9G,GAzFM,SAAUA,GAC1B,IAAIi8G,EAAqB,GACzBtwH,GAAM31B,KAAKqmE,GAAWr8B,GAAQ14F,MAAM,SAAS,SAAU8P,GACrD4kM,GAAWh8G,EAAQi8G,EAAoBI,GAAiBjlM,OAuF1DmmM,CAAYv9G,GACZ,IAAIw9G,EAAaf,GAAcz8G,IAnBR,SAAUA,EAAQorC,GACzC,IAAIqyE,EAAc,CAChBzuM,KAAMqzE,EAASt8E,KAAKqlI,EAAIp8H,MAAMuyE,MAAMvB,GACpCjxE,KAAMszE,EAASt8E,KAAKqlI,EAAIr8H,MAAMwyE,MAAMvB,GACpCrtE,QAAS0vE,EAASt8E,KAAKqlI,EAAIz4H,SAAS4uE,MAAMvB,GAC1C09H,WAAYr7H,EAASt8E,KAAKqlI,EAAIsyE,YAAYn8H,MAAMV,GAChDn6B,OAAQ,WACDs5C,EAAOpmE,KAAK8lK,cACfr9G,EAASt8E,KAAKqlI,EAAI1kF,QAAQr9C,IAAI7E,KAIpCw7F,EAAOm4G,GAAKnzH,GAASA,GAAS,GAAIgb,EAAOm4G,IAAKsF,GAQ9CE,CAAmB39G,EAAQ3d,EAASt8E,KAAKy3M,EAAWpyE,KAAK7pD,MAAM,KAC/D,IAAIq8H,EAAU,CACZ/jC,gBAAiB2jC,EAAW3jC,gBAC5BiiC,gBAAiB0B,EAAW1B,iBAI9B,OAFA97G,EAAO65E,gBAAkB+jC,EAAQ/jC,gBAAkB+jC,EAAQ/jC,gBAAkB,KAC7E4I,GAA6BziF,GACzBA,EAAOvuF,OACF2nM,GAAgBp5G,GA5Id,SAAUA,EAAQ49G,GAC7B,IAAIlC,EAAkBP,GAAan7G,EAAQ49G,GACvCA,EAAQ/jC,kBACV6gC,GAAM31M,IAAI64M,EAAQ/jC,iBAAiBvtK,MAAM0oB,QAAUgrE,EAAOi5E,WAC1Dj5E,EAAOluF,OAAS4oM,GAAM1wF,SAAS4zF,EAAQ/jC,kBAEzC75E,EAAOn7C,aAAav4C,MAAM0oB,QAAU,OACpC0lL,GAAM7zF,UAAU7mB,EAAO7/D,GAAI,cAAe,QACrCu7K,GACHtC,GAAgBp5G,GAqIT69G,CAAO79G,EAAQ49G,IAItBE,GAAQ33F,GAAS2D,IACjBi0F,GAAoB,SAAU3mM,GAChC,MAA0B,MAAnBA,EAAKL,OAAO,IAEjBinM,GAAe,SAAUC,EAAcj+G,GACzC,IAAIk+G,EAAeviF,GAAgB37B,GAC/Bm+G,EAr/hBe,SAAUn+G,GAC7B,OAAOA,EAAO46B,SAAS,eAAgB,GAAI,UAo/hBzBwjF,CAAep+G,GACjC,IAAmC,IAA/BmtB,GAAKc,QAAQiwF,IAA4C,OAAjBA,EAAuB,CACjE,IAAIG,EAAwB,KAAhBF,EAAqBA,EAAcn+G,EAAO07C,cAAc9sB,QAAU,UAAYsvF,EAAe,MACzGD,EAAalsM,IAAIssM,EAAOr+H,OAAMnpE,GAAW,YAnkNrB,SAAUmpF,EAAQ5tE,EAAKhb,GAC7CuqK,GAAS3hF,EAAQ,oBAAqB4hF,GAAgB,WAAYxvJ,EAAKhb,IAmkNnEknM,CAAkBt+G,EAAQq+G,EAAOH,QAgCnCK,GAA0B,SAAUv+G,EAAQ5oF,EAAMy8F,GACpD,OAAOxxB,EAASt8E,KAAKqR,GAAM8K,QAAO,SAAU9K,GAC1C,OAAOA,EAAKpQ,OAAS,IAAMg3K,GAAYlmK,IAAIV,MAC1C/N,KAAI,SAAU+N,GACf,MAAO,CACLgb,IAAK4tE,EAAO07C,cAAc9sB,QAAU,UAAYx3G,EAAO,SAAWy8F,EAAS,MAC3Ez8F,KAAMirE,EAAS5tE,KAAK2C,QAItB6lM,GAAY,SAAUgB,EAAcj+G,EAAQ6T,GAC9C,IAAI2qG,EAAkBD,GAAwBv+G,EAAQ,UAAW6T,GAC7D4qG,EAtBuB,SAAUz+G,GACrC,OAAO3d,EAASt8E,KAxiiBA,SAAUi6F,GAC1B,OAAOA,EAAO46B,SAAS,YAAa,GAAI,UAuiiBnB8jF,CAAY1+G,IAAS99E,QAAO,SAAUkQ,GACzD,OAAOA,EAAIprB,OAAS,KACnBqC,KAAI,SAAU+oB,GACf,MAAO,CACLA,IAAKA,EACLhb,KAAMirE,EAAStB,WAgBE49H,CAAuB3+G,GAAQne,SAAQ,WAC1D,OAAO08H,GAAwBv+G,EAAQo7B,GAAgBp7B,GAAS,OAElEhqC,EA32jBQ,SAAU1e,GAKlB,IAJA,IAAItyC,EAAI,GACJ8B,EAAO,SAAU0E,GACnBxG,EAAE8B,KAAK0E,IAEAlH,EAAI,EAAGA,EAAIgzC,EAAItwC,OAAQ1C,IAC9BgzC,EAAIhzC,GAAG0xD,KAAKlvD,GAEd,OAAO9B,EAm2jBF45M,CAAI,CACPJ,EACAC,KACE,SAAUI,GACZZ,EAAalsM,IAAI8sM,EAAQzsL,IAAK4tD,OAAMnpE,GAAW,YA1nN9B,SAAUmpF,EAAQ5tE,EAAKhb,GAC1CuqK,GAAS3hF,EAAQ,iBAAkB4hF,GAAgB,QAASxvJ,EAAKhb,IA0nN7D0nM,CAAe9+G,EAAQ6+G,EAAQzsL,IAAKysL,EAAQznM,KAAKuqE,yBAyCnD8qC,GAAc,SAAUzsB,EAAQ6T,GAClC,IAAIoqG,EAAehyF,GAAaA,cA1FlB,SAAUgyF,EAAcj+G,EAAQ6T,EAAQrmE,GACtD,IAAI/9B,EAAQwsH,GAASj8B,GACrB,GAAIxgB,EAAS/vE,GAAQ,CACnB,IAAKsuM,GAAkBtuM,KAAWkgH,GAAa5tB,KAAKt8F,eAAegK,GAAQ,CACzE,IAAIsvM,EAp7hBQ,SAAU/+G,GAC1B,OAAOA,EAAO46B,SAAS,aAm7hBJokF,CAAYh/G,GACvB++G,EACFpvF,GAAahvB,KAAKlxF,EAAOuwF,EAAOuiF,gBAAgBC,WAAWu8B,IAE3DpvF,GAAahvB,KAAKlxF,EAAO,UAAYA,EAAQ,SAAWokG,EAAS,OAGrEoqG,EAAazxF,WAAU,WACrBmD,GAAaX,QAAQv/G,EAAO+9B,WAG9BA,IA4EFyxK,CAAUhB,EAAcj+G,EAAQ6T,GAAQ,WACtCmqG,GAAaC,EAAcj+G,GAC3Bi9G,GAAUgB,EAAcj+G,EAAQ6T,GAzClB,SAAU7T,EAAQ6T,GAClCloB,GAAM31B,KA97hBiB,SAAUgqC,GACjC,OAAOA,EAAO46B,SAAS,oBA67hBZskF,CAAmBl/G,IAAS,SAAU5tE,EAAKhb,GACpDs4G,GAAc/uB,KAAKvpF,EAAMgb,EAAK4tD,OAAMnpE,GAAW,WAC7CgrK,GAAgB7hF,EAAQ5tE,EAAKhb,MAE/B4oF,EAAOM,SAASsqE,SAAW,IAAMxzJ,KAEnCu0E,GAAM31B,KAAKqmE,GAAWr8B,GAAQ14F,MAAM,SAAS,SAAU40M,GAErD,IADAA,EAASvwH,GAAMllF,KAAKy1M,MACLxsF,GAAc3tB,KAAKm6G,GAChC,GAAI6B,GAAkB7B,GAAS,CAC7BA,EAASA,EAAOv1H,OAAO,EAAGu1H,EAAOl1M,QACjC,IAAIsnH,EAAeoB,GAAcpB,aAAa4tF,GAC9CvwH,GAAM31B,KAAKs4D,GAAc,SAAU6wF,GACjC,IAAI1iC,EAAkB,CACpB/9G,OAAQ,WACRgwD,SAAUywF,EACVtrG,OAAQ,UAAYA,EAAS,OAE3B4a,EAAMiB,GAAcnB,UAAUkuD,EAAiB0iC,GACnDzvF,GAAc/uB,KAAK8tB,EAAIC,SAAUD,EAAKzuC,OAAMnpE,GAAW,WACrDgrK,GAAgB7hF,EAAQyuB,EAAI/vD,OAAS+vD,EAAIC,SAAWD,EAAI5a,OAAQ4a,EAAIC,oBAGnE,CACL,IAAI0wF,EAAQ,CACV1gJ,OAAQ,WACRgwD,SAAUwtF,EACVroG,OAAQ,UAAYA,EAAS,OAE/B6b,GAAc/uB,KAAKu7G,EAAQkD,EAAOp/H,OAAMnpE,GAAW,WACjDgrK,GAAgB7hF,EAAQo/G,EAAM1gJ,OAAS0gJ,EAAM1wF,SAAW0wF,EAAMvrG,OAAQqoG,UAW5EmD,CAAYr/G,EAAQ6T,GACpBoqG,EAAazxF,WAAU,WAChBxsB,EAAOC,SACV68G,GAAO98G,KAERA,GAAQ,WACJA,EAAOC,SACV68G,GAAO98G,UAWX9yB,GAAS,SAAU8yB,GACrB,IAAI7/D,EAAK6/D,EAAO7/D,GAChBgtF,GAAKC,QAAQuO,GAAgB37B,IAC7B,IAAIgX,EAAe,WACjB8mG,GAAM/lG,OAAOh0G,OAAQ,QAASizG,GAC9BhX,EAAO9yB,UAET,GAAK+pC,GAAW7uG,MAAM2uG,WAItB,GAAK/W,EAAOn7C,cAGP8lC,GAAII,gBAAT,CAGA,IAAIl/E,EAAUihF,GAAaF,QAAQoT,EAAOn7C,cACtCy6J,EAnnxBM,SAAUzzM,GACpB,OAAOg3E,EAAMh3E,EAAQghF,IAAIvgD,YAAY,SAAUs2C,EAAK3mB,GAElD,OADA2mB,EAAI3mB,EAAK7kD,MAAQ6kD,EAAK92D,MACfy9E,IACN,IA+mxBYj4E,CAAMkB,GACrBm0F,EAAOr6C,GAAG,UAAU,WAClB+8B,EAAM72E,EAAQghF,IAAIvgD,YAAY,SAAU2vB,GACtC,OAAOg4B,GAASpoF,EAASowD,EAAK7kD,SAEhCy8E,GAAOhoF,EAASyzM,MAElBt/G,EAAOm4G,GAAG9xF,iBA/BgB,SAAUx6G,EAASm0F,GAC7C,OAAOhgE,GAASwzB,WAAW3nD,EAAS,CAClC41F,eAAgB26B,GAAkBp8B,GAClC0B,eAAgBg6B,GAAkB17B,KA4BPu/G,CAAsB1zM,EAASm0F,IAtjiB7C,SAAUA,GACzB,OAAOA,EAAO46B,SAAS,UAsjiBlB4kF,CAAWx/G,IACdA,EAAOs5G,cAAgBt5G,EAAOn7C,aAAav4C,MAAMi5C,WACjDy6C,EAAOn7C,aAAav4C,MAAMi5C,WAAa,UAEvCy6C,EAAOvuF,QAAS,EAElB,IAAIy1C,EAAO84C,EAAOn7C,aAAaqC,MAAQ42J,GAAM90F,UAAU7oF,EAAI,QACvD+mB,IACF84C,EAAOu5E,YAAcryH,EA5jiBJ,SAAU84C,GAC7B,OAAOA,EAAO46B,SAAS,gBA4jiBjBm+C,CAAe/4E,KAAYhN,GAAkBgN,EAAOn7C,gBACtDi5J,GAAM1zF,YAAY0zF,GAAMz4M,OAAO,QAAS,CACtC8E,KAAM,SACNiN,KAAM+oB,IACJA,GACJ6/D,EAAO+4E,gBAAiB,GAE1B/4E,EAAO05E,kBAAoB,SAAUv1K,GACnC67F,EAAOn0B,KAAK1nE,EAAEgG,KAAMhG,IAEtB25M,GAAMx4M,KAAK4hD,EAAM,eAAgB84C,EAAO05E,mBACxC15E,EAAOr6C,GAAG,SAAS,WACjBq6C,EAAOy/G,mBAtkiBW,SAAUz/G,GAChC,OAAOA,EAAO46B,SAAS,gBAukiBjB8kF,CAAkB1/G,IAAY94C,EAAKuyH,OAAOp1H,UAAa6C,EAAKuyH,OAAOzyK,QAAWkgD,EAAKsyH,gBACrFtyH,EAAKsyH,cAAgBtyH,EAAKuyH,OAC1BvyH,EAAKuyH,OAAS,WAGZ,OAFAz5E,EAAO07C,cAAcikE,cACrB3/G,EAAOmpE,UAAS,GACTjiH,EAAKsyH,cAActyH,MAIhC84C,EAAO4/G,cAAgBt/B,GAActgF,GACrCA,EAAOwhF,oBAAsBrC,GAAoBn/E,GA/kiB/B,SAAUA,GAC5B,MAAuC,QAAhCA,EAAO46B,SAAS,YA+kiBnBilF,CAAc7/G,IAChBA,EAAOr6C,GAAG,cAAc,SAAUxhD,GAC5BA,EAAE2K,OACJ3K,EAAEiwB,QAAU0pL,GAAMtiL,OAAOr3B,EAAEiwB,aAhliBF,SAAU4rE,GACzC,OAAOA,EAAO46B,SAAS,2BAmliBnBklF,CAA2B9/G,IAC7BA,EAAOr6C,GAAG,UAAU,WACdq6C,EAAO+uG,aACT/uG,EAAOlxF,UApliBc,SAAUkxF,GACrC,OAAOA,EAAO46B,SAAS,sBAuliBnBmlF,CAAuB//G,KACzBA,EAAOs5E,cAAgB,YACjBt5E,EAAO+uG,aAAgB/uG,EAAOq5E,WAAcr5E,EAAOgqB,YACrDhqB,EAAOlxF,KAAK,CACVg4H,OAAQ,MACR6c,WAAW,EACXq8D,WAAW,KAIjBhgH,EAAO07C,cAAc/1F,GAAG,eAAgBq6C,EAAOs5E,gBAEjDt5E,EAAO07C,cAAc3pI,IAAIiuF,GACzBysB,GAAYzsB,EAAQA,EAAO6T,cA/EzBiqG,GAAMx4M,KAAKvB,OAAQ,QAASizG,IAkF5BipG,GAAc,SAAUjgH,EAAQlL,GAClC,OA9gSc,SAAUkL,EAAQlL,GAChC,OAAOs3E,GAAwBpsE,GAAQA,OAAOm1D,UAAUrgE,GA6gSjDqgE,CAAUn1D,EAAQlL,IAGvBorH,GAAkB,CACpB,YAAa,OACb,cAAe,QAEbC,GAAuB,SAAU/hC,EAAUppF,EAASF,GAetD,OAAO2hE,GAAU3pE,GAAaF,QAAQkI,IAAM,SAAUA,GACpD,OAfgB,SAAUA,GAC1B,OAAOR,GAAOQ,EAAKspF,GAAUv8F,SAAQ,WACnC,MAAkB,SAAdzqE,GAAK09E,GACA7Q,GAAMi8H,GAAiB9hC,GAAU94K,MAAK,SAAU86M,GACrD,OAAOpsH,GAAOc,EAAKsrH,MAGd/9H,EAAStB,UAQbs/H,CAAYvrH,MAJR,SAAUA,GACrB,OAAO7G,GAAKnB,GAAaF,QAAQoI,GAAUF,OAY3CwrH,GAAc,SAAUliC,GAC1B,OAAO,SAAUppF,EAASF,GACxB,OAAOzS,EAASt8E,KAAK+uF,GAAKzrF,IAAIyjF,GAAaF,SAAS1qE,OAAOq8C,IAAWj5D,MAAK,SAAUuG,GACnF,OAAOs0M,GAAqB/hC,EAAUppF,EAASnpF,EAAQghF,KAAKjL,GANxC,SAAUw8F,EAAUtpF,GAC5C,OAAOzS,EAASt8E,KAAKogH,GAAS2D,IAAI3C,SAASryB,EAAKspF,GAAU,IAKSmiC,CAAoBniC,EAAUvyK,EAAQghF,SACpGtL,MAAM,MAGTi/H,GAAcF,GAAY,aAC1BG,GAAgBxgI,GAdM,SAAUuoG,GAClC,OAAOA,EAAWzgL,QAAQ,YAAa,IAAIA,QAAQ,QAAS,OAabu4M,GAAY,gBAEzDI,GAAwB,SAAU1gH,GACpC,OAAOsjC,GAAgBtjC,EAAOmxB,WAAW9nH,KAAI,SAAU+0H,GACrD,IAAInwH,EAAYmwH,EAAMnwH,YACtB,OAAOglF,GAAShlF,GAAaA,EAAUuE,WAAavE,MAUpD0yM,GAAW,SAAU3gH,EAAQ4gH,GAC/B,OARoB,SAAU5gH,GAC9B,OAAO3d,EAASt8E,KAAKi6F,EAAOixB,UAAUC,UAAU5rH,MAAK,SAAU0rH,GAC7D,IAAI7+G,EAAO6tF,EAAOmxB,UAElB,OADoBH,EAAIzF,iBAAmBp5G,GAA4B,IAApB6+G,EAAIxF,YAChCnpC,EAAStB,OAASsB,EAASt8E,KAAKi6F,EAAOixB,UAAU0hB,UAAS,OAI5EkuE,CAAgB7gH,GAAQne,QAAQvB,EAAMogI,GAAuB1gH,IAAS32F,IAAIyjF,GAAaF,SAAS1qE,OAAOq8C,IAAWl1D,IAAIu3M,IAG3HE,GAAqB,SAAU9gH,EAAQ76F,GACzC,GAAI,YAAY6E,KAAK7E,GAAQ,CAC3B,IAAI47M,EAAiBz3M,SAASnE,EAAO,IACrC,GAAI47M,GAAkB,GAAKA,GAAkB,EAAG,CAC9C,IAAIvwC,EApziBe,SAAUxwE,GACjC,OAAOrU,GAAMe,QAAQsT,EAAO46B,SAAS,yBAA0B,yDAmziB3ComF,CAAmBhhH,GAC/BihH,EAlziBe,SAAUjhH,GACjC,OAAOrU,GAAMe,QAAQsT,EAAO46B,SAAS,oBAAqB,KAiziBpCsmF,CAAmBlhH,GACrC,OAAIihH,EACKA,EAAYF,EAAiB,IAAM57M,EAEnCqrK,EAAUuwC,EAAiB,IAAM57M,EAG1C,OAAOA,EAGT,OAAOA,GAGPg8M,GAAqB,SAAUC,GACjC,IAAIC,EAAQD,EAAK95M,MAAM,WACvB,OAAO+B,EAAIg4M,GAAO,SAAUD,GAC1B,OAA2B,IAAvBA,EAAK3rM,QAAQ,MAAiBhK,GAAW21M,EAAM,MAAQ31M,GAAW21M,EAAM,KAGnEA,EAFA,IAAOA,EAAO,OAItBh3M,KAAK,MA0DNk3M,GAAkB,SAAUthH,EAAQ76F,GACtC,IAAIiP,EAlBa,SAAUjP,GAC3B,IAAIuuJ,EACJ,MAAqB,iBAAVvuJ,GACTuuJ,EAAU/nE,GAAMjnC,OAAO,CACrBxF,MAAO/5C,EAAM+5C,MACbjuB,KAAM,CAAEiuB,MAAO/5C,EAAM+5C,QACpB/5C,GACI,CACLivB,QAASjvB,EAAMivB,QACfs/H,QAASA,IAGN,CACLt/H,QAASjvB,EACTuuJ,QAAS,IAIE6tD,CAAap8M,IApqSR,SAAU66F,EAAQ76F,EAAOuuJ,GACpCyY,GAA2BnsE,GAAQA,OAAOiqE,cAAc9kK,EAAOuuJ,GAoqStEuW,CAAcjqE,EAAQ5rF,EAAOggB,QAAShgB,EAAOs/I,UAG3C8tD,GAAS71H,GAAM31B,KACfyrJ,GAAQ91H,GAAMtiF,IAAKq4M,GAAY/1H,GAAM5wB,QACrC4mJ,GAAiB,WACnB,SAASA,EAAe3hH,GACtBpxF,KAAKgzM,SAAW,CACdzxL,MAAO,GACPlmB,KAAM,GACN9E,MAAO,IAETyJ,KAAKoxF,OAASA,EACdpxF,KAAKizM,cAAc7hH,GAqYrB,OAnYA2hH,EAAen8M,UAAUstI,YAAc,SAAU45C,EAASyrB,EAAIhzM,EAAOwoC,GACnE,IAAIgyD,EAAMxvE,GAAQ,EACdpa,EAAOnH,KACX,IAAImH,EAAKiqF,OAAOC,QAAhB,CA9ycU,IAAUD,EA2zcpB,GAVK,mEAAmEh2F,KAAK0iL,IAAc/+I,GAASA,EAAKm0K,YAjzcrF9hH,EAozcVjqF,EAAKiqF,OAnzcjBkxB,GAAOlxB,GAAQhqC,MAAK,SAAUg7D,GAC5B,OAAOhxB,EAAOixB,UAAUiU,OAAOlU,OAgzc7Bj7G,EAAKiqF,OAAOh4F,SAId2lC,EAAO53B,EAAKiqF,OAAOn0B,KAAK,oBAAqB,CAC3C6gH,QAASA,EACTyrB,GAAIA,EACJhzM,MAAOA,KAEAoxG,qBACP,OAAO,EAET,IAAIwrG,EAAgBr1B,EAAQljL,cAC5B,GAAIm2F,EAAO5pF,EAAK6rM,SAAS33M,KAAK83M,GAO5B,OANApiH,EAAKoiH,EAAe5J,EAAIhzM,GACxB4Q,EAAKiqF,OAAOn0B,KAAK,cAAe,CAC9B6gH,QAASA,EACTyrB,GAAIA,EACJhzM,MAAOA,KAEF,EAaT,GAXAq8M,GAAO5yM,KAAKoxF,OAAO4qE,SAAS,SAAUllK,GACpC,GAAIA,EAAEotI,aAAeptI,EAAEotI,YAAY45C,EAASyrB,EAAIhzM,GAO9C,OANA4Q,EAAKiqF,OAAOn0B,KAAK,cAAe,CAC9B6gH,QAASA,EACTyrB,GAAIA,EACJhzM,MAAOA,IAETgrB,GAAQ,GACD,KAGPA,EACF,OAAOA,EAET,GAAIpa,EAAKiqF,OAAOvwF,OAASsG,EAAKiqF,OAAOvwF,MAAMqjI,aAAe/8H,EAAKiqF,OAAOvwF,MAAMqjI,YAAY45C,EAASyrB,EAAIhzM,GAMnG,OALA4Q,EAAKiqF,OAAOn0B,KAAK,cAAe,CAC9B6gH,QAASA,EACTyrB,GAAIA,EACJhzM,MAAOA,KAEF,EAET,IACEgrB,EAAQpa,EAAKiqF,OAAOusC,SAASuG,YAAY45C,EAASyrB,EAAIhzM,GACtD,MAAO2zF,IAET,QAAI3oE,IACFpa,EAAKiqF,OAAOn0B,KAAK,cAAe,CAC9B6gH,QAASA,EACTyrB,GAAIA,EACJhzM,MAAOA,KAEF,KAIXw8M,EAAen8M,UAAU46L,kBAAoB,SAAU1T,GACrD,IAAI/sF,EACJ,IAAI/wF,KAAKoxF,OAAOm9C,OAAOnzB,aAAcp7G,KAAKoxF,OAAOC,QAAjD,CAIA,GADAysF,EAAUA,EAAQljL,cACdm2F,EAAO/wF,KAAKgzM,SAASzxL,MAAMu8J,GAC7B,OAAO/sF,EAAK+sF,GAEd,IACE,OAAO99K,KAAKoxF,OAAOusC,SAAS6zD,kBAAkB1T,GAC9C,MAAO5zF,IAET,OAAO,IAET6oH,EAAen8M,UAAUw8M,kBAAoB,SAAUt1B,GACrD,IAAI/sF,EACJ,IAAI/wF,KAAKoxF,OAAOm9C,OAAOnzB,aAAcp7G,KAAKoxF,OAAOC,QAAjD,CAIA,GADAysF,EAAUA,EAAQljL,cACdm2F,EAAO/wF,KAAKgzM,SAASz8M,MAAMunL,GAC7B,OAAO/sF,EAAK+sF,GAEd,IACE,OAAO99K,KAAKoxF,OAAOusC,SAASy1E,kBAAkBt1B,GAC9C,MAAO5zF,OAGX6oH,EAAen8M,UAAUy8M,YAAc,SAAUC,EAAa/3M,QAC/C,IAATA,IACFA,EAAO,QAET,IAAI4L,EAAOnH,KACX4yM,GAAOU,GAAa,SAAU10K,EAAUk/I,GACtC80B,GAAO90B,EAAQljL,cAAclC,MAAM,MAAM,SAAUolL,GACjD32K,EAAK6rM,SAASz3M,GAAMuiL,GAAWl/I,SAIrCm0K,EAAen8M,UAAUk7L,WAAa,SAAUhU,EAASl/I,EAAUw/C,GACjE,IAAI3tC,EAAQzwC,KACZ89K,EAAUA,EAAQljL,cAClBoF,KAAKgzM,SAAS33M,KAAKyiL,GAAW,SAAUA,EAASyrB,EAAIhzM,EAAOwoC,GAC1D,OAAOH,EAAShpC,KAAKwoF,GAAS3tC,EAAM2gD,OAAQm4G,EAAIhzM,EAAOwoC,KAG3Dg0K,EAAen8M,UAAU4xM,sBAAwB,SAAU1qB,GAEzD,GADAA,EAAUA,EAAQljL,cACdoF,KAAKgzM,SAAS33M,KAAKyiL,GACrB,OAAO,EAET,IACE,OAAO99K,KAAKoxF,OAAOusC,SAAS6qE,sBAAsB1qB,GAClD,MAAO5zF,IAET,OAAO,GAET6oH,EAAen8M,UAAU28M,qBAAuB,SAAUz1B,EAASl/I,EAAUw/C,GAC3E,IAAI3tC,EAAQzwC,KACZ89K,EAAUA,EAAQljL,cAClBoF,KAAKgzM,SAASzxL,MAAMu8J,GAAW,WAC7B,OAAOl/I,EAAShpC,KAAKwoF,GAAS3tC,EAAM2gD,UAGxC2hH,EAAen8M,UAAU48M,qBAAuB,SAAU11B,EAASl/I,EAAUw/C,GAC3E,IAAI3tC,EAAQzwC,KACZ89K,EAAUA,EAAQljL,cAClBoF,KAAKgzM,SAASz8M,MAAMunL,GAAW,WAC7B,OAAOl/I,EAAShpC,KAAKwoF,GAAS3tC,EAAM2gD,UAGxC2hH,EAAen8M,UAAU68M,iBAAmB,SAAU31B,GAEpD,OADAA,EAAUA,EAAQljL,gBACToF,KAAKgzM,SAAS33M,KAAKyiL,IAE9Bi1B,EAAen8M,UAAU88M,kBAAoB,SAAU51B,EAASyrB,EAAIhzM,GAOlE,YANW0R,IAAPshM,IACFA,GAAK,QAEOthM,IAAV1R,IACFA,EAAQ,MAEHyJ,KAAKoxF,OAAOusC,SAASuG,YAAY45C,EAASyrB,EAAIhzM,IAEvDw8M,EAAen8M,UAAU+8M,cAAgB,SAAUnrM,GACjD,OAAOxI,KAAKoxF,OAAOgnC,UAAU59H,MAAMgO,IAErCuqM,EAAen8M,UAAU6lL,aAAe,SAAUj0K,EAAMjS,GACtDyJ,KAAKoxF,OAAOgnC,UAAUrkE,OAAOvrD,EAAMjS,EAAQ,CAAEA,MAAOA,QAAU0R,GAC9DjI,KAAKoxF,OAAO8xC,eAEd6vE,EAAen8M,UAAUg9M,eAAiB,SAAUr4M,GAClDyE,KAAK6zM,kBAAoB7zM,KAAKoxF,OAAOixB,UAAUqJ,YAAYnwH,IAE7Dw3M,EAAen8M,UAAUm8L,iBAAmB,WAC1C/yL,KAAKoxF,OAAOixB,UAAUmJ,eAAexrH,KAAK6zM,oBAE5Cd,EAAen8M,UAAUq8M,cAAgB,SAAU7hH,GACjD,IAAIjqF,EAAOnH,KACXA,KAAKqzM,YAAY,CACf,uCAAwCjiI,EACxC,kCAAmC,WACjCggB,EAAO6sC,YAAY96H,OAErB,iBAAkB,SAAU26K,GAC1B,IACI5rF,EADAznC,EAAM2mC,EAAOusC,SAEjB,IACEx2H,EAAKusM,kBAAkB51B,GACvB,MAAO5zF,GACPgI,GAAS,EAKX,GAHgB,UAAZ4rF,GAAwBrzH,EAAIqpJ,oBAAoBh2B,KAClD5rF,GAAS,GAEPA,IAAWznC,EAAI+9I,sBAAsB1qB,GAAU,CACjD,IAAI9rG,EAAMof,EAAOjzC,UAAU,sHACvB49B,GAAIE,MACNjK,EAAMA,EAAI74E,QAAQ,UAAW,OAE/Bi4F,EAAOwhF,oBAAoBrsJ,KAAK,CAC9B8kC,KAAM2mB,EACNz2E,KAAM,YAIZ,OAAU,WACR,GAAI61F,EAAOixB,UAAU0I,cAArB,CACE,IAAI7kC,EAAMkL,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU0hB,WAAY,KACxD79C,GACFkL,EAAOnT,IAAIt6E,OAAOuiF,GAAK,QAI3BkL,EAAOgnC,UAAUz0H,OAAO,SAE1B,iEAAkE,SAAUm6K,GAC1E,IAAIi2B,EAAQj2B,EAAQriL,UAAU,GAChB,SAAVs4M,IACFA,EAAQ,WAEVnB,GAAO,4BAA4Bl6M,MAAM,MAAM,SAAU8P,GACnDurM,IAAUvrM,GACZ4oF,EAAOgnC,UAAUz0H,OAAO,QAAU6E,MAGxB,SAAVurM,GACF5sM,EAAKs1K,aAAa,QAAUs3B,IAGhC,wCAAyC,SAAUj2B,GACjD,IAAIk2B,EACJ7sM,EAAKusM,kBAAkB51B,GACvB,IAAIhpB,EAAU1jE,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU2D,UAAW,SAC3D8uC,IACFk/C,EAAal/C,EAAQlxJ,WACjB,2BAA2BxI,KAAK44M,EAAWlhK,YAC7C3rC,EAAKysM,iBACLxiH,EAAOnT,IAAIvlF,MAAMs7M,EAAYl/C,GAC7B3tJ,EAAK4rL,sBAIX,4DAA6D,SAAUjV,GACrE32K,EAAKs1K,aAAaqB,IAEpB,wBAAyB,SAAUA,EAASyrB,EAAIhzM,GAC9C4Q,EAAKs1K,aAAaqB,EAASvnL,IAE7B,SAAY,SAAUunL,EAASyrB,EAAIhzM,IApTpB,SAAU66F,EAAQ76F,GACrC,IAAIi8M,EAAON,GAAmB9gH,EAAQ76F,GACtC66F,EAAOgnC,UAAUrkE,OAAO,WAAY,CAAEx9D,MAAOg8M,GAAmBC,KAChEphH,EAAO8xC,cAkTD+wE,CAAe7iH,EAAQ76F,IAEzB,SAAY,SAAUunL,EAASyrB,EAAIhzM,IA7SpB,SAAU66F,EAAQ76F,GACrC66F,EAAOgnC,UAAUrkE,OAAO,WAAY,CAAEx9D,MAAO27M,GAAmB9gH,EAAQ76F,KACxE66F,EAAO8xC,cA4SDgxE,CAAe9iH,EAAQ76F,IAEzB,WAAc,SAAUunL,EAASyrB,EAAIhzM,IAxRpB,SAAU66F,EAAQ4oF,GACvC5oF,EAAOgnC,UAAUrkE,OAAO,aAAc,CAAEx9D,MAAOiR,OAAOwyK,KACtD5oF,EAAO8xC,cAuRDixE,CAAiB/iH,EAAQ76F,IAE3B,aAAgB,SAAUunL,GACxB1sF,EAAOgnC,UAAUz0H,OAAOm6K,IAE1B,cAAiB,WACf32K,EAAKs1K,aAAa,eAEpB,YAAe,SAAUqB,EAASyrB,EAAIhzM,GACpC,OAAO4Q,EAAKs1K,aAAalmL,GAAS,MAEpC,WAAc,WACZ,IAAIu0H,EAAW15B,EAAOixB,UAAUqJ,cAChCt6B,EAAOx1B,WAAWw1B,EAAO1gC,cACzB0gC,EAAOixB,UAAUmJ,eAAeV,IAElC,cAAiB,SAAUgzD,EAASyrB,EAAIhzM,GACtC,IAAIu6C,EAAOv6C,GAAS66F,EAAOixB,UAAU2D,UACjCl1E,IAASsgD,EAAOmxB,YAClBp7G,EAAKysM,iBACLxiH,EAAOnT,IAAIt6E,OAAOmtC,GAAM,GACxB3pC,EAAK4rL,qBAGT,mBAAsB,SAAUjV,EAASyrB,EAAIhzM,GAC3C,IAAIy2B,EAAU,EACdokE,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU2D,WAAW,SAAUl1E,GACzD,GAAsB,IAAlBA,EAAK2E,UAAkBzoB,MAAcz2B,EAEvC,OADA66F,EAAOixB,UAAUjtD,OAAOtkB,IACjB,IAERsgD,EAAOmxB,YAEZ,cAAiB,SAAUu7D,EAASyrB,EAAIhzM,GACtC66F,EAAOixB,UAAUjtD,OAAO7+D,IAE1B,iBAAoB,SAAUunL,EAASyrB,EAAIhzM,GACzCm8M,GAAgBthH,EAAQ76F,IAE1B,iBAAoB,SAAUunL,EAASyrB,EAAIhzM,GACzC66F,EAAOixB,UAAUzmD,WAAW,mBAC5B,IAAIp2C,EAAU4rE,EAAO1gC,aACrB0gC,EAAOx1B,WAAWp2C,EAAQrsB,QAAQ,oBAAoB,WACpD,OAAO5C,OAGX,iBAAoB,SAAUunL,EAASyrB,EAAIhzM,GACzCynM,GAAS5sG,EAAQ76F,IAEnB,gBAAmB,SAAUunL,EAASyrB,EAAIhzM,GACxC4Q,EAAKs1K,aAAalmL,IAEpB,cAAiB,SAAUunL,EAASyrB,EAAIhzM,GACtC66F,EAAOx1B,WAAWrlE,IAEpB,iBAAkB,SAAUunL,GAC1Bt0F,GAAO4H,EAAQ0sF,IAEjB,WAAc1sG,EACd,qBAAwB,WACtBggB,EAAO8yC,YAAY,oBAAoB,EAAO,WAEhD,mBAAsB,WACpB9yC,EAAOkqE,WAAalqE,EAAOkqE,UAC3BlqE,EAAOm1D,aAET,kBAAqB,SAAUu3B,EAASyrB,EAAIhzM,GAC1C66F,EAAO8yC,YAAY,oBAAoB,EAAO3tI,EAAM4C,QAAQ,mBAAoBi4F,EAAOixB,UAAU3xD,WAAW,CAAEwnE,OAAQ,YAExH,cAAiB,SAAU4lD,EAASyrB,EAAIhzM,GACjB,iBAAVA,IACTA,EAAQ,CAAEutB,KAAMvtB,IAElB,IAAI69M,EAAShjH,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU2D,UAAW,KAC9DzvH,EAAMutB,KAAOvtB,EAAMutB,KAAK3qB,QAAQ,KAAM,OACjCi7M,GAAW79M,EAAMutB,MACpBstE,EAAOgnC,UAAUz0H,OAAO,QAEtBpN,EAAMutB,MACRstE,EAAOgnC,UAAUpkH,MAAM,OAAQzd,EAAO69M,IAG1C,UAAa,WACX,IAAIC,EAAcjjH,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU0hB,WAAYp/C,IACpE,GAAI0vH,EAAa,CACf,IAAIjyF,EAAMhxB,EAAOnT,IAAIu7B,YACrB4I,EAAIkyF,mBAAmBD,GACvBjjH,EAAOixB,UAAUiU,OAAOlU,KAG5B,eAAkB,WAChBhxB,EAAOx1B,WAAW,KAEpB,gBAAmB,SAAUkiH,EAASyrB,EAAIhzM,GAExC,OADA8lM,GAASjrG,EAAQ76F,IACV,KAGX,IAAIg+M,EAAc,SAAU/rM,GAC1B,OAAO,WACL,IAAI65G,EAAYjxB,EAAOixB,UACnBr8B,EAAQq8B,EAAU0I,cAAgB,CAAC35B,EAAOnT,IAAIm8B,UAAUiI,EAAU2D,UAAW50B,EAAOnT,IAAI2W,UAAYytB,EAAUqpC,oBAC9GlwE,EAAUq3H,GAAM7sH,GAAO,SAAUl1C,GACnC,QAASsgD,EAAOgnC,UAAUiwB,UAAUv3G,EAAMtoC,MAE5C,OAAqC,IAA9BsqM,GAAUt3H,GAAS,KAG9Br0E,EAAKksM,YAAY,CACf,YAAekB,EAAY,aAC3B,cAAiBA,EAAY,eAC7B,aAAgBA,EAAY,cAC5B,YAAeA,EAAY,gBAC3B,4DAA6D,SAAUz2B,GACrE,OAAO32K,EAAKwsM,cAAc71B,IAE5B,cAAiB,WACf,OAAO32K,EAAKwsM,cAAc,eAE5B,QAAW,WACT,OAAO/iB,GAAWx/F,IAEpB,wCAAyC,SAAU0sF,GACjD,IAAI/tJ,EAAOqhE,EAAOnT,IAAIm8B,UAAUhpB,EAAOixB,UAAU2D,UAAW,SAC5D,OAAOj2F,IAAqB,wBAAZ+tJ,GAAsD,OAAjB/tJ,EAAKymB,SAAgC,sBAAZsnI,GAAoD,OAAjB/tJ,EAAKymB,WAEvH,SACHrvC,EAAKksM,YAAY,CACfmB,KAAM,WACJpjH,EAAO6sC,YAAYu8B,QAErBi6C,KAAM,WACJrjH,EAAO6sC,YAAYw8B,UAGvBtzJ,EAAKqsM,qBAAqB,YAAY,WACpC,OA9bc,SAAUpiH,GAC5B,OAAO2gH,GAAS3gH,GAAQ,SAAUlL,GAChC,OAAO2rH,GAAczgH,EAAOmxB,UAAWr8B,EAAIjI,QAC1CtL,MAAM,IA2bE+hI,CAActjH,KACpBpxF,MACHmH,EAAKqsM,qBAAqB,YAAY,WACpC,OAxbc,SAAUpiH,GAC5B,OAAO2gH,GAAS3gH,GAAQ,SAAUlL,GAChC,OAAO0rH,GAAYxgH,EAAOmxB,UAAWr8B,EAAIjI,QACxCtL,MAAM,IAqbEgiI,CAAcvjH,KACpBpxF,MACHmH,EAAKqsM,qBAAqB,cAAc,WACtC,OArbgB,SAAUpiH,GAC9B,OAAO2gH,GAAS3gH,GAAQ,SAAUlL,GAChC,IAAI3iF,EAAO26E,GAAaF,QAAQoT,EAAOmxB,WASvC,OARqBslC,GAAU3hE,GAAK,SAAUA,GAC5C,OAAOR,GAAOQ,EAAK,iBAClBxU,EAAM2N,GAAM97E,IAMOqvE,YALF,WAClB,IAAIonG,EAAazlH,WAAWixB,GAAMU,EAAK,gBACnC4zF,EAAWvlH,WAAWixB,GAAMU,EAAK,cACrC,OAAO1+E,OAAOwyK,EAAaF,SAG5BnnG,MAAM,IAyaEiiI,CAAgBxjH,KACtBpxF,OAEE+yM,EA7YY,GAgZjB8B,GAA8B,2BAC9BthJ,GAAc,SAAU2yB,EAAKmzB,EAAK93F,GAn3lBvB,IAAUtkB,EAASokH,EAo3lB5BO,GAAM17B,EAAKmzB,KAAkB,IAAV93F,GAp3lBS8/F,EAq3lBhBhI,EAp3lBZ8H,GADmBlkH,EAq3lBZipF,GAn3lBOjpF,EAAQghF,IAAI9/E,UAClBwF,OAAO09G,GAEjBE,GAAStkH,EAASokH,GAEpBK,GAAWzkH,IA+2lBAskB,GACTkgG,GAAMv7B,EAAKmzB,IAGXwtF,GAAwB,SAAUz1G,EAAQysF,EAAKt8J,GACjD,IACE6vE,EAAOusC,SAASuG,YAAY25C,GAAK,EAAOr2K,OAAO+Z,IAC/C,MAAO2oE,MAGP4qH,GAAqB,SAAU5uH,EAAK3kE,GACtC2kE,EAAIjI,IAAI9B,gBAAkB56D,EAAQ,OAAS,SAsBzCwzL,GAAiB,SAAU3jH,EAAQ7vE,GACrC,IAAIjb,EAAO43E,GAAaF,QAAQoT,EAAOmxB,WACvChvD,GAAYjtD,EAAM,uBAAwBib,GACtCA,GACF6vE,EAAOixB,UAAUy+C,iBAAiBv9B,iBAClCnyC,EAAOo0D,oBAAoBq/B,gBAbL,SAAUzzF,GAClC3d,EAASt8E,KAAKi6F,EAAOixB,UAAU2D,WAAW5+D,MAAK,SAAU8+B,GACvDA,EAAIluF,gBAAgB,wBAYpBg9M,CAAoB5jH,GACpBA,EAAO0jB,UAAW,EAClBggG,GAAmBxuM,GAAM,GA3B3B8gD,EAAK06D,GA4B0Bx7G,EA5BP,8BAA8B,SAAU4/E,GAC9Dr5E,GAAIq5E,EAAK2uH,GAA6B,QACtCC,GAAmB5uH,GAAK,QA4BxBkL,EAAO0jB,UAAW,EAClBggG,GAAmBxuM,GAAM,GA1BK,SAAU4/E,GAC1C9+B,EAAK06D,GAAc57B,EAAK,uCAAkD,SAAUA,GAClFb,GAASa,EAAK2uH,IACdC,GAAmB5uH,GAAK,MAwBxB+uH,CAA4B3uM,GAC5BugM,GAAsBz1G,EAAQ,gBAAgB,GAC9Cy1G,GAAsBz1G,EAAQ,4BAA4B,GAC1Dy1G,GAAsBz1G,EAAQ,wBAAwB,GAClD88C,GAAmB98C,IACrBA,EAAOh4F,QArBc,SAAUg4F,GACnCA,EAAOixB,UAAUiU,OAAOllC,EAAOixB,UAAUC,UAsBvC4yF,CAAqB9jH,GACrBA,EAAO8xC,gBAGPiyE,GAAe,SAAU/jH,GAC3B,OAAOA,EAAO0jB,UAEZsgG,GAAkB,SAAUhkH,GAC9BA,EAAO4zD,OAAOggB,mBAAmB,mBAAmB,SAAUh/E,GACxDmvH,GAAa/jH,IACfhqC,EAAK4+B,GAAO,SAAUl1C,GACpBA,EAAKuc,KAAKwnJ,GAA6B/jK,EAAKuc,KAAK,oBACjDvc,EAAKuc,KAAK,kBAAmB,eAInC+jC,EAAOyyB,WAAWmhD,mBAAmB6vC,IAA6B,SAAU7uH,GACtEmvH,GAAa/jH,IACfhqC,EAAK4+B,GAAO,SAAUl1C,GACpBA,EAAKuc,KAAK,kBAAmBvc,EAAKuc,KAAKwnJ,WAI7CzjH,EAAOyyB,WAAW2kD,YAAYqsC,KAsB5BQ,GAAwB,SAAUjkH,EAAQ77F,GAC5C,GAZiB,SAAUA,GAC3B,MAAkB,UAAXA,EAAEgG,KAWL+5M,CAAa//M,KAAO4pI,GAAGgB,eAAe5qI,GAAI,CAC5C,IAAI2wF,EAAMhI,GAAaF,QAAQzoF,EAAEgD,SAVd,SAAU64F,EAAQlL,GAIvC,OAAOoK,GAAUpK,EAAK,KAHT,SAAUA,GACrB,OAAO7G,GAAK6G,EAAKhI,GAAaF,QAAQoT,EAAOmxB,eAEZ7rH,MAAK,SAAUc,GAChD,OAAO4tF,GAAO5tF,EAAG,YAMjB+9M,CAAiBnkH,EAAQlL,GAAK9+B,MAAK,SAAUtjC,GAE3C,GADAvuB,EAAE+D,iBACE,KAAK8B,KAAK0oB,GAAO,CACnB,IAAI0xL,EAAWpkH,EAAOnT,IAAI7oB,OAAOtxC,EAAO,aAp10BvCjnB,GADqB2gB,EAq10B6CsG,EAr10BxCgsC,EAq10B8C,KA510B3D,SAAUtyC,EAAKi4L,GACnC,OAAOj4L,EAAI/hB,UAAUg6M,GAOYC,CAAgBl4L,EAAKsyC,EAAO13D,QAAUolB,GAo10Be,OAC5Eg4L,EAASp9M,QACXg5F,EAAOixB,UAAUp/B,eAAeuyH,EAAS,IAAI,QAG/CrgN,OAAOoxB,KAAKzC,EAAM,SAAU,wGA110BhB,IAAUtG,EAAKsyC,OA420B/B6lJ,GAAe54H,GAAMC,QAAQ,qXAAqY,KACla44H,GAAkB,WACpB,SAASA,EAAgBlkH,GACvB1xF,KAAK61M,SAAW,GAChB71M,KAAK0xF,SAAWA,GAAY,GAC5B1xF,KAAKo+E,MAAQp+E,KAAK0xF,SAAStT,OAASp+E,KACpCA,KAAK81M,YAAc91M,KAAK0xF,SAASokH,aAAe7jI,EA2HlD,OAzHA2jI,EAAgBG,SAAW,SAAUvtM,GACnC,QAASmtM,GAAantM,EAAK5N,gBAE7Bg7M,EAAgBh/M,UAAUqmE,KAAO,SAAU+4I,EAAQC,GACjD,IAAIztM,EAAOwtM,EAAOp7M,cACdmkC,EAAOk3K,GAAU,GACrBl3K,EAAKxjC,KAAOiN,EACPu2B,EAAKxmC,SACRwmC,EAAKxmC,OAASyH,KAAKo+E,OAEhBr/C,EAAKzlC,iBACRylC,EAAKzlC,eAAiB,WACpBylC,EAAK4oE,mBAAqBz1B,GAE5BnzC,EAAK3gC,gBAAkB,WACrB2gC,EAAK8oE,qBAAuB31B,GAE9BnzC,EAAKt5B,yBAA2B,WAC9Bs5B,EAAK+oE,8BAAgC51B,GAEvCnzC,EAAK4oE,mBAAqB11B,EAC1BlzC,EAAK8oE,qBAAuB51B,EAC5BlzC,EAAK+oE,8BAAgC71B,GAEnCjyE,KAAK0xF,SAASwkH,YAChBl2M,KAAK0xF,SAASwkH,WAAWn3K,GAE3B,IAAIq3G,EAAWp2I,KAAK61M,SAASrtM,GAC7B,GAAI4tI,EACF,IAAK,IAAI1gJ,EAAI,EAAGC,EAAIygJ,EAASh+I,OAAQ1C,EAAIC,EAAGD,IAAK,CAC/C,IAAIkpC,EAAWw3G,EAAS1gJ,GAIxB,GAHIkpC,EAASypD,MACXroF,KAAKsoF,IAAI9/E,EAAMo2B,EAASmyD,MAEtBhyD,EAAK+oE,gCAEP,OADA/oE,EAAK3gC,kBACE2gC,EAET,IAA6C,IAAzCH,EAASmyD,KAAKn7F,KAAKoK,KAAKo+E,MAAOr/C,GAEjC,OADAA,EAAKzlC,iBACEylC,EAIb,OAAOA,GAET62K,EAAgBh/M,UAAUmgD,GAAK,SAAUvuC,EAAMo2B,EAAUgjD,EAAS30D,GAIhE,IAHiB,IAAb2R,IACFA,EAAWqzC,GAETrzC,EAAU,CACZ,IAAIu3K,EAAkB,CAAEplH,KAAMnyD,GAC1B3R,GACF8vD,GAAMjnC,OAAOqgK,EAAiBlpL,GAIhC,IAFA,IAAIzF,EAAQhf,EAAK5N,cAAclC,MAAM,KACjChD,EAAI8xB,EAAMpvB,OACP1C,KAAK,CACV,IAAI0gN,EAAc5uL,EAAM9xB,GACpB0gJ,EAAWp2I,KAAK61M,SAASO,GACxBhgE,IACHA,EAAWp2I,KAAK61M,SAASO,GAAe,GACxCp2M,KAAK81M,YAAYM,GAAa,IAE5Bx0H,EACFw0D,EAASp0G,QAAQm0K,GAEjB//D,EAASl+I,KAAKi+M,IAIpB,OAAOn2M,MAET41M,EAAgBh/M,UAAU0xF,IAAM,SAAU9/E,EAAMo2B,GAC9C,IAAI6R,EAAQzwC,KACZ,GAAIwI,EAGF,IAFA,IAAIgf,EAAQhf,EAAK5N,cAAclC,MAAM,KACjChD,EAAI8xB,EAAMpvB,OACP1C,KAAK,CACV,IAAI0gN,EAAc5uL,EAAM9xB,GACpB0gJ,EAAWp2I,KAAK61M,SAASO,GAC7B,IAAKA,EAKH,OAJA1hI,GAAO10E,KAAK61M,UAAU,SAAUxsH,EAAQgtH,GACtC5lK,EAAMqlK,YAAYO,GAAa,UACxB5lK,EAAMolK,SAASQ,MAEjBr2M,KAET,GAAIo2I,EAAU,CACZ,GAAKx3G,EAIH,IADA,IAAI03K,EAAKlgE,EAASh+I,OACXk+M,KACDlgE,EAASkgE,GAAIvlH,OAASnyD,IACxBw3G,EAAWA,EAAS9+I,MAAM,EAAGg/M,GAAIxxL,OAAOsxH,EAAS9+I,MAAMg/M,EAAK,IAC5Dt2M,KAAK61M,SAASO,GAAehgE,QANjCA,EAASh+I,OAAS,EAUfg+I,EAASh+I,SACZ4H,KAAK81M,YAAYttM,GAAM,UAChBxI,KAAK61M,SAASO,UAK3B1hI,GAAO10E,KAAK61M,UAAU,SAAUxsH,EAAQ7gF,GACtCioC,EAAMqlK,YAAYttM,GAAM,MAE1BxI,KAAK61M,SAAW,GAElB,OAAO71M,MAET41M,EAAgBh/M,UAAUyxF,KAAO,SAAU7/E,EAAMo2B,EAAUgjD,GACzD,OAAO5hF,KAAK+2C,GAAGvuC,EAAMo2B,EAAUgjD,EAAS,CAAEyG,MAAM,KAElDutH,EAAgBh/M,UAAUsS,IAAM,SAAUV,GAExC,OADAA,EAAOA,EAAK5N,iBACFoF,KAAK61M,SAASrtM,IAAwC,IAA/BxI,KAAK61M,SAASrtM,GAAMpQ,SAEhDw9M,EAhIa,GAmIlBW,GAAqB,SAAU3uK,GAWjC,OAVKA,EAAI4uK,mBACP5uK,EAAI4uK,iBAAmB,IAAIZ,GAAgB,CACzCx3H,MAAOx2C,EACPkuK,YAAa,SAAUttM,EAAM+Y,GACvBq0L,GAAgBG,SAASvtM,IAASo/B,EAAI6uK,mBACxC7uK,EAAI6uK,kBAAkBjuM,EAAM+Y,OAK7BqmB,EAAI4uK,kBAETE,GAAa,CACfz5I,KAAM,SAAUz0D,EAAMu2B,EAAM43K,GAC1B,IAAIxvM,EAAOnH,KACX,GAAImH,EAAKkqF,SAAoB,WAAT7oF,GAA8B,WAATA,EACvC,OAAOu2B,EAET,IAAI63K,EAAiBL,GAAmBpvM,GAAM81D,KAAKz0D,EAAMu2B,GACzD,IAAe,IAAX43K,GAAoBxvM,EAAK0sD,OAE3B,IADA,IAAIinE,EAAW3zH,EAAK0sD,SACbinE,IAAa87E,EAAe/uG,wBACjCizB,EAAS79D,KAAKz0D,EAAMouM,GAAgB,GACpC97E,EAAWA,EAASjnE,SAGxB,OAAO+iJ,GAET7/J,GAAI,SAAUvuC,EAAMo2B,EAAUgjD,GAC5B,OAAO20H,GAAmBv2M,MAAM+2C,GAAGvuC,EAAMo2B,EAAUgjD,IAErD0G,IAAK,SAAU9/E,EAAMo2B,GACnB,OAAO23K,GAAmBv2M,MAAMsoF,IAAI9/E,EAAMo2B,IAE5CypD,KAAM,SAAU7/E,EAAMo2B,GACpB,OAAO23K,GAAmBv2M,MAAMqoF,KAAK7/E,EAAMo2B,IAE7CspI,kBAAmB,SAAU1/J,GAC3B,OAAO+tM,GAAmBv2M,MAAMkJ,IAAIV,KAIpCquM,GAAQt/F,GAAS2D,IAEjB47F,GAAiB,SAAU1lH,EAAQxnD,GACrC,GAAkB,oBAAdA,EACF,OAAOwnD,EAAOusC,SAEhB,IAAKvsC,EAAOvuF,QAAU,uDAAuDzH,KAAKwuC,GAChF,OAAOwnD,EAAOusC,SAASr+H,gBAEzB,IAAIy3M,EAAY3pF,GAAah8B,GAC7B,OAAI2lH,GACG3lH,EAAO2lH,YACV3lH,EAAO2lH,UAAYF,GAAMzhJ,OAAO2hJ,GAAW,IAEtC3lH,EAAO2lH,WAET3lH,EAAOmxB,WAKZ2uD,GAAY,SAAU9/E,EAAQxnD,EAAWr0C,IAH3B,SAAU67F,GAC1B,OAAQA,EAAOluF,SAAWiyM,GAAa/jH,GAGnC4lH,CAAY5lH,GAEL+jH,GAAa/jH,IACtBikH,GAAsBjkH,EAAQ77F,GAF9B67F,EAAOn0B,KAAKrzB,EAAWr0C,IAKvB0hN,GAAoB,SAAU7lH,EAAQxnD,GACxC,IAAIstK,EAIJ,GAHK9lH,EAAO+lH,YACV/lH,EAAO+lH,UAAY,KAEjB/lH,EAAO+lH,UAAUvtK,KAAcwnD,EAAOC,QAA1C,CAGA,IAAI+lH,EAAeN,GAAe1lH,EAAQxnD,GAC1C,GAAIwjF,GAAah8B,GAAS,CAcxB,GAbKu4F,KACHA,GAA2B,GAC3Bv4F,EAAO07C,cAAc/1F,GAAG,gBAAgB,WACjCq6C,EAAO07C,cAAcK,cACpBw8C,KACFj1G,GAAOi1G,IAA0B,SAAUtgG,EAAQ7gF,GACjD4oF,EAAOnT,IAAIkrB,OAAO2tG,GAAe1lH,EAAQ5oF,OAE3CmhL,GAA2B,UAK/BA,GAAyB//I,GAC3B,OAEFstK,EAAW,SAAU3hN,GAInB,IAHA,IAAIgD,EAAShD,EAAEgD,OACX8+M,EAAUjmH,EAAO07C,cAAc32I,MAC/BT,EAAI2hN,EAAQj/M,OACT1C,KAAK,CACV,IAAI4Q,EAAO+wM,EAAQ3hN,GAAG6sH,WAClBj8G,IAAS/N,GAAUs+M,GAAMp6F,UAAUlkH,EAAQ+N,KAC7C4qK,GAAUmmC,EAAQ3hN,GAAIk0C,EAAWr0C,KAIvCo0L,GAAyB//I,GAAastK,EACtCL,GAAMngN,KAAK0gN,EAAcxtK,EAAWstK,QAEpCA,EAAW,SAAU3hN,GACnB27K,GAAU9/E,EAAQxnD,EAAWr0C,IAE/BshN,GAAMngN,KAAK0gN,EAAcxtK,EAAWstK,GACpC9lH,EAAO+lH,UAAUvtK,GAAastK,IAG9BI,GAAmBlhI,GAASA,GAAS,GAAIsgI,IAAa,CACxDzN,0BAA2B,WACzB,IAAI9hM,EAAOnH,KACX+8E,GAAM31B,KAAKjgD,EAAKowM,sBAAsB,SAAU/uM,GAC9CyuM,GAAkB9vM,EAAMqB,OAG5BiuM,kBAAmB,SAAUjuM,EAAM+Y,GACjC,IAAIpa,EAAOnH,KACE,UAATwI,GAA6B,SAATA,IAGpB+Y,EACEpa,EAAKg5L,YACP8W,GAAkB9vM,EAAMqB,GAEnBrB,EAAKowM,qBAGRpwM,EAAKowM,qBAAqBr/M,KAAKsQ,GAF/BrB,EAAKowM,qBAAuB,CAAC/uM,GAKxBrB,EAAKg5L,cACdh5L,EAAK82E,IAAIkrB,OAAO2tG,GAAe3vM,EAAMqB,GAAOA,EAAMrB,EAAKgwM,UAAU3uM,WAC1DrB,EAAKgwM,UAAU3uM,MAG1B0hK,sBAAuB,WACrB,IAAI/iK,EAAOnH,KACPsG,EAAOa,EAAKo7G,UACZtkC,EAAM92E,EAAK82E,IACX92E,EAAKgwM,YACPziI,GAAOvtE,EAAKgwM,WAAW,SAAU5gN,EAAOiS,GACtCrB,EAAK82E,IAAIkrB,OAAO2tG,GAAe3vM,EAAMqB,GAAOA,EAAMjS,aAE7C4Q,EAAKgwM,YAEThwM,EAAKtE,QAAUyD,GAAQ23E,IAC1B33E,EAAK02C,OAAS,KACdihC,EAAIkrB,OAAOhiG,EAAKwjI,UAChB1sD,EAAIkrB,OAAOhiG,EAAKw2H,WAEd1/C,IACFA,EAAIkrB,OAAO7iG,GACX23E,EAAIkrB,OAAOhiG,EAAK8oD,oBAKlBunJ,GAAe,CACjB,SACA,YAEEC,GAAe,SAAUrmH,EAAQsmH,EAAYC,EAAgB3sL,GAC/D,IAAI4sL,EAAUD,EAAeD,EAAWvhN,OACpC0hN,EAAUF,EAAe3sL,GAC7B,IACE6sL,EAAQC,WACR,MAAOviN,GAEP,YADAmlD,QAAQ7uC,MAAM,wCAA0Cmf,EAAO,IAAKz1B,GAGtEqiN,EAAQG,aACJH,EAAQI,iBAAmBH,EAAQG,gBACrCjD,GAAe3jH,EAAQymH,EAAQG,gBAEjCN,EAAW7qM,IAAIme,GAvzgBI,SAAUomE,EAAQpmE,GAC9BomE,EAAOn0B,KAAK,aAAc,CAAEjyC,KAAMA,IAuzgBzCitL,CAAe7mH,EAAQpmE,IAgCrBktL,GAAW,SAAU9mH,GACvB,IAAIsmH,EAAav5F,GAAK,UAClBw5F,EAAiBx5F,GAAK,CACxBg6F,OAAQ,CACNL,SAAU1mI,EACV2mI,WAAY3mI,EACZ4mI,gBAAgB,GAElBljG,SAAU,CACRgjG,SAAU1mI,EACV2mI,WAAY3mI,EACZ4mI,gBAAgB,KAKpB,OA9ZmC,SAAU5mH,GACzCA,EAAOyyB,WACTuxF,GAAgBhkH,GAEhBA,EAAOr6C,GAAG,WAAW,WACnBq+J,GAAgBhkH,MAuZpBgnH,CAA+BhnH,GAxXO,SAAUA,GAChDA,EAAOr6C,GAAG,aAAa,SAAUxhD,GAC3B4/M,GAAa/jH,IACf77F,EAAE+D,oBAGN83F,EAAOr6C,GAAG,kBAAkB,SAAUxhD,GAChC4/M,GAAa/jH,IACf77F,EAAE+D,oBAiXN++M,CAAkCjnH,GAC3B,CACL0/F,WAAY,WACV,OAAOqkB,GAAa/jH,IAEtBvkF,IAAK,SAAUme,GACb,OAnDQ,SAAUomE,EAAQumH,EAAgBD,EAAY1sL,GAC1D,GAAIA,IAAS0sL,EAAWvhN,MAAxB,CAEO,IAAK+S,GAAIyuM,EAAgB3sL,GAC9B,MAAM,IAAI5rB,MAAM,gBAAmB4rB,EAAO,gBAExComE,EAAO+uG,YACTsX,GAAarmH,EAAQsmH,EAAYC,EAAgB3sL,GAEjDomE,EAAOr6C,GAAG,QAAQ,WAChB,OAAO0gK,GAAarmH,EAAQsmH,EAAYC,EAAgB3sL,OAyCjDstL,CAAQlnH,EAAQumH,EAAexhN,MAAOuhN,EAAY1sL,IAE3D70B,IAAK,WACH,OAAOuhN,EAAWvhN,OAEpBqoI,SAAU,SAAUxzG,EAAMwxG,GACxBm7E,EAAe9qM,IA3CF,SAAU8qM,EAAgB3sL,EAAMwxG,GACjD,IAAI/Y,EACJ,GAAIrgH,EAASo0M,GAAcxsL,GACzB,MAAM,IAAI5rB,MAAM,gCAAkC4rB,GAEpD,OAAOorD,GAASA,GAAS,GAAIuhI,KAAkBl0F,EAAK,IAAOz4F,GAAQorD,GAASA,GAAS,GAAIomD,GAAM,CAC7Fu7E,WAAY,WACV,IACEv7E,EAAIu7E,aACJ,MAAOxiN,GACPmlD,QAAQ7uC,MAAM,0CAA4Cmf,EAAO,IAAKz1B,OAGxEkuH,IA8BmB80F,CAAaZ,EAAexhN,MAAO60B,EAAMwxG,OAK9Dg8E,GAASz7H,GAAM31B,KAAMqxJ,GAAY17H,GAAMe,QACvC46H,GAAgB,CAClBC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,IAAK,KAEHC,GAAgBx8H,GAAMC,QAAQ,8BAC9Bw8H,GAAgB,SAAUt4G,GAC5B,IAAI3kG,EACAk9M,EAAW,GACfjB,GAAOC,GAAUv3G,EAAQtmG,cAAe,MAAM,SAAUrE,GAClDA,KAASgjN,GACXE,EAASljN,IAAS,EAEd,cAAc6E,KAAK7E,GACrBkjN,EAASxuD,QAAUvwJ,SAASnE,EAAO,KAEnCkjN,EAASC,SAAWnjN,EAAMo1B,WAAW,GACrC8tL,EAASxuD,QAAUytD,GAAcniN,IAAUA,EAAMuF,cAAc6vB,WAAW,OAIhF,IAAI4F,EAAK,CAACkoL,EAASxuD,SACnB,IAAK1uJ,KAAOg9M,GACNE,EAASl9M,GACXg1B,EAAGr5B,KAAKqE,GAERk9M,EAASl9M,IAAO,EAoBpB,OAjBAk9M,EAASloL,GAAKA,EAAG/1B,KAAK,KAClBi+M,EAASE,SACXF,EAASvnK,KAAM,EACX6pC,GAAIE,IACNw9H,EAASG,MAAO,EAEhBH,EAAS97K,OAAQ,GAGjB87K,EAASI,OACP99H,GAAIE,IACNw9H,EAASI,MAAO,GAEhBJ,EAASG,MAAO,EAChBH,EAASI,MAAO,IAGbJ,GAELK,GAAY,WACd,SAASA,EAAU1oH,GACjBpxF,KAAKmnM,UAAY,GACjBnnM,KAAK+5M,gBAAkB,GACvB/5M,KAAKoxF,OAASA,EACd,IAAIjqF,EAAOnH,KACXoxF,EAAOr6C,GAAG,0BAA0B,SAAUxhD,IACvC4R,EAAK6yM,YAAYzkN,KAAM4R,EAAK8yM,cAAc1kN,IAAQA,EAAEoyG,uBACvD6wG,GAAOrxM,EAAKggM,WAAW,SAAUsS,GAC/B,GAAItyM,EAAK+yM,cAAc3kN,EAAGkkN,GAKxB,OAJAtyM,EAAK4yM,gBAAkBN,EAASU,YAAY7iN,MAAM,GACnC,YAAX/B,EAAEgG,MACJ4L,EAAKizM,sBAAsBX,IAEtB,KAGPtyM,EAAK+yM,cAAc3kN,EAAG4R,EAAK4yM,gBAAgB,MACT,IAAhC5yM,EAAK4yM,gBAAgB3hN,QACR,YAAX7C,EAAEgG,MACJ4L,EAAKizM,sBAAsBjzM,EAAK4yM,gBAAgB,IAGpD5yM,EAAK4yM,gBAAgBp8K,aAyE7B,OApEAm8K,EAAUljN,UAAUuM,IAAM,SAAU+9F,EAASlzC,EAAMqsJ,EAASj8H,GAC1D,IAAIj3E,EAAOnH,KACP+wF,EAAO5pF,EAAKmzM,qBAAqBD,GAKrC,OAJA7B,GAAOC,GAAU17H,GAAMllF,KAAKqpG,KAAW,SAAUA,GAC/C,IAAIu4G,EAAWtyM,EAAKozM,eAAer5G,EAASlzC,EAAM+iC,EAAM3S,GACxDj3E,EAAKggM,UAAUsS,EAASloL,IAAMkoL,MAEzB,GAETK,EAAUljN,UAAU+M,OAAS,SAAUu9F,GACrC,IAAIu4G,EAAWz5M,KAAKu6M,eAAer5G,GACnC,QAAIlhG,KAAKmnM,UAAUsS,EAASloL,aACnBvxB,KAAKmnM,UAAUsS,EAASloL,KACxB,IAIXuoL,EAAUljN,UAAU0jN,qBAAuB,SAAUD,GACnD,IAAIlzM,EAAOnH,KACP69K,EAAMw8B,EACV,MAAmB,iBAARx8B,EACF,WACL12K,EAAKiqF,OAAO8yC,YAAY25C,GAAK,EAAO,OAE7B9gG,GAAM3lF,QAAQymL,GAChB,WACL12K,EAAKiqF,OAAO8yC,YAAY25C,EAAI,GAAIA,EAAI,GAAIA,EAAI,KAGvCA,GAGXi8B,EAAUljN,UAAU2jN,eAAiB,SAAUr5G,EAASlzC,EAAMqsJ,EAASj8H,GACrE,IAAI+oH,EAAYpqH,GAAMtiF,IAAIg+M,GAAUv3G,EAAS,KAAMs4G,IAKnD,OAJArS,EAAUA,EAAU/uM,OAAS,GAAK2kF,GAAMjnC,OAAOqxJ,EAAUA,EAAU/uM,OAAS,GAAI,CAC9E24F,KAAMspH,EACNj8H,MAAOA,GAASp+E,KAAKoxF,SAEhBrU,GAAMjnC,OAAOqxJ,EAAU,GAAI,CAChCn5I,KAAMhuD,KAAKoxF,OAAOjzC,UAAU6P,GAC5BmsJ,YAAahT,EAAU7vM,MAAM,MAGjCwiN,EAAUljN,UAAUojN,YAAc,SAAUzkN,GAC1C,OAAOA,EAAE2qI,QAAU3qI,EAAEyD,SAAWzD,EAAEyyG,SAEpC8xG,EAAUljN,UAAUqjN,cAAgB,SAAU1kN,GAC5C,MAAkB,YAAXA,EAAEgG,MAAsBhG,EAAE01J,SAAW,KAAO11J,EAAE01J,SAAW,KAElE6uD,EAAUljN,UAAUsjN,cAAgB,SAAU3kN,EAAGkkN,GAC/C,QAAKA,IAGDA,EAASG,OAASrkN,EAAEyD,SAAWygN,EAASI,OAAStkN,EAAEyyG,UAGnDyxG,EAASvnK,MAAQ38C,EAAE2qI,QAAUu5E,EAAS97K,QAAUpoC,EAAEwD,cAGlDxD,EAAE01J,UAAYwuD,EAASxuD,SAAW11J,EAAEmkN,UAAYnkN,EAAEmkN,WAAaD,EAASC,YAC1EnkN,EAAE+D,kBACK,OAIXwgN,EAAUljN,UAAUwjN,sBAAwB,SAAUX,GACpD,OAAOA,EAAS1oH,KAAO0oH,EAAS1oH,KAAKn7F,KAAK6jN,EAASr7H,OAAS,MAEvD07H,EAhGO,GAgJZl2F,GAAW,WACb,IAAI42F,EA9CS,WACb,IAAIpzI,EAAU,GACVqzI,EAAY,GACZC,EAAS,GACTprC,EAAQ,GACRqrC,EAAe,GACfC,EAAkB,GAClBC,EAAW,GACX13M,EAAM,SAAU2yE,EAAYv6E,GAC9B,OAAO,SAAUiN,EAAMyoK,GACrB,OAAOn7F,EAAWttE,EAAK5N,eAAiBw7E,GAASA,GAAS,GAAI66F,GAAO,CAAE11K,KAAMA,MAMjF,MAAO,CACLu/M,UAAW33M,EAAIikE,EAAS,UACxB2zI,sBAAuB53M,EAAIikE,EAAS,sBACpC4zI,gBAAiB73M,EAAIikE,EAAS,gBAC9B6zI,cAAe93M,EAAIikE,EAAS,cAC5B8zI,eAAgB/3M,EAAIikE,EAAS,eAC7B+zI,YAAah4M,EAAIs3M,EAAW,YAC5BW,kBAAmBj4M,EAAIs3M,EAAW,kBAClCY,kBAAmBl4M,EAAIs3M,EAAW,kBAClCa,iBAAkBn4M,EAAIu3M,EAAQ,iBAC9Ba,eAAgBp4M,EAAIw3M,EAAc,eAClCa,kBAAmBr4M,EAAIy3M,EAAiB,kBACxCa,eAAgBt4M,EAAIy3M,EAAiB,eACrCc,WAAYv4M,EAAI03M,EAAU,WAC1BtM,QAjBY,SAAU/lM,EAAM8lM,GAC5B,OAAOh/B,EAAM9mK,EAAK5N,eAAiB0zM,GAiBnC9vK,OAAQ,WACN,MAAO,CACL4oC,QAASA,EACTqzI,UAAWA,EACXnrC,MAAOA,EACPorC,OAAQA,EACRC,aAAcA,EACdC,gBAAiBA,EACjBC,SAAUA,KAOHc,GACb,MAAO,CACLL,iBAAkBd,EAAOc,iBACzBR,UAAWN,EAAOM,UAClBW,eAAgBjB,EAAOiB,eACvBF,eAAgBf,EAAOe,eACvBC,kBAAmBhB,EAAOgB,kBAC1BjN,QAASiM,EAAOjM,QAChB0M,cAAeT,EAAOS,cACtBE,YAAaX,EAAOW,YACpBC,kBAAmBZ,EAAOY,kBAC1BM,WAAYlB,EAAOkB,WACnBR,eAAgBV,EAAOU,eACvBF,gBAAiBR,EAAOQ,gBACxBD,sBAAuBP,EAAOO,sBAC9BM,kBAAmBb,EAAOa,kBAC1B78K,OAAQg8K,EAAOh8K,SAIfo9K,GAAS7+H,GAAM31B,KAAMy0J,GAAS9+H,GAAMllF,KACpCikN,GAAa,uGAAuGpjN,MAAM,KAC1HqjN,GAAgB,CAClBp5K,IAAK,GACLE,KAAM,GACNC,MAAO,IACPk5K,OAAQ,IAENC,GAAM,WACR,SAASA,EAAIz4L,EAAKkuE,GAChBluE,EAAMq4L,GAAOr4L,GACbxjB,KAAK0xF,SAAWA,GAAY,GAC5B,IAAIwqH,EAAUl8M,KAAK0xF,SAASyqH,SACxBh1M,EAAOnH,KACX,GAAI,yBAAyB5E,KAAKooB,IAAQ,QAAQpoB,KAAKooB,GACrDrc,EAAKsP,OAAS+M,MADhB,CAIA,IAAI44L,EAA2C,IAAtB54L,EAAI3c,QAAQ,MAIrC,GAHyB,IAArB2c,EAAI3c,QAAQ,MAAeu1M,IAC7B54L,GAAO04L,GAAUA,EAAQ71K,UAAqB,QAAU,cAAgB7iB,IAErE,iBAAiBpoB,KAAKooB,GAAM,CAC/B,IAAIo8F,EAAU5/G,KAAK0xF,SAASyqH,SAAWn8M,KAAK0xF,SAASyqH,SAAS9jN,KAAO,IAAI4jN,EAAIvkN,SAAS+5G,SAAS3tF,MAAMu2B,UACrG,GAAIr6C,KAAK0xF,SAASyqH,UAA+C,IAAnCn8M,KAAK0xF,SAASyqH,SAAS91K,SACnD7iB,EAAM,aAAerc,EAAKk1M,UAAUz8F,EAASp8F,OACxC,CACL,IAAIhpB,EAAQ,oBAAoBa,KAAKmoB,GACrCA,GAAO04L,GAAWA,EAAQ71K,UAAY,QAAU,cAAgBl/B,EAAKk1M,UAAUz8F,EAASplH,EAAM,IAAMA,EAAM,IAG9GgpB,EAAMA,EAAIrqB,QAAQ,MAAO,YACzB,IAAImjN,EAAW,uNAAuNjhN,KAAKmoB,GAC3Oo4L,GAAOE,IAAY,SAAU7hN,EAAGvE,GAC9B,IAAIsrC,EAAOs7K,EAAS5mN,GAChBsrC,IACFA,EAAOA,EAAK7nC,QAAQ,cAAe,OAErCgO,EAAKlN,GAAK+mC,KAERk7K,IACG/0M,EAAKk/B,WACRl/B,EAAKk/B,SAAW61K,EAAQ71K,UAErBl/B,EAAKo1M,WACRp1M,EAAKo1M,SAAWL,EAAQK,UAErBp1M,EAAKu+B,MAAsB,aAAdv+B,EAAK8c,OACrB9c,EAAKu+B,KAAOw2K,EAAQx2K,MAEjBv+B,EAAK8c,MAAsB,aAAd9c,EAAK8c,OACrB9c,EAAK8c,KAAOi4L,EAAQj4L,MAEtB9c,EAAKsP,OAAS,IAEZ2lM,IACFj1M,EAAKk/B,SAAW,KA0LpB,OAvLA41K,EAAIv3C,aAAe,SAAUx0B,GAC3B,IAAI30I,EACAihN,EAAgBt/K,mBAAmBgzG,GAAKx3I,MAAM,KAC9C8iF,EAAU,eAAengF,KAAKmhN,EAAc,IAIhD,OAHIhhI,IACFjgF,EAAOigF,EAAQ,IAEV,CACLjgF,KAAMA,EACN8mB,KAAMm6L,EAAc,KAGxBP,EAAIhQ,mBAAqB,SAAUvkE,GACjC,IAAI9nB,EAYJ,OAVEA,EADmC,IAAjC8nB,EAAIrhG,SAASx/B,QAAQ,SAAkC,UAAjB6gI,EAAIrhG,SAClCqhG,EAAI5jH,KAEJ4jH,EAAIrhG,SAAW,KAAOqhG,EAAIzjH,KAAOyjH,EAAI/jH,SAE7C,yBAAyBvoB,KAAKwkH,KAChCA,EAAUA,EAAQzmH,QAAQ,WAAY,IAAIA,QAAQ,gBAAiB,IAC9D,UAAUiC,KAAKwkH,KAClBA,GAAW,MAGRA,GAETq8F,EAAIrlN,UAAU6lN,QAAU,SAAUpkN,GAChC,IAAIqkN,EAAY,mBAAmBrhN,KAAKhD,GACxC2H,KAAK3H,KAAOqkN,EAAU,GACtB18M,KAAKq6C,UAAYqiK,EAAU,GAC3B18M,KAAK4iC,KAAO85K,EAAU,GACtB18M,KAAKyW,OAAS,GACdzW,KAAKksM,UAEP+P,EAAIrlN,UAAU+lN,WAAa,SAAUzsE,GACnC,IAAIpjH,EACJ,GAAY,OAARojH,EACF,OAAOA,EAET,IAAI0sE,EAAc,IAAIX,EAAI/rE,EAAK,CAAEisE,SAAUn8M,OAC3C,GAAyB,aAArB48M,EAAY34L,MAAuBjkB,KAAKikB,OAAS24L,EAAY34L,MAAQ24L,EAAY34L,MAAQjkB,KAAK0lC,OAASk3K,EAAYl3K,MAAQ1lC,KAAKqmC,WAAau2K,EAAYv2K,UAAqC,KAAzBu2K,EAAYv2K,SACnL,OAAOu2K,EAAY1Q,SAErB,IAAI2Q,EAAK78M,KAAKksM,SAAU4Q,EAAKF,EAAY1Q,SACzC,OAAI2Q,IAAOC,GAAmC,MAA7BD,EAAG10M,OAAO00M,EAAGzkN,OAAS,IAAcykN,EAAG9kI,OAAO,EAAG8kI,EAAGzkN,OAAS,KAAO0kN,EAC5ED,GAET/vL,EAAS9sB,KAAK+8M,UAAU/8M,KAAK3H,KAAMukN,EAAYvkN,MAC3CukN,EAAYr/K,QACdzQ,GAAU,IAAM8vL,EAAYr/K,OAE1Bq/K,EAAYxI,SACdtnL,GAAU,IAAM8vL,EAAYxI,QAEvBtnL,IAETmvL,EAAIrlN,UAAUg9K,WAAa,SAAU1jC,EAAK8sE,GACxC,IAAIC,EAAc,IAAIhB,EAAI/rE,EAAK,CAAEisE,SAAUn8M,OAC3C,OAAOi9M,EAAY/Q,OAAO8Q,GAAUh9M,KAAKk9M,aAAaD,KAExDhB,EAAIrlN,UAAUsmN,aAAe,SAAUhtE,GACrC,GAAIlwI,KAAKikB,MAAQisH,EAAIjsH,MAAQjkB,KAAKqmC,UAAY6pG,EAAI7pG,SAAU,CAC1D,GAAIrmC,KAAK0lC,MAAQwqG,EAAIxqG,KACnB,OAAO,EAET,IAAIy3K,EAAcpB,GAAc/7M,KAAKqmC,UACrC,GAAI82K,IAAgBn9M,KAAK0lC,MAAQy3K,KAAiBjtE,EAAIxqG,MAAQy3K,GAC5D,OAAO,EAGX,OAAO,GAETlB,EAAIrlN,UAAUmmN,UAAY,SAAUpwL,EAAMt0B,GACxC,IAA8B3C,EAAGC,EAA7BynN,EAAa,EAAGznI,EAAM,GACtB0nI,EAAiB1wL,EAAKlxB,UAAU,EAAGkxB,EAAK/Y,YAAY,MAAMlb,MAAM,KAChE+gD,EAAQphD,EAAKK,MAAM,KACvB,GAAI2kN,EAAejlN,QAAUqhD,EAAMrhD,OACjC,IAAK1C,EAAI,EAAGC,EAAI0nN,EAAejlN,OAAQ1C,EAAIC,EAAGD,IAC5C,GAAIA,GAAK+jD,EAAMrhD,QAAUilN,EAAe3nN,KAAO+jD,EAAM/jD,GAAI,CACvD0nN,EAAa1nN,EAAI,EACjB,MAIN,GAAI2nN,EAAejlN,OAASqhD,EAAMrhD,OAChC,IAAK1C,EAAI,EAAGC,EAAI8jD,EAAMrhD,OAAQ1C,EAAIC,EAAGD,IACnC,GAAIA,GAAK2nN,EAAejlN,QAAUilN,EAAe3nN,KAAO+jD,EAAM/jD,GAAI,CAChE0nN,EAAa1nN,EAAI,EACjB,MAIN,GAAmB,IAAf0nN,EACF,OAAO/kN,EAET,IAAK3C,EAAI,EAAGC,EAAI0nN,EAAejlN,QAAUglN,EAAa,GAAI1nN,EAAIC,EAAGD,IAC/DigF,GAAO,MAET,IAAKjgF,EAAI0nN,EAAa,EAAGznN,EAAI8jD,EAAMrhD,OAAQ1C,EAAIC,EAAGD,IAE9CigF,GADEjgF,IAAM0nN,EAAa,EACd,IAAM3jK,EAAM/jD,GAEZ+jD,EAAM/jD,GAGjB,OAAOigF,GAETsmI,EAAIrlN,UAAUylN,UAAY,SAAU1vL,EAAMt0B,GACxC,IAAI3C,EAAmB4nN,EAAhBC,EAAK,EAAG/nN,EAAI,GACfitG,EAAK,MAAMrnG,KAAK/C,GAAQ,IAAM,GAC9BglN,EAAiB1wL,EAAKj0B,MAAM,KAC5B8kN,EAAiBnlN,EAAKK,MAAM,KAOhC,IANAkjN,GAAOyB,GAAgB,SAAUrhN,GAC3BA,GACFxG,EAAE0C,KAAK8D,MAGXqhN,EAAiB7nN,EACZE,EAAI8nN,EAAeplN,OAAS,EAAG5C,EAAI,GAAIE,GAAK,EAAGA,IACjB,IAA7B8nN,EAAe9nN,GAAG0C,QAAsC,MAAtBolN,EAAe9nN,KAG3B,OAAtB8nN,EAAe9nN,GAIf6nN,EAAK,EACPA,IAGF/nN,EAAE0C,KAAKslN,EAAe9nN,IAPpB6nN,KAqBJ,OAN6B,KAJ3BD,GAFF5nN,EAAI2nN,EAAejlN,OAASmlN,IACnB,EACG5uM,EAAQnZ,GAAGgG,KAAK,KAEhB6hN,EAAe/lN,MAAM,EAAG5B,GAAG8F,KAAK,KAAO,IAAMmT,EAAQnZ,GAAGgG,KAAK,MAE7DqL,QAAQ,OAClBy2M,EAAU,IAAMA,GAEd76G,GAAM66G,EAAQ1pM,YAAY,OAAS0pM,EAAQllN,OAAS,IACtDklN,GAAW76G,GAEN66G,GAETrB,EAAIrlN,UAAUs1M,OAAS,SAAUuR,GAI/B,IAAI1mN,EA8BJ,YAjCoB,IAAhB0mN,IACFA,GAAc,GAGXz9M,KAAKyW,SAAUgnM,IAClB1mN,EAAI,GACC0mN,IACCz9M,KAAKqmC,SACPtvC,GAAKiJ,KAAKqmC,SAAW,MAErBtvC,GAAK,KAEHiJ,KAAKu8M,WACPxlN,GAAKiJ,KAAKu8M,SAAW,KAEnBv8M,KAAKikB,OACPltB,GAAKiJ,KAAKikB,MAERjkB,KAAK0lC,OACP3uC,GAAK,IAAMiJ,KAAK0lC,OAGhB1lC,KAAK3H,OACPtB,GAAKiJ,KAAK3H,MAER2H,KAAKu9B,QACPxmC,GAAK,IAAMiJ,KAAKu9B,OAEdv9B,KAAKo0M,SACPr9M,GAAK,IAAMiJ,KAAKo0M,QAElBp0M,KAAKyW,OAAS1f,GAETiJ,KAAKyW,QAEPwlM,EA1OC,GA6ONyB,GAAQnmG,GAAS2D,IACjByiG,GAAW5gI,GAAMjnC,OAAQ8nK,GAAS7gI,GAAM31B,KACxCy2J,GAAY9gI,GAAM9tB,QAClB6uJ,GAAO/hI,GAAIzC,GACXykI,GAAS,WACX,SAASA,EAAOxsL,EAAImgE,EAAUo7C,GAC5B,IAAIr8F,EAAQzwC,KACZA,KAAKg8J,QAAU,GACfh8J,KAAK8zK,WAAa,GAClB9zK,KAAK2nM,cAAgB,GACrB3nM,KAAKg+M,UAAY,GACjBh+M,KAAKi+M,YAAa,EAClBj+M,KAAK8sI,cAAgBA,EACrB9sI,KAAKquK,gBAAkBvhC,EAAcoxE,gBACrCP,GAAS39M,KAAMs3M,IACft3M,KAAK0xF,SAAW08E,GAAkBpuK,KAAMuxB,EAAIvxB,KAAKquK,gBAAiBvhC,EAAc+gC,gBAAiBn8E,GAC7F1xF,KAAK0xF,SAASuT,SAChB6nC,EAAc7nC,OAASjlG,KAAK0xF,SAASuT,QAEvCjlG,KAAKilG,OAAS6nC,EAAc7nC,OACxBjlG,KAAK0xF,SAASysH,UAChBrxE,EAAcsxE,YAAYp+M,KAAK0xF,SAASysH,UAE1Cn+M,KAAKk8M,QAAUpvE,EAAcuxE,QACzBr+M,KAAK0xF,SAAS4sH,kBAChBjhG,GAAaA,aAAa5pB,mBAAmBzzF,KAAK0xF,SAAS4sH,iBAC3D/mG,GAAS2D,IAAIzD,iBAAiBhkB,mBAAmBzzF,KAAK0xF,SAAS4sH,kBAEjEh/F,GAAaiB,aAAevgH,KAAK0xF,SAAS6sH,cAC1Cj/F,GAAaU,QAAU8sB,EAAc9sB,QACrChgH,KAAKuxB,GAAKA,EACVvxB,KAAKu6J,UAAS,GACdv6J,KAAK2zK,gBAAkB,IAAIsoC,GAAIj8M,KAAK0xF,SAAS68E,kBAAmB,CAAE4tC,SAAUn8M,KAAKk8M,UACjFl8M,KAAKq+M,QAAUr+M,KAAKk8M,QACpBl8M,KAAK6C,SAAW7C,KAAK0xF,SAAS7uF,OAC9B7C,KAAKmnM,UAAY,IAAI2S,GAAU95M,MAC/BA,KAAKw+M,eAAiB,IAAIzL,GAAe/yM,MACrCA,KAAK0xF,SAAS+sH,eAChB1iI,GAAIS,YAAcx8E,KAAK0xF,SAAS+sH,aAAatlN,QAAQ,WAAY,KAEnE6G,KAAKupM,GAAK,CACR3lF,SAAUA,KACVnM,sBAAkBxvG,EAClB7H,KAAMgxE,EACNjxE,KAAMixE,EACNt5B,OAAQs5B,EACRrtE,QAASqtE,EACT09H,WAAY78H,GAEd,IACIysI,EAAexG,GADRl4M,MAEXA,KAAKgrB,KAAO0zL,EACZ1+M,KAAKs4M,QAAUoG,EAAa7xM,IAC5BigI,EAAc7vE,KAAK,cAAe,CAAEm0B,OAAQpxF,OAC5CA,KAAKmpM,aAAa,QAASnpM,MAC3BA,KAAK/D,EAAIm4G,GAASwC,kBAAiB,WACjC,MAAO,CACL/K,QAASp7D,EAAM5tC,OAAS4tC,EAAM8xE,UAAY9xE,EAAMktF,SAChD1gI,QAASwzC,EAAM8xE,cAuSrB,OAnSAw7F,EAAOnnN,UAAU0nE,OAAS,WACxBA,GAAOt+D,OAET+9M,EAAOnnN,UAAUwC,MAAQ,SAAUk1I,GACjCD,GAAQruI,KAAMsuI,IAEhByvE,EAAOnnN,UAAU86G,SAAW,WAC1B,OAAOm8B,GAAW7tI,OAEpB+9M,EAAOnnN,UAAUuyM,aAAe,SAAU3gM,GAExC,IADA,IAAI5L,EAAI,GACC+7C,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC/7C,EAAE+7C,EAAK,GAAKphD,UAAUohD,GAExB,IACoCylC,EADhCj3E,EAAOnH,KACP4+B,EAAWz3B,EAAKuqF,SAASlpF,GAC7B,GAAKo2B,EAiBL,OAdIz3B,EAAKw3M,iBAAmBvgI,EAAQj3E,EAAKw3M,eAAen2M,MACtDo2B,EAAWw/C,EAAM2S,KACjB3S,EAAQA,EAAMA,OAEQ,iBAAbx/C,IAETw/C,GADAA,EAAQx/C,EAASzlC,QAAQ,SAAU,KACnB0kN,GAAUz/H,GAAS,EACnCx/C,EAAWi/K,GAAUj/K,GACrBz3B,EAAKw3M,eAAiBx3M,EAAKw3M,gBAAkB,GAC7Cx3M,EAAKw3M,eAAen2M,GAAQ,CAC1BuoF,KAAMnyD,EACNw/C,MAAOA,IAGJx/C,EAAS5qB,MAAMoqE,GAASj3E,EAAMvK,IAEvCmhN,EAAOnnN,UAAUunD,UAAY,SAAUkN,GACrC,OAAOkzD,GAAKpgE,UAAUkN,IAExB0yJ,EAAOnnN,UAAUo1H,SAAW,SAAUxjH,EAAMuvG,EAAYx8G,GACtD,OAAOywH,GAAShsH,KAAMwI,EAAMuvG,EAAYx8G,IAE1CwiN,EAAOnnN,UAAUgoN,UAAY,SAAUp2M,EAAM66C,GAE3C,QADgBjgD,EAASqqH,GAAWztH,MAAMtH,MAAM,QAAS8P,MAEhD66C,QAAqCp7C,IAA5B64G,GAAc3qH,IAAIqS,KAKtCu1M,EAAOnnN,UAAUssI,YAAc,SAAUnkG,GACvC/+B,KAAKurM,sBAAsBroE,YAAYnkG,IAEzCg/K,EAAOnnN,UAAUk7L,WAAa,SAAUtpL,EAAMo2B,EAAUw/C,GACtDp+E,KAAKw+M,eAAe1sB,WAAWtpL,EAAMo2B,EAAUw/C,IAEjD2/H,EAAOnnN,UAAU28M,qBAAuB,SAAU/qM,EAAMo2B,EAAUw/C,GAChEp+E,KAAKw+M,eAAejL,qBAAqB/qM,EAAMo2B,EAAUw/C,IAE3D2/H,EAAOnnN,UAAU48M,qBAAuB,SAAUhrM,EAAMo2B,EAAUw/C,GAChEp+E,KAAKw+M,eAAehL,qBAAqBhrM,EAAMo2B,EAAUw/C,IAE3D2/H,EAAOnnN,UAAUylL,YAAc,SAAUn7E,EAASlzC,EAAMqsJ,EAASj8H,GAC/Dp+E,KAAKmnM,UAAUhkM,IAAI+9F,EAASlzC,EAAMqsJ,EAASj8H,IAE7C2/H,EAAOnnN,UAAUstI,YAAc,SAAU25C,EAAK0rB,EAAIhzM,EAAOwoC,GACvD,OAAO/+B,KAAKw+M,eAAet6E,YAAY25C,EAAK0rB,EAAIhzM,EAAOwoC,IAEzDg/K,EAAOnnN,UAAU46L,kBAAoB,SAAU3T,GAC7C,OAAO79K,KAAKw+M,eAAehtB,kBAAkB3T,IAE/CkgC,EAAOnnN,UAAUw8M,kBAAoB,SAAUv1B,GAC7C,OAAO79K,KAAKw+M,eAAepL,kBAAkBv1B,IAE/CkgC,EAAOnnN,UAAU4xM,sBAAwB,SAAU3qB,GACjD,OAAO79K,KAAKw+M,eAAehW,sBAAsB3qB,IAEnDkgC,EAAOnnN,UAAUwJ,KAAO,WACtB,IAAI+G,EAAOnH,KACPmH,EAAKjE,SACPiE,EAAKjE,QAAS,EACViE,EAAKtE,OACPsE,EAAKo7G,UAAUpmC,gBAAkB,QAEjCuhI,GAAMt9M,KAAK+G,EAAK8oD,gBAChBytJ,GAAMv9M,KAAKgH,EAAKoqB,KAElBpqB,EAAK4qF,OACL5qF,EAAK81D,KAAK,UAGd8gJ,EAAOnnN,UAAUuJ,KAAO,WACtB,IAAIgH,EAAOnH,KAAMyqD,EAAMtjD,EAAKw2H,SACvBx2H,EAAKjE,SACJ46M,IAAQrzJ,IAAQtjD,EAAKtE,QACvB4nD,EAAIy5E,YAAY,aAElB/8H,EAAKjH,OACDiH,EAAKtE,QACPsE,EAAKo7G,UAAUpmC,gBAAkB,QAC7Bh1E,IAASA,EAAK2lI,cAAcC,gBAC9B5lI,EAAK2lI,cAAcC,cAAgB,QAGrC2wE,GAAMv9M,KAAKgH,EAAK8oD,gBAChBytJ,GAAM9pJ,SAASzsD,EAAKoqB,GAAI,UAAWpqB,EAAKkjK,aAE1CljK,EAAKjE,QAAS,EACdiE,EAAK81D,KAAK,UAGd8gJ,EAAOnnN,UAAUwkH,SAAW,WAC1B,QAASp7G,KAAKkD,QAEhB66M,EAAOnnN,UAAUg1M,iBAAmB,SAAUrqL,EAAOqvE,GACnD5wF,KAAKi9D,KAAK,gBAAiB,CACzB17C,MAAOA,EACPqvE,KAAMA,KAGVmtH,EAAOnnN,UAAUm7F,KAAO,SAAUhzD,GAChC,IAC6B5Z,EADzBhe,EAAOnH,KACPkmF,EAAM/+E,EAAK8uC,aACf,GAAI9uC,EAAKkqF,QACP,MAAO,GAET,GAAInL,EAAK,EACPnnD,EAAOA,GAAQ,IACVgzD,MAAO,EACZ,IAAIx7F,EAAQ6tF,GAAkB8B,GAAOA,EAAI3vF,MAAQ2vF,EAAItuF,UAOrD,OANAutB,EAAOhe,EAAKy0D,WAAWrlE,EAAOwoC,GAC9BA,EAAK9hC,QAAUipF,EACVnnD,EAAKg2G,WACR5tI,EAAK81D,KAAK,cAAel+B,GAE3BA,EAAK9hC,QAAUipF,EAAM,KACd/gE,IAGX44L,EAAOnnN,UAAUsJ,KAAO,SAAU6+B,GAChC,IAC6B5Z,EAAMmzB,EAD/BnxC,EAAOnH,KACPkmF,EAAM/+E,EAAK8uC,aACf,GAAKiwC,GAAQ/+E,EAAKg5L,cAAeh5L,EAAKkqF,QAiCtC,OA9BAtyD,EAAOA,GAAQ,IACV7+B,MAAO,EACZ6+B,EAAK9hC,QAAUipF,EACRnnD,EAAKvZ,QAAUre,EAAKupD,WAAW3xB,GACjCA,EAAKg2G,WACR5tI,EAAK81D,KAAK,cAAel+B,GAEP,QAAhBA,EAAKm5F,QACP/wH,EAAK81D,KAAK,iBAAkBl+B,GAE9B5Z,EAAO4Z,EAAKvZ,QACP4+D,GAAkB8B,GAarBA,EAAI3vF,MAAQ4uB,IAZR4Z,EAAKkrI,aAAgB9iK,EAAKtE,SAC5BqjF,EAAItuF,UAAYutB,IAEdmzB,EAAOolK,GAAMtjG,UAAUjzG,EAAKoqB,GAAI,UAClCqsL,GAAOtlK,EAAKr6C,UAAU,SAAUioF,GAC9B,GAAIA,EAAI19E,OAASrB,EAAKoqB,GAEpB,OADA20D,EAAI3vF,MAAQ4uB,GACL,MAOf4Z,EAAK9hC,QAAUipF,EAAM,MACE,IAAnBnnD,EAAKqyK,WACPjqM,EAAKozJ,UAAS,GAETp1I,GAET44L,EAAOnnN,UAAUglE,WAAa,SAAUp2C,EAASuZ,GAC/C,OAAO6qI,GAAa5pK,KAAMwlB,EAASuZ,IAErCg/K,EAAOnnN,UAAU85D,WAAa,SAAU3xB,GACtC,OAAO4qI,GAAa3pK,KAAM++B,IAE5Bg/K,EAAOnnN,UAAUykK,cAAgB,SAAU71I,EAASuZ,GAC9CA,IACFvZ,EAAUm4L,GAAS,CAAEn4L,QAASA,GAAWuZ,IAE3C/+B,KAAKkkI,YAAY,oBAAoB,EAAO1+G,IAE9Cu4L,EAAOnnN,UAAUi6M,aAAe,SAAUgO,QACjB52M,IAAnB42M,EACFj1C,GAAa5pK,KAAMA,KAAKoqM,aAAc,CAAElyE,OAAQ,QAEhD0xC,GAAa5pK,KAAM6+M,GAErB7+M,KAAKi+H,YAAY1tF,QACjBvwC,KAAKu6J,UAAS,GACdv6J,KAAKkjI,eAEP66E,EAAOnnN,UAAUmnL,QAAU,WACzB,OAAQ/9K,KAAKi+M,YAEfF,EAAOnnN,UAAU2jK,SAAW,SAAUh5I,GACpC,IAAIu9L,GAAY9+M,KAAKi+M,WACrBj+M,KAAKi+M,YAAc18L,EACfA,GAASA,IAAUu9L,GACrB9+M,KAAKi9D,KAAK,UAGd8gJ,EAAOnnN,UAAUq5D,aAAe,WAC9B,IAAI9oD,EAAOnH,KAIX,OAHKmH,EAAK9H,YACR8H,EAAK9H,UAAYq+M,GAAMvnN,IAAIgR,EAAK8jK,iBAAmB9jK,EAAKoqB,GAAK,YAExDpqB,EAAK9H,WAEd0+M,EAAOnnN,UAAU05K,wBAA0B,WACzC,OAAOtwK,KAAKgrK,sBAEd+yC,EAAOnnN,UAAUq/C,WAAa,WAI5B,OAHKj2C,KAAKmjI,YACRnjI,KAAKmjI,UAAYu6E,GAAMvnN,IAAI6J,KAAKuxB,KAE3BvxB,KAAKmjI,WAEd46E,EAAOnnN,UAAU+zI,OAAS,WACxB,IACIzkD,EADA/+E,EAAOnH,KAQX,OANKmH,EAAKmf,gBACR4/D,EAAM/+E,EAAK6mI,iBAET7mI,EAAKmf,cAAgB4/D,EAAI5/D,eAGtBnf,EAAKmf,eAEdy3L,EAAOnnN,UAAU+mI,OAAS,WACxB,IACInzE,EADArjD,EAAOnH,KAQX,OANKmH,EAAKovG,kBACR/rD,EAAMrjD,EAAKwjI,YAETxjI,EAAKovG,gBAAkB/rD,EAAI9yD,UAGxByP,EAAKovG,iBAEdwnG,EAAOnnN,UAAU2rH,QAAU,WACzB,IAAI93D,EAAMzqD,KAAK29H,SACf,OAAO39H,KAAKkrK,cAAgBzgH,EAAMA,EAAInkD,KAAO,OAE/Cy3M,EAAOnnN,UAAUo4K,WAAa,SAAUxrJ,EAAKhb,EAAM09E,GACjD,IAAI/+E,EAAOnH,KAAM0xF,EAAWvqF,EAAKuqF,SACjC,OAAIA,EAASqtH,sBACJ53M,EAAKgiM,aAAa,wBAAyB3lL,EAAK0iE,GAAK,EAAM19E,IAE/DkpF,EAASi9E,cAAgBzoF,GAAwB,SAAjBA,EAAIpzC,UAAgD,IAAzBtvB,EAAI3c,QAAQ,UAAiC,IAAf2c,EAAIprB,OACzForB,EAELkuE,EAASk9E,cACJznK,EAAKwsK,gBAAgBgpC,WAAWn5L,GAEzCA,EAAMrc,EAAKwsK,gBAAgBC,WAAWpwJ,EAAKkuE,EAASm9E,qBAGtDkvC,EAAOnnN,UAAU2vJ,UAAY,SAAUrgE,GACrCmrH,GAAYrxM,KAAMkmF,IAEpB63H,EAAOnnN,UAAU+M,OAAS,WACxBomK,GAAS/pK,OAEX+9M,EAAOnnN,UAAUyH,QAAU,SAAUmsK,GACnCnsK,GAAQ2B,KAAMwqK,IAEhBuzC,EAAOnnN,UAAUygL,aAAe,SAAUz4I,GACxC,OAAO5+B,KAAKgqK,aAAaqN,aAAaz4I,IAExCm/K,EAAOnnN,UAAUooN,eAAiB,WAChC,OAAOh/M,KAAKgqK,aAAasN,iBAE3BymC,EAAOnnN,UAAUkkN,UAAY,WAC3B,MAAM,IAAI17M,MAAM,yKAElB2+M,EAAOnnN,UAAU8kN,WAAa,WAC5B,MAAM,IAAIt8M,MAAM,gGAElB2+M,EAAOnnN,UAAUukN,YAAc,WAC7B,MAAM,IAAI/7M,MAAM,kGAElB2+M,EAAOnnN,UAAU4kN,kBAAoB,WACnC,MAAM,IAAIp8M,MAAM,8GAEX2+M,EA7VI,GAgWTkB,GAAQ1nG,GAAS2D,IACjBgkG,GAAYniI,GAAMe,QAASqhI,GAASpiI,GAAM31B,KAAMg4J,GAAWriI,GAAMjnC,OACjEupK,GAAkB,EAAGC,IAAoB,EAEzCC,GAAgB,GAChBlI,GAAU,GAIVmI,GAAsB,SAAUjqN,GAClC,IAAIgG,EAAOhG,EAAEgG,KACb4jN,GAAOM,GAActpN,OAAO,SAAUi7F,GACpC,OAAQ71F,GACR,IAAK,SACH61F,EAAOn0B,KAAK,eAAgB1nE,GAC5B,MACF,IAAK,SACH67F,EAAOn0B,KAAK,eAAgB1nE,QAK9BmqN,GAAqB,SAAUn+L,GAC7BA,IAAU+9L,KACR/9L,EACF6yF,GAASj/G,QAAQ4hD,GAAG,gBAAiByoK,IAErCprG,GAASj/G,QAAQmzF,IAAI,gBAAiBk3H,IAExCF,GAAoB/9L,IAGpBo+L,GAAuB,SAAUC,GACnC,IAAIC,EAAaxI,UACVkI,GAAcK,EAAaruL,IAClC,IAAK,IAAI77B,EAAI,EAAGA,EAAI6pN,GAAcnnN,OAAQ1C,IACxC,GAAI6pN,GAAc7pN,KAAOkqN,EAAc,CACrCL,GAAcz4M,OAAOpR,EAAG,GACxB,MAYJ,OATA2hN,GAAU/jM,EAAO+jM,IAAS,SAAUjmH,GAClC,OAAOwuH,IAAiBxuH,KAEtBquH,GAActyE,eAAiByyE,IACjCH,GAActyE,aAAekqE,GAAQj/M,OAAS,EAAIi/M,GAAQ,GAAK,MAE7DoI,GAAc1yE,gBAAkB6yE,IAClCH,GAAc1yE,cAAgB,MAEzB8yE,EAAWznN,SAAWi/M,GAAQj/M,QAYnC0nN,GAAuC,eAAxBpoN,SAASqoN,WACxBN,GAAgBrpI,GAASA,GAAS,GAAIsgI,IAAa,CACrD2H,QAAS,KACTr+F,QAAS,KACT6tD,gBAAiB,GACjBqwC,gBAAiB,KACjBj5G,OAAQ,KACRhpG,EAAGm4G,GACH4rG,aAAc,IACdC,aAAc,MACdC,YAAa,aACb7I,QAASkI,GACT74M,KAAM63G,GACN4uB,aAAc,KACdJ,cAAe,KACfr7C,SAAU,GACVpmC,MAAO,WACL,IACI00D,EAASk+F,EADT/2M,EAAOnH,KACmBilG,EAAS,GACvCi5G,EAAkBjC,GAAIhQ,mBAAmBv0M,SAAS+5G,UAC9C,yBAAyBr2G,KAAK8iN,KAChCA,EAAkBA,EAAgB/kN,QAAQ,WAAY,IAAIA,QAAQ,gBAAiB,IAC9E,UAAUiC,KAAK8iN,KAClBA,GAAmB,MAGvB,IAj7foBpxE,EAi7fhB88D,EAAUz0M,OAAOgrN,SAAWhrN,OAAOirN,eACvC,GAAIxW,EACF5pF,EAAU4pF,EAAQj9K,MAAQi9K,EAAQ5pF,QAClC/a,EAAS2kG,EAAQ3kG,WACZ,CAEL,IADA,IAAI6Y,EAAUpmH,SAASm3C,qBAAqB,UACnCn5C,EAAI,EAAGA,EAAIooH,EAAQ1lH,OAAQ1C,IAAK,CACvC,IAAI2wB,EACJ,GAAY,MADRA,EAAMy3F,EAAQpoH,GAAG2wB,KAAO,IAC5B,CAGA,IAAIg6L,EAAYh6L,EAAI5qB,UAAU4qB,EAAIzS,YAAY,MAC9C,GAAI,8CAA8CxY,KAAKirB,GAAM,EACxB,IAA/Bg6L,EAAUx5M,QAAQ,UACpBo+F,EAAS,QAEX+a,EAAU35F,EAAI5qB,UAAU,EAAG4qB,EAAIzS,YAAY,MAC3C,QAGJ,IAAKosG,GAAWtoH,SAAS4oN,eAEM,KADzBj6L,EAAM3uB,SAAS4oN,cAAcj6L,KACzBxf,QAAQ,UACdo+F,EAAS,QAEX+a,EAAU35F,EAAI5qB,UAAU,EAAG4qB,EAAIzS,YAAY,MAG/CzM,EAAK64G,QAAU,IAAIi8F,GAAIiC,GAAiBtqC,WAAW5zD,GACnD74G,EAAK+2M,gBAAkBA,EACvB/2M,EAAKk3M,QAAU,IAAIpC,GAAI90M,EAAK64G,SAC5B74G,EAAK89F,OAASA,GAh9fM6nC,EAi9fZ3lI,GAh9fI4vC,GAAG,YAAa26B,EAAMm7D,GAAgBC,IACpDA,EAAc/1F,GAAG,eAAgB26B,EAAM47D,GAA0BR,KAi9fjEl2B,iBAAkB,SAAUi3D,GAC1B,IAAIjuD,EAAUiuD,EAAgBswC,SAC1Bv+F,GACF5/G,KAAKo+M,YAAYx+F,GAEnB,IAAI3a,EAAS4oE,EAAgB5oE,OACzB4oE,EAAgB5oE,SAClBjlG,KAAKilG,OAASA,GAEhBjlG,KAAK6tK,gBAAkBA,EACvB,IAAI0yC,EAAiB1yC,EAAgB2yC,sBACdv4M,IAAnBs4M,GACF7rI,GAAO6rI,GAAgB,SAAUE,EAAe7/F,GAC9CtB,GAAawB,cAAc3tB,KAAKytB,GAAc6/F,MAIpDxgN,KAAM,SAAUyxF,GACd,IACIlsF,EADA2B,EAAOnH,KAEP0gN,EAAuB3jI,GAAMC,QAAQ,6MAAmN,KAIxP2jI,EAAW,SAAUz6H,GACvB,IAAI30D,EAAK20D,EAAI30D,GAOb,OANKA,IACHA,EAAK8jD,GAAM6Q,EAAK,QAAQ5yE,QAAO,SAAU9K,GACvC,OAAQy2M,GAAM9oN,IAAIqS,MACjBoqE,WAAWqsI,GAAM5jG,UACpBn1B,EAAIlkF,aAAa,KAAMuvB,IAElBA,GASLohC,EAAW,SAAUuzB,EAAKloF,GAC5B,OAAOA,EAAUgR,cAAgB6O,OAAS7f,EAAU5C,KAAK8qF,EAAIloF,WAAaihN,GAAMtsJ,SAASuzB,EAAKloF,IAyD5F4iN,EAAiB,SAAUvJ,GAC7B7xM,EAAS6xM,GAEPwJ,EAAc,WAChB,IAEI7+E,EAFA8+E,EAAY,EACZzJ,EAAU,GAEV0J,EAAe,SAAUxvL,EAAImgE,EAAUyxC,GACzC,IAAI/xC,EAAS,IAAI2sH,GAAOxsL,EAAImgE,EAAUvqF,GACtCkwM,EAAQn/M,KAAKk5F,GACbA,EAAOr6C,GAAG,QAAQ,aACV+pK,IAAc9+E,EAAQ5pI,QAC1BwoN,EAAevJ,MAGnBjmH,EAAO+xC,UAAY/xC,EAAO+xC,WAAaA,EACvC/xC,EAAO9yB,UAET2gJ,GAAM91G,OAAOh0G,OAAQ,QAAS0rN,GAnFb,SAAUr4M,GAC3B,IAAIo2B,EAAW8yD,EAASlpF,GACxB,GAAKo2B,EAGEA,EAAS5qB,MAAM7M,EAAM,IA+E5BgiM,CAAa,cACbnnE,EAAU5tB,GAASmB,OA3EH,SAAU7jB,GAC1B,IAAIswC,EAAU,GACd,GAAIjmD,GAAIrE,QAAQuB,QAAU8C,GAAIrE,QAAQx8D,QAAQw7D,MAAQ,GAEpD,OADAw8F,GAAU,kKACH,GACF,GAAI4sC,GAET,OADA5sC,GAAU,8GACH,GAET,GAAIxhF,EAASp6C,MAIX,OAHA6nK,GAAOztH,EAASp6C,OAAO,SAAU/7C,GAC/BymI,EAAUA,EAAQl9G,OAAOm6L,GAAM7pJ,OAAO75D,EAAKu4D,cAEtCkuE,EACF,GAAItwC,EAAS59B,SAClB,OAAOmrJ,GAAM7pJ,OAAOs8B,EAAS59B,UACxB,GAAI49B,EAASn5F,OAClB,MAAO,CAACm5F,EAASn5F,QAEnB,OAAQm5F,EAAS1mE,MACjB,IAAK,QACH,IAAIr1B,EAAI+7F,EAASzzF,UAAY,GACzBtI,EAAEyC,OAAS,GACb+mN,GAAOD,GAAUvpN,IAAI,SAAU47B,GAC7B,IAAI20D,EAAM+4H,GAAM9oN,IAAIo7B,GAChB20D,EACF87C,EAAQ9pI,KAAKguF,GAEbi5H,GAAOznN,SAASspN,OAAO,SAAUlnN,GAC/BqlN,GAAOrlN,EAAEmE,UAAU,SAAU1I,GACvBA,EAAEiT,OAAS+oB,IACbA,EAAK,cAAgB8tL,KACrBJ,GAAMhnG,UAAU1iH,EAAG,KAAMg8B,GACzBywG,EAAQ9pI,KAAK3C,aAOzB,MACF,IAAK,YACL,IAAK,qBACH4pN,GAAOF,GAAM7pJ,OAAO,aAAa,SAAU8wB,GACrCwL,EAASuvH,mBAAqBtuJ,EAASuzB,EAAKwL,EAASuvH,oBAGpDvvH,EAASwvH,kBAAmBvuJ,EAASuzB,EAAKwL,EAASwvH,kBACtDl/E,EAAQ9pI,KAAKguF,MAKnB,OAAO87C,EAsBmBm/E,CAAYzvH,IAClCA,EAASp6C,MACX6nK,GAAOztH,EAASp6C,OAAO,SAAU/7C,GAC/BwhF,GAAM31B,KAAK46E,GAAS,SAAU97C,GAC5B,OAAI+4H,GAAMxsI,GAAGyT,EAAK3qF,EAAKu4D,YACrBitJ,EAAaJ,EAASz6H,GAAMk5H,GAAS,GAAI1tH,EAAUn2F,GAAO2qF,IACnD,UAOfnJ,GAAM31B,KAAK46E,GAAS,SAAU97C,GA1MT,IAAUkL,KA2MRjqF,EAAKhR,IAAI+vF,EAAI30D,MA1M1B6/D,EAAO+uG,eAAiB/uG,EAAOnhC,gBAAkBmhC,EAAOmxB,WAAW3+G,aAC/E+7M,GAAqBvuH,GACrBA,EAAO84E,wBACP94E,EAAO/yF,SAAQ,GACf+yF,EAAOC,SAAU,EACjBD,EAAS,SA0MgB,KAHvB4wC,EAAUjlD,GAAMG,KAAK8kD,GAAS,SAAU97C,GACtC,OAAQ/+E,EAAKhR,IAAI+vF,EAAI30D,QAEXn5B,OACVwoN,EAAe,IAEfzB,GAAOn9E,GAAS,SAAU97C,IAxHF,SAAUwL,EAAUxL,GAC9C,OAAOwL,EAAS7uF,QAAUqjF,EAAI1vC,QAAQ57C,gBAAiB8lN,EAwH/CU,CAAsB1vH,EAAUxL,GAGlC66H,EAAaJ,EAASz6H,GAAMwL,EAAUxL,GAFtCgtF,GAAU,sEAAuEhtF,QASzF,OAFA/+E,EAAKuqF,SAAWA,EAChButH,GAAMvoN,KAAKvB,OAAQ,QAAS0rN,GACrB,IAAItwH,IAAW,SAAUthC,GAC1BzpD,EACFypD,EAAQzpD,GAERo7M,EAAiB,SAAUvJ,GACzBpoJ,EAAQooJ,QAKhBlhN,IAAK,SAAUo7B,GACb,OAAyB,IAArBh6B,UAAUa,OACLi/M,GAAQ//M,MAAM,GACZs5E,EAASr/C,GACXtuB,EAAKo0M,IAAS,SAAUjmH,GAC7B,OAAOA,EAAO7/D,KAAOA,KACpBohD,MAAM,MACAxB,EAAS5/C,IACX8lL,GAAQ9lL,GAAM8lL,GAAQ9lL,GAEtB,MAGXpuB,IAAK,SAAUiuF,GACb,IAAIjqF,EAAOnH,KAEX,OADqBu/M,GAAcnuH,EAAO7/D,MACnB6/D,IAGK,OAAxBjqF,EAAKhR,IAAIi7F,EAAO7/D,MAxSR,WAySW6/D,EAAO7/D,KAC1BguL,GAAcnuH,EAAO7/D,IAAM6/D,GAE7BmuH,GAAcrnN,KAAKk5F,GACnBimH,GAAQn/M,KAAKk5F,IAEfsuH,IAAmB,GACnBv4M,EAAKgmI,aAAe/7C,EACpBjqF,EAAK81D,KAAK,YAAa,CAAEm0B,OAAQA,IAC5Bw4F,KACHA,GAAuB,SAAUr0L,GAC/B,IAAI6zC,EAAQjiC,EAAK81D,KAAK,gBACtB,GAAI7zB,EAAMoO,YAGR,OAFAjiD,EAAE+D,iBACF/D,EAAEiiD,YAAcpO,EAAMoO,YACfpO,EAAMoO,aAGjBriD,OAAOu8C,iBAAiB,eAAgBk4I,MArBjCx4F,GAyBX2vH,aAAc,SAAUxvL,EAAImgE,GAC1B,OAAO1xF,KAAKmD,IAAI,IAAI46M,GAAOxsL,EAAImgE,EAAU1xF,QAE3C2D,OAAQ,SAAUmwD,GAChB,IACIp+D,EAAG07F,EADHjqF,EAAOnH,KAEX,GAAK8zD,EAAL,CAMA,IAAI8c,EAAS9c,GAUb,OADAs9B,EAASt9B,EACL+c,EAAO1pE,EAAKhR,IAAIi7F,EAAO7/D,KAClB,MAELouL,GAAqBvuH,IACvBjqF,EAAK81D,KAAK,eAAgB,CAAEm0B,OAAQA,IAEf,IAAnBimH,GAAQj/M,QACVjD,OAAO4jD,oBAAoB,eAAgB6wI,IAE7Cx4F,EAAOztF,SACP+7M,GAAmBrI,GAAQj/M,OAAS,GAC7Bg5F,GApBL+tH,GAAOF,GAAM7pJ,OAAOtB,IAAW,SAAUoyB,IACvCkL,EAASjqF,EAAKhR,IAAI+vF,EAAI30D,MAEpBpqB,EAAKxD,OAAOytF,WAThB,IAAK17F,EAAI2hN,GAAQj/M,OAAS,EAAG1C,GAAK,EAAGA,IACnCyR,EAAKxD,OAAO0zM,GAAQ3hN,KA2B1BwuI,YAAa,SAAU25C,EAAK0rB,EAAIhzM,GAC9B,IAAI4Q,EAAOnH,KAAMoxF,EAASjqF,EAAKhR,IAAII,GACnC,OAAQsnL,GACR,IAAK,eAIH,OAHK12K,EAAKhR,IAAII,IACZ,IAAIwnN,GAAOxnN,EAAO4Q,EAAKuqF,SAAUvqF,GAAMm3D,UAElC,EACT,IAAK,kBAIH,OAHI8yB,GACFA,EAAOztF,UAEF,EACT,IAAK,kBACH,OAAKytF,GAIDA,EAAOgqB,WACThqB,EAAOhxF,OAEPgxF,EAAOjxF,QAEF,IARLgH,EAAK+8H,YAAY,gBAAgB,EAAO3tI,IACjC,GASX,QAAI4Q,EAAKgmI,cACAhmI,EAAKgmI,aAAajJ,YAAY25C,EAAK0rB,EAAIhzM,IAIlDw6M,YAAa,WACXoO,GAAO9H,IAAS,SAAUjmH,GACxBA,EAAOlxF,WAGXmhN,QAAS,SAAUz7M,EAAM6zC,GACvB8kE,GAAKp7G,IAAIyC,EAAM6zC,IAEjB0E,UAAW,SAAUkN,GACnB,OAAOkzD,GAAKpgE,UAAUkN,IAExB2hF,UAAW,SAAU57C,GACnB,IAAI+7C,EAAentI,KAAKmtI,aACpBntI,KAAKmtI,eAAiB/7C,IACpB+7C,GACFA,EAAalwE,KAAK,aAAc,CAAEisC,cAAe9X,IAEnDA,EAAOn0B,KAAK,WAAY,CAAEisC,cAAeikC,KAE3CntI,KAAKmtI,aAAe/7C,GAEtBgtH,YAAa,SAAUx+F,GACrB5/G,KAAKggH,QAAU,IAAIi8F,GAAIj8M,KAAKk+M,iBAAiBtqC,WAAWh0D,EAAQzmH,QAAQ,OAAQ,KAChF6G,KAAKq+M,QAAU,IAAIpC,GAAIj8M,KAAKggH,YAGhCy/F,GAAcn0J,QAEd,IAgJMg2J,GACAC,GAmCFC,GAAaC,GApLb/nN,GAAMM,KAAKN,IAAKE,GAAMI,KAAKJ,IAAK8nN,GAAU1nN,KAAKD,MAC/C4nN,GAAmB,SAAUt8F,EAAM+jE,EAAYx2F,GACjD,IAAIh2F,EAAIwsL,EAAWxsL,EACfxC,EAAIgvL,EAAWhvL,EACfG,EAAI8qH,EAAK9qH,EACTZ,EAAI0rH,EAAK1rH,EACTioN,EAAUx4B,EAAW7uL,EACrBsnN,EAAUz4B,EAAWzvL,EACrBmoN,GAAYlvH,GAAO,IAAIl6F,MAAM,IAyBjC,MAxBoB,MAAhBopN,EAAS,KACX1nN,GAAKynN,GAEa,MAAhBC,EAAS,KACXllN,GAAKglN,GAEa,MAAhBE,EAAS,KACX1nN,GAAKsnN,GAAQG,EAAU,IAEL,MAAhBC,EAAS,KACXllN,GAAK8kN,GAAQE,EAAU,IAEL,MAAhBE,EAAS,KACX1nN,GAAKT,GAEa,MAAhBmoN,EAAS,KACXllN,GAAKrC,GAEa,MAAhBunN,EAAS,KACX1nN,GAAKsnN,GAAQ/nN,EAAI,IAEC,MAAhBmoN,EAAS,KACXllN,GAAK8kN,GAAQnnN,EAAI,IAEZwnN,GAASnlN,EAAGxC,EAAGG,EAAGZ,IAgDvBooN,GAAW,SAAUnlN,EAAGxC,EAAGG,EAAGZ,GAChC,MAAO,CACLiD,EAAGA,EACHxC,EAAGA,EACHG,EAAGA,EACHZ,EAAGA,IAMHqoN,GAAO,CACTC,QAhDY,SAAU58F,EAAM9qH,EAAGZ,GAC/B,OAAOooN,GAAS18F,EAAKzoH,EAAIrC,EAAG8qH,EAAKjrH,EAAIT,EAAG0rH,EAAK9qH,EAAQ,EAAJA,EAAO8qH,EAAK1rH,EAAQ,EAAJA,IAgDjEgoN,iBAAkBA,GAClBO,yBA5D6B,SAAU78F,EAAM+jE,EAAY+4B,EAAeC,GACxE,IAAI72L,EAAK71B,EACT,IAAKA,EAAI,EAAGA,EAAI0sN,EAAKhqN,OAAQ1C,IAE3B,IADA61B,EAAMo2L,GAAiBt8F,EAAM+jE,EAAYg5B,EAAK1sN,KACtCkH,GAAKulN,EAAcvlN,GAAK2uB,EAAI3uB,EAAI2uB,EAAIhxB,GAAK4nN,EAAc5nN,EAAI4nN,EAAcvlN,GAAK2uB,EAAInxB,GAAK+nN,EAAc/nN,GAAKmxB,EAAInxB,EAAImxB,EAAI5xB,GAAKwoN,EAAcxoN,EAAIwoN,EAAc/nN,EACjK,OAAOgoN,EAAK1sN,GAGhB,OAAO,MAqDP2sN,UAhDc,SAAUh9F,EAAMi9F,GAC9B,IAAIC,EAAK3oN,GAAIyrH,EAAKzoH,EAAG0lN,EAAS1lN,GAC1B4lN,EAAK5oN,GAAIyrH,EAAKjrH,EAAGkoN,EAASloN,GAC1B45J,EAAKt6J,GAAI2rH,EAAKzoH,EAAIyoH,EAAK9qH,EAAG+nN,EAAS1lN,EAAI0lN,EAAS/nN,GAChDw5J,EAAKr6J,GAAI2rH,EAAKjrH,EAAIirH,EAAK1rH,EAAG2oN,EAASloN,EAAIkoN,EAAS3oN,GACpD,OAAIq6J,EAAKuuD,EAAK,GAAKxuD,EAAKyuD,EAAK,EACpB,KAEFT,GAASQ,EAAIC,EAAIxuD,EAAKuuD,EAAIxuD,EAAKyuD,IAyCtCr3E,MAvCY,SAAU9lB,EAAMo9F,EAAWC,GACvC,IAAIH,EAAKl9F,EAAKzoH,EACV4lN,EAAKn9F,EAAKjrH,EACV45J,EAAK3uC,EAAKzoH,EAAIyoH,EAAK9qH,EACnBw5J,EAAK1uC,EAAKjrH,EAAIirH,EAAK1rH,EACnBgpN,EAAMF,EAAU7lN,EAAI6lN,EAAUloN,EAC9BqoN,EAAMH,EAAUroN,EAAIqoN,EAAU9oN,EAC9BkpN,EAAcjpN,GAAI,EAAG6oN,EAAU7lN,EAAI2lN,GACnCO,EAAclpN,GAAI,EAAG6oN,EAAUroN,EAAIooN,GACnCO,EAAanpN,GAAI,EAAGo6J,EAAK2uD,GACzBK,EAAappN,GAAI,EAAGm6J,EAAK6uD,GAW7B,OAVAL,GAAMM,EACNL,GAAMM,EACFJ,IACF1uD,GAAM6uD,EACN9uD,GAAM+uD,EACNP,GAAMQ,EACNP,GAAMQ,GAIDjB,GAASQ,EAAIC,GAFpBxuD,GAAM+uD,GAEuBR,GAD7BxuD,GAAMivD,GACgCR,IAmBtC/rN,OAAQsrN,GACRkB,eAVmB,SAAUh8F,GAC7B,OAAO86F,GAAS96F,EAAW3pH,KAAM2pH,EAAWzpH,IAAKypH,EAAW1pH,MAAO0pH,EAAWxpH,UAuF5EylN,IAjCE5B,GAAQ,GACRC,GAAY,GA2BT,CACLxvH,KA3BS,SAAUxgE,EAAI/N,GACvB,IAAI2/L,EAAa,kBAAoB3/L,EAAM,mBACvC4/L,EAAY,kBAAoB5/L,EAAM,0CAA4C+N,EAAK,4BAC3F,QAAkBtpB,IAAdq5M,GAAM/vL,GACR,OAAO+vL,GAAM/vL,GAEb,IAAI8xL,EAAO,IAAI9yH,IAAW,SAAUthC,EAAS46B,GAC3C,IAAIy5H,EAnDE,SAAUC,EAAWC,EAAUh5K,QAC3B,IAAZA,IACFA,EAAU,KAEZ,IAAIv4B,GAAO,EACPs9C,EAAQ,KACRhc,EAAW,SAAUkwK,GACvB,OAAO,WAEL,IADA,IAAI1kL,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAElB1mC,IACHA,GAAO,EACO,OAAVs9C,IACFnpD,aAAampD,GACbA,EAAQ,MAEVk0J,EAAUzvM,MAAM,KAAM+qB,MAIxBkwB,EAAU1b,EAASgwK,GACnB15H,EAASt2C,EAASiwK,GAYtB,MAAO,CACLhlN,MAZU,WAEV,IADA,IAAIugC,EAAO,GACF4Z,EAAK,EAAGA,EAAKphD,UAAUa,OAAQugD,IACtC5Z,EAAK4Z,GAAMphD,UAAUohD,GAElB1mC,GAAkB,OAAVs9C,IACXA,EAAQppD,YAAW,WACjB,OAAO0jF,EAAO71E,MAAM,KAAM+qB,KACzByL,KAKLykB,QAASA,EACT46B,OAAQA,GAaS65H,CAAQz0J,EAAS46B,GAC9B03H,GAAUhwL,GAAM+xL,EAAOr0J,QACvBouD,GAAaA,aAAaG,WAAWh6F,GAAK,WACxC,OAAO8/L,EAAO9kN,MAAM4kN,MACnB,WACD,OAAOE,EAAOz5H,OAAOs5H,SAIzB,OADA7B,GAAM/vL,GAAM8xL,EACLA,GAYTlgN,IATQ,SAAUouB,EAAIlP,QACApa,IAAlBs5M,GAAUhwL,KACZgwL,GAAUhwL,GAAIlP,UACPk/L,GAAUhwL,IAEnB+vL,GAAM/vL,GAAMg/D,GAAWthC,QAAQ5sC,MAS/BshM,GAAS5mI,GAAM31B,KAAMw8J,GAAW7mI,GAAMjnC,OAEtC8X,GAAQ,aAEZA,GAAM9X,OAAS0rK,GAAc,SAAU34K,GACrC,IACIyM,EADOt1C,KACOpJ,UACdg3D,EAAQ,WACV,IAAIl4D,EAAGmuN,EAAQhlJ,EACX13D,EAAOnH,KACX,IAAKyhN,KACCt6M,EAAKlH,MACPkH,EAAKlH,KAAK+T,MAAM7M,EAAM5P,WAExBssN,EAAS18M,EAAK28M,QAGZ,IADApuN,EAAImuN,EAAOzrN,OACJ1C,MACLmpE,EAAQglJ,EAAOnuN,IACLuK,MACR4+D,EAAM5+D,KAAK+T,MAAM7M,EAAM5P,YAM7BkpB,EAAQ,WACV,OAAOzgB,MAYTyhN,IAAe,EACf,IAAI7qN,EAAY,IAnCLoJ,KAqFX,OAjDAyhN,IAAe,EACX54K,EAAMi7K,SACRH,GAAO96K,EAAMi7K,QAAQ,SAAUjlJ,GAC7B,IAAK,IAAIwe,KAAUxe,EACF,SAAXwe,IACFx0C,EAAMw0C,GAAUxe,EAAMwe,OAIxB/nC,EAAOwuK,SACTj7K,EAAMi7K,OAASxuK,EAAOwuK,OAAOh/L,OAAO+jB,EAAMi7K,UAG1Cj7K,EAAMk7K,SACRJ,GAAO96K,EAAMk7K,QAAQrrN,MAAM,MAAM,SAAU8P,GACzCqgC,EAAMrgC,GAAQiY,KAGdooB,EAAMriB,YACRm9L,GAAO96K,EAAMriB,WAAW9tB,MAAM,MAAM,SAAU8P,GAC5C,IAAIw7M,EAAY,IAAMx7M,EACtBqgC,EAAMrgC,GAAQ,SAAUjS,GACtB,IAAI4Q,EAAOnH,KACX,YAAciI,IAAV1R,GACF4Q,EAAK68M,GAAaztN,EACX4Q,GAEFA,EAAK68M,OAIdn7K,EAAMo7K,SACRN,GAAO96K,EAAMo7K,SAAS,SAAUlzH,EAAMvoF,GACpColD,EAAMplD,GAAQuoF,KAGdloD,EAAMq7K,UAAY5uK,EAAO4uK,WAC3Br7K,EAAMq7K,SAAWN,GAAS,GAAItuK,EAAO4uK,SAAUr7K,EAAMq7K,WAEvDxvI,GAAO7rC,GAAO,SAAUs7K,EAAQ37M,GACR,mBAAX27M,GAAyB7uK,EAAO9sC,GACzC5R,EAAU4R,GArDK,SAAUA,EAAM4M,GACjC,OAAO,WACL,IAAIjO,EAAOnH,KACPuvG,EAAMpoG,EAAKmuC,OACfnuC,EAAKmuC,OAASA,EAAO9sC,GACrB,IAAIohF,EAAMx0E,EAAGpB,MAAM7M,EAAM5P,WAEzB,OADA4P,EAAKmuC,OAASi6D,EACP3lB,GA8CWx3E,CAAa5J,EAAM27M,GAErCvtN,EAAU4R,GAAQ27M,KAGtBv2J,EAAMh3D,UAAYA,EAClBg3D,EAAM5+C,YAAc4+C,EACpBA,EAAM9X,OAAS0rK,GACR5zJ,GAGT,IAsTIw2J,GAtTAC,GAAQrqN,KAAKN,IAAK4qN,GAAQtqN,KAAKJ,IAAK2qN,GAAUvqN,KAAKD,MAwJnDyqN,GAAY,CACdpnL,UAXc,SAAUwK,GACxB,IAAIvlB,EAAOuhC,KAAK6gK,UAAU78K,GAC1B,OAAKgpC,EAASvuD,GAGPA,EAAKlpB,QAAQ,oBAAoB,SAAUqB,GAChD,IAAIkqN,EAAUlqN,EAAMmxB,WAAW,GAAG/vB,SAAS,IAC3C,MAAO,MAAQ,OAAOH,UAAUipN,EAAQtsN,QAAUssN,KAJ3CriM,GASTwhC,MAAO,SAAUwH,GACf,IACE,OAAOzH,KAAKC,MAAMwH,GAClB,MAAO6+B,OAKTy6H,GAAQ,CACVr7K,UAAW,GACXl7B,MAAO,EACP21C,KAAM,SAAU2tC,GACd,IAAIvqF,EAAOnH,KAAMi+E,EAAMs5B,GAAS2D,IAAK9sG,OAA2BnG,IAAnBypF,EAAStjF,MAAsBsjF,EAAStjF,MAAQjH,EAAKiH,MAC9FmjB,EAAK,iBAAmBnjB,EAC5BjH,EAAKmiC,UAAUl7B,GAAS,SAAU8mK,GAChCj3F,EAAIt6E,OAAO4tB,UACJpqB,EAAKmiC,UAAUl7B,GACtBsjF,EAAS9yD,SAASs2I,IAEpBj3F,EAAI96E,IAAI86E,EAAIxzB,IAAInkD,KAAM,SAAU,CAC9BirB,GAAIA,EACJlL,IAAKqrE,EAASluE,IACdjoB,KAAM,oBAER4L,EAAKiH,UAILw2M,GAAMxuI,GAASA,GAAS,GAAIsgI,IAAa,CAC3C3yJ,KAAM,SAAU2tC,GACd,IAAI5jD,EAAK1/B,EAAQ,EACby2M,EAAQ,YACLnzH,EAASozH,OAA4B,IAAnBh3K,EAAI0V,YAAoBp1C,IAAU,KACnDsjF,EAASx+C,SAAW9kC,EAAQ,KAAwB,MAAf0/B,EAAIuD,OAC3CqgD,EAASx+C,QAAQt9C,KAAK87F,EAASqzH,cAAe,GAAKj3K,EAAI4V,aAAc5V,EAAK4jD,GACjEA,EAAS7lF,OAClB6lF,EAAS7lF,MAAMjW,KAAK87F,EAASszH,YAAa52M,EAAQ,IAAQ,YAAc,UAAW0/B,EAAK4jD,GAE1F5jD,EAAM,MAENkjD,GAAM7qF,WAAW0+M,EAAO,KA+B5B,GA5BAnzH,EAAStT,MAAQsT,EAAStT,OAASp+E,KACnC0xF,EAASqzH,cAAgBrzH,EAASqzH,eAAiBrzH,EAAStT,MAC5DsT,EAASszH,YAActzH,EAASszH,aAAetzH,EAAStT,MACxDsT,EAASozH,OAA2B,IAAnBpzH,EAASozH,MAC1BpzH,EAASrvE,KAAOqvE,EAASrvE,MAAQ,GACjCuiM,GAAI3nJ,KAAK,mBAAoB,CAAEy0B,SAAUA,KACzC5jD,EAAM,IAAIoT,gBACF+jK,kBACNn3K,EAAIm3K,iBAAiBvzH,EAASwzH,cAEhCp3K,EAAIvnB,KAAKmrE,EAASn2F,OAASm2F,EAASrvE,KAAO,OAAS,OAAQqvE,EAASluE,IAAKkuE,EAASozH,OAC/EpzH,EAASyzH,cACXr3K,EAAIvD,iBAAkB,GAEpBmnD,EAASwzH,cACXp3K,EAAI+T,iBAAiB,eAAgB6vC,EAASwzH,cAE5CxzH,EAAS0zH,gBACXroI,GAAM31B,KAAKsqC,EAAS0zH,gBAAgB,SAAU5zJ,GAC5C1jB,EAAI+T,iBAAiB2P,EAAOj1D,IAAKi1D,EAAOj7D,UAG5Cu3C,EAAI+T,iBAAiB,mBAAoB,mBACzC/T,EAAM82K,GAAI3nJ,KAAK,aAAc,CAC3BnvB,IAAKA,EACL4jD,SAAUA,IACT5jD,KACCiW,KAAK2tC,EAASrvE,OACbqvE,EAASozH,MACZ,OAAOD,IAET7zH,GAAM7qF,WAAW0+M,EAAO,OAIxBQ,GAAWtoI,GAAMjnC,OACjBwvK,GAAc,WAChB,SAASA,EAAY5zH,GACnB1xF,KAAK0xF,SAAW2zH,GAAS,GAAI3zH,GAC7B1xF,KAAKoO,MAAQ,EAgCf,OA9BAk3M,EAAYC,QAAU,SAAU/vN,GAC9B,OAAO,IAAI8vN,GAAcvhK,KAAKvuD,IAEhC8vN,EAAY1uN,UAAUmtD,KAAO,SAAUhlB,GACrC,IAAIymL,EAAMzmL,EAAKlzB,MAAO45M,EAAM1mL,EAAKmU,QAC7BwyK,EAAUL,GAASrlN,KAAK0xF,SAAU3yD,GACtC2mL,EAAQxyK,QAAU,SAAUp9C,EAAG8G,QAEZ,KADjB9G,EAAI0uN,GAAU3gK,MAAM/tD,MAElBA,EAAI,CAAE+V,MAAO,sBAEX/V,EAAE+V,MACJ25M,EAAI5vN,KAAK8vN,EAAQV,aAAeU,EAAQtnI,MAAOtoF,EAAE+V,MAAOjP,GAExD6oN,EAAI7vN,KAAK8vN,EAAQX,eAAiBW,EAAQtnI,MAAOtoF,EAAE0P,SAGvDkgN,EAAQ75M,MAAQ,SAAU85M,EAAI/oN,GACxB4oN,GACFA,EAAI5vN,KAAK8vN,EAAQV,aAAeU,EAAQtnI,MAAOunI,EAAI/oN,IAGvD8oN,EAAQrjM,KAAOmiM,GAAUpnL,UAAU,CACjC7L,GAAIwN,EAAKxN,IAAM,IAAMvxB,KAAKoO,QAC1BsG,OAAQqqB,EAAKrqB,OACbupB,OAAQc,EAAKd,SAEfynL,EAAQR,aAAe,mBACvBN,GAAI7gK,KAAK2hK,IAEJJ,EAnCS,GA8ElB,IACE,IAAIlqN,GAAO,oBACXgpN,GAAejvN,OAAOivN,cACTwB,QAAQxqN,GAAMA,IAC3BgpN,GAAayB,WAAWzqN,IACxB,MAAO7F,GACP6uN,GA7CO,WACL,IAAI/hM,EAAO,GACPlqB,EAAO,GACP2tN,EAAU,CACZC,QAAS,SAAUxpN,GAEjB,OADW8lB,EAAK9lB,IACK,MAEvBqpN,QAAS,SAAUrpN,EAAKhG,GACtB4B,EAAKD,KAAKqE,GACV8lB,EAAK9lB,GAAOiL,OAAOjR,IAErBgG,IAAK,SAAU6L,GACb,OAAOjQ,EAAKiQ,IAEdy9M,WAAY,SAAUtpN,GACpBpE,EAAOA,EAAKmb,QAAO,SAAUtX,GAC3B,OAAOA,IAAMO,YAER8lB,EAAK9lB,IAEd8D,MAAO,WACLlI,EAAO,GACPkqB,EAAO,IAETjqB,OAAQ,GASV,OAPApC,OAAOC,eAAe6vN,EAAS,SAAU,CACvC3vN,IAAK,WACH,OAAOgC,EAAKC,QAEd0H,cAAc,EACd5J,YAAY,IAEP4vN,EAlCF,GA+CT,IAEIE,GAAY,CACdC,KAAM,CAAEjE,KAAMA,IACdkE,KAAM,CACJl3J,QAASuhC,GACTS,MAAOA,GACPjU,MAAOA,GACPoiD,GAAIA,GACJ88E,IAAKA,GACLruJ,MAAOA,GACPgoJ,gBAAiBA,GACjBc,WAAYA,GACZn4F,KAAMA,GACNqmG,IAAKA,GACLhhK,KAAM4gK,GACNc,YAAaA,GACbX,MAAOA,GACPwB,aAlBe/B,GAmBfgC,MAjVQ,SAAU7vN,GACpB,IAAI4Q,EAAO,GACP/Q,EAAI,EAAG+D,EAAI,EAAGD,EAAI,EAmGlB2pD,EAAQ,SAAUttD,GACpB,IAAIilF,EA2BJ,MA1BqB,iBAAVjlF,EACL,MAAOA,GACTH,EAAIG,EAAMH,EACV+D,EAAI5D,EAAM4D,EACVD,EAAI3D,EAAM2D,GACD,MAAO3D,GA5EP,SAAU8K,EAAKglN,EAAYC,GAMxC,GALAjlN,GAAO3G,SAAS2G,EAAK,KAAO,GAAK,IACjCglN,EAAa3rN,SAAS2rN,EAAY,IAAM,IACxCC,EAAa5rN,SAAS4rN,EAAY,IAAM,IACxCD,EAAa/B,GAAM,EAAGD,GAAMgC,EAAY,IACxCC,EAAahC,GAAM,EAAGD,GAAMiC,EAAY,IACrB,IAAfD,EAAJ,CAIA,IAAIE,EAAOllN,EAAM,GACbmlN,EAASF,EAAaD,EACtBzpN,EAAI4pN,GAAU,EAAIxsN,KAAKwlB,IAAI+mM,EAAO,EAAI,IACtC/rN,EAAQ8rN,EAAaE,EACzB,OAAQxsN,KAAKH,MAAM0sN,IACnB,KAAK,EACHnwN,EAAIowN,EACJrsN,EAAIyC,EACJ1C,EAAI,EACJ,MACF,KAAK,EACH9D,EAAIwG,EACJzC,EAAIqsN,EACJtsN,EAAI,EACJ,MACF,KAAK,EACH9D,EAAI,EACJ+D,EAAIqsN,EACJtsN,EAAI0C,EACJ,MACF,KAAK,EACHxG,EAAI,EACJ+D,EAAIyC,EACJ1C,EAAIssN,EACJ,MACF,KAAK,EACHpwN,EAAIwG,EACJzC,EAAI,EACJD,EAAIssN,EACJ,MACF,KAAK,EACHpwN,EAAIowN,EACJrsN,EAAI,EACJD,EAAI0C,EACJ,MACF,QACExG,EAAI+D,EAAID,EAAI,EAEd9D,EAAImuN,GAAQ,KAAOnuN,EAAIoE,IACvBL,EAAIoqN,GAAQ,KAAOpqN,EAAIK,IACvBN,EAAIqqN,GAAQ,KAAOrqN,EAAIM,SA3CrBpE,EAAI+D,EAAID,EAAIqqN,GAAQ,IAAM+B,GAsExBG,CAASlwN,EAAMoD,EAAGpD,EAAMQ,EAAGR,EAAM0D,IAG/BuhF,EAAU,8DAA8DngF,KAAK9E,KAC/EH,EAAIsE,SAAS8gF,EAAQ,GAAI,IACzBrhF,EAAIO,SAAS8gF,EAAQ,GAAI,IACzBthF,EAAIQ,SAAS8gF,EAAQ,GAAI,MAChBA,EAAU,oCAAoCngF,KAAK9E,KAC5DH,EAAIsE,SAAS8gF,EAAQ,GAAI,IACzBrhF,EAAIO,SAAS8gF,EAAQ,GAAI,IACzBthF,EAAIQ,SAAS8gF,EAAQ,GAAI,MAChBA,EAAU,2BAA2BngF,KAAK9E,MACnDH,EAAIsE,SAAS8gF,EAAQ,GAAKA,EAAQ,GAAI,IACtCrhF,EAAIO,SAAS8gF,EAAQ,GAAKA,EAAQ,GAAI,IACtCthF,EAAIQ,SAAS8gF,EAAQ,GAAKA,EAAQ,GAAI,KAG1CplF,EAAIA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EAChC+D,EAAIA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EAChCD,EAAIA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EACzBiN,GAST,OAPI5Q,GACFstD,EAAMttD,GAER4Q,EAAKu/M,MA3CO,WACV,MAAO,CACLtwN,EAAGA,EACH+D,EAAGA,EACHD,EAAGA,IAwCPiN,EAAKw/M,MArCO,WACV,OAhGY,SAAUvwN,EAAG+D,EAAGD,GAC5B,IAAOnD,EAAGkD,EAGVA,EAAI,EAIJ,IAAI2sN,EAASvC,GAHbjuN,GAAQ,IAGciuN,GAFtBlqN,GAAQ,IACRD,GAAQ,MAEJ2sN,EAASvC,GAAMluN,EAAGkuN,GAAMnqN,EAAGD,IAC/B,OAAI0sN,IAAWC,EAEN,CACLltN,EAAG,EACH5C,EAAG,EACHkD,EAAO,KAJTA,EAAI2sN,KAUN7vN,GAAK8vN,EAASD,GAAUC,EACxB5sN,EAAI4sN,EACG,CACLltN,EAAG4qN,GAJD,KADAnuN,IAAMwwN,EAAS,EAAI1sN,IAAM0sN,EAAS,EAAI,IADlCxwN,IAAMwwN,EAASzsN,EAAID,EAAIA,IAAM0sN,EAASxwN,EAAI+D,EAAID,EAAI9D,IAEvCywN,EAASD,KAK1B7vN,EAAGwtN,GAAY,IAAJxtN,GACXkD,EAAGsqN,GAAY,IAAJtqN,KAsEN6sN,CAAQ1wN,EAAG+D,EAAGD,IAqCvBiN,EAAKg9F,MApDO,WACV,IAAInhG,EAAM,SAAUisB,GAElB,OADAA,EAAMv0B,SAASu0B,EAAK,IAAIrzB,SAAS,KACtBxD,OAAS,EAAI62B,EAAM,IAAMA,GAEtC,MAAO,IAAMjsB,EAAI5M,GAAK4M,EAAI7I,GAAK6I,EAAI9I,IAgDrCiN,EAAK08C,MAAQA,EACN18C,GAwML4/M,cA/wSgB,SAAU31H,GAC5B,IAAIiyE,EAAe2Q,KACfiC,EAAWF,GAAe3kF,EAAQiyE,GACtC,MAAO,CACLp1H,OAAQ,SAAUunI,EAAWwxC,GAI3B,YAHyB,IAArBA,IACFA,GAAmB,GAEd/wC,EAAShoI,OAAOunI,EAAWwxC,EAAmBvxC,GAAiBrkF,QAAUnpF,OAywSpFg2E,IAAK,CACHoqB,WAAYA,GACZuD,OAAQA,GACRwI,SAAUA,GACV6yG,WAAYnzH,GACZ8wB,WAAYA,GACZrN,SAAUA,GACV8F,aAAcA,GACdkpB,WAAYA,GACZ2gF,WAAYz9C,GACZj4E,iBAAkBA,GAClB6uC,iBAAkBA,GAClBvB,gBAAiBA,GACjBqoF,UAAWloD,GACXzlK,MAAO6uG,GAAW7uG,OAEpB2rB,KAAM,CACJi/E,OAAQA,GACRrI,SAAUA,GACVrc,KAAM4vD,GACNtyC,OAAQA,GACR6zC,UAAWA,GACXw0B,UAAWA,GACX5vB,OAAQA,GACRyxE,WAAYhxE,IAEdn6D,IAAKA,GACLujC,aAAcA,GACdif,UAAWA,GACX49C,UAAWA,GACXY,YAAaA,GACbg2B,eAAgBA,GAChBrhC,cAAeA,GACfnB,oBAAqBA,GACrB+mC,iBAAkBA,GAClBwC,UAAWA,GACXiE,OAAQA,GACRjyE,aAAcA,GACd2zE,cAAeA,GACfvkG,IAAK3D,GAAS2D,IACdmC,aAAcA,GAAaA,aAC3ByD,cAAeA,GACfC,aAAcA,GACdquD,YAAaA,GACb8zC,SAAUA,GACVrrN,KAAMklF,GAAMllF,KACZT,QAAS2lF,GAAM3lF,QACfq7E,GAAIsK,GAAMtK,GACVpkB,QAAS0uB,GAAM1uB,QACf2uB,QAASD,GAAMC,QACf51B,KAAM21B,GAAM31B,KACZ3sD,IAAKsiF,GAAMtiF,IACXyiF,KAAMH,GAAMG,KACZ/wB,QAAS4wB,GAAM5wB,QACfrW,OAAQinC,GAAMjnC,OACdr/C,OAAQsmF,GAAMtmF,OACdqmF,KAAMC,GAAMD,KACZa,SAAUZ,GAAMY,SAChB1uB,QAAS8tB,GAAM9tB,QACf6uB,QAASf,GAAMe,QACfC,gBAAiBhB,GAAMgB,gBACvB7E,QAAS6C,GAAI3xE,MACbs8L,SAAU3qH,GAAIH,OACd3C,KAAM8C,GAAIzC,GACVmtH,QAAS1qH,GAAIC,MACborI,MAAOrrI,GAAIE,KAETkkI,GAAUpjI,GAAMjnC,OAAO2pK,GAAeuG,KAUf,SAAU7F,GACnChrN,OAAOgrN,QAAUA,EACjBhrN,OAAOkyN,QAAUlH,EAEnBmH,CAAqBnH,IAZO,SAAUA,GAElC,IACE/qN,EAAOC,QAAU8qN,EACjB,MAAO9lN,KASbktN,CAAsBpH,IA/46B1B,I,uaCLMqH,EAAgB,UAAW,CAC7Bz0J,YAAa,CACTqE,cAAe,uCACfE,aAAc,6BAElBQ,gBAAgB,IAGpB,2BAyIA,OAvIW,EAAAp4C,IAAP,SAAWyyB,EAAiB52C,GACxB,QADwB,IAAAA,MAAA,WACnB7D,SAAS4O,KAAKnI,UAAUiF,SAAS,YAGtC,OAAQ7H,GACJ,IAAK,QACDm/C,QAAQ7uC,MAAMsmC,GACd,MACJ,IAAK,UACDuI,QAAQh7B,IAAIyyB,GACZ,MACL,IAAK,UACAuI,QAAQoJ,KAAK3R,GACb,MACL,IAAK,OACAuI,QAAQtL,KAAK+C,KAKlB,EAAAtmC,MAAP,SAAasmC,EAAiBse,EAAsBvD,QAAtB,IAAAuD,MAAA,WAAsB,IAAAvD,MAAA,MAE5CjxD,EAAEmvD,MAAM,CACJQ,QAAS6E,EACTpF,KAAMlZ,EACN8Z,KAAM,QACNntD,SAAU,cACVquD,QAAQ,EACRtB,QAAS,UACTE,UAAW,QACXmB,UAAWA,KAKhB,EAAAkP,QAAP,SAAejqB,EAAiBse,EAAsBvD,QAAtB,IAAAuD,MAAA,WAAsB,IAAAvD,MAAA,MAElDjxD,EAAEmvD,MAAM,CACJQ,QAAS6E,EACTpF,KAAMlZ,EACN8Z,KAAM,QACNntD,SAAU,cACVquD,QAAQ,EACRtB,QAAS,UACTE,UAAW,QACXmB,UAAWA,KAKZ,EAAA/a,QAAP,SAAeA,EAAiBse,EAAsBvD,QAAtB,IAAAuD,MAAA,WAAsB,IAAAvD,MAAA,MAElDjxD,EAAEmvD,MAAM,CACJQ,QAAS6E,EACTpF,KAAMlZ,EACN8Z,KAAM,QACNntD,SAAU,cACVquD,QAAQ,EACRtB,QAAS,UACTE,UAAW,QACXmB,UAAWA,KAKZ,EAAAha,QAAP,SAAef,EAAiBse,EAAsBvD,QAAtB,IAAAuD,MAAA,WAAsB,IAAAvD,MAAA,MAElDjxD,EAAEmvD,MAAM,CACJQ,QAAS6E,EACTpF,KAAMlZ,EACN8Z,KAAM,QACNntD,SAAU,cACVquD,QAAQ,EACRtB,QAAS,UACTE,UAAW,QACXmB,UAAWA,KAKZ,EAAA4kH,MAAP,SAAa3/H,EAAiBse,EAAsBxE,EAAuBiB,GAEvE,YAF0B,IAAAuD,MAAA,WAAsB,IAAAxE,MAAA,aAAuB,IAAAiB,MAAA,KAE/DjB,GACJ,IAAK,QACDw7J,EAAO57M,MAAMsmC,EAASse,EAAOvD,GAC7B,MACJ,IAAK,UACDu6J,EAAOrrJ,QAAQjqB,EAASse,EAAOvD,GAC/B,MACJ,IAAK,OACDu6J,EAAOt1K,QAAQA,EAASse,EAAOvD,GAC/B,MACJ,IAAK,UACDu6J,EAAOv0K,QAAQf,EAASse,EAAOvD,KAMpC,EAAAqiB,WAAP,SAAkBrzE,EAA4B0iC,GAC1C4oL,EAAcvqJ,KAAK/gE,GAASghE,MAAK,SAAU13D,GACvCo5B,EAASp5B,OAIV,EAAA+rC,QAAP,SAAer1C,EAA4B0iC,GAWvC6oL,EAAOl4I,WAAW,EAAD,KAToB,CACjC9X,kBAAkB,EAClB/F,OAAQ,sGACRjB,MAAO,gBACPtrC,KAAM,oCACNo8C,kBAAmB,KACnBI,iBAAiB,WAGiBzlE,GAAU0iC,IAG7C,EAAA8oL,OAAP,SAAcxrN,EAA4B0iC,GActC6oL,EAAOl4I,WAAW,EAAD,KAZoB,CACjCxsE,MAAO,OACPw2D,gBAAiB,CACbouJ,eAAgB,OAEpBlwJ,kBAAkB,EAClBxL,KAAM,OACNyF,OAAQ,sGACR6P,kBAAmB,KACnBI,iBAAkB,WAGgBzlE,GAAU0iC,IAExD,EAzIA,I,6JCRA,EACI,WAEI,IAAIgpL,EAAwB,SAAUhjN,EAAwBwsB,GAC1D,IAAIy2L,EAAS5rN,EAAEm1B,EAAStvB,MAAMF,QAAQiyD,SAASxxC,KAAK,UACpDpmB,EAAEm1B,EAAStvB,MAAMF,QAAQkqD,IAAI,CAAE,mBAAoBlnD,EAAMC,SAASjJ,aAGlE,IAFA,IAAIksN,EAAW12L,EAAS22L,WAAWljN,SAC/BW,EAAS,GACJ9P,EAAIoyN,EAAS1vN,OAAS,EAAG1C,GAAK,EAAGA,IACtC8P,EAASsiN,EAASpyN,GAAK8P,EAE3BvJ,EAAE4rN,GAAQ54L,IAAI,IAAMzpB,GACpBvJ,EAAE4rN,GAAQvnN,UAGV0nN,EAAS,GAEb/rN,EAAE,iBAAiBmrD,MAAK,SAA6Bh/C,EAAOqnD,GAExD,IAAI1uD,GAAc,EACa,QAA3B9E,EAAE+D,MAAMqiB,KAAK,aACbthB,GAAc,GAGlB,IAAIknN,EAAQ,WAAa,CACrB5kN,GAAIosD,EAAKx3D,SAAS,GAClB6K,SAAU,eACVjC,MAAO,WACP+B,aAAa,EACbjM,QAASsF,EAAE+D,MAAMqiB,KAAK,YAAc,OACpCthB,YAAaA,EACbuB,sBAAuB,OACvBxD,SAAU,aACV8B,WAAY,CACRQ,SAAS,EACTC,KAAK,EAELH,YAAa,CACT8B,KAAK,EACLhI,MAAM,EACNE,MAAM,EACN6H,OAAO,EACP1C,OAAO,MAId02C,GAAG,QAAQ,SAAC3lB,GACT,IAAIy2L,EAAS5rN,EAAEm1B,EAAStvB,MAAMF,QAAQiyD,SAASxxC,KAAK,UAChD9rB,EAAQ0F,EAAE4rN,GAAQ54L,MACtBhzB,EAAE4rN,GAAQ9wK,GAAG,QAAS96C,EAAEisN,OAAM,WAC1BloN,KAAKI,SACNgxB,IACC76B,IACA66B,EAAShvB,SAAS7L,GAClBqxN,EAAsBx2L,EAAS22L,WAAY32L,OAGlD2lB,GAAG,SAAS,SAAC3lB,GACV,IAAIy2L,EAAS5rN,EAAEm1B,EAAStvB,MAAMF,QAAQiyD,SAASxxC,KAAK,UACpD+O,EAAShvB,SAAS,eAClBwlN,EAAsBx2L,EAAS22L,WAAY32L,GAC3Cn1B,EAAE4rN,GAAQ54L,IAAI,IACdhzB,EAAE4rN,GAAQvnN,YAEby2C,GAAG,SAAU6wK,GAElBI,EAAO9vN,KAAK+vN,Q,mWC/BxB,aAOI,WAAYhrN,EAAsBf,GAI9B,GAFA8D,KAAK/C,QAAUA,EACf+C,KAAK/C,QAAQkrN,aAAenoN,UACL,IAAb,GAAuC,MAAX/C,EAAtC,CAOA,GAFA+C,KAAK9D,QAAU,EAAH,KAAQ8D,KAAK9D,SAAYA,GAEjCD,EAAE+D,KAAK/C,SAAS01D,SAAS,SAAU,CACnC,IAAIy1J,EAAUnsN,EAAE+D,KAAK/C,SAASolB,KAAK,OAASltB,OAAOs8G,SAAS3qE,OAC5D7qC,EAAE+D,KAAK/C,SAASowD,KAAK,WAAY+6J,GACjCnsN,EAAE+D,KAAK/C,SAASolB,KAAK,MAAO+lM,GAGhC,IAAKnsN,EAAE+D,KAAK/C,SAAS01D,SAAS,gBAAiB,CAC3C,IAAI01J,EAAU3wN,SAASC,cAAc,KACrC0wN,EAAQvkM,KAAO7nB,EAAE+D,KAAK/C,SAASolB,KAAK,OACpCriB,KAAKsoN,OAAO,IAAI7kM,IAAI4kM,EAAQvkM,OAGhC7nB,EAAE+D,KAAK/C,SAAS85C,GAAG,QAAS,2CAA4C,SAA0BxhD,GAE9FA,EAAE+D,iBAEF,IAAIkqB,EAAM9rB,SAASC,cAAc,KACjC6rB,EAAIM,KAAQvuB,EAAEyzG,cAAoCllF,KAElD,IAAIukM,EAAU3wN,SAASC,cAAc,KACrC0wN,EAAQvkM,KAAO7nB,EAAE+D,KAAK/C,SAASolB,KAAK,OACpCgmM,EAAQvhL,OAAStjB,EAAIsjB,OAErB9mC,KAAKsoN,OAAO,IAAI7kM,IAAI4kM,EAAQvkM,QAE9BptB,KAAKsJ,OAEP/D,EAAE,QAAQ86C,GAAG,SAAU,6BAA6B/2C,KAAK/C,QAAQs0B,GAAE,KAAM,SAA0Bh8B,GAE/FA,EAAE+D,iBAEF,IAAIivN,EAAQtsN,EAAE1G,EAAEyzG,eAEZq/G,EAAU3wN,SAASC,cAAc,KACrC0wN,EAAQvkM,KAAO7nB,EAAE+D,KAAK/C,SAASolB,KAAK,OAEpCgmM,EAAQvhL,OAAS,IAAMyhL,EAAMnrL,YAC7Bp9B,KAAKsoN,OAAO,IAAI7kM,IAAI4kM,EAAQvkM,QAE9BptB,KAAKsJ,YA7CH,EAAAynN,OAAA,IAAW,yDAA0D,SAsEjF,OAXI,YAAAa,OAAA,SAAuB9kM,GACnB,QADmB,IAAAA,MAAA,MACfA,EAAK,CACL,GAAIglM,QAAQC,WAAaxsN,EAAE+D,KAAK/C,SAAS01D,SAAS,SAAU,CACxD,IAAI+1J,EAASvzN,OAAOs8G,SAASprE,SAAW,KAAOlxC,OAAOs8G,SAASxtF,KAAO9uB,OAAOs8G,SAAS9tF,UAAYH,EAAIM,KAAK1gB,SAAS,KAAO,IAAMogB,EAAIM,KAAKroB,UAAU+nB,EAAIM,KAAKjd,QAAQ,KAAO,GAAK,IACjL1R,OAAOqzN,QAAQC,UAAU,CAAEpwN,KAAMqwN,GAAU,GAAIA,GAEnDzsN,EAAE+D,KAAK/C,SAASolB,KAAK,MAAOmB,GAEhC,EAAAmlM,OAAA,KAAY3oN,KAAK/C,QAAS,EAAF,GAAO+C,KAAK9D,WAG5C,EAlFA,I,4cC5BA,aA8BI,WAAYA,GA7BZ,KAAAA,QAAyB,CACrB0sN,YAAa,CACT,CAAEn4J,MAAO,OAAQl6D,MAAO,IACxB,CAAEk6D,MAAO,cAAel6D,MAAO,mBAC/B,CAAEk6D,MAAO,6BAA8Bl6D,MAAO,mBAC9C,CAAEk6D,MAAO,oBAAqBl6D,MAAO,mBACrC,CAAEk6D,MAAO,oBAAqBl6D,MAAO,mCACrC,CAAEk6D,MAAO,mCAAoCl6D,MAAO,mCACpD,CAAEk6D,MAAO,aAAcl6D,MAAO,WAC9B,CAAEk6D,MAAO,oBAAqBl6D,MAAO,0BACrC,CAAEk6D,MAAO,mCAAoCl6D,MAAO,0BACpD,CAAEk6D,MAAO,0BAA2Bl6D,MAAO,2BAC3C,CAAEk6D,MAAO,0BAA2Bl6D,MAAO,0CAC3C,CAAEk6D,MAAO,mCAAoCl6D,MAAO,2CAExDsyN,aAAc,CACV,CAAEp4J,MAAO,OAAQl6D,MAAO,IACxB,CAAEk6D,MAAO,aAAcl6D,MAAO,mBAC9B,CAAEk6D,MAAO,eAAgBl6D,MAAO,mBAChC,CAAEk6D,MAAO,WAAYl6D,MAAO,qBAC5B,CAAEk6D,MAAO,gBAAiBl6D,MAAO,oBACjC,CAAEk6D,MAAO,gCAAiCl6D,MAAO,yBACjD,CAAEk6D,MAAO,mCAAoCl6D,MAAO,qBACpD,CAAEk6D,MAAO,mCAAoCl6D,MAAO,4BACpD,CAAEk6D,MAAO,cAAel6D,MAAO,wBAC/B,CAAEk6D,MAAO,eAAgBl6D,MAAO,2BAKpCyJ,KAAK9D,QAAU,EAAH,KAAQ8D,KAAK9D,SAAYA,GACrC8D,KAAK8oN,kBACL9oN,KAAK+oN,eAwMb,OArMI,YAAAA,aAAA,WACI,IAAInB,EAAwB,SAAUhjN,EAAYokN,EAAkB53L,GAChE,IAAIy2L,EAAS5rN,EAAEm1B,EAAStvB,MAAMF,QAAQiyD,SAASxxC,KAAK,UACpDpmB,EAAEm1B,EAAStvB,MAAMF,QAAQiyD,SAAS/H,IAAI,CAAE,mBAAoBlnD,EAAMC,SAASjJ,aAG3E,IAFA,IAAIksN,EAAW12L,EAAS22L,WAAWljN,SAC/BW,EAAS,GACJ9P,EAAIoyN,EAAS1vN,OAAS,EAAG1C,GAAK,EAAGA,IACtC8P,EAASsiN,EAASpyN,GAAK8P,EAE3BvJ,EAAE4rN,GAAQ54L,IAAI,IAAMzpB,GACpBvJ,EAAE4rN,GAAQvnN,UAEV0nN,EAAS,GAEb/rN,EAAE,iBAAiBmrD,MAAK,SAAUh/C,EAAeqnD,GAE7C,IAAI1uD,GAAc,EACa,QAA3B9E,EAAE+D,MAAMqiB,KAAK,aACbthB,GAAc,GAGlB,IAAIknN,EAAQ,WAAa,CACrB5kN,GAAIosD,EAAKx3D,SAAS,GAClB6K,SAAU,eACVjC,MAAO,WACP+B,aAAa,EACbjM,QAASsF,EAAE+D,MAAMqiB,KAAK,YAAc,OACpCthB,YAAaA,EACbuB,sBAAuB,OACvBxD,SAAU,aACV8B,WAAY,CACRQ,SAAS,EACTC,KAAK,EAELH,YAAa,CACT8B,KAAK,EACLhI,MAAM,EACNE,MAAM,EACN6H,OAAO,EACP1C,OAAO,MAKd02C,GAAG,QAAQ,SAAU3lB,GAClB,IAAIy2L,EAAS5rN,EAAEm1B,EAAStvB,MAAMF,QAAQiyD,SAASxxC,KAAK,UAChD9rB,EAAQ0F,EAAE4rN,GAAQ54L,MACtBhzB,EAAEm1B,EAAStvB,MAAMF,QAAQm1C,GAAG,QAAS96C,EAAEisN,OAAM,WACzCloN,KAAKI,SACNgxB,IACHn1B,EAAE4rN,GAAQ9wK,GAAG,QAAS96C,EAAEisN,OAAM,WAC1BloN,KAAKI,SACNgxB,IACC76B,IACA66B,EAAShvB,SAAS7L,GAClBqxN,EAAsBx2L,EAAS22L,WAAY,EAAM32L,OAIxD2lB,GAAG,SAAS,SAAU3lB,GACnB,IAAIy2L,EAAS5rN,EAAEm1B,EAAStvB,MAAMF,QAAQiyD,SAASxxC,KAAK,UACpD+O,EAAShvB,SAAS,eAClBwlN,EAAsBx2L,EAAS22L,WAAY,EAAM32L,GACjDn1B,EAAE4rN,GAAQ54L,IAAI,IACdhzB,EAAE4rN,GAAQvnN,YAGby2C,GAAG,SAAU6wK,GAElBI,EAAO9vN,KAAK+vN,OAKpB,YAAAa,gBAAA,WAGI,SAAa,CACTh1J,SAAU,gBACVr2D,OAAQ,IACRgvK,SAAS,EACTzQ,QAAS,CACL,uEACA,6CACA,+CAEJitD,QAAS,qHACTC,gBAAiBlpN,KAAK9D,QAAQ0sN,YAC9BO,iBAAkBnpN,KAAK9D,QAAQ2sN,aAC/Bv9J,MAAOtrD,KAAKizM,cAAcv8M,KAAKsJ,MAC/BopN,kBAAkB,EAClBC,YAAa,CACT,0BAKR,SAAa,CACTv1J,SAAU,kBACVr2D,OAAQ,IACRu+J,QAAS,CACL,uEACA,6CACA,+CAEJyQ,SAAS,EACTw8C,QAAS,mDACTC,gBAAiBlpN,KAAK9D,QAAQ0sN,YAC9BO,iBAAkBnpN,KAAK9D,QAAQ2sN,aAC/Bv9J,MAAOtrD,KAAKizM,cAAcv8M,KAAKsJ,MAC/BopN,kBAAkB,IAGtB,SAAa,CACTt1J,SAAU,wBACVr2D,OAAQ,IACRgvK,SAAS,EACTzQ,QAAS,CACL,uEACA,6CACA,+CAEJitD,QAAS,qHACTC,gBAAiBlpN,KAAK9D,QAAQ0sN,YAC9BO,iBAAkBnpN,KAAK9D,QAAQ2sN,aAC/Bv9J,MAAOtrD,KAAKizM,cAAcv8M,KAAKsJ,MAC/BopN,kBAAkB,IAGtB,SAAa,CACTt1J,SAAU,0BACVr2D,OAAQ,IACRu+J,QAAS,CACL,uEACA,6CACA,+CAEJyQ,SAAS,EACTw8C,QAAS,mDACTC,gBAAiBlpN,KAAK9D,QAAQ0sN,YAC9BO,iBAAkBnpN,KAAK9D,QAAQ2sN,aAC/BO,kBAAkB,KAS1B,YAAAnW,cAAA,SAAc7hH,GACVpxF,KAAKspN,cAAgBrtN,EAAE,IAAMm1F,EAAO7/D,IAChCvxB,KAAKspN,cAAcjnM,KAAK,kBAExB+uE,EAAO0pH,UAAU,YAAa,CAC1BzvJ,KAAM,kBACNY,MAAM,EACNohB,QAAS,SAAyB93E,GAE9ByK,KAAKupN,WAAa,IAAI,EAAAC,gBAAgB,CAElCC,WAAY,SAAyBC,GAEjC1pN,KAAK+vB,KAAOr4B,SAASy0G,eAAe,cACpCnsG,KAAK2pN,QAAU,IAAI,EAAAC,aAAa5pN,KAAK+vB,KAAM,CACvCsxH,OAAQ,SACR79H,IAAKxjB,KAAKspN,cAAcjnM,KAAK,iBAC7Bu9L,aAAcxuH,EACd1lE,KAAM1rB,KAAKspN,cAAcjnM,KAAK,iBAC9BwnM,aAAc,SAAyBH,EAAqBI,KAC1DpzN,KAAKsJ,MACP+pN,SAAU,SAAyBL,EAAqBI,GACpD9pN,KAAK2pN,QAAQtrN,UACb2B,KAAKupN,WAAWvjM,SAClBtvB,KAAKsJ,MACPgqN,WAAY,SAACN,KAEbO,aAAc,SAAC5nM,GACX,OAAOA,GAEX6nM,eAAgB,SAAC7nM,KAEjBorE,QAAS,SAAC08H,EAAYC,EAAiBC,QAI7C3zN,KAAKsJ,QAGXA,KAAKupN,WAAWnpN,KAAKJ,KAAKspN,cAAcjnM,KAAK,iBAAkB9sB,EAAEyzG,gBAEnEtyG,KAAKsJ,SAMvB,EAzOA,I,oGCRA,aACI,aAEI,EAAE,QAAQ+2C,GAAG,QAAS,8BAA+B/2C,KAAKsqN,aAC1D,EAAE,QAAQvzK,GAAG,QAAS,oCAAqC/2C,KAAKuqN,gBAChE,EAAE,QAAQxzK,GAAG,QAAS,cAAe/2C,KAAKwqN,eAE1C,EAAE,QAAQzzK,GAAG,SAAU,oBAAqB/2C,KAAKyqN,gBACjD,EAAE,QAAQ1zK,GAAG,SAAU,eAAgB/2C,KAAK0qN,YAC5C,EAAE,QAAQ3zK,GAAG,SAAU,mCAAoC/2C,KAAK2qN,gBAEhE,EAAE,yBAAyBvjK,KAAKpnD,KAAK4qN,aAErC,EAAE,QAAQ7zK,GAAG,QAAS,eAAgB/2C,KAAK6qN,mBAC3C,EAAE,QAAQ9zK,GAAG,QAAS,6CAA8C/2C,KAAK8qN,aACzE,EAAE,QAAQ/zK,GAAG,QAAS,uDAAwD/2C,KAAK8qN,aACnF,EAAE,QAAQ/zK,GAAG,QAAS,6DAA8D/2C,KAAK+qN,kBAEzF,EAAE,oBAAoB3jK,KAAKpnD,KAAKgrN,cAoIxC,OAhII,YAAAA,aAAA,SAAgC5iN,EAAenL,GAC3C,IAAI8F,EAAQ,EAAE/C,MAAMiD,KAAK,+BACrBmjB,EAAU,EAAEpmB,MAAMiD,KAAK,4BACvBqiH,EAAW,EAAEtlH,MAAMiD,KAAK,aAE5B,EAAEjD,MAAMiD,KAAK,8CAA8C8zC,GAAG,SAAS,WACnE,IAAIx6C,EAAM,EAAEyD,MAAMqiB,KAAK,eACnB9rB,EAAQ,EAAEyJ,MAAMqiB,KAAK,iBACzB+D,EAAQjB,KAAK5uB,GACbwM,EAAMksB,IAAI1yB,GACN+oH,GACAA,EAAS7xD,YAAY,YAKjC,YAAA62J,YAAA,SAAqC/0N,GAGjC,OAFIA,GAAGA,EAAE+D,iBACT,EAAE,cAAcmyD,QAAQ,CAAE+Y,UAAW,GAAK,MACnC,GAGX,YAAA+lJ,eAAA,SAAwCh1N,GAChCA,GAAGA,EAAE+D,iBACT,IAAIkqB,EAAM,EAAExjB,MAAMqtD,KAAK,QAAQ30D,MAAM,KAAK,GAC1C,GAAI8qB,IAAQruB,OAAOs8G,SAAS9tF,UAAoB,KAARH,EAAxC,CAGA,IAAIjrB,EAASyH,KAAKkkB,KACd+mM,EAAU,EAAE1yN,GACZ2yN,EAAU,EAAE,iBACZC,EAAe,EACfD,IACAC,EAAeD,EAAQztN,UAEvB,EAAEuC,MAAMqiB,KAAK,UACb,EAAE,cAAc29C,OAAOvU,QAAQ,CAC3B,UAAaw/J,EAAQz7M,SAAShS,IAAM,EAAEwC,MAAMqiB,KAAK,WAClD,IAAK,SAER,EAAE,cAAc29C,OAAOvU,QAAQ,CAC3B,UAAaw/J,EAAQz7M,SAAShS,IAAM2tN,GACrC,IAAK,WAGhB,YAAAX,cAAA,WACI,IAAIhmJ,EAAY,EAAE,QAAQA,YACtBhnE,EAAM,EAAE,EAAEwC,MAAMqtD,KAAK,SAAS79C,SAAShS,IAK3C,OAHA,EAAE,cAAciuD,QAAQ,CACpB+Y,UAAWhnE,GACZxD,KAAKwlB,IAAIhiB,EAAMgnE,KACX,GAGX,YAAAimJ,eAAA,SAAsCl1N,GAC9BA,GAAGA,EAAE+D,iBACT,EAAE0G,MAAM+iG,QAAQ,QAAQ8nE,UAG5B,YAAA6/C,WAAA,SAAmCn1N,GAC3BA,GAAGA,EAAE+D,iBAET,IAAI8xN,EAAS,EAAEprN,MAAM+iG,QAAQ,cAAc9/F,KAAK,gBAC5CooN,EAAeD,EAAOroH,QAAQ,cAAc9/F,KAAK,eAAegsB,MACtD,uCACD7zB,KAAKiwN,KACdA,EAAO,cACX,IAAIC,EAAOF,EAAOroH,QAAQ,cAAc9/F,KAAK,eAAegsB,MACvD,YAAYq8L,KACbA,EAAO,MACX,IAAIC,EAASH,EAAOroH,QAAQ,cAAc9/F,KAAK,iBAAiBgsB,MAC3D,YAAYs8L,KACbA,EAAS,MACbH,EAAOn8L,IAAIo8L,EAAO,IAAMC,EAAO,IAAMC,EAAS,OAC9CH,EAAO/9J,KAAK,QAASg+J,EAAO,IAAMC,EAAO,IAAMC,EAAS,QAG5D,YAAAZ,eAAA,SAAuCp1N,GAC/BA,GAAGA,EAAE+D,iBAET,IAAImgD,EAAQ,IAAIviD,MAChB,EAAE,qBAAuB,EAAE8I,MAAMqiB,KAAK,SAAW,MAAM+kC,MAAK,WACpD,EAAEpnD,MAAMyyE,GAAG,aACXh5B,EAAMvhD,KAAK,EAAE8H,MAAMivB,UAE3B,IAAIsC,EAAK,IAAM,EAAEvxB,MAAMqiB,KAAK,SACxBmpM,EAAO5nK,KAAK6gK,UAAUhrK,GAC1B,EAAEloB,GAAItC,IAAIu8L,IAGd,YAAAZ,YAAA,SAA+BxiN,EAAenL,GAC1C,IAAIs/D,EAAM,EAAEv8D,MAAMqiB,KAAK,YACvB,GAAY,cAARk6C,GAA+B,KAARA,EAAY,CACnC,IAAIrZ,EAAW17C,OAAO+0D,GACtB,EAAEv8D,MAAMivB,IAAIi0B,KAIpB,YAAA2nK,kBAAA,WACI,IAAIv4M,EAAQ,EAAEtS,MACdsS,EAAM8iD,SAEN9iD,EAAMm5M,SAAQ,WAGV,OADAn5M,EAAM62F,OAAO,YACN,MAIf,YAAA2hH,YAAA,WACI,IAAIx4M,EAAQ,EAAEtS,MACV0rN,EAAW,IAAMp5M,EAAM+P,KAAK,UAChC,EAAEqpM,GAAUz8L,IAAI3c,EAAM+P,KAAK,UAC3B,EAAEqpM,GAAUzmN,QAAQ,UACpB,EAAE,8BAAgCqN,EAAM+P,KAAK,UAAY,MAAM+kC,MAAK,WAAc,EAAEpnD,MAAMmlB,KAAK,EAAEnlB,MAAMqiB,KAAK,SAASoxC,YAAY,aACjI,EAAE,8BAAgCnhD,EAAM+P,KAAK,UAAY,kBAAoB/P,EAAM+P,KAAK,SAAW,MAAM+kC,MAAK,WAAc,EAAEpnD,MAAMqiB,KAAK,OAAQ,EAAEriB,MAAMmlB,QAAQA,KAAK,YAAY+mC,SAAS,cAG/L,YAAA6+J,iBAAA,WACI,IAAIz4M,EAAQ,EAAEtS,MACV0rN,EAAW,IAAMp5M,EAAM+P,KAAK,UAChC,EAAEqpM,GAAUz8L,IAAI3c,EAAM+P,KAAK,UAC3B,EAAEqpM,GAAUzmN,QAAQ,UACpB,EAAE,oCAAsCqN,EAAM+P,KAAK,UAAY,MAAM+kC,MAAK,WAAc,EAAEpnD,MAAMyzD,YAAY,aAC5G,EAAE,oCAAsCnhD,EAAM+P,KAAK,UAAY,kBAAoB/P,EAAM+P,KAAK,SAAW,MAAM+kC,MAAK,WAAc,EAAEpnD,MAAMksD,SAAS,cAG3J,EAtJA,I,gFCFA,iBACI,cAkDJ,OA9CW,EAAAy/J,kBAAP,SAAyBn0N,GACrB,IAAIo0N,GAAK,EAIT,OAHIp0N,SAAgD,KAANA,IAC1Co0N,GAAK,GAEFA,GAGJ,EAAA7oB,MAAP,SAAavrM,GACT,IAAIo0N,GAAK,EAIT,OAHIp0N,SAAgD,KAANA,IAC1Co0N,GAAK,IAEDA,GAGL,EAAA16I,WAAP,SAAkB15E,GACd,OAAOA,GAA6B,sBAAxB,GAAGoE,SAAShG,KAAK4B,IAG1B,EAAAq0N,4BAAP,SAAmCroM,EAAUjnB,EAAahG,GACtDgG,EAAM6rM,OAAO7rM,GAAMhG,EAAQ6xM,OAAO7xM,GAClC,IAAIu1N,EAAMtoM,EAAIsjB,OAAOixC,OAAO,GAAGr/E,MAAM,KACrC,GAAkB,GAAdozN,EAAI1zN,OACJorB,EAAIsjB,OAAS,IAAMvqC,EAAM,IAAMhG,MAE9B,CAE0B,IAA3B,IAAwBqG,EAApBlH,EAAIo2N,EAAI1zN,OAAsB1C,KAG9B,IAFAkH,EAAIkvN,EAAIp2N,GAAGgD,MAAM,MAEX,KAAO6D,EAAK,CACdK,EAAE,GAAKrG,EACPu1N,EAAIp2N,GAAKkH,EAAEpB,KAAK,KAChB,MAIJ9F,EAAI,IAAKo2N,EAAIA,EAAI1zN,QAAU,CAACmE,EAAKhG,GAAOiF,KAAK,MAGjDgoB,EAAIsjB,OAASglL,EAAItwN,KAAK,KAE1B,OAAOgoB,GAGf,EAnDA,I,0HCEA,aAMI,aAGIxjB,KAAKq3M,QAAU,IAAI,EAAA0U,QACnB/rN,KAAKi2K,SAAW,IAAI,EAAArB,SACpB50K,KAAKo2I,SAAW,IAAI,EAAA41E,SAGpBhsN,KAAKisN,eAGLjsN,KAAKupN,WAAa,IAAI,EAAA2C,WAQ9B,OAJI,YAAAD,aAAA,WACIhwN,EAAE,QAAQ86C,GAAG,eAAe,WAAc,EAAA0wK,OAAA,QAAe,wBACzDxrN,EAAE,QAAQ86C,GAAG,eAAe,WAAc,EAAA0wK,OAAA,MAAa,wBAE/D,EAzBA,I,iHC0BA,2BA2EA,OA1EW,EAAA11H,KAAP,SAAY57E,EAAkBja,G,MAEtBiwN,EAAOlwN,EAAEka,GACbg2M,EAAKjgK,SAAS,WACVhwD,EAAQkwN,QACRlwN,EAAQkwN,OAAOj2M,GAGnB,IAAIqN,EAAc2oM,EAAK9pM,KAAK,OAC5BpmB,EAAE9F,IAAIqtB,GAAK,SAAUnB,GAEbnmB,EAAQsiE,WACRn8C,EAAOnmB,EAAQsiE,SAASn8C,EAAMlM,IAGlCg2M,EAAKhnM,KAAK9C,GACV8pM,EAAK14J,YAAY,WAEbv3D,EAAQutN,YACRvtN,EAAQutN,WAAWpnM,EAAMlM,MAI5Bm9E,KAAoB,QAAf,EAAAp3F,EAAQuxF,eAAO,QAAIk7H,EAAO0D,cAGjC,EAAAhJ,KAAP,SAAY7/L,EAAakmM,EACrBn2K,EACA1nC,QADA,IAAA0nC,MAAA,WACA,IAAA1nC,MAAA,MAEI69M,GACAA,EAAOvrN,UAAUgF,IAAI,WAEzBlH,EAAE9F,IAAIqtB,GAAK,SAAUk9B,GACbgpK,GACAA,EAAOvrN,UAAUwF,OAAO,WAExB4vC,GACAA,EAASmN,EAAUgpK,MAGtBp2H,KAAKznF,UAAS88M,EAAO0D,cAIvB,EAAAC,KAAP,SAAY9oM,EAAakmM,EACrBn2K,EACA1nC,QADA,IAAA0nC,MAAA,WACA,IAAA1nC,MAAA,MAEI69M,GACAA,EAAOvrN,UAAUgF,IAAI,WAEzBlH,EAAEqwN,KAAK9oM,GAAK,SAAUk9B,GACdgpK,GACAA,EAAOvrN,UAAUwF,OAAO,WAExB4vC,GACAA,EAASmN,EAAUgpK,MAGtBp2H,KAAKznF,UAAS88M,EAAO0D,cAIvB,EAAAA,YAAP,SAAmBv+K,GACI,MAAfA,EAAIuD,OACJ,EAAAo2K,OAAA,MAAa,gGAAiG,SAAW35K,EAAIuD,QACvG,MAAfvD,EAAIuD,OACX,EAAAo2K,OAAA,MAAa,kCAAmC,SAAW35K,EAAIuD,QACzC,MAAfvD,EAAIuD,SACX,EAAAo2K,OAAA,MAAa,0EAA2E,SAAW35K,EAAIuD,QACvGl8C,OAAOs8G,SAAWt8G,OAAOs8G,WAGrC,EA3EA,I,8EC5BA,iBACI,aACI,IAAI1nE,YAAY,eAChB,IAAIA,YAAY,eAUxB,OAPW,EAAA3pC,KAAP,WACInE,EAAE,QAAQgJ,QAAQ,gBAGf,EAAA9E,KAAP,WACIlE,EAAE,QAAQgJ,QAAQ,gBAE1B,EAbA,GAeA,IAAIsnN,G,uiBCHO,EACR1nK,cAAe,EA+FlB,iBAgBI,WAAY5nD,EAAsBf,GAblC,KAAAA,QAAwB,CACpBmlJ,OAAQ,OACR31H,KAAM,SASV,KAAA8gM,oBAA8B,EAoP9B,KAAAC,cAA+B,IAAIv1N,MAjP/B8I,KAAK/C,QAAUA,EACV+C,KAAK/C,UAIV+C,KAAK9D,QAAU,EAAH,KAAQ8D,KAAK9D,SAAYA,GAErCD,EAAE,QAAQqsF,IAAI,QAAS,gBAAiBtoF,KAAK0sN,OAAOh2N,KAAKsJ,OACzD/D,EAAE,QAAQ86C,GAAG,QAAS,gBAAiB/2C,KAAK0sN,OAAOh2N,KAAKsJ,OAExD/D,EAAE+D,KAAK/C,SAAS85C,GAAG,QAAS,cAAe/2C,KAAKqhJ,OAAO3qJ,KAAKsJ,OAC5D/D,EAAE+D,KAAK/C,SAAS85C,GAAG,QAAS,0BAA2B/2C,KAAK2sN,gBAAgBj2N,KAAKsJ,OACjF/D,EAAE+D,KAAK/C,SAAS85C,GAAG,QAAS,0BAA2B/2C,KAAK4sN,gBAAgBl2N,KAAKsJ,OAEjFA,KAAK6sN,MAAQ,IAAI,EAAAC,SAAS9sN,KAAK/C,QAAS,CACpCmvN,OAAQpsN,KAAK9D,QAAQ8tN,WACrBv8H,QAASztF,KAAK9D,QAAQuxF,QACtBjvB,SAAUx+D,KAAK9D,QAAQ+tN,aACvBR,WAAY,SAA8BtkM,EAAcukM,GACpD1pN,KAAK+sN,eAGsB,WAAvB/sN,KAAK9D,QAAQmlJ,QAAwBrhJ,KAAKwsN,qBAC1CvwN,EAAE,qCAAqCw3D,YAAY,UACnDx3D,EAAE,qCAAqC86C,GAAG,QAAS/2C,KAAKgtN,WAAWt2N,KAAKsJ,OACxEA,KAAKwsN,oBAAqB,GAG1BxsN,KAAK9D,QAAQguN,gBACblqN,KAAK9D,QAAQguN,eAAe/kM,EAAMukM,IAExChzN,KAAKsJ,SAsTnB,OAjTI,YAAA+sN,aAAA,WACI/sN,KAAKitN,aAAev1N,SAASy0G,eAAe,aAC5CnsG,KAAKi2K,SAAWv+K,SAASy0G,eAAe,gBACnCnsG,KAAKitN,cAAiBjtN,KAAKi2K,WAGhCj2K,KAAKktN,aAAex1N,SAASy0G,eAAe,kBAC5CnsG,KAAKmtN,aAAelxN,EAAE,0HACtB+D,KAAK0yC,SAAWz2C,EAAE,oLAElB+D,KAAKmtN,aAAat3G,SAAS71G,KAAKktN,cAChCltN,KAAK0yC,SAASmjE,SAAS71G,KAAKktN,cAE5BltN,KAAK01C,SAAW,IAAI,EAAS,gBAAiB,CAC1ClyB,IAAKvnB,EAAE,iBAAiBomB,KAAK,OAAS,gBAAkBpmB,EAAE,sCAAsCgzB,MAChGoc,eAAgB,GAChBC,gBAAiB,GACjBb,gBAAiB,EACjBS,UAAW,QACXe,cAAehwC,EAAE,iBAAiBomB,KAAK,UAAY,uBACnD8pB,kBAAkB,EAClBG,mBAAmB,EACnBP,UAAW,aACXa,mBAAoB,0GACpBK,kBAAmB,gCAGvBjtC,KAAK01C,SAASqB,GAAG,UAAW,SAA8BnU,EAA6BvgB,GACnF,EAAA+qM,SAAA,QAAiB/qM,IACnB3rB,KAAKsJ,OAEPA,KAAK01C,SAASqB,GAAG,YAAa,SAA8BnU,GACxD5iC,KAAK0yC,SAASzvC,KAAK,iBAAiB6oD,IAAI,CAAEvuD,MAAO,OACjDyC,KAAKmtN,aAAalqN,KAAK,QAAQkiB,KAAK,OACtCzuB,KAAKsJ,OAGPA,KAAK01C,SAASqB,GAAG,sBAAuB,SAA8Bs2K,EAAuBn1K,EAAoBD,GAC7Gj4C,KAAK0yC,SAASzvC,KAAK,iBAAiB6oD,IAAI,CAAEvuD,MAAO8vN,EAAgB,MACjErtN,KAAKmtN,aAAalqN,KAAK,QAAQkiB,KAAKkoM,EAAgB,MACtD32N,KAAKsJ,OAEPA,KAAK01C,SAASqB,GAAG,UAAW,SAA8BnU,GAEtD5iC,KAAKktN,aAAa/uN,UAAUwF,OAAO,YACnC3D,KAAK0yC,SAASzvC,KAAK,iBAAiB6oD,IAAI,CAAEvuD,MAAO,OACjDyC,KAAKmtN,aAAalqN,KAAK,QAAQkiB,KAAK,OACtCzuB,KAAKsJ,OAGPA,KAAK01C,SAASqB,GAAG,WAAY,SAA8BnU,GACvD5iC,KAAK6sN,MAAMvE,UACb5xN,KAAKsJ,OAGPA,KAAK01C,SAASqB,GAAG,gBAAiB,WAC9B/2C,KAAKktN,aAAa/uN,UAAUgF,IAAI,YAChCnD,KAAK6sN,MAAMvE,UACb5xN,KAAKsJ,SAGX,YAAA2sN,gBAAA,SAAoCp3N,GAChCA,EAAE+D,iBACF/D,EAAE6I,kBACF,IAAIkvN,EAAwC,IAAI,EAAA9D,gBAAgB,CAC5DC,WAAY,WACR,IAAInxK,EAAO5gD,SAASy0G,eAAe,iCACnB,IAAI,EAAAohH,UAAUj1K,EAAM,CAChCmxK,WAAY,SAA8BC,EAAmBhpK,GAEzD,EAAA0sK,SAAA,QAAiB1sK,EAAU,KAEvBA,EAASxN,UACTlzC,KAAK6sN,MAAMvE,SACXgF,EAAqBtnM,UAG3BtvB,KAAKsJ,SAEbtJ,KAAKsJ,QAEXstN,EAAqBltN,KAAKnE,EAAE1G,EAAEyzG,eAAe37C,KAAK,QAASrtD,KAAK/C,UAGpE,YAAA2vN,gBAAA,SAAoCr3N,GAChCA,EAAE+D,iBACF/D,EAAE6I,kBACF,EAAAqpN,OAAA,QAAe,GAEZ,SAA8BjiN,GACzBA,EAAOmhE,aACP,EAAAgiJ,OAAA,KAAYpzN,EAAEyzG,cAAcllF,KAAMvuB,EAAEyzG,cAAe,SAA8B0gH,EAAqBhpK,GAIlG,GAFA,EAAA0sK,SAAA,QAAiB1sK,EAAU,KAEvBA,EAASr+B,KAAKjqB,OAAS,EAAG,CAC1B,IAAIiwN,EAAU3wN,SAASC,cAAc,KACrC0wN,EAAQvkM,KAAO7nB,EAAE+D,KAAK/C,SAASolB,KAAK,OACpCgmM,EAAQvhL,OAAS,QAAQ4Z,EAASr+B,KAAK,GACvCriB,KAAK6sN,MAAMvE,OAAO,IAAI7kM,IAAI4kM,EAAQvkM,SAExCptB,KAAKsJ,QAEbtJ,KAAKsJ,QAGX,YAAAwtN,UAAA,WACI,OAAOvxN,EAAE,iBAAiBomB,KAAK,OAAS,gBAAkBpmB,EAAE,sCAAsCgzB,OAGtG,YAAAoyH,OAAA,SAA2B9rJ,GAEvBA,EAAE+D,iBACF/D,EAAE6I,kBAGF,IAAI0rN,EAA2B7tN,EAAE1G,EAAEyzG,eAAe3mF,KAAK,QAGvD,OAAQriB,KAAK9D,QAAQmlJ,QACjB,IAAK,SACDrhJ,KAAKo1D,OAAO00J,EAAav0N,GACzB,MACJ,IAAK,SACDyK,KAAKuvI,OAAOu6E,EAAav0N,GACzB,MACJ,IAAK,SACDyK,KAAKytN,OAAO3D,EAAav0N,GACzB,MACJ,IAAK,UACDyK,KAAK0tN,aAAa5D,EAAav0N,GAC/B,MACJ,QACIyK,KAAKI,KAAK0pN,EAAav0N,KAMnC,YAAA6K,KAAA,SAAyB0pN,EAA0BJ,GAG/C1pN,KAAK2tN,aAAe,IAAI,EAAAnE,gBACxBxpN,KAAK2tN,aAAavtN,KAAKnE,EAAEytN,EAAOnxN,QAAQ8pB,KAAK,SAAUqnM,EAAOnxN,SAKlE,YAAA68D,OAAA,SAA2B00J,EAA0Bv0N,GAEjD,GADA,EAAAkyN,OAAA,IAAW,mDAAmDqC,EAAYv4L,GAAE,MAAMu4L,EAAY7uK,SAAQ,kBAAkBj7C,KAAK9D,QAAQwvB,KAAI,mBAAmB1rB,KAAK9D,QAAQ3D,QACrKyH,KAAK9D,QAAQ3D,OAAQ,CACrB,IAAIA,EAAS0D,EAAE+D,KAAK9D,QAAQ3D,QAE5B,OAAQyH,KAAK9D,QAAQwvB,MACjB,IAAK,QACDnzB,EAAO02B,IAAI66L,EAAY8D,UACvB,MACJ,IAAK,QACDr1N,EAAO02B,IAAI66L,EAAY+D,UACvB,MACJ,IAAK,SACDt1N,EAAO02B,IAAI66L,EAAYgE,WACvB,MACJ,IAAK,QACDv1N,EAAO02B,IAAI66L,EAAYiE,UACvB,MACJ,IAAK,OACDx1N,EAAO02B,IAAI66L,EAAYtmM,MAI/BxjB,KAAK9D,QAAQ8xN,SACbpE,EAAaoE,QAAQlE,EAAa9pN,KAAK9D,QAAQ8xN,SAI/ChuN,KAAK9D,QAAQ6tN,UACb/pN,KAAK9D,QAAQ6tN,SAASD,IAI9B,YAAAv6E,OAAA,SAA2Bu6E,EAA0Bv0N,GAEjD,EAAAkyN,OAAA,IAAW,mDAAmDqC,EAAYv4L,GAAE,MAAMu4L,EAAY7uK,SAAQ,kBAAkBj7C,KAAK9D,QAAQwvB,KAAI,4BAA4B1rB,KAAK9D,QAAQ3D,QAClLyH,KAAK9D,QAAQ0jN,aAAavkD,cAAc,aAAeyuD,EAAY7uK,SAAW,UAAY6uK,EAAYtmM,IAAM,0BAGxGxjB,KAAK9D,QAAQ6tN,UACb/pN,KAAK9D,QAAQ6tN,SAASD,IAI9B,YAAA2D,OAAA,SAA2B3D,EAA0Bv0N,GAEjD,EAAAkyN,OAAA,IAAW,mDAAmDqC,EAAYv4L,GAAE,MAAMu4L,EAAY7uK,SAAQ,YAAYj7C,KAAK9D,QAAQsnB,KAC/HvnB,EAAEqwN,KAAKtsN,KAAK9D,QAAQsnB,IAAK,CAAEyqM,QAASnE,EAAYv4L,IAAM,SAA8BmvB,GAChF,EAAA0sK,SAAA,QAAiB1sK,EAAU,KAC3BkpK,EAAaoE,QAAQttK,EAASmsK,MAAO7sN,KAAK9D,QAAQ8xN,SAE9ChuN,KAAK9D,QAAQ6tN,UACb/pN,KAAK9D,QAAQ6tN,SAASD,IAE5BpzN,KAAKsJ,QAKX,YAAA0tN,aAAA,SAAiC5D,EAA0Bv0N,GAElDyK,KAAKkuN,gBAAgBpE,IAKtB,EAAArC,OAAA,IAAW,kEAAkEqC,EAAYv4L,GAAE,MAAMu4L,EAAY7uK,SAAQ,MACrHj7C,KAAKysN,cAAgBzsN,KAAKysN,cAAcn5M,QAAO,SAAUs0B,GACrD,OAAOA,EAAIrW,KAAOu4L,EAAYv4L,MAElCt1B,EAAE1G,EAAEyzG,eAAejG,QAAQ,eAAetvC,YAAY,YARtD,EAAAg0J,OAAA,IAAW,qEAAqEqC,EAAYv4L,GAAE,MAAMu4L,EAAY7uK,SAAQ,KACzHj7C,KAAKysN,cAAcv0N,KAAK4xN,GACvB7tN,EAAE1G,EAAEyzG,eAAejG,QAAQ,eAAe72C,SAAS,YAU3D,YAAA8gK,WAAA,SAA+Bz3N,GAE3BA,EAAE+D,iBACF/D,EAAE6I,kBAGF,EAAAqpN,OAAA,IAAW,oCAAoCznN,KAAKysN,cAAcr0N,OAAM,oCAAoC4H,KAAK9D,QAAQsnB,KAEzH,IAAI2qM,EAAWnuN,KAAKysN,cAAchyN,KAAI,SAAUR,GAC5C,OAAOA,EAAEs3B,MAIbt1B,EAAEqwN,KAAKtsN,KAAK9D,QAAQsnB,IAAK,CAAEqpM,MAAOsB,GAAY,SAA8B9rM,GAExE,EAAA+qM,SAAA,QAAiB/qM,GAGD3qB,SAASy0G,eAAensG,KAAK9D,QAAQ3D,QACnB4vN,aAC1BG,SAGJtoN,KAAK9D,QAAQ6tN,UACb/pN,KAAK9D,QAAQ6tN,SAAS1nM,EAAKwqM,QAGjCn2N,KAAKsJ,QAIX,YAAAkuN,gBAAA,SAAgBpE,GACZ,IAAIsE,GAAiB,EAMrB,OALApuN,KAAKysN,cAAcvuN,SAAQ,SAAU3H,EAAoB6R,EAAeiM,GAChE9d,EAAMg7B,IAAMu4L,EAAYv4L,KACxB68L,GAAQ,MAGTA,GAGJ,EAAAJ,QAAP,SAAenB,EAAoBmB,GAE/B,IAAI/hK,EAAO4gK,EAAM5gK,KAMjB,GAJ8B,UAA1B4gK,EAAMwB,kBACNpiK,EAAO4gK,EAAMiB,WAGbE,EAAS,CACT,IAAIM,EAASryN,EAAE+xN,GACfM,EAAOxiK,IAAI,CACP,mBAAoB,OAASG,EAAO,MAExCqiK,EAAOrrN,KAAK,OAAOoqD,KAAK,MAAOpB,GAC/BqiK,EAAO76J,YAAY,aAK3B,YAAAi5J,OAAA,SAA2Bn3N,GACvBA,EAAE+D,iBACF/D,EAAE6I,kBACF,EAAAqpN,OAAA,QAAe,CACXtiM,KAAM,wDACP,SAA8B3f,GACzBA,EAAOmhE,aACP,EAAAgiJ,OAAA,KAAYpzN,EAAEyzG,cAAcllF,KAAMvuB,EAAEyzG,cAAe,SAA8BtoD,GAE7E,EAAA0sK,SAAA,QAAiB1sK,EAAU,KAC3B1gD,KAAK6sN,MAAMvE,SACPtoN,KAAK2tN,cACL3tN,KAAK2tN,aAAa3nM,SAGxBtvB,KAAKsJ,QAEbtJ,KAAKsJ,QAGX,YAAA3B,QAAA,WACI2B,KAAK01C,SAASr3C,WAEtB,EAtWA,GAwWA,aAMI,aACIpC,EAAE,QAAQ86C,GAAG,QAAS,8EAA+E/2C,KAAK+xF,KAAKr7F,KAAKsJ,OACpH/D,EAAE,QAAQ86C,GAAG,QAAS,0BAA2B/2C,KAAKK,MAAM3J,KAAKsJ,OACjE/D,EAAE,6BAA6BmrD,KAAKpnD,KAAKuuN,YAAY73N,KAAKsJ,OA6ElE,OA1EI,YAAAuuN,YAAA,SAA8BnmN,EAAenL,GAGzC,IAAIoG,EAAK3L,SAASy0G,eAAelvG,EAAQuxN,QAAQC,iBAC7CprN,GACA,IAAI,EAAAypN,SAASzpN,EAAI,CACbomN,WAAY,SAA4BpnM,EAAcqnM,QAAA,IAAAA,MAAA,MAElD,EAAAjC,OAAA,IAAW,uCAAwC,SAErD/wN,KAAKsJ,SAKnB,YAAA+xF,KAAA,SAAuBx8F,GACnBA,EAAE+D,iBACF/D,EAAE6I,kBAEF4B,KAAK/C,QAAU1H,EAAEyzG,cAEjBhpG,KAAKq+D,MAAQ,IAAI,EAAAmrJ,gBAAgB,CAE7BC,WAAY,SAA4BC,GAEpC1pN,KAAK+vB,KAAOr4B,SAASy0G,eAAe,cACpCnsG,KAAK2pN,QAAU,IAAIC,EAAa5pN,KAAK+vB,KAAM,CACvCsxH,OAAQrhJ,KAAK/C,QAAQuxN,QAAQE,UAC7BlrM,IAAKxjB,KAAK/C,QAAQuxN,QAAQG,aAC1BX,QAAShuN,KAAK/C,QAAQuxN,QAAQI,iBAC9Br2N,OAAQyH,KAAK/C,QAAQuxN,QAAQC,gBAC7B/iM,KAAM1rB,KAAK/C,QAAQuxN,QAAQK,cAC3BhF,aAAc,SAA4BH,EAAqBI,KAC7DpzN,KAAKsJ,MACP+pN,SAAU,SAA4BL,EAAqBI,GAEvD9pN,KAAK2pN,QAAQtrN,UACb2B,KAAKq+D,MAAMr4C,SAEbtvB,KAAKsJ,MACPgqN,WAAY,SAACN,KAEbO,aAAc,SAAC5nM,GACX,OAAOA,GAEX6nM,eAAgB,SAAC7nM,KAEjBorE,QAAS,SAAC08H,EAAYC,EAAiBC,QAI7C3zN,KAAKsJ,QAGXA,KAAKq+D,MAAMj+D,KAAKnE,EAAE1G,EAAEyzG,eAAe3mF,KAAK,mBAAoB9sB,EAAEyzG,gBAGlE,YAAA3oG,MAAA,SAAwB9K,GACpBA,EAAE+D,iBACF/D,EAAE6I,kBAEF,EAAAqpN,OAAA,QAAe,GAEZ,SAA4BjiN,GACvBA,EAAOmhE,aACP,EAAAgiJ,OAAA,KAAYpzN,EAAEyzG,cAAcllF,KAAMvuB,EAAEyzG,cAAe,SAA4BtoD,GAE3E,EAAA0sK,SAAA,QAAiB1sK,EAAU,KAC3BkpK,EAAaoE,QAAQttK,EAASmsK,MAAOt3N,EAAEyzG,cAAcwlH,QAAQI,mBAE/Dl4N,KAAKsJ,QAEbtJ,KAAKsJ,QAEf,EAtFA,I,yVCvbA,aAOI,WAAY9D,QAAA,IAAAA,MAAA,MAJZ,KAAAA,QAAwB,CACpB4yN,eAAe,GAIf9uN,KAAK9D,QAAU,EAAH,KAAQ8D,KAAK9D,SAAYA,GA0D7C,OAvDI,YAAAkE,KAAA,SAAKojB,EAAmBkmM,G,WAAA,IAAAA,MAAA,MAChB1pN,KAAK9D,QAAQkwN,QACbpsN,KAAK9D,QAAQkwN,OAAOpsN,KAAK/C,SAG7BhB,EAAE9F,IAAIqtB,EAAe,SAAUnB,GAEvBriB,KAAKq+D,OAASr+D,KAAK9D,QAAQ4yN,eAC3B9uN,KAAKgmB,QAGLhmB,KAAK9D,QAAQsiE,WACbn8C,EAAOriB,KAAK9D,QAAQsiE,SAASx+D,KAAK/C,QAASolB,IAG/CriB,KAAK/C,QAAU+C,KAAK+uN,sBAAsB1sM,GAC1CriB,KAAK/C,QAAQkB,UAAUgF,IAAI,qBAE3BlH,EAAE,QAAQsiC,OAAOv+B,KAAK/C,SACtB+C,KAAKq+D,MAAQ,IAAI,EAAA2wJ,MAAMhvN,KAAK/C,QAAS,IACrC+C,KAAKq+D,MAAMj+D,OAGXJ,KAAK/C,QAAQy0C,iBAAiB,iBAAkB,WAC5Cz1C,EAAEvE,UAAU4wF,IAAI,kBAClB5xF,KAAKsJ,OACPA,KAAK/C,QAAQy0C,iBAAiB,kBAAmB,WAC7C1xC,KAAKivN,WACPv4N,KAAKsJ,OAEHA,KAAK9D,QAAQutN,YACbzpN,KAAK9D,QAAQutN,WAAWzpN,KAAK/C,UAEnCvG,KAAKsJ,OACFszF,KAAyB,QAApB,EAAAtzF,KAAK9D,QAAQuxF,eAAO,QAAI,EAAAk7H,OAAA,cAGtC,YAAA3iM,MAAA,WACQhmB,KAAKq+D,OACLr+D,KAAKq+D,MAAMl+D,QAInB,YAAA8uN,QAAA,WACIjvN,KAAKq+D,MAAM4wJ,UACXjvN,KAAK/C,QAAQ0G,UAGjB,YAAAorN,sBAAA,SAAsBG,GAClB,IAAI7oK,EAAM3uD,SAASC,cAAc,OAIjC,OAHA0uD,EAAIzuD,UAAYs3N,EAAWr3N,OAGpBwuD,EAAIy6B,YAEnB,EAlEA,I,qHCFA,aACI,cAWJ,OAPW,EAAA1lE,QAAP,SAAeiH,EAAsB8sM,QAAA,IAAAA,MAAA,KAC7B9sM,EAAK6wB,QACL,EAAAu0K,OAAA,QAAeplM,EAAK8vB,QAAS9vB,EAAKouC,MAAO0+J,GAEzC,EAAA1H,OAAA,MAAaplM,EAAK+sM,OAAQ/sM,EAAKouC,MAAO0+J,IAGlD,EAZA,I,mLCtBW,EACRtqK,cAAe,EAElB,iBACI,cACQ,EAAE,mBAAmBzsD,QAAU,EAAE,qBAAqBA,UACtD,EAAE,wBAAwB+H,OAC1B,EAAE,mBAAmBinD,KAAKpnD,KAAKqvN,aAC/B,EAAE,qBAAqBjoK,KAAKpnD,KAAKsvN,UAiJ7C,OA7II,YAAAC,aAAA,SAAa7F,EAA6BrnM,GACtC,EAAEqnM,EAAOrnM,KAAK,YAAYypC,IAAI,CAC1B,mBAAoB,OAASzpC,EAAKwqM,MAAMgB,SAAW,MAEvD,EAAEnE,EAAOrnM,KAAK,YAAYpf,KAAK,OAAOoqD,KAAK,MAAOhrC,EAAKwqM,MAAMgB,WAGjE,YAAAwB,YAAA,WAEI,IAAIl5M,EAAM,IAAM,EAAEnW,MAAMqtD,KAAK,MACzB8+J,EAAO,EAAEh2M,GAETq5M,EAAU,IAAM,EAAExvN,MAAMqtD,KAAK,QAE7BoiK,EAAiB,IAAI,EAASt5M,EAAK,CACnCqN,IAAK2oM,EAAK9pM,KAAK,OACfypB,SAAU,EACVZ,UAAW,OACXT,gBAAiB,EACjBwB,cAAekgL,EAAK9pM,KAAK,UAAY,uBACrC8pB,kBAAkB,EAClBG,mBAAmB,EACnBP,UAAW51B,IAGfs5M,EAAe14K,GAAG,aAAa,eAG/B04K,EAAe14K,GAAG,uBAAuB,SAAUrE,GAC/C,EAAE,wBAA0Bv8B,EAAIhd,QAAQ,IAAK,IAAM,kBAAkB2yD,IAAI,CAAEvuD,MAAOm1C,EAAW,SAGjG+8K,EAAe14K,GAAG,WAAW,SAAUnU,GACnC,EAAE,wBAA0BzsB,EAAIhd,QAAQ,IAAK,KAAKiH,OAClD,EAAE+rN,EAAK9pM,KAAK,YAAY6pC,SAAS,cAGrCujK,EAAe14K,GAAG,iBAAiB,SAAUrE,GACzC,EAAE,wBAA0Bv8B,EAAIhd,QAAQ,IAAK,KAAKgH,UAGtDsvN,EAAe14K,GAAG,WAAW,SAAUnU,EAAM8d,GACrCA,EAASxN,SACLwN,EAASmsK,QACT,EAAE2C,GAASvgM,IAAI20B,KAAK6gK,UAAU/jK,EAASmsK,QACvC,EAAEV,EAAK9pM,KAAK,YAAYypC,IAAI,CACxB,mBAAoB,OAASpL,EAASmsK,MAAMgB,SAAW,MAE3D,EAAE1B,EAAK9pM,KAAK,YAAYpf,KAAK,OAAOoqD,KAAK,MAAO3M,EAASmsK,MAAMgB,WAEnE,EAAApG,OAAA,QAAe,qBAEf,EAAAA,OAAA,MAAa,yCAA2C/mK,EAAS70C,OAErE4jN,EAAej+K,WAAW5O,GAC1B,EAAEupL,EAAK9pM,KAAK,YAAYoxC,YAAY,eAI5C,YAAA67J,QAAA,WAEI,IAAIn5M,EAAM,IAAM,EAAEnW,MAAMqtD,KAAK,MACzB8+J,EAAO,EAAEh2M,GAETu5M,EAAch4N,SAASkB,cAAcud,EAAM,aAC/Cu5M,EAAYn+L,GAAK,GACjB,IAAIwe,EAAgC2/K,EAAY9rN,WAAYhM,UAC5D83N,EAAY9rN,WAAWJ,YAAYksN,GAEnC,IAAIC,EAAkB,IAAI,EAASx5M,EAAK,CACpCqN,IAAK2oM,EAAK9pM,KAAK,OACfgpB,eAAgB,GAChBC,gBAAiB,GACjBb,gBAAiB,EACjBsF,gBAAiBA,EACjB7E,UAAW,QACXe,cAAekgL,EAAK9pM,KAAK,UAAY,uBACrC8pB,kBAAkB,EAClBG,kBAAmB,YACnBP,UAAW,oBACXa,mBAAoB,0GACpBK,kBAAmB,gCAGvB,EAAE92B,EAAM,YAAYhW,OAEpBwvN,EAAgB54K,GAAG,aAAa,SAAUnU,GACtC,EAAEA,EAAK8N,eAAe93C,cAAc,cAAcuH,OAClD,EAAEyiC,EAAK8N,eAAe93C,cAAc,YAAYwH,OAChD,EAAE+V,EAAM,YAAY/V,UAIxBuvN,EAAgB54K,GAAG,uBAAuB,SAAUs2K,EAAuBn1K,EAAoBD,GACzEvgD,SAASkB,cAAc,iCAC7B8E,MAAMH,MAAQ8vN,EAAgB,OAG9CsC,EAAgB54K,GAAG,WAAW,SAAUnU,GAElBlrC,SAASkB,cAAc,mBAC7B8E,MAAM0D,QAAU,OAIhCuuN,EAAgB54K,GAAG,YAAY,SAAUnU,GACrC,EAAEA,EAAK8N,eAAe93C,cAAc,YAAYuH,OAChD,EAAEyiC,EAAK8N,eAAe93C,cAAc,cAAcuH,OAClD,EAAEyiC,EAAK8N,eAAe93C,cAAc,cAAcwH,OAElDs6C,QAAQ7uC,MAAM,4FAKlB8jN,EAAgB54K,GAAG,iBAAiB,SAAUrE,GACtBh7C,SAASkB,cAAc,mBAC7B8E,MAAM0D,QAAU,IAC9B,EAAE+U,EAAM,YAAYhW,UAGxBwvN,EAAgB54K,GAAG,WAAW,SAAUnU,EAAM8d,GAE1ChG,QAAQ7uC,MAAM,wFAGV60C,EAASxN,QACT,EAAAu0K,OAAA,QAAe,qBAEf,EAAAA,OAAA,MAAa,iDAAmD/mK,EAAS70C,UAOjF,EAAE,oBAAoB5E,OAAM,WACxB0oN,EAAgB53K,gBAAe,OAI3C,EAtJA,I,qWCkBA,aASI,WAAY96C,EAA0Bf,GAPtC,KAAAA,QAA4B,CACxB0zN,WAAY,4CAQZ5vN,KAAK/C,QAAUA,EACV+C,KAAK/C,UAIV+C,KAAK9D,QAAQ2zN,sBAAwB,WAEjC,OADU5zN,EAAE+D,KAAK/C,SAASmgC,aAE5B1mC,KAAKsJ,MAEPA,KAAK9D,QAAU,EAAH,KAAQ8D,KAAK9D,SAAYA,GAErC8D,KAAK/C,QAAQy0C,iBAAiB,SAAU,SAA2Bn8C,GAC/DA,EAAE+D,iBACF/D,EAAEkQ,2BACFzF,KAAK8vN,cACPp5N,KAAKsJ,QAwCf,OArCI,YAAA8vN,WAAA,W,MAEI,GADA9vN,KAAK/C,QAAQkB,UAAUgF,IAAI,iBACvBnD,KAAK/C,QAAQ0uE,gBAAiB,CAE9B3rE,KAAK/C,QAAQkB,UAAUgF,IAAI,WAE3B,IAAI4sN,EAAa/vN,KAAK/C,QAAQrE,cAAc,wBACxCm3N,GACA74N,MAAMN,UAAUU,MAAM1B,KAAKm6N,GACtB7xN,SAAQ,SAAUg1D,GACXj3D,EAAE+D,MAAMyyE,GAAG,aACXx2E,EAAE+D,MAAMivB,IAAI,WAKxBjvB,KAAK9D,QAAQ8zN,UACbhwN,KAAK9D,QAAQ8zN,SAAShwN,MAG1B,IAAI8hD,EAAW9hD,KAAK9D,QAAQ2zN,wBAE5B5zN,EAAEqwN,KAAKtsN,KAAK/C,QAAQokJ,OAAQv/F,EAAU,SAA2Bz/B,GACzDriB,KAAK9D,QAAQutN,YACbzpN,KAAK9D,QAAQutN,WAAWzpN,KAAMqiB,IAEpC3rB,KAAKsJ,OACFszF,KAAyB,QAApB,EAAAtzF,KAAK9D,QAAQuxF,eAAO,QAAI,EAAAk7H,OAAA,kBAI9B3oN,KAAK9D,QAAQ0zN,YACb,EAAAnI,OAAA,MAAaznN,KAAK9D,QAAQ0zN,WAAY,KAAM,MAK5D,EAnEA,I,yHCTA,YAAc,WACV,OAAO,EAAE5vN,MAAM5H,QAGnB,oBAAsB,SAAU63N,QAAA,IAAAA,MAAA,kBAC5B,IAAIjuF,EAAU,EAAEhiI,MAMZkwN,EAAkB,WAClB,IAAIjhM,EAAM,EAAEjvB,MAAMivB,MACdkhM,EAASlhM,EAAI91B,QAAQ82N,EAAiB,IAGtChhM,IAAQkhM,GACR,EAAEnwN,MAAMivB,IAAIkhM,IAIpBnuF,EAAQjrF,GAAG,QAASm5K,GACpBluF,EAAQjrF,GAAG,QAASm5K,GACpBluF,EAAQjrF,GAAG,SAAUm5K,IAEzB,wBAA0B,SAAUD,QAAA,IAAAA,MAAA,qBAChC,IAAIjuF,EAAU,EAAEhiI,MAKZkwN,EAAkB,WAClB,IAAIjhM,EAAM,EAAEjvB,MAAMivB,MACdkhM,EAASlhM,EAAI91B,QAAQ82N,EAAiB,IAC1C,IAAKE,EAAO31N,MAAM,IAAIqjB,OAAO,IAAK,OAAS,IAAIzlB,OAAS,EAAG,CACvD,IAAImzB,EAAM4kM,EAAOv8M,YAAY,KAC7Bu8M,EAASA,EAAO10N,UAAU,EAAG8vB,GAAO4kM,EAAO10N,UAAU8vB,EAAM,GAC3D,EAAAk8L,OAAA,QAAe,2DAGfx4L,IAAQkhM,GACR,EAAEnwN,MAAMivB,IAAIkhM,IAIpBnuF,EAAQjrF,GAAG,QAASm5K,GACpBluF,EAAQjrF,GAAG,QAASm5K,GACpBluF,EAAQjrF,GAAG,SAAUm5K,IAEzB,wBAA0B,SAAUD,QAAA,IAAAA,MAAA,mBAChC,IAAIjuF,EAAU,EAAEhiI,MAKZkwN,EAAkB,WAClB,IAAIjhM,EAAM,EAAEjvB,MAAMivB,MACdkhM,EAASlhM,EAAI91B,QAAQ82N,EAAiB,IAC1C,IAAKE,EAAO31N,MAAM,IAAIqjB,OAAO,IAAK,OAAS,IAAIzlB,OAAS,EAAG,CACvD,IAAImzB,EAAM4kM,EAAOv8M,YAAY,KAC7Bu8M,EAASA,EAAO10N,UAAU,EAAG8vB,GAAO4kM,EAAO10N,UAAU8vB,EAAM,GAC3D,EAAAk8L,OAAA,QAAe,4DAGfx4L,IAAQkhM,GACR,EAAEnwN,MAAMivB,IAAIkhM,IAIpBnuF,EAAQjrF,GAAG,QAASm5K,GACpBluF,EAAQjrF,GAAG,QAASm5K,GACpBluF,EAAQjrF,GAAG,SAAUm5K,IAGzB,sBAAwB,WACpB,IAAIluF,EAAU,EAAEhiI,MACZowN,EAA0B,WAC1B,IAAIpjM,EAAU,EAAEhtB,MAAMqiB,KAAK,WACvBzoB,EAAMd,OAAO,EAAEkH,MAAMqtD,KAAK,cAC1B38C,EAAO,EAAE1Q,MAAMivB,MAAiB72B,OACpC,EAAE40B,GAASq+B,KAAKzxD,EAAM8W,GACtB,IAAI2oG,EAAM,eACNz/G,EAAM8W,EAAM9W,EAAM,KAClBy/G,EAAM,eACV,EAAErsF,GAAS6mC,SAASJ,YAAY,gBAAgBA,YAAY,eAAevH,SAASmtD,IAExF2oB,EAAQjrF,GAAG,QAASq5K,GACpBpuF,EAAQjrF,GAAG,QAASq5K,GACpBpuF,EAAQjrF,GAAG,SAAUq5K,IAGzB,kBAAoB,WACF,EAAEpwN,MAoBR+2C,GAAG,SAnBe,SAA6BxhD,GACnDA,EAAE+D,iBAgBF,OATA,EAAAmuN,OAAA,QACI,CACIh3J,MAAO,EAAEl7D,EAAEyzG,eAAe3mF,KAAK,SAC/B8C,KAAM,EAAE5vB,EAAEyzG,eAAe3mF,KAAK,WAC9BqvC,OAAQ,EAAEn8D,EAAEyzG,eAAe3mF,KAAK,UAChC4pC,KAAM,YAXa,SAAUzmD,GACjC,GAAIA,EAAOmhE,YAAa,CACpB,IAAInjD,EAAM,EAAEjuB,EAAEyzG,eAAe37C,KAAK,QAClCl4D,OAAOs8G,SAAS3tF,KAAON,OAYxB,O,wECtHf1qB,OAAOlC,UAAUy5N,eAAiB,SAAUC,GACxC,OAAOA,EAAW,IAAMtwN,KAAKrE,QAAQ,GAAGxC,QAAQ,MAAM,SAAUrD,EAAWJ,EAAW8B,GAClF,OAAO9B,EAAI,GAAW,MAANI,IAAc0B,EAAEY,OAAS1C,GAAK,GAAM,EAAI,IAAMI,EAAIA,MAG1EgD,OAAOlC,UAAU25N,gBAAkB,WAE/B,OADQvwN,KAAO,MACNrE,QAAQ,GAAGxC,QAAQ,MAAM,SAAUrD,EAAWJ,EAAW8B,GAC9D,OAAO9B,EAAI,GAAW,MAANI,IAAc0B,EAAEY,OAAS1C,GAAK,GAAM,EAAI,IAAMI,EAAIA,MAG1EgD,OAAOlC,UAAU45N,gBAAkB,WAC/B,IAAI/6N,EAAIuK,KAAO,KAEf,OADAvK,GAAQ,MACCkG,QAAQ,GAAGxC,QAAQ,MAAM,SAAUrD,EAAWJ,EAAW8B,GAC9D,OAAO9B,EAAI,GAAW,MAANI,IAAc0B,EAAEY,OAAS1C,GAAK,GAAM,EAAI,IAAMI,EAAIA,O,0FCV1E0R,OAAO5Q,UAAU65N,WAAa,WAG1B,OAAO,EAAE,UAAUplK,KAAKrrD,MAAMmlB,QAGlC3d,OAAO5Q,UAAU85N,WAAa,WAC1B,OAAO,EAAE,UAAUvrM,KAAKnlB,MAAMqrD,QAGlC7jD,OAAO5Q,UAAUwM,SAAW,SAAUkE,GAClC,OAA6B,IAAtBtH,KAAK6G,QAAQS,IAGxBE,OAAO5Q,UAAU+5N,KAAO,SAAUj3N,EAAaE,GAC3C,IAAInE,EAAG8lJ,EAAQ,GAGX9lJ,OADe,IAARmE,EACHF,EAEAA,EAAMM,KAAKH,MAAMG,KAAKy3B,UAAY73B,EAAMF,IAGhD,IAAK,IAAIhE,EAAI,EAAGA,EAAID,EAAGC,IACnB6lJ,GAASv7I,KAAKmI,OAAOnO,KAAKH,MAAMG,KAAKy3B,SAAWzxB,KAAK5H,SAGzD,OAAOmjJ,GAIX/zI,OAAO5Q,UAAUg6N,QAAU,WACvB,IACIrhH,EAAK53B,EADLtjE,EAAQrU,KAAKtH,MAAM,IACL8E,EAAM6W,EAAMjc,OAE9B,GAAIoF,EAAK,OAASA,GAEd+xG,EAAMl7F,EADNsjE,EAAU39E,KAAKH,MAAMG,KAAKy3B,UAAYj0B,EAAM,KAE5C6W,EAAMsjE,GAAWtjE,EAAM7W,GACvB6W,EAAM7W,GAAO+xG,EAGjB,OAAOl7F,EAAM7Y,KAAK,KAGtBgM,OAAO5Q,UAAUi6N,SAAW,WACxB,IAAI/jM,EAAS9sB,KAAK7G,QAAQ,gBAAiB,KAAKA,QAAQ,OAAQ,KAAKyB,cAE5C,MAArBkyB,EAAO3kB,OAAO,KAAY2kB,EAASA,EAAOrxB,UAAU,IAExD,IAAI+4E,EAAO1nD,EAAO10B,OAAS,EAE3B,MAD4B,MAAxB00B,EAAO3kB,OAAOqsE,KAAe1nD,EAASA,EAAOrxB,UAAU,EAAG+4E,IACvD1nD,I,ijCClEX13B,EAAOC,QAAUy7N,W,wBCAjB17N,EAAOC,QAAU8xD,SCCb1f,EAA2B,GAG/B,SAASspL,EAAoBrpL,GAE5B,IAAIspL,EAAevpL,EAAyBC,GAC5C,QAAqBz/B,IAAjB+oN,EACH,OAAOA,EAAa37N,QAGrB,IAAID,EAASqyC,EAAyBC,GAAY,CAGjDryC,QAAS,IAOV,OAHA+R,EAAoBsgC,GAAU9xC,KAAKR,EAAOC,QAASD,EAAQA,EAAOC,QAAS07N,GAGpE37N,EAAOC,QCpBf07N,EAAoBt7N,EAAKL,IACxB,IAAIu7B,EAASv7B,GAAUA,EAAOoB,WAC7B,IAAOpB,EAAiB,QACxB,IAAM,EAEP,OADA27N,EAAoBh7N,EAAE46B,EAAQ,CAAEn5B,EAAGm5B,IAC5BA,GCLRogM,EAAoBh7N,EAAI,CAACV,EAASsyC,KACjC,IAAI,IAAIprC,KAAOorC,EACXopL,EAAoBv7N,EAAEmyC,EAAYprC,KAASw0N,EAAoBv7N,EAAEH,EAASkH,IAC5EvG,OAAOC,eAAeZ,EAASkH,EAAK,CAAErG,YAAY,EAAMC,IAAKwxC,EAAWprC,MCJ3Ew0N,EAAoB52N,EAAI,WACvB,GAA0B,iBAAf+kB,WAAyB,OAAOA,WAC3C,IACC,OAAOlf,MAAQ,IAAImL,SAAS,cAAb,GACd,MAAO5V,GACR,GAAsB,iBAAXJ,OAAqB,OAAOA,QALjB,GCAxB47N,EAAoBv7N,EAAI,CAACoyC,EAAKC,IAAU7xC,OAAOY,UAAUC,eAAejB,KAAKgyC,EAAKC,GCClFkpL,EAAoB36N,EAAKf,IACH,oBAAXgB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeZ,EAASgB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,K,iFCF3C0F,EAAE,iBACRiwD,SAAS,SAED,IAAI,EAAA8iK,MAAMt3N,SAASy0G,eAAe,iBAGhD,EAAAs7G,OAAA,MAAa,mBAAoB,YACjC,EAAAA,OAAA,QAAe,mBAAoB,YACnC,EAAAA,OAAA,QAAe,mBAAoB,YACnC,EAAAA,OAAA,QAAe,mBAAoB,YACnC,EAAAA,OAAA,OAAc,CAAEtiM,KAAM,gBAAiBsrC,MAAO,iBAAiBggK,eAAgB,SAAUjrN,GAChFA,EAAOqhE,YAGR,EAAA4gJ,OAAA,QAAe,qBAAsB,YAFrC,EAAAA,OAAA,QAAe,YAAYjiN,EAAOjP,MAAS,gB","file":"js/login.js","sourcesContent":["/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Pickr=e():t.Pickr=e()}(window,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){\"use strict\";o.r(e);var n={};function i(t,e,o,n,i={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const r of e)for(const e of o)r[t](e,n,{capture:!1,...i});return Array.prototype.slice.call(arguments,1)}o.r(n),o.d(n,\"on\",(function(){return r})),o.d(n,\"off\",(function(){return s})),o.d(n,\"createElementFromString\",(function(){return a})),o.d(n,\"createFromTemplate\",(function(){return l})),o.d(n,\"eventPath\",(function(){return c})),o.d(n,\"resolveElement\",(function(){return p})),o.d(n,\"adjustableInputNumbers\",(function(){return u}));const r=i.bind(null,\"addEventListener\"),s=i.bind(null,\"removeEventListener\");function a(t){const e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstElementChild}function l(t){const e=(t,e)=>{const o=t.getAttribute(e);return t.removeAttribute(e),o},o=(t,n={})=>{const i=e(t,\":obj\"),r=e(t,\":ref\"),s=i?n[i]={}:n;r&&(n[r]=t);for(const n of Array.from(t.children)){const t=e(n,\":arr\"),i=o(n,t?{}:s);t&&(s[t]||(s[t]=[])).push(Object.keys(i).length?i:n)}return n};return o(a(t))}function c(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let o=t.target.parentElement;for(e=[t.target,o];o=o.parentElement;)e.push(o);return e.push(document,window),e}function p(t){return t instanceof Element?t:\"string\"==typeof t?t.split(/>>/g).reduce((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t),document):null}function u(t,e=(t=>t)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let i=0,r=t.selectionStart;t.value=t.value.replace(/[\\d.]+/g,(t,o)=>o<=r&&o+t.length>=r?(r=o,e(Number(t),n,i)):(i++,t)),t.focus(),t.setSelectionRange(r,r),o.preventDefault(),t.dispatchEvent(new Event(\"input\"))}r(t,\"focus\",()=>r(window,\"wheel\",o,{passive:!1})),r(t,\"blur\",()=>s(window,\"wheel\",o))}const{min:h,max:d,floor:f,round:m}=Math;function v(t,e,o){e/=100,o/=100;const n=f(t=t/360*6),i=t-n,r=o*(1-e),s=o*(1-i*e),a=o*(1-(1-i)*e),l=n%6;return[255*[o,s,r,r,a,o][l],255*[a,o,o,s,r,r][l],255*[r,r,a,o,o,s][l]]}function b(t,e,o){const n=(2-(e/=100))*(o/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*o/(2*n):e*o/(2-2*n)),[t,100*e,100*n]}function g(t,e,o){const n=h(t/=255,e/=255,o/=255),i=d(t,e,o),r=i-n;let s,a;if(0===r)s=a=0;else{a=r/i;const n=((i-t)/6+r/2)/r,l=((i-e)/6+r/2)/r,c=((i-o)/6+r/2)/r;t===i?s=c-l:e===i?s=1/3+n-c:o===i&&(s=2/3+l-n),s<0?s+=1:s>1&&(s-=1)}return[360*s,100*a,100*i]}function y(t,e,o,n){e/=100,o/=100;return[...g(255*(1-h(1,(t/=100)*(1-(n/=100))+n)),255*(1-h(1,e*(1-n)+n)),255*(1-h(1,o*(1-n)+n)))]}function _(t,e,o){e/=100;const n=2*(e*=(o/=100)<.5?o:1-o)/(o+e)*100,i=100*(o+e);return[t,isNaN(n)?0:n,i]}function w(t){return g(...t.match(/.{2}/g).map(t=>parseInt(t,16)))}function A(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if(\"black\"===t.toLowerCase())return\"#000\";const e=document.createElement(\"canvas\").getContext(\"2d\");return e.fillStyle=t,\"#000\"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)/i,rgba:/^((rgba)|rgb)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsla:/^((hsla)|hsl)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsva:/^((hsva)|hsv)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hexa:/^#?(([\\dA-Fa-f]{3,4})|([\\dA-Fa-f]{6})|([\\dA-Fa-f]{8}))$/i},o=t=>t.map(t=>/^(|\\d+)\\.\\d+|\\d+$/.test(t)?Number(t):void 0);let n;t:for(const i in e){if(!(n=e[i].exec(t)))continue;const r=t=>!!n[2]==(\"number\"==typeof t);switch(i){case\"cmyk\":{const[,t,e,r,s]=o(n);if(t>100||e>100||r>100||s>100)break t;return{values:y(t,e,r,s),type:i}}case\"rgba\":{const[,,,t,e,s,a]=o(n);if(t>255||e>255||s>255||a<0||a>1||!r(a))break t;return{values:[...g(t,e,s),a],a:a,type:i}}case\"hexa\":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split(\"\").map(t=>t+t).join(\"\"));const e=t.substring(0,6);let o=t.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[...w(e),o],a:o,type:i}}case\"hsla\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[..._(t,e,s),a],a:a,type:i}}case\"hsva\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[t,e,s,a],a:a,type:i}}}}return{values:null,type:null}}function C(t=0,e=0,o=0,n=1){const i=(t,e)=>(o=-1)=>e(~o?t.map(t=>Number(t.toFixed(o))):t),r={h:t,s:e,v:o,a:n,toHSVA(){const t=[r.h,r.s,r.v,r.a];return t.toString=i(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toHSLA(){const t=[...b(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toRGBA(){const t=[...v(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${r.a})`),t},toCMYK(){const t=function(t,e,o){const n=v(t,e,o),i=n[0]/255,r=n[1]/255,s=n[2]/255,a=h(1-i,1-r,1-s);return[100*(1===a?0:(1-i-a)/(1-a)),100*(1===a?0:(1-r-a)/(1-a)),100*(1===a?0:(1-s-a)/(1-a)),100*a]}(r.h,r.s,r.v);return t.toString=i(t,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),t},toHEXA(){const t=function(t,e,o){return v(t,e,o).map(t=>m(t).toString(16).padStart(2,\"0\"))}(r.h,r.s,r.v),e=r.a>=1?\"\":Number((255*r.a).toFixed(0)).toString(16).toUpperCase().padStart(2,\"0\");return e&&t.push(e),t.toString=()=>\"#\"+t.join(\"\").toUpperCase(),t},clone:()=>C(r.h,r.s,r.v,r.a)};return r}const k=t=>Math.max(Math.min(t,1),0);function $(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:o}=e,{type:n,key:i}=t;if(document.activeElement===o.wrapper){const{lock:o}=e.options,r=\"ArrowUp\"===i,s=\"ArrowRight\"===i,a=\"ArrowDown\"===i,l=\"ArrowLeft\"===i;if(\"keydown\"===n&&(r||s||a||l)){let n=0,i=0;\"v\"===o?n=r||s?1:-1:\"h\"===o?n=r||s?-1:1:(i=r?-1:a?1:0,n=l?-1:s?1:0),e.update(k(e.cache.x+.01*n),k(e.cache.y+.01*i)),t.preventDefault()}else i.startsWith(\"Arrow\")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){r(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),r(document,[\"mousemove\",\"touchmove\"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:o,cache:n}=e,{lock:i,element:r,wrapper:s}=o,a=s.getBoundingClientRect();let l=0,c=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,c=t?(e||t).clientY:0,l<a.left?l=a.left:l>a.left+a.width&&(l=a.left+a.width),c<a.top?c=a.top:c>a.top+a.height&&(c=a.top+a.height),l-=a.left,c-=a.top}else n&&(l=n.x*a.width,c=n.y*a.height);\"h\"!==i&&(r.style.left=`calc(${l/a.width*100}% - ${r.offsetWidth/2}px)`),\"v\"!==i&&(r.style.top=`calc(${c/a.height*100}% - ${r.offsetHeight/2}px)`),e.cache={x:l/a.width,y:c/a.height};const p=k(l/a.width),u=k(c/a.height);switch(i){case\"v\":return o.onchange(p);case\"h\":return o.onchange(u);default:return o.onchange(p,u)}},_tapstop(){e.options.onstop(),s(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),s(document,[\"mousemove\",\"touchmove\"],e._tapmove)},trigger(){e._tapmove()},update(t=0,o=0){const{left:n,top:i,width:r,height:s}=e.options.wrapper.getBoundingClientRect();\"h\"===e.options.lock&&(o=t),e._tapmove({clientX:n+r*t,clientY:i+s*o})},destroy(){const{options:t,_tapstart:o,_keyboard:n}=e;s(document,[\"keydown\",\"keyup\"],n),s([t.wrapper,t.element],\"mousedown\",o),s([t.wrapper,t.element],\"touchstart\",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:i}=e;return r([o.wrapper,o.element],\"mousedown\",n),r([o.wrapper,o.element],\"touchstart\",n,{passive:!1}),r(document,[\"keydown\",\"keyup\"],i),e}function S(t={}){t=Object.assign({onchange:()=>0,className:\"\",elements:[]},t);const e=r(t.elements,\"click\",e=>{t.elements.forEach(o=>o.classList[e.target===o?\"add\":\"remove\"](t.className)),t.onchange(e),e.stopPropagation()});return{destroy:()=>s(...e)}}\n/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */\nconst O={variantFlipOrder:{start:\"sme\",middle:\"mse\",end:\"ems\"},positionFlipOrder:{top:\"tbrl\",right:\"rltb\",bottom:\"btrl\",left:\"lrbt\"},position:\"bottom\",margin:8},E=(t,e,o)=>{const n=\"object\"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=n){const{reference:e,popper:o}=Object.assign(n,t);if(!o||!e)throw new Error(\"Popper- or reference-element missing.\");return((t,e,o)=>{const{container:n,margin:i,position:r,variantFlipOrder:s,positionFlipOrder:a}={container:document.documentElement.getBoundingClientRect(),...O,...o},{left:l,top:c}=e.style;e.style.left=\"0\",e.style.top=\"0\";const p=t.getBoundingClientRect(),u=e.getBoundingClientRect(),h={t:p.top-u.height-i,b:p.bottom+i,r:p.right+i,l:p.left-u.width-i},d={vs:p.left,vm:p.left+p.width/2+-u.width/2,ve:p.left+p.width-u.width,hs:p.top,hm:p.bottom-p.height/2-u.height/2,he:p.bottom-u.height},[f,m=\"middle\"]=r.split(\"-\"),v=a[f],b=s[m],{top:g,left:y,bottom:_,right:w}=n;for(const t of v){const o=\"t\"===t||\"b\"===t,n=h[t],[i,r]=o?[\"top\",\"left\"]:[\"left\",\"top\"],[s,a]=o?[u.height,u.width]:[u.width,u.height],[l,c]=o?[_,w]:[w,_],[p,f]=o?[g,y]:[y,g];if(!(n<p||n+s>l))for(const s of b){const l=d[(o?\"v\":\"h\")+s];if(!(l<f||l+a>c))return e.style[r]=l-u[r]+\"px\",e.style[i]=n-u[i]+\"px\",t+s}}return e.style.left=l,e.style.top=c,null})(e,o,n)}}};function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class x{constructor(t){L(this,\"_initializingActive\",!0),L(this,\"_recalc\",!0),L(this,\"_nanopop\",null),L(this,\"_root\",null),L(this,\"_color\",C()),L(this,\"_lastColor\",C()),L(this,\"_swatchColors\",[]),L(this,\"_setupAnimationFrame\",null),L(this,\"_eventListener\",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...x.DEFAULT_OPTIONS},t);const{swatches:e,components:o,theme:n,sliders:i,lockOpacity:r,padding:s}=t;[\"nano\",\"monolith\"].includes(n)&&!i&&(t.sliders=\"h\"),o.interaction||(o.interaction={});const{preview:a,opacity:l,hue:c,palette:p}=o;o.opacity=!r&&l,o.palette=p||a||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(t=>this.addSwatch(t));const{button:u,app:h}=this._root;this._nanopop=E(u,h,{margin:s}),u.setAttribute(\"role\",\"button\"),u.setAttribute(\"aria-label\",this._t(\"btn:toggle\"));const d=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!h.offsetWidth)return requestAnimationFrame(e);d.setColor(t.default),d._rePositioningPicker(),t.defaultRepresentation&&(d._representation=t.defaultRepresentation,d.setColorRepresentation(d._representation)),t.showAlways&&d.show(),d._initializingActive=!1,d._emit(\"init\")}))}_preBuild(){const{options:t}=this;for(const e of[\"el\",\"container\"])t[e]=p(t[e]);this._root=(t=>{const{components:e,useAsButton:o,inline:n,appClass:i,theme:r,lockOpacity:s}=t.options,a=t=>t?\"\":'style=\"display:none\" hidden',c=e=>t._t(e),p=l(`\\n      <div :ref=\"root\" class=\"pickr\">\\n\\n        ${o?\"\":'<button type=\"button\" :ref=\"button\" class=\"pcr-button\"></button>'}\\n\\n        <div :ref=\"app\" class=\"pcr-app ${i||\"\"}\" data-theme=\"${r}\" ${n?'style=\"position: unset\"':\"\"} aria-label=\"${c(\"ui:dialog\")}\" role=\"window\">\\n          <div class=\"pcr-selection\" ${a(e.palette)}>\\n            <div :obj=\"preview\" class=\"pcr-color-preview\" ${a(e.preview)}>\\n              <button type=\"button\" :ref=\"lastColor\" class=\"pcr-last-color\" aria-label=\"${c(\"btn:last-color\")}\"></button>\\n              <div :ref=\"currentColor\" class=\"pcr-current-color\"></div>\\n            </div>\\n\\n            <div :obj=\"palette\" class=\"pcr-color-palette\">\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"palette\" class=\"pcr-palette\" tabindex=\"0\" aria-label=\"${c(\"aria:palette\")}\" role=\"listbox\"></div>\\n            </div>\\n\\n            <div :obj=\"hue\" class=\"pcr-color-chooser\" ${a(e.hue)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-hue pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:hue\")}\" role=\"slider\"></div>\\n            </div>\\n\\n            <div :obj=\"opacity\" class=\"pcr-color-opacity\" ${a(e.opacity)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-opacity pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:opacity\")}\" role=\"slider\"></div>\\n            </div>\\n          </div>\\n\\n          <div class=\"pcr-swatches ${e.palette?\"\":\"pcr-last\"}\" :ref=\"swatches\"></div>\\n\\n          <div :obj=\"interaction\" class=\"pcr-interaction\" ${a(Object.keys(e.interaction).length)}>\\n            <input :ref=\"result\" class=\"pcr-result\" type=\"text\" spellcheck=\"false\" ${a(e.interaction.input)} aria-label=\"${c(\"aria:input\")}\">\\n\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HEXA\" value=\"${s?\"HEX\":\"HEXA\"}\" type=\"button\" ${a(e.interaction.hex)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"RGBA\" value=\"${s?\"RGB\":\"RGBA\"}\" type=\"button\" ${a(e.interaction.rgba)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSLA\" value=\"${s?\"HSL\":\"HSLA\"}\" type=\"button\" ${a(e.interaction.hsla)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSVA\" value=\"${s?\"HSV\":\"HSVA\"}\" type=\"button\" ${a(e.interaction.hsva)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"CMYK\" value=\"CMYK\" type=\"button\" ${a(e.interaction.cmyk)}>\\n\\n            <input :ref=\"save\" class=\"pcr-save\" value=\"${c(\"btn:save\")}\" type=\"button\" ${a(e.interaction.save)} aria-label=\"${c(\"aria:btn:save\")}\">\\n            <input :ref=\"cancel\" class=\"pcr-cancel\" value=\"${c(\"btn:cancel\")}\" type=\"button\" ${a(e.interaction.cancel)} aria-label=\"${c(\"aria:btn:cancel\")}\">\\n            <input :ref=\"clear\" class=\"pcr-clear\" value=\"${c(\"btn:clear\")}\" type=\"button\" ${a(e.interaction.clear)} aria-label=\"${c(\"aria:btn:clear\")}\">\\n          </div>\\n        </div>\\n      </div>\\n    `),u=p.interaction;return u.options.find(t=>!t.hidden&&!t.classList.add(\"active\")),u.type=()=>u.options.find(t=>t.classList.contains(\"active\")),p})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const o=t.el.parentElement;t.el.nextSibling?o.insertBefore(e.app,t.el.nextSibling):o.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition=\"none\",t.useAsButton||(e.preview.lastColor.style.transition=\"none\")),this.hide()}_buildComponents(){const t=this,e=this.options.components,o=(t.options.sliders||\"v\").repeat(2),[n,i]=o.match(/^[vh]+$/g)?o:[],r=()=>this._color||(this._color=this._lastColor.clone()),s={palette:$({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o,n){if(!e.palette)return;const i=r(),{_root:s,options:a}=t,{lastColor:l,currentColor:c}=s.preview;t._recalc&&(i.s=100*o,i.v=100-100*n,i.v<0&&(i.v=0),t._updateOutput(\"slider\"));const p=i.toRGBA().toString(0);this.element.style.background=p,this.wrapper.style.background=`\\n                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),\\n                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))\\n                    `,a.comparison?a.useAsButton||t._lastColor||(l.style.color=p):(s.button.style.color=p,s.button.classList.remove(\"clear\"));const u=i.toHEXA().toString();for(const{el:e,color:o}of t._swatchColors)e.classList[u===o.toHEXA().toString()?\"add\":\"remove\"](\"pcr-active\");c.style.color=p}}),hue:$({lock:\"v\"===i?\"h\":\"v\",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.hue||!e.palette)return;const n=r();t._recalc&&(n.h=360*o),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,s.palette.trigger()}}),opacity:$({lock:\"v\"===n?\"h\":\"v\",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.opacity||!e.palette)return;const n=r();t._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,s.palette.trigger()}}),selectable:S({elements:t._root.interaction.options,className:\"active\",onchange(e){t._representation=e.target.getAttribute(\"data-type\").toUpperCase(),t._recalc&&t._updateOutput(\"swatch\")}})};this._components=s}_bindEvents(){const{_root:t,options:e}=this,o=[r(t.interaction.clear,\"click\",()=>this._clearColor()),r([t.interaction.cancel,t.preview.lastColor],\"click\",()=>{this._emit(\"cancel\"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),r(t.interaction.save,\"click\",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),r(t.interaction.result,[\"keyup\",\"input\"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit(\"change\",this._color,\"input\",this),this._emit(\"changestop\",\"input\",this)),t.stopImmediatePropagation()}),r(t.interaction.result,[\"focus\",\"blur\"],t=>{this._recalc=\"blur\"===t.type,this._recalc&&this._updateOutput(null)}),r([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],[\"mousedown\",\"touchstart\"],()=>this._recalc=!0,{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;o.push(r(t.button,\"click\",()=>this.isOpen()?this.hide():this.show()),r(document,\"keyup\",t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide()),r(document,[\"touchstart\",\"mousedown\"],e=>{this.isOpen()&&!c(e).some(e=>e===t.app||e===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};u(t.interaction.result,(t,o,n)=>{const i=e[this.getColorRepresentation().toLowerCase()];if(i){const e=i[n],r=t+(e>=100?1e3*o:o);return r<=0?0:Number((r<e?r:e).toPrecision(3))}return t})}if(e.autoReposition&&!e.inline){let t=null;const n=this;o.push(r(window,[\"scroll\",\"resize\"],()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout(()=>t=null,100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout(()=>t=null,100)))},{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:t}=this;if(!t.inline){if(!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+\"px\",t.style.left=(window.innerWidth-e.width)/2+\"px\"}}}_updateOutput(t){const{_root:e,_color:o,options:n}=this;if(e.interaction.type()){const t=\"to\"+e.interaction.type().getAttribute(\"data-type\");e.interaction.result.value=\"function\"==typeof o[t]?o[t]().toString(n.outputPrecision):\"\"}!this._initializingActive&&this._recalc&&this._emit(\"change\",o,t,this)}_clearColor(t=!1){const{_root:e,options:o}=this;o.useAsButton||(e.button.style.color=\"rgba(0, 0, 0, 0.15)\"),e.button.classList.add(\"clear\"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit(\"save\",null),this._emit(\"clear\"))}_parseLocalColor(t){const{values:e,type:o,a:n}=A(t),{lockOpacity:i}=this.options,r=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||i&&r?null:e,type:o}}_t(t){return this.options.i18n[t]||x.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const o=this._eventListener[t]||[],n=o.indexOf(e);return~n&&o.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:o}=this,n=C(...e),i=a(`<button type=\"button\" style=\"color: ${n.toRGBA().toString(0)}\" aria-label=\"${this._t(\"btn:swatch\")}\"/>`);return o.swatches.appendChild(i),t.push({el:i,color:n}),this._eventBindings.push(r(i,\"click\",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit(\"swatchselect\",n),this._emit(\"change\",n,\"swatch\",this)})),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:o}=e;return this._root.swatches.removeChild(o),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.color=n,this.options.useAsButton||(o.style.color=n),o.classList.remove(\"clear\"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit(\"save\",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>s(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove(\"visible\"),this._emit(\"hide\"),this}show(){return this.options.disabled||(this._root.app.classList.add(\"visible\"),this._rePositioningPicker(),this._emit(\"show\",this._color)),this}isOpen(){return this._root.app.classList.contains(\"visible\")}setHSVA(t=360,e=0,o=0,n=1,i=!1){const r=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||o<0||o>100||n<0||n>1)return!1;this._color=C(t,e,o,n);const{hue:s,opacity:a,palette:l}=this._components;return s.update(t/360),a.update(n),l.update(e/100,1-o/100),i||this.applyColor(),r&&this._updateOutput(),this._recalc=r,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:o,type:n}=this._parseLocalColor(t);if(o){const t=n.toUpperCase(),{options:i}=this._root.interaction,r=i.find(e=>e.getAttribute(\"data-type\")===t);if(r&&!r.hidden)for(const t of i)t.classList[t===r?\"add\":\"remove\"](\"active\");return!!this.setHSVA(...o,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute(\"data-type\").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add(\"disabled\"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove(\"disabled\"),this}}L(x,\"utils\",n),L(x,\"version\",\"1.8.0\"),L(x,\"I18N_DEFAULTS\",{\"ui:dialog\":\"color picker dialog\",\"btn:toggle\":\"toggle color picker dialog\",\"btn:swatch\":\"color swatch\",\"btn:last-color\":\"use previous color\",\"btn:save\":\"Save\",\"btn:cancel\":\"Cancel\",\"btn:clear\":\"Clear\",\"aria:btn:save\":\"save and close\",\"aria:btn:cancel\":\"cancel and close\",\"aria:btn:clear\":\"clear and close\",\"aria:input\":\"color input field\",\"aria:palette\":\"color selection area\",\"aria:hue\":\"hue selection slider\",\"aria:opacity\":\"selection slider\"}),L(x,\"DEFAULT_OPTIONS\",{appClass:null,theme:\"classic\",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:\"body\",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:\"#42445a\",defaultRepresentation:null,position:\"bottom-middle\",adjustableNumbers:!0,showAlways:!1,closeWithKey:\"Escape\"}),L(x,\"create\",t=>new x(t));e.default=x}]).default}));\n//# sourceMappingURL=pickr.min.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 3099:\n/***/ (function(module) {\n\nmodule.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ 6077:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(111);\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ 1223:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(5112);\nvar create = __webpack_require__(30);\nvar definePropertyModule = __webpack_require__(3070);\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n\n\n/***/ }),\n\n/***/ 1530:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar charAt = __webpack_require__(8710).charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n\n\n/***/ }),\n\n/***/ 5787:\n/***/ (function(module) {\n\nmodule.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ 9670:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(111);\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n\n\n/***/ }),\n\n/***/ 4019:\n/***/ (function(module) {\n\nmodule.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar NATIVE_ARRAY_BUFFER = __webpack_require__(4019);\nvar DESCRIPTORS = __webpack_require__(9781);\nvar global = __webpack_require__(7854);\nvar isObject = __webpack_require__(111);\nvar has = __webpack_require__(6656);\nvar classof = __webpack_require__(648);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar redefine = __webpack_require__(1320);\nvar defineProperty = __webpack_require__(3070).f;\nvar getPrototypeOf = __webpack_require__(9518);\nvar setPrototypeOf = __webpack_require__(7674);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar uid = __webpack_require__(9711);\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n      delete TypedArrayConstructor.prototype[KEY];\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n        delete TypedArrayConstructor[KEY];\n      }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n\n\n/***/ }),\n\n/***/ 3331:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(7854);\nvar DESCRIPTORS = __webpack_require__(9781);\nvar NATIVE_ARRAY_BUFFER = __webpack_require__(4019);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar redefineAll = __webpack_require__(2248);\nvar fails = __webpack_require__(7293);\nvar anInstance = __webpack_require__(5787);\nvar toInteger = __webpack_require__(9958);\nvar toLength = __webpack_require__(7466);\nvar toIndex = __webpack_require__(7067);\nvar IEEE754 = __webpack_require__(1179);\nvar getPrototypeOf = __webpack_require__(9518);\nvar setPrototypeOf = __webpack_require__(7674);\nvar getOwnPropertyNames = __webpack_require__(8006).f;\nvar defineProperty = __webpack_require__(3070).f;\nvar arrayFill = __webpack_require__(1285);\nvar setToStringTag = __webpack_require__(8003);\nvar InternalStateModule = __webpack_require__(9909);\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  /* eslint-disable no-new -- required for testing */\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1);\n  }) || fails(function () {\n    new NativeArrayBuffer();\n    new NativeArrayBuffer(1.5);\n    new NativeArrayBuffer(NaN);\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n  /* eslint-enable no-new -- required for testing */\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n\n\n/***/ }),\n\n/***/ 1048:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toObject = __webpack_require__(7908);\nvar toAbsoluteIndex = __webpack_require__(1400);\nvar toLength = __webpack_require__(7466);\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.copywithin\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n\n\n/***/ }),\n\n/***/ 1285:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toObject = __webpack_require__(7908);\nvar toAbsoluteIndex = __webpack_require__(1400);\nvar toLength = __webpack_require__(7466);\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 8533:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $forEach = __webpack_require__(2092).forEach;\nvar arrayMethodIsStrict = __webpack_require__(9341);\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n\n\n/***/ }),\n\n/***/ 8457:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar bind = __webpack_require__(9974);\nvar toObject = __webpack_require__(7908);\nvar callWithSafeIterationClosing = __webpack_require__(3411);\nvar isArrayIteratorMethod = __webpack_require__(7659);\nvar toLength = __webpack_require__(7466);\nvar createProperty = __webpack_require__(6135);\nvar getIteratorMethod = __webpack_require__(1246);\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 1318:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toIndexedObject = __webpack_require__(5656);\nvar toLength = __webpack_require__(7466);\nvar toAbsoluteIndex = __webpack_require__(1400);\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n\n/***/ 2092:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar bind = __webpack_require__(9974);\nvar IndexedObject = __webpack_require__(8361);\nvar toObject = __webpack_require__(7908);\nvar toLength = __webpack_require__(7466);\nvar arraySpeciesCreate = __webpack_require__(5417);\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n\n\n/***/ }),\n\n/***/ 6583:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toIndexedObject = __webpack_require__(5656);\nvar toInteger = __webpack_require__(9958);\nvar toLength = __webpack_require__(7466);\nvar arrayMethodIsStrict = __webpack_require__(9341);\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n\n\n/***/ }),\n\n/***/ 1194:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar V8_VERSION = __webpack_require__(7392);\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n\n\n/***/ }),\n\n/***/ 9341:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fails = __webpack_require__(7293);\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n\n\n/***/ }),\n\n/***/ 3671:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar aFunction = __webpack_require__(3099);\nvar toObject = __webpack_require__(7908);\nvar IndexedObject = __webpack_require__(8361);\nvar toLength = __webpack_require__(7466);\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n\n\n/***/ }),\n\n/***/ 5417:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(111);\nvar isArray = __webpack_require__(3157);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n\n\n/***/ }),\n\n/***/ 3411:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9670);\nvar iteratorClose = __webpack_require__(9212);\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n\n\n/***/ }),\n\n/***/ 7072:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n\n\n/***/ }),\n\n/***/ 4326:\n/***/ (function(module) {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n/***/ }),\n\n/***/ 648:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(1694);\nvar classofRaw = __webpack_require__(4326);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n\n\n/***/ }),\n\n/***/ 9920:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar has = __webpack_require__(6656);\nvar ownKeys = __webpack_require__(3887);\nvar getOwnPropertyDescriptorModule = __webpack_require__(1236);\nvar definePropertyModule = __webpack_require__(3070);\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n\n\n/***/ }),\n\n/***/ 8544:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\n\n/***/ }),\n\n/***/ 4994:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar IteratorPrototype = __webpack_require__(3383).IteratorPrototype;\nvar create = __webpack_require__(30);\nvar createPropertyDescriptor = __webpack_require__(9114);\nvar setToStringTag = __webpack_require__(8003);\nvar Iterators = __webpack_require__(7497);\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n\n\n/***/ }),\n\n/***/ 8880:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(9781);\nvar definePropertyModule = __webpack_require__(3070);\nvar createPropertyDescriptor = __webpack_require__(9114);\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n\n/***/ 9114:\n/***/ (function(module) {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n\n/***/ 6135:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toPrimitive = __webpack_require__(7593);\nvar definePropertyModule = __webpack_require__(3070);\nvar createPropertyDescriptor = __webpack_require__(9114);\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n\n\n/***/ }),\n\n/***/ 654:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar createIteratorConstructor = __webpack_require__(4994);\nvar getPrototypeOf = __webpack_require__(9518);\nvar setPrototypeOf = __webpack_require__(7674);\nvar setToStringTag = __webpack_require__(8003);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar redefine = __webpack_require__(1320);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar IS_PURE = __webpack_require__(1913);\nvar Iterators = __webpack_require__(7497);\nvar IteratorsCore = __webpack_require__(3383);\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n\n\n/***/ }),\n\n/***/ 9781:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar isObject = __webpack_require__(111);\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n\n/***/ 8324:\n/***/ (function(module) {\n\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n\n\n/***/ }),\n\n/***/ 8113:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(5005);\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n\n/***/ }),\n\n/***/ 7392:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar userAgent = __webpack_require__(8113);\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n\n\n/***/ }),\n\n/***/ 748:\n/***/ (function(module) {\n\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/***/ }),\n\n/***/ 2109:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar getOwnPropertyDescriptor = __webpack_require__(1236).f;\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar redefine = __webpack_require__(1320);\nvar setGlobal = __webpack_require__(3505);\nvar copyConstructorProperties = __webpack_require__(9920);\nvar isForced = __webpack_require__(4705);\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n\n\n/***/ }),\n\n/***/ 7293:\n/***/ (function(module) {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ 7007:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\n// TODO: Remove from `core-js@4` since it's moved to entry points\n__webpack_require__(4916);\nvar redefine = __webpack_require__(1320);\nvar fails = __webpack_require__(7293);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar regexpExec = __webpack_require__(2261);\nvar createNonEnumerableProperty = __webpack_require__(8880);\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n\n\n/***/ }),\n\n/***/ 9974:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar aFunction = __webpack_require__(3099);\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ 5005:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar path = __webpack_require__(857);\nvar global = __webpack_require__(7854);\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n\n\n/***/ }),\n\n/***/ 1246:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar classof = __webpack_require__(648);\nvar Iterators = __webpack_require__(7497);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n\n/***/ 8554:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9670);\nvar getIteratorMethod = __webpack_require__(1246);\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n\n\n/***/ }),\n\n/***/ 647:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toObject = __webpack_require__(7908);\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n\n\n/***/ }),\n\n/***/ 7854:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  /* global globalThis -- safe */\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\n\n/***/ }),\n\n/***/ 6656:\n/***/ (function(module) {\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n/***/ }),\n\n/***/ 3501:\n/***/ (function(module) {\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 490:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(5005);\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n\n\n/***/ }),\n\n/***/ 4664:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(9781);\nvar fails = __webpack_require__(7293);\nvar createElement = __webpack_require__(317);\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\n\n/***/ }),\n\n/***/ 1179:\n/***/ (function(module) {\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare -- NaN check\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n\n\n/***/ }),\n\n/***/ 8361:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\nvar classof = __webpack_require__(4326);\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n\n/***/ }),\n\n/***/ 9587:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(111);\nvar setPrototypeOf = __webpack_require__(7674);\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n\n\n/***/ }),\n\n/***/ 2788:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar store = __webpack_require__(5465);\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n\n/***/ 9909:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar NATIVE_WEAK_MAP = __webpack_require__(8536);\nvar global = __webpack_require__(7854);\nvar isObject = __webpack_require__(111);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar objectHas = __webpack_require__(6656);\nvar shared = __webpack_require__(5465);\nvar sharedKey = __webpack_require__(6200);\nvar hiddenKeys = __webpack_require__(3501);\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n\n/***/ 7659:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(5112);\nvar Iterators = __webpack_require__(7497);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n\n\n/***/ }),\n\n/***/ 3157:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar classof = __webpack_require__(4326);\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n\n\n/***/ }),\n\n/***/ 4705:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module) {\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/***/ }),\n\n/***/ 1913:\n/***/ (function(module) {\n\nmodule.exports = false;\n\n\n/***/ }),\n\n/***/ 7850:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(111);\nvar classof = __webpack_require__(4326);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n\n\n/***/ }),\n\n/***/ 9212:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9670);\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n\n\n/***/ }),\n\n/***/ 3383:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fails = __webpack_require__(7293);\nvar getPrototypeOf = __webpack_require__(9518);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar has = __webpack_require__(6656);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar IS_PURE = __webpack_require__(1913);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n\n\n/***/ }),\n\n/***/ 7497:\n/***/ (function(module) {\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  /* global Symbol -- required for testing */\n  return !String(Symbol());\n});\n\n\n/***/ }),\n\n/***/ 590:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar IS_PURE = __webpack_require__(1913);\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n\n\n/***/ }),\n\n/***/ 8536:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar inspectSource = __webpack_require__(2788);\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n\n/***/ }),\n\n/***/ 1574:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar DESCRIPTORS = __webpack_require__(9781);\nvar fails = __webpack_require__(7293);\nvar objectKeys = __webpack_require__(1956);\nvar getOwnPropertySymbolsModule = __webpack_require__(5181);\nvar propertyIsEnumerableModule = __webpack_require__(5296);\nvar toObject = __webpack_require__(7908);\nvar IndexedObject = __webpack_require__(8361);\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  /* global Symbol -- required for testing */\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9670);\nvar defineProperties = __webpack_require__(6048);\nvar enumBugKeys = __webpack_require__(748);\nvar hiddenKeys = __webpack_require__(3501);\nvar html = __webpack_require__(490);\nvar documentCreateElement = __webpack_require__(317);\nvar sharedKey = __webpack_require__(6200);\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n\n\n/***/ }),\n\n/***/ 6048:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(9781);\nvar definePropertyModule = __webpack_require__(3070);\nvar anObject = __webpack_require__(9670);\nvar objectKeys = __webpack_require__(1956);\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 3070:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(9781);\nvar IE8_DOM_DEFINE = __webpack_require__(4664);\nvar anObject = __webpack_require__(9670);\nvar toPrimitive = __webpack_require__(7593);\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 1236:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(9781);\nvar propertyIsEnumerableModule = __webpack_require__(5296);\nvar createPropertyDescriptor = __webpack_require__(9114);\nvar toIndexedObject = __webpack_require__(5656);\nvar toPrimitive = __webpack_require__(7593);\nvar has = __webpack_require__(6656);\nvar IE8_DOM_DEFINE = __webpack_require__(4664);\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ 8006:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\nvar internalObjectKeys = __webpack_require__(6324);\nvar enumBugKeys = __webpack_require__(748);\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ 5181:\n/***/ (function(__unused_webpack_module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ 9518:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar has = __webpack_require__(6656);\nvar toObject = __webpack_require__(7908);\nvar sharedKey = __webpack_require__(6200);\nvar CORRECT_PROTOTYPE_GETTER = __webpack_require__(8544);\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n\n\n/***/ }),\n\n/***/ 6324:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar has = __webpack_require__(6656);\nvar toIndexedObject = __webpack_require__(5656);\nvar indexOf = __webpack_require__(1318).indexOf;\nvar hiddenKeys = __webpack_require__(3501);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 1956:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar internalObjectKeys = __webpack_require__(6324);\nvar enumBugKeys = __webpack_require__(748);\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n\n/***/ 5296:\n/***/ (function(__unused_webpack_module, exports) {\n\n\"use strict\";\n\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ 7674:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n/* eslint-disable no-proto -- safe */\nvar anObject = __webpack_require__(9670);\nvar aPossiblePrototype = __webpack_require__(6077);\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(1694);\nvar classof = __webpack_require__(648);\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n\n\n/***/ }),\n\n/***/ 3887:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar getBuiltIn = __webpack_require__(5005);\nvar getOwnPropertyNamesModule = __webpack_require__(8006);\nvar getOwnPropertySymbolsModule = __webpack_require__(5181);\nvar anObject = __webpack_require__(9670);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n\n\n/***/ }),\n\n/***/ 857:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\n\nmodule.exports = global;\n\n\n/***/ }),\n\n/***/ 2248:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar redefine = __webpack_require__(1320);\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n\n\n/***/ }),\n\n/***/ 1320:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar has = __webpack_require__(6656);\nvar setGlobal = __webpack_require__(3505);\nvar inspectSource = __webpack_require__(2788);\nvar InternalStateModule = __webpack_require__(9909);\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n\n\n/***/ }),\n\n/***/ 7651:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar classof = __webpack_require__(4326);\nvar regexpExec = __webpack_require__(2261);\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n\n\n/***/ }),\n\n/***/ 2261:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar regexpFlags = __webpack_require__(7066);\nvar stickyHelpers = __webpack_require__(2999);\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\n// eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n\n\n/***/ }),\n\n/***/ 7066:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar anObject = __webpack_require__(9670);\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 2999:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar fails = __webpack_require__(7293);\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\n\n/***/ }),\n\n/***/ 4488:\n/***/ (function(module) {\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 3505:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar createNonEnumerableProperty = __webpack_require__(8880);\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n\n/***/ 6340:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar getBuiltIn = __webpack_require__(5005);\nvar definePropertyModule = __webpack_require__(3070);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar DESCRIPTORS = __webpack_require__(9781);\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n\n\n/***/ }),\n\n/***/ 8003:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar defineProperty = __webpack_require__(3070).f;\nvar has = __webpack_require__(6656);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n\n\n/***/ }),\n\n/***/ 6200:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar shared = __webpack_require__(2309);\nvar uid = __webpack_require__(9711);\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n\n/***/ 5465:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar setGlobal = __webpack_require__(3505);\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n\n\n/***/ }),\n\n/***/ 2309:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar IS_PURE = __webpack_require__(1913);\nvar store = __webpack_require__(5465);\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.9.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n\n\n/***/ }),\n\n/***/ 6707:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9670);\nvar aFunction = __webpack_require__(3099);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n\n\n/***/ }),\n\n/***/ 8710:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(9958);\nvar requireObjectCoercible = __webpack_require__(4488);\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n\n\n/***/ }),\n\n/***/ 3197:\n/***/ (function(module) {\n\n\"use strict\";\n\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line max-statements -- TODO\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n\n\n/***/ }),\n\n/***/ 6091:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar fails = __webpack_require__(7293);\nvar whitespaces = __webpack_require__(1361);\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n\n\n/***/ }),\n\n/***/ 3111:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar requireObjectCoercible = __webpack_require__(4488);\nvar whitespaces = __webpack_require__(1361);\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n\n\n/***/ }),\n\n/***/ 1400:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(9958);\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n\n/***/ 7067:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(9958);\nvar toLength = __webpack_require__(7466);\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n\n\n/***/ }),\n\n/***/ 5656:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(8361);\nvar requireObjectCoercible = __webpack_require__(4488);\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n\n/***/ 9958:\n/***/ (function(module) {\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\n\n/***/ }),\n\n/***/ 7466:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(9958);\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n\n/***/ 7908:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar requireObjectCoercible = __webpack_require__(4488);\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n\n/***/ 4590:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toPositiveInteger = __webpack_require__(3002);\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n\n\n/***/ }),\n\n/***/ 3002:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(9958);\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 7593:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(111);\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n\n/***/ 1694:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n/***/ }),\n\n/***/ 9843:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar global = __webpack_require__(7854);\nvar DESCRIPTORS = __webpack_require__(9781);\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = __webpack_require__(3832);\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar ArrayBufferModule = __webpack_require__(3331);\nvar anInstance = __webpack_require__(5787);\nvar createPropertyDescriptor = __webpack_require__(9114);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar toLength = __webpack_require__(7466);\nvar toIndex = __webpack_require__(7067);\nvar toOffset = __webpack_require__(4590);\nvar toPrimitive = __webpack_require__(7593);\nvar has = __webpack_require__(6656);\nvar classof = __webpack_require__(648);\nvar isObject = __webpack_require__(111);\nvar create = __webpack_require__(30);\nvar setPrototypeOf = __webpack_require__(7674);\nvar getOwnPropertyNames = __webpack_require__(8006).f;\nvar typedArrayFrom = __webpack_require__(7321);\nvar forEach = __webpack_require__(2092).forEach;\nvar setSpecies = __webpack_require__(6340);\nvar definePropertyModule = __webpack_require__(3070);\nvar getOwnPropertyDescriptorModule = __webpack_require__(1236);\nvar InternalStateModule = __webpack_require__(9909);\nvar inheritIfRequired = __webpack_require__(9587);\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n\n\n/***/ }),\n\n/***/ 3832:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n/* eslint-disable no-new -- required for testing */\nvar global = __webpack_require__(7854);\nvar fails = __webpack_require__(7293);\nvar checkCorrectnessOfIteration = __webpack_require__(7072);\nvar NATIVE_ARRAY_BUFFER_VIEWS = __webpack_require__(260).NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n\n\n/***/ }),\n\n/***/ 3074:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar aTypedArrayConstructor = __webpack_require__(260).aTypedArrayConstructor;\nvar speciesConstructor = __webpack_require__(6707);\n\nmodule.exports = function (instance, list) {\n  var C = speciesConstructor(instance, instance.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 7321:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar toObject = __webpack_require__(7908);\nvar toLength = __webpack_require__(7466);\nvar getIteratorMethod = __webpack_require__(1246);\nvar isArrayIteratorMethod = __webpack_require__(7659);\nvar bind = __webpack_require__(9974);\nvar aTypedArrayConstructor = __webpack_require__(260).aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 9711:\n/***/ (function(module) {\n\nvar id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n\n\n/***/ }),\n\n/***/ 3307:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar NATIVE_SYMBOL = __webpack_require__(133);\n\nmodule.exports = NATIVE_SYMBOL\n  /* global Symbol -- safe */\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n\n\n/***/ }),\n\n/***/ 5112:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar shared = __webpack_require__(2309);\nvar has = __webpack_require__(6656);\nvar uid = __webpack_require__(9711);\nvar NATIVE_SYMBOL = __webpack_require__(133);\nvar USE_SYMBOL_AS_UID = __webpack_require__(3307);\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n\n/***/ 1361:\n/***/ (function(module) {\n\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n/***/ }),\n\n/***/ 8264:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar global = __webpack_require__(7854);\nvar arrayBufferModule = __webpack_require__(3331);\nvar setSpecies = __webpack_require__(6340);\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n\n\n/***/ }),\n\n/***/ 2222:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar fails = __webpack_require__(7293);\nvar isArray = __webpack_require__(3157);\nvar isObject = __webpack_require__(111);\nvar toObject = __webpack_require__(7908);\nvar toLength = __webpack_require__(7466);\nvar createProperty = __webpack_require__(6135);\nvar arraySpeciesCreate = __webpack_require__(5417);\nvar arrayMethodHasSpeciesSupport = __webpack_require__(1194);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar V8_VERSION = __webpack_require__(7392);\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n\n\n/***/ }),\n\n/***/ 7327:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar $filter = __webpack_require__(2092).filter;\nvar arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n\n/***/ 2772:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar $indexOf = __webpack_require__(1318).indexOf;\nvar arrayMethodIsStrict = __webpack_require__(9341);\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n\n/***/ 6992:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar toIndexedObject = __webpack_require__(5656);\nvar addToUnscopables = __webpack_require__(1223);\nvar Iterators = __webpack_require__(7497);\nvar InternalStateModule = __webpack_require__(9909);\nvar defineIterator = __webpack_require__(654);\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/***/ }),\n\n/***/ 1249:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar $map = __webpack_require__(2092).map;\nvar arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/***/ }),\n\n/***/ 7042:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar isObject = __webpack_require__(111);\nvar isArray = __webpack_require__(3157);\nvar toAbsoluteIndex = __webpack_require__(1400);\nvar toLength = __webpack_require__(7466);\nvar toIndexedObject = __webpack_require__(5656);\nvar createProperty = __webpack_require__(6135);\nvar wellKnownSymbol = __webpack_require__(5112);\nvar arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n\n\n/***/ }),\n\n/***/ 561:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar toAbsoluteIndex = __webpack_require__(1400);\nvar toInteger = __webpack_require__(9958);\nvar toLength = __webpack_require__(7466);\nvar toObject = __webpack_require__(7908);\nvar arraySpeciesCreate = __webpack_require__(5417);\nvar createProperty = __webpack_require__(6135);\nvar arrayMethodHasSpeciesSupport = __webpack_require__(1194);\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n\n\n/***/ }),\n\n/***/ 8309:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(9781);\nvar defineProperty = __webpack_require__(3070).f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n\n\n/***/ }),\n\n/***/ 489:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\nvar $ = __webpack_require__(2109);\nvar fails = __webpack_require__(7293);\nvar toObject = __webpack_require__(7908);\nvar nativeGetPrototypeOf = __webpack_require__(9518);\nvar CORRECT_PROTOTYPE_GETTER = __webpack_require__(8544);\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n\n\n/***/ }),\n\n/***/ 1539:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(1694);\nvar redefine = __webpack_require__(1320);\nvar toString = __webpack_require__(288);\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ 4916:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar exec = __webpack_require__(2261);\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n\n\n/***/ }),\n\n/***/ 9714:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar redefine = __webpack_require__(1320);\nvar anObject = __webpack_require__(9670);\nvar fails = __webpack_require__(7293);\nvar flags = __webpack_require__(7066);\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ 8783:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar charAt = __webpack_require__(8710).charAt;\nvar InternalStateModule = __webpack_require__(9909);\nvar defineIterator = __webpack_require__(654);\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n\n\n/***/ }),\n\n/***/ 4723:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fixRegExpWellKnownSymbolLogic = __webpack_require__(7007);\nvar anObject = __webpack_require__(9670);\nvar toLength = __webpack_require__(7466);\nvar requireObjectCoercible = __webpack_require__(4488);\nvar advanceStringIndex = __webpack_require__(1530);\nvar regExpExec = __webpack_require__(7651);\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n\n\n/***/ }),\n\n/***/ 5306:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fixRegExpWellKnownSymbolLogic = __webpack_require__(7007);\nvar anObject = __webpack_require__(9670);\nvar toLength = __webpack_require__(7466);\nvar toInteger = __webpack_require__(9958);\nvar requireObjectCoercible = __webpack_require__(4488);\nvar advanceStringIndex = __webpack_require__(1530);\nvar getSubstitution = __webpack_require__(647);\nvar regExpExec = __webpack_require__(7651);\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n\n\n/***/ }),\n\n/***/ 3123:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar fixRegExpWellKnownSymbolLogic = __webpack_require__(7007);\nvar isRegExp = __webpack_require__(7850);\nvar anObject = __webpack_require__(9670);\nvar requireObjectCoercible = __webpack_require__(4488);\nvar speciesConstructor = __webpack_require__(6707);\nvar advanceStringIndex = __webpack_require__(1530);\nvar toLength = __webpack_require__(7466);\nvar callRegExpExec = __webpack_require__(7651);\nvar regexpExec = __webpack_require__(2261);\nvar fails = __webpack_require__(7293);\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n\n\n/***/ }),\n\n/***/ 3210:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $ = __webpack_require__(2109);\nvar $trim = __webpack_require__(3111).trim;\nvar forcedStringTrimMethod = __webpack_require__(6091);\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n\n\n/***/ }),\n\n/***/ 2990:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $copyWithin = __webpack_require__(1048);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 8927:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $every = __webpack_require__(2092).every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 3105:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $fill = __webpack_require__(1285);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n\n\n/***/ }),\n\n/***/ 5035:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $filter = __webpack_require__(2092).filter;\nvar fromSpeciesAndList = __webpack_require__(3074);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  return fromSpeciesAndList(this, list);\n});\n\n\n/***/ }),\n\n/***/ 7174:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $findIndex = __webpack_require__(2092).findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 4345:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $find = __webpack_require__(2092).find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 2846:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $forEach = __webpack_require__(2092).forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 4731:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $includes = __webpack_require__(1318).includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 7209:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $indexOf = __webpack_require__(1318).indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 6319:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(7854);\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar ArrayIterators = __webpack_require__(6992);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n\n\n/***/ }),\n\n/***/ 8867:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n\n\n/***/ }),\n\n/***/ 7789:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $lastIndexOf = __webpack_require__(6583);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n\n\n/***/ }),\n\n/***/ 3739:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $map = __webpack_require__(2092).map;\nvar speciesConstructor = __webpack_require__(6707);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n\n\n/***/ }),\n\n/***/ 4483:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $reduceRight = __webpack_require__(3671).right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 9368:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $reduce = __webpack_require__(3671).left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 2056:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n\n\n/***/ }),\n\n/***/ 3462:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar toLength = __webpack_require__(7466);\nvar toOffset = __webpack_require__(4590);\nvar toObject = __webpack_require__(7908);\nvar fails = __webpack_require__(7293);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  /* global Int8Array -- safe */\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n\n\n/***/ }),\n\n/***/ 678:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar speciesConstructor = __webpack_require__(6707);\nvar fails = __webpack_require__(7293);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  /* global Int8Array -- safe */\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n\n\n/***/ }),\n\n/***/ 7462:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar $some = __webpack_require__(2092).some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n\n\n/***/ }),\n\n/***/ 3824:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n\n\n/***/ }),\n\n/***/ 5021:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar toLength = __webpack_require__(7466);\nvar toAbsoluteIndex = __webpack_require__(1400);\nvar speciesConstructor = __webpack_require__(6707);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n\n\n/***/ }),\n\n/***/ 2974:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(7854);\nvar ArrayBufferViewCore = __webpack_require__(260);\nvar fails = __webpack_require__(7293);\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n\n\n/***/ }),\n\n/***/ 5016:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\nvar exportTypedArrayMethod = __webpack_require__(260).exportTypedArrayMethod;\nvar fails = __webpack_require__(7293);\nvar global = __webpack_require__(7854);\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n\n\n/***/ }),\n\n/***/ 2472:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\nvar createTypedArrayConstructor = __webpack_require__(9843);\n\n// `Uint8Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n\n\n/***/ }),\n\n/***/ 4747:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar DOMIterables = __webpack_require__(8324);\nvar forEach = __webpack_require__(8533);\nvar createNonEnumerableProperty = __webpack_require__(8880);\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n\n\n/***/ }),\n\n/***/ 3948:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\nvar global = __webpack_require__(7854);\nvar DOMIterables = __webpack_require__(8324);\nvar ArrayIteratorMethods = __webpack_require__(6992);\nvar createNonEnumerableProperty = __webpack_require__(8880);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ 1637:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n__webpack_require__(6992);\nvar $ = __webpack_require__(2109);\nvar getBuiltIn = __webpack_require__(5005);\nvar USE_NATIVE_URL = __webpack_require__(590);\nvar redefine = __webpack_require__(1320);\nvar redefineAll = __webpack_require__(2248);\nvar setToStringTag = __webpack_require__(8003);\nvar createIteratorConstructor = __webpack_require__(4994);\nvar InternalStateModule = __webpack_require__(9909);\nvar anInstance = __webpack_require__(5787);\nvar hasOwn = __webpack_require__(6656);\nvar bind = __webpack_require__(9974);\nvar classof = __webpack_require__(648);\nvar anObject = __webpack_require__(9670);\nvar isObject = __webpack_require__(111);\nvar create = __webpack_require__(30);\nvar createPropertyDescriptor = __webpack_require__(9114);\nvar getIterator = __webpack_require__(8554);\nvar getIteratorMethod = __webpack_require__(1246);\nvar wellKnownSymbol = __webpack_require__(5112);\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.append` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\"use strict\";\n\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n__webpack_require__(8783);\nvar $ = __webpack_require__(2109);\nvar DESCRIPTORS = __webpack_require__(9781);\nvar USE_NATIVE_URL = __webpack_require__(590);\nvar global = __webpack_require__(7854);\nvar defineProperties = __webpack_require__(6048);\nvar redefine = __webpack_require__(1320);\nvar anInstance = __webpack_require__(5787);\nvar has = __webpack_require__(6656);\nvar assign = __webpack_require__(1574);\nvar arrayFrom = __webpack_require__(8457);\nvar codeAt = __webpack_require__(8710).codeAt;\nvar toASCII = __webpack_require__(3197);\nvar setToStringTag = __webpack_require__(8003);\nvar URLSearchParamsModule = __webpack_require__(1637);\nvar InternalStateModule = __webpack_require__(9909);\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n/* eslint-disable no-control-regex -- safe */\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\t\\u000A\\u000D #%/:?@[\\\\]]/;\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\t\\u000A\\u000D #/:?@[\\\\]]/;\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\nvar TAB_AND_NEW_LINE = /[\\t\\u000A\\u000D]/g;\n/* eslint-enable no-control-regex -- safe */\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements -- TODO\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements -- TODO\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/global */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === 'object') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function('return this')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === 'object') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n!function() {\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Dropzone\": function() { return /* reexport */ Dropzone; },\n  \"default\": function() { return /* binding */ dropzone_dist; }\n});\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(2222);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(7327);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\nvar es_array_index_of = __webpack_require__(2772);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(6992);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(1249);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__(7042);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__(561);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.constructor.js\nvar es_array_buffer_constructor = __webpack_require__(8264);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(8309);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-prototype-of.js\nvar es_object_get_prototype_of = __webpack_require__(489);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(1539);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(4916);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__(9714);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__(8783);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\nvar es_string_match = __webpack_require__(4723);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(5306);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__(3123);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim.js\nvar es_string_trim = __webpack_require__(3210);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-array.js\nvar es_typed_array_uint8_array = __webpack_require__(2472);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.copy-within.js\nvar es_typed_array_copy_within = __webpack_require__(2990);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.every.js\nvar es_typed_array_every = __webpack_require__(8927);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.fill.js\nvar es_typed_array_fill = __webpack_require__(3105);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.filter.js\nvar es_typed_array_filter = __webpack_require__(5035);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find.js\nvar es_typed_array_find = __webpack_require__(4345);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-index.js\nvar es_typed_array_find_index = __webpack_require__(7174);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.for-each.js\nvar es_typed_array_for_each = __webpack_require__(2846);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.includes.js\nvar es_typed_array_includes = __webpack_require__(4731);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.index-of.js\nvar es_typed_array_index_of = __webpack_require__(7209);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.iterator.js\nvar es_typed_array_iterator = __webpack_require__(6319);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.join.js\nvar es_typed_array_join = __webpack_require__(8867);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.last-index-of.js\nvar es_typed_array_last_index_of = __webpack_require__(7789);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.map.js\nvar es_typed_array_map = __webpack_require__(3739);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce.js\nvar es_typed_array_reduce = __webpack_require__(9368);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce-right.js\nvar es_typed_array_reduce_right = __webpack_require__(4483);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reverse.js\nvar es_typed_array_reverse = __webpack_require__(2056);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js\nvar es_typed_array_set = __webpack_require__(3462);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.slice.js\nvar es_typed_array_slice = __webpack_require__(678);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.some.js\nvar es_typed_array_some = __webpack_require__(7462);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.sort.js\nvar es_typed_array_sort = __webpack_require__(3824);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.subarray.js\nvar es_typed_array_subarray = __webpack_require__(5021);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-locale-string.js\nvar es_typed_array_to_locale_string = __webpack_require__(2974);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-string.js\nvar es_typed_array_to_string = __webpack_require__(5016);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(4747);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(3948);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(285);\n;// CONCATENATED MODULE: ./src/emitter.js\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// The Emitter class provides the ability to call `.on()` on Dropzone to listen\n// to events.\n// It is strongly based on component's emitter class, and I removed the\n// functionality because of the dependency hell with different frameworks.\nvar Emitter = /*#__PURE__*/function () {\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n  }\n\n  _createClass(Emitter, [{\n    key: \"on\",\n    value: // Add an event listener for given event\n    function on(event, fn) {\n      this._callbacks = this._callbacks || {}; // Create namespace for this event\n\n      if (!this._callbacks[event]) {\n        this._callbacks[event] = [];\n      }\n\n      this._callbacks[event].push(fn);\n\n      return this;\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      this._callbacks = this._callbacks || {};\n      var callbacks = this._callbacks[event];\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (callbacks) {\n        var _iterator = _createForOfIteratorHelper(callbacks, true),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var callback = _step.value;\n            callback.apply(this, args);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } // trigger a corresponding DOM event\n\n\n      if (this.element) {\n        this.element.dispatchEvent(this.makeEvent(\"dropzone:\" + event, {\n          args: args\n        }));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"makeEvent\",\n    value: function makeEvent(eventName, detail) {\n      var params = {\n        bubbles: true,\n        cancelable: true,\n        detail: detail\n      };\n\n      if (typeof window.CustomEvent === \"function\") {\n        return new CustomEvent(eventName, params);\n      } else {\n        // IE 11 support\n        // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n        var evt = document.createEvent(\"CustomEvent\");\n        evt.initCustomEvent(eventName, params.bubbles, params.cancelable, params.detail);\n        return evt;\n      }\n    } // Remove event listener for given event. If fn is not provided, all event\n    // listeners for that event will be removed. If neither is provided, all\n    // event listeners will be removed.\n\n  }, {\n    key: \"off\",\n    value: function off(event, fn) {\n      if (!this._callbacks || arguments.length === 0) {\n        this._callbacks = {};\n        return this;\n      } // specific event\n\n\n      var callbacks = this._callbacks[event];\n\n      if (!callbacks) {\n        return this;\n      } // remove all handlers\n\n\n      if (arguments.length === 1) {\n        delete this._callbacks[event];\n        return this;\n      } // remove specific handler\n\n\n      for (var i = 0; i < callbacks.length; i++) {\n        var callback = callbacks[i];\n\n        if (callback === fn) {\n          callbacks.splice(i, 1);\n          break;\n        }\n      }\n\n      return this;\n    }\n  }]);\n\n  return Emitter;\n}();\n\n\n;// CONCATENATED MODULE: ./src/preview-template.html\n// Module\nvar code = \"<div class=\\\"dz-preview dz-file-preview\\\"> <div class=\\\"dz-image\\\"><img data-dz-thumbnail/></div> <div class=\\\"dz-details\\\"> <div class=\\\"dz-size\\\"><span data-dz-size></span></div> <div class=\\\"dz-filename\\\"><span data-dz-name></span></div> </div> <div class=\\\"dz-progress\\\"> <span class=\\\"dz-upload\\\" data-dz-uploadprogress></span> </div> <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div> <div class=\\\"dz-success-mark\\\"> <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <title>Check</title> <g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\"></path> </g> </svg> </div> <div class=\\\"dz-error-mark\\\"> <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <title>Error</title> <g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <g stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\"> <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\"></path> </g> </g> </svg> </div> </div> \";\n// Exports\n/* harmony default export */ var preview_template = (code);\n;// CONCATENATED MODULE: ./src/options.js\n\n\n\n\n\nfunction options_createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = options_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction options_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return options_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return options_arrayLikeToArray(o, minLen); }\n\nfunction options_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\nvar defaultOptions = {\n  /**\n   * Has to be specified on elements other than form (or when the form\n   * doesn't have an `action` attribute). You can also\n   * provide a function that will be called with `files` and\n   * must return the url (since `v3.12.0`)\n   */\n  url: null,\n\n  /**\n   * Can be changed to `\"put\"` if necessary. You can also provide a function\n   * that will be called with `files` and must return the method (since `v3.12.0`).\n   */\n  method: \"post\",\n\n  /**\n   * Will be set on the XHRequest.\n   */\n  withCredentials: false,\n\n  /**\n   * The timeout for the XHR requests in milliseconds (since `v4.4.0`).\n   * If set to null or 0, no timeout is going to be set.\n   */\n  timeout: null,\n\n  /**\n   * How many file uploads to process in parallel (See the\n   * Enqueuing file uploads documentation section for more info)\n   */\n  parallelUploads: 2,\n\n  /**\n   * Whether to send multiple files in one request. If\n   * this it set to true, then the fallback file input element will\n   * have the `multiple` attribute as well. This option will\n   * also trigger additional events (like `processingmultiple`). See the events\n   * documentation section for more information.\n   */\n  uploadMultiple: false,\n\n  /**\n   * Whether you want files to be uploaded in chunks to your server. This can't be\n   * used in combination with `uploadMultiple`.\n   *\n   * See [chunksUploaded](#config-chunksUploaded) for the callback to finalise an upload.\n   */\n  chunking: false,\n\n  /**\n   * If `chunking` is enabled, this defines whether **every** file should be chunked,\n   * even if the file size is below chunkSize. This means, that the additional chunk\n   * form data will be submitted and the `chunksUploaded` callback will be invoked.\n   */\n  forceChunking: false,\n\n  /**\n   * If `chunking` is `true`, then this defines the chunk size in bytes.\n   */\n  chunkSize: 2000000,\n\n  /**\n   * If `true`, the individual chunks of a file are being uploaded simultaneously.\n   */\n  parallelChunkUploads: false,\n\n  /**\n   * Whether a chunk should be retried if it fails.\n   */\n  retryChunks: false,\n\n  /**\n   * If `retryChunks` is true, how many times should it be retried.\n   */\n  retryChunksLimit: 3,\n\n  /**\n   * The maximum filesize (in bytes) that is allowed to be uploaded.\n   */\n  maxFilesize: 256,\n\n  /**\n   * The name of the file param that gets transferred.\n   * **NOTE**: If you have the option  `uploadMultiple` set to `true`, then\n   * Dropzone will append `[]` to the name.\n   */\n  paramName: \"file\",\n\n  /**\n   * Whether thumbnails for images should be generated\n   */\n  createImageThumbnails: true,\n\n  /**\n   * In MB. When the filename exceeds this limit, the thumbnail will not be generated.\n   */\n  maxThumbnailFilesize: 10,\n\n  /**\n   * If `null`, the ratio of the image will be used to calculate it.\n   */\n  thumbnailWidth: 120,\n\n  /**\n   * The same as `thumbnailWidth`. If both are null, images will not be resized.\n   */\n  thumbnailHeight: 120,\n\n  /**\n   * How the images should be scaled down in case both, `thumbnailWidth` and `thumbnailHeight` are provided.\n   * Can be either `contain` or `crop`.\n   */\n  thumbnailMethod: \"crop\",\n\n  /**\n   * If set, images will be resized to these dimensions before being **uploaded**.\n   * If only one, `resizeWidth` **or** `resizeHeight` is provided, the original aspect\n   * ratio of the file will be preserved.\n   *\n   * The `options.transformFile` function uses these options, so if the `transformFile` function\n   * is overridden, these options don't do anything.\n   */\n  resizeWidth: null,\n\n  /**\n   * See `resizeWidth`.\n   */\n  resizeHeight: null,\n\n  /**\n   * The mime type of the resized image (before it gets uploaded to the server).\n   * If `null` the original mime type will be used. To force jpeg, for example, use `image/jpeg`.\n   * See `resizeWidth` for more information.\n   */\n  resizeMimeType: null,\n\n  /**\n   * The quality of the resized images. See `resizeWidth`.\n   */\n  resizeQuality: 0.8,\n\n  /**\n   * How the images should be scaled down in case both, `resizeWidth` and `resizeHeight` are provided.\n   * Can be either `contain` or `crop`.\n   */\n  resizeMethod: \"contain\",\n\n  /**\n   * The base that is used to calculate the **displayed** filesize. You can\n   * change this to 1024 if you would rather display kibibytes, mebibytes,\n   * etc... 1024 is technically incorrect, because `1024 bytes` are `1 kibibyte`\n   * not `1 kilobyte`. You can change this to `1024` if you don't care about\n   * validity.\n   */\n  filesizeBase: 1000,\n\n  /**\n   * If not `null` defines how many files this Dropzone handles. If it exceeds,\n   * the event `maxfilesexceeded` will be called. The dropzone element gets the\n   * class `dz-max-files-reached` accordingly so you can provide visual\n   * feedback.\n   */\n  maxFiles: null,\n\n  /**\n   * An optional object to send additional headers to the server. Eg:\n   * `{ \"My-Awesome-Header\": \"header value\" }`\n   */\n  headers: null,\n\n  /**\n   * If `true`, the dropzone element itself will be clickable, if `false`\n   * nothing will be clickable.\n   *\n   * You can also pass an HTML element, a CSS selector (for multiple elements)\n   * or an array of those. In that case, all of those elements will trigger an\n   * upload when clicked.\n   */\n  clickable: true,\n\n  /**\n   * Whether hidden files in directories should be ignored.\n   */\n  ignoreHiddenFiles: true,\n\n  /**\n   * The default implementation of `accept` checks the file's mime type or\n   * extension against this list. This is a comma separated list of mime\n   * types or file extensions.\n   *\n   * Eg.: `image/*,application/pdf,.psd`\n   *\n   * If the Dropzone is `clickable` this option will also be used as\n   * [`accept`](https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-accept)\n   * parameter on the hidden file input as well.\n   */\n  acceptedFiles: null,\n\n  /**\n   * **Deprecated!**\n   * Use acceptedFiles instead.\n   */\n  acceptedMimeTypes: null,\n\n  /**\n   * If false, files will be added to the queue but the queue will not be\n   * processed automatically.\n   * This can be useful if you need some additional user input before sending\n   * files (or if you want want all files sent at once).\n   * If you're ready to send the file simply call `myDropzone.processQueue()`.\n   *\n   * See the [enqueuing file uploads](#enqueuing-file-uploads) documentation\n   * section for more information.\n   */\n  autoProcessQueue: true,\n\n  /**\n   * If false, files added to the dropzone will not be queued by default.\n   * You'll have to call `enqueueFile(file)` manually.\n   */\n  autoQueue: true,\n\n  /**\n   * If `true`, this will add a link to every file preview to remove or cancel (if\n   * already uploading) the file. The `dictCancelUpload`, `dictCancelUploadConfirmation`\n   * and `dictRemoveFile` options are used for the wording.\n   */\n  addRemoveLinks: false,\n\n  /**\n   * Defines where to display the file previews  if `null` the\n   * Dropzone element itself is used. Can be a plain `HTMLElement` or a CSS\n   * selector. The element should have the `dropzone-previews` class so\n   * the previews are displayed properly.\n   */\n  previewsContainer: null,\n\n  /**\n   * Set this to `true` if you don't want previews to be shown.\n   */\n  disablePreviews: false,\n\n  /**\n   * This is the element the hidden input field (which is used when clicking on the\n   * dropzone to trigger file selection) will be appended to. This might\n   * be important in case you use frameworks to switch the content of your page.\n   *\n   * Can be a selector string, or an element directly.\n   */\n  hiddenInputContainer: \"body\",\n\n  /**\n   * If null, no capture type will be specified\n   * If camera, mobile devices will skip the file selection and choose camera\n   * If microphone, mobile devices will skip the file selection and choose the microphone\n   * If camcorder, mobile devices will skip the file selection and choose the camera in video mode\n   * On apple devices multiple must be set to false.  AcceptedFiles may need to\n   * be set to an appropriate mime type (e.g. \"image/*\", \"audio/*\", or \"video/*\").\n   */\n  capture: null,\n\n  /**\n   * **Deprecated**. Use `renameFile` instead.\n   */\n  renameFilename: null,\n\n  /**\n   * A function that is invoked before the file is uploaded to the server and renames the file.\n   * This function gets the `File` as argument and can use the `file.name`. The actual name of the\n   * file that gets used during the upload can be accessed through `file.upload.filename`.\n   */\n  renameFile: null,\n\n  /**\n   * If `true` the fallback will be forced. This is very useful to test your server\n   * implementations first and make sure that everything works as\n   * expected without dropzone if you experience problems, and to test\n   * how your fallbacks will look.\n   */\n  forceFallback: false,\n\n  /**\n   * The text used before any files are dropped.\n   */\n  dictDefaultMessage: \"Drop files here to upload\",\n\n  /**\n   * The text that replaces the default message text it the browser is not supported.\n   */\n  dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\n\n  /**\n   * The text that will be added before the fallback form.\n   * If you provide a  fallback element yourself, or if this option is `null` this will\n   * be ignored.\n   */\n  dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\n\n  /**\n   * If the filesize is too big.\n   * `{{filesize}}` and `{{maxFilesize}}` will be replaced with the respective configuration values.\n   */\n  dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n\n  /**\n   * If the file doesn't match the file type.\n   */\n  dictInvalidFileType: \"You can't upload files of this type.\",\n\n  /**\n   * If the server response was invalid.\n   * `{{statusCode}}` will be replaced with the servers status code.\n   */\n  dictResponseError: \"Server responded with {{statusCode}} code.\",\n\n  /**\n   * If `addRemoveLinks` is true, the text to be used for the cancel upload link.\n   */\n  dictCancelUpload: \"Cancel upload\",\n\n  /**\n   * The text that is displayed if an upload was manually canceled\n   */\n  dictUploadCanceled: \"Upload canceled.\",\n\n  /**\n   * If `addRemoveLinks` is true, the text to be used for confirmation when cancelling upload.\n   */\n  dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n\n  /**\n   * If `addRemoveLinks` is true, the text to be used to remove a file.\n   */\n  dictRemoveFile: \"Remove file\",\n\n  /**\n   * If this is not null, then the user will be prompted before removing a file.\n   */\n  dictRemoveFileConfirmation: null,\n\n  /**\n   * Displayed if `maxFiles` is st and exceeded.\n   * The string `{{maxFiles}}` will be replaced by the configuration value.\n   */\n  dictMaxFilesExceeded: \"You can not upload any more files.\",\n\n  /**\n   * Allows you to translate the different units. Starting with `tb` for terabytes and going down to\n   * `b` for bytes.\n   */\n  dictFileSizeUnits: {\n    tb: \"TB\",\n    gb: \"GB\",\n    mb: \"MB\",\n    kb: \"KB\",\n    b: \"b\"\n  },\n\n  /**\n   * Called when dropzone initialized\n   * You can add event listeners here\n   */\n  init: function init() {},\n\n  /**\n   * Can be an **object** of additional parameters to transfer to the server, **or** a `Function`\n   * that gets invoked with the `files`, `xhr` and, if it's a chunked upload, `chunk` arguments. In case\n   * of a function, this needs to return a map.\n   *\n   * The default implementation does nothing for normal uploads, but adds relevant information for\n   * chunked uploads.\n   *\n   * This is the same as adding hidden input fields in the form element.\n   */\n  params: function params(files, xhr, chunk) {\n    if (chunk) {\n      return {\n        dzuuid: chunk.file.upload.uuid,\n        dzchunkindex: chunk.index,\n        dztotalfilesize: chunk.file.size,\n        dzchunksize: this.options.chunkSize,\n        dztotalchunkcount: chunk.file.upload.totalChunkCount,\n        dzchunkbyteoffset: chunk.index * this.options.chunkSize\n      };\n    }\n  },\n\n  /**\n   * A function that gets a [file](https://developer.mozilla.org/en-US/docs/DOM/File)\n   * and a `done` function as parameters.\n   *\n   * If the done function is invoked without arguments, the file is \"accepted\" and will\n   * be processed. If you pass an error message, the file is rejected, and the error\n   * message will be displayed.\n   * This function will not be called if the file is too big or doesn't match the mime types.\n   */\n  accept: function accept(file, done) {\n    return done();\n  },\n\n  /**\n   * The callback that will be invoked when all chunks have been uploaded for a file.\n   * It gets the file for which the chunks have been uploaded as the first parameter,\n   * and the `done` function as second. `done()` needs to be invoked when everything\n   * needed to finish the upload process is done.\n   */\n  chunksUploaded: function chunksUploaded(file, done) {\n    done();\n  },\n\n  /**\n   * Gets called when the browser is not supported.\n   * The default implementation shows the fallback input field and adds\n   * a text.\n   */\n  fallback: function fallback() {\n    // This code should pass in IE7... :(\n    var messageElement;\n    this.element.className = \"\".concat(this.element.className, \" dz-browser-not-supported\");\n\n    var _iterator = options_createForOfIteratorHelper(this.element.getElementsByTagName(\"div\"), true),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var child = _step.value;\n\n        if (/(^| )dz-message($| )/.test(child.className)) {\n          messageElement = child;\n          child.className = \"dz-message\"; // Removes the 'dz-default' class\n\n          break;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (!messageElement) {\n      messageElement = Dropzone.createElement('<div class=\"dz-message\"><span></span></div>');\n      this.element.appendChild(messageElement);\n    }\n\n    var span = messageElement.getElementsByTagName(\"span\")[0];\n\n    if (span) {\n      if (span.textContent != null) {\n        span.textContent = this.options.dictFallbackMessage;\n      } else if (span.innerText != null) {\n        span.innerText = this.options.dictFallbackMessage;\n      }\n    }\n\n    return this.element.appendChild(this.getFallbackForm());\n  },\n\n  /**\n   * Gets called to calculate the thumbnail dimensions.\n   *\n   * It gets `file`, `width` and `height` (both may be `null`) as parameters and must return an object containing:\n   *\n   *  - `srcWidth` & `srcHeight` (required)\n   *  - `trgWidth` & `trgHeight` (required)\n   *  - `srcX` & `srcY` (optional, default `0`)\n   *  - `trgX` & `trgY` (optional, default `0`)\n   *\n   * Those values are going to be used by `ctx.drawImage()`.\n   */\n  resize: function resize(file, width, height, resizeMethod) {\n    var info = {\n      srcX: 0,\n      srcY: 0,\n      srcWidth: file.width,\n      srcHeight: file.height\n    };\n    var srcRatio = file.width / file.height; // Automatically calculate dimensions if not specified\n\n    if (width == null && height == null) {\n      width = info.srcWidth;\n      height = info.srcHeight;\n    } else if (width == null) {\n      width = height * srcRatio;\n    } else if (height == null) {\n      height = width / srcRatio;\n    } // Make sure images aren't upscaled\n\n\n    width = Math.min(width, info.srcWidth);\n    height = Math.min(height, info.srcHeight);\n    var trgRatio = width / height;\n\n    if (info.srcWidth > width || info.srcHeight > height) {\n      // Image is bigger and needs rescaling\n      if (resizeMethod === \"crop\") {\n        if (srcRatio > trgRatio) {\n          info.srcHeight = file.height;\n          info.srcWidth = info.srcHeight * trgRatio;\n        } else {\n          info.srcWidth = file.width;\n          info.srcHeight = info.srcWidth / trgRatio;\n        }\n      } else if (resizeMethod === \"contain\") {\n        // Method 'contain'\n        if (srcRatio > trgRatio) {\n          height = width / srcRatio;\n        } else {\n          width = height * srcRatio;\n        }\n      } else {\n        throw new Error(\"Unknown resizeMethod '\".concat(resizeMethod, \"'\"));\n      }\n    }\n\n    info.srcX = (file.width - info.srcWidth) / 2;\n    info.srcY = (file.height - info.srcHeight) / 2;\n    info.trgWidth = width;\n    info.trgHeight = height;\n    return info;\n  },\n\n  /**\n   * Can be used to transform the file (for example, resize an image if necessary).\n   *\n   * The default implementation uses `resizeWidth` and `resizeHeight` (if provided) and resizes\n   * images according to those dimensions.\n   *\n   * Gets the `file` as the first parameter, and a `done()` function as the second, that needs\n   * to be invoked with the file when the transformation is done.\n   */\n  transformFile: function transformFile(file, done) {\n    if ((this.options.resizeWidth || this.options.resizeHeight) && file.type.match(/image.*/)) {\n      return this.resizeImage(file, this.options.resizeWidth, this.options.resizeHeight, this.options.resizeMethod, done);\n    } else {\n      return done(file);\n    }\n  },\n\n  /**\n   * A string that contains the template used for each dropped\n   * file. Change it to fulfill your needs but make sure to properly\n   * provide all elements.\n   *\n   * If you want to use an actual HTML element instead of providing a String\n   * as a config option, you could create a div with the id `tpl`,\n   * put the template inside it and provide the element like this:\n   *\n   *     document\n   *       .querySelector('#tpl')\n   *       .innerHTML\n   *\n   */\n  previewTemplate: preview_template,\n\n  /*\n   Those functions register themselves to the events on init and handle all\n   the user interface specific stuff. Overwriting them won't break the upload\n   but can break the way it's displayed.\n   You can overwrite them if you don't like the default behavior. If you just\n   want to add an additional event handler, register it on the dropzone object\n   and don't overwrite those options.\n   */\n  // Those are self explanatory and simply concern the DragnDrop.\n  drop: function drop(e) {\n    return this.element.classList.remove(\"dz-drag-hover\");\n  },\n  dragstart: function dragstart(e) {},\n  dragend: function dragend(e) {\n    return this.element.classList.remove(\"dz-drag-hover\");\n  },\n  dragenter: function dragenter(e) {\n    return this.element.classList.add(\"dz-drag-hover\");\n  },\n  dragover: function dragover(e) {\n    return this.element.classList.add(\"dz-drag-hover\");\n  },\n  dragleave: function dragleave(e) {\n    return this.element.classList.remove(\"dz-drag-hover\");\n  },\n  paste: function paste(e) {},\n  // Called whenever there are no files left in the dropzone anymore, and the\n  // dropzone should be displayed as if in the initial state.\n  reset: function reset() {\n    return this.element.classList.remove(\"dz-started\");\n  },\n  // Called when a file is added to the queue\n  // Receives `file`\n  addedfile: function addedfile(file) {\n    var _this = this;\n\n    if (this.element === this.previewsContainer) {\n      this.element.classList.add(\"dz-started\");\n    }\n\n    if (this.previewsContainer && !this.options.disablePreviews) {\n      file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());\n      file.previewTemplate = file.previewElement; // Backwards compatibility\n\n      this.previewsContainer.appendChild(file.previewElement);\n\n      var _iterator2 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-name]\"), true),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var node = _step2.value;\n          node.textContent = file.name;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var _iterator3 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-size]\"), true),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          node = _step3.value;\n          node.innerHTML = this.filesize(file.size);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      if (this.options.addRemoveLinks) {\n        file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\".concat(this.options.dictRemoveFile, \"</a>\"));\n        file.previewElement.appendChild(file._removeLink);\n      }\n\n      var removeFileEvent = function removeFileEvent(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (file.status === Dropzone.UPLOADING) {\n          return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function () {\n            return _this.removeFile(file);\n          });\n        } else {\n          if (_this.options.dictRemoveFileConfirmation) {\n            return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function () {\n              return _this.removeFile(file);\n            });\n          } else {\n            return _this.removeFile(file);\n          }\n        }\n      };\n\n      var _iterator4 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-remove]\"), true),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var removeLink = _step4.value;\n          removeLink.addEventListener(\"click\", removeFileEvent);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  },\n  // Called whenever a file is removed.\n  removedfile: function removedfile(file) {\n    if (file.previewElement != null && file.previewElement.parentNode != null) {\n      file.previewElement.parentNode.removeChild(file.previewElement);\n    }\n\n    return this._updateMaxFilesReachedClass();\n  },\n  // Called when a thumbnail has been generated\n  // Receives `file` and `dataUrl`\n  thumbnail: function thumbnail(file, dataUrl) {\n    if (file.previewElement) {\n      file.previewElement.classList.remove(\"dz-file-preview\");\n\n      var _iterator5 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\"), true),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var thumbnailElement = _step5.value;\n          thumbnailElement.alt = file.name;\n          thumbnailElement.src = dataUrl;\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      return setTimeout(function () {\n        return file.previewElement.classList.add(\"dz-image-preview\");\n      }, 1);\n    }\n  },\n  // Called whenever an error occurs\n  // Receives `file` and `message`\n  error: function error(file, message) {\n    if (file.previewElement) {\n      file.previewElement.classList.add(\"dz-error\");\n\n      if (typeof message !== \"string\" && message.error) {\n        message = message.error;\n      }\n\n      var _iterator6 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-errormessage]\"), true),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var node = _step6.value;\n          node.textContent = message;\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    }\n  },\n  errormultiple: function errormultiple() {},\n  // Called when a file gets processed. Since there is a cue, not all added\n  // files are processed immediately.\n  // Receives `file`\n  processing: function processing(file) {\n    if (file.previewElement) {\n      file.previewElement.classList.add(\"dz-processing\");\n\n      if (file._removeLink) {\n        return file._removeLink.innerHTML = this.options.dictCancelUpload;\n      }\n    }\n  },\n  processingmultiple: function processingmultiple() {},\n  // Called whenever the upload progress gets updated.\n  // Receives `file`, `progress` (percentage 0-100) and `bytesSent`.\n  // To get the total number of bytes of the file, use `file.size`\n  uploadprogress: function uploadprogress(file, progress, bytesSent) {\n    if (file.previewElement) {\n      var _iterator7 = options_createForOfIteratorHelper(file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\"), true),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var node = _step7.value;\n          node.nodeName === \"PROGRESS\" ? node.value = progress : node.style.width = \"\".concat(progress, \"%\");\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n    }\n  },\n  // Called whenever the total upload progress gets updated.\n  // Called with totalUploadProgress (0-100), totalBytes and totalBytesSent\n  totaluploadprogress: function totaluploadprogress() {},\n  // Called just before the file is sent. Gets the `xhr` object as second\n  // parameter, so you can modify it (for example to add a CSRF token) and a\n  // `formData` object to add additional information.\n  sending: function sending() {},\n  sendingmultiple: function sendingmultiple() {},\n  // When the complete upload is finished and successful\n  // Receives `file`\n  success: function success(file) {\n    if (file.previewElement) {\n      return file.previewElement.classList.add(\"dz-success\");\n    }\n  },\n  successmultiple: function successmultiple() {},\n  // When the upload is canceled.\n  canceled: function canceled(file) {\n    return this.emit(\"error\", file, this.options.dictUploadCanceled);\n  },\n  canceledmultiple: function canceledmultiple() {},\n  // When the upload is finished, either with success or an error.\n  // Receives `file`\n  complete: function complete(file) {\n    if (file._removeLink) {\n      file._removeLink.innerHTML = this.options.dictRemoveFile;\n    }\n\n    if (file.previewElement) {\n      return file.previewElement.classList.add(\"dz-complete\");\n    }\n  },\n  completemultiple: function completemultiple() {},\n  maxfilesexceeded: function maxfilesexceeded() {},\n  maxfilesreached: function maxfilesreached() {},\n  queuecomplete: function queuecomplete() {},\n  addedfiles: function addedfiles() {}\n};\n/* harmony default export */ var src_options = (defaultOptions);\n;// CONCATENATED MODULE: ./src/dropzone.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction dropzone_createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = dropzone_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction dropzone_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return dropzone_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return dropzone_arrayLikeToArray(o, minLen); }\n\nfunction dropzone_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction dropzone_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction dropzone_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction dropzone_createClass(Constructor, protoProps, staticProps) { if (protoProps) dropzone_defineProperties(Constructor.prototype, protoProps); if (staticProps) dropzone_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar Dropzone = /*#__PURE__*/function (_Emitter) {\n  _inherits(Dropzone, _Emitter);\n\n  var _super = _createSuper(Dropzone);\n\n  function Dropzone(el, options) {\n    var _this;\n\n    dropzone_classCallCheck(this, Dropzone);\n\n    _this = _super.call(this);\n    var fallback, left;\n    _this.element = el; // For backwards compatibility since the version was in the prototype previously\n\n    _this.version = Dropzone.version;\n    _this.clickableElements = [];\n    _this.listeners = [];\n    _this.files = []; // All files\n\n    if (typeof _this.element === \"string\") {\n      _this.element = document.querySelector(_this.element);\n    } // Not checking if instance of HTMLElement or Element since IE9 is extremely weird.\n\n\n    if (!_this.element || _this.element.nodeType == null) {\n      throw new Error(\"Invalid dropzone element.\");\n    }\n\n    if (_this.element.dropzone) {\n      throw new Error(\"Dropzone already attached.\");\n    } // Now add this dropzone to the instances.\n\n\n    Dropzone.instances.push(_assertThisInitialized(_this)); // Put the dropzone inside the element itself.\n\n    _this.element.dropzone = _assertThisInitialized(_this);\n    var elementOptions = (left = Dropzone.optionsForElement(_this.element)) != null ? left : {};\n    _this.options = Dropzone.extend({}, src_options, elementOptions, options != null ? options : {});\n    _this.options.previewTemplate = _this.options.previewTemplate.replace(/\\n*/g, \"\"); // If the browser failed, just call the fallback and leave\n\n    if (_this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n      return _possibleConstructorReturn(_this, _this.options.fallback.call(_assertThisInitialized(_this)));\n    } // @options.url = @element.getAttribute \"action\" unless @options.url?\n\n\n    if (_this.options.url == null) {\n      _this.options.url = _this.element.getAttribute(\"action\");\n    }\n\n    if (!_this.options.url) {\n      throw new Error(\"No URL provided.\");\n    }\n\n    if (_this.options.acceptedFiles && _this.options.acceptedMimeTypes) {\n      throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\n    }\n\n    if (_this.options.uploadMultiple && _this.options.chunking) {\n      throw new Error(\"You cannot set both: uploadMultiple and chunking.\");\n    } // Backwards compatibility\n\n\n    if (_this.options.acceptedMimeTypes) {\n      _this.options.acceptedFiles = _this.options.acceptedMimeTypes;\n      delete _this.options.acceptedMimeTypes;\n    } // Backwards compatibility\n\n\n    if (_this.options.renameFilename != null) {\n      _this.options.renameFile = function (file) {\n        return _this.options.renameFilename.call(_assertThisInitialized(_this), file.name, file);\n      };\n    }\n\n    if (typeof _this.options.method === \"string\") {\n      _this.options.method = _this.options.method.toUpperCase();\n    }\n\n    if ((fallback = _this.getExistingFallback()) && fallback.parentNode) {\n      // Remove the fallback\n      fallback.parentNode.removeChild(fallback);\n    } // Display previews in the previewsContainer element or the Dropzone element unless explicitly set to false\n\n\n    if (_this.options.previewsContainer !== false) {\n      if (_this.options.previewsContainer) {\n        _this.previewsContainer = Dropzone.getElement(_this.options.previewsContainer, \"previewsContainer\");\n      } else {\n        _this.previewsContainer = _this.element;\n      }\n    }\n\n    if (_this.options.clickable) {\n      if (_this.options.clickable === true) {\n        _this.clickableElements = [_this.element];\n      } else {\n        _this.clickableElements = Dropzone.getElements(_this.options.clickable, \"clickable\");\n      }\n    }\n\n    _this.init();\n\n    return _this;\n  } // Returns all files that have been accepted\n\n\n  dropzone_createClass(Dropzone, [{\n    key: \"getAcceptedFiles\",\n    value: function getAcceptedFiles() {\n      return this.files.filter(function (file) {\n        return file.accepted;\n      }).map(function (file) {\n        return file;\n      });\n    } // Returns all files that have been rejected\n    // Not sure when that's going to be useful, but added for completeness.\n\n  }, {\n    key: \"getRejectedFiles\",\n    value: function getRejectedFiles() {\n      return this.files.filter(function (file) {\n        return !file.accepted;\n      }).map(function (file) {\n        return file;\n      });\n    }\n  }, {\n    key: \"getFilesWithStatus\",\n    value: function getFilesWithStatus(status) {\n      return this.files.filter(function (file) {\n        return file.status === status;\n      }).map(function (file) {\n        return file;\n      });\n    } // Returns all files that are in the queue\n\n  }, {\n    key: \"getQueuedFiles\",\n    value: function getQueuedFiles() {\n      return this.getFilesWithStatus(Dropzone.QUEUED);\n    }\n  }, {\n    key: \"getUploadingFiles\",\n    value: function getUploadingFiles() {\n      return this.getFilesWithStatus(Dropzone.UPLOADING);\n    }\n  }, {\n    key: \"getAddedFiles\",\n    value: function getAddedFiles() {\n      return this.getFilesWithStatus(Dropzone.ADDED);\n    } // Files that are either queued or uploading\n\n  }, {\n    key: \"getActiveFiles\",\n    value: function getActiveFiles() {\n      return this.files.filter(function (file) {\n        return file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED;\n      }).map(function (file) {\n        return file;\n      });\n    } // The function that gets called when Dropzone is initialized. You\n    // can (and should) setup event listeners inside this function.\n\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      // In case it isn't set already\n      if (this.element.tagName === \"form\") {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n      }\n\n      if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\n        this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><button class=\\\"dz-button\\\" type=\\\"button\\\">\".concat(this.options.dictDefaultMessage, \"</button></div>\")));\n      }\n\n      if (this.clickableElements.length) {\n        var setupHiddenFileInput = function setupHiddenFileInput() {\n          if (_this2.hiddenFileInput) {\n            _this2.hiddenFileInput.parentNode.removeChild(_this2.hiddenFileInput);\n          }\n\n          _this2.hiddenFileInput = document.createElement(\"input\");\n\n          _this2.hiddenFileInput.setAttribute(\"type\", \"file\");\n\n          if (_this2.options.maxFiles === null || _this2.options.maxFiles > 1) {\n            _this2.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n          }\n\n          _this2.hiddenFileInput.className = \"dz-hidden-input\";\n\n          if (_this2.options.acceptedFiles !== null) {\n            _this2.hiddenFileInput.setAttribute(\"accept\", _this2.options.acceptedFiles);\n          }\n\n          if (_this2.options.capture !== null) {\n            _this2.hiddenFileInput.setAttribute(\"capture\", _this2.options.capture);\n          } // Making sure that no one can \"tab\" into this field.\n\n\n          _this2.hiddenFileInput.setAttribute(\"tabindex\", \"-1\"); // Not setting `display=\"none\"` because some browsers don't accept clicks\n          // on elements that aren't displayed.\n\n\n          _this2.hiddenFileInput.style.visibility = \"hidden\";\n          _this2.hiddenFileInput.style.position = \"absolute\";\n          _this2.hiddenFileInput.style.top = \"0\";\n          _this2.hiddenFileInput.style.left = \"0\";\n          _this2.hiddenFileInput.style.height = \"0\";\n          _this2.hiddenFileInput.style.width = \"0\";\n          Dropzone.getElement(_this2.options.hiddenInputContainer, \"hiddenInputContainer\").appendChild(_this2.hiddenFileInput);\n\n          _this2.hiddenFileInput.addEventListener(\"change\", function () {\n            var files = _this2.hiddenFileInput.files;\n\n            if (files.length) {\n              var _iterator = dropzone_createForOfIteratorHelper(files, true),\n                  _step;\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var file = _step.value;\n\n                  _this2.addFile(file);\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n            }\n\n            _this2.emit(\"addedfiles\", files);\n\n            setupHiddenFileInput();\n          });\n        };\n\n        setupHiddenFileInput();\n      }\n\n      this.URL = window.URL !== null ? window.URL : window.webkitURL; // Setup all event listeners on the Dropzone object itself.\n      // They're not in @setupEventListeners() because they shouldn't be removed\n      // again when the dropzone gets disabled.\n\n      var _iterator2 = dropzone_createForOfIteratorHelper(this.events, true),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var eventName = _step2.value;\n          this.on(eventName, this.options[eventName]);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      this.on(\"uploadprogress\", function () {\n        return _this2.updateTotalUploadProgress();\n      });\n      this.on(\"removedfile\", function () {\n        return _this2.updateTotalUploadProgress();\n      });\n      this.on(\"canceled\", function (file) {\n        return _this2.emit(\"complete\", file);\n      }); // Emit a `queuecomplete` event if all files finished uploading.\n\n      this.on(\"complete\", function (file) {\n        if (_this2.getAddedFiles().length === 0 && _this2.getUploadingFiles().length === 0 && _this2.getQueuedFiles().length === 0) {\n          // This needs to be deferred so that `queuecomplete` really triggers after `complete`\n          return setTimeout(function () {\n            return _this2.emit(\"queuecomplete\");\n          }, 0);\n        }\n      });\n\n      var containsFiles = function containsFiles(e) {\n        if (e.dataTransfer.types) {\n          // Because e.dataTransfer.types is an Object in\n          // IE, we need to iterate like this instead of\n          // using e.dataTransfer.types.some()\n          for (var i = 0; i < e.dataTransfer.types.length; i++) {\n            if (e.dataTransfer.types[i] === \"Files\") return true;\n          }\n        }\n\n        return false;\n      };\n\n      var noPropagation = function noPropagation(e) {\n        // If there are no files, we don't want to stop\n        // propagation so we don't interfere with other\n        // drag and drop behaviour.\n        if (!containsFiles(e)) return;\n        e.stopPropagation();\n\n        if (e.preventDefault) {\n          return e.preventDefault();\n        } else {\n          return e.returnValue = false;\n        }\n      }; // Create the listeners\n\n\n      this.listeners = [{\n        element: this.element,\n        events: {\n          dragstart: function dragstart(e) {\n            return _this2.emit(\"dragstart\", e);\n          },\n          dragenter: function dragenter(e) {\n            noPropagation(e);\n            return _this2.emit(\"dragenter\", e);\n          },\n          dragover: function dragover(e) {\n            // Makes it possible to drag files from chrome's download bar\n            // http://stackoverflow.com/questions/19526430/drag-and-drop-file-uploads-from-chrome-downloads-bar\n            // Try is required to prevent bug in Internet Explorer 11 (SCRIPT65535 exception)\n            var efct;\n\n            try {\n              efct = e.dataTransfer.effectAllowed;\n            } catch (error) {}\n\n            e.dataTransfer.dropEffect = \"move\" === efct || \"linkMove\" === efct ? \"move\" : \"copy\";\n            noPropagation(e);\n            return _this2.emit(\"dragover\", e);\n          },\n          dragleave: function dragleave(e) {\n            return _this2.emit(\"dragleave\", e);\n          },\n          drop: function drop(e) {\n            noPropagation(e);\n            return _this2.drop(e);\n          },\n          dragend: function dragend(e) {\n            return _this2.emit(\"dragend\", e);\n          }\n        } // This is disabled right now, because the browsers don't implement it properly.\n        // \"paste\": (e) =>\n        //   noPropagation e\n        //   @paste e\n\n      }];\n      this.clickableElements.forEach(function (clickableElement) {\n        return _this2.listeners.push({\n          element: clickableElement,\n          events: {\n            click: function click(evt) {\n              // Only the actual dropzone or the message element should trigger file selection\n              if (clickableElement !== _this2.element || evt.target === _this2.element || Dropzone.elementInside(evt.target, _this2.element.querySelector(\".dz-message\"))) {\n                _this2.hiddenFileInput.click(); // Forward the click\n\n              }\n\n              return true;\n            }\n          }\n        });\n      });\n      this.enable();\n      return this.options.init.call(this);\n    } // Not fully tested yet\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.disable();\n      this.removeAllFiles(true);\n\n      if (this.hiddenFileInput != null ? this.hiddenFileInput.parentNode : undefined) {\n        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = null;\n      }\n\n      delete this.element.dropzone;\n      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n    }\n  }, {\n    key: \"updateTotalUploadProgress\",\n    value: function updateTotalUploadProgress() {\n      var totalUploadProgress;\n      var totalBytesSent = 0;\n      var totalBytes = 0;\n      var activeFiles = this.getActiveFiles();\n\n      if (activeFiles.length) {\n        var _iterator3 = dropzone_createForOfIteratorHelper(this.getActiveFiles(), true),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var file = _step3.value;\n            totalBytesSent += file.upload.bytesSent;\n            totalBytes += file.upload.total;\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        totalUploadProgress = 100 * totalBytesSent / totalBytes;\n      } else {\n        totalUploadProgress = 100;\n      }\n\n      return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\n    } // @options.paramName can be a function taking one parameter rather than a string.\n    // A parameter name for a file is obtained simply by calling this with an index number.\n\n  }, {\n    key: \"_getParamName\",\n    value: function _getParamName(n) {\n      if (typeof this.options.paramName === \"function\") {\n        return this.options.paramName(n);\n      } else {\n        return \"\".concat(this.options.paramName).concat(this.options.uploadMultiple ? \"[\".concat(n, \"]\") : \"\");\n      }\n    } // If @options.renameFile is a function,\n    // the function will be used to rename the file.name before appending it to the formData\n\n  }, {\n    key: \"_renameFile\",\n    value: function _renameFile(file) {\n      if (typeof this.options.renameFile !== \"function\") {\n        return file.name;\n      }\n\n      return this.options.renameFile(file);\n    } // Returns a form that can be used as fallback if the browser does not support DragnDrop\n    //\n    // If the dropzone is already a form, only the input field and button are returned. Otherwise a complete form element is provided.\n    // This code has to pass in IE7 :(\n\n  }, {\n    key: \"getFallbackForm\",\n    value: function getFallbackForm() {\n      var existingFallback, form;\n\n      if (existingFallback = this.getExistingFallback()) {\n        return existingFallback;\n      }\n\n      var fieldsString = '<div class=\"dz-fallback\">';\n\n      if (this.options.dictFallbackText) {\n        fieldsString += \"<p>\".concat(this.options.dictFallbackText, \"</p>\");\n      }\n\n      fieldsString += \"<input type=\\\"file\\\" name=\\\"\".concat(this._getParamName(0), \"\\\" \").concat(this.options.uploadMultiple ? 'multiple=\"multiple\"' : undefined, \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\");\n      var fields = Dropzone.createElement(fieldsString);\n\n      if (this.element.tagName !== \"FORM\") {\n        form = Dropzone.createElement(\"<form action=\\\"\".concat(this.options.url, \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\").concat(this.options.method, \"\\\"></form>\"));\n        form.appendChild(fields);\n      } else {\n        // Make sure that the enctype and method attributes are set properly\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n        this.element.setAttribute(\"method\", this.options.method);\n      }\n\n      return form != null ? form : fields;\n    } // Returns the fallback elements if they exist already\n    //\n    // This code has to pass in IE7 :(\n\n  }, {\n    key: \"getExistingFallback\",\n    value: function getExistingFallback() {\n      var getFallback = function getFallback(elements) {\n        var _iterator4 = dropzone_createForOfIteratorHelper(elements, true),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var el = _step4.value;\n\n            if (/(^| )fallback($| )/.test(el.className)) {\n              return el;\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      };\n\n      for (var _i = 0, _arr = [\"div\", \"form\"]; _i < _arr.length; _i++) {\n        var tagName = _arr[_i];\n        var fallback;\n\n        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\n          return fallback;\n        }\n      }\n    } // Activates all listeners stored in @listeners\n\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners() {\n      return this.listeners.map(function (elementListeners) {\n        return function () {\n          var result = [];\n\n          for (var event in elementListeners.events) {\n            var listener = elementListeners.events[event];\n            result.push(elementListeners.element.addEventListener(event, listener, false));\n          }\n\n          return result;\n        }();\n      });\n    } // Deactivates all listeners stored in @listeners\n\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners() {\n      return this.listeners.map(function (elementListeners) {\n        return function () {\n          var result = [];\n\n          for (var event in elementListeners.events) {\n            var listener = elementListeners.events[event];\n            result.push(elementListeners.element.removeEventListener(event, listener, false));\n          }\n\n          return result;\n        }();\n      });\n    } // Removes all event listeners and cancels all files in the queue or being processed.\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      var _this3 = this;\n\n      this.clickableElements.forEach(function (element) {\n        return element.classList.remove(\"dz-clickable\");\n      });\n      this.removeEventListeners();\n      this.disabled = true;\n      return this.files.map(function (file) {\n        return _this3.cancelUpload(file);\n      });\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      delete this.disabled;\n      this.clickableElements.forEach(function (element) {\n        return element.classList.add(\"dz-clickable\");\n      });\n      return this.setupEventListeners();\n    } // Returns a nicely formatted filesize\n\n  }, {\n    key: \"filesize\",\n    value: function filesize(size) {\n      var selectedSize = 0;\n      var selectedUnit = \"b\";\n\n      if (size > 0) {\n        var units = [\"tb\", \"gb\", \"mb\", \"kb\", \"b\"];\n\n        for (var i = 0; i < units.length; i++) {\n          var unit = units[i];\n          var cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n\n          if (size >= cutoff) {\n            selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n            selectedUnit = unit;\n            break;\n          }\n        }\n\n        selectedSize = Math.round(10 * selectedSize) / 10; // Cutting of digits\n      }\n\n      return \"<strong>\".concat(selectedSize, \"</strong> \").concat(this.options.dictFileSizeUnits[selectedUnit]);\n    } // Adds or removes the `dz-max-files-reached` class from the form.\n\n  }, {\n    key: \"_updateMaxFilesReachedClass\",\n    value: function _updateMaxFilesReachedClass() {\n      if (this.options.maxFiles != null && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        if (this.getAcceptedFiles().length === this.options.maxFiles) {\n          this.emit(\"maxfilesreached\", this.files);\n        }\n\n        return this.element.classList.add(\"dz-max-files-reached\");\n      } else {\n        return this.element.classList.remove(\"dz-max-files-reached\");\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(e) {\n      if (!e.dataTransfer) {\n        return;\n      }\n\n      this.emit(\"drop\", e); // Convert the FileList to an Array\n      // This is necessary for IE11\n\n      var files = [];\n\n      for (var i = 0; i < e.dataTransfer.files.length; i++) {\n        files[i] = e.dataTransfer.files[i];\n      } // Even if it's a folder, files.length will contain the folders.\n\n\n      if (files.length) {\n        var items = e.dataTransfer.items;\n\n        if (items && items.length && items[0].webkitGetAsEntry != null) {\n          // The browser supports dropping of folders, so handle items instead of files\n          this._addFilesFromItems(items);\n        } else {\n          this.handleFiles(files);\n        }\n      }\n\n      this.emit(\"addedfiles\", files);\n    }\n  }, {\n    key: \"paste\",\n    value: function paste(e) {\n      if (__guard__(e != null ? e.clipboardData : undefined, function (x) {\n        return x.items;\n      }) == null) {\n        return;\n      }\n\n      this.emit(\"paste\", e);\n      var items = e.clipboardData.items;\n\n      if (items.length) {\n        return this._addFilesFromItems(items);\n      }\n    }\n  }, {\n    key: \"handleFiles\",\n    value: function handleFiles(files) {\n      var _iterator5 = dropzone_createForOfIteratorHelper(files, true),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var file = _step5.value;\n          this.addFile(file);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    } // When a folder is dropped (or files are pasted), items must be handled\n    // instead of files.\n\n  }, {\n    key: \"_addFilesFromItems\",\n    value: function _addFilesFromItems(items) {\n      var _this4 = this;\n\n      return function () {\n        var result = [];\n\n        var _iterator6 = dropzone_createForOfIteratorHelper(items, true),\n            _step6;\n\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var item = _step6.value;\n            var entry;\n\n            if (item.webkitGetAsEntry != null && (entry = item.webkitGetAsEntry())) {\n              if (entry.isFile) {\n                result.push(_this4.addFile(item.getAsFile()));\n              } else if (entry.isDirectory) {\n                // Append all files from that directory to files\n                result.push(_this4._addFilesFromDirectory(entry, entry.name));\n              } else {\n                result.push(undefined);\n              }\n            } else if (item.getAsFile != null) {\n              if (item.kind == null || item.kind === \"file\") {\n                result.push(_this4.addFile(item.getAsFile()));\n              } else {\n                result.push(undefined);\n              }\n            } else {\n              result.push(undefined);\n            }\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n\n        return result;\n      }();\n    } // Goes through the directory, and adds each file it finds recursively\n\n  }, {\n    key: \"_addFilesFromDirectory\",\n    value: function _addFilesFromDirectory(directory, path) {\n      var _this5 = this;\n\n      var dirReader = directory.createReader();\n\n      var errorHandler = function errorHandler(error) {\n        return __guardMethod__(console, \"log\", function (o) {\n          return o.log(error);\n        });\n      };\n\n      var readEntries = function readEntries() {\n        return dirReader.readEntries(function (entries) {\n          if (entries.length > 0) {\n            var _iterator7 = dropzone_createForOfIteratorHelper(entries, true),\n                _step7;\n\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var entry = _step7.value;\n\n                if (entry.isFile) {\n                  entry.file(function (file) {\n                    if (_this5.options.ignoreHiddenFiles && file.name.substring(0, 1) === \".\") {\n                      return;\n                    }\n\n                    file.fullPath = \"\".concat(path, \"/\").concat(file.name);\n                    return _this5.addFile(file);\n                  });\n                } else if (entry.isDirectory) {\n                  _this5._addFilesFromDirectory(entry, \"\".concat(path, \"/\").concat(entry.name));\n                }\n              } // Recursively call readEntries() again, since browser only handle\n              // the first 100 entries.\n              // See: https://developer.mozilla.org/en-US/docs/Web/API/DirectoryReader#readEntries\n\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n\n            readEntries();\n          }\n\n          return null;\n        }, errorHandler);\n      };\n\n      return readEntries();\n    } // If `done()` is called without argument the file is accepted\n    // If you call it with an error message, the file is rejected\n    // (This allows for asynchronous validation)\n    //\n    // This function checks the filesize, and if the file.type passes the\n    // `acceptedFiles` check.\n\n  }, {\n    key: \"accept\",\n    value: function accept(file, done) {\n      if (this.options.maxFilesize && file.size > this.options.maxFilesize * 1024 * 1024) {\n        done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\n      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n        done(this.options.dictInvalidFileType);\n      } else if (this.options.maxFiles != null && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\n        this.emit(\"maxfilesexceeded\", file);\n      } else {\n        this.options.accept.call(this, file, done);\n      }\n    }\n  }, {\n    key: \"addFile\",\n    value: function addFile(file) {\n      var _this6 = this;\n\n      file.upload = {\n        uuid: Dropzone.uuidv4(),\n        progress: 0,\n        // Setting the total upload size to file.size for the beginning\n        // It's actual different than the size to be transmitted.\n        total: file.size,\n        bytesSent: 0,\n        filename: this._renameFile(file) // Not setting chunking information here, because the acutal data  and\n        // thus the chunks  might change if `options.transformFile` is set\n        // and does something to the data.\n\n      };\n      this.files.push(file);\n      file.status = Dropzone.ADDED;\n      this.emit(\"addedfile\", file);\n\n      this._enqueueThumbnail(file);\n\n      this.accept(file, function (error) {\n        if (error) {\n          file.accepted = false;\n\n          _this6._errorProcessing([file], error); // Will set the file.status\n\n        } else {\n          file.accepted = true;\n\n          if (_this6.options.autoQueue) {\n            _this6.enqueueFile(file);\n          } // Will set .accepted = true\n\n        }\n\n        _this6._updateMaxFilesReachedClass();\n      });\n    } // Wrapper for enqueueFile\n\n  }, {\n    key: \"enqueueFiles\",\n    value: function enqueueFiles(files) {\n      var _iterator8 = dropzone_createForOfIteratorHelper(files, true),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var file = _step8.value;\n          this.enqueueFile(file);\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"enqueueFile\",\n    value: function enqueueFile(file) {\n      var _this7 = this;\n\n      if (file.status === Dropzone.ADDED && file.accepted === true) {\n        file.status = Dropzone.QUEUED;\n\n        if (this.options.autoProcessQueue) {\n          return setTimeout(function () {\n            return _this7.processQueue();\n          }, 0); // Deferring the call\n        }\n      } else {\n        throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\n      }\n    }\n  }, {\n    key: \"_enqueueThumbnail\",\n    value: function _enqueueThumbnail(file) {\n      var _this8 = this;\n\n      if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\n        this._thumbnailQueue.push(file);\n\n        return setTimeout(function () {\n          return _this8._processThumbnailQueue();\n        }, 0); // Deferring the call\n      }\n    }\n  }, {\n    key: \"_processThumbnailQueue\",\n    value: function _processThumbnailQueue() {\n      var _this9 = this;\n\n      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n        return;\n      }\n\n      this._processingThumbnail = true;\n\n      var file = this._thumbnailQueue.shift();\n\n      return this.createThumbnail(file, this.options.thumbnailWidth, this.options.thumbnailHeight, this.options.thumbnailMethod, true, function (dataUrl) {\n        _this9.emit(\"thumbnail\", file, dataUrl);\n\n        _this9._processingThumbnail = false;\n        return _this9._processThumbnailQueue();\n      });\n    } // Can be called by the user to remove a file\n\n  }, {\n    key: \"removeFile\",\n    value: function removeFile(file) {\n      if (file.status === Dropzone.UPLOADING) {\n        this.cancelUpload(file);\n      }\n\n      this.files = without(this.files, file);\n      this.emit(\"removedfile\", file);\n\n      if (this.files.length === 0) {\n        return this.emit(\"reset\");\n      }\n    } // Removes all files that aren't currently processed from the list\n\n  }, {\n    key: \"removeAllFiles\",\n    value: function removeAllFiles(cancelIfNecessary) {\n      // Create a copy of files since removeFile() changes the @files array.\n      if (cancelIfNecessary == null) {\n        cancelIfNecessary = false;\n      }\n\n      var _iterator9 = dropzone_createForOfIteratorHelper(this.files.slice(), true),\n          _step9;\n\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var file = _step9.value;\n\n          if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n            this.removeFile(file);\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n\n      return null;\n    } // Resizes an image before it gets sent to the server. This function is the default behavior of\n    // `options.transformFile` if `resizeWidth` or `resizeHeight` are set. The callback is invoked with\n    // the resized blob.\n\n  }, {\n    key: \"resizeImage\",\n    value: function resizeImage(file, width, height, resizeMethod, callback) {\n      var _this10 = this;\n\n      return this.createThumbnail(file, width, height, resizeMethod, true, function (dataUrl, canvas) {\n        if (canvas == null) {\n          // The image has not been resized\n          return callback(file);\n        } else {\n          var resizeMimeType = _this10.options.resizeMimeType;\n\n          if (resizeMimeType == null) {\n            resizeMimeType = file.type;\n          }\n\n          var resizedDataURL = canvas.toDataURL(resizeMimeType, _this10.options.resizeQuality);\n\n          if (resizeMimeType === \"image/jpeg\" || resizeMimeType === \"image/jpg\") {\n            // Now add the original EXIF information\n            resizedDataURL = ExifRestore.restore(file.dataURL, resizedDataURL);\n          }\n\n          return callback(Dropzone.dataURItoBlob(resizedDataURL));\n        }\n      });\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(file, width, height, resizeMethod, fixOrientation, callback) {\n      var _this11 = this;\n\n      var fileReader = new FileReader();\n\n      fileReader.onload = function () {\n        file.dataURL = fileReader.result; // Don't bother creating a thumbnail for SVG images since they're vector\n\n        if (file.type === \"image/svg+xml\") {\n          if (callback != null) {\n            callback(fileReader.result);\n          }\n\n          return;\n        }\n\n        _this11.createThumbnailFromUrl(file, width, height, resizeMethod, fixOrientation, callback);\n      };\n\n      fileReader.readAsDataURL(file);\n    } // `mockFile` needs to have these attributes:\n    //\n    //     { name: 'name', size: 12345, imageUrl: '' }\n    //\n    // `callback` will be invoked when the image has been downloaded and displayed.\n    // `crossOrigin` will be added to the `img` tag when accessing the file.\n\n  }, {\n    key: \"displayExistingFile\",\n    value: function displayExistingFile(mockFile, imageUrl, callback, crossOrigin) {\n      var _this12 = this;\n\n      var resizeThumbnail = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n      this.emit(\"addedfile\", mockFile);\n      this.emit(\"complete\", mockFile);\n\n      if (!resizeThumbnail) {\n        this.emit(\"thumbnail\", mockFile, imageUrl);\n        if (callback) callback();\n      } else {\n        var onDone = function onDone(thumbnail) {\n          _this12.emit(\"thumbnail\", mockFile, thumbnail);\n\n          if (callback) callback();\n        };\n\n        mockFile.dataURL = imageUrl;\n        this.createThumbnailFromUrl(mockFile, this.options.thumbnailWidth, this.options.thumbnailHeight, this.options.resizeMethod, this.options.fixOrientation, onDone, crossOrigin);\n      }\n    }\n  }, {\n    key: \"createThumbnailFromUrl\",\n    value: function createThumbnailFromUrl(file, width, height, resizeMethod, fixOrientation, callback, crossOrigin) {\n      var _this13 = this;\n\n      // Not using `new Image` here because of a bug in latest Chrome versions.\n      // See https://github.com/enyo/dropzone/pull/226\n      var img = document.createElement(\"img\");\n\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      } // fixOrientation is not needed anymore with browsers handling imageOrientation\n\n\n      fixOrientation = getComputedStyle(document.body)[\"imageOrientation\"] == \"from-image\" ? false : fixOrientation;\n\n      img.onload = function () {\n        var loadExif = function loadExif(callback) {\n          return callback(1);\n        };\n\n        if (typeof EXIF !== \"undefined\" && EXIF !== null && fixOrientation) {\n          loadExif = function loadExif(callback) {\n            return EXIF.getData(img, function () {\n              return callback(EXIF.getTag(this, \"Orientation\"));\n            });\n          };\n        }\n\n        return loadExif(function (orientation) {\n          file.width = img.width;\n          file.height = img.height;\n\n          var resizeInfo = _this13.options.resize.call(_this13, file, width, height, resizeMethod);\n\n          var canvas = document.createElement(\"canvas\");\n          var ctx = canvas.getContext(\"2d\");\n          canvas.width = resizeInfo.trgWidth;\n          canvas.height = resizeInfo.trgHeight;\n\n          if (orientation > 4) {\n            canvas.width = resizeInfo.trgHeight;\n            canvas.height = resizeInfo.trgWidth;\n          }\n\n          switch (orientation) {\n            case 2:\n              // horizontal flip\n              ctx.translate(canvas.width, 0);\n              ctx.scale(-1, 1);\n              break;\n\n            case 3:\n              // 180 rotate left\n              ctx.translate(canvas.width, canvas.height);\n              ctx.rotate(Math.PI);\n              break;\n\n            case 4:\n              // vertical flip\n              ctx.translate(0, canvas.height);\n              ctx.scale(1, -1);\n              break;\n\n            case 5:\n              // vertical flip + 90 rotate right\n              ctx.rotate(0.5 * Math.PI);\n              ctx.scale(1, -1);\n              break;\n\n            case 6:\n              // 90 rotate right\n              ctx.rotate(0.5 * Math.PI);\n              ctx.translate(0, -canvas.width);\n              break;\n\n            case 7:\n              // horizontal flip + 90 rotate right\n              ctx.rotate(0.5 * Math.PI);\n              ctx.translate(canvas.height, -canvas.width);\n              ctx.scale(-1, 1);\n              break;\n\n            case 8:\n              // 90 rotate left\n              ctx.rotate(-0.5 * Math.PI);\n              ctx.translate(-canvas.height, 0);\n              break;\n          } // This is a bugfix for iOS' scaling bug.\n\n\n          drawImageIOSFix(ctx, img, resizeInfo.srcX != null ? resizeInfo.srcX : 0, resizeInfo.srcY != null ? resizeInfo.srcY : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, resizeInfo.trgX != null ? resizeInfo.trgX : 0, resizeInfo.trgY != null ? resizeInfo.trgY : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\n          var thumbnail = canvas.toDataURL(\"image/png\");\n\n          if (callback != null) {\n            return callback(thumbnail, canvas);\n          }\n        });\n      };\n\n      if (callback != null) {\n        img.onerror = callback;\n      }\n\n      return img.src = file.dataURL;\n    } // Goes through the queue and processes files if there aren't too many already.\n\n  }, {\n    key: \"processQueue\",\n    value: function processQueue() {\n      var parallelUploads = this.options.parallelUploads;\n      var processingLength = this.getUploadingFiles().length;\n      var i = processingLength; // There are already at least as many files uploading than should be\n\n      if (processingLength >= parallelUploads) {\n        return;\n      }\n\n      var queuedFiles = this.getQueuedFiles();\n\n      if (!(queuedFiles.length > 0)) {\n        return;\n      }\n\n      if (this.options.uploadMultiple) {\n        // The files should be uploaded in one request\n        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\n      } else {\n        while (i < parallelUploads) {\n          if (!queuedFiles.length) {\n            return;\n          } // Nothing left to process\n\n\n          this.processFile(queuedFiles.shift());\n          i++;\n        }\n      }\n    } // Wrapper for `processFiles`\n\n  }, {\n    key: \"processFile\",\n    value: function processFile(file) {\n      return this.processFiles([file]);\n    } // Loads the file, then calls finishedLoading()\n\n  }, {\n    key: \"processFiles\",\n    value: function processFiles(files) {\n      var _iterator10 = dropzone_createForOfIteratorHelper(files, true),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var file = _step10.value;\n          file.processing = true; // Backwards compatibility\n\n          file.status = Dropzone.UPLOADING;\n          this.emit(\"processing\", file);\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n\n      if (this.options.uploadMultiple) {\n        this.emit(\"processingmultiple\", files);\n      }\n\n      return this.uploadFiles(files);\n    }\n  }, {\n    key: \"_getFilesWithXhr\",\n    value: function _getFilesWithXhr(xhr) {\n      var files;\n      return files = this.files.filter(function (file) {\n        return file.xhr === xhr;\n      }).map(function (file) {\n        return file;\n      });\n    } // Cancels the file upload and sets the status to CANCELED\n    // **if** the file is actually being uploaded.\n    // If it's still in the queue, the file is being removed from it and the status\n    // set to CANCELED.\n\n  }, {\n    key: \"cancelUpload\",\n    value: function cancelUpload(file) {\n      if (file.status === Dropzone.UPLOADING) {\n        var groupedFiles = this._getFilesWithXhr(file.xhr);\n\n        var _iterator11 = dropzone_createForOfIteratorHelper(groupedFiles, true),\n            _step11;\n\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var groupedFile = _step11.value;\n            groupedFile.status = Dropzone.CANCELED;\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n\n        if (typeof file.xhr !== \"undefined\") {\n          file.xhr.abort();\n        }\n\n        var _iterator12 = dropzone_createForOfIteratorHelper(groupedFiles, true),\n            _step12;\n\n        try {\n          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n            var _groupedFile = _step12.value;\n            this.emit(\"canceled\", _groupedFile);\n          }\n        } catch (err) {\n          _iterator12.e(err);\n        } finally {\n          _iterator12.f();\n        }\n\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", groupedFiles);\n        }\n      } else if (file.status === Dropzone.ADDED || file.status === Dropzone.QUEUED) {\n        file.status = Dropzone.CANCELED;\n        this.emit(\"canceled\", file);\n\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", [file]);\n        }\n      }\n\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    }\n  }, {\n    key: \"resolveOption\",\n    value: function resolveOption(option) {\n      if (typeof option === \"function\") {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        return option.apply(this, args);\n      }\n\n      return option;\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(file) {\n      return this.uploadFiles([file]);\n    }\n  }, {\n    key: \"uploadFiles\",\n    value: function uploadFiles(files) {\n      var _this14 = this;\n\n      this._transformFiles(files, function (transformedFiles) {\n        if (_this14.options.chunking) {\n          // Chunking is not allowed to be used with `uploadMultiple` so we know\n          // that there is only __one__file.\n          var transformedFile = transformedFiles[0];\n          files[0].upload.chunked = _this14.options.chunking && (_this14.options.forceChunking || transformedFile.size > _this14.options.chunkSize);\n          files[0].upload.totalChunkCount = Math.ceil(transformedFile.size / _this14.options.chunkSize);\n        }\n\n        if (files[0].upload.chunked) {\n          // This file should be sent in chunks!\n          // If the chunking option is set, we **know** that there can only be **one** file, since\n          // uploadMultiple is not allowed with this option.\n          var file = files[0];\n          var _transformedFile = transformedFiles[0];\n          var startedChunkCount = 0;\n          file.upload.chunks = [];\n\n          var handleNextChunk = function handleNextChunk() {\n            var chunkIndex = 0; // Find the next item in file.upload.chunks that is not defined yet.\n\n            while (file.upload.chunks[chunkIndex] !== undefined) {\n              chunkIndex++;\n            } // This means, that all chunks have already been started.\n\n\n            if (chunkIndex >= file.upload.totalChunkCount) return;\n            startedChunkCount++;\n            var start = chunkIndex * _this14.options.chunkSize;\n            var end = Math.min(start + _this14.options.chunkSize, _transformedFile.size);\n            var dataBlock = {\n              name: _this14._getParamName(0),\n              data: _transformedFile.webkitSlice ? _transformedFile.webkitSlice(start, end) : _transformedFile.slice(start, end),\n              filename: file.upload.filename,\n              chunkIndex: chunkIndex\n            };\n            file.upload.chunks[chunkIndex] = {\n              file: file,\n              index: chunkIndex,\n              dataBlock: dataBlock,\n              // In case we want to retry.\n              status: Dropzone.UPLOADING,\n              progress: 0,\n              retries: 0 // The number of times this block has been retried.\n\n            };\n\n            _this14._uploadData(files, [dataBlock]);\n          };\n\n          file.upload.finishedChunkUpload = function (chunk, response) {\n            var allFinished = true;\n            chunk.status = Dropzone.SUCCESS; // Clear the data from the chunk\n\n            chunk.dataBlock = null; // Leaving this reference to xhr intact here will cause memory leaks in some browsers\n\n            chunk.xhr = null;\n\n            for (var i = 0; i < file.upload.totalChunkCount; i++) {\n              if (file.upload.chunks[i] === undefined) {\n                return handleNextChunk();\n              }\n\n              if (file.upload.chunks[i].status !== Dropzone.SUCCESS) {\n                allFinished = false;\n              }\n            }\n\n            if (allFinished) {\n              _this14.options.chunksUploaded(file, function () {\n                _this14._finished(files, response, null);\n              });\n            }\n          };\n\n          if (_this14.options.parallelChunkUploads) {\n            for (var i = 0; i < file.upload.totalChunkCount; i++) {\n              handleNextChunk();\n            }\n          } else {\n            handleNextChunk();\n          }\n        } else {\n          var dataBlocks = [];\n\n          for (var _i2 = 0; _i2 < files.length; _i2++) {\n            dataBlocks[_i2] = {\n              name: _this14._getParamName(_i2),\n              data: transformedFiles[_i2],\n              filename: files[_i2].upload.filename\n            };\n          }\n\n          _this14._uploadData(files, dataBlocks);\n        }\n      });\n    } /// Returns the right chunk for given file and xhr\n\n  }, {\n    key: \"_getChunk\",\n    value: function _getChunk(file, xhr) {\n      for (var i = 0; i < file.upload.totalChunkCount; i++) {\n        if (file.upload.chunks[i] !== undefined && file.upload.chunks[i].xhr === xhr) {\n          return file.upload.chunks[i];\n        }\n      }\n    } // This function actually uploads the file(s) to the server.\n    // If dataBlocks contains the actual data to upload (meaning, that this could either be transformed\n    // files, or individual chunks for chunked upload).\n\n  }, {\n    key: \"_uploadData\",\n    value: function _uploadData(files, dataBlocks) {\n      var _this15 = this;\n\n      var xhr = new XMLHttpRequest(); // Put the xhr object in the file objects to be able to reference it later.\n\n      var _iterator13 = dropzone_createForOfIteratorHelper(files, true),\n          _step13;\n\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var file = _step13.value;\n          file.xhr = xhr;\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n\n      if (files[0].upload.chunked) {\n        // Put the xhr object in the right chunk object, so it can be associated later, and found with _getChunk\n        files[0].upload.chunks[dataBlocks[0].chunkIndex].xhr = xhr;\n      }\n\n      var method = this.resolveOption(this.options.method, files);\n      var url = this.resolveOption(this.options.url, files);\n      xhr.open(method, url, true); // Setting the timeout after open because of IE11 issue: https://gitlab.com/meno/dropzone/issues/8\n\n      var timeout = this.resolveOption(this.options.timeout, files);\n      if (timeout) xhr.timeout = this.resolveOption(this.options.timeout, files); // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n\n      xhr.withCredentials = !!this.options.withCredentials;\n\n      xhr.onload = function (e) {\n        _this15._finishedUploading(files, xhr, e);\n      };\n\n      xhr.ontimeout = function () {\n        _this15._handleUploadError(files, xhr, \"Request timedout after \".concat(_this15.options.timeout / 1000, \" seconds\"));\n      };\n\n      xhr.onerror = function () {\n        _this15._handleUploadError(files, xhr);\n      }; // Some browsers do not have the .upload property\n\n\n      var progressObj = xhr.upload != null ? xhr.upload : xhr;\n\n      progressObj.onprogress = function (e) {\n        return _this15._updateFilesUploadProgress(files, xhr, e);\n      };\n\n      var headers = {\n        Accept: \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        \"X-Requested-With\": \"XMLHttpRequest\"\n      };\n\n      if (this.options.headers) {\n        Dropzone.extend(headers, this.options.headers);\n      }\n\n      for (var headerName in headers) {\n        var headerValue = headers[headerName];\n\n        if (headerValue) {\n          xhr.setRequestHeader(headerName, headerValue);\n        }\n      }\n\n      var formData = new FormData(); // Adding all @options parameters\n\n      if (this.options.params) {\n        var additionalParams = this.options.params;\n\n        if (typeof additionalParams === \"function\") {\n          additionalParams = additionalParams.call(this, files, xhr, files[0].upload.chunked ? this._getChunk(files[0], xhr) : null);\n        }\n\n        for (var key in additionalParams) {\n          var value = additionalParams[key];\n\n          if (Array.isArray(value)) {\n            // The additional parameter contains an array,\n            // so lets iterate over it to attach each value\n            // individually.\n            for (var i = 0; i < value.length; i++) {\n              formData.append(key, value[i]);\n            }\n          } else {\n            formData.append(key, value);\n          }\n        }\n      } // Let the user add additional data if necessary\n\n\n      var _iterator14 = dropzone_createForOfIteratorHelper(files, true),\n          _step14;\n\n      try {\n        for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n          var _file = _step14.value;\n          this.emit(\"sending\", _file, xhr, formData);\n        }\n      } catch (err) {\n        _iterator14.e(err);\n      } finally {\n        _iterator14.f();\n      }\n\n      if (this.options.uploadMultiple) {\n        this.emit(\"sendingmultiple\", files, xhr, formData);\n      }\n\n      this._addFormElementData(formData); // Finally add the files\n      // Has to be last because some servers (eg: S3) expect the file to be the last parameter\n\n\n      for (var _i3 = 0; _i3 < dataBlocks.length; _i3++) {\n        var dataBlock = dataBlocks[_i3];\n        formData.append(dataBlock.name, dataBlock.data, dataBlock.filename);\n      }\n\n      this.submitRequest(xhr, formData, files);\n    } // Transforms all files with this.options.transformFile and invokes done with the transformed files when done.\n\n  }, {\n    key: \"_transformFiles\",\n    value: function _transformFiles(files, done) {\n      var _this16 = this;\n\n      var transformedFiles = []; // Clumsy way of handling asynchronous calls, until I get to add a proper Future library.\n\n      var doneCounter = 0;\n\n      var _loop = function _loop(i) {\n        _this16.options.transformFile.call(_this16, files[i], function (transformedFile) {\n          transformedFiles[i] = transformedFile;\n\n          if (++doneCounter === files.length) {\n            done(transformedFiles);\n          }\n        });\n      };\n\n      for (var i = 0; i < files.length; i++) {\n        _loop(i);\n      }\n    } // Takes care of adding other input elements of the form to the AJAX request\n\n  }, {\n    key: \"_addFormElementData\",\n    value: function _addFormElementData(formData) {\n      // Take care of other input elements\n      if (this.element.tagName === \"FORM\") {\n        var _iterator15 = dropzone_createForOfIteratorHelper(this.element.querySelectorAll(\"input, textarea, select, button\"), true),\n            _step15;\n\n        try {\n          for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n            var input = _step15.value;\n            var inputName = input.getAttribute(\"name\");\n            var inputType = input.getAttribute(\"type\");\n            if (inputType) inputType = inputType.toLowerCase(); // If the input doesn't have a name, we can't use it.\n\n            if (typeof inputName === \"undefined\" || inputName === null) continue;\n\n            if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n              // Possibly multiple values\n              var _iterator16 = dropzone_createForOfIteratorHelper(input.options, true),\n                  _step16;\n\n              try {\n                for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n                  var option = _step16.value;\n\n                  if (option.selected) {\n                    formData.append(inputName, option.value);\n                  }\n                }\n              } catch (err) {\n                _iterator16.e(err);\n              } finally {\n                _iterator16.f();\n              }\n            } else if (!inputType || inputType !== \"checkbox\" && inputType !== \"radio\" || input.checked) {\n              formData.append(inputName, input.value);\n            }\n          }\n        } catch (err) {\n          _iterator15.e(err);\n        } finally {\n          _iterator15.f();\n        }\n      }\n    } // Invoked when there is new progress information about given files.\n    // If e is not provided, it is assumed that the upload is finished.\n\n  }, {\n    key: \"_updateFilesUploadProgress\",\n    value: function _updateFilesUploadProgress(files, xhr, e) {\n      if (!files[0].upload.chunked) {\n        // Handle file uploads without chunking\n        var _iterator17 = dropzone_createForOfIteratorHelper(files, true),\n            _step17;\n\n        try {\n          for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n            var file = _step17.value;\n\n            if (file.upload.total && file.upload.bytesSent && file.upload.bytesSent == file.upload.total) {\n              // If both, the `total` and `bytesSent` have already been set, and\n              // they are equal (meaning progress is at 100%), we can skip this\n              // file, since an upload progress shouldn't go down.\n              continue;\n            }\n\n            if (e) {\n              file.upload.progress = 100 * e.loaded / e.total;\n              file.upload.total = e.total;\n              file.upload.bytesSent = e.loaded;\n            } else {\n              // No event, so we're at 100%\n              file.upload.progress = 100;\n              file.upload.bytesSent = file.upload.total;\n            }\n\n            this.emit(\"uploadprogress\", file, file.upload.progress, file.upload.bytesSent);\n          }\n        } catch (err) {\n          _iterator17.e(err);\n        } finally {\n          _iterator17.f();\n        }\n      } else {\n        // Handle chunked file uploads\n        // Chunked upload is not compatible with uploading multiple files in one\n        // request, so we know there's only one file.\n        var _file2 = files[0]; // Since this is a chunked upload, we need to update the appropriate chunk\n        // progress.\n\n        var chunk = this._getChunk(_file2, xhr);\n\n        if (e) {\n          chunk.progress = 100 * e.loaded / e.total;\n          chunk.total = e.total;\n          chunk.bytesSent = e.loaded;\n        } else {\n          // No event, so we're at 100%\n          chunk.progress = 100;\n          chunk.bytesSent = chunk.total;\n        } // Now tally the *file* upload progress from its individual chunks\n\n\n        _file2.upload.progress = 0;\n        _file2.upload.total = 0;\n        _file2.upload.bytesSent = 0;\n\n        for (var i = 0; i < _file2.upload.totalChunkCount; i++) {\n          if (_file2.upload.chunks[i] && typeof _file2.upload.chunks[i].progress !== \"undefined\") {\n            _file2.upload.progress += _file2.upload.chunks[i].progress;\n            _file2.upload.total += _file2.upload.chunks[i].total;\n            _file2.upload.bytesSent += _file2.upload.chunks[i].bytesSent;\n          }\n        } // Since the process is a percentage, we need to divide by the amount of\n        // chunks we've used.\n\n\n        _file2.upload.progress = _file2.upload.progress / _file2.upload.totalChunkCount;\n        this.emit(\"uploadprogress\", _file2, _file2.upload.progress, _file2.upload.bytesSent);\n      }\n    }\n  }, {\n    key: \"_finishedUploading\",\n    value: function _finishedUploading(files, xhr, e) {\n      var response;\n\n      if (files[0].status === Dropzone.CANCELED) {\n        return;\n      }\n\n      if (xhr.readyState !== 4) {\n        return;\n      }\n\n      if (xhr.responseType !== \"arraybuffer\" && xhr.responseType !== \"blob\") {\n        response = xhr.responseText;\n\n        if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\n          try {\n            response = JSON.parse(response);\n          } catch (error) {\n            e = error;\n            response = \"Invalid JSON response from server.\";\n          }\n        }\n      }\n\n      this._updateFilesUploadProgress(files, xhr);\n\n      if (!(200 <= xhr.status && xhr.status < 300)) {\n        this._handleUploadError(files, xhr, response);\n      } else {\n        if (files[0].upload.chunked) {\n          files[0].upload.finishedChunkUpload(this._getChunk(files[0], xhr), response);\n        } else {\n          this._finished(files, response, e);\n        }\n      }\n    }\n  }, {\n    key: \"_handleUploadError\",\n    value: function _handleUploadError(files, xhr, response) {\n      if (files[0].status === Dropzone.CANCELED) {\n        return;\n      }\n\n      if (files[0].upload.chunked && this.options.retryChunks) {\n        var chunk = this._getChunk(files[0], xhr);\n\n        if (chunk.retries++ < this.options.retryChunksLimit) {\n          this._uploadData(files, [chunk.dataBlock]);\n\n          return;\n        } else {\n          console.warn(\"Retried this chunk too often. Giving up.\");\n        }\n      }\n\n      this._errorProcessing(files, response || this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr);\n    }\n  }, {\n    key: \"submitRequest\",\n    value: function submitRequest(xhr, formData, files) {\n      if (xhr.readyState != 1) {\n        console.warn(\"Cannot send this request because the XMLHttpRequest.readyState is not OPENED.\");\n        return;\n      }\n\n      xhr.send(formData);\n    } // Called internally when processing is finished.\n    // Individual callbacks have to be called in the appropriate sections.\n\n  }, {\n    key: \"_finished\",\n    value: function _finished(files, responseText, e) {\n      var _iterator18 = dropzone_createForOfIteratorHelper(files, true),\n          _step18;\n\n      try {\n        for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n          var file = _step18.value;\n          file.status = Dropzone.SUCCESS;\n          this.emit(\"success\", file, responseText, e);\n          this.emit(\"complete\", file);\n        }\n      } catch (err) {\n        _iterator18.e(err);\n      } finally {\n        _iterator18.f();\n      }\n\n      if (this.options.uploadMultiple) {\n        this.emit(\"successmultiple\", files, responseText, e);\n        this.emit(\"completemultiple\", files);\n      }\n\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    } // Called internally when processing is finished.\n    // Individual callbacks have to be called in the appropriate sections.\n\n  }, {\n    key: \"_errorProcessing\",\n    value: function _errorProcessing(files, message, xhr) {\n      var _iterator19 = dropzone_createForOfIteratorHelper(files, true),\n          _step19;\n\n      try {\n        for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n          var file = _step19.value;\n          file.status = Dropzone.ERROR;\n          this.emit(\"error\", file, message, xhr);\n          this.emit(\"complete\", file);\n        }\n      } catch (err) {\n        _iterator19.e(err);\n      } finally {\n        _iterator19.f();\n      }\n\n      if (this.options.uploadMultiple) {\n        this.emit(\"errormultiple\", files, message, xhr);\n        this.emit(\"completemultiple\", files);\n      }\n\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    }\n  }], [{\n    key: \"initClass\",\n    value: function initClass() {\n      // Exposing the emitter class, mainly for tests\n      this.prototype.Emitter = Emitter;\n      /*\n       This is a list of all available events you can register on a dropzone object.\n        You can register an event handler like this:\n        dropzone.on(\"dragEnter\", function() { });\n        */\n\n      this.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"addedfiles\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\n      this.prototype._thumbnailQueue = [];\n      this.prototype._processingThumbnail = false;\n    } // global utility\n\n  }, {\n    key: \"extend\",\n    value: function extend(target) {\n      for (var _len2 = arguments.length, objects = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        objects[_key2 - 1] = arguments[_key2];\n      }\n\n      for (var _i4 = 0, _objects = objects; _i4 < _objects.length; _i4++) {\n        var object = _objects[_i4];\n\n        for (var key in object) {\n          var val = object[key];\n          target[key] = val;\n        }\n      }\n\n      return target;\n    }\n  }, {\n    key: \"uuidv4\",\n    value: function uuidv4() {\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0,\n            v = c === \"x\" ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n      });\n    }\n  }]);\n\n  return Dropzone;\n}(Emitter);\n\n\nDropzone.initClass();\nDropzone.version = \"5.9.2\"; // This is a map of options for your different dropzones. Add configurations\n// to this object for your different dropzone elemens.\n//\n// Example:\n//\n//     Dropzone.options.myDropzoneElementId = { maxFilesize: 1 };\n//\n// To disable autoDiscover for a specific element, you can set `false` as an option:\n//\n//     Dropzone.options.myDisabledElementId = false;\n//\n// And in html:\n//\n//     <form action=\"/upload\" id=\"my-dropzone-element-id\" class=\"dropzone\"></form>\n\nDropzone.options = {}; // Returns the options for an element or undefined if none available.\n\nDropzone.optionsForElement = function (element) {\n  // Get the `Dropzone.options.elementId` for this element if it exists\n  if (element.getAttribute(\"id\")) {\n    return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n  } else {\n    return undefined;\n  }\n}; // Holds a list of all dropzone instances\n\n\nDropzone.instances = []; // Returns the dropzone for given element if any\n\nDropzone.forElement = function (element) {\n  if (typeof element === \"string\") {\n    element = document.querySelector(element);\n  }\n\n  if ((element != null ? element.dropzone : undefined) == null) {\n    throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\n  }\n\n  return element.dropzone;\n}; // Set to false if you don't want Dropzone to automatically find and attach to .dropzone elements.\n\n\nDropzone.autoDiscover = true; // Looks for all .dropzone elements and creates a dropzone for them\n\nDropzone.discover = function () {\n  var dropzones;\n\n  if (document.querySelectorAll) {\n    dropzones = document.querySelectorAll(\".dropzone\");\n  } else {\n    dropzones = []; // IE :(\n\n    var checkElements = function checkElements(elements) {\n      return function () {\n        var result = [];\n\n        var _iterator20 = dropzone_createForOfIteratorHelper(elements, true),\n            _step20;\n\n        try {\n          for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n            var el = _step20.value;\n\n            if (/(^| )dropzone($| )/.test(el.className)) {\n              result.push(dropzones.push(el));\n            } else {\n              result.push(undefined);\n            }\n          }\n        } catch (err) {\n          _iterator20.e(err);\n        } finally {\n          _iterator20.f();\n        }\n\n        return result;\n      }();\n    };\n\n    checkElements(document.getElementsByTagName(\"div\"));\n    checkElements(document.getElementsByTagName(\"form\"));\n  }\n\n  return function () {\n    var result = [];\n\n    var _iterator21 = dropzone_createForOfIteratorHelper(dropzones, true),\n        _step21;\n\n    try {\n      for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n        var dropzone = _step21.value;\n\n        // Create a dropzone unless auto discover has been disabled for specific element\n        if (Dropzone.optionsForElement(dropzone) !== false) {\n          result.push(new Dropzone(dropzone));\n        } else {\n          result.push(undefined);\n        }\n      }\n    } catch (err) {\n      _iterator21.e(err);\n    } finally {\n      _iterator21.f();\n    }\n\n    return result;\n  }();\n}; // Some browsers support drag and drog functionality, but not correctly.\n//\n// So I created a blocklist of userAgents. Yes, yes. Browser sniffing, I know.\n// But what to do when browsers *theoretically* support an API, but crash\n// when using it.\n//\n// This is a list of regular expressions tested against navigator.userAgent\n//\n// ** It should only be used on browser that *do* support the API, but\n// incorrectly **\n\n\nDropzone.blockedBrowsers = [// The mac os and windows phone version of opera 12 seems to have a problem with the File drag'n'drop API.\n/opera.*(Macintosh|Windows Phone).*version\\/12/i]; // Checks if the browser is supported\n\nDropzone.isBrowserSupported = function () {\n  var capableBrowser = true;\n\n  if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\n    if (!(\"classList\" in document.createElement(\"a\"))) {\n      capableBrowser = false;\n    } else {\n      if (Dropzone.blacklistedBrowsers !== undefined) {\n        // Since this has been renamed, this makes sure we don't break older\n        // configuration.\n        Dropzone.blockedBrowsers = Dropzone.blacklistedBrowsers;\n      } // The browser supports the API, but may be blocked.\n\n\n      var _iterator22 = dropzone_createForOfIteratorHelper(Dropzone.blockedBrowsers, true),\n          _step22;\n\n      try {\n        for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n          var regex = _step22.value;\n\n          if (regex.test(navigator.userAgent)) {\n            capableBrowser = false;\n            continue;\n          }\n        }\n      } catch (err) {\n        _iterator22.e(err);\n      } finally {\n        _iterator22.f();\n      }\n    }\n  } else {\n    capableBrowser = false;\n  }\n\n  return capableBrowser;\n};\n\nDropzone.dataURItoBlob = function (dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(\",\")[1]); // separate out the mime component\n\n  var mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0]; // write the bytes of the string to an ArrayBuffer\n\n  var ab = new ArrayBuffer(byteString.length);\n  var ia = new Uint8Array(ab);\n\n  for (var i = 0, end = byteString.length, asc = 0 <= end; asc ? i <= end : i >= end; asc ? i++ : i--) {\n    ia[i] = byteString.charCodeAt(i);\n  } // write the ArrayBuffer to a blob\n\n\n  return new Blob([ab], {\n    type: mimeString\n  });\n}; // Returns an array without the rejected item\n\n\nvar without = function without(list, rejectedItem) {\n  return list.filter(function (item) {\n    return item !== rejectedItem;\n  }).map(function (item) {\n    return item;\n  });\n}; // abc-def_ghi -> abcDefGhi\n\n\nvar camelize = function camelize(str) {\n  return str.replace(/[\\-_](\\w)/g, function (match) {\n    return match.charAt(1).toUpperCase();\n  });\n}; // Creates an element from string\n\n\nDropzone.createElement = function (string) {\n  var div = document.createElement(\"div\");\n  div.innerHTML = string;\n  return div.childNodes[0];\n}; // Tests if given element is inside (or simply is) the container\n\n\nDropzone.elementInside = function (element, container) {\n  if (element === container) {\n    return true;\n  } // Coffeescript doesn't support do/while loops\n\n\n  while (element = element.parentNode) {\n    if (element === container) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nDropzone.getElement = function (el, name) {\n  var element;\n\n  if (typeof el === \"string\") {\n    element = document.querySelector(el);\n  } else if (el.nodeType != null) {\n    element = el;\n  }\n\n  if (element == null) {\n    throw new Error(\"Invalid `\".concat(name, \"` option provided. Please provide a CSS selector or a plain HTML element.\"));\n  }\n\n  return element;\n};\n\nDropzone.getElements = function (els, name) {\n  var el, elements;\n\n  if (els instanceof Array) {\n    elements = [];\n\n    try {\n      var _iterator23 = dropzone_createForOfIteratorHelper(els, true),\n          _step23;\n\n      try {\n        for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n          el = _step23.value;\n          elements.push(this.getElement(el, name));\n        }\n      } catch (err) {\n        _iterator23.e(err);\n      } finally {\n        _iterator23.f();\n      }\n    } catch (e) {\n      elements = null;\n    }\n  } else if (typeof els === \"string\") {\n    elements = [];\n\n    var _iterator24 = dropzone_createForOfIteratorHelper(document.querySelectorAll(els), true),\n        _step24;\n\n    try {\n      for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {\n        el = _step24.value;\n        elements.push(el);\n      }\n    } catch (err) {\n      _iterator24.e(err);\n    } finally {\n      _iterator24.f();\n    }\n  } else if (els.nodeType != null) {\n    elements = [els];\n  }\n\n  if (elements == null || !elements.length) {\n    throw new Error(\"Invalid `\".concat(name, \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\"));\n  }\n\n  return elements;\n}; // Asks the user the question and calls accepted or rejected accordingly\n//\n// The default implementation just uses `window.confirm` and then calls the\n// appropriate callback.\n\n\nDropzone.confirm = function (question, accepted, rejected) {\n  if (window.confirm(question)) {\n    return accepted();\n  } else if (rejected != null) {\n    return rejected();\n  }\n}; // Validates the mime type like this:\n//\n// https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-accept\n\n\nDropzone.isValidFile = function (file, acceptedFiles) {\n  if (!acceptedFiles) {\n    return true;\n  } // If there are no accepted mime types, it's OK\n\n\n  acceptedFiles = acceptedFiles.split(\",\");\n  var mimeType = file.type;\n  var baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n\n  var _iterator25 = dropzone_createForOfIteratorHelper(acceptedFiles, true),\n      _step25;\n\n  try {\n    for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {\n      var validType = _step25.value;\n      validType = validType.trim();\n\n      if (validType.charAt(0) === \".\") {\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n          return true;\n        }\n      } else if (/\\/\\*$/.test(validType)) {\n        // This is something like a image/* mime type\n        if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n          return true;\n        }\n      } else {\n        if (mimeType === validType) {\n          return true;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator25.e(err);\n  } finally {\n    _iterator25.f();\n  }\n\n  return false;\n}; // Augment jQuery\n\n\nif (typeof jQuery !== \"undefined\" && jQuery !== null) {\n  jQuery.fn.dropzone = function (options) {\n    return this.each(function () {\n      return new Dropzone(this, options);\n    });\n  };\n} // Dropzone file status codes\n\n\nDropzone.ADDED = \"added\";\nDropzone.QUEUED = \"queued\"; // For backwards compatibility. Now, if a file is accepted, it's either queued\n// or uploading.\n\nDropzone.ACCEPTED = Dropzone.QUEUED;\nDropzone.UPLOADING = \"uploading\";\nDropzone.PROCESSING = Dropzone.UPLOADING; // alias\n\nDropzone.CANCELED = \"canceled\";\nDropzone.ERROR = \"error\";\nDropzone.SUCCESS = \"success\";\n/*\n\n Bugfix for iOS 6 and 7\n Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n based on the work of https://github.com/stomita/ios-imagefile-megapixel\n\n */\n// Detecting vertical squash in loaded image.\n// Fixes a bug which squash image vertically while drawing into canvas for some images.\n// This is a bug in iOS6 devices. This function from https://github.com/stomita/ios-imagefile-megapixel\n\nvar detectVerticalSquash = function detectVerticalSquash(img) {\n  var iw = img.naturalWidth;\n  var ih = img.naturalHeight;\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = 1;\n  canvas.height = ih;\n  var ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(img, 0, 0);\n\n  var _ctx$getImageData = ctx.getImageData(1, 0, 1, ih),\n      data = _ctx$getImageData.data; // search image edge pixel position in case it is squashed vertically.\n\n\n  var sy = 0;\n  var ey = ih;\n  var py = ih;\n\n  while (py > sy) {\n    var alpha = data[(py - 1) * 4 + 3];\n\n    if (alpha === 0) {\n      ey = py;\n    } else {\n      sy = py;\n    }\n\n    py = ey + sy >> 1;\n  }\n\n  var ratio = py / ih;\n\n  if (ratio === 0) {\n    return 1;\n  } else {\n    return ratio;\n  }\n}; // A replacement for context.drawImage\n// (args are for source and destination).\n\n\nvar drawImageIOSFix = function drawImageIOSFix(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n  var vertSquashRatio = detectVerticalSquash(img);\n  return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n}; // Based on MinifyJpeg\n// Source: http://www.perry.cz/files/ExifRestorer.js\n// http://elicon.blog57.fc2.com/blog-entry-206.html\n\n\nvar ExifRestore = /*#__PURE__*/function () {\n  function ExifRestore() {\n    dropzone_classCallCheck(this, ExifRestore);\n  }\n\n  dropzone_createClass(ExifRestore, null, [{\n    key: \"initClass\",\n    value: function initClass() {\n      this.KEY_STR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    }\n  }, {\n    key: \"encode64\",\n    value: function encode64(input) {\n      var output = \"\";\n      var chr1 = undefined;\n      var chr2 = undefined;\n      var chr3 = \"\";\n      var enc1 = undefined;\n      var enc2 = undefined;\n      var enc3 = undefined;\n      var enc4 = \"\";\n      var i = 0;\n\n      while (true) {\n        chr1 = input[i++];\n        chr2 = input[i++];\n        chr3 = input[i++];\n        enc1 = chr1 >> 2;\n        enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n        enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n        enc4 = chr3 & 63;\n\n        if (isNaN(chr2)) {\n          enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n          enc4 = 64;\n        }\n\n        output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n        chr1 = chr2 = chr3 = \"\";\n        enc1 = enc2 = enc3 = enc4 = \"\";\n\n        if (!(i < input.length)) {\n          break;\n        }\n      }\n\n      return output;\n    }\n  }, {\n    key: \"restore\",\n    value: function restore(origFileBase64, resizedFileBase64) {\n      if (!origFileBase64.match(\"data:image/jpeg;base64,\")) {\n        return resizedFileBase64;\n      }\n\n      var rawImage = this.decode64(origFileBase64.replace(\"data:image/jpeg;base64,\", \"\"));\n      var segments = this.slice2Segments(rawImage);\n      var image = this.exifManipulation(resizedFileBase64, segments);\n      return \"data:image/jpeg;base64,\".concat(this.encode64(image));\n    }\n  }, {\n    key: \"exifManipulation\",\n    value: function exifManipulation(resizedFileBase64, segments) {\n      var exifArray = this.getExifArray(segments);\n      var newImageArray = this.insertExif(resizedFileBase64, exifArray);\n      var aBuffer = new Uint8Array(newImageArray);\n      return aBuffer;\n    }\n  }, {\n    key: \"getExifArray\",\n    value: function getExifArray(segments) {\n      var seg = undefined;\n      var x = 0;\n\n      while (x < segments.length) {\n        seg = segments[x];\n\n        if (seg[0] === 255 & seg[1] === 225) {\n          return seg;\n        }\n\n        x++;\n      }\n\n      return [];\n    }\n  }, {\n    key: \"insertExif\",\n    value: function insertExif(resizedFileBase64, exifArray) {\n      var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\");\n      var buf = this.decode64(imageData);\n      var separatePoint = buf.indexOf(255, 3);\n      var mae = buf.slice(0, separatePoint);\n      var ato = buf.slice(separatePoint);\n      var array = mae;\n      array = array.concat(exifArray);\n      array = array.concat(ato);\n      return array;\n    }\n  }, {\n    key: \"slice2Segments\",\n    value: function slice2Segments(rawImageArray) {\n      var head = 0;\n      var segments = [];\n\n      while (true) {\n        var length;\n\n        if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 218) {\n          break;\n        }\n\n        if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 216) {\n          head += 2;\n        } else {\n          length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3];\n          var endPoint = head + length + 2;\n          var seg = rawImageArray.slice(head, endPoint);\n          segments.push(seg);\n          head = endPoint;\n        }\n\n        if (head > rawImageArray.length) {\n          break;\n        }\n      }\n\n      return segments;\n    }\n  }, {\n    key: \"decode64\",\n    value: function decode64(input) {\n      var output = \"\";\n      var chr1 = undefined;\n      var chr2 = undefined;\n      var chr3 = \"\";\n      var enc1 = undefined;\n      var enc2 = undefined;\n      var enc3 = undefined;\n      var enc4 = \"\";\n      var i = 0;\n      var buf = []; // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n\n      var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n\n      if (base64test.exec(input)) {\n        console.warn(\"There were invalid base64 characters in the input text.\\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\\nExpect errors in decoding.\");\n      }\n\n      input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n      while (true) {\n        enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n        chr1 = enc1 << 2 | enc2 >> 4;\n        chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n        chr3 = (enc3 & 3) << 6 | enc4;\n        buf.push(chr1);\n\n        if (enc3 !== 64) {\n          buf.push(chr2);\n        }\n\n        if (enc4 !== 64) {\n          buf.push(chr3);\n        }\n\n        chr1 = chr2 = chr3 = \"\";\n        enc1 = enc2 = enc3 = enc4 = \"\";\n\n        if (!(i < input.length)) {\n          break;\n        }\n      }\n\n      return buf;\n    }\n  }]);\n\n  return ExifRestore;\n}();\n\nExifRestore.initClass();\n/*\n * contentloaded.js\n *\n * Author: Diego Perini (diego.perini at gmail.com)\n * Summary: cross-browser wrapper for DOMContentLoaded\n * Updated: 20101020\n * License: MIT\n * Version: 1.2\n *\n * URL:\n * http://javascript.nwbox.com/ContentLoaded/\n * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n */\n// @win window reference\n// @fn function reference\n\nvar contentLoaded = function contentLoaded(win, fn) {\n  var done = false;\n  var top = true;\n  var doc = win.document;\n  var root = doc.documentElement;\n  var add = doc.addEventListener ? \"addEventListener\" : \"attachEvent\";\n  var rem = doc.addEventListener ? \"removeEventListener\" : \"detachEvent\";\n  var pre = doc.addEventListener ? \"\" : \"on\";\n\n  var init = function init(e) {\n    if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n      return;\n    }\n\n    (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n\n    if (!done && (done = true)) {\n      return fn.call(win, e.type || e);\n    }\n  };\n\n  var poll = function poll() {\n    try {\n      root.doScroll(\"left\");\n    } catch (e) {\n      setTimeout(poll, 50);\n      return;\n    }\n\n    return init(\"poll\");\n  };\n\n  if (doc.readyState !== \"complete\") {\n    if (doc.createEventObject && root.doScroll) {\n      try {\n        top = !win.frameElement;\n      } catch (error) {}\n\n      if (top) {\n        poll();\n      }\n    }\n\n    doc[add](pre + \"DOMContentLoaded\", init, false);\n    doc[add](pre + \"readystatechange\", init, false);\n    return win[add](pre + \"load\", init, false);\n  }\n}; // As a single function to be able to write tests.\n\n\nDropzone._autoDiscoverFunction = function () {\n  if (Dropzone.autoDiscover) {\n    return Dropzone.discover();\n  }\n};\n\ncontentLoaded(window, Dropzone._autoDiscoverFunction);\n\nfunction __guard__(value, transform) {\n  return typeof value !== \"undefined\" && value !== null ? transform(value) : undefined;\n}\n\nfunction __guardMethod__(obj, methodName, transform) {\n  if (typeof obj !== \"undefined\" && obj !== null && typeof obj[methodName] === \"function\") {\n    return transform(obj, methodName);\n  } else {\n    return undefined;\n  }\n}\n\n\n;// CONCATENATED MODULE: ./tool/dropzone.dist.js\n /// Make Dropzone a global variable.\n\nwindow.Dropzone = Dropzone;\n/* harmony default export */ var dropzone_dist = (Dropzone);\n\n}();\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","\"function\"!=typeof Object.create&&(Object.create=function(t){function o(){}return o.prototype=t,new o}),function(t,o,i,s){\"use strict\";var n={_positionClasses:[\"bottom-left\",\"bottom-right\",\"top-right\",\"top-left\",\"bottom-center\",\"top-center\",\"mid-center\"],_defaultIcons:[\"success\",\"error\",\"info\",\"warning\"],init:function(o,i){this.prepareOptions(o,t.toast.options),this.process()},prepareOptions:function(o,i){var s={};\"string\"==typeof o||o instanceof Array?s.text=o:s=o,this.options=t.extend({},i,s)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var o=\"\";if(this._toastEl=this._toastEl||t(\"<div></div>\",{\"class\":\"jq-toast-single\"}),o+='<span class=\"jq-toast-loader\"></span>',this.options.allowToastClose&&(o+='<span class=\"close-jq-toast-single\">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(o+='<h2 class=\"jq-toast-heading\">'+this.options.heading+\"</h2>\"),o+='<ul class=\"jq-toast-ul\">';for(var i=0;i<this.options.text.length;i++)o+='<li class=\"jq-toast-li\" id=\"jq-toast-item-'+i+'\">'+this.options.text[i]+\"</li>\";o+=\"</ul>\"}else this.options.heading&&(o+='<h2 class=\"jq-toast-heading\">'+this.options.heading+\"</h2>\"),o+=this.options.text;this._toastEl.html(o),this.options.bgColor!==!1&&this._toastEl.css(\"background-color\",this.options.bgColor),this.options.textColor!==!1&&this._toastEl.css(\"color\",this.options.textColor),this.options.textAlign&&this._toastEl.css(\"text-align\",this.options.textAlign),this.options.icon!==!1&&(this._toastEl.addClass(\"jq-has-icon\"),-1!==t.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass(\"jq-icon-\"+this.options.icon)),this.options[\"class\"]!==!1&&this._toastEl.addClass(this.options[\"class\"])},position:function(){\"string\"==typeof this.options.position&&-1!==t.inArray(this.options.position,this._positionClasses)?\"bottom-center\"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):\"top-center\"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,top:20}):\"mid-center\"===this.options.position?this._container.css({left:t(o).outerWidth()/2-this._container.outerWidth()/2,top:t(o).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):\"object\"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:\"auto\",bottom:this.options.position.bottom?this.options.position.bottom:\"auto\",left:this.options.position.left?this.options.position.left:\"auto\",right:this.options.position.right?this.options.position.right:\"auto\"}):this._container.addClass(\"bottom-left\")},bindToast:function(){var t=this;this._toastEl.on(\"afterShown\",function(){t.processLoader()}),this._toastEl.find(\".close-jq-toast-single\").on(\"click\",function(o){o.preventDefault(),\"fade\"===t.options.showHideTransition?(t._toastEl.trigger(\"beforeHide\"),t._toastEl.fadeOut(function(){t._toastEl.trigger(\"afterHidden\")})):\"slide\"===t.options.showHideTransition?(t._toastEl.trigger(\"beforeHide\"),t._toastEl.slideUp(function(){t._toastEl.trigger(\"afterHidden\")})):(t._toastEl.trigger(\"beforeHide\"),t._toastEl.hide(function(){t._toastEl.trigger(\"afterHidden\")}))}),\"function\"==typeof this.options.beforeShow&&this._toastEl.on(\"beforeShow\",function(){t.options.beforeShow()}),\"function\"==typeof this.options.afterShown&&this._toastEl.on(\"afterShown\",function(){t.options.afterShown()}),\"function\"==typeof this.options.beforeHide&&this._toastEl.on(\"beforeHide\",function(){t.options.beforeHide()}),\"function\"==typeof this.options.afterHidden&&this._toastEl.on(\"afterHidden\",function(){t.options.afterHidden()})},addToDom:function(){var o=t(\".jq-toast-wrap\");if(0===o.length?(o=t(\"<div></div>\",{\"class\":\"jq-toast-wrap\"}),t(\"body\").append(o)):(!this.options.stack||isNaN(parseInt(this.options.stack,10)))&&o.empty(),o.find(\".jq-toast-single:hidden\").remove(),o.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var i=o.find(\".jq-toast-single\").length,s=i-this.options.stack;s>0&&t(\".jq-toast-wrap\").find(\".jq-toast-single\").slice(0,s).remove()}this._container=o},canAutoHide:function(){return this.options.hideAfter!==!1&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||this.options.loader===!1)return!1;var t=this._toastEl.find(\".jq-toast-loader\"),o=(this.options.hideAfter-400)/1e3+\"s\",i=this.options.loaderBg,s=t.attr(\"style\")||\"\";s=s.substring(0,s.indexOf(\"-webkit-transition\")),s+=\"-webkit-transition: width \"+o+\" ease-in;                       -o-transition: width \"+o+\" ease-in;                       transition: width \"+o+\" ease-in;                       background-color: \"+i+\";\",t.attr(\"style\",s).addClass(\"jq-toast-loaded\")},animate:function(){var t=this;if(this._toastEl.hide(),this._toastEl.trigger(\"beforeShow\"),\"fade\"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){t._toastEl.trigger(\"afterShown\")}):\"slide\"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){t._toastEl.trigger(\"afterShown\")}):this._toastEl.show(function(){t._toastEl.trigger(\"afterShown\")}),this.canAutoHide()){var t=this;o.setTimeout(function(){\"fade\"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger(\"beforeHide\"),t._toastEl.fadeOut(function(){t._toastEl.trigger(\"afterHidden\")})):\"slide\"===t.options.showHideTransition.toLowerCase()?(t._toastEl.trigger(\"beforeHide\"),t._toastEl.slideUp(function(){t._toastEl.trigger(\"afterHidden\")})):(t._toastEl.trigger(\"beforeHide\"),t._toastEl.hide(function(){t._toastEl.trigger(\"afterHidden\")}))},this.options.hideAfter)}},reset:function(o){\"all\"===o?t(\".jq-toast-wrap\").remove():this._toastEl.remove()},update:function(t){this.prepareOptions(t,this.options),this.setup(),this.bindToast()}};t.toast=function(t){var o=Object.create(n);return o.init(t,this),{reset:function(t){o.reset(t)},update:function(t){o.update(t)}}},t.toast.options={text:\"\",heading:\"\",showHideTransition:\"fade\",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:\"#9EC600\",stack:5,position:\"bottom-left\",bgColor:!1,textColor:!1,textAlign:\"left\",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(jQuery,window,document);","/*!\n* sweetalert2 v10.16.7\n* Released under the MIT License.\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Sweetalert2 = factory());\n}(this, function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  var consolePrefix = 'SweetAlert2:';\n  /**\n   * Filter the unique values into a new array\n   * @param arr\n   */\n\n  var uniqueArray = function uniqueArray(arr) {\n    var result = [];\n\n    for (var i = 0; i < arr.length; i++) {\n      if (result.indexOf(arr[i]) === -1) {\n        result.push(arr[i]);\n      }\n    }\n\n    return result;\n  };\n  /**\n   * Capitalize the first letter of a string\n   * @param str\n   */\n\n  var capitalizeFirstLetter = function capitalizeFirstLetter(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n  /**\n   * Returns the array of object values (Object.values isn't supported in IE11)\n   * @param obj\n   */\n\n  var objectValues = function objectValues(obj) {\n    return Object.keys(obj).map(function (key) {\n      return obj[key];\n    });\n  };\n  /**\n   * Convert NodeList to Array\n   * @param nodeList\n   */\n\n  var toArray = function toArray(nodeList) {\n    return Array.prototype.slice.call(nodeList);\n  };\n  /**\n   * Standardise console warnings\n   * @param message\n   */\n\n  var warn = function warn(message) {\n    console.warn(\"\".concat(consolePrefix, \" \").concat(_typeof(message) === 'object' ? message.join(' ') : message));\n  };\n  /**\n   * Standardise console errors\n   * @param message\n   */\n\n  var error = function error(message) {\n    console.error(\"\".concat(consolePrefix, \" \").concat(message));\n  };\n  /**\n   * Private global state for `warnOnce`\n   * @type {Array}\n   * @private\n   */\n\n  var previousWarnOnceMessages = [];\n  /**\n   * Show a console warning, but only if it hasn't already been shown\n   * @param message\n   */\n\n  var warnOnce = function warnOnce(message) {\n    if (!(previousWarnOnceMessages.indexOf(message) !== -1)) {\n      previousWarnOnceMessages.push(message);\n      warn(message);\n    }\n  };\n  /**\n   * Show a one-time console warning about deprecated params/methods\n   */\n\n  var warnAboutDeprecation = function warnAboutDeprecation(deprecatedParam, useInstead) {\n    warnOnce(\"\\\"\".concat(deprecatedParam, \"\\\" is deprecated and will be removed in the next major release. Please use \\\"\").concat(useInstead, \"\\\" instead.\"));\n  };\n  /**\n   * If `arg` is a function, call it (with no arguments or context) and return the result.\n   * Otherwise, just pass the value through\n   * @param arg\n   */\n\n  var callIfFunction = function callIfFunction(arg) {\n    return typeof arg === 'function' ? arg() : arg;\n  };\n  var hasToPromiseFn = function hasToPromiseFn(arg) {\n    return arg && typeof arg.toPromise === 'function';\n  };\n  var asPromise = function asPromise(arg) {\n    return hasToPromiseFn(arg) ? arg.toPromise() : Promise.resolve(arg);\n  };\n  var isPromise = function isPromise(arg) {\n    return arg && Promise.resolve(arg) === arg;\n  };\n\n  var DismissReason = Object.freeze({\n    cancel: 'cancel',\n    backdrop: 'backdrop',\n    close: 'close',\n    esc: 'esc',\n    timer: 'timer'\n  });\n\n  var isJqueryElement = function isJqueryElement(elem) {\n    return _typeof(elem) === 'object' && elem.jquery;\n  };\n\n  var isElement = function isElement(elem) {\n    return elem instanceof Element || isJqueryElement(elem);\n  };\n\n  var argsToParams = function argsToParams(args) {\n    var params = {};\n\n    if (_typeof(args[0]) === 'object' && !isElement(args[0])) {\n      _extends(params, args[0]);\n    } else {\n      ['title', 'html', 'icon'].forEach(function (name, index) {\n        var arg = args[index];\n\n        if (typeof arg === 'string' || isElement(arg)) {\n          params[name] = arg;\n        } else if (arg !== undefined) {\n          error(\"Unexpected type of \".concat(name, \"! Expected \\\"string\\\" or \\\"Element\\\", got \").concat(_typeof(arg)));\n        }\n      });\n    }\n\n    return params;\n  };\n\n  var swalPrefix = 'swal2-';\n  var prefix = function prefix(items) {\n    var result = {};\n\n    for (var i in items) {\n      result[items[i]] = swalPrefix + items[i];\n    }\n\n    return result;\n  };\n  var swalClasses = prefix(['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'no-transition', 'toast', 'toast-shown', 'show', 'hide', 'close', 'title', 'header', 'content', 'html-container', 'actions', 'confirm', 'deny', 'cancel', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'input-label', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loader', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'timer-progress-bar-container', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error']);\n  var iconTypes = prefix(['success', 'warning', 'info', 'question', 'error']);\n\n  var getContainer = function getContainer() {\n    return document.body.querySelector(\".\".concat(swalClasses.container));\n  };\n  var elementBySelector = function elementBySelector(selectorString) {\n    var container = getContainer();\n    return container ? container.querySelector(selectorString) : null;\n  };\n\n  var elementByClass = function elementByClass(className) {\n    return elementBySelector(\".\".concat(className));\n  };\n\n  var getPopup = function getPopup() {\n    return elementByClass(swalClasses.popup);\n  };\n  var getIcon = function getIcon() {\n    return elementByClass(swalClasses.icon);\n  };\n  var getTitle = function getTitle() {\n    return elementByClass(swalClasses.title);\n  };\n  var getContent = function getContent() {\n    return elementByClass(swalClasses.content);\n  };\n  var getHtmlContainer = function getHtmlContainer() {\n    return elementByClass(swalClasses['html-container']);\n  };\n  var getImage = function getImage() {\n    return elementByClass(swalClasses.image);\n  };\n  var getProgressSteps = function getProgressSteps() {\n    return elementByClass(swalClasses['progress-steps']);\n  };\n  var getValidationMessage = function getValidationMessage() {\n    return elementByClass(swalClasses['validation-message']);\n  };\n  var getConfirmButton = function getConfirmButton() {\n    return elementBySelector(\".\".concat(swalClasses.actions, \" .\").concat(swalClasses.confirm));\n  };\n  var getDenyButton = function getDenyButton() {\n    return elementBySelector(\".\".concat(swalClasses.actions, \" .\").concat(swalClasses.deny));\n  };\n  var getInputLabel = function getInputLabel() {\n    return elementByClass(swalClasses['input-label']);\n  };\n  var getLoader = function getLoader() {\n    return elementBySelector(\".\".concat(swalClasses.loader));\n  };\n  var getCancelButton = function getCancelButton() {\n    return elementBySelector(\".\".concat(swalClasses.actions, \" .\").concat(swalClasses.cancel));\n  };\n  var getActions = function getActions() {\n    return elementByClass(swalClasses.actions);\n  };\n  var getHeader = function getHeader() {\n    return elementByClass(swalClasses.header);\n  };\n  var getFooter = function getFooter() {\n    return elementByClass(swalClasses.footer);\n  };\n  var getTimerProgressBar = function getTimerProgressBar() {\n    return elementByClass(swalClasses['timer-progress-bar']);\n  };\n  var getCloseButton = function getCloseButton() {\n    return elementByClass(swalClasses.close);\n  }; // https://github.com/jkup/focusable/blob/master/index.js\n\n  var focusable = \"\\n  a[href],\\n  area[href],\\n  input:not([disabled]),\\n  select:not([disabled]),\\n  textarea:not([disabled]),\\n  button:not([disabled]),\\n  iframe,\\n  object,\\n  embed,\\n  [tabindex=\\\"0\\\"],\\n  [contenteditable],\\n  audio[controls],\\n  video[controls],\\n  summary\\n\";\n  var getFocusableElements = function getFocusableElements() {\n    var focusableElementsWithTabindex = toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])')) // sort according to tabindex\n    .sort(function (a, b) {\n      a = parseInt(a.getAttribute('tabindex'));\n      b = parseInt(b.getAttribute('tabindex'));\n\n      if (a > b) {\n        return 1;\n      } else if (a < b) {\n        return -1;\n      }\n\n      return 0;\n    });\n    var otherFocusableElements = toArray(getPopup().querySelectorAll(focusable)).filter(function (el) {\n      return el.getAttribute('tabindex') !== '-1';\n    });\n    return uniqueArray(focusableElementsWithTabindex.concat(otherFocusableElements)).filter(function (el) {\n      return isVisible(el);\n    });\n  };\n  var isModal = function isModal() {\n    return !isToast() && !document.body.classList.contains(swalClasses['no-backdrop']);\n  };\n  var isToast = function isToast() {\n    return document.body.classList.contains(swalClasses['toast-shown']);\n  };\n  var isLoading = function isLoading() {\n    return getPopup().hasAttribute('data-loading');\n  };\n\n  var states = {\n    previousBodyPadding: null\n  };\n  var setInnerHtml = function setInnerHtml(elem, html) {\n    // #1926\n    elem.textContent = '';\n\n    if (html) {\n      var parser = new DOMParser();\n      var parsed = parser.parseFromString(html, \"text/html\");\n      toArray(parsed.querySelector('head').childNodes).forEach(function (child) {\n        elem.appendChild(child);\n      });\n      toArray(parsed.querySelector('body').childNodes).forEach(function (child) {\n        elem.appendChild(child);\n      });\n    }\n  };\n  var hasClass = function hasClass(elem, className) {\n    if (!className) {\n      return false;\n    }\n\n    var classList = className.split(/\\s+/);\n\n    for (var i = 0; i < classList.length; i++) {\n      if (!elem.classList.contains(classList[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  var removeCustomClasses = function removeCustomClasses(elem, params) {\n    toArray(elem.classList).forEach(function (className) {\n      if (!(objectValues(swalClasses).indexOf(className) !== -1) && !(objectValues(iconTypes).indexOf(className) !== -1) && !(objectValues(params.showClass).indexOf(className) !== -1)) {\n        elem.classList.remove(className);\n      }\n    });\n  };\n\n  var applyCustomClass = function applyCustomClass(elem, params, className) {\n    removeCustomClasses(elem, params);\n\n    if (params.customClass && params.customClass[className]) {\n      if (typeof params.customClass[className] !== 'string' && !params.customClass[className].forEach) {\n        return warn(\"Invalid type of customClass.\".concat(className, \"! Expected string or iterable object, got \\\"\").concat(_typeof(params.customClass[className]), \"\\\"\"));\n      }\n\n      addClass(elem, params.customClass[className]);\n    }\n  };\n  function getInput(content, inputType) {\n    if (!inputType) {\n      return null;\n    }\n\n    switch (inputType) {\n      case 'select':\n      case 'textarea':\n      case 'file':\n        return getChildByClass(content, swalClasses[inputType]);\n\n      case 'checkbox':\n        return content.querySelector(\".\".concat(swalClasses.checkbox, \" input\"));\n\n      case 'radio':\n        return content.querySelector(\".\".concat(swalClasses.radio, \" input:checked\")) || content.querySelector(\".\".concat(swalClasses.radio, \" input:first-child\"));\n\n      case 'range':\n        return content.querySelector(\".\".concat(swalClasses.range, \" input\"));\n\n      default:\n        return getChildByClass(content, swalClasses.input);\n    }\n  }\n  var focusInput = function focusInput(input) {\n    input.focus(); // place cursor at end of text in text input\n\n    if (input.type !== 'file') {\n      // http://stackoverflow.com/a/2345915\n      var val = input.value;\n      input.value = '';\n      input.value = val;\n    }\n  };\n  var toggleClass = function toggleClass(target, classList, condition) {\n    if (!target || !classList) {\n      return;\n    }\n\n    if (typeof classList === 'string') {\n      classList = classList.split(/\\s+/).filter(Boolean);\n    }\n\n    classList.forEach(function (className) {\n      if (target.forEach) {\n        target.forEach(function (elem) {\n          condition ? elem.classList.add(className) : elem.classList.remove(className);\n        });\n      } else {\n        condition ? target.classList.add(className) : target.classList.remove(className);\n      }\n    });\n  };\n  var addClass = function addClass(target, classList) {\n    toggleClass(target, classList, true);\n  };\n  var removeClass = function removeClass(target, classList) {\n    toggleClass(target, classList, false);\n  };\n  var getChildByClass = function getChildByClass(elem, className) {\n    for (var i = 0; i < elem.childNodes.length; i++) {\n      if (hasClass(elem.childNodes[i], className)) {\n        return elem.childNodes[i];\n      }\n    }\n  };\n  var applyNumericalStyle = function applyNumericalStyle(elem, property, value) {\n    if (value === \"\".concat(parseInt(value))) {\n      value = parseInt(value);\n    }\n\n    if (value || parseInt(value) === 0) {\n      elem.style[property] = typeof value === 'number' ? \"\".concat(value, \"px\") : value;\n    } else {\n      elem.style.removeProperty(property);\n    }\n  };\n  var show = function show(elem) {\n    var display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';\n    elem.style.display = display;\n  };\n  var hide = function hide(elem) {\n    elem.style.display = 'none';\n  };\n  var setStyle = function setStyle(parent, selector, property, value) {\n    var el = parent.querySelector(selector);\n\n    if (el) {\n      el.style[property] = value;\n    }\n  };\n  var toggle = function toggle(elem, condition, display) {\n    condition ? show(elem, display) : hide(elem);\n  }; // borrowed from jquery $(elem).is(':visible') implementation\n\n  var isVisible = function isVisible(elem) {\n    return !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));\n  };\n  var allButtonsAreHidden = function allButtonsAreHidden() {\n    return !isVisible(getConfirmButton()) && !isVisible(getDenyButton()) && !isVisible(getCancelButton());\n  };\n  var isScrollable = function isScrollable(elem) {\n    return !!(elem.scrollHeight > elem.clientHeight);\n  }; // borrowed from https://stackoverflow.com/a/46352119\n\n  var hasCssAnimation = function hasCssAnimation(elem) {\n    var style = window.getComputedStyle(elem);\n    var animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n    var transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n    return animDuration > 0 || transDuration > 0;\n  };\n  var contains = function contains(haystack, needle) {\n    if (typeof haystack.contains === 'function') {\n      return haystack.contains(needle);\n    }\n  };\n  var animateTimerProgressBar = function animateTimerProgressBar(timer) {\n    var reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var timerProgressBar = getTimerProgressBar();\n\n    if (isVisible(timerProgressBar)) {\n      if (reset) {\n        timerProgressBar.style.transition = 'none';\n        timerProgressBar.style.width = '100%';\n      }\n\n      setTimeout(function () {\n        timerProgressBar.style.transition = \"width \".concat(timer / 1000, \"s linear\");\n        timerProgressBar.style.width = '0%';\n      }, 10);\n    }\n  };\n  var stopTimerProgressBar = function stopTimerProgressBar() {\n    var timerProgressBar = getTimerProgressBar();\n    var timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    timerProgressBar.style.removeProperty('transition');\n    timerProgressBar.style.width = '100%';\n    var timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    var timerProgressBarPercent = parseInt(timerProgressBarWidth / timerProgressBarFullWidth * 100);\n    timerProgressBar.style.removeProperty('transition');\n    timerProgressBar.style.width = \"\".concat(timerProgressBarPercent, \"%\");\n  };\n\n  // Detect Node env\n  var isNodeEnv = function isNodeEnv() {\n    return typeof window === 'undefined' || typeof document === 'undefined';\n  };\n\n  var sweetHTML = \"\\n <div aria-labelledby=\\\"\".concat(swalClasses.title, \"\\\" aria-describedby=\\\"\").concat(swalClasses.content, \"\\\" class=\\\"\").concat(swalClasses.popup, \"\\\" tabindex=\\\"-1\\\">\\n   <div class=\\\"\").concat(swalClasses.header, \"\\\">\\n     <ul class=\\\"\").concat(swalClasses['progress-steps'], \"\\\"></ul>\\n     <div class=\\\"\").concat(swalClasses.icon, \"\\\"></div>\\n     <img class=\\\"\").concat(swalClasses.image, \"\\\" />\\n     <h2 class=\\\"\").concat(swalClasses.title, \"\\\" id=\\\"\").concat(swalClasses.title, \"\\\"></h2>\\n     <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.close, \"\\\"></button>\\n   </div>\\n   <div class=\\\"\").concat(swalClasses.content, \"\\\">\\n     <div id=\\\"\").concat(swalClasses.content, \"\\\" class=\\\"\").concat(swalClasses['html-container'], \"\\\"></div>\\n     <input class=\\\"\").concat(swalClasses.input, \"\\\" />\\n     <input type=\\\"file\\\" class=\\\"\").concat(swalClasses.file, \"\\\" />\\n     <div class=\\\"\").concat(swalClasses.range, \"\\\">\\n       <input type=\\\"range\\\" />\\n       <output></output>\\n     </div>\\n     <select class=\\\"\").concat(swalClasses.select, \"\\\"></select>\\n     <div class=\\\"\").concat(swalClasses.radio, \"\\\"></div>\\n     <label for=\\\"\").concat(swalClasses.checkbox, \"\\\" class=\\\"\").concat(swalClasses.checkbox, \"\\\">\\n       <input type=\\\"checkbox\\\" />\\n       <span class=\\\"\").concat(swalClasses.label, \"\\\"></span>\\n     </label>\\n     <textarea class=\\\"\").concat(swalClasses.textarea, \"\\\"></textarea>\\n     <div class=\\\"\").concat(swalClasses['validation-message'], \"\\\" id=\\\"\").concat(swalClasses['validation-message'], \"\\\"></div>\\n   </div>\\n   <div class=\\\"\").concat(swalClasses.actions, \"\\\">\\n     <div class=\\\"\").concat(swalClasses.loader, \"\\\"></div>\\n     <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.confirm, \"\\\"></button>\\n     <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.deny, \"\\\"></button>\\n     <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.cancel, \"\\\"></button>\\n   </div>\\n   <div class=\\\"\").concat(swalClasses.footer, \"\\\"></div>\\n   <div class=\\\"\").concat(swalClasses['timer-progress-bar-container'], \"\\\">\\n     <div class=\\\"\").concat(swalClasses['timer-progress-bar'], \"\\\"></div>\\n   </div>\\n </div>\\n\").replace(/(^|\\n)\\s*/g, '');\n\n  var resetOldContainer = function resetOldContainer() {\n    var oldContainer = getContainer();\n\n    if (!oldContainer) {\n      return false;\n    }\n\n    oldContainer.parentNode.removeChild(oldContainer);\n    removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n    return true;\n  };\n\n  var oldInputVal; // IE11 workaround, see #1109 for details\n\n  var resetValidationMessage = function resetValidationMessage(e) {\n    if (Swal.isVisible() && oldInputVal !== e.target.value) {\n      Swal.resetValidationMessage();\n    }\n\n    oldInputVal = e.target.value;\n  };\n\n  var addInputChangeListeners = function addInputChangeListeners() {\n    var content = getContent();\n    var input = getChildByClass(content, swalClasses.input);\n    var file = getChildByClass(content, swalClasses.file);\n    var range = content.querySelector(\".\".concat(swalClasses.range, \" input\"));\n    var rangeOutput = content.querySelector(\".\".concat(swalClasses.range, \" output\"));\n    var select = getChildByClass(content, swalClasses.select);\n    var checkbox = content.querySelector(\".\".concat(swalClasses.checkbox, \" input\"));\n    var textarea = getChildByClass(content, swalClasses.textarea);\n    input.oninput = resetValidationMessage;\n    file.onchange = resetValidationMessage;\n    select.onchange = resetValidationMessage;\n    checkbox.onchange = resetValidationMessage;\n    textarea.oninput = resetValidationMessage;\n\n    range.oninput = function (e) {\n      resetValidationMessage(e);\n      rangeOutput.value = range.value;\n    };\n\n    range.onchange = function (e) {\n      resetValidationMessage(e);\n      range.nextSibling.value = range.value;\n    };\n  };\n\n  var getTarget = function getTarget(target) {\n    return typeof target === 'string' ? document.querySelector(target) : target;\n  };\n\n  var setupAccessibility = function setupAccessibility(params) {\n    var popup = getPopup();\n    popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n    popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n\n    if (!params.toast) {\n      popup.setAttribute('aria-modal', 'true');\n    }\n  };\n\n  var setupRTL = function setupRTL(targetElement) {\n    if (window.getComputedStyle(targetElement).direction === 'rtl') {\n      addClass(getContainer(), swalClasses.rtl);\n    }\n  };\n  /*\n   * Add modal + backdrop to DOM\n   */\n\n\n  var init = function init(params) {\n    // Clean up the old popup container if it exists\n    var oldContainerExisted = resetOldContainer();\n    /* istanbul ignore if */\n\n    if (isNodeEnv()) {\n      error('SweetAlert2 requires document to initialize');\n      return;\n    }\n\n    var container = document.createElement('div');\n    container.className = swalClasses.container;\n\n    if (oldContainerExisted) {\n      addClass(container, swalClasses['no-transition']);\n    }\n\n    setInnerHtml(container, sweetHTML);\n    var targetElement = getTarget(params.target);\n    targetElement.appendChild(container);\n    setupAccessibility(params);\n    setupRTL(targetElement);\n    addInputChangeListeners();\n  };\n\n  var parseHtmlToContainer = function parseHtmlToContainer(param, target) {\n    // DOM element\n    if (param instanceof HTMLElement) {\n      target.appendChild(param); // Object\n    } else if (_typeof(param) === 'object') {\n      handleObject(param, target); // Plain string\n    } else if (param) {\n      setInnerHtml(target, param);\n    }\n  };\n\n  var handleObject = function handleObject(param, target) {\n    // JQuery element(s)\n    if (param.jquery) {\n      handleJqueryElem(target, param); // For other objects use their string representation\n    } else {\n      setInnerHtml(target, param.toString());\n    }\n  };\n\n  var handleJqueryElem = function handleJqueryElem(target, elem) {\n    target.textContent = '';\n\n    if (0 in elem) {\n      for (var i = 0; (i in elem); i++) {\n        target.appendChild(elem[i].cloneNode(true));\n      }\n    } else {\n      target.appendChild(elem.cloneNode(true));\n    }\n  };\n\n  var animationEndEvent = function () {\n    // Prevent run in Node env\n\n    /* istanbul ignore if */\n    if (isNodeEnv()) {\n      return false;\n    }\n\n    var testEl = document.createElement('div');\n    var transEndEventNames = {\n      WebkitAnimation: 'webkitAnimationEnd',\n      OAnimation: 'oAnimationEnd oanimationend',\n      animation: 'animationend'\n    };\n\n    for (var i in transEndEventNames) {\n      if (Object.prototype.hasOwnProperty.call(transEndEventNames, i) && typeof testEl.style[i] !== 'undefined') {\n        return transEndEventNames[i];\n      }\n    }\n\n    return false;\n  }();\n\n  // https://github.com/twbs/bootstrap/blob/master/js/src/modal.js\n\n  var measureScrollbar = function measureScrollbar() {\n    var scrollDiv = document.createElement('div');\n    scrollDiv.className = swalClasses['scrollbar-measure'];\n    document.body.appendChild(scrollDiv);\n    var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    return scrollbarWidth;\n  };\n\n  var renderActions = function renderActions(instance, params) {\n    var actions = getActions();\n    var loader = getLoader();\n    var confirmButton = getConfirmButton();\n    var denyButton = getDenyButton();\n    var cancelButton = getCancelButton(); // Actions (buttons) wrapper\n\n    if (!params.showConfirmButton && !params.showDenyButton && !params.showCancelButton) {\n      hide(actions);\n    } // Custom class\n\n\n    applyCustomClass(actions, params, 'actions'); // Render buttons\n\n    renderButton(confirmButton, 'confirm', params);\n    renderButton(denyButton, 'deny', params);\n    renderButton(cancelButton, 'cancel', params);\n    handleButtonsStyling(confirmButton, denyButton, cancelButton, params);\n\n    if (params.reverseButtons) {\n      actions.insertBefore(cancelButton, loader);\n      actions.insertBefore(denyButton, loader);\n      actions.insertBefore(confirmButton, loader);\n    } // Loader\n\n\n    setInnerHtml(loader, params.loaderHtml);\n    applyCustomClass(loader, params, 'loader');\n  };\n\n  function handleButtonsStyling(confirmButton, denyButton, cancelButton, params) {\n    if (!params.buttonsStyling) {\n      return removeClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n    }\n\n    addClass([confirmButton, denyButton, cancelButton], swalClasses.styled); // Buttons background colors\n\n    if (params.confirmButtonColor) {\n      confirmButton.style.backgroundColor = params.confirmButtonColor;\n    }\n\n    if (params.denyButtonColor) {\n      denyButton.style.backgroundColor = params.denyButtonColor;\n    }\n\n    if (params.cancelButtonColor) {\n      cancelButton.style.backgroundColor = params.cancelButtonColor;\n    }\n  }\n\n  function renderButton(button, buttonType, params) {\n    toggle(button, params[\"show\".concat(capitalizeFirstLetter(buttonType), \"Button\")], 'inline-block');\n    setInnerHtml(button, params[\"\".concat(buttonType, \"ButtonText\")]); // Set caption text\n\n    button.setAttribute('aria-label', params[\"\".concat(buttonType, \"ButtonAriaLabel\")]); // ARIA label\n    // Add buttons custom classes\n\n    button.className = swalClasses[buttonType];\n    applyCustomClass(button, params, \"\".concat(buttonType, \"Button\"));\n    addClass(button, params[\"\".concat(buttonType, \"ButtonClass\")]);\n  }\n\n  function handleBackdropParam(container, backdrop) {\n    if (typeof backdrop === 'string') {\n      container.style.background = backdrop;\n    } else if (!backdrop) {\n      addClass([document.documentElement, document.body], swalClasses['no-backdrop']);\n    }\n  }\n\n  function handlePositionParam(container, position) {\n    if (position in swalClasses) {\n      addClass(container, swalClasses[position]);\n    } else {\n      warn('The \"position\" parameter is not valid, defaulting to \"center\"');\n      addClass(container, swalClasses.center);\n    }\n  }\n\n  function handleGrowParam(container, grow) {\n    if (grow && typeof grow === 'string') {\n      var growClass = \"grow-\".concat(grow);\n\n      if (growClass in swalClasses) {\n        addClass(container, swalClasses[growClass]);\n      }\n    }\n  }\n\n  var renderContainer = function renderContainer(instance, params) {\n    var container = getContainer();\n\n    if (!container) {\n      return;\n    }\n\n    handleBackdropParam(container, params.backdrop);\n\n    if (!params.backdrop && params.allowOutsideClick) {\n      warn('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`');\n    }\n\n    handlePositionParam(container, params.position);\n    handleGrowParam(container, params.grow); // Custom class\n\n    applyCustomClass(container, params, 'container'); // Set queue step attribute for getQueueStep() method\n\n    var queueStep = document.body.getAttribute('data-swal2-queue-step');\n\n    if (queueStep) {\n      container.setAttribute('data-queue-step', queueStep);\n      document.body.removeAttribute('data-swal2-queue-step');\n    }\n  };\n\n  /**\n   * This module containts `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n  var privateProps = {\n    promise: new WeakMap(),\n    innerParams: new WeakMap(),\n    domCache: new WeakMap()\n  };\n\n  var inputTypes = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];\n  var renderInput = function renderInput(instance, params) {\n    var content = getContent();\n    var innerParams = privateProps.innerParams.get(instance);\n    var rerender = !innerParams || params.input !== innerParams.input;\n    inputTypes.forEach(function (inputType) {\n      var inputClass = swalClasses[inputType];\n      var inputContainer = getChildByClass(content, inputClass); // set attributes\n\n      setAttributes(inputType, params.inputAttributes); // set class\n\n      inputContainer.className = inputClass;\n\n      if (rerender) {\n        hide(inputContainer);\n      }\n    });\n\n    if (params.input) {\n      if (rerender) {\n        showInput(params);\n      } // set custom class\n\n\n      setCustomClass(params);\n    }\n  };\n\n  var showInput = function showInput(params) {\n    if (!renderInputType[params.input]) {\n      return error(\"Unexpected type of input! Expected \\\"text\\\", \\\"email\\\", \\\"password\\\", \\\"number\\\", \\\"tel\\\", \\\"select\\\", \\\"radio\\\", \\\"checkbox\\\", \\\"textarea\\\", \\\"file\\\" or \\\"url\\\", got \\\"\".concat(params.input, \"\\\"\"));\n    }\n\n    var inputContainer = getInputContainer(params.input);\n    var input = renderInputType[params.input](inputContainer, params);\n    show(input); // input autofocus\n\n    setTimeout(function () {\n      focusInput(input);\n    });\n  };\n\n  var removeAttributes = function removeAttributes(input) {\n    for (var i = 0; i < input.attributes.length; i++) {\n      var attrName = input.attributes[i].name;\n\n      if (!(['type', 'value', 'style'].indexOf(attrName) !== -1)) {\n        input.removeAttribute(attrName);\n      }\n    }\n  };\n\n  var setAttributes = function setAttributes(inputType, inputAttributes) {\n    var input = getInput(getContent(), inputType);\n\n    if (!input) {\n      return;\n    }\n\n    removeAttributes(input);\n\n    for (var attr in inputAttributes) {\n      // Do not set a placeholder for <input type=\"range\">\n      // it'll crash Edge, #1298\n      if (inputType === 'range' && attr === 'placeholder') {\n        continue;\n      }\n\n      input.setAttribute(attr, inputAttributes[attr]);\n    }\n  };\n\n  var setCustomClass = function setCustomClass(params) {\n    var inputContainer = getInputContainer(params.input);\n\n    if (params.customClass) {\n      addClass(inputContainer, params.customClass.input);\n    }\n  };\n\n  var setInputPlaceholder = function setInputPlaceholder(input, params) {\n    if (!input.placeholder || params.inputPlaceholder) {\n      input.placeholder = params.inputPlaceholder;\n    }\n  };\n\n  var setInputLabel = function setInputLabel(input, prependTo, params) {\n    if (params.inputLabel) {\n      input.id = swalClasses.input;\n      var label = document.createElement('label');\n      var labelClass = swalClasses['input-label'];\n      label.setAttribute('for', input.id);\n      label.className = labelClass;\n      addClass(label, params.customClass.inputLabel);\n      label.innerText = params.inputLabel;\n      prependTo.insertAdjacentElement('beforebegin', label);\n    }\n  };\n\n  var getInputContainer = function getInputContainer(inputType) {\n    var inputClass = swalClasses[inputType] ? swalClasses[inputType] : swalClasses.input;\n    return getChildByClass(getContent(), inputClass);\n  };\n\n  var renderInputType = {};\n\n  renderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = function (input, params) {\n    if (typeof params.inputValue === 'string' || typeof params.inputValue === 'number') {\n      input.value = params.inputValue;\n    } else if (!isPromise(params.inputValue)) {\n      warn(\"Unexpected type of inputValue! Expected \\\"string\\\", \\\"number\\\" or \\\"Promise\\\", got \\\"\".concat(_typeof(params.inputValue), \"\\\"\"));\n    }\n\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    input.type = params.input;\n    return input;\n  };\n\n  renderInputType.file = function (input, params) {\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    return input;\n  };\n\n  renderInputType.range = function (range, params) {\n    var rangeInput = range.querySelector('input');\n    var rangeOutput = range.querySelector('output');\n    rangeInput.value = params.inputValue;\n    rangeInput.type = params.input;\n    rangeOutput.value = params.inputValue;\n    setInputLabel(rangeInput, range, params);\n    return range;\n  };\n\n  renderInputType.select = function (select, params) {\n    select.textContent = '';\n\n    if (params.inputPlaceholder) {\n      var placeholder = document.createElement('option');\n      setInnerHtml(placeholder, params.inputPlaceholder);\n      placeholder.value = '';\n      placeholder.disabled = true;\n      placeholder.selected = true;\n      select.appendChild(placeholder);\n    }\n\n    setInputLabel(select, select, params);\n    return select;\n  };\n\n  renderInputType.radio = function (radio) {\n    radio.textContent = '';\n    return radio;\n  };\n\n  renderInputType.checkbox = function (checkboxContainer, params) {\n    var checkbox = getInput(getContent(), 'checkbox');\n    checkbox.value = 1;\n    checkbox.id = swalClasses.checkbox;\n    checkbox.checked = Boolean(params.inputValue);\n    var label = checkboxContainer.querySelector('span');\n    setInnerHtml(label, params.inputPlaceholder);\n    return checkboxContainer;\n  };\n\n  renderInputType.textarea = function (textarea, params) {\n    textarea.value = params.inputValue;\n    setInputPlaceholder(textarea, params);\n    setInputLabel(textarea, textarea, params);\n\n    var getPadding = function getPadding(el) {\n      return parseInt(window.getComputedStyle(el).paddingLeft) + parseInt(window.getComputedStyle(el).paddingRight);\n    };\n\n    if ('MutationObserver' in window) {\n      // #1699\n      var initialPopupWidth = parseInt(window.getComputedStyle(getPopup()).width);\n\n      var outputsize = function outputsize() {\n        var contentWidth = textarea.offsetWidth + getPadding(getPopup()) + getPadding(getContent());\n\n        if (contentWidth > initialPopupWidth) {\n          getPopup().style.width = \"\".concat(contentWidth, \"px\");\n        } else {\n          getPopup().style.width = null;\n        }\n      };\n\n      new MutationObserver(outputsize).observe(textarea, {\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n\n    return textarea;\n  };\n\n  var renderContent = function renderContent(instance, params) {\n    var htmlContainer = getHtmlContainer();\n    applyCustomClass(htmlContainer, params, 'htmlContainer'); // Content as HTML\n\n    if (params.html) {\n      parseHtmlToContainer(params.html, htmlContainer);\n      show(htmlContainer, 'block'); // Content as plain text\n    } else if (params.text) {\n      htmlContainer.textContent = params.text;\n      show(htmlContainer, 'block'); // No content\n    } else {\n      hide(htmlContainer);\n    }\n\n    renderInput(instance, params); // Custom class\n\n    applyCustomClass(getContent(), params, 'content');\n  };\n\n  var renderFooter = function renderFooter(instance, params) {\n    var footer = getFooter();\n    toggle(footer, params.footer);\n\n    if (params.footer) {\n      parseHtmlToContainer(params.footer, footer);\n    } // Custom class\n\n\n    applyCustomClass(footer, params, 'footer');\n  };\n\n  var renderCloseButton = function renderCloseButton(instance, params) {\n    var closeButton = getCloseButton();\n    setInnerHtml(closeButton, params.closeButtonHtml); // Custom class\n\n    applyCustomClass(closeButton, params, 'closeButton');\n    toggle(closeButton, params.showCloseButton);\n    closeButton.setAttribute('aria-label', params.closeButtonAriaLabel);\n  };\n\n  var renderIcon = function renderIcon(instance, params) {\n    var innerParams = privateProps.innerParams.get(instance);\n    var icon = getIcon(); // if the given icon already rendered, apply the styling without re-rendering the icon\n\n    if (innerParams && params.icon === innerParams.icon) {\n      // Custom or default content\n      setContent(icon, params);\n      applyStyles(icon, params);\n      return;\n    }\n\n    if (!params.icon && !params.iconHtml) {\n      return hide(icon);\n    }\n\n    if (params.icon && Object.keys(iconTypes).indexOf(params.icon) === -1) {\n      error(\"Unknown icon! Expected \\\"success\\\", \\\"error\\\", \\\"warning\\\", \\\"info\\\" or \\\"question\\\", got \\\"\".concat(params.icon, \"\\\"\"));\n      return hide(icon);\n    }\n\n    show(icon); // Custom or default content\n\n    setContent(icon, params);\n    applyStyles(icon, params); // Animate icon\n\n    addClass(icon, params.showClass.icon);\n  };\n\n  var applyStyles = function applyStyles(icon, params) {\n    for (var iconType in iconTypes) {\n      if (params.icon !== iconType) {\n        removeClass(icon, iconTypes[iconType]);\n      }\n    }\n\n    addClass(icon, iconTypes[params.icon]); // Icon color\n\n    setColor(icon, params); // Success icon background color\n\n    adjustSuccessIconBackgoundColor(); // Custom class\n\n    applyCustomClass(icon, params, 'icon');\n  }; // Adjust success icon background color to match the popup background color\n\n\n  var adjustSuccessIconBackgoundColor = function adjustSuccessIconBackgoundColor() {\n    var popup = getPopup();\n    var popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');\n    var successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');\n\n    for (var i = 0; i < successIconParts.length; i++) {\n      successIconParts[i].style.backgroundColor = popupBackgroundColor;\n    }\n  };\n\n  var setContent = function setContent(icon, params) {\n    icon.textContent = '';\n\n    if (params.iconHtml) {\n      setInnerHtml(icon, iconContent(params.iconHtml));\n    } else if (params.icon === 'success') {\n      setInnerHtml(icon, \"\\n      <div class=\\\"swal2-success-circular-line-left\\\"></div>\\n      <span class=\\\"swal2-success-line-tip\\\"></span> <span class=\\\"swal2-success-line-long\\\"></span>\\n      <div class=\\\"swal2-success-ring\\\"></div> <div class=\\\"swal2-success-fix\\\"></div>\\n      <div class=\\\"swal2-success-circular-line-right\\\"></div>\\n    \");\n    } else if (params.icon === 'error') {\n      setInnerHtml(icon, \"\\n      <span class=\\\"swal2-x-mark\\\">\\n        <span class=\\\"swal2-x-mark-line-left\\\"></span>\\n        <span class=\\\"swal2-x-mark-line-right\\\"></span>\\n      </span>\\n    \");\n    } else {\n      var defaultIconHtml = {\n        question: '?',\n        warning: '!',\n        info: 'i'\n      };\n      setInnerHtml(icon, iconContent(defaultIconHtml[params.icon]));\n    }\n  };\n\n  var setColor = function setColor(icon, params) {\n    if (!params.iconColor) {\n      return;\n    }\n\n    icon.style.color = params.iconColor;\n    icon.style.borderColor = params.iconColor;\n\n    for (var _i = 0, _arr = ['.swal2-success-line-tip', '.swal2-success-line-long', '.swal2-x-mark-line-left', '.swal2-x-mark-line-right']; _i < _arr.length; _i++) {\n      var sel = _arr[_i];\n      setStyle(icon, sel, 'backgroundColor', params.iconColor);\n    }\n\n    setStyle(icon, '.swal2-success-ring', 'borderColor', params.iconColor);\n  };\n\n  var iconContent = function iconContent(content) {\n    return \"<div class=\\\"\".concat(swalClasses['icon-content'], \"\\\">\").concat(content, \"</div>\");\n  };\n\n  var renderImage = function renderImage(instance, params) {\n    var image = getImage();\n\n    if (!params.imageUrl) {\n      return hide(image);\n    }\n\n    show(image, ''); // Src, alt\n\n    image.setAttribute('src', params.imageUrl);\n    image.setAttribute('alt', params.imageAlt); // Width, height\n\n    applyNumericalStyle(image, 'width', params.imageWidth);\n    applyNumericalStyle(image, 'height', params.imageHeight); // Class\n\n    image.className = swalClasses.image;\n    applyCustomClass(image, params, 'image');\n  };\n\n  var currentSteps = [];\n  /*\n   * Global function for chaining sweetAlert popups\n   */\n\n  var queue = function queue(steps) {\n    warnAboutDeprecation('Swal.queue()', \"async/await\");\n    var Swal = this;\n    currentSteps = steps;\n\n    var resetAndResolve = function resetAndResolve(resolve, value) {\n      currentSteps = [];\n      resolve(value);\n    };\n\n    var queueResult = [];\n    return new Promise(function (resolve) {\n      (function step(i, callback) {\n        if (i < currentSteps.length) {\n          document.body.setAttribute('data-swal2-queue-step', i);\n          Swal.fire(currentSteps[i]).then(function (result) {\n            if (typeof result.value !== 'undefined') {\n              queueResult.push(result.value);\n              step(i + 1, callback);\n            } else {\n              resetAndResolve(resolve, {\n                dismiss: result.dismiss\n              });\n            }\n          });\n        } else {\n          resetAndResolve(resolve, {\n            value: queueResult\n          });\n        }\n      })(0);\n    });\n  };\n  /*\n   * Global function for getting the index of current popup in queue\n   */\n\n  var getQueueStep = function getQueueStep() {\n    return getContainer() && getContainer().getAttribute('data-queue-step');\n  };\n  /*\n   * Global function for inserting a popup to the queue\n   */\n\n  var insertQueueStep = function insertQueueStep(step, index) {\n    if (index && index < currentSteps.length) {\n      return currentSteps.splice(index, 0, step);\n    }\n\n    return currentSteps.push(step);\n  };\n  /*\n   * Global function for deleting a popup from the queue\n   */\n\n  var deleteQueueStep = function deleteQueueStep(index) {\n    if (typeof currentSteps[index] !== 'undefined') {\n      currentSteps.splice(index, 1);\n    }\n  };\n\n  var createStepElement = function createStepElement(step) {\n    var stepEl = document.createElement('li');\n    addClass(stepEl, swalClasses['progress-step']);\n    setInnerHtml(stepEl, step);\n    return stepEl;\n  };\n\n  var createLineElement = function createLineElement(params) {\n    var lineEl = document.createElement('li');\n    addClass(lineEl, swalClasses['progress-step-line']);\n\n    if (params.progressStepsDistance) {\n      lineEl.style.width = params.progressStepsDistance;\n    }\n\n    return lineEl;\n  };\n\n  var renderProgressSteps = function renderProgressSteps(instance, params) {\n    var progressStepsContainer = getProgressSteps();\n\n    if (!params.progressSteps || params.progressSteps.length === 0) {\n      return hide(progressStepsContainer);\n    }\n\n    show(progressStepsContainer);\n    progressStepsContainer.textContent = '';\n    var currentProgressStep = parseInt(params.currentProgressStep === undefined ? getQueueStep() : params.currentProgressStep);\n\n    if (currentProgressStep >= params.progressSteps.length) {\n      warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');\n    }\n\n    params.progressSteps.forEach(function (step, index) {\n      var stepEl = createStepElement(step);\n      progressStepsContainer.appendChild(stepEl);\n\n      if (index === currentProgressStep) {\n        addClass(stepEl, swalClasses['active-progress-step']);\n      }\n\n      if (index !== params.progressSteps.length - 1) {\n        var lineEl = createLineElement(params);\n        progressStepsContainer.appendChild(lineEl);\n      }\n    });\n  };\n\n  var renderTitle = function renderTitle(instance, params) {\n    var title = getTitle();\n    toggle(title, params.title || params.titleText, 'block');\n\n    if (params.title) {\n      parseHtmlToContainer(params.title, title);\n    }\n\n    if (params.titleText) {\n      title.innerText = params.titleText;\n    } // Custom class\n\n\n    applyCustomClass(title, params, 'title');\n  };\n\n  var renderHeader = function renderHeader(instance, params) {\n    var header = getHeader(); // Custom class\n\n    applyCustomClass(header, params, 'header'); // Progress steps\n\n    renderProgressSteps(instance, params); // Icon\n\n    renderIcon(instance, params); // Image\n\n    renderImage(instance, params); // Title\n\n    renderTitle(instance, params); // Close button\n\n    renderCloseButton(instance, params);\n  };\n\n  var renderPopup = function renderPopup(instance, params) {\n    var container = getContainer();\n    var popup = getPopup(); // Width\n\n    if (params.toast) {\n      // #2170\n      applyNumericalStyle(container, 'width', params.width);\n      popup.style.width = '100%';\n    } else {\n      applyNumericalStyle(popup, 'width', params.width);\n    } // Padding\n\n\n    applyNumericalStyle(popup, 'padding', params.padding); // Background\n\n    if (params.background) {\n      popup.style.background = params.background;\n    }\n\n    hide(getValidationMessage()); // Classes\n\n    addClasses(popup, params);\n  };\n\n  var addClasses = function addClasses(popup, params) {\n    // Default Class + showClass when updating Swal.update({})\n    popup.className = \"\".concat(swalClasses.popup, \" \").concat(isVisible(popup) ? params.showClass.popup : '');\n\n    if (params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['toast-shown']);\n      addClass(popup, swalClasses.toast);\n    } else {\n      addClass(popup, swalClasses.modal);\n    } // Custom class\n\n\n    applyCustomClass(popup, params, 'popup');\n\n    if (typeof params.customClass === 'string') {\n      addClass(popup, params.customClass);\n    } // Icon class (#1842)\n\n\n    if (params.icon) {\n      addClass(popup, swalClasses[\"icon-\".concat(params.icon)]);\n    }\n  };\n\n  var render = function render(instance, params) {\n    renderPopup(instance, params);\n    renderContainer(instance, params);\n    renderHeader(instance, params);\n    renderContent(instance, params);\n    renderActions(instance, params);\n    renderFooter(instance, params);\n\n    if (typeof params.didRender === 'function') {\n      params.didRender(getPopup());\n    } else if (typeof params.onRender === 'function') {\n      params.onRender(getPopup()); // @deprecated\n    }\n  };\n\n  /*\n   * Global function to determine if SweetAlert2 popup is shown\n   */\n\n  var isVisible$1 = function isVisible$$1() {\n    return isVisible(getPopup());\n  };\n  /*\n   * Global function to click 'Confirm' button\n   */\n\n  var clickConfirm = function clickConfirm() {\n    return getConfirmButton() && getConfirmButton().click();\n  };\n  /*\n   * Global function to click 'Deny' button\n   */\n\n  var clickDeny = function clickDeny() {\n    return getDenyButton() && getDenyButton().click();\n  };\n  /*\n   * Global function to click 'Cancel' button\n   */\n\n  var clickCancel = function clickCancel() {\n    return getCancelButton() && getCancelButton().click();\n  };\n\n  function fire() {\n    var Swal = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _construct(Swal, args);\n  }\n\n  /**\n   * Returns an extended version of `Swal` containing `params` as defaults.\n   * Useful for reusing Swal configuration.\n   *\n   * For example:\n   *\n   * Before:\n   * const textPromptOptions = { input: 'text', showCancelButton: true }\n   * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })\n   * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })\n   *\n   * After:\n   * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })\n   * const {value: firstName} = await TextPrompt('What is your first name?')\n   * const {value: lastName} = await TextPrompt('What is your last name?')\n   *\n   * @param mixinParams\n   */\n  function mixin(mixinParams) {\n    var MixinSwal = /*#__PURE__*/function (_this) {\n      _inherits(MixinSwal, _this);\n\n      var _super = _createSuper(MixinSwal);\n\n      function MixinSwal() {\n        _classCallCheck(this, MixinSwal);\n\n        return _super.apply(this, arguments);\n      }\n\n      _createClass(MixinSwal, [{\n        key: \"_main\",\n        value: function _main(params, priorityMixinParams) {\n          return _get(_getPrototypeOf(MixinSwal.prototype), \"_main\", this).call(this, params, _extends({}, mixinParams, priorityMixinParams));\n        }\n      }]);\n\n      return MixinSwal;\n    }(this);\n\n    return MixinSwal;\n  }\n\n  /**\n   * Shows loader (spinner), this is useful with AJAX requests.\n   * By default the loader be shown instead of the \"Confirm\" button.\n   */\n\n  var showLoading = function showLoading(buttonToReplace) {\n    var popup = getPopup();\n\n    if (!popup) {\n      Swal.fire();\n    }\n\n    popup = getPopup();\n    var actions = getActions();\n    var loader = getLoader();\n\n    if (!buttonToReplace && isVisible(getConfirmButton())) {\n      buttonToReplace = getConfirmButton();\n    }\n\n    show(actions);\n\n    if (buttonToReplace) {\n      hide(buttonToReplace);\n      loader.setAttribute('data-button-to-replace', buttonToReplace.className);\n    }\n\n    loader.parentNode.insertBefore(loader, buttonToReplace);\n    addClass([popup, actions], swalClasses.loading);\n    show(loader);\n    popup.setAttribute('data-loading', true);\n    popup.setAttribute('aria-busy', true);\n    popup.focus();\n  };\n\n  var RESTORE_FOCUS_TIMEOUT = 100;\n\n  var globalState = {};\n\n  var focusPreviousActiveElement = function focusPreviousActiveElement() {\n    if (globalState.previousActiveElement && globalState.previousActiveElement.focus) {\n      globalState.previousActiveElement.focus();\n      globalState.previousActiveElement = null;\n    } else if (document.body) {\n      document.body.focus();\n    }\n  }; // Restore previous active (focused) element\n\n\n  var restoreActiveElement = function restoreActiveElement(returnFocus) {\n    return new Promise(function (resolve) {\n      if (!returnFocus) {\n        return resolve();\n      }\n\n      var x = window.scrollX;\n      var y = window.scrollY;\n      globalState.restoreFocusTimeout = setTimeout(function () {\n        focusPreviousActiveElement();\n        resolve();\n      }, RESTORE_FOCUS_TIMEOUT); // issues/900\n\n      if (typeof x !== 'undefined' && typeof y !== 'undefined') {\n        // IE doesn't have scrollX/scrollY support\n        window.scrollTo(x, y);\n      }\n    });\n  };\n\n  /**\n   * If `timer` parameter is set, returns number of milliseconds of timer remained.\n   * Otherwise, returns undefined.\n   */\n\n  var getTimerLeft = function getTimerLeft() {\n    return globalState.timeout && globalState.timeout.getTimerLeft();\n  };\n  /**\n   * Stop timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   */\n\n  var stopTimer = function stopTimer() {\n    if (globalState.timeout) {\n      stopTimerProgressBar();\n      return globalState.timeout.stop();\n    }\n  };\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   */\n\n  var resumeTimer = function resumeTimer() {\n    if (globalState.timeout) {\n      var remaining = globalState.timeout.start();\n      animateTimerProgressBar(remaining);\n      return remaining;\n    }\n  };\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   */\n\n  var toggleTimer = function toggleTimer() {\n    var timer = globalState.timeout;\n    return timer && (timer.running ? stopTimer() : resumeTimer());\n  };\n  /**\n   * Increase timer. Returns number of milliseconds of an updated timer.\n   * If `timer` parameter isn't set, returns undefined.\n   */\n\n  var increaseTimer = function increaseTimer(n) {\n    if (globalState.timeout) {\n      var remaining = globalState.timeout.increase(n);\n      animateTimerProgressBar(remaining, true);\n      return remaining;\n    }\n  };\n  /**\n   * Check if timer is running. Returns true if timer is running\n   * or false if timer is paused or stopped.\n   * If `timer` parameter isn't set, returns undefined\n   */\n\n  var isTimerRunning = function isTimerRunning() {\n    return globalState.timeout && globalState.timeout.isRunning();\n  };\n\n  var bodyClickListenerAdded = false;\n  var clickHandlers = {};\n  function bindClickHandler() {\n    var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data-swal-template';\n    clickHandlers[attr] = this;\n\n    if (!bodyClickListenerAdded) {\n      document.body.addEventListener('click', bodyClickListener);\n      bodyClickListenerAdded = true;\n    }\n  }\n\n  var bodyClickListener = function bodyClickListener(event) {\n    // 1. using .parentNode instead of event.path because of better support by old browsers https://stackoverflow.com/a/39245638\n    // 2. using .parentNode instead of .parentElement because of IE11 + SVG https://stackoverflow.com/a/36270354\n    for (var el = event.target; el && el !== document; el = el.parentNode) {\n      for (var attr in clickHandlers) {\n        var template = el.getAttribute(attr);\n\n        if (template) {\n          clickHandlers[attr].fire({\n            template: template\n          });\n          return;\n        }\n      }\n    }\n  };\n\n  var defaultParams = {\n    title: '',\n    titleText: '',\n    text: '',\n    html: '',\n    footer: '',\n    icon: undefined,\n    iconColor: undefined,\n    iconHtml: undefined,\n    template: undefined,\n    toast: false,\n    animation: true,\n    showClass: {\n      popup: 'swal2-show',\n      backdrop: 'swal2-backdrop-show',\n      icon: 'swal2-icon-show'\n    },\n    hideClass: {\n      popup: 'swal2-hide',\n      backdrop: 'swal2-backdrop-hide',\n      icon: 'swal2-icon-hide'\n    },\n    customClass: {},\n    target: 'body',\n    backdrop: true,\n    heightAuto: true,\n    allowOutsideClick: true,\n    allowEscapeKey: true,\n    allowEnterKey: true,\n    stopKeydownPropagation: true,\n    keydownListenerCapture: false,\n    showConfirmButton: true,\n    showDenyButton: false,\n    showCancelButton: false,\n    preConfirm: undefined,\n    preDeny: undefined,\n    confirmButtonText: 'OK',\n    confirmButtonAriaLabel: '',\n    confirmButtonColor: undefined,\n    denyButtonText: 'No',\n    denyButtonAriaLabel: '',\n    denyButtonColor: undefined,\n    cancelButtonText: 'Cancel',\n    cancelButtonAriaLabel: '',\n    cancelButtonColor: undefined,\n    buttonsStyling: true,\n    reverseButtons: false,\n    focusConfirm: true,\n    focusDeny: false,\n    focusCancel: false,\n    returnFocus: true,\n    showCloseButton: false,\n    closeButtonHtml: '&times;',\n    closeButtonAriaLabel: 'Close this dialog',\n    loaderHtml: '',\n    showLoaderOnConfirm: false,\n    showLoaderOnDeny: false,\n    imageUrl: undefined,\n    imageWidth: undefined,\n    imageHeight: undefined,\n    imageAlt: '',\n    timer: undefined,\n    timerProgressBar: false,\n    width: undefined,\n    padding: undefined,\n    background: undefined,\n    input: undefined,\n    inputPlaceholder: '',\n    inputLabel: '',\n    inputValue: '',\n    inputOptions: {},\n    inputAutoTrim: true,\n    inputAttributes: {},\n    inputValidator: undefined,\n    returnInputValueOnDeny: false,\n    validationMessage: undefined,\n    grow: false,\n    position: 'center',\n    progressSteps: [],\n    currentProgressStep: undefined,\n    progressStepsDistance: undefined,\n    onBeforeOpen: undefined,\n    onOpen: undefined,\n    willOpen: undefined,\n    didOpen: undefined,\n    onRender: undefined,\n    didRender: undefined,\n    onClose: undefined,\n    onAfterClose: undefined,\n    willClose: undefined,\n    didClose: undefined,\n    onDestroy: undefined,\n    didDestroy: undefined,\n    scrollbarPadding: true\n  };\n  var updatableParams = ['allowEscapeKey', 'allowOutsideClick', 'background', 'buttonsStyling', 'cancelButtonAriaLabel', 'cancelButtonColor', 'cancelButtonText', 'closeButtonAriaLabel', 'closeButtonHtml', 'confirmButtonAriaLabel', 'confirmButtonColor', 'confirmButtonText', 'currentProgressStep', 'customClass', 'denyButtonAriaLabel', 'denyButtonColor', 'denyButtonText', 'didClose', 'didDestroy', 'footer', 'hideClass', 'html', 'icon', 'iconColor', 'iconHtml', 'imageAlt', 'imageHeight', 'imageUrl', 'imageWidth', 'onAfterClose', 'onClose', 'onDestroy', 'progressSteps', 'returnFocus', 'reverseButtons', 'showCancelButton', 'showCloseButton', 'showConfirmButton', 'showDenyButton', 'text', 'title', 'titleText', 'willClose'];\n  var deprecatedParams = {\n    animation: 'showClass\" and \"hideClass',\n    onBeforeOpen: 'willOpen',\n    onOpen: 'didOpen',\n    onRender: 'didRender',\n    onClose: 'willClose',\n    onAfterClose: 'didClose',\n    onDestroy: 'didDestroy'\n  };\n  var toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'focusConfirm', 'focusDeny', 'focusCancel', 'returnFocus', 'heightAuto', 'keydownListenerCapture'];\n  /**\n   * Is valid parameter\n   * @param {String} paramName\n   */\n\n  var isValidParameter = function isValidParameter(paramName) {\n    return Object.prototype.hasOwnProperty.call(defaultParams, paramName);\n  };\n  /**\n   * Is valid parameter for Swal.update() method\n   * @param {String} paramName\n   */\n\n  var isUpdatableParameter = function isUpdatableParameter(paramName) {\n    return updatableParams.indexOf(paramName) !== -1;\n  };\n  /**\n   * Is deprecated parameter\n   * @param {String} paramName\n   */\n\n  var isDeprecatedParameter = function isDeprecatedParameter(paramName) {\n    return deprecatedParams[paramName];\n  };\n\n  var checkIfParamIsValid = function checkIfParamIsValid(param) {\n    if (!isValidParameter(param)) {\n      warn(\"Unknown parameter \\\"\".concat(param, \"\\\"\"));\n    }\n  };\n\n  var checkIfToastParamIsValid = function checkIfToastParamIsValid(param) {\n    if (toastIncompatibleParams.indexOf(param) !== -1) {\n      warn(\"The parameter \\\"\".concat(param, \"\\\" is incompatible with toasts\"));\n    }\n  };\n\n  var checkIfParamIsDeprecated = function checkIfParamIsDeprecated(param) {\n    if (isDeprecatedParameter(param)) {\n      warnAboutDeprecation(param, isDeprecatedParameter(param));\n    }\n  };\n  /**\n   * Show relevant warnings for given params\n   *\n   * @param params\n   */\n\n\n  var showWarningsForParams = function showWarningsForParams(params) {\n    for (var param in params) {\n      checkIfParamIsValid(param);\n\n      if (params.toast) {\n        checkIfToastParamIsValid(param);\n      }\n\n      checkIfParamIsDeprecated(param);\n    }\n  };\n\n\n\n  var staticMethods = /*#__PURE__*/Object.freeze({\n    isValidParameter: isValidParameter,\n    isUpdatableParameter: isUpdatableParameter,\n    isDeprecatedParameter: isDeprecatedParameter,\n    argsToParams: argsToParams,\n    isVisible: isVisible$1,\n    clickConfirm: clickConfirm,\n    clickDeny: clickDeny,\n    clickCancel: clickCancel,\n    getContainer: getContainer,\n    getPopup: getPopup,\n    getTitle: getTitle,\n    getContent: getContent,\n    getHtmlContainer: getHtmlContainer,\n    getImage: getImage,\n    getIcon: getIcon,\n    getInputLabel: getInputLabel,\n    getCloseButton: getCloseButton,\n    getActions: getActions,\n    getConfirmButton: getConfirmButton,\n    getDenyButton: getDenyButton,\n    getCancelButton: getCancelButton,\n    getLoader: getLoader,\n    getHeader: getHeader,\n    getFooter: getFooter,\n    getTimerProgressBar: getTimerProgressBar,\n    getFocusableElements: getFocusableElements,\n    getValidationMessage: getValidationMessage,\n    isLoading: isLoading,\n    fire: fire,\n    mixin: mixin,\n    queue: queue,\n    getQueueStep: getQueueStep,\n    insertQueueStep: insertQueueStep,\n    deleteQueueStep: deleteQueueStep,\n    showLoading: showLoading,\n    enableLoading: showLoading,\n    getTimerLeft: getTimerLeft,\n    stopTimer: stopTimer,\n    resumeTimer: resumeTimer,\n    toggleTimer: toggleTimer,\n    increaseTimer: increaseTimer,\n    isTimerRunning: isTimerRunning,\n    bindClickHandler: bindClickHandler\n  });\n\n  /**\n   * Hides loader and shows back the button which was hidden by .showLoading()\n   */\n\n  function hideLoading() {\n    // do nothing if popup is closed\n    var innerParams = privateProps.innerParams.get(this);\n\n    if (!innerParams) {\n      return;\n    }\n\n    var domCache = privateProps.domCache.get(this);\n    hide(domCache.loader);\n    var buttonToReplace = domCache.popup.getElementsByClassName(domCache.loader.getAttribute('data-button-to-replace'));\n\n    if (buttonToReplace.length) {\n      show(buttonToReplace[0], 'inline-block');\n    } else if (allButtonsAreHidden()) {\n      hide(domCache.actions);\n    }\n\n    removeClass([domCache.popup, domCache.actions], swalClasses.loading);\n    domCache.popup.removeAttribute('aria-busy');\n    domCache.popup.removeAttribute('data-loading');\n    domCache.confirmButton.disabled = false;\n    domCache.denyButton.disabled = false;\n    domCache.cancelButton.disabled = false;\n  }\n\n  function getInput$1(instance) {\n    var innerParams = privateProps.innerParams.get(instance || this);\n    var domCache = privateProps.domCache.get(instance || this);\n\n    if (!domCache) {\n      return null;\n    }\n\n    return getInput(domCache.content, innerParams.input);\n  }\n\n  var fixScrollbar = function fixScrollbar() {\n    // for queues, do not do this more than once\n    if (states.previousBodyPadding !== null) {\n      return;\n    } // if the body has overflow\n\n\n    if (document.body.scrollHeight > window.innerHeight) {\n      // add padding so the content doesn't shift after removal of scrollbar\n      states.previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));\n      document.body.style.paddingRight = \"\".concat(states.previousBodyPadding + measureScrollbar(), \"px\");\n    }\n  };\n  var undoScrollbar = function undoScrollbar() {\n    if (states.previousBodyPadding !== null) {\n      document.body.style.paddingRight = \"\".concat(states.previousBodyPadding, \"px\");\n      states.previousBodyPadding = null;\n    }\n  };\n\n  /* istanbul ignore file */\n\n  var iOSfix = function iOSfix() {\n    var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;\n\n    if (iOS && !hasClass(document.body, swalClasses.iosfix)) {\n      var offset = document.body.scrollTop;\n      document.body.style.top = \"\".concat(offset * -1, \"px\");\n      addClass(document.body, swalClasses.iosfix);\n      lockBodyScroll();\n      addBottomPaddingForTallPopups(); // #1948\n    }\n  };\n\n  var addBottomPaddingForTallPopups = function addBottomPaddingForTallPopups() {\n    var safari = !navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i);\n\n    if (safari) {\n      var bottomPanelHeight = 44;\n\n      if (getPopup().scrollHeight > window.innerHeight - bottomPanelHeight) {\n        getContainer().style.paddingBottom = \"\".concat(bottomPanelHeight, \"px\");\n      }\n    }\n  };\n\n  var lockBodyScroll = function lockBodyScroll() {\n    // #1246\n    var container = getContainer();\n    var preventTouchMove;\n\n    container.ontouchstart = function (e) {\n      preventTouchMove = shouldPreventTouchMove(e);\n    };\n\n    container.ontouchmove = function (e) {\n      if (preventTouchMove) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    };\n  };\n\n  var shouldPreventTouchMove = function shouldPreventTouchMove(event) {\n    var target = event.target;\n    var container = getContainer();\n\n    if (isStylys(event) || isZoom(event)) {\n      return false;\n    }\n\n    if (target === container) {\n      return true;\n    }\n\n    if (!isScrollable(container) && target.tagName !== 'INPUT' && // #1603\n    !(isScrollable(getContent()) && // #1944\n    getContent().contains(target))) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var isStylys = function isStylys(event) {\n    // #1786\n    return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n  };\n\n  var isZoom = function isZoom(event) {\n    // #1891\n    return event.touches && event.touches.length > 1;\n  };\n\n  var undoIOSfix = function undoIOSfix() {\n    if (hasClass(document.body, swalClasses.iosfix)) {\n      var offset = parseInt(document.body.style.top, 10);\n      removeClass(document.body, swalClasses.iosfix);\n      document.body.style.top = '';\n      document.body.scrollTop = offset * -1;\n    }\n  };\n\n  /* istanbul ignore file */\n\n  var isIE11 = function isIE11() {\n    return !!window.MSInputMethodContext && !!document.documentMode;\n  }; // Fix IE11 centering sweetalert2/issues/933\n\n\n  var fixVerticalPositionIE = function fixVerticalPositionIE() {\n    var container = getContainer();\n    var popup = getPopup();\n    container.style.removeProperty('align-items');\n\n    if (popup.offsetTop < 0) {\n      container.style.alignItems = 'flex-start';\n    }\n  };\n\n  var IEfix = function IEfix() {\n    if (typeof window !== 'undefined' && isIE11()) {\n      fixVerticalPositionIE();\n      window.addEventListener('resize', fixVerticalPositionIE);\n    }\n  };\n  var undoIEfix = function undoIEfix() {\n    if (typeof window !== 'undefined' && isIE11()) {\n      window.removeEventListener('resize', fixVerticalPositionIE);\n    }\n  };\n\n  // Adding aria-hidden=\"true\" to elements outside of the active modal dialog ensures that\n  // elements not within the active modal dialog will not be surfaced if a user opens a screen\n  // readers list of elements (headings, form controls, landmarks, etc.) in the document.\n\n  var setAriaHidden = function setAriaHidden() {\n    var bodyChildren = toArray(document.body.children);\n    bodyChildren.forEach(function (el) {\n      if (el === getContainer() || contains(el, getContainer())) {\n        return;\n      }\n\n      if (el.hasAttribute('aria-hidden')) {\n        el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden'));\n      }\n\n      el.setAttribute('aria-hidden', 'true');\n    });\n  };\n  var unsetAriaHidden = function unsetAriaHidden() {\n    var bodyChildren = toArray(document.body.children);\n    bodyChildren.forEach(function (el) {\n      if (el.hasAttribute('data-previous-aria-hidden')) {\n        el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden'));\n        el.removeAttribute('data-previous-aria-hidden');\n      } else {\n        el.removeAttribute('aria-hidden');\n      }\n    });\n  };\n\n  /**\n   * This module containts `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n  var privateMethods = {\n    swalPromiseResolve: new WeakMap()\n  };\n\n  /*\n   * Instance method to close sweetAlert\n   */\n\n  function removePopupAndResetState(instance, container, returnFocus, didClose) {\n    if (isToast()) {\n      triggerDidCloseAndDispose(instance, didClose);\n    } else {\n      restoreActiveElement(returnFocus).then(function () {\n        return triggerDidCloseAndDispose(instance, didClose);\n      });\n      globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = false;\n    }\n\n    if (container.parentNode && !document.body.getAttribute('data-swal2-queue-step')) {\n      container.parentNode.removeChild(container);\n    }\n\n    if (isModal()) {\n      undoScrollbar();\n      undoIOSfix();\n      undoIEfix();\n      unsetAriaHidden();\n    }\n\n    removeBodyClasses();\n  }\n\n  function removeBodyClasses() {\n    removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n  }\n\n  function close(resolveValue) {\n    var popup = getPopup();\n\n    if (!popup) {\n      return;\n    }\n\n    resolveValue = prepareResolveValue(resolveValue);\n    var innerParams = privateProps.innerParams.get(this);\n\n    if (!innerParams || hasClass(popup, innerParams.hideClass.popup)) {\n      return;\n    }\n\n    var swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n    removeClass(popup, innerParams.showClass.popup);\n    addClass(popup, innerParams.hideClass.popup);\n    var backdrop = getContainer();\n    removeClass(backdrop, innerParams.showClass.backdrop);\n    addClass(backdrop, innerParams.hideClass.backdrop);\n    handlePopupAnimation(this, popup, innerParams); // Resolve Swal promise\n\n    swalPromiseResolve(resolveValue);\n  }\n\n  var prepareResolveValue = function prepareResolveValue(resolveValue) {\n    // When user calls Swal.close()\n    if (typeof resolveValue === 'undefined') {\n      return {\n        isConfirmed: false,\n        isDenied: false,\n        isDismissed: true\n      };\n    }\n\n    return _extends({\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: false\n    }, resolveValue);\n  };\n\n  var handlePopupAnimation = function handlePopupAnimation(instance, popup, innerParams) {\n    var container = getContainer(); // If animation is supported, animate\n\n    var animationIsSupported = animationEndEvent && hasCssAnimation(popup);\n    var onClose = innerParams.onClose,\n        onAfterClose = innerParams.onAfterClose,\n        willClose = innerParams.willClose,\n        didClose = innerParams.didClose;\n    runDidClose(popup, willClose, onClose);\n\n    if (animationIsSupported) {\n      animatePopup(instance, popup, container, innerParams.returnFocus, didClose || onAfterClose);\n    } else {\n      // Otherwise, remove immediately\n      removePopupAndResetState(instance, container, innerParams.returnFocus, didClose || onAfterClose);\n    }\n  };\n\n  var runDidClose = function runDidClose(popup, willClose, onClose) {\n    if (willClose !== null && typeof willClose === 'function') {\n      willClose(popup);\n    } else if (onClose !== null && typeof onClose === 'function') {\n      onClose(popup); // @deprecated\n    }\n  };\n\n  var animatePopup = function animatePopup(instance, popup, container, returnFocus, didClose) {\n    globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n    popup.addEventListener(animationEndEvent, function (e) {\n      if (e.target === popup) {\n        globalState.swalCloseEventFinishedCallback();\n        delete globalState.swalCloseEventFinishedCallback;\n      }\n    });\n  };\n\n  var triggerDidCloseAndDispose = function triggerDidCloseAndDispose(instance, didClose) {\n    setTimeout(function () {\n      if (typeof didClose === 'function') {\n        didClose();\n      }\n\n      instance._destroy();\n    });\n  };\n\n  function setButtonsDisabled(instance, buttons, disabled) {\n    var domCache = privateProps.domCache.get(instance);\n    buttons.forEach(function (button) {\n      domCache[button].disabled = disabled;\n    });\n  }\n\n  function setInputDisabled(input, disabled) {\n    if (!input) {\n      return false;\n    }\n\n    if (input.type === 'radio') {\n      var radiosContainer = input.parentNode.parentNode;\n      var radios = radiosContainer.querySelectorAll('input');\n\n      for (var i = 0; i < radios.length; i++) {\n        radios[i].disabled = disabled;\n      }\n    } else {\n      input.disabled = disabled;\n    }\n  }\n\n  function enableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], false);\n  }\n  function disableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], true);\n  }\n  function enableInput() {\n    return setInputDisabled(this.getInput(), false);\n  }\n  function disableInput() {\n    return setInputDisabled(this.getInput(), true);\n  }\n\n  function showValidationMessage(error) {\n    var domCache = privateProps.domCache.get(this);\n    var params = privateProps.innerParams.get(this);\n    setInnerHtml(domCache.validationMessage, error);\n    domCache.validationMessage.className = swalClasses['validation-message'];\n\n    if (params.customClass && params.customClass.validationMessage) {\n      addClass(domCache.validationMessage, params.customClass.validationMessage);\n    }\n\n    show(domCache.validationMessage);\n    var input = this.getInput();\n\n    if (input) {\n      input.setAttribute('aria-invalid', true);\n      input.setAttribute('aria-describedBy', swalClasses['validation-message']);\n      focusInput(input);\n      addClass(input, swalClasses.inputerror);\n    }\n  } // Hide block with validation message\n\n  function resetValidationMessage$1() {\n    var domCache = privateProps.domCache.get(this);\n\n    if (domCache.validationMessage) {\n      hide(domCache.validationMessage);\n    }\n\n    var input = this.getInput();\n\n    if (input) {\n      input.removeAttribute('aria-invalid');\n      input.removeAttribute('aria-describedBy');\n      removeClass(input, swalClasses.inputerror);\n    }\n  }\n\n  function getProgressSteps$1() {\n    var domCache = privateProps.domCache.get(this);\n    return domCache.progressSteps;\n  }\n\n  var Timer = /*#__PURE__*/function () {\n    function Timer(callback, delay) {\n      _classCallCheck(this, Timer);\n\n      this.callback = callback;\n      this.remaining = delay;\n      this.running = false;\n      this.start();\n    }\n\n    _createClass(Timer, [{\n      key: \"start\",\n      value: function start() {\n        if (!this.running) {\n          this.running = true;\n          this.started = new Date();\n          this.id = setTimeout(this.callback, this.remaining);\n        }\n\n        return this.remaining;\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this.running) {\n          this.running = false;\n          clearTimeout(this.id);\n          this.remaining -= new Date() - this.started;\n        }\n\n        return this.remaining;\n      }\n    }, {\n      key: \"increase\",\n      value: function increase(n) {\n        var running = this.running;\n\n        if (running) {\n          this.stop();\n        }\n\n        this.remaining += n;\n\n        if (running) {\n          this.start();\n        }\n\n        return this.remaining;\n      }\n    }, {\n      key: \"getTimerLeft\",\n      value: function getTimerLeft() {\n        if (this.running) {\n          this.stop();\n          this.start();\n        }\n\n        return this.remaining;\n      }\n    }, {\n      key: \"isRunning\",\n      value: function isRunning() {\n        return this.running;\n      }\n    }]);\n\n    return Timer;\n  }();\n\n  var defaultInputValidators = {\n    email: function email(string, validationMessage) {\n      return /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]{2,24}$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');\n    },\n    url: function url(string, validationMessage) {\n      // taken from https://stackoverflow.com/a/3809435 with a small change from #1306 and #2013\n      return /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');\n    }\n  };\n\n  function setDefaultInputValidators(params) {\n    // Use default `inputValidator` for supported input types if not provided\n    if (!params.inputValidator) {\n      Object.keys(defaultInputValidators).forEach(function (key) {\n        if (params.input === key) {\n          params.inputValidator = defaultInputValidators[key];\n        }\n      });\n    }\n  }\n\n  function validateCustomTargetElement(params) {\n    // Determine if the custom target element is valid\n    if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {\n      warn('Target parameter is not valid, defaulting to \"body\"');\n      params.target = 'body';\n    }\n  }\n  /**\n   * Set type, text and actions on popup\n   *\n   * @param params\n   * @returns {boolean}\n   */\n\n\n  function setParameters(params) {\n    setDefaultInputValidators(params); // showLoaderOnConfirm && preConfirm\n\n    if (params.showLoaderOnConfirm && !params.preConfirm) {\n      warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\\n' + 'https://sweetalert2.github.io/#ajax-request');\n    } // params.animation will be actually used in renderPopup.js\n    // but in case when params.animation is a function, we need to call that function\n    // before popup (re)initialization, so it'll be possible to check Swal.isVisible()\n    // inside the params.animation function\n\n\n    params.animation = callIfFunction(params.animation);\n    validateCustomTargetElement(params); // Replace newlines with <br> in title\n\n    if (typeof params.title === 'string') {\n      params.title = params.title.split('\\n').join('<br />');\n    }\n\n    init(params);\n  }\n\n  var swalStringParams = ['swal-title', 'swal-html', 'swal-footer'];\n  var getTemplateParams = function getTemplateParams(params) {\n    var template = typeof params.template === 'string' ? document.querySelector(params.template) : params.template;\n\n    if (!template) {\n      return {};\n    }\n\n    var templateContent = template.content || template; // IE11\n\n    showWarningsForElements(templateContent);\n\n    var result = _extends(getSwalParams(templateContent), getSwalButtons(templateContent), getSwalImage(templateContent), getSwalIcon(templateContent), getSwalInput(templateContent), getSwalStringParams(templateContent, swalStringParams));\n\n    return result;\n  };\n\n  var getSwalParams = function getSwalParams(templateContent) {\n    var result = {};\n    toArray(templateContent.querySelectorAll('swal-param')).forEach(function (param) {\n      showWarningsForAttributes(param, ['name', 'value']);\n      var paramName = param.getAttribute('name');\n      var value = param.getAttribute('value');\n\n      if (typeof defaultParams[paramName] === 'boolean' && value === 'false') {\n        value = false;\n      }\n\n      if (_typeof(defaultParams[paramName]) === 'object') {\n        value = JSON.parse(value);\n      }\n\n      result[paramName] = value;\n    });\n    return result;\n  };\n\n  var getSwalButtons = function getSwalButtons(templateContent) {\n    var result = {};\n    toArray(templateContent.querySelectorAll('swal-button')).forEach(function (button) {\n      showWarningsForAttributes(button, ['type', 'color', 'aria-label']);\n      var type = button.getAttribute('type');\n      result[\"\".concat(type, \"ButtonText\")] = button.innerHTML;\n      result[\"show\".concat(capitalizeFirstLetter(type), \"Button\")] = true;\n\n      if (button.hasAttribute('color')) {\n        result[\"\".concat(type, \"ButtonColor\")] = button.getAttribute('color');\n      }\n\n      if (button.hasAttribute('aria-label')) {\n        result[\"\".concat(type, \"ButtonAriaLabel\")] = button.getAttribute('aria-label');\n      }\n    });\n    return result;\n  };\n\n  var getSwalImage = function getSwalImage(templateContent) {\n    var result = {};\n    var image = templateContent.querySelector('swal-image');\n\n    if (image) {\n      showWarningsForAttributes(image, ['src', 'width', 'height', 'alt']);\n\n      if (image.hasAttribute('src')) {\n        result.imageUrl = image.getAttribute('src');\n      }\n\n      if (image.hasAttribute('width')) {\n        result.imageWidth = image.getAttribute('width');\n      }\n\n      if (image.hasAttribute('height')) {\n        result.imageHeight = image.getAttribute('height');\n      }\n\n      if (image.hasAttribute('alt')) {\n        result.imageAlt = image.getAttribute('alt');\n      }\n    }\n\n    return result;\n  };\n\n  var getSwalIcon = function getSwalIcon(templateContent) {\n    var result = {};\n    var icon = templateContent.querySelector('swal-icon');\n\n    if (icon) {\n      showWarningsForAttributes(icon, ['type', 'color']);\n\n      if (icon.hasAttribute('type')) {\n        result.icon = icon.getAttribute('type');\n      }\n\n      if (icon.hasAttribute('color')) {\n        result.iconColor = icon.getAttribute('color');\n      }\n\n      result.iconHtml = icon.innerHTML;\n    }\n\n    return result;\n  };\n\n  var getSwalInput = function getSwalInput(templateContent) {\n    var result = {};\n    var input = templateContent.querySelector('swal-input');\n\n    if (input) {\n      showWarningsForAttributes(input, ['type', 'label', 'placeholder', 'value']);\n      result.input = input.getAttribute('type') || 'text';\n\n      if (input.hasAttribute('label')) {\n        result.inputLabel = input.getAttribute('label');\n      }\n\n      if (input.hasAttribute('placeholder')) {\n        result.inputPlaceholder = input.getAttribute('placeholder');\n      }\n\n      if (input.hasAttribute('value')) {\n        result.inputValue = input.getAttribute('value');\n      }\n    }\n\n    var inputOptions = templateContent.querySelectorAll('swal-input-option');\n\n    if (inputOptions.length) {\n      result.inputOptions = {};\n      toArray(inputOptions).forEach(function (option) {\n        showWarningsForAttributes(option, ['value']);\n        var optionValue = option.getAttribute('value');\n        var optionName = option.innerHTML;\n        result.inputOptions[optionValue] = optionName;\n      });\n    }\n\n    return result;\n  };\n\n  var getSwalStringParams = function getSwalStringParams(templateContent, paramNames) {\n    var result = {};\n\n    for (var i in paramNames) {\n      var paramName = paramNames[i];\n      var tag = templateContent.querySelector(paramName);\n\n      if (tag) {\n        showWarningsForAttributes(tag, []);\n        result[paramName.replace(/^swal-/, '')] = tag.innerHTML.trim();\n      }\n    }\n\n    return result;\n  };\n\n  var showWarningsForElements = function showWarningsForElements(template) {\n    var allowedElements = swalStringParams.concat(['swal-param', 'swal-button', 'swal-image', 'swal-icon', 'swal-input', 'swal-input-option']);\n    toArray(template.querySelectorAll('*')).forEach(function (el) {\n      if (el.parentNode !== template) {\n        // can't use template.children because of IE11\n        return;\n      }\n\n      var tagName = el.tagName.toLowerCase();\n\n      if (allowedElements.indexOf(tagName) === -1) {\n        warn(\"Unrecognized element <\".concat(tagName, \">\"));\n      }\n    });\n  };\n\n  var showWarningsForAttributes = function showWarningsForAttributes(el, allowedAttributes) {\n    toArray(el.attributes).forEach(function (attribute) {\n      if (allowedAttributes.indexOf(attribute.name) === -1) {\n        warn([\"Unrecognized attribute \\\"\".concat(attribute.name, \"\\\" on <\").concat(el.tagName.toLowerCase(), \">.\"), \"\".concat(allowedAttributes.length ? \"Allowed attributes are: \".concat(allowedAttributes.join(', ')) : 'To set the value, use HTML within the element.')]);\n      }\n    });\n  };\n\n  var SHOW_CLASS_TIMEOUT = 10;\n  /**\n   * Open popup, add necessary classes and styles, fix scrollbar\n   *\n   * @param params\n   */\n\n  var openPopup = function openPopup(params) {\n    var container = getContainer();\n    var popup = getPopup();\n\n    if (typeof params.willOpen === 'function') {\n      params.willOpen(popup);\n    } else if (typeof params.onBeforeOpen === 'function') {\n      params.onBeforeOpen(popup); // @deprecated\n    }\n\n    var bodyStyles = window.getComputedStyle(document.body);\n    var initialBodyOverflow = bodyStyles.overflowY;\n    addClasses$1(container, popup, params); // scrolling is 'hidden' until animation is done, after that 'auto'\n\n    setTimeout(function () {\n      setScrollingVisibility(container, popup);\n    }, SHOW_CLASS_TIMEOUT);\n\n    if (isModal()) {\n      fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n      setAriaHidden();\n    }\n\n    if (!isToast() && !globalState.previousActiveElement) {\n      globalState.previousActiveElement = document.activeElement;\n    }\n\n    runDidOpen(popup, params);\n    removeClass(container, swalClasses['no-transition']);\n  };\n\n  var runDidOpen = function runDidOpen(popup, params) {\n    if (typeof params.didOpen === 'function') {\n      setTimeout(function () {\n        return params.didOpen(popup);\n      });\n    } else if (typeof params.onOpen === 'function') {\n      setTimeout(function () {\n        return params.onOpen(popup);\n      }); // @deprecated\n    }\n  };\n\n  var swalOpenAnimationFinished = function swalOpenAnimationFinished(event) {\n    var popup = getPopup();\n\n    if (event.target !== popup) {\n      return;\n    }\n\n    var container = getContainer();\n    popup.removeEventListener(animationEndEvent, swalOpenAnimationFinished);\n    container.style.overflowY = 'auto';\n  };\n\n  var setScrollingVisibility = function setScrollingVisibility(container, popup) {\n    if (animationEndEvent && hasCssAnimation(popup)) {\n      container.style.overflowY = 'hidden';\n      popup.addEventListener(animationEndEvent, swalOpenAnimationFinished);\n    } else {\n      container.style.overflowY = 'auto';\n    }\n  };\n\n  var fixScrollContainer = function fixScrollContainer(container, scrollbarPadding, initialBodyOverflow) {\n    iOSfix();\n    IEfix();\n\n    if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n      fixScrollbar();\n    } // sweetalert2/issues/1247\n\n\n    setTimeout(function () {\n      container.scrollTop = 0;\n    });\n  };\n\n  var addClasses$1 = function addClasses(container, popup, params) {\n    addClass(container, params.showClass.backdrop); // the workaround with setting/unsetting opacity is needed for #2019 and 2059\n\n    popup.style.setProperty('opacity', '0', 'important');\n    show(popup);\n    setTimeout(function () {\n      // Animate popup right after showing it\n      addClass(popup, params.showClass.popup); // and remove the opacity workaround\n\n      popup.style.removeProperty('opacity');\n    }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n\n    addClass([document.documentElement, document.body], swalClasses.shown);\n\n    if (params.heightAuto && params.backdrop && !params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['height-auto']);\n    }\n  };\n\n  var handleInputOptionsAndValue = function handleInputOptionsAndValue(instance, params) {\n    if (params.input === 'select' || params.input === 'radio') {\n      handleInputOptions(instance, params);\n    } else if (['text', 'email', 'number', 'tel', 'textarea'].indexOf(params.input) !== -1 && (hasToPromiseFn(params.inputValue) || isPromise(params.inputValue))) {\n      handleInputValue(instance, params);\n    }\n  };\n  var getInputValue = function getInputValue(instance, innerParams) {\n    var input = instance.getInput();\n\n    if (!input) {\n      return null;\n    }\n\n    switch (innerParams.input) {\n      case 'checkbox':\n        return getCheckboxValue(input);\n\n      case 'radio':\n        return getRadioValue(input);\n\n      case 'file':\n        return getFileValue(input);\n\n      default:\n        return innerParams.inputAutoTrim ? input.value.trim() : input.value;\n    }\n  };\n\n  var getCheckboxValue = function getCheckboxValue(input) {\n    return input.checked ? 1 : 0;\n  };\n\n  var getRadioValue = function getRadioValue(input) {\n    return input.checked ? input.value : null;\n  };\n\n  var getFileValue = function getFileValue(input) {\n    return input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;\n  };\n\n  var handleInputOptions = function handleInputOptions(instance, params) {\n    var content = getContent();\n\n    var processInputOptions = function processInputOptions(inputOptions) {\n      return populateInputOptions[params.input](content, formatInputOptions(inputOptions), params);\n    };\n\n    if (hasToPromiseFn(params.inputOptions) || isPromise(params.inputOptions)) {\n      showLoading(getConfirmButton());\n      asPromise(params.inputOptions).then(function (inputOptions) {\n        instance.hideLoading();\n        processInputOptions(inputOptions);\n      });\n    } else if (_typeof(params.inputOptions) === 'object') {\n      processInputOptions(params.inputOptions);\n    } else {\n      error(\"Unexpected type of inputOptions! Expected object, Map or Promise, got \".concat(_typeof(params.inputOptions)));\n    }\n  };\n\n  var handleInputValue = function handleInputValue(instance, params) {\n    var input = instance.getInput();\n    hide(input);\n    asPromise(params.inputValue).then(function (inputValue) {\n      input.value = params.input === 'number' ? parseFloat(inputValue) || 0 : \"\".concat(inputValue);\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    })[\"catch\"](function (err) {\n      error(\"Error in inputValue promise: \".concat(err));\n      input.value = '';\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    });\n  };\n\n  var populateInputOptions = {\n    select: function select(content, inputOptions, params) {\n      var select = getChildByClass(content, swalClasses.select);\n\n      var renderOption = function renderOption(parent, optionLabel, optionValue) {\n        var option = document.createElement('option');\n        option.value = optionValue;\n        setInnerHtml(option, optionLabel);\n        option.selected = isSelected(optionValue, params.inputValue);\n        parent.appendChild(option);\n      };\n\n      inputOptions.forEach(function (inputOption) {\n        var optionValue = inputOption[0];\n        var optionLabel = inputOption[1]; // <optgroup> spec:\n        // https://www.w3.org/TR/html401/interact/forms.html#h-17.6\n        // \"...all OPTGROUP elements must be specified directly within a SELECT element (i.e., groups may not be nested)...\"\n        // check whether this is a <optgroup>\n\n        if (Array.isArray(optionLabel)) {\n          // if it is an array, then it is an <optgroup>\n          var optgroup = document.createElement('optgroup');\n          optgroup.label = optionValue;\n          optgroup.disabled = false; // not configurable for now\n\n          select.appendChild(optgroup);\n          optionLabel.forEach(function (o) {\n            return renderOption(optgroup, o[1], o[0]);\n          });\n        } else {\n          // case of <option>\n          renderOption(select, optionLabel, optionValue);\n        }\n      });\n      select.focus();\n    },\n    radio: function radio(content, inputOptions, params) {\n      var radio = getChildByClass(content, swalClasses.radio);\n      inputOptions.forEach(function (inputOption) {\n        var radioValue = inputOption[0];\n        var radioLabel = inputOption[1];\n        var radioInput = document.createElement('input');\n        var radioLabelElement = document.createElement('label');\n        radioInput.type = 'radio';\n        radioInput.name = swalClasses.radio;\n        radioInput.value = radioValue;\n\n        if (isSelected(radioValue, params.inputValue)) {\n          radioInput.checked = true;\n        }\n\n        var label = document.createElement('span');\n        setInnerHtml(label, radioLabel);\n        label.className = swalClasses.label;\n        radioLabelElement.appendChild(radioInput);\n        radioLabelElement.appendChild(label);\n        radio.appendChild(radioLabelElement);\n      });\n      var radios = radio.querySelectorAll('input');\n\n      if (radios.length) {\n        radios[0].focus();\n      }\n    }\n  };\n  /**\n   * Converts `inputOptions` into an array of `[value, label]`s\n   * @param inputOptions\n   */\n\n  var formatInputOptions = function formatInputOptions(inputOptions) {\n    var result = [];\n\n    if (typeof Map !== 'undefined' && inputOptions instanceof Map) {\n      inputOptions.forEach(function (value, key) {\n        var valueFormatted = value;\n\n        if (_typeof(valueFormatted) === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n\n        result.push([key, valueFormatted]);\n      });\n    } else {\n      Object.keys(inputOptions).forEach(function (key) {\n        var valueFormatted = inputOptions[key];\n\n        if (_typeof(valueFormatted) === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n\n        result.push([key, valueFormatted]);\n      });\n    }\n\n    return result;\n  };\n\n  var isSelected = function isSelected(optionValue, inputValue) {\n    return inputValue && inputValue.toString() === optionValue.toString();\n  };\n\n  var handleConfirmButtonClick = function handleConfirmButtonClick(instance, innerParams) {\n    instance.disableButtons();\n\n    if (innerParams.input) {\n      handleConfirmOrDenyWithInput(instance, innerParams, 'confirm');\n    } else {\n      confirm(instance, innerParams, true);\n    }\n  };\n  var handleDenyButtonClick = function handleDenyButtonClick(instance, innerParams) {\n    instance.disableButtons();\n\n    if (innerParams.returnInputValueOnDeny) {\n      handleConfirmOrDenyWithInput(instance, innerParams, 'deny');\n    } else {\n      deny(instance, innerParams, false);\n    }\n  };\n  var handleCancelButtonClick = function handleCancelButtonClick(instance, dismissWith) {\n    instance.disableButtons();\n    dismissWith(DismissReason.cancel);\n  };\n\n  var handleConfirmOrDenyWithInput = function handleConfirmOrDenyWithInput(instance, innerParams, type\n  /* type is either 'confirm' or 'deny' */\n  ) {\n    var inputValue = getInputValue(instance, innerParams);\n\n    if (innerParams.inputValidator) {\n      handleInputValidator(instance, innerParams, inputValue);\n    } else if (!instance.getInput().checkValidity()) {\n      instance.enableButtons();\n      instance.showValidationMessage(innerParams.validationMessage);\n    } else if (type === 'deny') {\n      deny(instance, innerParams, inputValue);\n    } else {\n      confirm(instance, innerParams, inputValue);\n    }\n  };\n\n  var handleInputValidator = function handleInputValidator(instance, innerParams, inputValue) {\n    instance.disableInput();\n    var validationPromise = Promise.resolve().then(function () {\n      return asPromise(innerParams.inputValidator(inputValue, innerParams.validationMessage));\n    });\n    validationPromise.then(function (validationMessage) {\n      instance.enableButtons();\n      instance.enableInput();\n\n      if (validationMessage) {\n        instance.showValidationMessage(validationMessage);\n      } else {\n        confirm(instance, innerParams, inputValue);\n      }\n    });\n  };\n\n  var deny = function deny(instance, innerParams, value) {\n    if (innerParams.showLoaderOnDeny) {\n      showLoading(getDenyButton());\n    }\n\n    if (innerParams.preDeny) {\n      var preDenyPromise = Promise.resolve().then(function () {\n        return asPromise(innerParams.preDeny(value, innerParams.validationMessage));\n      });\n      preDenyPromise.then(function (preDenyValue) {\n        if (preDenyValue === false) {\n          instance.hideLoading();\n        } else {\n          instance.closePopup({\n            isDenied: true,\n            value: typeof preDenyValue === 'undefined' ? value : preDenyValue\n          });\n        }\n      });\n    } else {\n      instance.closePopup({\n        isDenied: true,\n        value: value\n      });\n    }\n  };\n\n  var succeedWith = function succeedWith(instance, value) {\n    instance.closePopup({\n      isConfirmed: true,\n      value: value\n    });\n  };\n\n  var confirm = function confirm(instance, innerParams, value) {\n    if (innerParams.showLoaderOnConfirm) {\n      showLoading(); // TODO: make showLoading an *instance* method\n    }\n\n    if (innerParams.preConfirm) {\n      instance.resetValidationMessage();\n      var preConfirmPromise = Promise.resolve().then(function () {\n        return asPromise(innerParams.preConfirm(value, innerParams.validationMessage));\n      });\n      preConfirmPromise.then(function (preConfirmValue) {\n        if (isVisible(getValidationMessage()) || preConfirmValue === false) {\n          instance.hideLoading();\n        } else {\n          succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);\n        }\n      });\n    } else {\n      succeedWith(instance, value);\n    }\n  };\n\n  var addKeydownHandler = function addKeydownHandler(instance, globalState, innerParams, dismissWith) {\n    if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n      globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = false;\n    }\n\n    if (!innerParams.toast) {\n      globalState.keydownHandler = function (e) {\n        return keydownHandler(instance, e, dismissWith);\n      };\n\n      globalState.keydownTarget = innerParams.keydownListenerCapture ? window : getPopup();\n      globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n      globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = true;\n    }\n  }; // Focus handling\n\n  var setFocus = function setFocus(innerParams, index, increment) {\n    var focusableElements = getFocusableElements(); // search for visible elements and select the next possible match\n\n    if (focusableElements.length) {\n      index = index + increment; // rollover to first item\n\n      if (index === focusableElements.length) {\n        index = 0; // go to last item\n      } else if (index === -1) {\n        index = focusableElements.length - 1;\n      }\n\n      return focusableElements[index].focus();\n    } // no visible focusable elements, focus the popup\n\n\n    getPopup().focus();\n  };\n  var arrowKeysNextButton = ['ArrowRight', 'ArrowDown', 'Right', 'Down' // IE11\n  ];\n  var arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp', 'Left', 'Up' // IE11\n  ];\n  var escKeys = ['Escape', 'Esc' // IE11\n  ];\n\n  var keydownHandler = function keydownHandler(instance, e, dismissWith) {\n    var innerParams = privateProps.innerParams.get(instance);\n\n    if (!innerParams) {\n      return; // This instance has already been destroyed\n    }\n\n    if (innerParams.stopKeydownPropagation) {\n      e.stopPropagation();\n    } // ENTER\n\n\n    if (e.key === 'Enter') {\n      handleEnter(instance, e, innerParams); // TAB\n    } else if (e.key === 'Tab') {\n      handleTab(e, innerParams); // ARROWS - switch focus between buttons\n    } else if ([].concat(arrowKeysNextButton, arrowKeysPreviousButton).indexOf(e.key) !== -1) {\n      handleArrows(e.key); // ESC\n    } else if (escKeys.indexOf(e.key) !== -1) {\n      handleEsc(e, innerParams, dismissWith);\n    }\n  };\n\n  var handleEnter = function handleEnter(instance, e, innerParams) {\n    // #720 #721\n    if (e.isComposing) {\n      return;\n    }\n\n    if (e.target && instance.getInput() && e.target.outerHTML === instance.getInput().outerHTML) {\n      if (['textarea', 'file'].indexOf(innerParams.input) !== -1) {\n        return; // do not submit\n      }\n\n      clickConfirm();\n      e.preventDefault();\n    }\n  };\n\n  var handleTab = function handleTab(e, innerParams) {\n    var targetElement = e.target;\n    var focusableElements = getFocusableElements();\n    var btnIndex = -1;\n\n    for (var i = 0; i < focusableElements.length; i++) {\n      if (targetElement === focusableElements[i]) {\n        btnIndex = i;\n        break;\n      }\n    }\n\n    if (!e.shiftKey) {\n      // Cycle to the next button\n      setFocus(innerParams, btnIndex, 1);\n    } else {\n      // Cycle to the prev button\n      setFocus(innerParams, btnIndex, -1);\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  var handleArrows = function handleArrows(key) {\n    var confirmButton = getConfirmButton();\n    var denyButton = getDenyButton();\n    var cancelButton = getCancelButton();\n\n    if (!([confirmButton, denyButton, cancelButton].indexOf(document.activeElement) !== -1)) {\n      return;\n    }\n\n    var sibling = arrowKeysNextButton.indexOf(key) !== -1 ? 'nextElementSibling' : 'previousElementSibling';\n    var buttonToFocus = document.activeElement[sibling];\n\n    if (buttonToFocus) {\n      buttonToFocus.focus();\n    }\n  };\n\n  var handleEsc = function handleEsc(e, innerParams, dismissWith) {\n    if (callIfFunction(innerParams.allowEscapeKey)) {\n      e.preventDefault();\n      dismissWith(DismissReason.esc);\n    }\n  };\n\n  var handlePopupClick = function handlePopupClick(instance, domCache, dismissWith) {\n    var innerParams = privateProps.innerParams.get(instance);\n\n    if (innerParams.toast) {\n      handleToastClick(instance, domCache, dismissWith);\n    } else {\n      // Ignore click events that had mousedown on the popup but mouseup on the container\n      // This can happen when the user drags a slider\n      handleModalMousedown(domCache); // Ignore click events that had mousedown on the container but mouseup on the popup\n\n      handleContainerMousedown(domCache);\n      handleModalClick(instance, domCache, dismissWith);\n    }\n  };\n\n  var handleToastClick = function handleToastClick(instance, domCache, dismissWith) {\n    // Closing toast by internal click\n    domCache.popup.onclick = function () {\n      var innerParams = privateProps.innerParams.get(instance);\n\n      if (innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton || innerParams.timer || innerParams.input) {\n        return;\n      }\n\n      dismissWith(DismissReason.close);\n    };\n  };\n\n  var ignoreOutsideClick = false;\n\n  var handleModalMousedown = function handleModalMousedown(domCache) {\n    domCache.popup.onmousedown = function () {\n      domCache.container.onmouseup = function (e) {\n        domCache.container.onmouseup = undefined; // We only check if the mouseup target is the container because usually it doesn't\n        // have any other direct children aside of the popup\n\n        if (e.target === domCache.container) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  var handleContainerMousedown = function handleContainerMousedown(domCache) {\n    domCache.container.onmousedown = function () {\n      domCache.popup.onmouseup = function (e) {\n        domCache.popup.onmouseup = undefined; // We also need to check if the mouseup target is a child of the popup\n\n        if (e.target === domCache.popup || domCache.popup.contains(e.target)) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  var handleModalClick = function handleModalClick(instance, domCache, dismissWith) {\n    domCache.container.onclick = function (e) {\n      var innerParams = privateProps.innerParams.get(instance);\n\n      if (ignoreOutsideClick) {\n        ignoreOutsideClick = false;\n        return;\n      }\n\n      if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n        dismissWith(DismissReason.backdrop);\n      }\n    };\n  };\n\n  function _main(userParams) {\n    var mixinParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    showWarningsForParams(_extends({}, mixinParams, userParams));\n\n    if (globalState.currentInstance) {\n      globalState.currentInstance._destroy();\n    }\n\n    globalState.currentInstance = this;\n    var innerParams = prepareParams(userParams, mixinParams);\n    setParameters(innerParams);\n    Object.freeze(innerParams); // clear the previous timer\n\n    if (globalState.timeout) {\n      globalState.timeout.stop();\n      delete globalState.timeout;\n    } // clear the restore focus timeout\n\n\n    clearTimeout(globalState.restoreFocusTimeout);\n    var domCache = populateDomCache(this);\n    render(this, innerParams);\n    privateProps.innerParams.set(this, innerParams);\n    return swalPromise(this, domCache, innerParams);\n  }\n\n  var prepareParams = function prepareParams(userParams, mixinParams) {\n    var templateParams = getTemplateParams(userParams);\n\n    var params = _extends({}, defaultParams, mixinParams, templateParams, userParams); // precedence is described in #2131\n\n\n    params.showClass = _extends({}, defaultParams.showClass, params.showClass);\n    params.hideClass = _extends({}, defaultParams.hideClass, params.hideClass); // @deprecated\n\n    if (userParams.animation === false) {\n      params.showClass = {\n        popup: 'swal2-noanimation',\n        backdrop: 'swal2-noanimation'\n      };\n      params.hideClass = {};\n    }\n\n    return params;\n  };\n\n  var swalPromise = function swalPromise(instance, domCache, innerParams) {\n    return new Promise(function (resolve) {\n      // functions to handle all closings/dismissals\n      var dismissWith = function dismissWith(dismiss) {\n        instance.closePopup({\n          isDismissed: true,\n          dismiss: dismiss\n        });\n      };\n\n      privateMethods.swalPromiseResolve.set(instance, resolve);\n\n      domCache.confirmButton.onclick = function () {\n        return handleConfirmButtonClick(instance, innerParams);\n      };\n\n      domCache.denyButton.onclick = function () {\n        return handleDenyButtonClick(instance, innerParams);\n      };\n\n      domCache.cancelButton.onclick = function () {\n        return handleCancelButtonClick(instance, dismissWith);\n      };\n\n      domCache.closeButton.onclick = function () {\n        return dismissWith(DismissReason.close);\n      };\n\n      handlePopupClick(instance, domCache, dismissWith);\n      addKeydownHandler(instance, globalState, innerParams, dismissWith);\n      handleInputOptionsAndValue(instance, innerParams);\n      openPopup(innerParams);\n      setupTimer(globalState, innerParams, dismissWith);\n      initFocus(domCache, innerParams); // Scroll container to top on open (#1247, #1946)\n\n      setTimeout(function () {\n        domCache.container.scrollTop = 0;\n      });\n    });\n  };\n\n  var populateDomCache = function populateDomCache(instance) {\n    var domCache = {\n      popup: getPopup(),\n      container: getContainer(),\n      content: getContent(),\n      actions: getActions(),\n      confirmButton: getConfirmButton(),\n      denyButton: getDenyButton(),\n      cancelButton: getCancelButton(),\n      loader: getLoader(),\n      closeButton: getCloseButton(),\n      validationMessage: getValidationMessage(),\n      progressSteps: getProgressSteps()\n    };\n    privateProps.domCache.set(instance, domCache);\n    return domCache;\n  };\n\n  var setupTimer = function setupTimer(globalState$$1, innerParams, dismissWith) {\n    var timerProgressBar = getTimerProgressBar();\n    hide(timerProgressBar);\n\n    if (innerParams.timer) {\n      globalState$$1.timeout = new Timer(function () {\n        dismissWith('timer');\n        delete globalState$$1.timeout;\n      }, innerParams.timer);\n\n      if (innerParams.timerProgressBar) {\n        show(timerProgressBar);\n        setTimeout(function () {\n          if (globalState$$1.timeout && globalState$$1.timeout.running) {\n            // timer can be already stopped or unset at this point\n            animateTimerProgressBar(innerParams.timer);\n          }\n        });\n      }\n    }\n  };\n\n  var initFocus = function initFocus(domCache, innerParams) {\n    if (innerParams.toast) {\n      return;\n    }\n\n    if (!callIfFunction(innerParams.allowEnterKey)) {\n      return blurActiveElement();\n    }\n\n    if (!focusButton(domCache, innerParams)) {\n      setFocus(innerParams, -1, 1);\n    }\n  };\n\n  var focusButton = function focusButton(domCache, innerParams) {\n    if (innerParams.focusDeny && isVisible(domCache.denyButton)) {\n      domCache.denyButton.focus();\n      return true;\n    }\n\n    if (innerParams.focusCancel && isVisible(domCache.cancelButton)) {\n      domCache.cancelButton.focus();\n      return true;\n    }\n\n    if (innerParams.focusConfirm && isVisible(domCache.confirmButton)) {\n      domCache.confirmButton.focus();\n      return true;\n    }\n\n    return false;\n  };\n\n  var blurActiveElement = function blurActiveElement() {\n    if (document.activeElement && typeof document.activeElement.blur === 'function') {\n      document.activeElement.blur();\n    }\n  };\n\n  /**\n   * Updates popup parameters.\n   */\n\n  function update(params) {\n    var popup = getPopup();\n    var innerParams = privateProps.innerParams.get(this);\n\n    if (!popup || hasClass(popup, innerParams.hideClass.popup)) {\n      return warn(\"You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.\");\n    }\n\n    var validUpdatableParams = {}; // assign valid params from `params` to `defaults`\n\n    Object.keys(params).forEach(function (param) {\n      if (Swal.isUpdatableParameter(param)) {\n        validUpdatableParams[param] = params[param];\n      } else {\n        warn(\"Invalid parameter to update: \\\"\".concat(param, \"\\\". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\\n\\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md\"));\n      }\n    });\n\n    var updatedParams = _extends({}, innerParams, validUpdatableParams);\n\n    render(this, updatedParams);\n    privateProps.innerParams.set(this, updatedParams);\n    Object.defineProperties(this, {\n      params: {\n        value: _extends({}, this.params, params),\n        writable: false,\n        enumerable: true\n      }\n    });\n  }\n\n  function _destroy() {\n    var domCache = privateProps.domCache.get(this);\n    var innerParams = privateProps.innerParams.get(this);\n\n    if (!innerParams) {\n      return; // This instance has already been destroyed\n    } // Check if there is another Swal closing\n\n\n    if (domCache.popup && globalState.swalCloseEventFinishedCallback) {\n      globalState.swalCloseEventFinishedCallback();\n      delete globalState.swalCloseEventFinishedCallback;\n    } // Check if there is a swal disposal defer timer\n\n\n    if (globalState.deferDisposalTimer) {\n      clearTimeout(globalState.deferDisposalTimer);\n      delete globalState.deferDisposalTimer;\n    }\n\n    runDidDestroy(innerParams);\n    disposeSwal(this);\n  }\n\n  var runDidDestroy = function runDidDestroy(innerParams) {\n    if (typeof innerParams.didDestroy === 'function') {\n      innerParams.didDestroy();\n    } else if (typeof innerParams.onDestroy === 'function') {\n      innerParams.onDestroy(); // @deprecated\n    }\n  };\n\n  var disposeSwal = function disposeSwal(instance) {\n    // Unset this.params so GC will dispose it (#1569)\n    delete instance.params; // Unset globalState props so GC will dispose globalState (#1569)\n\n    delete globalState.keydownHandler;\n    delete globalState.keydownTarget; // Unset WeakMaps so GC will be able to dispose them (#1569)\n\n    unsetWeakMaps(privateProps);\n    unsetWeakMaps(privateMethods);\n  };\n\n  var unsetWeakMaps = function unsetWeakMaps(obj) {\n    for (var i in obj) {\n      obj[i] = new WeakMap();\n    }\n  };\n\n\n\n  var instanceMethods = /*#__PURE__*/Object.freeze({\n    hideLoading: hideLoading,\n    disableLoading: hideLoading,\n    getInput: getInput$1,\n    close: close,\n    closePopup: close,\n    closeModal: close,\n    closeToast: close,\n    enableButtons: enableButtons,\n    disableButtons: disableButtons,\n    enableInput: enableInput,\n    disableInput: disableInput,\n    showValidationMessage: showValidationMessage,\n    resetValidationMessage: resetValidationMessage$1,\n    getProgressSteps: getProgressSteps$1,\n    _main: _main,\n    update: update,\n    _destroy: _destroy\n  });\n\n  var currentInstance;\n\n  var SweetAlert = /*#__PURE__*/function () {\n    function SweetAlert() {\n      _classCallCheck(this, SweetAlert);\n\n      // Prevent run in Node env\n      if (typeof window === 'undefined') {\n        return;\n      } // Check for the existence of Promise\n\n\n      if (typeof Promise === 'undefined') {\n        error('This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)');\n      }\n\n      currentInstance = this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var outerParams = Object.freeze(this.constructor.argsToParams(args));\n      Object.defineProperties(this, {\n        params: {\n          value: outerParams,\n          writable: false,\n          enumerable: true,\n          configurable: true\n        }\n      });\n\n      var promise = this._main(this.params);\n\n      privateProps.promise.set(this, promise);\n    } // `catch` cannot be the name of a module export, so we define our thenable methods here instead\n\n\n    _createClass(SweetAlert, [{\n      key: \"then\",\n      value: function then(onFulfilled) {\n        var promise = privateProps.promise.get(this);\n        return promise.then(onFulfilled);\n      }\n    }, {\n      key: \"finally\",\n      value: function _finally(onFinally) {\n        var promise = privateProps.promise.get(this);\n        return promise[\"finally\"](onFinally);\n      }\n    }]);\n\n    return SweetAlert;\n  }(); // Assign instance methods from src/instanceMethods/*.js to prototype\n\n\n  _extends(SweetAlert.prototype, instanceMethods); // Assign static methods from src/staticMethods/*.js to constructor\n\n\n  _extends(SweetAlert, staticMethods); // Proxy to instance methods to constructor, for now, for backwards compatibility\n\n\n  Object.keys(instanceMethods).forEach(function (key) {\n    SweetAlert[key] = function () {\n      if (currentInstance) {\n        var _currentInstance;\n\n        return (_currentInstance = currentInstance)[key].apply(_currentInstance, arguments);\n      }\n    };\n  });\n  SweetAlert.DismissReason = DismissReason;\n  SweetAlert.version = '10.16.7';\n\n  var Swal = SweetAlert;\n  Swal[\"default\"] = Swal;\n\n  return Swal;\n\n}));\nif (typeof this !== 'undefined' && this.Sweetalert2){  this.swal = this.sweetAlert = this.Swal = this.SweetAlert = this.Sweetalert2}\n\n\"undefined\"!=typeof document&&function(e,t){var n=e.createElement(\"style\");if(e.getElementsByTagName(\"head\")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,\".swal2-popup.swal2-toast{flex-direction:column;align-items:stretch;width:auto;padding:1.25em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;margin:0 .625em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container{padding:.625em 0 0}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex:1;flex-basis:auto!important;align-self:stretch;width:auto;height:2.2em;height:auto;margin:0 .3125em;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.125em .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:\\\"!\\\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}\");","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.0 (2021-05-06)\n */\n(function () {\n    'use strict';\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      if (x === undefined) {\n        return 'undefined';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isEquatableType = function (x) {\n      return [\n        'undefined',\n        'boolean',\n        'number',\n        'string',\n        'function',\n        'xml',\n        'null'\n      ].indexOf(x) !== -1;\n    };\n\n    var sort = function (xs, compareFn) {\n      var clone = Array.prototype.slice.call(xs);\n      return clone.sort(compareFn);\n    };\n\n    var contramap = function (eqa, f) {\n      return eq(function (x, y) {\n        return eqa.eq(f(x), f(y));\n      });\n    };\n    var eq = function (f) {\n      return { eq: f };\n    };\n    var tripleEq = eq(function (x, y) {\n      return x === y;\n    });\n    var eqString = tripleEq;\n    var eqArray = function (eqa) {\n      return eq(function (x, y) {\n        if (x.length !== y.length) {\n          return false;\n        }\n        var len = x.length;\n        for (var i = 0; i < len; i++) {\n          if (!eqa.eq(x[i], y[i])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqSortedArray = function (eqa, compareFn) {\n      return contramap(eqArray(eqa), function (xs) {\n        return sort(xs, compareFn);\n      });\n    };\n    var eqRecord = function (eqa) {\n      return eq(function (x, y) {\n        var kx = Object.keys(x);\n        var ky = Object.keys(y);\n        if (!eqSortedArray(eqString).eq(kx, ky)) {\n          return false;\n        }\n        var len = kx.length;\n        for (var i = 0; i < len; i++) {\n          var q = kx[i];\n          if (!eqa.eq(x[q], y[q])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqAny = eq(function (x, y) {\n      if (x === y) {\n        return true;\n      }\n      var tx = typeOf(x);\n      var ty = typeOf(y);\n      if (tx !== ty) {\n        return false;\n      }\n      if (isEquatableType(tx)) {\n        return x === y;\n      } else if (tx === 'array') {\n        return eqArray(eqAny).eq(x, y);\n      } else if (tx === 'object') {\n        return eqRecord(eqAny).eq(x, y);\n      }\n      return false;\n    });\n\n    var typeOf$1 = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf$1(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var apply = function (f) {\n      return f();\n    };\n    var call = function (f) {\n      f();\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter(a1, function (x) {\n        return !contains(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var sort$1 = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get(xs, 0);\n    };\n    var last = function (xs) {\n      return get(xs, xs.length - 1);\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each$1 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$1(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each$1(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var bifilter = function (obj, pred) {\n      var t = {};\n      var f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t: t,\n        f: f\n      };\n    };\n    var filter$1 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each$1(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var values = function (obj) {\n      return mapToArray(obj, function (v) {\n        return v;\n      });\n    };\n    var get$1 = function (obj, key) {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n    var equal = function (a1, a2, eq) {\n      if (eq === void 0) {\n        eq = eqAny;\n      }\n      return eqRecord(eq).eq(a1, a2);\n    };\n\n    var isArray$1 = Array.isArray;\n    var toArray = function (obj) {\n      if (!isArray$1(obj)) {\n        var array = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n        return array;\n      } else {\n        return obj;\n      }\n    };\n    var each$2 = function (o, cb, s) {\n      var n, l;\n      if (!o) {\n        return false;\n      }\n      s = s || o;\n      if (o.length !== undefined) {\n        for (n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return false;\n          }\n        }\n      } else {\n        for (n in o) {\n          if (o.hasOwnProperty(n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    var map$2 = function (array, callback) {\n      var out = [];\n      each$2(array, function (item, index) {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    var filter$2 = function (a, f) {\n      var o = [];\n      each$2(a, function (v, index) {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    var indexOf$1 = function (a, v) {\n      if (a) {\n        for (var i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    var reduce = function (collection, iteratee, accumulator, thisArg) {\n      var acc = isUndefined(accumulator) ? collection[0] : accumulator;\n      for (var i = 0; i < collection.length; i++) {\n        acc = iteratee.call(thisArg, acc, collection[i], i);\n      }\n      return acc;\n    };\n    var findIndex$1 = function (array, predicate, thisArg) {\n      var i, l;\n      for (i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var last$1 = function (collection) {\n      return collection[collection.length - 1];\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++)\n        s += arguments[i].length;\n      for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n      return r;\n    }\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$1 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu(group(1), group(2));\n    };\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    var unknown = function () {\n      return nu(0, 0);\n    };\n    var nu = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu,\n      detect: detect,\n      unknown: unknown\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim = blank(/^\\s+|\\s+$/g);\n    var lTrim = blank(/^\\s+/g);\n    var rTrim = blank(/\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown$2 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$2 = function (userAgent, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, mediaMatch);\n    });\n    var detect$3 = function () {\n      return platform();\n    };\n\n    var userAgent = navigator.userAgent;\n    var platform$1 = detect$3();\n    var browser = platform$1.browser;\n    var os = platform$1.os;\n    var deviceType = platform$1.deviceType;\n    var webkit = /WebKit/.test(userAgent) && !browser.isEdge();\n    var fileApi = 'FormData' in window && 'FileReader' in window && 'URL' in window && !!URL.createObjectURL;\n    var windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    var Env = {\n      opera: browser.isOpera(),\n      webkit: webkit,\n      ie: browser.isIE() || browser.isEdge() ? browser.version.major : false,\n      gecko: browser.isFirefox(),\n      mac: os.isOSX() || os.isiOS(),\n      iOS: deviceType.isiPad() || deviceType.isiPhone(),\n      android: os.isAndroid(),\n      contentEditable: true,\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      caretAfter: true,\n      range: window.getSelection && 'Range' in window,\n      documentMode: browser.isIE() ? document.documentMode || 7 : 10,\n      fileApi: fileApi,\n      ceFalse: true,\n      cacheSuffix: null,\n      container: null,\n      experimentalShadowDom: false,\n      canHaveCSP: !browser.isIE(),\n      desktop: deviceType.isDesktop(),\n      windowsPhone: windowsPhone,\n      browser: {\n        current: browser.current,\n        version: browser.version,\n        isChrome: browser.isChrome,\n        isEdge: browser.isEdge,\n        isFirefox: browser.isFirefox,\n        isIE: browser.isIE,\n        isOpera: browser.isOpera,\n        isSafari: browser.isSafari\n      },\n      os: {\n        current: os.current,\n        version: os.version,\n        isAndroid: os.isAndroid,\n        isChromeOS: os.isChromeOS,\n        isFreeBSD: os.isFreeBSD,\n        isiOS: os.isiOS,\n        isLinux: os.isLinux,\n        isOSX: os.isOSX,\n        isSolaris: os.isSolaris,\n        isWindows: os.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n    var trim$1 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n    };\n    var is = function (obj, type) {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && isArray$1(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    var makeMap = function (items, delim, map) {\n      var i;\n      items = items || [];\n      delim = delim || ',';\n      if (typeof items === 'string') {\n        items = items.split(delim);\n      }\n      map = map || {};\n      i = items.length;\n      while (i--) {\n        map[items[i]] = {};\n      }\n      return map;\n    };\n    var hasOwnProperty$1 = function (obj, prop) {\n      return Object.prototype.hasOwnProperty.call(obj, prop);\n    };\n    var create = function (s, p, root) {\n      var self = this;\n      var sp, scn, c, de = 0;\n      s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n      var cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n      var ns = self.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n      if (ns[cn]) {\n        return;\n      }\n      if (s[2] === 'static') {\n        ns[cn] = p;\n        if (this.onCreate) {\n          this.onCreate(s[2], s[3], ns[cn]);\n        }\n        return;\n      }\n      if (!p[cn]) {\n        p[cn] = function () {\n        };\n        de = 1;\n      }\n      ns[cn] = p[cn];\n      self.extend(ns[cn].prototype, p);\n      if (s[5]) {\n        sp = self.resolve(s[5]).prototype;\n        scn = s[5].match(/\\.(\\w+)$/i)[1];\n        c = ns[cn];\n        if (de) {\n          ns[cn] = function () {\n            return sp[scn].apply(this, arguments);\n          };\n        } else {\n          ns[cn] = function () {\n            this.parent = sp[scn];\n            return c.apply(this, arguments);\n          };\n        }\n        ns[cn].prototype[cn] = ns[cn];\n        self.each(sp, function (f, n) {\n          ns[cn].prototype[n] = sp[n];\n        });\n        self.each(p, function (f, n) {\n          if (sp[n]) {\n            ns[cn].prototype[n] = function () {\n              this.parent = sp[n];\n              return f.apply(this, arguments);\n            };\n          } else {\n            if (n !== cn) {\n              ns[cn].prototype[n] = f;\n            }\n          }\n        });\n      }\n      self.each(p.static, function (f, n) {\n        ns[cn][n] = f;\n      });\n    };\n    var extend = function (obj) {\n      var exts = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        exts[_i - 1] = arguments[_i];\n      }\n      for (var i = 0; i < exts.length; i++) {\n        var ext = exts[i];\n        for (var name_1 in ext) {\n          if (ext.hasOwnProperty(name_1)) {\n            var value = ext[name_1];\n            if (value !== undefined) {\n              obj[name_1] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var walk = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        each$2(o, function (o, i) {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          }\n          walk(o, f, n, s);\n        });\n      }\n    };\n    var createNS = function (n, o) {\n      var i, v;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0; i < n.length; i++) {\n        v = n[i];\n        if (!o[v]) {\n          o[v] = {};\n        }\n        o = o[v];\n      }\n      return o;\n    };\n    var resolve = function (n, o) {\n      var i, l;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0, l = n.length; i < l; i++) {\n        o = o[n[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    var explode = function (s, d) {\n      if (!s || is(s, 'array')) {\n        return s;\n      }\n      return map$2(s.split(d || ','), trim$1);\n    };\n    var _addCacheSuffix = function (url) {\n      var cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    var Tools = {\n      trim: trim$1,\n      isArray: isArray$1,\n      is: is,\n      toArray: toArray,\n      makeMap: makeMap,\n      each: each$2,\n      map: map$2,\n      grep: filter$2,\n      inArray: indexOf$1,\n      hasOwn: hasOwnProperty$1,\n      extend: extend,\n      create: create,\n      walk: walk,\n      createNS: createNS,\n      resolve: resolve,\n      explode: explode,\n      _addCacheSuffix: _addCacheSuffix\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var toArray$1 = function (target, f) {\n      var r = [];\n      var recurse = function (e) {\n        r.push(e);\n        return f(e);\n      };\n      var cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var COMMENT = 8;\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var is$1 = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq$2 = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains$2 = function (e1, e2) {\n      return detect$3().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isComment = function (element) {\n      return type(element) === COMMENT || name(element) === '#comment';\n    };\n    var isElement = isType$1(ELEMENT);\n    var isText = isType$1(TEXT);\n    var isDocument = isType$1(DOCUMENT);\n    var isDocumentFragment = isType$1(DOCUMENT_FRAGMENT);\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var siblings = function (element) {\n      var filterSelf = function (elements) {\n        return filter(elements, function (x) {\n          return !eq$2(element, x);\n        });\n      };\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    var prevSibling = function (element) {\n      return Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var prevSiblings = function (element) {\n      return reverse(toArray$1(element, prevSibling));\n    };\n    var nextSiblings = function (element) {\n      return toArray$1(element, nextSibling);\n    };\n    var children = function (element) {\n      return map(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var lastChild = function (element) {\n      return child(element, element.dom.childNodes.length - 1);\n    };\n    var childNodesCount = function (element) {\n      return element.dom.childNodes.length;\n    };\n\n    var getHead = function (doc) {\n      var b = doc.dom.head;\n      if (b === null || b === undefined) {\n        throw new Error('Head is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getStyleContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : getHead(documentOrOwner(dos));\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append(v, element);\n        });\n      }, function (v) {\n        before(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var wrap = function (element, wrapper) {\n      before(element, wrapper);\n      append(wrapper, element);\n    };\n\n    var before$1 = function (marker, elements) {\n      each(elements, function (x) {\n        before(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each(elements, function (x) {\n        append(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each(children(element), function (rogue) {\n        remove(rogue);\n      });\n    };\n    var remove = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove(wrapper);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var get$2 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n    var intoView = function (element, alignToTop) {\n      var isSafari = detect$3().browser.isSafari();\n      if (isSafari && isFunction(element.dom.scrollIntoViewIfNeeded)) {\n        element.dom.scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom.scrollIntoView(alignToTop);\n      }\n    };\n\n    var get$3 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      return Optional.from(win['visualViewport']);\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$2(SugarElement.fromDom(doc));\n      return get$3(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var isNodeType = function (type) {\n      return function (node) {\n        return !!node && node.nodeType === type;\n      };\n    };\n    var isRestrictedNode = function (node) {\n      return !!node && !Object.getPrototypeOf(node);\n    };\n    var isElement$1 = isNodeType(1);\n    var matchNodeNames = function (names) {\n      var lowercasedNames = names.map(function (s) {\n        return s.toLowerCase();\n      });\n      return function (node) {\n        if (node && node.nodeName) {\n          var nodeName = node.nodeName.toLowerCase();\n          return contains(lowercasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    var matchStyleValues = function (name, values) {\n      var items = values.toLowerCase().split(' ');\n      return function (node) {\n        var i, cssValue;\n        if (isElement$1(node)) {\n          for (i = 0; i < items.length; i++) {\n            var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n            cssValue = computed ? computed.getPropertyValue(name) : null;\n            if (cssValue === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    var hasAttribute = function (attrName) {\n      return function (node) {\n        return isElement$1(node) && node.hasAttribute(attrName);\n      };\n    };\n    var hasAttributeValue = function (attrName, attrValue) {\n      return function (node) {\n        return isElement$1(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    var isBogus = function (node) {\n      return isElement$1(node) && node.hasAttribute('data-mce-bogus');\n    };\n    var isBogusAll = function (node) {\n      return isElement$1(node) && node.getAttribute('data-mce-bogus') === 'all';\n    };\n    var isTable = function (node) {\n      return isElement$1(node) && node.tagName === 'TABLE';\n    };\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement$1(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    var isText$1 = isNodeType(3);\n    var isComment$1 = isNodeType(8);\n    var isDocument$1 = isNodeType(9);\n    var isDocumentFragment$1 = isNodeType(11);\n    var isBr = matchNodeNames(['br']);\n    var isImg = matchNodeNames(['img']);\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var isTableCell = matchNodeNames([\n      'td',\n      'th'\n    ]);\n    var isMedia = matchNodeNames([\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom;\n      each$1(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$4 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$4(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$1 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n    var clone = function (element) {\n      return foldl(element.dom.attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll$1 = function (element, css) {\n      var dom = element.dom;\n      each$1(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$5 = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var browser$1 = detect$3().browser;\n    var firstElement = function (nodes) {\n      return find(nodes, isElement);\n    };\n    var getTableCaptionDeltaY = function (elm) {\n      if (browser$1.isFirefox() && name(elm) === 'table') {\n        return firstElement(children(elm)).filter(function (elm) {\n          return name(elm) === 'caption';\n        }).bind(function (caption) {\n          return firstElement(nextSiblings(caption)).map(function (body) {\n            var bodyTop = body.dom.offsetTop;\n            var captionTop = caption.dom.offsetTop;\n            var captionHeight = caption.dom.offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    var hasChild = function (elm, child) {\n      return elm.children && contains(elm.children, child);\n    };\n    var getPos = function (body, elm, rootElm) {\n      var x = 0, y = 0, offsetParent;\n      var doc = body.ownerDocument;\n      var pos;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$5(SugarElement.fromDom(body), 'position') === 'static') {\n          pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x += offsetParent.offsetLeft || 0;\n          y += offsetParent.offsetTop || 0;\n          offsetParent = offsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(SugarElement.fromDom(elm));\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var exports$1 = {}, module$1 = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (f) {\n        if (typeof exports === 'object' && typeof module !== 'undefined') {\n          module.exports = f();\n        } else if (typeof define === 'function' && define.amd) {\n          define([], f);\n        } else {\n          var g;\n          if (typeof window !== 'undefined') {\n            g = window;\n          } else if (typeof global !== 'undefined') {\n            g = global;\n          } else if (typeof self !== 'undefined') {\n            g = self;\n          } else {\n            g = this;\n          }\n          g.EphoxContactWrapper = f();\n        }\n      }(function () {\n        return function () {\n          function r(e, n, t) {\n            function o(i, f) {\n              if (!n[i]) {\n                if (!e[i]) {\n                  var c = 'function' == typeof require && require;\n                  if (!f && c)\n                    return c(i, !0);\n                  if (u)\n                    return u(i, !0);\n                  var a = new Error('Cannot find module \\'' + i + '\\'');\n                  throw a.code = 'MODULE_NOT_FOUND', a;\n                }\n                var p = n[i] = { exports: {} };\n                e[i][0].call(p.exports, function (r) {\n                  var n = e[i][1][r];\n                  return o(n || r);\n                }, p, p.exports, r, e, n, t);\n              }\n              return n[i].exports;\n            }\n            for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++)\n              o(t[i]);\n            return o;\n          }\n          return r;\n        }()({\n          1: [\n            function (require, module, exports) {\n              var process = module.exports = {};\n              var cachedSetTimeout;\n              var cachedClearTimeout;\n              function defaultSetTimout() {\n                throw new Error('setTimeout has not been defined');\n              }\n              function defaultClearTimeout() {\n                throw new Error('clearTimeout has not been defined');\n              }\n              (function () {\n                try {\n                  if (typeof setTimeout === 'function') {\n                    cachedSetTimeout = setTimeout;\n                  } else {\n                    cachedSetTimeout = defaultSetTimout;\n                  }\n                } catch (e) {\n                  cachedSetTimeout = defaultSetTimout;\n                }\n                try {\n                  if (typeof clearTimeout === 'function') {\n                    cachedClearTimeout = clearTimeout;\n                  } else {\n                    cachedClearTimeout = defaultClearTimeout;\n                  }\n                } catch (e) {\n                  cachedClearTimeout = defaultClearTimeout;\n                }\n              }());\n              function runTimeout(fun) {\n                if (cachedSetTimeout === setTimeout) {\n                  return setTimeout(fun, 0);\n                }\n                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n                  cachedSetTimeout = setTimeout;\n                  return setTimeout(fun, 0);\n                }\n                try {\n                  return cachedSetTimeout(fun, 0);\n                } catch (e) {\n                  try {\n                    return cachedSetTimeout.call(null, fun, 0);\n                  } catch (e) {\n                    return cachedSetTimeout.call(this, fun, 0);\n                  }\n                }\n              }\n              function runClearTimeout(marker) {\n                if (cachedClearTimeout === clearTimeout) {\n                  return clearTimeout(marker);\n                }\n                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n                  cachedClearTimeout = clearTimeout;\n                  return clearTimeout(marker);\n                }\n                try {\n                  return cachedClearTimeout(marker);\n                } catch (e) {\n                  try {\n                    return cachedClearTimeout.call(null, marker);\n                  } catch (e) {\n                    return cachedClearTimeout.call(this, marker);\n                  }\n                }\n              }\n              var queue = [];\n              var draining = false;\n              var currentQueue;\n              var queueIndex = -1;\n              function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                  return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                  queue = currentQueue.concat(queue);\n                } else {\n                  queueIndex = -1;\n                }\n                if (queue.length) {\n                  drainQueue();\n                }\n              }\n              function drainQueue() {\n                if (draining) {\n                  return;\n                }\n                var timeout = runTimeout(cleanUpNextTick);\n                draining = true;\n                var len = queue.length;\n                while (len) {\n                  currentQueue = queue;\n                  queue = [];\n                  while (++queueIndex < len) {\n                    if (currentQueue) {\n                      currentQueue[queueIndex].run();\n                    }\n                  }\n                  queueIndex = -1;\n                  len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                runClearTimeout(timeout);\n              }\n              process.nextTick = function (fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                  for (var i = 1; i < arguments.length; i++) {\n                    args[i - 1] = arguments[i];\n                  }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                  runTimeout(drainQueue);\n                }\n              };\n              function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n              }\n              Item.prototype.run = function () {\n                this.fun.apply(null, this.array);\n              };\n              process.title = 'browser';\n              process.browser = true;\n              process.env = {};\n              process.argv = [];\n              process.version = '';\n              process.versions = {};\n              function noop() {\n              }\n              process.on = noop;\n              process.addListener = noop;\n              process.once = noop;\n              process.off = noop;\n              process.removeListener = noop;\n              process.removeAllListeners = noop;\n              process.emit = noop;\n              process.prependListener = noop;\n              process.prependOnceListener = noop;\n              process.listeners = function (name) {\n                return [];\n              };\n              process.binding = function (name) {\n                throw new Error('process.binding is not supported');\n              };\n              process.cwd = function () {\n                return '/';\n              };\n              process.chdir = function (dir) {\n                throw new Error('process.chdir is not supported');\n              };\n              process.umask = function () {\n                return 0;\n              };\n            },\n            {}\n          ],\n          2: [\n            function (require, module, exports) {\n              (function (setImmediate) {\n                (function (root) {\n                  var setTimeoutFunc = setTimeout;\n                  function noop() {\n                  }\n                  function bind(fn, thisArg) {\n                    return function () {\n                      fn.apply(thisArg, arguments);\n                    };\n                  }\n                  function Promise(fn) {\n                    if (typeof this !== 'object')\n                      throw new TypeError('Promises must be constructed via new');\n                    if (typeof fn !== 'function')\n                      throw new TypeError('not a function');\n                    this._state = 0;\n                    this._handled = false;\n                    this._value = undefined;\n                    this._deferreds = [];\n                    doResolve(fn, this);\n                  }\n                  function handle(self, deferred) {\n                    while (self._state === 3) {\n                      self = self._value;\n                    }\n                    if (self._state === 0) {\n                      self._deferreds.push(deferred);\n                      return;\n                    }\n                    self._handled = true;\n                    Promise._immediateFn(function () {\n                      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                      if (cb === null) {\n                        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                        return;\n                      }\n                      var ret;\n                      try {\n                        ret = cb(self._value);\n                      } catch (e) {\n                        reject(deferred.promise, e);\n                        return;\n                      }\n                      resolve(deferred.promise, ret);\n                    });\n                  }\n                  function resolve(self, newValue) {\n                    try {\n                      if (newValue === self)\n                        throw new TypeError('A promise cannot be resolved with itself.');\n                      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                        var then = newValue.then;\n                        if (newValue instanceof Promise) {\n                          self._state = 3;\n                          self._value = newValue;\n                          finale(self);\n                          return;\n                        } else if (typeof then === 'function') {\n                          doResolve(bind(then, newValue), self);\n                          return;\n                        }\n                      }\n                      self._state = 1;\n                      self._value = newValue;\n                      finale(self);\n                    } catch (e) {\n                      reject(self, e);\n                    }\n                  }\n                  function reject(self, newValue) {\n                    self._state = 2;\n                    self._value = newValue;\n                    finale(self);\n                  }\n                  function finale(self) {\n                    if (self._state === 2 && self._deferreds.length === 0) {\n                      Promise._immediateFn(function () {\n                        if (!self._handled) {\n                          Promise._unhandledRejectionFn(self._value);\n                        }\n                      });\n                    }\n                    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                      handle(self, self._deferreds[i]);\n                    }\n                    self._deferreds = null;\n                  }\n                  function Handler(onFulfilled, onRejected, promise) {\n                    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                    this.promise = promise;\n                  }\n                  function doResolve(fn, self) {\n                    var done = false;\n                    try {\n                      fn(function (value) {\n                        if (done)\n                          return;\n                        done = true;\n                        resolve(self, value);\n                      }, function (reason) {\n                        if (done)\n                          return;\n                        done = true;\n                        reject(self, reason);\n                      });\n                    } catch (ex) {\n                      if (done)\n                        return;\n                      done = true;\n                      reject(self, ex);\n                    }\n                  }\n                  Promise.prototype['catch'] = function (onRejected) {\n                    return this.then(null, onRejected);\n                  };\n                  Promise.prototype.then = function (onFulfilled, onRejected) {\n                    var prom = new this.constructor(noop);\n                    handle(this, new Handler(onFulfilled, onRejected, prom));\n                    return prom;\n                  };\n                  Promise.all = function (arr) {\n                    var args = Array.prototype.slice.call(arr);\n                    return new Promise(function (resolve, reject) {\n                      if (args.length === 0)\n                        return resolve([]);\n                      var remaining = args.length;\n                      function res(i, val) {\n                        try {\n                          if (val && (typeof val === 'object' || typeof val === 'function')) {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                              then.call(val, function (val) {\n                                res(i, val);\n                              }, reject);\n                              return;\n                            }\n                          }\n                          args[i] = val;\n                          if (--remaining === 0) {\n                            resolve(args);\n                          }\n                        } catch (ex) {\n                          reject(ex);\n                        }\n                      }\n                      for (var i = 0; i < args.length; i++) {\n                        res(i, args[i]);\n                      }\n                    });\n                  };\n                  Promise.resolve = function (value) {\n                    if (value && typeof value === 'object' && value.constructor === Promise) {\n                      return value;\n                    }\n                    return new Promise(function (resolve) {\n                      resolve(value);\n                    });\n                  };\n                  Promise.reject = function (value) {\n                    return new Promise(function (resolve, reject) {\n                      reject(value);\n                    });\n                  };\n                  Promise.race = function (values) {\n                    return new Promise(function (resolve, reject) {\n                      for (var i = 0, len = values.length; i < len; i++) {\n                        values[i].then(resolve, reject);\n                      }\n                    });\n                  };\n                  Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                    setImmediate(fn);\n                  } : function (fn) {\n                    setTimeoutFunc(fn, 0);\n                  };\n                  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                    if (typeof console !== 'undefined' && console) {\n                      console.warn('Possible Unhandled Promise Rejection:', err);\n                    }\n                  };\n                  Promise._setImmediateFn = function _setImmediateFn(fn) {\n                    Promise._immediateFn = fn;\n                  };\n                  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                    Promise._unhandledRejectionFn = fn;\n                  };\n                  if (typeof module !== 'undefined' && module.exports) {\n                    module.exports = Promise;\n                  } else if (!root.Promise) {\n                    root.Promise = Promise;\n                  }\n                }(this));\n              }.call(this, require('timers').setImmediate));\n            },\n            { 'timers': 3 }\n          ],\n          3: [\n            function (require, module, exports) {\n              (function (setImmediate, clearImmediate) {\n                var nextTick = require('process/browser.js').nextTick;\n                var apply = Function.prototype.apply;\n                var slice = Array.prototype.slice;\n                var immediateIds = {};\n                var nextImmediateId = 0;\n                exports.setTimeout = function () {\n                  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n                };\n                exports.setInterval = function () {\n                  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n                };\n                exports.clearTimeout = exports.clearInterval = function (timeout) {\n                  timeout.close();\n                };\n                function Timeout(id, clearFn) {\n                  this._id = id;\n                  this._clearFn = clearFn;\n                }\n                Timeout.prototype.unref = Timeout.prototype.ref = function () {\n                };\n                Timeout.prototype.close = function () {\n                  this._clearFn.call(window, this._id);\n                };\n                exports.enroll = function (item, msecs) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = msecs;\n                };\n                exports.unenroll = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = -1;\n                };\n                exports._unrefActive = exports.active = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  var msecs = item._idleTimeout;\n                  if (msecs >= 0) {\n                    item._idleTimeoutId = setTimeout(function onTimeout() {\n                      if (item._onTimeout)\n                        item._onTimeout();\n                    }, msecs);\n                  }\n                };\n                exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n                  var id = nextImmediateId++;\n                  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n                  immediateIds[id] = true;\n                  nextTick(function onNextTick() {\n                    if (immediateIds[id]) {\n                      if (args) {\n                        fn.apply(null, args);\n                      } else {\n                        fn.call(null);\n                      }\n                      exports.clearImmediate(id);\n                    }\n                  });\n                  return id;\n                };\n                exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n                  delete immediateIds[id];\n                };\n              }.call(this, require('timers').setImmediate, require('timers').clearImmediate));\n            },\n            {\n              'process/browser.js': 1,\n              'timers': 3\n            }\n          ],\n          4: [\n            function (require, module, exports) {\n              var promisePolyfill = require('promise-polyfill');\n              var Global = function () {\n                if (typeof window !== 'undefined') {\n                  return window;\n                } else {\n                  return Function('return this;')();\n                }\n              }();\n              module.exports = { boltExport: Global.Promise || promisePolyfill };\n            },\n            { 'promise-polyfill': 2 }\n          ]\n        }, {}, [4])(4);\n      }));\n    }(undefined, exports$1, module$1, undefined));\n    var Promise = module$1.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$4 = function (baseFn) {\n      return make(function () {\n        return new Promise(baseFn);\n      });\n    };\n    var pure$1 = function (a) {\n      return make(function () {\n        return Promise.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$4,\n      pure: pure$1\n    };\n\n    var par = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par$1 = function (futures) {\n      return par(futures, Future.nu);\n    };\n\n    var value = function (o) {\n      var is = function (v) {\n        return o === v;\n      };\n      var or = function (_opt) {\n        return value(o);\n      };\n      var orThunk = function (_f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (_f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        is: is,\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = function (opt) {\n        return opt;\n      };\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (_f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        is: never,\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var generate = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate };\n\n    var comparison = Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var unite = function (result) {\n      return result.fold(identity, identity);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n    var sibling = function (scope, predicate) {\n      var element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child$1(SugarElement.fromDom(element.parentNode), function (x) {\n        return !eq$2(scope, x) && predicate(x);\n      });\n    };\n    var child$1 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor(scope, function (e) {\n        return is$1(e, selector);\n      }, isRoot);\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      var is = function (element, selector) {\n        return is$1(element, selector);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    var promise = function () {\n      var bind = function (fn, thisArg) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          fn.apply(thisArg, args);\n        };\n      };\n      var isArray = Array.isArray || function (value) {\n        return Object.prototype.toString.call(value) === '[object Array]';\n      };\n      var Promise = function (fn) {\n        if (typeof this !== 'object') {\n          throw new TypeError('Promises must be constructed via new');\n        }\n        if (typeof fn !== 'function') {\n          throw new TypeError('not a function');\n        }\n        this._state = null;\n        this._value = null;\n        this._deferreds = [];\n        doResolve(fn, bind(resolve, this), bind(reject, this));\n      };\n      var asap = Promise.immediateFn || typeof setImmediate === 'function' && setImmediate || function (fn) {\n        return setTimeout(fn, 1);\n      };\n      function handle(deferred) {\n        var me = this;\n        if (this._state === null) {\n          this._deferreds.push(deferred);\n          return;\n        }\n        asap(function () {\n          var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n          if (cb === null) {\n            (me._state ? deferred.resolve : deferred.reject)(me._value);\n            return;\n          }\n          var ret;\n          try {\n            ret = cb(me._value);\n          } catch (e) {\n            deferred.reject(e);\n            return;\n          }\n          deferred.resolve(ret);\n        });\n      }\n      function resolve(newValue) {\n        try {\n          if (newValue === this) {\n            throw new TypeError('A promise cannot be resolved with itself.');\n          }\n          if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (typeof then === 'function') {\n              doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n              return;\n            }\n          }\n          this._state = true;\n          this._value = newValue;\n          finale.call(this);\n        } catch (e) {\n          reject.call(this, e);\n        }\n      }\n      function reject(newValue) {\n        this._state = false;\n        this._value = newValue;\n        finale.call(this);\n      }\n      function finale() {\n        for (var i = 0, len = this._deferreds.length; i < len; i++) {\n          handle.call(this, this._deferreds[i]);\n        }\n        this._deferreds = null;\n      }\n      function Handler(onFulfilled, onRejected, resolve, reject) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n      }\n      var doResolve = function (fn, onFulfilled, onRejected) {\n        var done = false;\n        try {\n          fn(function (value) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onFulfilled(value);\n          }, function (reason) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onRejected(reason);\n          });\n        } catch (ex) {\n          if (done) {\n            return;\n          }\n          done = true;\n          onRejected(ex);\n        }\n      };\n      Promise.prototype.catch = function (onRejected) {\n        return this.then(null, onRejected);\n      };\n      Promise.prototype.then = function (onFulfilled, onRejected) {\n        var me = this;\n        return new Promise(function (resolve, reject) {\n          handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n        });\n      };\n      Promise.all = function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        var args = Array.prototype.slice.call(values.length === 1 && isArray(values[0]) ? values[0] : values);\n        return new Promise(function (resolve, reject) {\n          if (args.length === 0) {\n            return resolve([]);\n          }\n          var remaining = args.length;\n          var res = function (i, val) {\n            try {\n              if (val && (typeof val === 'object' || typeof val === 'function')) {\n                var then = val.then;\n                if (typeof then === 'function') {\n                  then.call(val, function (val) {\n                    res(i, val);\n                  }, reject);\n                  return;\n                }\n              }\n              args[i] = val;\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            } catch (ex) {\n              reject(ex);\n            }\n          };\n          for (var i = 0; i < args.length; i++) {\n            res(i, args[i]);\n          }\n        });\n      };\n      Promise.resolve = function (value) {\n        if (value && typeof value === 'object' && value.constructor === Promise) {\n          return value;\n        }\n        return new Promise(function (resolve) {\n          resolve(value);\n        });\n      };\n      Promise.reject = function (value) {\n        return new Promise(function (resolve, reject) {\n          reject(value);\n        });\n      };\n      Promise.race = function (values) {\n        return new Promise(function (resolve, reject) {\n          for (var i = 0, len = values.length; i < len; i++) {\n            values[i].then(resolve, reject);\n          }\n        });\n      };\n      return Promise;\n    };\n    var promiseObj = window.Promise ? window.Promise : promise();\n\n    var requestAnimationFramePromise;\n    var requestAnimationFrame = function (callback, element) {\n      var requestAnimationFrameFunc = window.requestAnimationFrame;\n      var vendors = [\n        'ms',\n        'moz',\n        'webkit'\n      ];\n      var featurefill = function (cb) {\n        window.setTimeout(cb, 0);\n      };\n      for (var i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n        requestAnimationFrameFunc = window[vendors[i] + 'RequestAnimationFrame'];\n      }\n      if (!requestAnimationFrameFunc) {\n        requestAnimationFrameFunc = featurefill;\n      }\n      requestAnimationFrameFunc(callback, element);\n    };\n    var wrappedSetTimeout = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    var wrappedSetInterval = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 1;\n      }\n      return setInterval(callback, time);\n    };\n    var wrappedClearTimeout = function (id) {\n      return clearTimeout(id);\n    };\n    var wrappedClearInterval = function (id) {\n      return clearInterval(id);\n    };\n    var debounce = function (callback, time) {\n      var timer;\n      var func = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        clearTimeout(timer);\n        timer = wrappedSetTimeout(function () {\n          callback.apply(this, args);\n        }, time);\n      };\n      func.stop = function () {\n        clearTimeout(timer);\n      };\n      return func;\n    };\n    var Delay = {\n      requestAnimationFrame: function (callback, element) {\n        if (requestAnimationFramePromise) {\n          requestAnimationFramePromise.then(callback);\n          return;\n        }\n        requestAnimationFramePromise = new promiseObj(function (resolve) {\n          if (!element) {\n            element = document.body;\n          }\n          requestAnimationFrame(resolve, element);\n        }).then(callback);\n      },\n      setTimeout: wrappedSetTimeout,\n      setInterval: wrappedSetInterval,\n      setEditorTimeout: function (editor, callback, time) {\n        return wrappedSetTimeout(function () {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: function (editor, callback, time) {\n        var timer = wrappedSetInterval(function () {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      },\n      debounce: debounce,\n      throttle: debounce,\n      clearInterval: wrappedClearInterval,\n      clearTimeout: wrappedClearTimeout\n    };\n\n    var StyleSheetLoader = function (documentOrShadowRoot, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var idCount = 0;\n      var loadedStates = {};\n      var edos = SugarElement.fromDom(documentOrShadowRoot);\n      var doc = documentOrOwner(edos);\n      var maxLoadTime = settings.maxLoadTime || 5000;\n      var _setReferrerPolicy = function (referrerPolicy) {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      var addStyle = function (element) {\n        append(getStyleContainer(edos), element);\n      };\n      var removeStyle = function (id) {\n        var styleContainer = getStyleContainer(edos);\n        descendant(styleContainer, '#' + id).each(remove);\n      };\n      var getOrCreateState = function (url) {\n        return get$1(loadedStates, url).getOrThunk(function () {\n          return {\n            id: 'mce-u' + idCount++,\n            passed: [],\n            failed: [],\n            count: 0\n          };\n        });\n      };\n      var load = function (url, success, failure) {\n        var link;\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        var state = getOrCreateState(urlWithSuffix);\n        loadedStates[urlWithSuffix] = state;\n        state.count++;\n        var resolve = function (callbacks, status) {\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        var passed = function () {\n          return resolve(state.passed, 2);\n        };\n        var failed = function () {\n          return resolve(state.failed, 3);\n        };\n        var wait = function (testCallback, waitCallback) {\n          if (!testCallback()) {\n            if (Date.now() - startTime < maxLoadTime) {\n              Delay.setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        var waitForWebKitLinkLoaded = function () {\n          wait(function () {\n            var styleSheets = documentOrShadowRoot.styleSheets;\n            var i = styleSheets.length;\n            while (i--) {\n              var styleSheet = styleSheets[i];\n              var owner = styleSheet.ownerNode;\n              if (owner && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n            return false;\n          }, waitForWebKitLinkLoaded);\n        };\n        if (success) {\n          state.passed.push(success);\n        }\n        if (failure) {\n          state.failed.push(failure);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        var linkElem = SugarElement.fromTag('link', doc.dom);\n        setAll(linkElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        var startTime = Date.now();\n        if (settings.contentCssCors) {\n          set(linkElem, 'crossOrigin', 'anonymous');\n        }\n        if (settings.referrerPolicy) {\n          set(linkElem, 'referrerpolicy', settings.referrerPolicy);\n        }\n        link = linkElem.dom;\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n        addStyle(linkElem);\n        set(linkElem, 'href', urlWithSuffix);\n      };\n      var loadF = function (url) {\n        return Future.nu(function (resolve) {\n          load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n        });\n      };\n      var loadAll = function (urls, success, failure) {\n        par$1(map(urls, loadF)).get(function (result) {\n          var parts = partition(result, function (r) {\n            return r.isValue();\n          });\n          if (parts.fail.length > 0) {\n            failure(parts.fail.map(unite));\n          } else {\n            success(parts.pass.map(unite));\n          }\n        });\n      };\n      var unload = function (url) {\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        get$1(loadedStates, urlWithSuffix).each(function (state) {\n          var count = --state.count;\n          if (count === 0) {\n            delete loadedStates[urlWithSuffix];\n            removeStyle(state.id);\n          }\n        });\n      };\n      var unloadAll = function (urls) {\n        each(urls, function (url) {\n          unload(url);\n        });\n      };\n      return {\n        load: load,\n        loadAll: loadAll,\n        unload: unload,\n        unloadAll: unloadAll,\n        _setReferrerPolicy: _setReferrerPolicy\n      };\n    };\n\n    var create$1 = function () {\n      var map = new WeakMap();\n      var forElement = function (referenceElement, settings) {\n        var root = getRootNode(referenceElement);\n        var rootDom = root.dom;\n        return Optional.from(map.get(rootDom)).getOrThunk(function () {\n          var sl = StyleSheetLoader(rootDom, settings);\n          map.set(rootDom, sl);\n          return sl;\n        });\n      };\n      return { forElement: forElement };\n    };\n    var instance = create$1();\n\n    var DomTreeWalker = function () {\n      function DomTreeWalker(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      DomTreeWalker.prototype.current = function () {\n        return this.node;\n      };\n      DomTreeWalker.prototype.next = function (shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev = function (shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev2 = function (shallow) {\n        this.node = this.findPreviousNode(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.findSibling = function (node, startName, siblingName, shallow) {\n        var sibling, parent;\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n      };\n      DomTreeWalker.prototype.findPreviousNode = function (node, startName, siblingName, shallow) {\n        var sibling, parent, child;\n        if (node) {\n          sibling = node[siblingName];\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (child = sibling[startName]; child; child = child[startName]) {\n                if (!child[startName]) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n      };\n      return DomTreeWalker;\n    }();\n\n    var blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    var tableCells = [\n      'td',\n      'th'\n    ];\n    var tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    var textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    var headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    var listItems = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    var lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    var wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    var lazyLookup = function (items) {\n      var lookup;\n      return function (node) {\n        lookup = lookup ? lookup : mapToObject(items, always);\n        return lookup.hasOwnProperty(name(node));\n      };\n    };\n    var isHeading = lazyLookup(headings);\n    var isBlock = lazyLookup(blocks);\n    var isTable$1 = function (node) {\n      return name(node) === 'table';\n    };\n    var isInline = function (node) {\n      return isElement(node) && !isBlock(node);\n    };\n    var isBr$1 = function (node) {\n      return isElement(node) && name(node) === 'br';\n    };\n    var isTextBlock = lazyLookup(textBlocks);\n    var isList = lazyLookup(lists);\n    var isListItem = lazyLookup(listItems);\n    var isTableSection = lazyLookup(tableSections);\n    var isTableCell$1 = lazyLookup(tableCells);\n    var isWsPreserveElement = lazyLookup(wsElements);\n\n    var ancestor$2 = function (scope, selector, isRoot) {\n      return ancestor$1(scope, selector, isRoot).isSome();\n    };\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n    var isZwsp = function (char) {\n      return char === zeroWidth;\n    };\n    var removeZwsp = function (s) {\n      return s.replace(/\\uFEFF/g, '');\n    };\n\n    var ZWSP = zeroWidth;\n    var isZwsp$1 = isZwsp;\n    var trim$2 = removeZwsp;\n\n    var isElement$2 = isElement$1;\n    var isText$2 = isText$1;\n    var isCaretContainerBlock = function (node) {\n      if (isText$2(node)) {\n        node = node.parentNode;\n      }\n      return isElement$2(node) && node.hasAttribute('data-mce-caret');\n    };\n    var isCaretContainerInline = function (node) {\n      return isText$2(node) && isZwsp$1(node.data);\n    };\n    var isCaretContainer = function (node) {\n      return isCaretContainerBlock(node) || isCaretContainerInline(node);\n    };\n    var hasContent = function (node) {\n      return node.firstChild !== node.lastChild || !isBr(node.firstChild);\n    };\n    var insertInline = function (node, before) {\n      var sibling;\n      var doc = node.ownerDocument;\n      var textNode = doc.createTextNode(ZWSP);\n      var parentNode = node.parentNode;\n      if (!before) {\n        sibling = node.nextSibling;\n        if (isText$2(sibling)) {\n          if (isCaretContainer(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(textNode);\n        }\n      } else {\n        sibling = node.previousSibling;\n        if (isText$2(sibling)) {\n          if (isCaretContainer(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    var isBeforeInline = function (pos) {\n      var container = pos.container();\n      if (!isText$1(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === ZWSP || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    var isAfterInline = function (pos) {\n      var container = pos.container();\n      if (!isText$1(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === ZWSP || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    var createBogusBr = function () {\n      var br = document.createElement('br');\n      br.setAttribute('data-mce-bogus', '1');\n      return br;\n    };\n    var insertBlock = function (blockName, node, before) {\n      var doc = node.ownerDocument;\n      var blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createBogusBr());\n      var parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    var startsWithCaretContainer = function (node) {\n      return isText$2(node) && node.data[0] === ZWSP;\n    };\n    var endsWithCaretContainer = function (node) {\n      return isText$2(node) && node.data[node.data.length - 1] === ZWSP;\n    };\n    var trimBogusBr = function (elm) {\n      var brs = elm.getElementsByTagName('br');\n      var lastBr = brs[brs.length - 1];\n      if (isBogus(lastBr)) {\n        lastBr.parentNode.removeChild(lastBr);\n      }\n    };\n    var showCaretContainerBlock = function (caretContainer) {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    var isRangeInCaretContainerBlock = function (range) {\n      return isCaretContainerBlock(range.startContainer);\n    };\n\n    var isContentEditableTrue$1 = isContentEditableTrue;\n    var isContentEditableFalse$1 = isContentEditableFalse;\n    var isBr$2 = isBr;\n    var isText$3 = isText$1;\n    var isInvalidTextElement = matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    var isAtomicInline = matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    var isTable$2 = matchNodeNames(['table']);\n    var isCaretContainer$1 = isCaretContainer;\n    var isCaretCandidate = function (node) {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$3(node)) {\n        return !isInvalidTextElement(node.parentNode);\n      }\n      return isAtomicInline(node) || isBr$2(node) || isTable$2(node) || isNonUiContentEditableFalse(node);\n    };\n    var isUnselectable = function (node) {\n      return isElement$1(node) && node.getAttribute('unselectable') === 'true';\n    };\n    var isNonUiContentEditableFalse = function (node) {\n      return isUnselectable(node) === false && isContentEditableFalse$1(node);\n    };\n    var isInEditable = function (node, root) {\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n        if (isNonUiContentEditableFalse(node)) {\n          return false;\n        }\n        if (isContentEditableTrue$1(node)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    var isAtomicContentEditableFalse = function (node) {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return foldl(from$1(node.getElementsByTagName('*')), function (result, elm) {\n        return result || isContentEditableTrue$1(elm);\n      }, false) !== true;\n    };\n    var isAtomic = function (node) {\n      return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    };\n    var isEditableCaretCandidate = function (node, root) {\n      return isCaretCandidate(node) && isInEditable(node, root);\n    };\n\n    var whiteSpaceRegExp$1 = /^[ \\t\\r\\n]*$/;\n    var isWhitespaceText = function (text) {\n      return whiteSpaceRegExp$1.test(text);\n    };\n\n    var hasWhitespacePreserveParent = function (node, rootNode) {\n      var rootElement = SugarElement.fromDom(rootNode);\n      var startNode = SugarElement.fromDom(node);\n      return ancestor$2(startNode, 'pre,code', curry(eq$2, rootElement));\n    };\n    var isWhitespace = function (node, rootNode) {\n      return isText$1(node) && isWhitespaceText(node.data) && hasWhitespacePreserveParent(node, rootNode) === false;\n    };\n    var isNamedAnchor = function (node) {\n      return isElement$1(node) && node.nodeName === 'A' && !node.hasAttribute('href') && (node.hasAttribute('name') || node.hasAttribute('id'));\n    };\n    var isContent = function (node, rootNode) {\n      return isCaretCandidate(node) && isWhitespace(node, rootNode) === false || isNamedAnchor(node) || isBookmark(node);\n    };\n    var isBookmark = hasAttribute('data-mce-bookmark');\n    var isBogus$1 = hasAttribute('data-mce-bogus');\n    var isBogusAll$1 = hasAttributeValue('data-mce-bogus', 'all');\n    var isEmptyNode = function (targetNode, skipBogus) {\n      var node, brCount = 0;\n      if (isContent(targetNode, targetNode)) {\n        return false;\n      } else {\n        node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        var walker = new DomTreeWalker(node, targetNode);\n        do {\n          if (skipBogus) {\n            if (isBogusAll$1(node)) {\n              node = walker.next(true);\n              continue;\n            }\n            if (isBogus$1(node)) {\n              node = walker.next();\n              continue;\n            }\n          }\n          if (isBr(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent(node, targetNode)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    var isEmpty = function (elm, skipBogus) {\n      if (skipBogus === void 0) {\n        skipBogus = true;\n      }\n      return isEmptyNode(elm.dom, skipBogus);\n    };\n\n    var isSpan = function (node) {\n      return node.nodeName.toLowerCase() === 'span';\n    };\n    var isInlineContent = function (node, root) {\n      return isNonNullable(node) && (isContent(node, root) || isInline(SugarElement.fromDom(node)));\n    };\n    var surroundedByInlineContent = function (node, root) {\n      var prev = new DomTreeWalker(node, root).prev(false);\n      var next = new DomTreeWalker(node, root).next(false);\n      var prevIsInline = isUndefined(prev) || isInlineContent(prev, root);\n      var nextIsInline = isUndefined(next) || isInlineContent(next, root);\n      return prevIsInline && nextIsInline;\n    };\n    var isBookmarkNode = function (node) {\n      return isSpan(node) && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var isKeepTextNode = function (node, root) {\n      return isText$1(node) && node.data.length > 0 && surroundedByInlineContent(node, root);\n    };\n    var isKeepElement = function (node) {\n      return isElement$1(node) ? node.childNodes.length > 0 : false;\n    };\n    var isDocument$2 = function (node) {\n      return isDocumentFragment$1(node) || isDocument$1(node);\n    };\n    var trimNode = function (dom, node, root) {\n      var rootNode = root || node;\n      if (isElement$1(node) && isBookmarkNode(node)) {\n        return node;\n      }\n      var children = node.childNodes;\n      for (var i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i], rootNode);\n      }\n      if (isElement$1(node)) {\n        var currentChildren = node.childNodes;\n        if (currentChildren.length === 1 && isBookmarkNode(currentChildren[0])) {\n          node.parentNode.insertBefore(currentChildren[0], node);\n        }\n      }\n      if (!isDocument$2(node) && !isContent(node, rootNode) && !isKeepElement(node) && !isKeepTextNode(node, rootNode)) {\n        dom.remove(node);\n      }\n      return node;\n    };\n\n    var makeMap$1 = Tools.makeMap;\n    var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var rawCharsRegExp = /[<>&\\\"\\']/g;\n    var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    var asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    var baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    var reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': '\\''\n    };\n    var nativeDecode = function (text) {\n      var elm = SugarElement.fromTag('div').dom;\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    var buildEntitiesLookup = function (items, radix) {\n      var i, chr, entity;\n      var lookup = {};\n      if (items) {\n        items = items.split(',');\n        radix = radix || 10;\n        for (i = 0; i < items.length; i += 2) {\n          chr = String.fromCharCode(parseInt(items[i], radix));\n          if (!baseEntities[chr]) {\n            entity = '&' + items[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      }\n    };\n    var namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    var encodeRaw = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeAllRaw = function (text) {\n      return ('' + text).replace(rawCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeNumeric = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n    var encodeNamed = function (text, attr, entities) {\n      entities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || entities[chr] || chr;\n      });\n    };\n    var getEncodeFunc = function (name, entities) {\n      var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      var encodeNamedAndNumeric = function (text, attr) {\n        return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n          if (baseEntities[chr] !== undefined) {\n            return baseEntities[chr];\n          }\n          if (entitiesMap[chr] !== undefined) {\n            return entitiesMap[chr];\n          }\n          if (chr.length > 1) {\n            return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n          }\n          return '&#' + chr.charCodeAt(0) + ';';\n        });\n      };\n      var encodeCustomNamed = function (text, attr) {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      var nameMap = makeMap$1(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    var decode = function (text) {\n      return text.replace(entityRegExp, function (all, numeric) {\n        if (numeric) {\n          if (numeric.charAt(0).toLowerCase() === 'x') {\n            numeric = parseInt(numeric.substr(1), 16);\n          } else {\n            numeric = parseInt(numeric, 10);\n          }\n          if (numeric > 65535) {\n            numeric -= 65536;\n            return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n          }\n          return asciiMap[numeric] || String.fromCharCode(numeric);\n        }\n        return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n      });\n    };\n    var Entities = {\n      encodeRaw: encodeRaw,\n      encodeAllRaw: encodeAllRaw,\n      encodeNumeric: encodeNumeric,\n      encodeNamed: encodeNamed,\n      getEncodeFunc: getEncodeFunc,\n      decode: decode\n    };\n\n    var mapCache = {}, dummyObj = {};\n    var makeMap$2 = Tools.makeMap, each$3 = Tools.each, extend$1 = Tools.extend, explode$1 = Tools.explode, inArray = Tools.inArray;\n    var split = function (items, delim) {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    var compileSchema = function (type) {\n      var schema = {};\n      var globalAttributes, blockContent;\n      var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n      var add = function (name, attributes, children) {\n        var ni, attributesOrder, element;\n        var arrayToMap = function (array, obj) {\n          var map = {};\n          var i, l;\n          for (i = 0, l = array.length; i < l; i++) {\n            map[array[i]] = obj || {};\n          }\n          return map;\n        };\n        children = children || [];\n        attributes = attributes || '';\n        if (typeof children === 'string') {\n          children = split(children);\n        }\n        var names = split(name);\n        ni = names.length;\n        while (ni--) {\n          attributesOrder = split([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          element = {\n            attributes: arrayToMap(attributesOrder),\n            attributesOrder: attributesOrder,\n            children: arrayToMap(children, dummyObj)\n          };\n          schema[names[ni]] = element;\n        }\n      };\n      var addAttrs = function (name, attributes) {\n        var ni, schemaItem, i, l;\n        var names = split(name);\n        ni = names.length;\n        var attrs = split(attributes);\n        while (ni--) {\n          schemaItem = schema[names[ni]];\n          for (i = 0, l = attrs.length; i < l; i++) {\n            schemaItem.attributes[attrs[i]] = {};\n            schemaItem.attributesOrder.push(attrs[i]);\n          }\n        }\n      };\n      if (mapCache[type]) {\n        return mapCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$3(split(html4PhrasingContent), function (name) {\n          add(name, '', phrasingContent);\n        });\n        html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$3(split(html4BlockContent), function (name) {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', phrasingContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('img', 'loading');\n        addAttrs('iframe', 'sandbox seamless allowfullscreen loading');\n      }\n      each$3(split('a form meter progress dfn'), function (name) {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      mapCache[type] = schema;\n      return schema;\n    };\n    var compileElementMap = function (value, mode) {\n      var styles;\n      if (value) {\n        styles = {};\n        if (typeof value === 'string') {\n          value = { '*': value };\n        }\n        each$3(value, function (value, key) {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$1(value, /[, ]/);\n        });\n      }\n      return styles;\n    };\n    var Schema = function (settings) {\n      var elements = {};\n      var children = {};\n      var patternElements = [];\n      var customElementsMap = {}, specialElements = {};\n      var createLookupTable = function (option, defaultValue, extendWith) {\n        var value = settings[option];\n        if (!value) {\n          value = mapCache[option];\n          if (!value) {\n            value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n            value = extend$1(value, extendWith);\n            mapCache[option] = value;\n          }\n        } else {\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n        return value;\n      };\n      settings = settings || {};\n      var schemaItems = compileSchema(settings.schema);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      var validStyles = compileElementMap(settings.valid_styles);\n      var invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      var validClasses = compileElementMap(settings.valid_classes, 'map');\n      var whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      var selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      var shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      var boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n      var nonEmptyOrMoveCaretBeforeOnEnter = 'td th iframe video audio object script code';\n      var nonEmptyElementsMap = createLookupTable('non_empty_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' pre', shortEndedElementsMap);\n      var moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' table', shortEndedElementsMap);\n      var textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      var blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      var textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\n      each$3((settings.special || 'script noscript iframe noframes noembed title style textarea xmp').split(' '), function (name) {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      var patternToRegExp = function (str) {\n        return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      };\n      var addValidElements = function (validElements) {\n        var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, value;\n        var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          var validElementsArr = split(validElements, ',');\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (ei = 0, el = validElementsArr.length; ei < el; ei++) {\n            matches = elementRuleRegExp.exec(validElementsArr[ei]);\n            if (matches) {\n              prefix = matches[1];\n              elementName = matches[2];\n              outputName = matches[3];\n              attrData = matches[5];\n              attributes = {};\n              attributesOrder = [];\n              element = {\n                attributes: attributes,\n                attributesOrder: attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                each$1(globalAttributes, function (value, key) {\n                  attributes[key] = value;\n                });\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n              }\n              if (attrData) {\n                attrData = split(attrData, '|');\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrData[ai]);\n                  if (matches) {\n                    attr = {};\n                    attrType = matches[1];\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    prefix = matches[3];\n                    value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (prefix) {\n                      if (prefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (prefix === ':') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (prefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      element.attributePatterns = element.attributePatterns || [];\n                      attr.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attr);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                element.pattern = patternToRegExp(elementName);\n                patternElements.push(element);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      var setValidElements = function (validElements) {\n        elements = {};\n        patternElements = [];\n        addValidElements(validElements);\n        each$3(schemaItems, function (element, name) {\n          children[name] = element.children;\n        });\n      };\n      var addCustomElements = function (customElements) {\n        var customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          mapCache.text_block_elements = mapCache.block_elements = null;\n          each$3(split(customElements, ','), function (rule) {\n            var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n            children[name] = children[cloneName];\n            customElementsMap[name] = cloneName;\n            if (!inline) {\n              blockElementsMap[name.toUpperCase()] = {};\n              blockElementsMap[name] = {};\n            }\n            if (!elements[name]) {\n              var customRule = elements[cloneName];\n              customRule = extend$1({}, customRule);\n              delete customRule.removeEmptyAttrs;\n              delete customRule.removeEmpty;\n              elements[name] = customRule;\n            }\n            each$3(children, function (element, elmName) {\n              if (element[cloneName]) {\n                children[elmName] = element = extend$1({}, children[elmName]);\n                element[name] = element[cloneName];\n              }\n            });\n          });\n        }\n      };\n      var addValidChildren = function (validChildren) {\n        var childRuleRegExp = /^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;\n        mapCache[settings.schema] = null;\n        if (validChildren) {\n          each$3(split(validChildren, ','), function (rule) {\n            var matches = childRuleRegExp.exec(rule);\n            var parent, prefix;\n            if (matches) {\n              prefix = matches[1];\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$3(split(matches[3], '|'), function (child) {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      var getElementRule = function (name) {\n        var element = elements[name], i;\n        if (element) {\n          return element;\n        }\n        i = patternElements.length;\n        while (i--) {\n          element = patternElements[i];\n          if (element.pattern.test(name)) {\n            return element;\n          }\n        }\n      };\n      if (!settings.valid_elements) {\n        each$3(schemaItems, function (element, name) {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        if (settings.schema !== 'html5') {\n          each$3(split('strong/b em/i'), function (item) {\n            var items = split(item, '/');\n            elements[items[1]].outputName = items[0];\n          });\n        }\n        each$3(split('ol ul sub sup blockquote span font a table tbody strong em b i'), function (name) {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$3(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n          elements[name].paddEmpty = true;\n        });\n        each$3(split('span'), function (name) {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$3({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, function (parents, item) {\n        if (elements[item]) {\n          elements[item].parentsRequired = split(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$3(explode$1(settings.invalid_elements), function (item) {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      var getValidStyles = function () {\n        return validStyles;\n      };\n      var getInvalidStyles = function () {\n        return invalidStyles;\n      };\n      var getValidClasses = function () {\n        return validClasses;\n      };\n      var getBoolAttrs = function () {\n        return boolAttrMap;\n      };\n      var getBlockElements = function () {\n        return blockElementsMap;\n      };\n      var getTextBlockElements = function () {\n        return textBlockElementsMap;\n      };\n      var getTextInlineElements = function () {\n        return textInlineElementsMap;\n      };\n      var getShortEndedElements = function () {\n        return shortEndedElementsMap;\n      };\n      var getSelfClosingElements = function () {\n        return selfClosingElementsMap;\n      };\n      var getNonEmptyElements = function () {\n        return nonEmptyElementsMap;\n      };\n      var getMoveCaretBeforeOnEnterElements = function () {\n        return moveCaretBeforeOnEnterElementsMap;\n      };\n      var getWhiteSpaceElements = function () {\n        return whiteSpaceElementsMap;\n      };\n      var getSpecialElements = function () {\n        return specialElements;\n      };\n      var isValidChild = function (name, child) {\n        var parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      var isValid = function (name, attr) {\n        var attrPatterns, i;\n        var rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(name)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      var getCustomElements = function () {\n        return customElementsMap;\n      };\n      return {\n        children: children,\n        elements: elements,\n        getValidStyles: getValidStyles,\n        getValidClasses: getValidClasses,\n        getBlockElements: getBlockElements,\n        getInvalidStyles: getInvalidStyles,\n        getShortEndedElements: getShortEndedElements,\n        getTextBlockElements: getTextBlockElements,\n        getTextInlineElements: getTextInlineElements,\n        getBoolAttrs: getBoolAttrs,\n        getElementRule: getElementRule,\n        getSelfClosingElements: getSelfClosingElements,\n        getNonEmptyElements: getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n        getWhiteSpaceElements: getWhiteSpaceElements,\n        getSpecialElements: getSpecialElements,\n        isValidChild: isValidChild,\n        isValid: isValid,\n        getCustomElements: getCustomElements,\n        addValidElements: addValidElements,\n        setValidElements: setValidElements,\n        addCustomElements: addCustomElements,\n        addValidChildren: addValidChildren\n      };\n    };\n\n    var toHex = function (match, r, g, b) {\n      var hex = function (val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n    var Styles = function (settings, schema) {\n      var _this = this;\n      var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n      var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      var trimRightRegExp = /\\s+$/;\n      var i;\n      var encodingLookup = {};\n      var validStyles;\n      var invalidStyles;\n      var invisibleChar = zeroWidth;\n      settings = settings || {};\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      var encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n      for (i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      return {\n        toHex: function (color) {\n          return color.replace(rgbRegExp, toHex);\n        },\n        parse: function (css) {\n          var styles = {};\n          var matches, name, value, isEncoded;\n          var urlConverter = settings.url_converter;\n          var urlConverterScope = settings.url_converter_scope || _this;\n          var compress = function (prefix, suffix, noJoin) {\n            var top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            var right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            var bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            var left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            var box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          var canCompress = function (key) {\n            var value = styles[key], i;\n            if (!value) {\n              return;\n            }\n            value = value.split(' ');\n            i = value.length;\n            while (i--) {\n              if (value[i] !== value[0]) {\n                return false;\n              }\n            }\n            styles[key] = value[0];\n            return true;\n          };\n          var compress2 = function (target, a, b, c) {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          var encode = function (str) {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          var decode = function (str, keepSlashes) {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          var decodeSingleHexSequence = function (escSeq) {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          var decodeHexSequences = function (value) {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          var processUrl = function (match, url, url2, url3, str, str2) {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n            }\n            url = decode(url || url2 || url3);\n            if (!settings.allow_script_urls) {\n              var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n              return str.replace(/[;:]/g, encode);\n            });\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(rgbRegExp, toHex);\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: function (styles, elementName) {\n          var css = '';\n          var serializeStyles = function (name) {\n            var value;\n            var styleList = validStyles[name];\n            if (styleList) {\n              for (var i_1 = 0, l = styleList.length; i_1 < l; i_1++) {\n                name = styleList[i_1];\n                value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          var isValid = function (name, elementName) {\n            var styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elementName];\n            return !(styleMap && styleMap[name]);\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*');\n            serializeStyles(elementName);\n          } else {\n            each$1(styles, function (value, name) {\n              if (value && (!invalidStyles || isValid(name, elementName))) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            });\n          }\n          return css;\n        }\n      };\n    };\n\n    var eventExpandoPrefix = 'mce-data-';\n    var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    var deprecated = {\n      keyLocation: 1,\n      layerX: 1,\n      layerY: 1,\n      returnValue: 1,\n      webkitMovementX: 1,\n      webkitMovementY: 1,\n      keyIdentifier: 1,\n      mozPressure: 1\n    };\n    var hasIsDefaultPrevented = function (event) {\n      return event.isDefaultPrevented === returnTrue || event.isDefaultPrevented === returnFalse;\n    };\n    var returnFalse = never;\n    var returnTrue = always;\n    var addEvent = function (target, name, callback, capture) {\n      if (target.addEventListener) {\n        target.addEventListener(name, callback, capture || false);\n      } else if (target.attachEvent) {\n        target.attachEvent('on' + name, callback);\n      }\n    };\n    var removeEvent = function (target, name, callback, capture) {\n      if (target.removeEventListener) {\n        target.removeEventListener(name, callback, capture || false);\n      } else if (target.detachEvent) {\n        target.detachEvent('on' + name, callback);\n      }\n    };\n    var isMouseEvent = function (event) {\n      return mouseEventRe.test(event.type);\n    };\n    var fix = function (originalEvent, data) {\n      var name;\n      var event = data || {};\n      for (name in originalEvent) {\n        if (!deprecated[name]) {\n          event[name] = originalEvent[name];\n        }\n      }\n      if (!event.target) {\n        event.target = event.srcElement || document;\n      }\n      if (event.composedPath) {\n        event.composedPath = function () {\n          return originalEvent.composedPath();\n        };\n      }\n      if (originalEvent && isMouseEvent(originalEvent) && originalEvent.pageX === undefined && originalEvent.clientX !== undefined) {\n        var eventDoc = event.target.ownerDocument || document;\n        var doc = eventDoc.documentElement;\n        var body = eventDoc.body;\n        event.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      event.preventDefault = function () {\n        event.defaultPrevented = true;\n        event.isDefaultPrevented = returnTrue;\n        if (originalEvent) {\n          if (originalEvent.preventDefault) {\n            originalEvent.preventDefault();\n          } else {\n            originalEvent.returnValue = false;\n          }\n        }\n      };\n      event.stopPropagation = function () {\n        event.cancelBubble = true;\n        event.isPropagationStopped = returnTrue;\n        if (originalEvent) {\n          if (originalEvent.stopPropagation) {\n            originalEvent.stopPropagation();\n          } else {\n            originalEvent.cancelBubble = true;\n          }\n        }\n      };\n      event.stopImmediatePropagation = function () {\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n      if (hasIsDefaultPrevented(event) === false) {\n        event.isDefaultPrevented = event.defaultPrevented === true ? returnTrue : returnFalse;\n        event.isPropagationStopped = event.cancelBubble === true ? returnTrue : returnFalse;\n        event.isImmediatePropagationStopped = returnFalse;\n      }\n      if (typeof event.metaKey === 'undefined') {\n        event.metaKey = false;\n      }\n      return event;\n    };\n    var bindOnReady = function (win, callback, eventUtils) {\n      var doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      var isDocReady = function () {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      var readyHandler = function () {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n        win = null;\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      if (!eventUtils.domLoaded) {\n        addEvent(win, 'load', readyHandler);\n      }\n    };\n    var EventUtils = function () {\n      function EventUtils() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasMouseEnterLeave = 'onmouseenter' in document.documentElement;\n        this.hasFocusIn = 'onfocusin' in document.documentElement;\n        this.count = 1;\n      }\n      EventUtils.prototype.bind = function (target, names, callback, scope) {\n        var self = this;\n        var id, callbackList, i, name, fakeName, nativeHandler, capture;\n        var win = window;\n        var defaultNativeHandler = function (evt) {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return;\n        }\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        var namesList = names.split(' ');\n        i = namesList.length;\n        while (i--) {\n          name = namesList[i];\n          nativeHandler = defaultNativeHandler;\n          fakeName = capture = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasMouseEnterLeave) {\n            fakeName = self.mouseEnterLeave[name];\n            if (fakeName) {\n              nativeHandler = function (evt) {\n                var current = evt.currentTarget;\n                var related = evt.relatedTarget;\n                if (related && current.contains) {\n                  related = current.contains(related);\n                } else {\n                  while (related && related !== current) {\n                    related = related.parentNode;\n                  }\n                }\n                if (!related) {\n                  evt = fix(evt || win.event);\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                  evt.target = current;\n                  self.executeHandlers(evt, id);\n                }\n              };\n            }\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = function (evt) {\n              evt = fix(evt || win.event);\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(evt, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope: scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope: scope\n              });\n            }\n          }\n        }\n        target = callbackList = null;\n        return callback;\n      };\n      EventUtils.prototype.unbind = function (target, names, callback) {\n        var callbackList, i, ci, name, eventMap;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var id = target[this.expando];\n        if (id) {\n          eventMap = this.events[id];\n          if (names) {\n            var namesList = names.split(' ');\n            i = namesList.length;\n            while (i--) {\n              name = namesList[i];\n              callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      var nativeHandler = callbackList.nativeHandler;\n                      var fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      callbackList.nativeHandler = nativeHandler;\n                      callbackList.fakeName = fakeName;\n                      callbackList.capture = capture;\n                      eventMap[name] = callbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            each$1(eventMap, function (callbackList, name) {\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            });\n            eventMap = {};\n          }\n          for (name in eventMap) {\n            if (has(eventMap, name)) {\n              return this;\n            }\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.fire = function (target, name, args) {\n        var id;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var event = fix(null, args);\n        event.type = name;\n        event.target = target;\n        do {\n          id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      };\n      EventUtils.prototype.clean = function (target) {\n        var i, children;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          children = target.getElementsByTagName('*');\n          i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.destroy = function () {\n        this.events = {};\n      };\n      EventUtils.prototype.cancel = function (e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      };\n      EventUtils.prototype.executeHandlers = function (evt, id) {\n        var container = this.events[id];\n        var callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (var i = 0, l = callbackList.length; i < l; i++) {\n            var callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      };\n      EventUtils.Event = new EventUtils();\n      return EventUtils;\n    }();\n\n    var support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document$1, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains$3, expando = 'sizzle' + -new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n        }\n        return 0;\n      }, strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31, hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice, indexOf$2 = arr.indexOf || function (elem) {\n        var i = 0, len = this.length;\n        for (; i < len; i++) {\n          if (this[i] === elem) {\n            return i;\n          }\n        }\n        return -1;\n      }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+', attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)', rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\n        ID: new RegExp('^#(' + identifier + ')'),\n        CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n        TAG: new RegExp('^(' + identifier + '|[*])'),\n        ATTR: new RegExp('^' + attributes),\n        PSEUDO: new RegExp('^' + pseudos),\n        CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n        bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n        needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n      }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g, runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\n        var high = '0x' + escaped - 65536;\n        return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n      };\n    try {\n      push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes);\n      arr[preferredDoc.childNodes.length].nodeType;\n    } catch (e) {\n      push = {\n        apply: arr.length ? function (target, els) {\n          push_native.apply(target, slice.call(els));\n        } : function (target, els) {\n          var j = target.length, i = 0;\n          while (target[j++] = els[i++]) {\n          }\n          target.length = j - 1;\n        }\n      };\n    }\n    var Sizzle = function (selector, context, results, seed) {\n      var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document$1) {\n        setDocument(context);\n      }\n      context = context || document$1;\n      results = results || [];\n      if (!selector || typeof selector !== 'string') {\n        return results;\n      }\n      if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n        return [];\n      }\n      if (documentIsHTML && !seed) {\n        if (match = rquickExpr.exec(selector)) {\n          if (m = match[1]) {\n            if (nodeType === 9) {\n              elem = context.getElementById(m);\n              if (elem && elem.parentNode) {\n                if (elem.id === m) {\n                  results.push(elem);\n                  return results;\n                }\n              } else {\n                return results;\n              }\n            } else {\n              if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains$3(context, elem) && elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            }\n          } else if (match[2]) {\n            push.apply(results, context.getElementsByTagName(selector));\n            return results;\n          } else if ((m = match[3]) && support.getElementsByClassName) {\n            push.apply(results, context.getElementsByClassName(m));\n            return results;\n          }\n        }\n        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n          nid = old = expando;\n          newContext = context;\n          newSelector = nodeType === 9 && selector;\n          if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n            groups = tokenize(selector);\n            if (old = context.getAttribute('id')) {\n              nid = old.replace(rescape, '\\\\$&');\n            } else {\n              context.setAttribute('id', nid);\n            }\n            nid = '[id=\\'' + nid + '\\'] ';\n            i = groups.length;\n            while (i--) {\n              groups[i] = nid + toSelector(groups[i]);\n            }\n            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n            newSelector = groups.join(',');\n          }\n          if (newSelector) {\n            try {\n              push.apply(results, newContext.querySelectorAll(newSelector));\n              return results;\n            } catch (qsaError) {\n            } finally {\n              if (!old) {\n                context.removeAttribute('id');\n              }\n            }\n          }\n        }\n      }\n      return select(selector.replace(rtrim, '$1'), context, results, seed);\n    };\n    function createCache() {\n      var keys = [];\n      function cache(key, value) {\n        if (keys.push(key + ' ') > Expr.cacheLength) {\n          delete cache[keys.shift()];\n        }\n        return cache[key + ' '] = value;\n      }\n      return cache;\n    }\n    function markFunction(fn) {\n      fn[expando] = true;\n      return fn;\n    }\n    function siblingCheck(a, b) {\n      var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n      if (diff) {\n        return diff;\n      }\n      if (cur) {\n        while (cur = cur.nextSibling) {\n          if (cur === b) {\n            return -1;\n          }\n        }\n      }\n      return a ? 1 : -1;\n    }\n    function createInputPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === type;\n      };\n    }\n    function createButtonPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return (name === 'input' || name === 'button') && elem.type === type;\n      };\n    }\n    function createPositionalPseudo(fn) {\n      return markFunction(function (argument) {\n        argument = +argument;\n        return markFunction(function (seed, matches) {\n          var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n          while (i--) {\n            if (seed[j = matchIndexes[i]]) {\n              seed[j] = !(matches[j] = seed[j]);\n            }\n          }\n        });\n      });\n    }\n    function testContext(context) {\n      return context && typeof context.getElementsByTagName !== strundefined && context;\n    }\n    support = Sizzle.support = {};\n    isXML = Sizzle.isXML = function (elem) {\n      var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n      return documentElement ? documentElement.nodeName !== 'HTML' : false;\n    };\n    setDocument = Sizzle.setDocument = function (node) {\n      var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent = doc.defaultView;\n      function getTop(win) {\n        try {\n          return win.top;\n        } catch (ex) {\n        }\n        return null;\n      }\n      if (doc === document$1 || doc.nodeType !== 9 || !doc.documentElement) {\n        return document$1;\n      }\n      document$1 = doc;\n      docElem = doc.documentElement;\n      documentIsHTML = !isXML(doc);\n      if (parent && parent !== getTop(parent)) {\n        if (parent.addEventListener) {\n          parent.addEventListener('unload', function () {\n            setDocument();\n          }, false);\n        } else if (parent.attachEvent) {\n          parent.attachEvent('onunload', function () {\n            setDocument();\n          });\n        }\n      }\n      support.attributes = true;\n      support.getElementsByTagName = true;\n      support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n      support.getById = true;\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== strundefined && documentIsHTML) {\n          var m = context.getElementById(id);\n          return m && m.parentNode ? [m] : [];\n        }\n      };\n      Expr.filter.ID = function (id) {\n        var attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          return elem.getAttribute('id') === attrId;\n        };\n      };\n      Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n        if (typeof context.getElementsByTagName !== strundefined) {\n          return context.getElementsByTagName(tag);\n        }\n      } : function (tag, context) {\n        var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n        if (tag === '*') {\n          while (elem = results[i++]) {\n            if (elem.nodeType === 1) {\n              tmp.push(elem);\n            }\n          }\n          return tmp;\n        }\n        return results;\n      };\n      Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n        if (documentIsHTML) {\n          return context.getElementsByClassName(className);\n        }\n      };\n      rbuggyMatches = [];\n      rbuggyQSA = [];\n      support.disconnectedMatch = true;\n      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n      hasCompare = rnative.test(docElem.compareDocumentPosition);\n      contains$3 = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n        var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n      } : function (a, b) {\n        if (b) {\n          while (b = b.parentNode) {\n            if (b === a) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n      sortOrder = hasCompare ? function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n        if (compare) {\n          return compare;\n        }\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n        if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n          if (a === doc || a.ownerDocument === preferredDoc && contains$3(preferredDoc, a)) {\n            return -1;\n          }\n          if (b === doc || b.ownerDocument === preferredDoc && contains$3(preferredDoc, b)) {\n            return 1;\n          }\n          return sortInput ? indexOf$2.call(sortInput, a) - indexOf$2.call(sortInput, b) : 0;\n        }\n        return compare & 4 ? -1 : 1;\n      } : function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n        if (!aup || !bup) {\n          return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf$2.call(sortInput, a) - indexOf$2.call(sortInput, b) : 0;\n        } else if (aup === bup) {\n          return siblingCheck(a, b);\n        }\n        cur = a;\n        while (cur = cur.parentNode) {\n          ap.unshift(cur);\n        }\n        cur = b;\n        while (cur = cur.parentNode) {\n          bp.unshift(cur);\n        }\n        while (ap[i] === bp[i]) {\n          i++;\n        }\n        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n      };\n      return doc;\n    };\n    Sizzle.matches = function (expr, elements) {\n      return Sizzle(expr, null, null, elements);\n    };\n    Sizzle.matchesSelector = function (elem, expr) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n      if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n        try {\n          var ret = matches.call(elem, expr);\n          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n            return ret;\n          }\n        } catch (e) {\n        }\n      }\n      return Sizzle(expr, document$1, null, [elem]).length > 0;\n    };\n    Sizzle.contains = function (context, elem) {\n      if ((context.ownerDocument || context) !== document$1) {\n        setDocument(context);\n      }\n      return contains$3(context, elem);\n    };\n    Sizzle.attr = function (elem, name) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n    };\n    Sizzle.error = function (msg) {\n      throw new Error('Syntax error, unrecognized expression: ' + msg);\n    };\n    Sizzle.uniqueSort = function (results) {\n      var elem, duplicates = [], j = 0, i = 0;\n      hasDuplicate = !support.detectDuplicates;\n      sortInput = !support.sortStable && results.slice(0);\n      results.sort(sortOrder);\n      if (hasDuplicate) {\n        while (elem = results[i++]) {\n          if (elem === results[i]) {\n            j = duplicates.push(i);\n          }\n        }\n        while (j--) {\n          results.splice(duplicates[j], 1);\n        }\n      }\n      sortInput = null;\n      return results;\n    };\n    getText = Sizzle.getText = function (elem) {\n      var node, ret = '', i = 0, nodeType = elem.nodeType;\n      if (!nodeType) {\n        while (node = elem[i++]) {\n          ret += getText(node);\n        }\n      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        if (typeof elem.textContent === 'string') {\n          return elem.textContent;\n        } else {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            ret += getText(elem);\n          }\n        }\n      } else if (nodeType === 3 || nodeType === 4) {\n        return elem.nodeValue;\n      }\n      return ret;\n    };\n    Expr = Sizzle.selectors = {\n      cacheLength: 50,\n      createPseudo: markFunction,\n      match: matchExpr,\n      attrHandle: {},\n      find: {},\n      relative: {\n        '>': {\n          dir: 'parentNode',\n          first: true\n        },\n        ' ': { dir: 'parentNode' },\n        '+': {\n          dir: 'previousSibling',\n          first: true\n        },\n        '~': { dir: 'previousSibling' }\n      },\n      preFilter: {\n        ATTR: function (match) {\n          match[1] = match[1].replace(runescape, funescape);\n          match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n          if (match[2] === '~=') {\n            match[3] = ' ' + match[3] + ' ';\n          }\n          return match.slice(0, 4);\n        },\n        CHILD: function (match) {\n          match[1] = match[1].toLowerCase();\n          if (match[1].slice(0, 3) === 'nth') {\n            if (!match[3]) {\n              Sizzle.error(match[0]);\n            }\n            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n            match[5] = +(match[7] + match[8] || match[3] === 'odd');\n          } else if (match[3]) {\n            Sizzle.error(match[0]);\n          }\n          return match;\n        },\n        PSEUDO: function (match) {\n          var excess, unquoted = !match[6] && match[2];\n          if (matchExpr.CHILD.test(match[0])) {\n            return null;\n          }\n          if (match[3]) {\n            match[2] = match[4] || match[5] || '';\n          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n            match[0] = match[0].slice(0, excess);\n            match[2] = unquoted.slice(0, excess);\n          }\n          return match.slice(0, 3);\n        }\n      },\n      filter: {\n        TAG: function (nodeNameSelector) {\n          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n          return nodeNameSelector === '*' ? function () {\n            return true;\n          } : function (elem) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n          };\n        },\n        CLASS: function (className) {\n          var pattern = classCache[className + ' '];\n          return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n          });\n        },\n        ATTR: function (name, operator, check) {\n          return function (elem) {\n            var result = Sizzle.attr(elem, name);\n            if (result == null) {\n              return operator === '!=';\n            }\n            if (!operator) {\n              return true;\n            }\n            result += '';\n            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n          };\n        },\n        CHILD: function (type, what, argument, first, last) {\n          var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n          return first === 1 && last === 0 ? function (elem) {\n            return !!elem.parentNode;\n          } : function (elem, context, xml) {\n            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n            if (parent) {\n              if (simple) {\n                while (dir) {\n                  node = elem;\n                  while (node = node[dir]) {\n                    if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                      return false;\n                    }\n                  }\n                  start = dir = type === 'only' && !start && 'nextSibling';\n                }\n                return true;\n              }\n              start = [forward ? parent.firstChild : parent.lastChild];\n              if (forward && useCache) {\n                outerCache = parent[expando] || (parent[expando] = {});\n                cache = outerCache[type] || [];\n                nodeIndex = cache[0] === dirruns && cache[1];\n                diff = cache[0] === dirruns && cache[2];\n                node = nodeIndex && parent.childNodes[nodeIndex];\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if (node.nodeType === 1 && ++diff && node === elem) {\n                    outerCache[type] = [\n                      dirruns,\n                      nodeIndex,\n                      diff\n                    ];\n                    break;\n                  }\n                }\n              } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n                diff = cache[1];\n              } else {\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                    if (useCache) {\n                      (node[expando] || (node[expando] = {}))[type] = [\n                        dirruns,\n                        diff\n                      ];\n                    }\n                    if (node === elem) {\n                      break;\n                    }\n                  }\n                }\n              }\n              diff -= last;\n              return diff === first || diff % first === 0 && diff / first >= 0;\n            }\n          };\n        },\n        PSEUDO: function (pseudo, argument) {\n          var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n          if (fn[expando]) {\n            return fn(argument);\n          }\n          if (fn.length > 1) {\n            args = [\n              pseudo,\n              pseudo,\n              '',\n              argument\n            ];\n            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n              var idx, matched = fn(seed, argument), i = matched.length;\n              while (i--) {\n                idx = indexOf$2.call(seed, matched[i]);\n                seed[idx] = !(matches[idx] = matched[i]);\n              }\n            }) : function (elem) {\n              return fn(elem, 0, args);\n            };\n          }\n          return fn;\n        }\n      },\n      pseudos: {\n        not: markFunction(function (selector) {\n          var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n          return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n            while (i--) {\n              if (elem = unmatched[i]) {\n                seed[i] = !(matches[i] = elem);\n              }\n            }\n          }) : function (elem, context, xml) {\n            input[0] = elem;\n            matcher(input, null, xml, results);\n            input[0] = null;\n            return !results.pop();\n          };\n        }),\n        has: markFunction(function (selector) {\n          return function (elem) {\n            return Sizzle(selector, elem).length > 0;\n          };\n        }),\n        contains: markFunction(function (text) {\n          text = text.replace(runescape, funescape);\n          return function (elem) {\n            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n          };\n        }),\n        lang: markFunction(function (lang) {\n          if (!ridentifier.test(lang || '')) {\n            Sizzle.error('unsupported lang: ' + lang);\n          }\n          lang = lang.replace(runescape, funescape).toLowerCase();\n          return function (elem) {\n            var elemLang;\n            do {\n              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n                elemLang = elemLang.toLowerCase();\n                return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n              }\n            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n            return false;\n          };\n        }),\n        target: function (elem) {\n          var hash = window.location && window.location.hash;\n          return hash && hash.slice(1) === elem.id;\n        },\n        root: function (elem) {\n          return elem === docElem;\n        },\n        focus: function (elem) {\n          return elem === document$1.activeElement && (!document$1.hasFocus || document$1.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n        },\n        enabled: function (elem) {\n          return elem.disabled === false;\n        },\n        disabled: function (elem) {\n          return elem.disabled === true;\n        },\n        checked: function (elem) {\n          var nodeName = elem.nodeName.toLowerCase();\n          return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n        },\n        selected: function (elem) {\n          if (elem.parentNode) {\n            elem.parentNode.selectedIndex;\n          }\n          return elem.selected === true;\n        },\n        empty: function (elem) {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            if (elem.nodeType < 6) {\n              return false;\n            }\n          }\n          return true;\n        },\n        parent: function (elem) {\n          return !Expr.pseudos.empty(elem);\n        },\n        header: function (elem) {\n          return rheader.test(elem.nodeName);\n        },\n        input: function (elem) {\n          return rinputs.test(elem.nodeName);\n        },\n        button: function (elem) {\n          var name = elem.nodeName.toLowerCase();\n          return name === 'input' && elem.type === 'button' || name === 'button';\n        },\n        text: function (elem) {\n          var attr;\n          return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n        },\n        first: createPositionalPseudo(function () {\n          return [0];\n        }),\n        last: createPositionalPseudo(function (matchIndexes, length) {\n          return [length - 1];\n        }),\n        eq: createPositionalPseudo(function (matchIndexes, length, argument) {\n          return [argument < 0 ? argument + length : argument];\n        }),\n        even: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 0;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        odd: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 1;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        lt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; --i >= 0;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        gt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; ++i < length;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        })\n      }\n    };\n    Expr.pseudos.nth = Expr.pseudos.eq;\n    each([\n      'radio',\n      'checkbox',\n      'file',\n      'password',\n      'image'\n    ], function (i) {\n      Expr.pseudos[i] = createInputPseudo(i);\n    });\n    each([\n      'submit',\n      'reset'\n    ], function (i) {\n      Expr.pseudos[i] = createButtonPseudo(i);\n    });\n    function setFilters() {\n    }\n    setFilters.prototype = Expr.filters = Expr.pseudos;\n    Expr.setFilters = new setFilters();\n    tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n      var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n      if (cached) {\n        return parseOnly ? 0 : cached.slice(0);\n      }\n      soFar = selector;\n      groups = [];\n      preFilters = Expr.preFilter;\n      while (soFar) {\n        if (!matched || (match = rcomma.exec(soFar))) {\n          if (match) {\n            soFar = soFar.slice(match[0].length) || soFar;\n          }\n          groups.push(tokens = []);\n        }\n        matched = false;\n        if (match = rcombinators.exec(soFar)) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: match[0].replace(rtrim, ' ')\n          });\n          soFar = soFar.slice(matched.length);\n        }\n        for (type in Expr.filter) {\n          if (!Expr.filter.hasOwnProperty(type)) {\n            continue;\n          }\n          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n            matched = match.shift();\n            tokens.push({\n              value: matched,\n              type: type,\n              matches: match\n            });\n            soFar = soFar.slice(matched.length);\n          }\n        }\n        if (!matched) {\n          break;\n        }\n      }\n      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n    };\n    function toSelector(tokens) {\n      var i = 0, len = tokens.length, selector = '';\n      for (; i < len; i++) {\n        selector += tokens[i].value;\n      }\n      return selector;\n    }\n    function addCombinator(matcher, combinator, base) {\n      var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n      return combinator.first ? function (elem, context, xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            return matcher(elem, context, xml);\n          }\n        }\n      } : function (elem, context, xml) {\n        var oldCache, outerCache, newCache = [\n            dirruns,\n            doneName\n          ];\n        if (xml) {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              if (matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              outerCache = elem[expando] || (elem[expando] = {});\n              if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n                return newCache[2] = oldCache[2];\n              } else {\n                outerCache[dir] = newCache;\n                if (newCache[2] = matcher(elem, context, xml)) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n      };\n    }\n    function elementMatcher(matchers) {\n      return matchers.length > 1 ? function (elem, context, xml) {\n        var i = matchers.length;\n        while (i--) {\n          if (!matchers[i](elem, context, xml)) {\n            return false;\n          }\n        }\n        return true;\n      } : matchers[0];\n    }\n    function multipleContexts(selector, contexts, results) {\n      var i = 0, len = contexts.length;\n      for (; i < len; i++) {\n        Sizzle(selector, contexts[i], results);\n      }\n      return results;\n    }\n    function condense(unmatched, map, filter, context, xml) {\n      var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n      for (; i < len; i++) {\n        if (elem = unmatched[i]) {\n          if (!filter || filter(elem, context, xml)) {\n            newUnmatched.push(elem);\n            if (mapped) {\n              map.push(i);\n            }\n          }\n        }\n      }\n      return newUnmatched;\n    }\n    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n      if (postFilter && !postFilter[expando]) {\n        postFilter = setMatcher(postFilter);\n      }\n      if (postFinder && !postFinder[expando]) {\n        postFinder = setMatcher(postFinder, postSelector);\n      }\n      return markFunction(function (seed, results, context, xml) {\n        var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n        if (matcher) {\n          matcher(matcherIn, matcherOut, context, xml);\n        }\n        if (postFilter) {\n          temp = condense(matcherOut, postMap);\n          postFilter(temp, [], context, xml);\n          i = temp.length;\n          while (i--) {\n            if (elem = temp[i]) {\n              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n            }\n          }\n        }\n        if (seed) {\n          if (postFinder || preFilter) {\n            if (postFinder) {\n              temp = [];\n              i = matcherOut.length;\n              while (i--) {\n                if (elem = matcherOut[i]) {\n                  temp.push(matcherIn[i] = elem);\n                }\n              }\n              postFinder(null, matcherOut = [], temp, xml);\n            }\n            i = matcherOut.length;\n            while (i--) {\n              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf$2.call(seed, elem) : preMap[i]) > -1) {\n                seed[temp] = !(results[temp] = elem);\n              }\n            }\n          }\n        } else {\n          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n          if (postFinder) {\n            postFinder(null, results, matcherOut, xml);\n          } else {\n            push.apply(results, matcherOut);\n          }\n        }\n      });\n    }\n    function matcherFromTokens(tokens) {\n      var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\n          return elem === checkContext;\n        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n          return indexOf$2.call(checkContext, elem) > -1;\n        }, implicitRelative, true), matchers = [function (elem, context, xml) {\n            var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n            checkContext = null;\n            return ret;\n          }];\n      for (; i < len; i++) {\n        if (matcher = Expr.relative[tokens[i].type]) {\n          matchers = [addCombinator(elementMatcher(matchers), matcher)];\n        } else {\n          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n          if (matcher[expando]) {\n            j = ++i;\n            for (; j < len; j++) {\n              if (Expr.relative[tokens[j].type]) {\n                break;\n              }\n            }\n            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n          }\n          matchers.push(matcher);\n        }\n      }\n      return elementMatcher(matchers);\n    }\n    function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n      var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n          var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n          if (outermost) {\n            outermostContext = context !== document$1 && context;\n          }\n          for (; i !== len && (elem = elems[i]) != null; i++) {\n            if (byElement && elem) {\n              j = 0;\n              while (matcher = elementMatchers[j++]) {\n                if (matcher(elem, context, xml)) {\n                  results.push(elem);\n                  break;\n                }\n              }\n              if (outermost) {\n                dirruns = dirrunsUnique;\n              }\n            }\n            if (bySet) {\n              if (elem = !matcher && elem) {\n                matchedCount--;\n              }\n              if (seed) {\n                unmatched.push(elem);\n              }\n            }\n          }\n          matchedCount += i;\n          if (bySet && i !== matchedCount) {\n            j = 0;\n            while (matcher = setMatchers[j++]) {\n              matcher(unmatched, setMatched, context, xml);\n            }\n            if (seed) {\n              if (matchedCount > 0) {\n                while (i--) {\n                  if (!(unmatched[i] || setMatched[i])) {\n                    setMatched[i] = pop.call(results);\n                  }\n                }\n              }\n              setMatched = condense(setMatched);\n            }\n            push.apply(results, setMatched);\n            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n              Sizzle.uniqueSort(results);\n            }\n          }\n          if (outermost) {\n            dirruns = dirrunsUnique;\n            outermostContext = contextBackup;\n          }\n          return unmatched;\n        };\n      return bySet ? markFunction(superMatcher) : superMatcher;\n    }\n    compile = Sizzle.compile = function (selector, match) {\n      var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n      if (!cached) {\n        if (!match) {\n          match = tokenize(selector);\n        }\n        i = match.length;\n        while (i--) {\n          cached = matcherFromTokens(match[i]);\n          if (cached[expando]) {\n            setMatchers.push(cached);\n          } else {\n            elementMatchers.push(cached);\n          }\n        }\n        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n        cached.selector = selector;\n      }\n      return cached;\n    };\n    select = Sizzle.select = function (selector, context, results, seed) {\n      var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n      results = results || [];\n      if (match.length === 1) {\n        tokens = match[0] = match[0].slice(0);\n        if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n          context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n          if (!context) {\n            return results;\n          } else if (compiled) {\n            context = context.parentNode;\n          }\n          selector = selector.slice(tokens.shift().value.length);\n        }\n        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n        while (i--) {\n          token = tokens[i];\n          if (Expr.relative[type = token.type]) {\n            break;\n          }\n          if (find = Expr.find[type]) {\n            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n              tokens.splice(i, 1);\n              selector = seed.length && toSelector(tokens);\n              if (!selector) {\n                push.apply(results, seed);\n                return results;\n              }\n              break;\n            }\n          }\n        }\n      }\n      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n      return results;\n    };\n    support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n    support.detectDuplicates = !!hasDuplicate;\n    setDocument();\n    support.sortDetached = true;\n\n    var doc = document;\n    var push$1 = Array.prototype.push;\n    var slice$1 = Array.prototype.slice;\n    var rquickExpr$1 = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n    var Event = EventUtils.Event;\n    var skipUniques = Tools.makeMap('children,contents,next,prev');\n    var isDefined = function (obj) {\n      return typeof obj !== 'undefined';\n    };\n    var isString$1 = function (obj) {\n      return typeof obj === 'string';\n    };\n    var isWindow = function (obj) {\n      return obj && obj === obj.window;\n    };\n    var createFragment = function (html, fragDoc) {\n      fragDoc = fragDoc || doc;\n      var container = fragDoc.createElement('div');\n      var frag = fragDoc.createDocumentFragment();\n      container.innerHTML = html;\n      var node;\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\n      var i;\n      if (isString$1(sourceItem)) {\n        sourceItem = createFragment(sourceItem, getElementDocument(targetNodes[0]));\n      } else if (sourceItem.length && !sourceItem.nodeType) {\n        sourceItem = DomQuery.makeArray(sourceItem);\n        if (reverse) {\n          for (i = sourceItem.length - 1; i >= 0; i--) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        } else {\n          for (i = 0; i < sourceItem.length; i++) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        }\n        return targetNodes;\n      }\n      if (sourceItem.nodeType) {\n        i = targetNodes.length;\n        while (i--) {\n          callback.call(targetNodes[i], sourceItem);\n        }\n      }\n      return targetNodes;\n    };\n    var hasClass = function (node, className) {\n      return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    };\n    var wrap$1 = function (elements, wrapper, all) {\n      var lastParent, newWrapper;\n      wrapper = DomQuery(wrapper)[0];\n      elements.each(function () {\n        var self = this;\n        if (!all || lastParent !== self.parentNode) {\n          lastParent = self.parentNode;\n          newWrapper = wrapper.cloneNode(false);\n          self.parentNode.insertBefore(newWrapper, self);\n          newWrapper.appendChild(self);\n        } else {\n          newWrapper.appendChild(self);\n        }\n      });\n      return elements;\n    };\n    var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n    var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n    var propFix = {\n      for: 'htmlFor',\n      class: 'className',\n      readonly: 'readOnly'\n    };\n    var cssFix = { float: 'cssFloat' };\n    var attrHooks = {}, cssHooks = {};\n    var DomQueryConstructor = function (selector, context) {\n      return new DomQuery.fn.init(selector, context);\n    };\n    var inArray$1 = function (item, array) {\n      var i;\n      if (array.indexOf) {\n        return array.indexOf(item);\n      }\n      i = array.length;\n      while (i--) {\n        if (array[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var whiteSpaceRegExp$2 = /^\\s*|\\s*$/g;\n    var trim$3 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$2, '');\n    };\n    var each$4 = function (obj, callback) {\n      var length, key, i, value;\n      if (obj) {\n        length = obj.length;\n        if (length === undefined) {\n          for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              value = obj[key];\n              if (callback.call(value, key, value) === false) {\n                break;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < length; i++) {\n            value = obj[i];\n            if (callback.call(value, i, value) === false) {\n              break;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var grep = function (array, callback) {\n      var out = [];\n      each$4(array, function (i, item) {\n        if (callback(item, i)) {\n          out.push(item);\n        }\n      });\n      return out;\n    };\n    var getElementDocument = function (element) {\n      if (!element) {\n        return doc;\n      }\n      if (element.nodeType === 9) {\n        return element;\n      }\n      return element.ownerDocument;\n    };\n    DomQueryConstructor.fn = DomQueryConstructor.prototype = {\n      constructor: DomQueryConstructor,\n      selector: '',\n      context: null,\n      length: 0,\n      init: function (selector, context) {\n        var self = this;\n        var match, node;\n        if (!selector) {\n          return self;\n        }\n        if (selector.nodeType) {\n          self.context = self[0] = selector;\n          self.length = 1;\n          return self;\n        }\n        if (context && context.nodeType) {\n          self.context = context;\n        } else {\n          if (context) {\n            return DomQuery(selector).attr(context);\n          }\n          self.context = context = document;\n        }\n        if (isString$1(selector)) {\n          self.selector = selector;\n          if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n            match = [\n              null,\n              selector,\n              null\n            ];\n          } else {\n            match = rquickExpr$1.exec(selector);\n          }\n          if (match) {\n            if (match[1]) {\n              node = createFragment(selector, getElementDocument(context)).firstChild;\n              while (node) {\n                push$1.call(self, node);\n                node = node.nextSibling;\n              }\n            } else {\n              node = getElementDocument(context).getElementById(match[2]);\n              if (!node) {\n                return self;\n              }\n              if (node.id !== match[2]) {\n                return self.find(selector);\n              }\n              self.length = 1;\n              self[0] = node;\n            }\n          } else {\n            return DomQuery(context).find(selector);\n          }\n        } else {\n          this.add(selector, false);\n        }\n        return self;\n      },\n      toArray: function () {\n        return Tools.toArray(this);\n      },\n      add: function (items, sort) {\n        var self = this;\n        var nodes, i;\n        if (isString$1(items)) {\n          return self.add(DomQuery(items));\n        }\n        if (sort !== false) {\n          nodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\n          self.length = nodes.length;\n          for (i = 0; i < nodes.length; i++) {\n            self[i] = nodes[i];\n          }\n        } else {\n          push$1.apply(self, DomQuery.makeArray(items));\n        }\n        return self;\n      },\n      attr: function (name, value) {\n        var self = this;\n        var hook;\n        if (typeof name === 'object') {\n          each$4(name, function (name, value) {\n            self.attr(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            var hook;\n            if (this.nodeType === 1) {\n              hook = attrHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              if (value === null) {\n                this.removeAttribute(name, 2);\n              } else {\n                this.setAttribute(name, value, 2);\n              }\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType === 1) {\n            hook = attrHooks[name];\n            if (hook && hook.get) {\n              return hook.get(self[0], name);\n            }\n            if (booleanMap[name]) {\n              return self.prop(name) ? name : undefined;\n            }\n            value = self[0].getAttribute(name, 2);\n            if (value === null) {\n              value = undefined;\n            }\n          }\n          return value;\n        }\n        return self;\n      },\n      removeAttr: function (name) {\n        return this.attr(name, null);\n      },\n      prop: function (name, value) {\n        var self = this;\n        name = propFix[name] || name;\n        if (typeof name === 'object') {\n          each$4(name, function (name, value) {\n            self.prop(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            if (this.nodeType === 1) {\n              this[name] = value;\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType && name in self[0]) {\n            return self[0][name];\n          }\n          return value;\n        }\n        return self;\n      },\n      css: function (name, value) {\n        var self = this;\n        var elm, hook;\n        var camel = function (name) {\n          return name.replace(/-(\\D)/g, function (a, b) {\n            return b.toUpperCase();\n          });\n        };\n        var dashed = function (name) {\n          return name.replace(/[A-Z]/g, function (a) {\n            return '-' + a;\n          });\n        };\n        if (typeof name === 'object') {\n          each$4(name, function (name, value) {\n            self.css(name, value);\n          });\n        } else {\n          if (isDefined(value)) {\n            name = camel(name);\n            if (typeof value === 'number' && !numericCssMap[name]) {\n              value = value.toString() + 'px';\n            }\n            self.each(function () {\n              var style = this.style;\n              hook = cssHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              try {\n                this.style[cssFix[name] || name] = value;\n              } catch (ex) {\n              }\n              if (value === null || value === '') {\n                if (style.removeProperty) {\n                  style.removeProperty(dashed(name));\n                } else {\n                  style.removeAttribute(name);\n                }\n              }\n            });\n          } else {\n            elm = self[0];\n            hook = cssHooks[name];\n            if (hook && hook.get) {\n              return hook.get(elm);\n            }\n            if (elm.ownerDocument.defaultView) {\n              try {\n                return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\n              } catch (ex) {\n                return undefined;\n              }\n            } else if (elm.currentStyle) {\n              return elm.currentStyle[camel(name)];\n            } else {\n              return '';\n            }\n          }\n        }\n        return self;\n      },\n      remove: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          Event.clean(node);\n          if (node.parentNode) {\n            node.parentNode.removeChild(node);\n          }\n        }\n        return this;\n      },\n      empty: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          while (node.firstChild) {\n            node.removeChild(node.firstChild);\n          }\n        }\n        return this;\n      },\n      html: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          try {\n            while (i--) {\n              self[i].innerHTML = value;\n            }\n          } catch (ex) {\n            DomQuery(self[i]).empty().append(value);\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerHTML : '';\n      },\n      text: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          while (i--) {\n            if ('innerText' in self[i]) {\n              self[i].innerText = value;\n            } else {\n              self[0].textContent = value;\n            }\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerText || self[0].textContent : '';\n      },\n      append: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.appendChild(node);\n          }\n        });\n      },\n      prepend: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.insertBefore(node, this.firstChild);\n          }\n        }, true);\n      },\n      before: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this);\n          });\n        }\n        return self;\n      },\n      after: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this.nextSibling);\n          }, true);\n        }\n        return self;\n      },\n      appendTo: function (val) {\n        DomQuery(val).append(this);\n        return this;\n      },\n      prependTo: function (val) {\n        DomQuery(val).prepend(this);\n        return this;\n      },\n      replaceWith: function (content) {\n        return this.before(content).remove();\n      },\n      wrap: function (content) {\n        return wrap$1(this, content);\n      },\n      wrapAll: function (content) {\n        return wrap$1(this, content, true);\n      },\n      wrapInner: function (content) {\n        this.each(function () {\n          DomQuery(this).contents().wrapAll(content);\n        });\n        return this;\n      },\n      unwrap: function () {\n        return this.parent().each(function () {\n          DomQuery(this).replaceWith(this.childNodes);\n        });\n      },\n      clone: function () {\n        var result = [];\n        this.each(function () {\n          result.push(this.cloneNode(true));\n        });\n        return DomQuery(result);\n      },\n      addClass: function (className) {\n        return this.toggleClass(className, true);\n      },\n      removeClass: function (className) {\n        return this.toggleClass(className, false);\n      },\n      toggleClass: function (className, state) {\n        var self = this;\n        if (typeof className !== 'string') {\n          return self;\n        }\n        if (className.indexOf(' ') !== -1) {\n          each$4(className.split(' '), function () {\n            self.toggleClass(this, state);\n          });\n        } else {\n          self.each(function (index, node) {\n            var classState = hasClass(node, className);\n            if (classState !== state) {\n              var existingClassName = node.className;\n              if (classState) {\n                node.className = trim$3((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n              } else {\n                node.className += existingClassName ? ' ' + className : className;\n              }\n            }\n          });\n        }\n        return self;\n      },\n      hasClass: function (className) {\n        return hasClass(this[0], className);\n      },\n      each: function (callback) {\n        return each$4(this, callback);\n      },\n      on: function (name, callback) {\n        return this.each(function () {\n          Event.bind(this, name, callback);\n        });\n      },\n      off: function (name, callback) {\n        return this.each(function () {\n          Event.unbind(this, name, callback);\n        });\n      },\n      trigger: function (name) {\n        return this.each(function () {\n          if (typeof name === 'object') {\n            Event.fire(this, name.type, name);\n          } else {\n            Event.fire(this, name);\n          }\n        });\n      },\n      show: function () {\n        return this.css('display', '');\n      },\n      hide: function () {\n        return this.css('display', 'none');\n      },\n      slice: function () {\n        return DomQuery(slice$1.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      first: function () {\n        return this.eq(0);\n      },\n      last: function () {\n        return this.eq(-1);\n      },\n      find: function (selector) {\n        var i, l;\n        var ret = [];\n        for (i = 0, l = this.length; i < l; i++) {\n          DomQuery.find(selector, this[i], ret);\n        }\n        return DomQuery(ret);\n      },\n      filter: function (selector) {\n        if (typeof selector === 'function') {\n          return DomQuery(grep(this.toArray(), function (item, i) {\n            return selector(i, item);\n          }));\n        }\n        return DomQuery(DomQuery.filter(selector, this.toArray()));\n      },\n      closest: function (selector) {\n        var result = [];\n        if (selector instanceof DomQuery) {\n          selector = selector[0];\n        }\n        this.each(function (i, node) {\n          while (node) {\n            if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n              result.push(node);\n              break;\n            } else if (node === selector) {\n              result.push(node);\n              break;\n            }\n            node = node.parentNode;\n          }\n        });\n        return DomQuery(result);\n      },\n      offset: function (offset) {\n        var elm, doc, docElm;\n        var x = 0, y = 0, pos;\n        if (!offset) {\n          elm = this[0];\n          if (elm) {\n            doc = elm.ownerDocument;\n            docElm = doc.documentElement;\n            if (elm.getBoundingClientRect) {\n              pos = elm.getBoundingClientRect();\n              x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n              y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n            }\n          }\n          return {\n            left: x,\n            top: y\n          };\n        }\n        return this.css(offset);\n      },\n      push: push$1,\n      sort: Array.prototype.sort,\n      splice: Array.prototype.splice\n    };\n    Tools.extend(DomQueryConstructor, {\n      extend: Tools.extend,\n      makeArray: function (object) {\n        if (isWindow(object) || object.nodeType) {\n          return [object];\n        }\n        return Tools.toArray(object);\n      },\n      inArray: inArray$1,\n      isArray: Tools.isArray,\n      each: each$4,\n      trim: trim$3,\n      grep: grep,\n      find: Sizzle,\n      expr: Sizzle.selectors,\n      unique: Sizzle.uniqueSort,\n      text: Sizzle.getText,\n      contains: Sizzle.contains,\n      filter: function (expr, elems, not) {\n        var i = elems.length;\n        if (not) {\n          expr = ':not(' + expr + ')';\n        }\n        while (i--) {\n          if (elems[i].nodeType !== 1) {\n            elems.splice(i, 1);\n          }\n        }\n        if (elems.length === 1) {\n          elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n        } else {\n          elems = DomQuery.find.matches(expr, elems);\n        }\n        return elems;\n      }\n    });\n    var dir = function (el, prop, until) {\n      var matched = [];\n      var cur = el[prop];\n      if (typeof until !== 'string' && until instanceof DomQuery) {\n        until = until[0];\n      }\n      while (cur && cur.nodeType !== 9) {\n        if (until !== undefined) {\n          if (cur === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(cur).is(until)) {\n            break;\n          }\n        }\n        if (cur.nodeType === 1) {\n          matched.push(cur);\n        }\n        cur = cur[prop];\n      }\n      return matched;\n    };\n    var sibling$1 = function (node, siblingName, nodeType, until) {\n      var result = [];\n      if (until instanceof DomQuery) {\n        until = until[0];\n      }\n      for (; node; node = node[siblingName]) {\n        if (nodeType && node.nodeType !== nodeType) {\n          continue;\n        }\n        if (until !== undefined) {\n          if (node === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(node).is(until)) {\n            break;\n          }\n        }\n        result.push(node);\n      }\n      return result;\n    };\n    var firstSibling = function (node, siblingName, nodeType) {\n      for (node = node[siblingName]; node; node = node[siblingName]) {\n        if (node.nodeType === nodeType) {\n          return node;\n        }\n      }\n      return null;\n    };\n    each$4({\n      parent: function (node) {\n        var parent = node.parentNode;\n        return parent && parent.nodeType !== 11 ? parent : null;\n      },\n      parents: function (node) {\n        return dir(node, 'parentNode');\n      },\n      next: function (node) {\n        return firstSibling(node, 'nextSibling', 1);\n      },\n      prev: function (node) {\n        return firstSibling(node, 'previousSibling', 1);\n      },\n      children: function (node) {\n        return sibling$1(node.firstChild, 'nextSibling', 1);\n      },\n      contents: function (node) {\n        return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          if (!skipUniques[name]) {\n            result = DomQuery.unique(result);\n          }\n          if (name.indexOf('parents') === 0) {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (selector) {\n          return wrappedResult.filter(selector);\n        }\n        return wrappedResult;\n      };\n    });\n    each$4({\n      parentsUntil: function (node, until) {\n        return dir(node, 'parentNode', until);\n      },\n      nextUntil: function (node, until) {\n        return sibling$1(node, 'nextSibling', 1, until).slice(1);\n      },\n      prevUntil: function (node, until) {\n        return sibling$1(node, 'previousSibling', 1, until).slice(1);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector, filter) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          result = DomQuery.unique(result);\n          if (name.indexOf('parents') === 0 || name === 'prevUntil') {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (filter) {\n          return wrappedResult.filter(filter);\n        }\n        return wrappedResult;\n      };\n    });\n    DomQueryConstructor.fn.is = function (selector) {\n      return !!selector && this.filter(selector).length > 0;\n    };\n    DomQueryConstructor.fn.init.prototype = DomQueryConstructor.fn;\n    DomQueryConstructor.overrideDefaults = function (callback) {\n      var defaults;\n      var sub = function (selector, context) {\n        defaults = defaults || callback();\n        if (arguments.length === 0) {\n          selector = defaults.element;\n        }\n        if (!context) {\n          context = defaults.context;\n        }\n        return new sub.fn.init(selector, context);\n      };\n      DomQuery.extend(sub, this);\n      return sub;\n    };\n    DomQueryConstructor.attrHooks = attrHooks;\n    DomQueryConstructor.cssHooks = cssHooks;\n    var DomQuery = DomQueryConstructor;\n\n    var each$5 = Tools.each;\n    var grep$1 = Tools.grep;\n    var isIE = Env.ie;\n    var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n    var setupAttrHooks = function (styles, settings, getContext) {\n      var keepValues = settings.keep_values;\n      var keepUrlHook = {\n        set: function ($elm, value, name) {\n          if (settings.url_converter) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, $elm[0]);\n          }\n          $elm.attr('data-mce-' + name, value).attr(name, value);\n        },\n        get: function ($elm, name) {\n          return $elm.attr('data-mce-' + name) || $elm.attr(name);\n        }\n      };\n      var attrHooks = {\n        style: {\n          set: function ($elm, value) {\n            if (value !== null && typeof value === 'object') {\n              $elm.css(value);\n              return;\n            }\n            if (keepValues) {\n              $elm.attr('data-mce-style', value);\n            }\n            if (value !== null && typeof value === 'string') {\n              $elm.removeAttr('style');\n              $elm.css(styles.parse(value));\n            } else {\n              $elm.attr('style', value);\n            }\n          },\n          get: function ($elm) {\n            var value = $elm.attr('data-mce-style') || $elm.attr('style');\n            value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n            return value;\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    var updateInternalStyleAttr = function (styles, $elm) {\n      var rawValue = $elm.attr('style');\n      var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n      if (!value) {\n        value = null;\n      }\n      $elm.attr('data-mce-style', value);\n    };\n    var findNodeIndex = function (node, normalized) {\n      var idx = 0, lastNodeType, nodeType;\n      if (node) {\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n          nodeType = node.nodeType;\n          if (normalized && nodeType === 3) {\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    var DOMUtils = function (doc, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var addedStyles = {};\n      var win = window;\n      var files = {};\n      var counter = 0;\n      var stdMode = true;\n      var boxModel = true;\n      var styleSheetLoader = instance.forElement(SugarElement.fromDom(doc), {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      var boundEvents = [];\n      var schema = settings.schema ? settings.schema : Schema({});\n      var styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      var events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      var blockElementsMap = schema.getBlockElements();\n      var $ = DomQuery.overrideDefaults(function () {\n        return {\n          context: doc,\n          element: self.getRoot()\n        };\n      });\n      var isBlock = function (node) {\n        if (typeof node === 'string') {\n          return !!blockElementsMap[node];\n        } else if (node) {\n          var type = node.nodeType;\n          if (type) {\n            return !!(type === 1 && blockElementsMap[node.nodeName]);\n          }\n        }\n        return false;\n      };\n      var get = function (elm) {\n        return elm && doc && isString(elm) ? doc.getElementById(elm) : elm;\n      };\n      var $$ = function (elm) {\n        return $(typeof elm === 'string' ? get(elm) : elm);\n      };\n      var getAttrib = function (elm, name, defaultVal) {\n        var hook, value;\n        var $elm = $$(elm);\n        if ($elm.length) {\n          hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm, name);\n          } else {\n            value = $elm.attr(name);\n          }\n        }\n        if (typeof value === 'undefined') {\n          value = defaultVal || '';\n        }\n        return value;\n      };\n      var getAttribs = function (elm) {\n        var node = get(elm);\n        if (!node) {\n          return [];\n        }\n        return node.attributes;\n      };\n      var setAttrib = function (elm, name, value) {\n        if (value === '') {\n          value = null;\n        }\n        var $elm = $$(elm);\n        var originalValue = $elm.attr(name);\n        if (!$elm.length) {\n          return;\n        }\n        var hook = attrHooks[name];\n        if (hook && hook.set) {\n          hook.set($elm, value, name);\n        } else {\n          $elm.attr(name, value);\n        }\n        if (originalValue !== value && settings.onSetAttrib) {\n          settings.onSetAttrib({\n            attrElm: $elm,\n            attrName: name,\n            attrValue: value\n          });\n        }\n      };\n      var clone = function (node, deep) {\n        if (!isIE || node.nodeType !== 1 || deep) {\n          return node.cloneNode(deep);\n        } else {\n          var clone_1 = doc.createElement(node.nodeName);\n          each$5(getAttribs(node), function (attr) {\n            setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n          });\n          return clone_1;\n        }\n      };\n      var getRoot = function () {\n        return settings.root_element || doc.body;\n      };\n      var getViewPort = function (argWin) {\n        var vp = getBounds(argWin);\n        return {\n          x: vp.x,\n          y: vp.y,\n          w: vp.width,\n          h: vp.height\n        };\n      };\n      var getPos$1 = function (elm, rootElm) {\n        return getPos(doc.body, get(elm), rootElm);\n      };\n      var setStyle = function (elm, name, value) {\n        var $elm = isString(name) ? $$(elm).css(name, value) : $$(elm).css(name);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var setStyles = function (elm, stylesArg) {\n        var $elm = $$(elm).css(stylesArg);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var getStyle = function (elm, name, computed) {\n        var $elm = $$(elm);\n        if (computed) {\n          return $elm.css(name);\n        }\n        name = name.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n        if (name === 'float') {\n          name = Env.browser.isIE() ? 'styleFloat' : 'cssFloat';\n        }\n        return $elm[0] && $elm[0].style ? $elm[0].style[name] : undefined;\n      };\n      var getSize = function (elm) {\n        var w, h;\n        elm = get(elm);\n        w = getStyle(elm, 'width');\n        h = getStyle(elm, 'height');\n        if (w.indexOf('px') === -1) {\n          w = 0;\n        }\n        if (h.indexOf('px') === -1) {\n          h = 0;\n        }\n        return {\n          w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n          h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n        };\n      };\n      var getRect = function (elm) {\n        elm = get(elm);\n        var pos = getPos$1(elm);\n        var size = getSize(elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      var is = function (elm, selector) {\n        var i;\n        if (!elm) {\n          return false;\n        }\n        if (!Array.isArray(elm)) {\n          if (selector === '*') {\n            return elm.nodeType === 1;\n          }\n          if (simpleSelectorRe.test(selector)) {\n            var selectors = selector.toLowerCase().split(/,/);\n            var elmName = elm.nodeName.toLowerCase();\n            for (i = selectors.length - 1; i >= 0; i--) {\n              if (selectors[i] === elmName) {\n                return true;\n              }\n            }\n            return false;\n          }\n          if (elm.nodeType && elm.nodeType !== 1) {\n            return false;\n          }\n        }\n        var elms = !Array.isArray(elm) ? [elm] : elm;\n        return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n      };\n      var getParents = function (elm, selector, root, collect) {\n        var result = [];\n        var selectorVal;\n        var node = get(elm);\n        collect = collect === undefined;\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (Tools.is(selector, 'string')) {\n          selectorVal = selector;\n          if (selector === '*') {\n            selector = function (node) {\n              return node.nodeType === 1;\n            };\n          } else {\n            selector = function (node) {\n              return is(node, selectorVal);\n            };\n          }\n        }\n        while (node) {\n          if (node === root || isNullable(node.nodeType) || isDocument$1(node) || isDocumentFragment$1(node)) {\n            break;\n          }\n          if (!selector || typeof selector === 'function' && selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      var getParent = function (node, selector, root) {\n        var parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      var _findSib = function (node, selector, name) {\n        var func = selector;\n        if (node) {\n          if (typeof selector === 'string') {\n            func = function (node) {\n              return is(node, selector);\n            };\n          }\n          for (node = node[name]; node; node = node[name]) {\n            if (typeof func === 'function' && func(node)) {\n              return node;\n            }\n          }\n        }\n        return null;\n      };\n      var getNext = function (node, selector) {\n        return _findSib(node, selector, 'nextSibling');\n      };\n      var getPrev = function (node, selector) {\n        return _findSib(node, selector, 'previousSibling');\n      };\n      var select = function (selector, scope) {\n        return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n      };\n      var run = function (elm, func, scope) {\n        var result;\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        if (!node) {\n          return false;\n        }\n        if (Tools.isArray(node) && (node.length || node.length === 0)) {\n          result = [];\n          each$5(node, function (elm, i) {\n            if (elm) {\n              result.push(func.call(scope, typeof elm === 'string' ? get(elm) : elm, i));\n            }\n          });\n          return result;\n        }\n        var context = scope ? scope : this;\n        return func.call(context, node);\n      };\n      var setAttribs = function (elm, attrs) {\n        $$(elm).each(function (i, node) {\n          each$5(attrs, function (value, name) {\n            setAttrib(node, name, value);\n          });\n        });\n      };\n      var setHTML = function (elm, html) {\n        var $elm = $$(elm);\n        if (isIE) {\n          $elm.each(function (i, target) {\n            if (target.canHaveHTML === false) {\n              return;\n            }\n            while (target.firstChild) {\n              target.removeChild(target.firstChild);\n            }\n            try {\n              target.innerHTML = '<br>' + html;\n              target.removeChild(target.firstChild);\n            } catch (ex) {\n              DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n            }\n            return html;\n          });\n        } else {\n          $elm.html(html);\n        }\n      };\n      var add = function (parentElm, name, attrs, html, create) {\n        return run(parentElm, function (parentElm) {\n          var newElm = typeof name === 'string' ? doc.createElement(name) : name;\n          setAttribs(newElm, attrs);\n          if (html) {\n            if (typeof html !== 'string' && html.nodeType) {\n              newElm.appendChild(html);\n            } else if (typeof html === 'string') {\n              setHTML(newElm, html);\n            }\n          }\n          return !create ? parentElm.appendChild(newElm) : newElm;\n        });\n      };\n      var create = function (name, attrs, html) {\n        return add(doc.createElement(name), name, attrs, html, true);\n      };\n      var decode = Entities.decode;\n      var encode = Entities.encodeAllRaw;\n      var createHTML = function (name, attrs, html) {\n        var outHtml = '', key;\n        outHtml += '<' + name;\n        for (key in attrs) {\n          if (attrs.hasOwnProperty(key) && attrs[key] !== null && typeof attrs[key] !== 'undefined') {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (typeof html !== 'undefined') {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n        return outHtml + ' />';\n      };\n      var createFragment = function (html) {\n        var node;\n        var container = doc.createElement('div');\n        var frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      var remove = function (node, keepChildren) {\n        var $node = $$(node);\n        if (keepChildren) {\n          $node.each(function () {\n            var child;\n            while (child = this.firstChild) {\n              if (child.nodeType === 3 && child.data.length === 0) {\n                this.removeChild(child);\n              } else {\n                this.parentNode.insertBefore(child, this);\n              }\n            }\n          }).remove();\n        } else {\n          $node.remove();\n        }\n        return $node.length > 1 ? $node.toArray() : $node[0];\n      };\n      var removeAllAttribs = function (e) {\n        return run(e, function (e) {\n          var i;\n          var attrs = e.attributes;\n          for (i = attrs.length - 1; i >= 0; i--) {\n            e.removeAttributeNode(attrs.item(i));\n          }\n        });\n      };\n      var parseStyle = function (cssText) {\n        return styles.parse(cssText);\n      };\n      var serializeStyle = function (stylesArg, name) {\n        return styles.serialize(stylesArg, name);\n      };\n      var addStyle = function (cssText) {\n        var head, styleElm;\n        if (self !== DOMUtils.DOM && doc === document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          head = doc.getElementsByTagName('head')[0];\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      var loadCSS = function (urls) {\n        if (!urls) {\n          urls = '';\n        }\n        each(urls.split(','), function (url) {\n          files[url] = true;\n          styleSheetLoader.load(url, noop);\n        });\n      };\n      var toggleClass = function (elm, cls, state) {\n        $$(elm).toggleClass(cls, state).each(function () {\n          if (this.className === '') {\n            DomQuery(this).attr('class', null);\n          }\n        });\n      };\n      var addClass = function (elm, cls) {\n        $$(elm).addClass(cls);\n      };\n      var removeClass = function (elm, cls) {\n        toggleClass(elm, cls, false);\n      };\n      var hasClass = function (elm, cls) {\n        return $$(elm).hasClass(cls);\n      };\n      var show = function (elm) {\n        $$(elm).show();\n      };\n      var hide = function (elm) {\n        $$(elm).hide();\n      };\n      var isHidden = function (elm) {\n        return $$(elm).css('display') === 'none';\n      };\n      var uniqueId = function (prefix) {\n        return (!prefix ? 'mce_' : prefix) + counter++;\n      };\n      var getOuterHTML = function (elm) {\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        return isElement$1(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n      };\n      var setOuterHTML = function (elm, html) {\n        $$(elm).each(function () {\n          try {\n            if ('outerHTML' in this) {\n              this.outerHTML = html;\n              return;\n            }\n          } catch (ex) {\n          }\n          remove(DomQuery(this).html(html), true);\n        });\n      };\n      var insertAfter = function (node, reference) {\n        var referenceNode = get(reference);\n        return run(node, function (node) {\n          var parent = referenceNode.parentNode;\n          var nextSibling = referenceNode.nextSibling;\n          if (nextSibling) {\n            parent.insertBefore(node, nextSibling);\n          } else {\n            parent.appendChild(node);\n          }\n          return node;\n        });\n      };\n      var replace = function (newElm, oldElm, keepChildren) {\n        return run(oldElm, function (oldElm) {\n          if (Tools.is(oldElm, 'array')) {\n            newElm = newElm.cloneNode(true);\n          }\n          if (keepChildren) {\n            each$5(grep$1(oldElm.childNodes), function (node) {\n              newElm.appendChild(node);\n            });\n          }\n          return oldElm.parentNode.replaceChild(newElm, oldElm);\n        });\n      };\n      var rename = function (elm, name) {\n        var newElm;\n        if (elm.nodeName !== name.toUpperCase()) {\n          newElm = create(name);\n          each$5(getAttribs(elm), function (attrNode) {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n        }\n        return newElm || elm;\n      };\n      var findCommonAncestor = function (a, b) {\n        var ps = a, pe;\n        while (ps) {\n          pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        }\n        return ps;\n      };\n      var toHex = function (rgbVal) {\n        return styles.toHex(Tools.trim(rgbVal));\n      };\n      var isNonEmptyElement = function (node) {\n        if (isElement$1(node)) {\n          var isNamedAnchor = node.nodeName.toLowerCase() === 'a' && !getAttrib(node, 'href') && getAttrib(node, 'id');\n          if (getAttrib(node, 'name') || getAttrib(node, 'data-mce-bookmark') || isNamedAnchor) {\n            return true;\n          }\n        }\n        return false;\n      };\n      var isEmpty = function (node, elements) {\n        var type, name, brCount = 0;\n        if (isNonEmptyElement(node)) {\n          return false;\n        }\n        node = node.firstChild;\n        if (node) {\n          var walker = new DomTreeWalker(node, node.parentNode);\n          var whitespace = schema ? schema.getWhiteSpaceElements() : {};\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\n          do {\n            type = node.nodeType;\n            if (isElement$1(node)) {\n              var bogusVal = node.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                node = walker.next(bogusVal === 'all');\n                continue;\n              }\n              name = node.nodeName.toLowerCase();\n              if (elements && elements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  node = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (type === 8) {\n              return false;\n            }\n            if (type === 3 && !isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            node = walker.next();\n          } while (node);\n        }\n        return brCount <= 1;\n      };\n      var createRng = function () {\n        return doc.createRange();\n      };\n      var split = function (parentElm, splitElm, replacementElm) {\n        var range = createRng();\n        var beforeFragment;\n        var afterFragment;\n        var parentNode;\n        if (parentElm && splitElm) {\n          range.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n          range.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          beforeFragment = range.extractContents();\n          range = createRng();\n          range.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          range.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n          afterFragment = range.extractContents();\n          parentNode = parentElm.parentNode;\n          parentNode.insertBefore(trimNode(self, beforeFragment), parentElm);\n          if (replacementElm) {\n            parentNode.insertBefore(replacementElm, parentElm);\n          } else {\n            parentNode.insertBefore(splitElm, parentElm);\n          }\n          parentNode.insertBefore(trimNode(self, afterFragment), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        }\n      };\n      var bind = function (target, name, func, scope) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        }\n        if (settings.collect && (target === doc || target === win)) {\n          boundEvents.push([\n            target,\n            name,\n            func,\n            scope\n          ]);\n        }\n        var output = events.bind(target, name, func, scope || self);\n        return output;\n      };\n      var unbind = function (target, name, func) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        } else {\n          if (boundEvents.length > 0 && (target === doc || target === win)) {\n            var i = boundEvents.length;\n            while (i--) {\n              var item = boundEvents[i];\n              if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n                events.unbind(item[0], item[1], item[2]);\n              }\n            }\n          }\n          return events.unbind(target, name, func);\n        }\n      };\n      var fire = function (target, name, evt) {\n        return events.fire(target, name, evt);\n      };\n      var getContentEditable = function (node) {\n        if (node && isElement$1(node)) {\n          var contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      var getContentEditableParent = function (node) {\n        var root = getRoot();\n        var state = null;\n        for (; node && node !== root; node = node.parentNode) {\n          state = getContentEditable(node);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      var destroy = function () {\n        if (boundEvents.length > 0) {\n          var i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n        each$1(files, function (_, url) {\n          styleSheetLoader.unload(url);\n          delete files[url];\n        });\n        if (Sizzle.setDocument) {\n          Sizzle.setDocument();\n        }\n      };\n      var isChildOf = function (node, parent) {\n        while (node) {\n          if (parent === node) {\n            return true;\n          }\n          node = node.parentNode;\n        }\n        return false;\n      };\n      var dumpRng = function (r) {\n        return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      };\n      var self = {\n        doc: doc,\n        settings: settings,\n        win: win,\n        files: files,\n        stdMode: stdMode,\n        boxModel: boxModel,\n        styleSheetLoader: styleSheetLoader,\n        boundEvents: boundEvents,\n        styles: styles,\n        schema: schema,\n        events: events,\n        isBlock: isBlock,\n        $: $,\n        $$: $$,\n        root: null,\n        clone: clone,\n        getRoot: getRoot,\n        getViewPort: getViewPort,\n        getRect: getRect,\n        getSize: getSize,\n        getParent: getParent,\n        getParents: getParents,\n        get: get,\n        getNext: getNext,\n        getPrev: getPrev,\n        select: select,\n        is: is,\n        add: add,\n        create: create,\n        createHTML: createHTML,\n        createFragment: createFragment,\n        remove: remove,\n        setStyle: setStyle,\n        getStyle: getStyle,\n        setStyles: setStyles,\n        removeAllAttribs: removeAllAttribs,\n        setAttrib: setAttrib,\n        setAttribs: setAttribs,\n        getAttrib: getAttrib,\n        getPos: getPos$1,\n        parseStyle: parseStyle,\n        serializeStyle: serializeStyle,\n        addStyle: addStyle,\n        loadCSS: loadCSS,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        toggleClass: toggleClass,\n        show: show,\n        hide: hide,\n        isHidden: isHidden,\n        uniqueId: uniqueId,\n        setHTML: setHTML,\n        getOuterHTML: getOuterHTML,\n        setOuterHTML: setOuterHTML,\n        decode: decode,\n        encode: encode,\n        insertAfter: insertAfter,\n        replace: replace,\n        rename: rename,\n        findCommonAncestor: findCommonAncestor,\n        toHex: toHex,\n        run: run,\n        getAttribs: getAttribs,\n        isEmpty: isEmpty,\n        createRng: createRng,\n        nodeIndex: findNodeIndex,\n        split: split,\n        bind: bind,\n        unbind: unbind,\n        fire: fire,\n        getContentEditable: getContentEditable,\n        getContentEditableParent: getContentEditableParent,\n        destroy: destroy,\n        isChildOf: isChildOf,\n        dumpRng: dumpRng\n      };\n      var attrHooks = setupAttrHooks(styles, settings, function () {\n        return self;\n      });\n      return self;\n    };\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n\n    var DOM = DOMUtils.DOM;\n    var each$6 = Tools.each, grep$2 = Tools.grep;\n    var QUEUED = 0;\n    var LOADING = 1;\n    var LOADED = 2;\n    var FAILED = 3;\n    var ScriptLoader = function () {\n      function ScriptLoader(settings) {\n        if (settings === void 0) {\n          settings = {};\n        }\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = 0;\n        this.settings = settings;\n      }\n      ScriptLoader.prototype._setReferrerPolicy = function (referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      };\n      ScriptLoader.prototype.loadScript = function (url, success, failure) {\n        var dom = DOM;\n        var elm;\n        var cleanup = function () {\n          dom.remove(id);\n          if (elm) {\n            elm.onerror = elm.onload = elm = null;\n          }\n        };\n        var done = function () {\n          cleanup();\n          success();\n        };\n        var error = function () {\n          cleanup();\n          if (isFunction(failure)) {\n            failure();\n          } else {\n            if (typeof console !== 'undefined' && console.log) {\n              console.log('Failed to load script: ' + url);\n            }\n          }\n        };\n        var id = dom.uniqueId();\n        elm = document.createElement('script');\n        elm.id = id;\n        elm.type = 'text/javascript';\n        elm.src = Tools._addCacheSuffix(url);\n        if (this.settings.referrerPolicy) {\n          dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n        }\n        elm.onload = done;\n        elm.onerror = error;\n        (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n      };\n      ScriptLoader.prototype.isDone = function (url) {\n        return this.states[url] === LOADED;\n      };\n      ScriptLoader.prototype.markDone = function (url) {\n        this.states[url] = LOADED;\n      };\n      ScriptLoader.prototype.add = function (url, success, scope, failure) {\n        var state = this.states[url];\n        this.queue.push(url);\n        if (state === undefined) {\n          this.states[url] = QUEUED;\n        }\n        if (success) {\n          if (!this.scriptLoadedCallbacks[url]) {\n            this.scriptLoadedCallbacks[url] = [];\n          }\n          this.scriptLoadedCallbacks[url].push({\n            success: success,\n            failure: failure,\n            scope: scope || this\n          });\n        }\n      };\n      ScriptLoader.prototype.load = function (url, success, scope, failure) {\n        return this.add(url, success, scope, failure);\n      };\n      ScriptLoader.prototype.remove = function (url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      };\n      ScriptLoader.prototype.loadQueue = function (success, scope, failure) {\n        this.loadScripts(this.queue, success, scope, failure);\n      };\n      ScriptLoader.prototype.loadScripts = function (scripts, success, scope, failure) {\n        var self = this;\n        var failures = [];\n        var execCallbacks = function (name, url) {\n          each$6(self.scriptLoadedCallbacks[url], function (callback) {\n            if (isFunction(callback[name])) {\n              callback[name].call(callback.scope);\n            }\n          });\n          self.scriptLoadedCallbacks[url] = undefined;\n        };\n        self.queueLoadedCallbacks.push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n        var loadScripts = function () {\n          var loadingScripts = grep$2(scripts);\n          scripts.length = 0;\n          each$6(loadingScripts, function (url) {\n            if (self.states[url] === LOADED) {\n              execCallbacks('success', url);\n              return;\n            }\n            if (self.states[url] === FAILED) {\n              execCallbacks('failure', url);\n              return;\n            }\n            if (self.states[url] !== LOADING) {\n              self.states[url] = LOADING;\n              self.loading++;\n              self.loadScript(url, function () {\n                self.states[url] = LOADED;\n                self.loading--;\n                execCallbacks('success', url);\n                loadScripts();\n              }, function () {\n                self.states[url] = FAILED;\n                self.loading--;\n                failures.push(url);\n                execCallbacks('failure', url);\n                loadScripts();\n              });\n            }\n          });\n          if (!self.loading) {\n            var notifyCallbacks = self.queueLoadedCallbacks.slice(0);\n            self.queueLoadedCallbacks.length = 0;\n            each$6(notifyCallbacks, function (callback) {\n              if (failures.length === 0) {\n                if (isFunction(callback.success)) {\n                  callback.success.call(callback.scope);\n                }\n              } else {\n                if (isFunction(callback.failure)) {\n                  callback.failure.call(callback.scope, failures);\n                }\n              }\n            });\n          }\n        };\n        loadScripts();\n      };\n      ScriptLoader.ScriptLoader = new ScriptLoader();\n      return ScriptLoader;\n    }();\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var isRaw = function (str) {\n      return isObject(str) && has(str, 'raw');\n    };\n    var isTokenised = function (str) {\n      return isArray(str) && str.length > 1;\n    };\n    var data = {};\n    var currentCode = Cell('en');\n    var getLanguageData = function () {\n      return get$1(data, currentCode.get());\n    };\n    var getData = function () {\n      return map$1(data, function (value) {\n        return __assign({}, value);\n      });\n    };\n    var setCode = function (newCode) {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    var getCode = function () {\n      return currentCode.get();\n    };\n    var add = function (code, items) {\n      var langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      each$1(items, function (translation, name) {\n        langData[name.toLowerCase()] = translation;\n      });\n    };\n    var translate = function (text) {\n      var langData = getLanguageData().getOr({});\n      var toString = function (obj) {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      var isEmpty = function (text) {\n        return text === '' || text === null || text === undefined;\n      };\n      var getLangData = function (text) {\n        var textstr = toString(text);\n        return get$1(langData, textstr.toLowerCase()).map(toString).getOr(textstr);\n      };\n      var removeContext = function (str) {\n        return str.replace(/{context:\\w+}$/, '');\n      };\n      if (isEmpty(text)) {\n        return '';\n      }\n      if (isRaw(text)) {\n        return toString(text.raw);\n      }\n      if (isTokenised(text)) {\n        var values_1 = text.slice(1);\n        var substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n          return has(values_1, $2) ? toString(values_1[$2]) : $1;\n        });\n        return removeContext(substitued);\n      }\n      return removeContext(getLangData(text));\n    };\n    var isRtl = function () {\n      return getLanguageData().bind(function (items) {\n        return get$1(items, '_dir');\n      }).exists(function (dir) {\n        return dir === 'rtl';\n      });\n    };\n    var hasCode = function (code) {\n      return has(data, code);\n    };\n    var I18n = {\n      getData: getData,\n      setCode: setCode,\n      getCode: getCode,\n      add: add,\n      translate: translate,\n      isRtl: isRtl,\n      hasCode: hasCode\n    };\n\n    var AddOnManager = function () {\n      var items = [];\n      var urls = {};\n      var lookup = {};\n      var _listeners = [];\n      var runListeners = function (name, state) {\n        var matchedListeners = filter(_listeners, function (listener) {\n          return listener.name === name && listener.state === state;\n        });\n        each(matchedListeners, function (listener) {\n          return listener.callback();\n        });\n      };\n      var get = function (name) {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      var dependencies = function (name) {\n        var result;\n        if (lookup[name]) {\n          result = lookup[name].dependencies;\n        }\n        return result || [];\n      };\n      var requireLangPack = function (name, languages) {\n        if (AddOnManager.languageLoad !== false) {\n          waitFor(name, function () {\n            var language = I18n.getCode();\n            var wrappedLanguages = ',' + (languages || '') + ',';\n            if (!language || languages && wrappedLanguages.indexOf(',' + language + ',') === -1) {\n              return;\n            }\n            ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n          }, 'loaded');\n        }\n      };\n      var add = function (id, addOn, dependencies) {\n        var addOnConstructor = addOn;\n        items.push(addOnConstructor);\n        lookup[id] = {\n          instance: addOnConstructor,\n          dependencies: dependencies\n        };\n        runListeners(id, 'added');\n        return addOnConstructor;\n      };\n      var remove = function (name) {\n        delete urls[name];\n        delete lookup[name];\n      };\n      var createUrl = function (baseUrl, dep) {\n        if (typeof dep === 'object') {\n          return dep;\n        }\n        return typeof baseUrl === 'string' ? {\n          prefix: '',\n          resource: dep,\n          suffix: ''\n        } : {\n          prefix: baseUrl.prefix,\n          resource: dep,\n          suffix: baseUrl.suffix\n        };\n      };\n      var addComponents = function (pluginName, scripts) {\n        var pluginUrl = urls[pluginName];\n        each(scripts, function (script) {\n          ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n        });\n      };\n      var loadDependencies = function (name, addOnUrl, success, scope) {\n        var deps = dependencies(name);\n        each(deps, function (dep) {\n          var newUrl = createUrl(addOnUrl, dep);\n          load(newUrl.resource, newUrl, undefined, undefined);\n        });\n        if (success) {\n          if (scope) {\n            success.call(scope);\n          } else {\n            success.call(ScriptLoader);\n          }\n        }\n      };\n      var load = function (name, addOnUrl, success, scope, failure) {\n        if (urls[name]) {\n          return;\n        }\n        var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        var done = function () {\n          runListeners(name, 'loaded');\n          loadDependencies(name, addOnUrl, success, scope);\n        };\n        if (lookup[name]) {\n          done();\n        } else {\n          ScriptLoader.ScriptLoader.add(urlString, done, scope, failure);\n        }\n      };\n      var waitFor = function (name, callback, state) {\n        if (state === void 0) {\n          state = 'added';\n        }\n        if (has(lookup, name) && state === 'added') {\n          callback();\n        } else if (has(urls, name) && state === 'loaded') {\n          callback();\n        } else {\n          _listeners.push({\n            name: name,\n            state: state,\n            callback: callback\n          });\n        }\n      };\n      return {\n        items: items,\n        urls: urls,\n        lookup: lookup,\n        _listeners: _listeners,\n        get: get,\n        dependencies: dependencies,\n        requireLangPack: requireLangPack,\n        add: add,\n        remove: remove,\n        createUrl: createUrl,\n        addComponents: addComponents,\n        load: load,\n        waitFor: waitFor\n      };\n    };\n    AddOnManager.languageLoad = true;\n    AddOnManager.baseURL = '';\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer === null) {\n          timer = setTimeout(function () {\n            fn.apply(null, args);\n            timer = null;\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last$2 = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer !== null) {\n          clearTimeout(timer);\n        }\n        timer = setTimeout(function () {\n          fn.apply(null, args);\n          timer = null;\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var read = function (element, attr) {\n      var value = get$4(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$1 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$2 = function (element, attr, id) {\n      var nu = filter(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set(element, attr, nu.join(' '));\n      } else {\n        remove$1(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$6 = function (element) {\n      return read(element, 'class');\n    };\n    var add$2 = function (element, clazz) {\n      return add$1(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$2(element, 'class', clazz);\n    };\n\n    var add$3 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$2(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$6(element);\n      if (classList.length === 0) {\n        remove$1(element, 'class');\n      }\n    };\n    var remove$4 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has$2 = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var descendants = function (scope, predicate) {\n      var result = [];\n      each(children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants(x, predicate));\n      });\n      return result;\n    };\n\n    var descendants$1 = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var annotation = constant('mce-annotation');\n    var dataAnnotation = constant('data-mce-annotation');\n    var dataAnnotationId = constant('data-mce-annotation-uid');\n\n    var identify = function (editor, annotationName) {\n      var rng = editor.selection.getRng();\n      var start = SugarElement.fromDom(rng.startContainer);\n      var root = SugarElement.fromDom(editor.getBody());\n      var selector = annotationName.fold(function () {\n        return '.' + annotation();\n      }, function (an) {\n        return '[' + dataAnnotation() + '=\"' + an + '\"]';\n      });\n      var newStart = child(start, rng.startOffset).getOr(start);\n      var closest = closest$1(newStart, selector, function (n) {\n        return eq$2(n, root);\n      });\n      var getAttr = function (c, property) {\n        if (has$1(c, property)) {\n          return Optional.some(get$4(c, property));\n        } else {\n          return Optional.none();\n        }\n      };\n      return closest.bind(function (c) {\n        return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n          return getAttr(c, '' + dataAnnotation()).map(function (name) {\n            var elements = findMarkers(editor, uid);\n            return {\n              uid: uid,\n              name: name,\n              elements: elements\n            };\n          });\n        });\n      });\n    };\n    var isAnnotation = function (elem) {\n      return isElement(elem) && has$2(elem, annotation());\n    };\n    var findMarkers = function (editor, uid) {\n      var body = SugarElement.fromDom(editor.getBody());\n      return descendants$1(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n    };\n    var findAll = function (editor, name) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var markers = descendants$1(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n      var directory = {};\n      each(markers, function (m) {\n        var uid = get$4(m, dataAnnotationId());\n        var nodesAlready = directory.hasOwnProperty(uid) ? directory[uid] : [];\n        directory[uid] = nodesAlready.concat([m]);\n      });\n      return directory;\n    };\n\n    var setup = function (editor, _registry) {\n      var changeCallbacks = Cell({});\n      var initData = function () {\n        return {\n          listeners: [],\n          previous: Cell(Optional.none())\n        };\n      };\n      var withCallbacks = function (name, f) {\n        updateCallbacks(name, function (data) {\n          f(data);\n          return data;\n        });\n      };\n      var updateCallbacks = function (name, f) {\n        var callbackMap = changeCallbacks.get();\n        var data = callbackMap.hasOwnProperty(name) ? callbackMap[name] : initData();\n        var outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      var fireCallbacks = function (name, uid, elements) {\n        withCallbacks(name, function (data) {\n          each(data.listeners, function (f) {\n            return f(true, name, {\n              uid: uid,\n              nodes: map(elements, function (elem) {\n                return elem.dom;\n              })\n            });\n          });\n        });\n      };\n      var fireNoAnnotation = function (name) {\n        withCallbacks(name, function (data) {\n          each(data.listeners, function (f) {\n            return f(false, name);\n          });\n        });\n      };\n      var onNodeChange = last$2(function () {\n        var callbackMap = changeCallbacks.get();\n        var annotations = sort$1(keys(callbackMap));\n        each(annotations, function (name) {\n          updateCallbacks(name, function (data) {\n            var prev = data.previous.get();\n            identify(editor, Optional.some(name)).fold(function () {\n              if (prev.isSome()) {\n                fireNoAnnotation(name);\n                data.previous.set(Optional.none());\n              }\n            }, function (_a) {\n              var uid = _a.uid, name = _a.name, elements = _a.elements;\n              if (!prev.is(uid)) {\n                fireCallbacks(name, uid, elements);\n                data.previous.set(Optional.some(uid));\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', function () {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', function () {\n        onNodeChange.throttle();\n      });\n      var addListener = function (name, f) {\n        updateCallbacks(name, function (data) {\n          return {\n            previous: data.previous,\n            listeners: data.listeners.concat([f])\n          };\n        });\n      };\n      return { addListener: addListener };\n    };\n\n    var setup$1 = function (editor, registry) {\n      var identifyParserNode = function (span) {\n        return Optional.from(span.attr(dataAnnotation())).bind(registry.lookup);\n      };\n      editor.on('init', function () {\n        editor.serializer.addNodeFilter('span', function (spans) {\n          each(spans, function (span) {\n            identifyParserNode(span).each(function (settings) {\n              if (settings.persistent === false) {\n                span.unwrap();\n              }\n            });\n          });\n        });\n      });\n    };\n\n    var create$2 = function () {\n      var annotations = {};\n      var register = function (name, settings) {\n        annotations[name] = {\n          name: name,\n          settings: settings\n        };\n      };\n      var lookup = function (name) {\n        return annotations.hasOwnProperty(name) ? Optional.from(annotations[name]).map(function (a) {\n          return a.settings;\n        }) : Optional.none();\n      };\n      return {\n        register: register,\n        lookup: lookup\n      };\n    };\n\n    var unique = 0;\n    var generate$1 = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var add$4 = function (element, classes) {\n      each(classes, function (x) {\n        add$3(element, x);\n      });\n    };\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    var get$7 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set$1 = function (element, content) {\n      var owner$1 = owner(element);\n      var docDom = owner$1.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append(element, fragment);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n    var deep = function (original) {\n      return clone$1(original, true);\n    };\n\n    var TextWalker = function (startNode, rootNode, isBoundary) {\n      if (isBoundary === void 0) {\n        isBoundary = never;\n      }\n      var walker = new DomTreeWalker(startNode, rootNode);\n      var walk = function (direction) {\n        var next;\n        do {\n          next = walker[direction]();\n        } while (next && !isText$1(next) && !isBoundary(next));\n        return Optional.from(next).filter(isText$1);\n      };\n      return {\n        current: function () {\n          return Optional.from(walker.current()).filter(isText$1);\n        },\n        next: function () {\n          return walk('next');\n        },\n        prev: function () {\n          return walk('prev');\n        },\n        prev2: function () {\n          return walk('prev2');\n        }\n      };\n    };\n\n    var TextSeeker = function (dom, isBoundary) {\n      var isBlockBoundary = isBoundary ? isBoundary : function (node) {\n        return dom.isBlock(node) || isBr(node) || isContentEditableFalse(node);\n      };\n      var walk = function (node, offset, walker, process) {\n        if (isText$1(node)) {\n          var newOffset = process(node, offset, node.data);\n          if (newOffset !== -1) {\n            return Optional.some({\n              container: node,\n              offset: newOffset\n            });\n          }\n        }\n        return walker().bind(function (next) {\n          return walk(next.container, next.offset, walker, process);\n        });\n      };\n      var backwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.prev().map(function (prev) {\n            return {\n              container: prev,\n              offset: prev.length\n            };\n          });\n        }, process).getOrNull();\n      };\n      var forwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.next().map(function (next) {\n            return {\n              container: next,\n              offset: 0\n            };\n          });\n        }, process).getOrNull();\n      };\n      return {\n        backwards: backwards,\n        forwards: forwards\n      };\n    };\n\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var round = Math.round;\n    var clone$2 = function (rect) {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round(rect.left),\n        top: round(rect.top),\n        bottom: round(rect.bottom),\n        right: round(rect.right),\n        width: round(rect.width),\n        height: round(rect.height)\n      };\n    };\n    var collapse = function (rect, toStart) {\n      rect = clone$2(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    var isEqual = function (rect1, rect2) {\n      return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    };\n    var isValidOverflow = function (overflowY, rect1, rect2) {\n      return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    };\n    var isAbove = function (rect1, rect2) {\n      var halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    var isBelow = function (rect1, rect2) {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    var containsXY = function (rect, clientX, clientY) {\n      return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    };\n\n    var getSelectedNode = function (range) {\n      var startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    var getNode = function (container, offset) {\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        if (offset >= container.childNodes.length) {\n          offset = container.childNodes.length - 1;\n        }\n        container = container.childNodes[offset];\n      }\n      return container;\n    };\n\n    var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    var isExtendingChar = function (ch) {\n      return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n    };\n\n    var or = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var and = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n\n    var isElement$3 = isElement$1;\n    var isCaretCandidate$1 = isCaretCandidate;\n    var isBlock$1 = matchStyleValues('display', 'block table');\n    var isFloated = matchStyleValues('float', 'left right');\n    var isValidElementCaretCandidate = and(isElement$3, isCaretCandidate$1, not(isFloated));\n    var isNotPre = not(matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    var isText$4 = isText$1;\n    var isBr$3 = isBr;\n    var nodeIndex = DOMUtils.nodeIndex;\n    var resolveIndex = getNode;\n    var createRange = function (doc) {\n      return 'createRange' in doc ? doc.createRange() : DOMUtils.DOM.createRng();\n    };\n    var isWhiteSpace = function (chr) {\n      return chr && /[\\r\\n\\t ]/.test(chr);\n    };\n    var isRange = function (rng) {\n      return !!rng.setStart && !!rng.setEnd;\n    };\n    var isHiddenWhiteSpaceRange = function (range) {\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      var text;\n      if (isWhiteSpace(range.toString()) && isNotPre(container.parentNode) && isText$1(container)) {\n        text = container.data;\n        if (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var getBrClientRect = function (brNode) {\n      var doc = brNode.ownerDocument;\n      var rng = createRange(doc);\n      var nbsp$1 = doc.createTextNode(nbsp);\n      var parentNode = brNode.parentNode;\n      parentNode.insertBefore(nbsp$1, brNode);\n      rng.setStart(nbsp$1, 0);\n      rng.setEnd(nbsp$1, 1);\n      var clientRect = clone$2(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp$1);\n      return clientRect;\n    };\n    var getBoundingClientRectWebKitText = function (rng) {\n      var sc = rng.startContainer;\n      var ec = rng.endContainer;\n      var so = rng.startOffset;\n      var eo = rng.endOffset;\n      if (sc === ec && isText$1(ec) && so === 0 && eo === 1) {\n        var newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect(newRng);\n      } else {\n        return null;\n      }\n    };\n    var isZeroRect = function (r) {\n      return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    };\n    var getBoundingClientRect = function (item) {\n      var clientRect;\n      var clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone$2(clientRects[0]);\n      } else {\n        clientRect = clone$2(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return getBoundingClientRectWebKitText(item);\n      }\n      return clientRect;\n    };\n    var collapseAndInflateWidth = function (clientRect, toStart) {\n      var newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    var getCaretPositionClientRects = function (caretPosition) {\n      var clientRects = [];\n      var beforeNode, node;\n      var addUniqueAndValidRect = function (clientRect) {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      var addCharacterOffset = function (container, offset) {\n        var range = createRange(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return clientRects;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n              return clientRects;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), true));\n          }\n        }\n      };\n      if (isText$4(caretPosition.container())) {\n        addCharacterOffset(caretPosition.container(), caretPosition.offset());\n        return clientRects;\n      }\n      if (isElement$3(caretPosition.container())) {\n        if (caretPosition.isAtEnd()) {\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\n          if (isText$4(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n          }\n        } else {\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\n          if (isText$4(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n            return clientRects;\n          }\n          beforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    var CaretPosition = function (container, offset, clientRects) {\n      var isAtStart = function () {\n        if (isText$4(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      var isAtEnd = function () {\n        if (isText$4(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      var toRange = function () {\n        var range = createRange(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      var getClientRects = function () {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      var isVisible = function () {\n        return getClientRects().length > 0;\n      };\n      var isEqual = function (caretPosition) {\n        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      };\n      var getNode = function (before) {\n        return resolveIndex(container, before ? offset - 1 : offset);\n      };\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange: toRange,\n        getClientRects: getClientRects,\n        isVisible: isVisible,\n        isAtStart: isAtStart,\n        isAtEnd: isAtEnd,\n        isEqual: isEqual,\n        getNode: getNode\n      };\n    };\n    CaretPosition.fromRangeStart = function (range) {\n      return CaretPosition(range.startContainer, range.startOffset);\n    };\n    CaretPosition.fromRangeEnd = function (range) {\n      return CaretPosition(range.endContainer, range.endOffset);\n    };\n    CaretPosition.after = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex(node) + 1);\n    };\n    CaretPosition.before = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex(node));\n    };\n    CaretPosition.isAbove = function (pos1, pos2) {\n      return lift2(head(pos2.getClientRects()), last(pos1.getClientRects()), isAbove).getOr(false);\n    };\n    CaretPosition.isBelow = function (pos1, pos2) {\n      return lift2(last(pos2.getClientRects()), head(pos1.getClientRects()), isBelow).getOr(false);\n    };\n    CaretPosition.isAtStart = function (pos) {\n      return pos ? pos.isAtStart() : false;\n    };\n    CaretPosition.isAtEnd = function (pos) {\n      return pos ? pos.isAtEnd() : false;\n    };\n    CaretPosition.isTextPosition = function (pos) {\n      return pos ? isText$1(pos.container()) : false;\n    };\n    CaretPosition.isElementPosition = function (pos) {\n      return CaretPosition.isTextPosition(pos) === false;\n    };\n\n    var trimEmptyTextNode = function (dom, node) {\n      if (isText$1(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var insertNode = function (dom, rng, node) {\n      rng.insertNode(node);\n      trimEmptyTextNode(dom, node.previousSibling);\n      trimEmptyTextNode(dom, node.nextSibling);\n    };\n    var insertFragment = function (dom, rng, frag) {\n      var firstChild = Optional.from(frag.firstChild);\n      var lastChild = Optional.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(function (child) {\n        return trimEmptyTextNode(dom, child.previousSibling);\n      });\n      lastChild.each(function (child) {\n        return trimEmptyTextNode(dom, child.nextSibling);\n      });\n    };\n    var rangeInsertNode = function (dom, rng, node) {\n      if (isDocumentFragment$1(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    var isText$5 = isText$1;\n    var isBogus$2 = isBogus;\n    var nodeIndex$1 = DOMUtils.nodeIndex;\n    var normalizedParent = function (node) {\n      var parentNode = node.parentNode;\n      if (isBogus$2(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    var getChildNodes = function (node) {\n      if (!node) {\n        return [];\n      }\n      return reduce(node.childNodes, function (result, node) {\n        if (isBogus$2(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    var normalizedTextOffset = function (node, offset) {\n      while (node = node.previousSibling) {\n        if (!isText$5(node)) {\n          break;\n        }\n        offset += node.data.length;\n      }\n      return offset;\n    };\n    var equal$1 = function (a) {\n      return function (b) {\n        return a === b;\n      };\n    };\n    var normalizedNodeIndex = function (node) {\n      var nodes, index;\n      nodes = getChildNodes(normalizedParent(node));\n      index = findIndex$1(nodes, equal$1(node), node);\n      nodes = nodes.slice(0, index + 1);\n      var numTextFragments = reduce(nodes, function (result, node, i) {\n        if (isText$5(node) && isText$5(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = filter$2(nodes, matchNodeNames([node.nodeName]));\n      index = findIndex$1(nodes, equal$1(node), node);\n      return index - numTextFragments;\n    };\n    var createPathItem = function (node) {\n      var name;\n      if (isText$5(node)) {\n        name = 'text()';\n      } else {\n        name = node.nodeName.toLowerCase();\n      }\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    var parentsUntil = function (root, node, predicate) {\n      var parents = [];\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\n        if (predicate && predicate(node)) {\n          break;\n        }\n        parents.push(node);\n      }\n      return parents;\n    };\n    var create$3 = function (root, caretPosition) {\n      var container, offset, path = [], outputOffset, childNodes, parents;\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (isText$5(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      parents = parentsUntil(root, container);\n      parents = filter$2(parents, not(isBogus));\n      path = path.concat(map$2(parents, function (node) {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    var resolvePathItem = function (node, name, index) {\n      var nodes = getChildNodes(node);\n      nodes = filter$2(nodes, function (node, index) {\n        return !isText$5(node) || !isText$5(nodes[index - 1]);\n      });\n      nodes = filter$2(nodes, matchNodeNames([name]));\n      return nodes[index];\n    };\n    var findTextPosition = function (container, offset) {\n      var node = container, targetOffset = 0, dataLen;\n      while (isText$5(node)) {\n        dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$5(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$5(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition(container, offset);\n    };\n    var resolve$1 = function (root, path) {\n      var offset;\n      if (!path) {\n        return null;\n      }\n      var parts = path.split(',');\n      var paths = parts[0].split('/');\n      offset = parts.length > 1 ? parts[1] : 'before';\n      var container = reduce(paths, function (result, value) {\n        var match = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!match) {\n          return null;\n        }\n        if (match[1] === 'text()') {\n          match[1] = '#text';\n        }\n        return resolvePathItem(result, match[1], parseInt(match[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$5(container)) {\n        if (offset === 'after') {\n          offset = nodeIndex$1(container) + 1;\n        } else {\n          offset = nodeIndex$1(container);\n        }\n        return CaretPosition(container.parentNode, offset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    var isContentEditableFalse$2 = isContentEditableFalse;\n    var getNormalizedTextOffset = function (trim, container, offset) {\n      var node, trimmedOffset;\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (node = container.previousSibling; node && isText$1(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    var getPoint = function (dom, trim, normalized, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      var point = [];\n      var childNodes, after = 0;\n      var root = dom.getRoot();\n      if (isText$1(container)) {\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (; container && container !== root; container = container.parentNode) {\n        point.push(dom.nodeIndex(container, normalized));\n      }\n      return point;\n    };\n    var getLocation = function (trim, selection, normalized, rng) {\n      var dom = selection.dom, bookmark = {};\n      bookmark.start = getPoint(dom, trim, normalized, rng, true);\n      if (!selection.isCollapsed()) {\n        bookmark.end = getPoint(dom, trim, normalized, rng, false);\n      }\n      return bookmark;\n    };\n    var findIndex$2 = function (dom, name, element) {\n      var count = 0;\n      Tools.each(dom.select(name), function (node) {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        }\n        if (node === element) {\n          return false;\n        }\n        count++;\n      });\n      return count;\n    };\n    var moveEndPoint = function (rng, start) {\n      var container, offset, childNodes;\n      var prefix = start ? 'start' : 'end';\n      container = rng[prefix + 'Container'];\n      offset = rng[prefix + 'Offset'];\n      if (isElement$1(container) && container.nodeName === 'TR') {\n        childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\n        }\n      }\n    };\n    var normalizeTableCellSelection = function (rng) {\n      moveEndPoint(rng, true);\n      moveEndPoint(rng, false);\n      return rng;\n    };\n    var findSibling = function (node, offset) {\n      var sibling;\n      if (isElement$1(node)) {\n        node = getNode(node, offset);\n        if (isContentEditableFalse$2(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer(node)) {\n        if (isText$1(node) && isCaretContainerBlock(node)) {\n          node = node.parentNode;\n        }\n        sibling = node.previousSibling;\n        if (isContentEditableFalse$2(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$2(sibling)) {\n          return sibling;\n        }\n      }\n    };\n    var findAdjacentContentEditableFalseElm = function (rng) {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    var getOffsetBookmark = function (trim, normalized, selection) {\n      var element = selection.getNode();\n      var name = element ? element.nodeName : null;\n      var rng = selection.getRng();\n      if (isContentEditableFalse$2(element) || name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex$2(selection.dom, name, element)\n        };\n      }\n      var sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        name = sibling.tagName;\n        return {\n          name: name,\n          index: findIndex$2(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    var getCaretBookmark = function (selection) {\n      var rng = selection.getRng();\n      return {\n        start: create$3(selection.dom.getRoot(), CaretPosition.fromRangeStart(rng)),\n        end: create$3(selection.dom.getRoot(), CaretPosition.fromRangeEnd(rng))\n      };\n    };\n    var getRangeBookmark = function (selection) {\n      return { rng: selection.getRng() };\n    };\n    var createBookmarkSpan = function (dom, id, filled) {\n      var args = {\n        'data-mce-type': 'bookmark',\n        id: id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    var getPersistentBookmark = function (selection, filled) {\n      var dom = selection.dom;\n      var rng = selection.getRng();\n      var id = dom.uniqueId();\n      var collapsed = selection.isCollapsed();\n      var element = selection.getNode();\n      var name = element.nodeName;\n      if (name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex$2(dom, name, element)\n        };\n      }\n      var rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id: id,\n        keep: true\n      });\n      return { id: id };\n    };\n    var getBookmark = function (selection, type, normalized) {\n      if (type === 2) {\n        return getOffsetBookmark(trim$2, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    var getUndoBookmark = curry(getOffsetBookmark, identity, true);\n\n    var DOM$1 = DOMUtils.DOM;\n    var defaultPreviewStyles = 'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow';\n    var getBodySetting = function (editor, name, defaultValue) {\n      var value = editor.getParam(name, defaultValue);\n      if (value.indexOf('=') !== -1) {\n        var bodyObj = editor.getParam(name, '', 'hash');\n        return bodyObj.hasOwnProperty(editor.id) ? bodyObj[editor.id] : defaultValue;\n      } else {\n        return value;\n      }\n    };\n    var getIframeAttrs = function (editor) {\n      return editor.getParam('iframe_attrs', {});\n    };\n    var getDocType = function (editor) {\n      return editor.getParam('doctype', '<!DOCTYPE html>');\n    };\n    var getDocumentBaseUrl = function (editor) {\n      return editor.getParam('document_base_url', '');\n    };\n    var getBodyId = function (editor) {\n      return getBodySetting(editor, 'body_id', 'tinymce');\n    };\n    var getBodyClass = function (editor) {\n      return getBodySetting(editor, 'body_class', '');\n    };\n    var getContentSecurityPolicy = function (editor) {\n      return editor.getParam('content_security_policy', '');\n    };\n    var shouldPutBrInPre = function (editor) {\n      return editor.getParam('br_in_pre', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      if (editor.getParam('force_p_newlines', false)) {\n        return 'p';\n      }\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n    var getBrNewLineSelector = function (editor) {\n      return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n    };\n    var getNoNewLineSelector = function (editor) {\n      return editor.getParam('no_newline_selector', '');\n    };\n    var shouldKeepStyles = function (editor) {\n      return editor.getParam('keep_styles', true);\n    };\n    var shouldEndContainerOnEmptyBlock = function (editor) {\n      return editor.getParam('end_container_on_empty_block', false);\n    };\n    var getFontStyleValues = function (editor) {\n      return Tools.explode(editor.getParam('font_size_style_values', 'xx-small,x-small,small,medium,large,x-large,xx-large'));\n    };\n    var getFontSizeClasses = function (editor) {\n      return Tools.explode(editor.getParam('font_size_classes', ''));\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter', always, 'function');\n    };\n    var isAutomaticUploadsEnabled = function (editor) {\n      return editor.getParam('automatic_uploads', true, 'boolean');\n    };\n    var shouldReuseFileName = function (editor) {\n      return editor.getParam('images_reuse_filename', false, 'boolean');\n    };\n    var shouldReplaceBlobUris = function (editor) {\n      return editor.getParam('images_replace_blob_uris', true, 'boolean');\n    };\n    var getIconPackName = function (editor) {\n      return editor.getParam('icons', '', 'string');\n    };\n    var getIconsUrl = function (editor) {\n      return editor.getParam('icons_url', '', 'string');\n    };\n    var getImageUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url', '', 'string');\n    };\n    var getImageUploadBasePath = function (editor) {\n      return editor.getParam('images_upload_base_path', '', 'string');\n    };\n    var getImagesUploadCredentials = function (editor) {\n      return editor.getParam('images_upload_credentials', false, 'boolean');\n    };\n    var getImagesUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler', null, 'function');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getReferrerPolicy = function (editor) {\n      return editor.getParam('referrer_policy', '', 'string');\n    };\n    var getLanguageCode = function (editor) {\n      return editor.getParam('language', 'en', 'string');\n    };\n    var getLanguageUrl = function (editor) {\n      return editor.getParam('language_url', '', 'string');\n    };\n    var shouldIndentUseMargin = function (editor) {\n      return editor.getParam('indent_use_margin', false);\n    };\n    var getIndentation = function (editor) {\n      return editor.getParam('indentation', '40px', 'string');\n    };\n    var getContentCss = function (editor) {\n      var contentCss = editor.getParam('content_css');\n      if (isString(contentCss)) {\n        return map(contentCss.split(','), trim);\n      } else if (isArray(contentCss)) {\n        return contentCss;\n      } else if (contentCss === false || editor.inline) {\n        return [];\n      } else {\n        return ['default'];\n      }\n    };\n    var getFontCss = function (editor) {\n      var fontCss = editor.getParam('font_css', []);\n      return isArray(fontCss) ? fontCss : map(fontCss.split(','), trim);\n    };\n    var getDirectionality = function (editor) {\n      return editor.getParam('directionality', I18n.isRtl() ? 'rtl' : undefined);\n    };\n    var getInlineBoundarySelector = function (editor) {\n      return editor.getParam('inline_boundaries_selector', 'a[href],code,.mce-annotation', 'string');\n    };\n    var getObjectResizing = function (editor) {\n      var selector = editor.getParam('object_resizing');\n      if (selector === false || Env.iOS) {\n        return false;\n      } else {\n        return isString(selector) ? selector : 'table,img,figure.image,div,video,iframe';\n      }\n    };\n    var getResizeImgProportional = function (editor) {\n      return editor.getParam('resize_img_proportional', true, 'boolean');\n    };\n    var getPlaceholder = function (editor) {\n      return editor.getParam('placeholder', DOM$1.getAttrib(editor.getElement(), 'placeholder'), 'string');\n    };\n    var getEventRoot = function (editor) {\n      return editor.getParam('event_root');\n    };\n    var getServiceMessage = function (editor) {\n      return editor.getParam('service_message');\n    };\n    var getTheme = function (editor) {\n      return editor.getParam('theme');\n    };\n    var shouldValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var isInlineBoundariesEnabled = function (editor) {\n      return editor.getParam('inline_boundaries') !== false;\n    };\n    var getFormats = function (editor) {\n      return editor.getParam('formats');\n    };\n    var getPreviewStyles = function (editor) {\n      var style = editor.getParam('preview_styles', defaultPreviewStyles);\n      if (isString(style)) {\n        return style;\n      } else {\n        return '';\n      }\n    };\n    var canFormatEmptyLines = function (editor) {\n      return editor.getParam('format_empty_lines', false, 'boolean');\n    };\n    var getCustomUiSelector = function (editor) {\n      return editor.getParam('custom_ui_selector', '', 'string');\n    };\n    var getThemeUrl = function (editor) {\n      return editor.getParam('theme_url');\n    };\n    var isInline$1 = function (editor) {\n      return editor.getParam('inline');\n    };\n    var hasHiddenInput = function (editor) {\n      return editor.getParam('hidden_input');\n    };\n    var shouldPatchSubmit = function (editor) {\n      return editor.getParam('submit_patch');\n    };\n    var isEncodingXml = function (editor) {\n      return editor.getParam('encoding') === 'xml';\n    };\n    var shouldAddFormSubmitTrigger = function (editor) {\n      return editor.getParam('add_form_submit_trigger');\n    };\n    var shouldAddUnloadTrigger = function (editor) {\n      return editor.getParam('add_unload_trigger');\n    };\n    var hasForcedRootBlock = function (editor) {\n      return getForcedRootBlock(editor) !== '';\n    };\n    var getCustomUndoRedoLevels = function (editor) {\n      return editor.getParam('custom_undo_redo_levels', 0, 'number');\n    };\n    var shouldDisableNodeChange = function (editor) {\n      return editor.getParam('disable_nodechange');\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly');\n    };\n    var hasContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors');\n    };\n    var getPlugins = function (editor) {\n      return editor.getParam('plugins', '', 'string');\n    };\n    var getExternalPlugins = function (editor) {\n      return editor.getParam('external_plugins');\n    };\n    var shouldBlockUnsupportedDrop = function (editor) {\n      return editor.getParam('block_unsupported_drop', true, 'boolean');\n    };\n    var isVisualAidsEnabled = function (editor) {\n      return editor.getParam('visual', true, 'boolean');\n    };\n    var getVisualAidsTableClass = function (editor) {\n      return editor.getParam('visual_table_class', 'mce-item-table', 'string');\n    };\n    var getVisualAidsAnchorClass = function (editor) {\n      return editor.getParam('visual_anchor_class', 'mce-item-anchor', 'string');\n    };\n\n    var isElement$4 = isElement$1;\n    var isText$6 = isText$1;\n    var removeNode = function (node) {\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    var trimCount = function (text) {\n      var trimmedText = trim$2(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    var deleteZwspChars = function (caretContainer) {\n      var idx;\n      while ((idx = caretContainer.data.lastIndexOf(ZWSP)) !== -1) {\n        caretContainer.deleteData(idx, 1);\n      }\n    };\n    var removeUnchanged = function (caretContainer, pos) {\n      remove$5(caretContainer);\n      return pos;\n    };\n    var removeTextAndReposition = function (caretContainer, pos) {\n      var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      var after = trimCount(caretContainer.data.substr(pos.offset()));\n      var text = before.text + after.text;\n      if (text.length > 0) {\n        deleteZwspChars(caretContainer);\n        return CaretPosition(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    var removeElementAndReposition = function (caretContainer, pos) {\n      var parentNode = pos.container();\n      var newPosition = indexOf(from$1(parentNode.childNodes), caretContainer).map(function (index) {\n        return index < pos.offset() ? CaretPosition(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$5(caretContainer);\n      return newPosition;\n    };\n    var removeTextCaretContainer = function (caretContainer, pos) {\n      return isText$6(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeElementCaretContainer = function (caretContainer, pos) {\n      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeAndReposition = function (container, pos) {\n      return CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    };\n    var remove$5 = function (caretContainerNode) {\n      if (isElement$4(caretContainerNode) && isCaretContainer(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode(caretContainerNode);\n        }\n      }\n      if (isText$6(caretContainerNode)) {\n        deleteZwspChars(caretContainerNode);\n        if (caretContainerNode.data.length === 0) {\n          removeNode(caretContainerNode);\n        }\n      }\n    };\n\n    var browser$2 = detect$3().browser;\n    var isContentEditableFalse$3 = isContentEditableFalse;\n    var isMedia$1 = isMedia;\n    var isTableCell$2 = isTableCell;\n    var inlineFakeCaretSelector = '*[contentEditable=false],video,audio,embed,object';\n    var getAbsoluteClientRect = function (root, element, before) {\n      var clientRect = collapse(element.getBoundingClientRect(), before);\n      var docElm, scrollX, scrollY, margin, rootRect;\n      if (root.tagName === 'BODY') {\n        docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    var trimInlineCaretContainers = function (root) {\n      var fakeCaretTargetNodes = descendants$1(SugarElement.fromDom(root), inlineFakeCaretSelector);\n      for (var i = 0; i < fakeCaretTargetNodes.length; i++) {\n        var node = fakeCaretTargetNodes[i].dom;\n        var sibling = node.previousSibling;\n        if (endsWithCaretContainer(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    var FakeCaret = function (editor, root, isBlock, hasFocus) {\n      var lastVisualCaret = Cell(Optional.none());\n      var cursorInterval, caretContainerNode;\n      var rootBlock = getForcedRootBlock(editor);\n      var caretBlock = rootBlock.length > 0 ? rootBlock : 'p';\n      var show = function (before, element) {\n        var clientRect, rng;\n        hide();\n        if (isTableCell$2(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          caretContainerNode = insertBlock(caretBlock, element, before);\n          clientRect = getAbsoluteClientRect(root, element, before);\n          DomQuery(caretContainerNode).css('top', clientRect.top);\n          var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(clientRect).appendTo(root)[0];\n          lastVisualCaret.set(Optional.some({\n            caret: caret,\n            element: element,\n            before: before\n          }));\n          lastVisualCaret.get().each(function (caretState) {\n            if (before) {\n              DomQuery(caretState.caret).addClass('mce-visual-caret-before');\n            }\n          });\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          caretContainerNode = insertInline(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isInlineFakeCaretTarget(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      var hide = function () {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          remove$5(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.get().each(function (caretState) {\n          DomQuery(caretState.caret).remove();\n          lastVisualCaret.set(Optional.none());\n        });\n        if (cursorInterval) {\n          Delay.clearInterval(cursorInterval);\n          cursorInterval = null;\n        }\n      };\n      var startBlink = function () {\n        cursorInterval = Delay.setInterval(function () {\n          if (hasFocus()) {\n            DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n          } else {\n            DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n          }\n        }, 500);\n      };\n      var reposition = function () {\n        lastVisualCaret.get().each(function (caretState) {\n          var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          DomQuery(caretState.caret).css(__assign({}, clientRect));\n        });\n      };\n      var destroy = function () {\n        return Delay.clearInterval(cursorInterval);\n      };\n      var getCss = function () {\n        return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      };\n      return {\n        show: show,\n        hide: hide,\n        getCss: getCss,\n        reposition: reposition,\n        destroy: destroy\n      };\n    };\n    var isFakeCaretTableBrowser = function () {\n      return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\n    };\n    var isInlineFakeCaretTarget = function (node) {\n      return isContentEditableFalse$3(node) || isMedia$1(node);\n    };\n    var isFakeCaretTarget = function (node) {\n      return isInlineFakeCaretTarget(node) || isTable(node) && isFakeCaretTableBrowser();\n    };\n\n    var isContentEditableFalse$4 = isContentEditableFalse;\n    var isMedia$2 = isMedia;\n    var isBlockLike = matchStyleValues('display', 'block table table-cell table-caption list-item');\n    var isCaretContainer$2 = isCaretContainer;\n    var isCaretContainerBlock$1 = isCaretContainerBlock;\n    var isElement$5 = isElement$1;\n    var isCaretCandidate$2 = isCaretCandidate;\n    var isForwards = function (direction) {\n      return direction > 0;\n    };\n    var isBackwards = function (direction) {\n      return direction < 0;\n    };\n    var skipCaretContainers = function (walk, shallow) {\n      var node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock$1(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    var findNode = function (node, direction, predicateFn, rootNode, shallow) {\n      var walker = new DomTreeWalker(node, rootNode);\n      var isCefOrCaretContainer = isContentEditableFalse$4(node) || isCaretContainerBlock$1(node);\n      if (isBackwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.prev.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.prev.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.next.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.next.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var getParentBlock = function (node, rootNode) {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\n      return getParentBlock(caretPosition1.container(), rootNode) === getParentBlock(caretPosition2.container(), rootNode);\n    };\n    var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\n      if (!caretPosition) {\n        return null;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (!isElement$5(container)) {\n        return null;\n      }\n      return container.childNodes[offset + relativeOffset];\n    };\n    var beforeAfter = function (before, node) {\n      var range = node.ownerDocument.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    var isNodesInSameBlock = function (root, node1, node2) {\n      return getParentBlock(node1, root) === getParentBlock(node2, root);\n    };\n    var lean = function (left, root, node) {\n      var sibling, siblingName;\n      if (left) {\n        siblingName = 'previousSibling';\n      } else {\n        siblingName = 'nextSibling';\n      }\n      while (node && node !== root) {\n        sibling = node[siblingName];\n        if (isCaretContainer$2(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$4(sibling) || isMedia$2(sibling)) {\n          if (isNodesInSameBlock(root, sibling, node)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$2(sibling)) {\n          break;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var before$2 = curry(beforeAfter, true);\n    var after$1 = curry(beforeAfter, false);\n    var normalizeRange = function (direction, root, range) {\n      var node, container, location;\n      var leanLeft = curry(lean, true, root);\n      var leanRight = curry(lean, false, root);\n      container = range.startContainer;\n      var offset = range.startOffset;\n      if (isCaretContainerBlock(container)) {\n        if (!isElement$5(container)) {\n          container = container.parentNode;\n        }\n        location = container.getAttribute('data-mce-caret');\n        if (location === 'before') {\n          node = container.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location === 'after') {\n          node = container.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$1(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (isText$1(container)) {\n        if (isCaretContainer$2(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$1(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    var getRelativeCefElm = function (forward, caretPosition) {\n      return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$4);\n    };\n    var getNormalizedRangeEndPoint = function (direction, root, range) {\n      var normalizedRange = normalizeRange(direction, root, range);\n      if (direction === -1) {\n        return CaretPosition.fromRangeStart(normalizedRange);\n      }\n      return CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    var getElementFromPosition = function (pos) {\n      return Optional.from(pos.getNode()).map(SugarElement.fromDom);\n    };\n    var getElementFromPrevPosition = function (pos) {\n      return Optional.from(pos.getNode(true)).map(SugarElement.fromDom);\n    };\n    var getVisualCaretPosition = function (walkFn, caretPosition) {\n      while (caretPosition = walkFn(caretPosition)) {\n        if (caretPosition.isVisible()) {\n          return caretPosition;\n        }\n      }\n      return caretPosition;\n    };\n    var isMoveInsideSameBlock = function (from, to) {\n      var inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && isBr(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    var isContentEditableFalse$5 = isContentEditableFalse;\n    var isText$7 = isText$1;\n    var isElement$6 = isElement$1;\n    var isBr$4 = isBr;\n    var isCaretCandidate$3 = isCaretCandidate;\n    var isAtomic$1 = isAtomic;\n    var isEditableCaretCandidate$1 = isEditableCaretCandidate;\n    var getParents = function (node, root) {\n      var parents = [];\n      while (node && node !== root) {\n        parents.push(node);\n        node = node.parentNode;\n      }\n      return parents;\n    };\n    var nodeAtIndex = function (container, offset) {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    var getCaretCandidatePosition = function (direction, node) {\n      if (isForwards(direction)) {\n        if (isCaretCandidate$3(node.previousSibling) && !isText$7(node.previousSibling)) {\n          return CaretPosition.before(node);\n        }\n        if (isText$7(node)) {\n          return CaretPosition(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate$3(node.nextSibling) && !isText$7(node.nextSibling)) {\n          return CaretPosition.after(node);\n        }\n        if (isText$7(node)) {\n          return CaretPosition(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$4(node)) {\n          return CaretPosition.before(node);\n        }\n        return CaretPosition.after(node);\n      }\n      return CaretPosition.before(node);\n    };\n    var moveForwardFromBr = function (root, nextNode) {\n      var nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate$3(nextSibling)) {\n        if (isText$7(nextSibling)) {\n          return CaretPosition(nextSibling, 0);\n        } else {\n          return CaretPosition.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition(HDirection.Forwards, CaretPosition.after(nextNode), root);\n      }\n    };\n    var findCaretPosition = function (direction, startPos, root) {\n      var node, nextNode, innerNode;\n      var caretPosition;\n      if (!isElement$6(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate$3(root.lastChild) && isElement$6(root.lastChild)) {\n          return isBr$4(root.lastChild) ? CaretPosition.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$7(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate$3(nextNode)) {\n            if (!isAtomic$1(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n              if (innerNode) {\n                if (isText$7(innerNode)) {\n                  return CaretPosition(innerNode, innerNode.data.length);\n                }\n                return CaretPosition.after(innerNode);\n              }\n            }\n            if (isText$7(nextNode)) {\n              return CaretPosition(nextNode, nextNode.data.length);\n            }\n            return CaretPosition.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate$3(nextNode)) {\n            if (isBr$4(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic$1(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n              if (innerNode) {\n                if (isText$7(innerNode)) {\n                  return CaretPosition(innerNode, 0);\n                }\n                return CaretPosition.before(innerNode);\n              }\n            }\n            if (isText$7(nextNode)) {\n              return CaretPosition(nextNode, 0);\n            }\n            return CaretPosition.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n        node = findNode(node, direction, always, root, true);\n        if (isEditableCaretCandidate$1(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = findNode(node, direction, isEditableCaretCandidate$1, root);\n      var rootContentEditableFalseElm = last$1(filter(getParents(container, root), isContentEditableFalse$5));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    var CaretWalker = function (root) {\n      return {\n        next: function (caretPosition) {\n          return findCaretPosition(HDirection.Forwards, caretPosition, root);\n        },\n        prev: function (caretPosition) {\n          return findCaretPosition(HDirection.Backwards, caretPosition, root);\n        }\n      };\n    };\n\n    var walkToPositionIn = function (forward, root, start) {\n      var position = forward ? CaretPosition.before(start) : CaretPosition.after(start);\n      return fromPosition(forward, root, position);\n    };\n    var afterElement = function (node) {\n      return isBr(node) ? CaretPosition.before(node) : CaretPosition.after(node);\n    };\n    var isBeforeOrStart = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate(position.getNode());\n      }\n    };\n    var isAfterOrEnd = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        var container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate(position.getNode(true));\n      }\n    };\n    var isBeforeAfterSameElement = function (from, to) {\n      return !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);\n    };\n    var isAtBr = function (position) {\n      return !CaretPosition.isTextPosition(position) && isBr(position.getNode());\n    };\n    var shouldSkipPosition = function (forward, from, to) {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    var fromPosition = function (forward, root, pos) {\n      var walker = CaretWalker(root);\n      return Optional.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    var navigate = function (forward, root, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n          return fromPosition(forward, root, to);\n        } else {\n          return Optional.some(to);\n        }\n      });\n    };\n    var navigateIgnore = function (forward, root, from, ignoreFilter) {\n      return navigate(forward, root, from).bind(function (pos) {\n        return ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Optional.some(pos);\n      });\n    };\n    var positionIn = function (forward, element) {\n      var startNode = forward ? element.firstChild : element.lastChild;\n      if (isText$1(startNode)) {\n        return Optional.some(CaretPosition(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate(startNode)) {\n          return Optional.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var nextPosition = curry(fromPosition, true);\n    var prevPosition = curry(fromPosition, false);\n    var firstPositionIn = curry(positionIn, true);\n    var lastPositionIn = curry(positionIn, false);\n\n    var CARET_ID = '_mce_caret';\n    var isCaretNode = function (node) {\n      return isElement$1(node) && node.id === CARET_ID;\n    };\n    var getParentCaretContainer = function (body, node) {\n      while (node && node !== body) {\n        if (node.id === CARET_ID) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isStringPathBookmark = function (bookmark) {\n      return isString(bookmark.start);\n    };\n    var isRangeBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('rng');\n    };\n    var isIdBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('id');\n    };\n    var isIndexBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('name');\n    };\n    var isPathBookmark = function (bookmark) {\n      return Tools.isArray(bookmark.start);\n    };\n\n    var addBogus = function (dom, node) {\n      if (isElement$1(node) && dom.isBlock(node) && !node.innerHTML && !Env.ie) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    var resolveCaretPositionBookmark = function (dom, bookmark) {\n      var pos;\n      var rng = dom.createRng();\n      pos = resolve$1(dom.getRoot(), bookmark.start);\n      rng.setStart(pos.container(), pos.offset());\n      pos = resolve$1(dom.getRoot(), bookmark.end);\n      rng.setEnd(pos.container(), pos.offset());\n      return rng;\n    };\n    var insertZwsp = function (node, rng) {\n      var textNode = node.ownerDocument.createTextNode(ZWSP);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    var isEmpty$1 = function (node) {\n      return node.hasChildNodes() === false;\n    };\n    var tryFindRangePosition = function (node, rng) {\n      return lastPositionIn(node).fold(never, function (pos) {\n        rng.setStart(pos.container(), pos.offset());\n        rng.setEnd(pos.container(), pos.offset());\n        return true;\n      });\n    };\n    var padEmptyCaretContainer = function (root, node, rng) {\n      if (isEmpty$1(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var setEndPoint = function (dom, start, bookmark, rng) {\n      var point = bookmark[start ? 'start' : 'end'];\n      var i, node, offset, children;\n      var root = dom.getRoot();\n      if (point) {\n        offset = point[0];\n        for (node = root, i = point.length - 1; i >= 1; i--) {\n          children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (node.nodeType === 3) {\n          offset = Math.min(point[0], node.nodeValue.length);\n        }\n        if (node.nodeType === 1) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    var isValidTextNode = function (node) {\n      return isText$1(node) && node.data.length > 0;\n    };\n    var restoreEndPoint = function (dom, suffix, bookmark) {\n      var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n      var keep = bookmark.keep;\n      var container, offset;\n      if (marker) {\n        node = marker.parentNode;\n        if (suffix === 'start') {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              node = marker.nextSibling;\n              idx = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker) + 1;\n            }\n          }\n          container = node;\n          offset = idx;\n        } else {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker);\n            }\n          }\n          container = node;\n          offset = idx;\n        }\n        if (!keep) {\n          prev = marker.previousSibling;\n          next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), function (node) {\n            if (isText$1(node)) {\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n            }\n          });\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(marker, true);\n          }\n          if (prev && next && prev.nodeType === next.nodeType && isText$1(prev) && !Env.opera) {\n            idx = prev.nodeValue.length;\n            prev.appendData(next.nodeValue);\n            dom.remove(next);\n            container = prev;\n            offset = idx;\n          }\n        }\n        return Optional.some(CaretPosition(container, offset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolvePaths = function (dom, bookmark) {\n      var rng = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n        return Optional.some(rng);\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolveId = function (dom, bookmark) {\n      var startPos = restoreEndPoint(dom, 'start', bookmark);\n      var endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), function (spos, epos) {\n        var rng = dom.createRng();\n        rng.setStart(addBogus(dom, spos.container()), spos.offset());\n        rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return rng;\n      });\n    };\n    var resolveIndex$1 = function (dom, bookmark) {\n      return Optional.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n        var rng = dom.createRng();\n        rng.selectNode(elm);\n        return rng;\n      });\n    };\n    var resolve$2 = function (selection, bookmark) {\n      var dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return Optional.some(resolveCaretPositionBookmark(dom, bookmark));\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex$1(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Optional.some(bookmark.rng);\n        }\n      }\n      return Optional.none();\n    };\n\n    var getBookmark$1 = function (selection, type, normalized) {\n      return getBookmark(selection, type, normalized);\n    };\n    var moveToBookmark = function (selection, bookmark) {\n      resolve$2(selection, bookmark).each(function (rng) {\n        selection.setRng(rng);\n      });\n    };\n    var isBookmarkNode$1 = function (node) {\n      return isElement$1(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n\n    var is$2 = function (expected) {\n      return function (actual) {\n        return expected === actual;\n      };\n    };\n    var isNbsp = is$2(nbsp);\n    var isWhiteSpace$1 = function (chr) {\n      return chr !== '' && ' \\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n    var isContent$1 = function (chr) {\n      return !isWhiteSpace$1(chr) && !isNbsp(chr);\n    };\n\n    var isNode = function (node) {\n      return !!node.nodeType;\n    };\n    var isInlineBlock = function (node) {\n      return node && /^(IMG)$/.test(node.nodeName);\n    };\n    var moveStart = function (dom, selection, rng) {\n      var offset = rng.startOffset;\n      var container = rng.startContainer, walker, node, nodes;\n      if (rng.startContainer === rng.endContainer) {\n        if (isInlineBlock(rng.startContainer.childNodes[rng.startOffset])) {\n          return;\n        }\n      }\n      if (container.nodeType === 1) {\n        nodes = container.childNodes;\n        if (offset < nodes.length) {\n          container = nodes[offset];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n        } else {\n          container = nodes[nodes.length - 1];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n          walker.next(true);\n        }\n        for (node = walker.current(); node; node = walker.next()) {\n          if (node.nodeType === 3 && !isWhiteSpaceNode(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    var getNonWhiteSpaceSibling = function (node, next, inc) {\n      if (node) {\n        var nextName = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[nextName]; node; node = node[nextName]) {\n          if (node.nodeType === 1 || !isWhiteSpaceNode(node)) {\n            return node;\n          }\n        }\n      }\n    };\n    var isTextBlock$1 = function (editor, name) {\n      if (isNode(name)) {\n        name = name.nodeName;\n      }\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n    };\n    var isValid = function (ed, parent, child) {\n      return ed.schema.isValidChild(parent, child);\n    };\n    var isWhiteSpaceNode = function (node, allowSpaces) {\n      if (allowSpaces === void 0) {\n        allowSpaces = false;\n      }\n      if (isNonNullable(node) && isText$1(node)) {\n        var data = allowSpaces ? node.data.replace(/ /g, '\\xA0') : node.data;\n        return isWhitespaceText(data);\n      } else {\n        return false;\n      }\n    };\n    var isEmptyTextNode = function (node) {\n      return isNonNullable(node) && isText$1(node) && node.length === 0;\n    };\n    var replaceVars = function (value, vars) {\n      if (typeof value !== 'string') {\n        value = value(vars);\n      } else if (vars) {\n        value = value.replace(/%(\\w+)/g, function (str, name) {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    var isEq = function (str1, str2) {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    var normalizeStyleValue = function (dom, value, name) {\n      if (name === 'color' || name === 'backgroundColor') {\n        value = dom.toHex(value);\n      }\n      if (name === 'fontWeight' && value === 700) {\n        value = 'bold';\n      }\n      if (name === 'fontFamily') {\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n      }\n      return '' + value;\n    };\n    var getStyle = function (dom, node, name) {\n      return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n    };\n    var getTextDecoration = function (dom, node) {\n      var decoration;\n      dom.getParent(node, function (n) {\n        decoration = dom.getStyle(n, 'text-decoration');\n        return decoration && decoration !== 'none';\n      });\n      return decoration;\n    };\n    var getParents$1 = function (dom, node, selector) {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    var isVariableFormatName = function (editor, formatName) {\n      var hasVariableValues = function (format) {\n        var isVariableValue = function (val) {\n          return val.length > 1 && val.charAt(0) === '%';\n        };\n        return exists([\n          'styles',\n          'attributes'\n        ], function (key) {\n          return get$1(format, key).exists(function (field) {\n            var fieldValues = isArray(field) ? field : values(field);\n            return exists(fieldValues, isVariableValue);\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), hasVariableValues);\n    };\n    var areSimilarFormats = function (editor, formatName, otherFormatName) {\n      var validKeys = [\n        'inline',\n        'block',\n        'selector',\n        'attributes',\n        'styles',\n        'classes'\n      ];\n      var filterObj = function (format) {\n        return filter$1(format, function (_, key) {\n          return exists(validKeys, function (validKey) {\n            return validKey === key;\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), function (fmt1) {\n        var filteredFmt1 = filterObj(fmt1);\n        return exists(editor.formatter.get(otherFormatName), function (fmt2) {\n          var filteredFmt2 = filterObj(fmt2);\n          return equal(filteredFmt1, filteredFmt2);\n        });\n      });\n    };\n    var isBlockFormat = function (format) {\n      return hasNonNullableKey(format, 'block');\n    };\n    var isSelectorFormat = function (format) {\n      return hasNonNullableKey(format, 'selector');\n    };\n    var isInlineFormat = function (format) {\n      return hasNonNullableKey(format, 'inline');\n    };\n    var hasBlockChildren = function (dom, elm) {\n      return exists(elm.childNodes, dom.isBlock);\n    };\n\n    var isBookmarkNode$2 = isBookmarkNode$1;\n    var getParents$2 = getParents$1;\n    var isWhiteSpaceNode$1 = isWhiteSpaceNode;\n    var isTextBlock$2 = isTextBlock$1;\n    var isBogusBr = function (node) {\n      return isBr(node) && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    var findParentContentEditable = function (dom, node) {\n      var parent = node;\n      while (parent) {\n        if (isElement$1(parent) && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    var walkText = function (start, node, offset, predicate) {\n      var str = node.data;\n      for (var i = offset; start ? i >= 0 : i < str.length; start ? i-- : i++) {\n        if (predicate(str.charAt(i))) {\n          return start ? i + 1 : i;\n        }\n      }\n      return -1;\n    };\n    var findSpace = function (start, node, offset) {\n      return walkText(start, node, offset, function (c) {\n        return isNbsp(c) || isWhiteSpace$1(c);\n      });\n    };\n    var findContent = function (start, node, offset) {\n      return walkText(start, node, offset, isContent$1);\n    };\n    var findWordEndPoint = function (dom, body, container, offset, start, includeTrailingSpaces) {\n      var lastTextNode;\n      var rootNode = dom.getParent(container, dom.isBlock) || body;\n      var walk = function (container, offset, pred) {\n        var textSeeker = TextSeeker(dom);\n        var walker = start ? textSeeker.backwards : textSeeker.forwards;\n        return Optional.from(walker(container, offset, function (text, textOffset) {\n          if (isBookmarkNode$2(text.parentNode)) {\n            return -1;\n          } else {\n            lastTextNode = text;\n            return pred(start, text, textOffset);\n          }\n        }, rootNode));\n      };\n      var spaceResult = walk(container, offset, findSpace);\n      return spaceResult.bind(function (result) {\n        return includeTrailingSpaces ? walk(result.container, result.offset + (start ? -1 : 0), findContent) : Optional.some(result);\n      }).orThunk(function () {\n        return lastTextNode ? Optional.some({\n          container: lastTextNode,\n          offset: start ? 0 : lastTextNode.length\n        }) : Optional.none();\n      });\n    };\n    var findSelectorEndPoint = function (dom, format, rng, container, siblingName) {\n      if (isText$1(container) && container.nodeValue.length === 0 && container[siblingName]) {\n        container = container[siblingName];\n      }\n      var parents = getParents$2(dom, container);\n      for (var i = 0; i < parents.length; i++) {\n        for (var y = 0; y < format.length; y++) {\n          var curFormat = format[y];\n          if ('collapsed' in curFormat && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    var findBlockEndPoint = function (editor, format, container, siblingName) {\n      var node;\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      if (!format[0].wrapper) {\n        node = dom.getParent(container, format[0].block, root);\n      }\n      if (!node) {\n        var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n        node = dom.getParent(isText$1(container) ? container.parentNode : container, function (node) {\n          return node !== root && isTextBlock$2(editor, node);\n        }, scopeRoot);\n      }\n      if (node && format[0].wrapper) {\n        node = getParents$2(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (isEq(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    var isAtBlockBoundary = function (dom, root, container, siblingName) {\n      var parent = container.parentNode;\n      if (isNonNullable(container[siblingName])) {\n        return false;\n      } else if (parent === root || isNullable(parent) || dom.isBlock(parent)) {\n        return true;\n      } else {\n        return isAtBlockBoundary(dom, root, parent, siblingName);\n      }\n    };\n    var findParentContainer = function (dom, format, container, offset, start) {\n      var parent = container;\n      var sibling;\n      var siblingName = start ? 'previousSibling' : 'nextSibling';\n      var root = dom.getRoot();\n      if (isText$1(container) && !isWhiteSpaceNode$1(container)) {\n        if (start ? offset > 0 : offset < container.data.length) {\n          return container;\n        }\n      }\n      while (true) {\n        if (!format[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          var allowSpaces = isText$1(sibling) && !isAtBlockBoundary(dom, root, sibling, siblingName);\n          if (!isBookmarkNode$2(sibling) && !isBogusBr(sibling) && !isWhiteSpaceNode$1(sibling, allowSpaces)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    var isSelfOrParentBookmark = function (container) {\n      return isBookmarkNode$2(container.parentNode) || isBookmarkNode$2(container);\n    };\n    var expandRng = function (editor, rng, format, includeTrailingSpace) {\n      if (includeTrailingSpace === void 0) {\n        includeTrailingSpace = false;\n      }\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      var dom = editor.dom;\n      if (isElement$1(startContainer) && startContainer.hasChildNodes()) {\n        startContainer = getNode(startContainer, startOffset);\n        if (isText$1(startContainer)) {\n          startOffset = 0;\n        }\n      }\n      if (isElement$1(endContainer) && endContainer.hasChildNodes()) {\n        endContainer = getNode(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (isText$1(endContainer)) {\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isSelfOrParentBookmark(startContainer)) {\n        startContainer = isBookmarkNode$2(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (isText$1(startContainer)) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isSelfOrParentBookmark(endContainer)) {\n        endContainer = isBookmarkNode$2(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (isText$1(endContainer)) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        var startPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, includeTrailingSpace);\n        startPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          startContainer = container;\n          startOffset = offset;\n        });\n        var endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, includeTrailingSpace);\n        endPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          endContainer = container;\n          endOffset = offset;\n        });\n      }\n      if (format[0].inline || format[0].block_expand) {\n        if (!format[0].inline || (!isText$1(startContainer) || startOffset === 0)) {\n          startContainer = findParentContainer(dom, format, startContainer, startOffset, true);\n        }\n        if (!format[0].inline || (!isText$1(endContainer) || endOffset === endContainer.nodeValue.length)) {\n          endContainer = findParentContainer(dom, format, endContainer, endOffset, false);\n        }\n      }\n      if (format[0].selector && format[0].expand !== false && !format[0].inline) {\n        startContainer = findSelectorEndPoint(dom, format, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, format, rng, endContainer, 'nextSibling');\n      }\n      if (format[0].block || format[0].selector) {\n        startContainer = findBlockEndPoint(editor, format, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(editor, format, endContainer, 'nextSibling');\n        if (format[0].block) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, format, startContainer, startOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, format, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (isElement$1(startContainer)) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (isElement$1(endContainer)) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var clampToExistingChildren = function (container, index) {\n      var childNodes = container.childNodes;\n      if (index >= childNodes.length) {\n        index = childNodes.length - 1;\n      } else if (index < 0) {\n        index = 0;\n      }\n      return childNodes[index] || container;\n    };\n    var getEndChild = function (container, index) {\n      return clampToExistingChildren(container, index - 1);\n    };\n    var walk$1 = function (dom, rng, callback) {\n      var startContainer = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endContainer = rng.endContainer;\n      var endOffset = rng.endOffset;\n      var exclude = function (nodes) {\n        var node;\n        node = nodes[0];\n        if (node.nodeType === 3 && node === startContainer && startOffset >= node.nodeValue.length) {\n          nodes.splice(0, 1);\n        }\n        node = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && node === endContainer && node.nodeType === 3) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      var collectSiblings = function (node, name, endNode) {\n        var siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      var findEndPoint = function (node, root) {\n        do {\n          if (node.parentNode === root) {\n            return node;\n          }\n          node = node.parentNode;\n        } while (node);\n      };\n      var walkBoundary = function (startNode, endNode, next) {\n        var siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (var node = startNode, parent_1 = node.parentNode; node && node !== endNode; node = parent_1) {\n          parent_1 = node.parentNode;\n          var siblings_1 = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings_1.length) {\n            if (!next) {\n              siblings_1.reverse();\n            }\n            callback(exclude(siblings_1));\n          }\n        }\n      };\n      if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n        startContainer = clampToExistingChildren(startContainer, startOffset);\n      }\n      if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n        endContainer = getEndChild(endContainer, endOffset);\n      }\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      var ancestor = dom.findCommonAncestor(startContainer, endContainer);\n      for (var node = startContainer; node; node = node.parentNode) {\n        if (node === endContainer) {\n          return walkBoundary(startContainer, ancestor, true);\n        }\n        if (node === ancestor) {\n          break;\n        }\n      }\n      for (var node = endContainer; node; node = node.parentNode) {\n        if (node === startContainer) {\n          return walkBoundary(endContainer, ancestor);\n        }\n        if (node === ancestor) {\n          break;\n        }\n      }\n      var startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      var endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      var siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n\n    var getRanges = function (selection) {\n      var ranges = [];\n      if (selection) {\n        for (var i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    var getSelectedNodes = function (ranges) {\n      return bind(ranges, function (range) {\n        var node = getSelectedNode(range);\n        return node ? [SugarElement.fromDom(node)] : [];\n      });\n    };\n    var hasMultipleRanges = function (selection) {\n      return getRanges(selection).length > 1;\n    };\n\n    var getCellsFromRanges = function (ranges) {\n      return filter(getSelectedNodes(ranges), isTableCell$1);\n    };\n    var getCellsFromElement = function (elm) {\n      return descendants$1(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    };\n    var getCellsFromElementOrRanges = function (ranges, element) {\n      var selectedCells = getCellsFromElement(element);\n      return selectedCells.length > 0 ? selectedCells : getCellsFromRanges(ranges);\n    };\n    var getCellsFromEditor = function (editor) {\n      return getCellsFromElementOrRanges(getRanges(editor.selection.getSel()), SugarElement.fromDom(editor.getBody()));\n    };\n\n    var getStartNode = function (rng) {\n      var sc = rng.startContainer, so = rng.startOffset;\n      if (isText$1(sc)) {\n        return so === 0 ? Optional.some(SugarElement.fromDom(sc)) : Optional.none();\n      } else {\n        return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);\n      }\n    };\n    var getEndNode = function (rng) {\n      var ec = rng.endContainer, eo = rng.endOffset;\n      if (isText$1(ec)) {\n        return eo === ec.data.length ? Optional.some(SugarElement.fromDom(ec)) : Optional.none();\n      } else {\n        return Optional.from(ec.childNodes[eo - 1]).map(SugarElement.fromDom);\n      }\n    };\n    var getFirstChildren = function (node) {\n      return firstChild(node).fold(constant([node]), function (child) {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    var getLastChildren = function (node) {\n      return lastChild(node).fold(constant([node]), function (child) {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(function (sibling) {\n            return [node].concat(getLastChildren(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren(child));\n        }\n      });\n    };\n    var hasAllContentsSelected = function (elm, rng) {\n      return lift2(getStartNode(rng), getEndNode(rng), function (startNode, endNode) {\n        var start = find(getFirstChildren(elm), curry(eq$2, startNode));\n        var end = find(getLastChildren(elm), curry(eq$2, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    var moveEndPoint$1 = function (dom, rng, node, start) {\n      var root = node, walker = new DomTreeWalker(node, root);\n      var moveCaretBeforeOnEnterElementsMap = filter$1(dom.schema.getMoveCaretBeforeOnEnterElements(), function (_, name) {\n        return !contains([\n          'td',\n          'th',\n          'table'\n        ], name.toLowerCase());\n      });\n      do {\n        if (isText$1(node) && Tools.trim(node.nodeValue).length !== 0) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, node.nodeValue.length);\n          }\n          return;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[node.nodeName]) {\n          if (start) {\n            rng.setStartBefore(node);\n          } else {\n            if (node.nodeName === 'BR') {\n              rng.setEndBefore(node);\n            } else {\n              rng.setEndAfter(node);\n            }\n          }\n          return;\n        }\n      } while (node = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    var hasAnyRanges = function (editor) {\n      var sel = editor.selection.getSel();\n      return sel && sel.rangeCount > 0;\n    };\n    var runOnRanges = function (editor, executor) {\n      var fakeSelectionNodes = getCellsFromEditor(editor);\n      if (fakeSelectionNodes.length > 0) {\n        each(fakeSelectionNodes, function (elem) {\n          var node = elem.dom;\n          var fakeNodeRng = editor.dom.createRng();\n          fakeNodeRng.setStartBefore(node);\n          fakeNodeRng.setEndAfter(node);\n          executor(fakeNodeRng, true);\n        });\n      } else {\n        executor(editor.selection.getRng(), false);\n      }\n    };\n    var preserve = function (selection, fillBookmark, executor) {\n      var bookmark = getPersistentBookmark(selection, fillBookmark);\n      executor(bookmark);\n      selection.moveToBookmark(bookmark);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText, 'text');\n    var get$8 = function (element) {\n      return api.get(element);\n    };\n\n    var isZeroWidth = function (elem) {\n      return isText(elem) && get$8(elem) === ZWSP;\n    };\n    var context = function (editor, elem, wrapName, nodeName) {\n      return parent(elem).fold(function () {\n        return 'skipping';\n      }, function (parent) {\n        if (nodeName === 'br' || isZeroWidth(elem)) {\n          return 'valid';\n        } else if (isAnnotation(elem)) {\n          return 'existing';\n        } else if (isCaretNode(elem.dom)) {\n          return 'caret';\n        } else if (!isValid(editor, wrapName, nodeName) || !isValid(editor, name(parent), wrapName)) {\n          return 'invalid-child';\n        } else {\n          return 'valid';\n        }\n      });\n    };\n\n    var applyWordGrab = function (editor, rng) {\n      var r = expandRng(editor, rng, [{ inline: true }]);\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\n      var _b = _a.uid, uid = _b === void 0 ? generate$1('mce-annotation') : _b, data = __rest(_a, ['uid']);\n      var master = SugarElement.fromTag('span', eDoc);\n      add$3(master, annotation());\n      set(master, '' + dataAnnotationId(), uid);\n      set(master, '' + dataAnnotation(), annotationName);\n      var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\n      setAll(master, attributes);\n      add$4(master, classes);\n      return master;\n    };\n    var annotate = function (editor, rng, annotationName, decorate, data) {\n      var newWrappers = [];\n      var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n      var wrapper = Cell(Optional.none());\n      var finishWrapper = function () {\n        wrapper.set(Optional.none());\n      };\n      var getOrOpenWrapper = function () {\n        return wrapper.get().getOrThunk(function () {\n          var nu = shallow(master);\n          newWrappers.push(nu);\n          wrapper.set(Optional.some(nu));\n          return nu;\n        });\n      };\n      var processElements = function (elems) {\n        each(elems, processElement);\n      };\n      var processElement = function (elem) {\n        var ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            var children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n        case 'valid': {\n            var w = getOrOpenWrapper();\n            wrap(elem, w);\n            break;\n          }\n        }\n      };\n      var processNodes = function (nodes) {\n        var elems = map(nodes, SugarElement.fromDom);\n        processElements(elems);\n      };\n      walk$1(editor.dom, rng, function (nodes) {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    var annotateWithBookmark = function (editor, name, settings, data) {\n      editor.undoManager.transact(function () {\n        var selection = editor.selection;\n        var initialRng = selection.getRng();\n        var hasFakeSelection = getCellsFromEditor(editor).length > 0;\n        if (initialRng.collapsed && !hasFakeSelection) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (selection.getRng().collapsed && !hasFakeSelection) {\n          var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n          set$1(wrapper, nbsp);\n          selection.getRng().insertNode(wrapper.dom);\n          selection.select(wrapper.dom);\n        } else {\n          preserve(selection, false, function () {\n            runOnRanges(editor, function (selectionRng) {\n              annotate(editor, selectionRng, name, settings.decorate, data);\n            });\n          });\n        }\n      });\n    };\n\n    var Annotator = function (editor) {\n      var registry = create$2();\n      setup$1(editor, registry);\n      var changes = setup(editor);\n      return {\n        register: function (name, settings) {\n          registry.register(name, settings);\n        },\n        annotate: function (name, data) {\n          registry.lookup(name).each(function (settings) {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: function (name, callback) {\n          changes.addListener(name, callback);\n        },\n        remove: function (name) {\n          identify(editor, Optional.some(name)).each(function (_a) {\n            var elements = _a.elements;\n            each(elements, unwrap);\n          });\n        },\n        getAll: function (name) {\n          var directory = findAll(editor, name);\n          return map$1(directory, function (elems) {\n            return map(elems, function (elem) {\n              return elem.dom;\n            });\n          });\n        }\n      };\n    };\n\n    var BookmarkManager = function (selection) {\n      return {\n        getBookmark: curry(getBookmark$1, selection),\n        moveToBookmark: curry(moveToBookmark, selection)\n      };\n    };\n    BookmarkManager.isBookmarkNode = isBookmarkNode$1;\n\n    var getContentEditableRoot = function (root, node) {\n      while (node && node !== root) {\n        if (isContentEditableTrue(node) || isContentEditableFalse(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isXYWithinRange = function (clientX, clientY, range) {\n      if (range.collapsed) {\n        return false;\n      }\n      if (Env.browser.isIE() && range.startOffset === range.endOffset - 1 && range.startContainer === range.endContainer) {\n        var elm = range.startContainer.childNodes[range.startOffset];\n        if (isElement$1(elm)) {\n          return exists(elm.getClientRects(), function (rect) {\n            return containsXY(rect, clientX, clientY);\n          });\n        }\n      }\n      return exists(range.getClientRects(), function (rect) {\n        return containsXY(rect, clientX, clientY);\n      });\n    };\n\n    var firePreProcess = function (editor, args) {\n      return editor.fire('PreProcess', args);\n    };\n    var firePostProcess = function (editor, args) {\n      return editor.fire('PostProcess', args);\n    };\n    var fireRemove = function (editor) {\n      return editor.fire('remove');\n    };\n    var fireDetach = function (editor) {\n      return editor.fire('detach');\n    };\n    var fireSwitchMode = function (editor, mode) {\n      return editor.fire('SwitchMode', { mode: mode });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var firePreInit = function (editor) {\n      return editor.fire('PreInit');\n    };\n    var firePostRender = function (editor) {\n      return editor.fire('PostRender');\n    };\n    var fireInit = function (editor) {\n      return editor.fire('Init');\n    };\n    var firePlaceholderToggle = function (editor, state) {\n      return editor.fire('PlaceholderToggle', { state: state });\n    };\n    var fireError = function (editor, errorType, error) {\n      return editor.fire(errorType, error);\n    };\n\n    var VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      PAGE_UP: 33,\n      PAGE_DOWN: 34,\n      END: 35,\n      HOME: 36,\n      modifierPressed: function (e) {\n        return e.shiftKey || e.ctrlKey || e.altKey || VK.metaKeyPressed(e);\n      },\n      metaKeyPressed: function (e) {\n        return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    var isContentEditableFalse$6 = isContentEditableFalse;\n    var ControlSelection = function (selection, editor) {\n      var elementSelectionAttr = 'data-mce-selected';\n      var dom = editor.dom, each$2 = Tools.each;\n      var selectedElm, selectedElmGhost, resizeHelper, selectedHandle, resizeBackdrop;\n      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      var width, height;\n      var editableDoc = editor.getDoc(), rootDocument = document;\n      var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\n      var startScrollWidth, startScrollHeight;\n      var resizeHandles = {\n        nw: [\n          0,\n          0,\n          -1,\n          -1\n        ],\n        ne: [\n          1,\n          0,\n          1,\n          -1\n        ],\n        se: [\n          1,\n          1,\n          1,\n          1\n        ],\n        sw: [\n          0,\n          1,\n          -1,\n          1\n        ]\n      };\n      var isImage = function (elm) {\n        return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n      };\n      var isMedia$1 = function (elm) {\n        return isMedia(elm) || dom.hasClass(elm, 'mce-preview-object');\n      };\n      var isEventOnImageOutsideRange = function (evt, range) {\n        if (evt.type === 'longpress' || evt.type.indexOf('touch') === 0) {\n          var touch = evt.touches[0];\n          return isImage(evt.target) && !isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      var contextMenuSelectImage = function (evt) {\n        var target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      var getResizeTargets = function (elm) {\n        if (dom.is(elm, 'figure.image')) {\n          return [elm.querySelector('img')];\n        } else if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return [\n            elm,\n            elm.firstElementChild\n          ];\n        } else {\n          return [elm];\n        }\n      };\n      var isResizable = function (elm) {\n        var selector = getObjectResizing(editor);\n        if (!selector) {\n          return false;\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        if (dom.hasClass(elm, 'mce-preview-object')) {\n          return is$1(SugarElement.fromDom(elm.firstElementChild), selector);\n        } else {\n          return is$1(SugarElement.fromDom(elm), selector);\n        }\n      };\n      var createGhostElement = function (elm) {\n        if (isMedia$1(elm)) {\n          return dom.create('img', { src: Env.transparentSrc });\n        } else {\n          return elm.cloneNode(true);\n        }\n      };\n      var setSizeProp = function (element, name, value) {\n        if (isNonNullable(value)) {\n          var targets = getResizeTargets(element);\n          each(targets, function (target) {\n            if (target.style[name] || !editor.schema.isValid(target.nodeName.toLowerCase(), name)) {\n              dom.setStyle(target, name, value);\n            } else {\n              dom.setAttrib(target, name, '' + value);\n            }\n          });\n        }\n      };\n      var setGhostElmSize = function (ghostElm, width, height) {\n        setSizeProp(ghostElm, 'width', width);\n        setSizeProp(ghostElm, 'height', height);\n      };\n      var resizeGhostElement = function (e) {\n        var deltaX, deltaY, proportional;\n        var resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if ((isImage(selectedElm) || isMedia$1(selectedElm)) && getResizeImgProportional(editor) !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e);\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round(width * ratio);\n            width = round(height / ratio);\n          } else {\n            width = round(height / ratio);\n            height = round(width * ratio);\n          }\n        }\n        setGhostElmSize(selectedElmGhost, width, height);\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          fireObjectResizeStart(editor, selectedElm, startW, startH, 'corner-' + selectedHandle.name);\n          resizeStarted = true;\n        }\n      };\n      var endGhostResize = function () {\n        var wasResizeStarted = resizeStarted;\n        resizeStarted = false;\n        if (wasResizeStarted) {\n          setSizeProp(selectedElm, 'width', width);\n          setSizeProp(selectedElm, 'height', height);\n        }\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        dom.remove(resizeBackdrop);\n        showResizeRect(selectedElm);\n        if (wasResizeStarted) {\n          fireObjectResized(editor, selectedElm, width, height, 'corner-' + selectedHandle.name);\n          dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        }\n        editor.nodeChanged();\n      };\n      var showResizeRect = function (targetElm) {\n        unbindResizeHandleEvents();\n        var position = dom.getPos(targetElm, rootElement);\n        var selectedElmX = position.x;\n        var selectedElmY = position.y;\n        var rect = targetElm.getBoundingClientRect();\n        var targetWidth = rect.width || rect.right - rect.left;\n        var targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          hideResizeRect();\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        var e = editor.fire('ObjectSelected', { target: targetElm });\n        var selectedValue = dom.getAttrib(selectedElm, elementSelectionAttr, '1');\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each$2(resizeHandles, function (handle, name) {\n            var handleElm;\n            var startDrag = function (e) {\n              var target = getResizeTargets(selectedElm)[0];\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = target.clientWidth;\n              startH = target.clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              selectedHandle.name = name;\n              selectedHandle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              resizeBackdrop = dom.add(rootElement, 'div', { class: 'mce-resize-backdrop' });\n              dom.setStyles(resizeBackdrop, {\n                position: 'fixed',\n                left: '0',\n                top: '0',\n                width: '100%',\n                height: '100%'\n              });\n              selectedElmGhost = createGhostElement(selectedElm);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = 'false';\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              setGhostElmSize(selectedElmGhost, targetWidth, targetHeight);\n              selectedElmGhost.removeAttribute(elementSelectionAttr);\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            if (Env.ie === 11) {\n              handleElm.contentEditable = false;\n            }\n            dom.bind(handleElm, 'mousedown', function (e) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect();\n        }\n        if (!dom.getAttrib(selectedElm, elementSelectionAttr)) {\n          selectedElm.setAttribute(elementSelectionAttr, selectedValue);\n        }\n      };\n      var hideResizeRect = function () {\n        unbindResizeHandleEvents();\n        if (selectedElm) {\n          selectedElm.removeAttribute(elementSelectionAttr);\n        }\n        each$1(resizeHandles, function (value, name) {\n          var handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        });\n      };\n      var updateResizeRect = function (e) {\n        var startElm, controlElm;\n        var isChildOrEqual = function (node, parent) {\n          if (node) {\n            do {\n              if (node === parent) {\n                return true;\n              }\n            } while (node = node.parentNode);\n          }\n        };\n        if (resizeStarted || editor.removed) {\n          return;\n        }\n        each$2(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n          img.removeAttribute(elementSelectionAttr);\n        });\n        controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        controlElm = dom.$(controlElm).closest('table,img,figure.image,hr,video,span.mce-preview-object')[0];\n        if (isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            showResizeRect(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      var isWithinContentEditableFalse = function (elm) {\n        return isContentEditableFalse$6(getContentEditableRoot(editor.getBody(), elm));\n      };\n      var unbindResizeHandleEvents = function () {\n        each$1(resizeHandles, function (handle) {\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        });\n      };\n      var disableGeckoResize = function () {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, 'false');\n        } catch (ex) {\n        }\n      };\n      editor.on('init', function () {\n        disableGeckoResize();\n        if (Env.browser.isIE() || Env.browser.isEdge()) {\n          editor.on('mousedown click', function (e) {\n            var target = e.target, nodeName = target.nodeName;\n            if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n              if (e.button !== 2) {\n                editor.selection.select(target, nodeName === 'TABLE');\n              }\n              if (e.type === 'mousedown') {\n                editor.nodeChanged();\n              }\n            }\n          });\n          var handleMSControlSelect_1 = function (e) {\n            var delayedSelect = function (node) {\n              Delay.setEditorTimeout(editor, function () {\n                return editor.selection.select(node);\n              });\n            };\n            if (isWithinContentEditableFalse(e.target) || isMedia(e.target)) {\n              e.preventDefault();\n              delayedSelect(e.target);\n              return;\n            }\n            if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n              e.preventDefault();\n              if (e.target.tagName === 'IMG') {\n                delayedSelect(e.target);\n              }\n            }\n          };\n          dom.bind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          editor.on('remove', function () {\n            return dom.unbind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          });\n        }\n        var throttledUpdateResizeRect = Delay.throttle(function (e) {\n          if (!editor.composing) {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged', throttledUpdateResizeRect);\n        editor.on('keyup compositionend', function (e) {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            throttledUpdateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      var destroy = function () {\n        selectedElm = selectedElmGhost = resizeBackdrop = null;\n      };\n      return {\n        isResizable: isResizable,\n        showResizeRect: showResizeRect,\n        hideResizeRect: hideResizeRect,\n        updateResizeRect: updateResizeRect,\n        destroy: destroy\n      };\n    };\n\n    var hasCeProperty = function (node) {\n      return isContentEditableTrue(node) || isContentEditableFalse(node);\n    };\n    var findParent = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var findClosestIeRange = function (clientX, clientY, doc) {\n      var rects;\n      var element = doc.elementFromPoint(clientX, clientY);\n      var rng = doc.body.createTextRange();\n      if (!element || element.tagName === 'HTML') {\n        element = doc.body;\n      }\n      rng.moveToElementText(element);\n      rects = Tools.toArray(rng.getClientRects());\n      rects = rects.sort(function (a, b) {\n        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n        return a - b;\n      });\n      if (rects.length > 0) {\n        clientY = (rects[0].bottom + rects[0].top) / 2;\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n          return rng;\n        } catch (ex) {\n        }\n      }\n      return null;\n    };\n    var moveOutOfContentEditableFalse = function (rng, rootNode) {\n      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n      return isContentEditableFalse(findParent(parentElement, rootNode, hasCeProperty)) ? null : rng;\n    };\n    var fromPoint$1 = function (clientX, clientY, doc) {\n      var rng, point;\n      var pointDoc = doc;\n      if (pointDoc.caretPositionFromPoint) {\n        point = pointDoc.caretPositionFromPoint(clientX, clientY);\n        if (point) {\n          rng = doc.createRange();\n          rng.setStart(point.offsetNode, point.offset);\n          rng.collapse(true);\n        }\n      } else if (doc.caretRangeFromPoint) {\n        rng = doc.caretRangeFromPoint(clientX, clientY);\n      } else if (pointDoc.body.createTextRange) {\n        rng = pointDoc.body.createTextRange();\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n        } catch (ex) {\n          rng = findClosestIeRange(clientX, clientY, doc);\n        }\n        return moveOutOfContentEditableFalse(rng, doc.body);\n      }\n      return rng;\n    };\n\n    var isEq$1 = function (rng1, rng2) {\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n\n    var findParent$1 = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var hasParent = function (node, rootNode, predicate) {\n      return findParent$1(node, rootNode, predicate) !== null;\n    };\n    var hasParentWithName = function (node, rootNode, name) {\n      return hasParent(node, rootNode, function (node) {\n        return node.nodeName === name;\n      });\n    };\n    var isTable$3 = function (node) {\n      return node && node.nodeName === 'TABLE';\n    };\n    var isTableCell$3 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var isCeFalseCaretContainer = function (node, rootNode) {\n      return isCaretContainer(node) && hasParent(node, rootNode, isCaretNode) === false;\n    };\n    var hasBrBeforeAfter = function (dom, node, left) {\n      var walker = new DomTreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (isBr(node)) {\n          return true;\n        }\n      }\n    };\n    var isPrevNode = function (node, name) {\n      return node.previousSibling && node.previousSibling.nodeName === name;\n    };\n    var hasContentEditableFalseParent = function (body, node) {\n      while (node && node !== body) {\n        if (isContentEditableFalse(node)) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\n      var lastInlineElement;\n      var body = dom.getRoot();\n      var node;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      var parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n      if (left && isBr(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Optional.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n      }\n      var walker = new DomTreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Optional.none();\n        }\n        if (isText$1(node) && node.nodeValue.length > 0) {\n          if (hasParentWithName(node, body, 'A') === false) {\n            return Optional.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n          }\n          return Optional.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Optional.none();\n        }\n        lastInlineElement = node;\n      }\n      if (collapsed && lastInlineElement) {\n        return Optional.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Optional.none();\n    };\n    var normalizeEndPoint = function (dom, collapsed, start, rng) {\n      var container, offset;\n      var body = dom.getRoot();\n      var node;\n      var directionLeft, normalized = false;\n      container = rng[(start ? 'start' : 'end') + 'Container'];\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\n      var isAfterNode = isElement$1(container) && offset === container.childNodes.length;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      directionLeft = start;\n      if (isCaretContainer(container)) {\n        return Optional.none();\n      }\n      if (isElement$1(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (isDocument$1(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer(node)) {\n              return Optional.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable$3(node)) {\n              return Optional.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = isText$1(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable$3(container)) {\n            return Optional.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer(container)) {\n            return Optional.none();\n          }\n          if (container.hasChildNodes() && isTable$3(container) === false) {\n            node = container;\n            var walker = new DomTreeWalker(container, body);\n            do {\n              if (isContentEditableFalse(node) || isCaretContainer(node)) {\n                normalized = false;\n                break;\n              }\n              if (isText$1(node) && node.nodeValue.length > 0) {\n                offset = directionLeft ? 0 : node.nodeValue.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$3(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (isText$1(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (isElement$1(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && isBr(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && isText$1(container) && offset === container.nodeValue.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized ? Optional.some(CaretPosition(container, offset)) : Optional.none();\n    };\n    var normalize = function (dom, rng) {\n      var collapsed = rng.collapsed, normRng = rng.cloneRange();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return isEq$1(rng, normRng) ? Optional.none() : Optional.some(normRng);\n    };\n\n    var splitText = function (node, offset) {\n      return node.splitText(offset);\n    };\n    var split$1 = function (rng) {\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && isText$1(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n            endOffset = endContainer.nodeValue.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (isText$1(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (isText$1(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n          endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var RangeUtils = function (dom) {\n      var walk = function (rng, callback) {\n        return walk$1(dom, rng, callback);\n      };\n      var split = split$1;\n      var normalize$1 = function (rng) {\n        return normalize(dom, rng).fold(never, function (normalizedRng) {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      return {\n        walk: walk,\n        split: split,\n        normalize: normalize$1\n      };\n    };\n    RangeUtils.compareRanges = isEq$1;\n    RangeUtils.getCaretRangeFromPoint = fromPoint$1;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode;\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$5(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$5(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api$1 = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$9 = function (element) {\n      return api$1.get(element);\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner$1 = function (element) {\n      return documentOrOwner(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$1\n    });\n\n    var find$2 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$2(doc);\n      var frames = pathTo(element, Navigation);\n      var offset = viewport(element);\n      var r = foldr(frames, function (b, a) {\n        var loc = viewport(a);\n        return {\n          left: b.left + loc.left,\n          top: b.top + loc.top\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n    };\n\n    var excludeFromDescend = function (element) {\n      return name(element) === 'textarea';\n    };\n    var fireScrollIntoViewEvent = function (editor, data) {\n      var scrollEvent = editor.fire('ScrollIntoView', data);\n      return scrollEvent.isDefaultPrevented();\n    };\n    var fireAfterScrollIntoViewEvent = function (editor, data) {\n      editor.fire('AfterScrollIntoView', data);\n    };\n    var descend = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0 || excludeFromDescend(element)) {\n        return {\n          element: element,\n          offset: offset\n        };\n      } else if (offset < children$1.length && !excludeFromDescend(children$1[offset])) {\n        return {\n          element: children$1[offset],\n          offset: 0\n        };\n      } else {\n        var last = children$1[children$1.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element: element,\n            offset: offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText(last)) {\n            return {\n              element: last,\n              offset: get$8(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children(last).length\n            };\n          }\n        }\n      }\n    };\n    var markerInfo = function (element, cleanupFun) {\n      var pos = absolute(element);\n      var height = get$9(element);\n      return {\n        element: element,\n        bottom: pos.top + height,\n        height: height,\n        pos: pos,\n        cleanup: cleanupFun\n      };\n    };\n    var createMarker = function (element, offset) {\n      var startPoint = descend(element, offset);\n      var span = SugarElement.fromHtml('<span data-mce-bogus=\"all\">' + ZWSP + '</span>');\n      before(startPoint.element, span);\n      return markerInfo(span, function () {\n        return remove(span);\n      });\n    };\n    var elementMarker = function (element) {\n      return markerInfo(SugarElement.fromDom(element), noop);\n    };\n    var withMarker = function (editor, f, rng, alignToTop) {\n      preserveWith(editor, function (_s, _e) {\n        return applyWithMarker(editor, f, rng, alignToTop);\n      }, rng);\n    };\n    var withScrollEvents = function (editor, doc, f, marker, alignToTop) {\n      var data = {\n        elm: marker.element.dom,\n        alignToTop: alignToTop\n      };\n      if (fireScrollIntoViewEvent(editor, data)) {\n        return;\n      }\n      var scrollTop = get$2(doc).top;\n      f(doc, scrollTop, marker, alignToTop);\n      fireAfterScrollIntoViewEvent(editor, data);\n    };\n    var applyWithMarker = function (editor, f, rng, alignToTop) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var doc = SugarElement.fromDom(editor.getDoc());\n      reflow(body);\n      var marker = createMarker(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      withScrollEvents(editor, doc, f, marker, alignToTop);\n      marker.cleanup();\n    };\n    var withElement = function (editor, element, f, alignToTop) {\n      var doc = SugarElement.fromDom(editor.getDoc());\n      withScrollEvents(editor, doc, f, elementMarker(element), alignToTop);\n    };\n    var preserveWith = function (editor, f, rng) {\n      var startElement = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endElement = rng.endContainer;\n      var endOffset = rng.endOffset;\n      f(SugarElement.fromDom(startElement), SugarElement.fromDom(endElement));\n      var newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    var scrollToMarker = function (marker, viewHeight, alignToTop, doc) {\n      var pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left, pos.top, doc);\n      } else {\n        var y = pos.top - viewHeight + marker.height;\n        to(pos.left, y, doc);\n      }\n    };\n    var intoWindowIfNeeded = function (doc, scrollTop, viewHeight, marker, alignToTop) {\n      var viewportBottom = viewHeight + scrollTop;\n      var markerTop = marker.pos.top;\n      var markerBottom = marker.bottom;\n      var largerThanViewport = markerBottom - markerTop >= viewHeight;\n      if (markerTop < scrollTop) {\n        scrollToMarker(marker, viewHeight, alignToTop !== false, doc);\n      } else if (markerTop > viewportBottom) {\n        var align = largerThanViewport ? alignToTop !== false : alignToTop === true;\n        scrollToMarker(marker, viewHeight, align, doc);\n      } else if (markerBottom > viewportBottom && !largerThanViewport) {\n        scrollToMarker(marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    var intoWindow = function (doc, scrollTop, marker, alignToTop) {\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    var intoFrame = function (doc, scrollTop, marker, alignToTop) {\n      var frameViewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n      var op = find$2(marker.element);\n      var viewportBounds = getBounds(window);\n      if (op.top < viewportBounds.y) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top > viewportBounds.bottom) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    var rangeIntoWindow = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoWindow, rng, alignToTop);\n    };\n    var elementIntoWindow = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoWindow, alignToTop);\n    };\n    var rangeIntoFrame = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoFrame, rng, alignToTop);\n    };\n    var elementIntoFrame = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoFrame, alignToTop);\n    };\n    var scrollElementIntoView = function (editor, element, alignToTop) {\n      var scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    var scrollRangeIntoView = function (editor, rng, alignToTop) {\n      var scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus = function (element) {\n      return element.dom.focus();\n    };\n    var hasFocus = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var create$4 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$4 };\n\n    var adt = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$3 = adt.before;\n    var on = adt.on;\n    var after$2 = adt.after;\n    var Situ = {\n      before: before$3,\n      on: on,\n      after: after$2,\n      cata: cata,\n      getStart: getStart\n    };\n\n    var adt$1 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$1.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$1.domRange;\n    var relative = adt$1.relative;\n    var exact = adt$1.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range\n    };\n\n    var browser$3 = detect$3().browser;\n    var clamp = function (offset, element) {\n      var max = isText(element) ? get$8(element).length : children(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    var normalizeRng = function (rng) {\n      return SimSelection.range(rng.start, clamp(rng.soffset, rng.start), rng.finish, clamp(rng.foffset, rng.finish));\n    };\n    var isOrContains = function (root, elm) {\n      return !isRestrictedNode(elm.dom) && (contains$2(root, elm) || eq$2(root, elm));\n    };\n    var isRngInRoot = function (root) {\n      return function (rng) {\n        return isOrContains(root, rng.start) && isOrContains(root, rng.finish);\n      };\n    };\n    var shouldStore = function (editor) {\n      return editor.inline === true || browser$3.isIE();\n    };\n    var nativeRangeToSelectionRange = function (r) {\n      return SimSelection.range(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    };\n    var readRange = function (win) {\n      var selection = win.getSelection();\n      var rng = !selection || selection.rangeCount === 0 ? Optional.none() : Optional.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    var getBookmark$2 = function (root) {\n      var win = defaultView(root);\n      return readRange(win.dom).filter(isRngInRoot(root));\n    };\n    var validate = function (root, bookmark) {\n      return Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    };\n    var bookmarkToNativeRng = function (bookmark) {\n      var rng = document.createRange();\n      try {\n        rng.setStart(bookmark.start.dom, bookmark.soffset);\n        rng.setEnd(bookmark.finish.dom, bookmark.foffset);\n        return Optional.some(rng);\n      } catch (_) {\n        return Optional.none();\n      }\n    };\n    var store = function (editor) {\n      var newBookmark = shouldStore(editor) ? getBookmark$2(SugarElement.fromDom(editor.getBody())) : Optional.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var storeNative = function (editor, rng) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var range = shouldStore(editor) ? Optional.from(rng) : Optional.none();\n      var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var getRng = function (editor) {\n      var bookmark = editor.bookmark ? editor.bookmark : Optional.none();\n      return bookmark.bind(function (x) {\n        return validate(SugarElement.fromDom(editor.getBody()), x);\n      }).bind(bookmarkToNativeRng);\n    };\n    var restore = function (editor) {\n      getRng(editor).each(function (rng) {\n        return editor.selection.setRng(rng);\n      });\n    };\n\n    var isEditorUIElement = function (elm) {\n      var className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    var FocusManager = { isEditorUIElement: isEditorUIElement };\n\n    var isManualNodeChange = function (e) {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    var registerPageMouseUp = function (editor, throttledStore) {\n      var mouseUpPage = function () {\n        throttledStore.throttle();\n      };\n      DOMUtils.DOM.bind(document, 'mouseup', mouseUpPage);\n      editor.on('remove', function () {\n        DOMUtils.DOM.unbind(document, 'mouseup', mouseUpPage);\n      });\n    };\n    var registerFocusOut = function (editor) {\n      editor.on('focusout', function () {\n        store(editor);\n      });\n    };\n    var registerMouseUp = function (editor, throttledStore) {\n      editor.on('mouseup touchend', function (_e) {\n        throttledStore.throttle();\n      });\n    };\n    var registerEditorEvents = function (editor, throttledStore) {\n      var browser = detect$3().browser;\n      if (browser.isIE()) {\n        registerFocusOut(editor);\n      } else {\n        registerMouseUp(editor, throttledStore);\n      }\n      editor.on('keyup NodeChange', function (e) {\n        if (!isManualNodeChange(e)) {\n          store(editor);\n        }\n      });\n    };\n    var register = function (editor) {\n      var throttledStore = first(function () {\n        store(editor);\n      }, 0);\n      editor.on('init', function () {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', function () {\n        throttledStore.cancel();\n      });\n    };\n\n    var documentFocusInHandler;\n    var DOM$2 = DOMUtils.DOM;\n    var isEditorUIElement$1 = function (elm) {\n      return FocusManager.isEditorUIElement(elm);\n    };\n    var isEditorContentAreaElement = function (elm) {\n      var classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    var isUIElement = function (editor, elm) {\n      var customSelector = getCustomUiSelector(editor);\n      var parent = DOM$2.getParent(elm, function (elm) {\n        return isEditorUIElement$1(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    var getActiveElement = function (editor) {\n      try {\n        var root = getRootNode(SugarElement.fromDom(editor.getElement()));\n        return active(root).fold(function () {\n          return document.body;\n        }, function (x) {\n          return x.dom;\n        });\n      } catch (ex) {\n        return document.body;\n      }\n    };\n    var registerEvents = function (editorManager, e) {\n      var editor = e.editor;\n      register(editor);\n      editor.on('focusin', function () {\n        var focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== editor) {\n          if (focusedEditor) {\n            focusedEditor.fire('blur', { focusedEditor: editor });\n          }\n          editorManager.setActive(editor);\n          editorManager.focusedEditor = editor;\n          editor.fire('focus', { blurredEditor: focusedEditor });\n          editor.focus(true);\n        }\n      });\n      editor.on('focusout', function () {\n        Delay.setEditorTimeout(editor, function () {\n          var focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(editor, getActiveElement(editor)) && focusedEditor === editor) {\n            editor.fire('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = function (e) {\n          var activeEditor = editorManager.activeEditor;\n          if (activeEditor) {\n            getOriginalEventTarget(e).each(function (target) {\n              if (target.ownerDocument === document) {\n                if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n                  activeEditor.fire('blur', { focusedEditor: null });\n                  editorManager.focusedEditor = null;\n                }\n              }\n            });\n          }\n        };\n        DOM$2.bind(document, 'focusin', documentFocusInHandler);\n      }\n    };\n    var unregisterDocumentEvents = function (editorManager, e) {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor) {\n        DOM$2.unbind(document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    var setup$2 = function (editorManager) {\n      editorManager.on('AddEditor', curry(registerEvents, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n\n    var getContentEditableHost = function (editor, node) {\n      return editor.dom.getParent(node, function (node) {\n        return editor.dom.getContentEditable(node) === 'true';\n      });\n    };\n    var getCollapsedNode = function (rng) {\n      return rng.collapsed ? Optional.from(getNode(rng.startContainer, rng.startOffset)).map(SugarElement.fromDom) : Optional.none();\n    };\n    var getFocusInElement = function (root, rng) {\n      return getCollapsedNode(rng).bind(function (node) {\n        if (isTableSection(node)) {\n          return Optional.some(node);\n        } else if (contains$2(root, node) === false) {\n          return Optional.some(root);\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalizeSelection = function (editor, rng) {\n      getFocusInElement(SugarElement.fromDom(editor.getBody()), rng).bind(function (elm) {\n        return firstPositionIn(elm.dom);\n      }).fold(function () {\n        editor.selection.normalize();\n        return;\n      }, function (caretPos) {\n        return editor.selection.setRng(caretPos.toRange());\n      });\n    };\n    var focusBody = function (body) {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    var hasElementFocus = function (elm) {\n      return hasFocus(elm) || search(elm).isSome();\n    };\n    var hasIframeFocus = function (editor) {\n      return editor.iframeElement && hasFocus(SugarElement.fromDom(editor.iframeElement));\n    };\n    var hasInlineFocus = function (editor) {\n      var rawBody = editor.getBody();\n      return rawBody && hasElementFocus(SugarElement.fromDom(rawBody));\n    };\n    var hasUiFocus = function (editor) {\n      var dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      return active(dos).filter(function (elem) {\n        return !isEditorContentAreaElement(elem.dom) && isUIElement(editor, elem.dom);\n      }).isSome();\n    };\n    var hasFocus$1 = function (editor) {\n      return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    };\n    var hasEditorOrUiFocus = function (editor) {\n      return hasFocus$1(editor) || hasUiFocus(editor);\n    };\n    var focusEditor = function (editor) {\n      var selection = editor.selection;\n      var body = editor.getBody();\n      var rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (editor.bookmark !== undefined && hasFocus$1(editor) === false) {\n        getRng(editor).each(function (bookmarkRng) {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (editor.$.contains(body, contentEditableHost)) {\n        focusBody(contentEditableHost);\n        normalizeSelection(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.opera) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.gecko || editor.inline) {\n        focusBody(body);\n        normalizeSelection(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    var activateEditor = function (editor) {\n      return editor.editorManager.setActive(editor);\n    };\n    var focus$1 = function (editor, skipFocus) {\n      if (editor.removed) {\n        return;\n      }\n      skipFocus ? activateEditor(editor) : focusEditor(editor);\n    };\n\n    var getEndpointElement = function (root, rng, start, real, resolve) {\n      var container = start ? rng.startContainer : rng.endContainer;\n      var offset = start ? rng.startOffset : rng.endOffset;\n      return Optional.from(container).map(SugarElement.fromDom).map(function (elm) {\n        return !real || !rng.collapsed ? child(elm, resolve(elm, offset)).getOr(elm) : elm;\n      }).bind(function (elm) {\n        return isElement(elm) ? Optional.some(elm) : parent(elm).filter(isElement);\n      }).map(function (elm) {\n        return elm.dom;\n      }).getOr(root);\n    };\n    var getStart$2 = function (root, rng, real) {\n      return getEndpointElement(root, rng, true, real, function (elm, offset) {\n        return Math.min(childNodesCount(elm), offset);\n      });\n    };\n    var getEnd = function (root, rng, real) {\n      return getEndpointElement(root, rng, false, real, function (elm, offset) {\n        return offset > 0 ? offset - 1 : offset;\n      });\n    };\n    var skipEmptyTextNodes = function (node, forwards) {\n      var orig = node;\n      while (node && isText$1(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    var getNode$1 = function (root, rng) {\n      var elm, startContainer, endContainer;\n      if (!rng) {\n        return root;\n      }\n      startContainer = rng.startContainer;\n      endContainer = rng.endContainer;\n      var startOffset = rng.startOffset;\n      var endOffset = rng.endOffset;\n      elm = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              elm = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            return startContainer;\n          }\n        }\n      }\n      if (elm && elm.nodeType === 3) {\n        return elm.parentNode;\n      }\n      return elm;\n    };\n    var getSelectedBlocks = function (dom, rng, startElm, endElm) {\n      var node;\n      var selectedBlocks = [];\n      var root = dom.getRoot();\n      startElm = dom.getParent(startElm || getStart$2(root, rng, rng.collapsed), dom.isBlock);\n      endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n      if (startElm && startElm !== root) {\n        selectedBlocks.push(startElm);\n      }\n      if (startElm && endElm && startElm !== endElm) {\n        node = startElm;\n        var walker = new DomTreeWalker(startElm, root);\n        while ((node = walker.next()) && node !== endElm) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (endElm && startElm !== endElm && endElm !== root) {\n        selectedBlocks.push(endElm);\n      }\n      return selectedBlocks;\n    };\n    var select$1 = function (dom, node, content) {\n      return Optional.from(node).map(function (node) {\n        var idx = dom.nodeIndex(node);\n        var rng = dom.createRng();\n        rng.setStart(node.parentNode, idx);\n        rng.setEnd(node.parentNode, idx + 1);\n        if (content) {\n          moveEndPoint$1(dom, rng, node, true);\n          moveEndPoint$1(dom, rng, node, false);\n        }\n        return rng;\n      });\n    };\n\n    var processRanges = function (editor, ranges) {\n      return map(ranges, function (range) {\n        var evt = editor.fire('GetSelectionRange', { range: range });\n        return evt.range !== range ? evt.range : range;\n      });\n    };\n\n    var typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    var walk$2 = function (node, root, prev) {\n      var startName = prev ? 'lastChild' : 'firstChild';\n      var siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        var sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (var parent_1 = node.parent; parent_1 && parent_1 !== root; parent_1 = parent_1.parent) {\n          sibling = parent_1[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n    };\n    var isEmptyTextNode$1 = function (node) {\n      if (!isWhitespaceText(node.value)) {\n        return false;\n      }\n      var parentNode = node.parent;\n      if (parentNode && (parentNode.name !== 'span' || parentNode.attr('style')) && /^[ ]+$/.test(node.value)) {\n        return false;\n      }\n      return true;\n    };\n    var isNonEmptyElement = function (node) {\n      var isNamedAnchor = node.name === 'a' && !node.attr('href') && node.attr('id');\n      return node.attr('name') || node.attr('id') && !node.firstChild || node.attr('data-mce-bookmark') || isNamedAnchor;\n    };\n    var AstNode = function () {\n      function AstNode(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      AstNode.create = function (name, attrs) {\n        var node = new AstNode(name, typeLookup[name] || 1);\n        if (attrs) {\n          each$1(attrs, function (value, attrName) {\n            node.attr(attrName, value);\n          });\n        }\n        return node;\n      };\n      AstNode.prototype.replace = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      };\n      AstNode.prototype.attr = function (name, value) {\n        var self = this;\n        var attrs;\n        if (typeof name !== 'string') {\n          if (name !== undefined && name !== null) {\n            each$1(name, function (value, key) {\n              self.attr(key, value);\n            });\n          }\n          return self;\n        }\n        if (attrs = self.attributes) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                var i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              var i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name: name,\n                value: value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n      };\n      AstNode.prototype.clone = function () {\n        var self = this;\n        var clone = new AstNode(self.name, self.type);\n        var selfAttrs;\n        if (selfAttrs = self.attributes) {\n          var cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (var i = 0, l = selfAttrs.length; i < l; i++) {\n            var selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        clone.shortEnded = self.shortEnded;\n        return clone;\n      };\n      AstNode.prototype.wrap = function (wrapper) {\n        var self = this;\n        self.parent.insert(wrapper, self);\n        wrapper.append(self);\n        return self;\n      };\n      AstNode.prototype.unwrap = function () {\n        var self = this;\n        for (var node = self.firstChild; node;) {\n          var next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      };\n      AstNode.prototype.remove = function () {\n        var self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      };\n      AstNode.prototype.append = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        var last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      };\n      AstNode.prototype.insert = function (node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        var parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      };\n      AstNode.prototype.getAll = function (name) {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = walk$2(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      };\n      AstNode.prototype.empty = function () {\n        var self = this;\n        if (self.firstChild) {\n          var nodes = [];\n          for (var node = self.firstChild; node; node = walk$2(node, self)) {\n            nodes.push(node);\n          }\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      };\n      AstNode.prototype.isEmpty = function (elements, whitespace, predicate) {\n        if (whitespace === void 0) {\n          whitespace = {};\n        }\n        var self = this;\n        var node = self.firstChild;\n        if (isNonEmptyElement(self)) {\n          return false;\n        }\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !isEmptyTextNode$1(node)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && isWhitespaceText(node.value)) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$2(node, self));\n        }\n        return true;\n      };\n      AstNode.prototype.walk = function (prev) {\n        return walk$2(this, null, prev);\n      };\n      return AstNode;\n    }();\n\n    var extractBase64DataUris = function (html) {\n      var dataImageUri = /data:[^;]+;base64,([a-z0-9\\+\\/=]+)/gi;\n      var chunks = [];\n      var uris = {};\n      var prefix = generate$1('img');\n      var matches;\n      var index = 0;\n      var count = 0;\n      while (matches = dataImageUri.exec(html)) {\n        var uri = matches[0];\n        var imageId = prefix + '_' + count++;\n        uris[imageId] = uri;\n        if (index < matches.index) {\n          chunks.push(html.substr(index, matches.index - index));\n        }\n        chunks.push(imageId);\n        index = matches.index + uri.length;\n      }\n      var re = new RegExp(prefix + '_[0-9]+', 'g');\n      if (index === 0) {\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: html,\n          re: re\n        };\n      } else {\n        if (index < html.length) {\n          chunks.push(html.substr(index));\n        }\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: chunks.join(''),\n          re: re\n        };\n      }\n    };\n    var restoreDataUris = function (html, result) {\n      return html.replace(result.re, function (imageId) {\n        return get$1(result.uris, imageId).getOr(imageId);\n      });\n    };\n    var parseDataUri = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=]+)/i.exec(uri);\n      if (matches) {\n        return Optional.some({\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var safeSvgDataUrlElements = [\n      'img',\n      'video'\n    ];\n    var isValidPrefixAttrName = function (name) {\n      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n    };\n    var blockSvgDataUris = function (allowSvgDataUrls, tagName) {\n      var allowed = isNullable(allowSvgDataUrls) ? contains(safeSvgDataUrlElements, tagName) : allowSvgDataUrls;\n      return !allowed;\n    };\n    var isInvalidUri = function (settings, uri, tagName) {\n      if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(uri)) {\n        return blockSvgDataUris(settings.allow_svg_data_urls, tagName) && /^data:image\\/svg\\+xml/i.test(uri);\n      } else {\n        return /^data:/i.test(uri);\n      }\n    };\n    var findEndTagIndex = function (schema, html, startIndex) {\n      var count = 1, index, matches;\n      var shortEndedElements = schema.getShortEndedElements();\n      var tokenRegExp = /<([!?\\/])?([A-Za-z0-9\\-_:.]+)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>/g;\n      tokenRegExp.lastIndex = index = startIndex;\n      while (matches = tokenRegExp.exec(html)) {\n        index = tokenRegExp.lastIndex;\n        if (matches[1] === '/') {\n          count--;\n        } else if (!matches[1]) {\n          if (matches[2] in shortEndedElements) {\n            continue;\n          }\n          count++;\n        }\n        if (count === 0) {\n          break;\n        }\n      }\n      return index;\n    };\n    var isConditionalComment = function (html, startIndex) {\n      return /^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(html.substr(startIndex));\n    };\n    var findCommentEndIndex = function (html, isBogus, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = 0;\n      }\n      var lcHtml = html.toLowerCase();\n      if (lcHtml.indexOf('[if ', startIndex) !== -1 && isConditionalComment(lcHtml, startIndex)) {\n        var endIfIndex = lcHtml.indexOf('[endif]', startIndex);\n        return lcHtml.indexOf('>', endIfIndex);\n      } else {\n        if (isBogus) {\n          var endIndex = lcHtml.indexOf('>', startIndex);\n          return endIndex !== -1 ? endIndex : lcHtml.length;\n        } else {\n          var endCommentRegexp = /--!?>/g;\n          endCommentRegexp.lastIndex = startIndex;\n          var match = endCommentRegexp.exec(html);\n          return match ? match.index + match[0].length : lcHtml.length;\n        }\n      }\n    };\n    var checkBogusAttribute = function (regExp, attrString) {\n      var matches = regExp.exec(attrString);\n      if (matches) {\n        var name_1 = matches[1];\n        var value = matches[2];\n        return typeof name_1 === 'string' && name_1.toLowerCase() === 'data-mce-bogus' ? value : null;\n      } else {\n        return null;\n      }\n    };\n    var SaxParser = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      settings = settings || {};\n      if (settings.fix_self_closing !== false) {\n        settings.fix_self_closing = true;\n      }\n      var comment = settings.comment ? settings.comment : noop;\n      var cdata = settings.cdata ? settings.cdata : noop;\n      var text = settings.text ? settings.text : noop;\n      var start = settings.start ? settings.start : noop;\n      var end = settings.end ? settings.end : noop;\n      var pi = settings.pi ? settings.pi : noop;\n      var doctype = settings.doctype ? settings.doctype : noop;\n      var parseInternal = function (base64Extract, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        var html = base64Extract.html;\n        var matches, index = 0, value, endRegExp;\n        var stack = [];\n        var attrList, i, textData, name;\n        var isInternalElement, isShortEnded;\n        var elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n        var attributesRequired, attributesDefault, attributesForced;\n        var anyAttributesRequired, attrValue, idCount = 0;\n        var decode = Entities.decode;\n        var filteredUrlAttrs = Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');\n        var scriptUriRegExp = /((java|vb)script|mhtml):/i;\n        var parsingMode = format === 'html' ? 0 : 1;\n        var processEndTag = function (name) {\n          var pos, i;\n          pos = stack.length;\n          while (pos--) {\n            if (stack[pos].name === name) {\n              break;\n            }\n          }\n          if (pos >= 0) {\n            for (i = stack.length - 1; i >= pos; i--) {\n              name = stack[i];\n              if (name.valid) {\n                end(name.name);\n              }\n            }\n            stack.length = pos;\n          }\n        };\n        var processText = function (value, raw) {\n          return text(restoreDataUris(value, base64Extract), raw);\n        };\n        var processComment = function (value) {\n          if (value === '') {\n            return;\n          }\n          if (value.charAt(0) === '>') {\n            value = ' ' + value;\n          }\n          if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n            value = ' ' + value;\n          }\n          comment(restoreDataUris(value, base64Extract));\n        };\n        var processAttr = function (value) {\n          return restoreDataUris(value, base64Extract);\n        };\n        var processMalformedComment = function (value, startIndex) {\n          var startTag = value || '';\n          var isBogus = !startsWith(startTag, '--');\n          var endIndex = findCommentEndIndex(html, isBogus, startIndex);\n          value = html.substr(startIndex, endIndex - startIndex);\n          processComment(isBogus ? startTag + value : value);\n          return endIndex + 1;\n        };\n        var parseAttribute = function (tagName, name, value, val2, val3) {\n          var attrRule, i;\n          var trimRegExp = /[\\s\\u0000-\\u001F]+/g;\n          name = name.toLowerCase();\n          value = processAttr(name in fillAttrsMap ? name : decode(value || val2 || val3 || ''));\n          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n            attrRule = validAttributesMap[name];\n            if (!attrRule && validAttributePatterns) {\n              i = validAttributePatterns.length;\n              while (i--) {\n                attrRule = validAttributePatterns[i];\n                if (attrRule.pattern.test(name)) {\n                  break;\n                }\n              }\n              if (i === -1) {\n                attrRule = null;\n              }\n            }\n            if (!attrRule) {\n              return;\n            }\n            if (attrRule.validValues && !(value in attrRule.validValues)) {\n              return;\n            }\n          }\n          if (filteredUrlAttrs[name] && !settings.allow_script_urls) {\n            var uri = value.replace(trimRegExp, '');\n            try {\n              uri = decodeURIComponent(uri);\n            } catch (ex) {\n              uri = unescape(uri);\n            }\n            if (scriptUriRegExp.test(uri)) {\n              return;\n            }\n            if (isInvalidUri(settings, uri, tagName)) {\n              return;\n            }\n          }\n          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n            return;\n          }\n          attrList.map[name] = value;\n          attrList.push({\n            name: name,\n            value: value\n          });\n        };\n        var tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)--!?>)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\\\w\\\\W]*?)>)|' + '(?:!(--)?)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_:.]*)(\\\\s(?:[^\\'\">]+(?:\"[^\"]*\"|\\'[^\\']*\\'))*[^\"\\'>]*(?:\"[^\">]*|\\'[^\\'>]*)?|\\\\s*|\\\\/)>)' + ')', 'g');\n        var attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n        var shortEndedElements = schema.getShortEndedElements();\n        var selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n        var fillAttrsMap = schema.getBoolAttrs();\n        var validate = settings.validate;\n        var removeInternalElements = settings.remove_internals;\n        var fixSelfClosing = settings.fix_self_closing;\n        var specialElements = schema.getSpecialElements();\n        var processHtml = html + '>';\n        while (matches = tokenRegExp.exec(processHtml)) {\n          var matchText = matches[0];\n          if (index < matches.index) {\n            processText(decode(html.substr(index, matches.index - index)));\n          }\n          if (value = matches[7]) {\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            processEndTag(value);\n          } else if (value = matches[8]) {\n            if (matches.index + matchText.length > html.length) {\n              processText(decode(html.substr(matches.index)));\n              index = matches.index + matchText.length;\n              continue;\n            }\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            isShortEnded = value in shortEndedElements;\n            if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n              processEndTag(value);\n            }\n            var bogusValue = checkBogusAttribute(attrRegExp, matches[9]);\n            if (bogusValue !== null) {\n              if (bogusValue === 'all') {\n                index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                tokenRegExp.lastIndex = index;\n                continue;\n              }\n              isValidElement = false;\n            }\n            if (!validate || (elementRule = schema.getElementRule(value))) {\n              isValidElement = true;\n              if (validate) {\n                validAttributesMap = elementRule.attributes;\n                validAttributePatterns = elementRule.attributePatterns;\n              }\n              if (attribsValue = matches[9]) {\n                isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n                if (isInternalElement && removeInternalElements) {\n                  isValidElement = false;\n                }\n                attrList = [];\n                attrList.map = {};\n                attribsValue.replace(attrRegExp, function (match, name, val, val2, val3) {\n                  parseAttribute(value, name, val, val2, val3);\n                  return '';\n                });\n              } else {\n                attrList = [];\n                attrList.map = {};\n              }\n              if (validate && !isInternalElement) {\n                attributesRequired = elementRule.attributesRequired;\n                attributesDefault = elementRule.attributesDefault;\n                attributesForced = elementRule.attributesForced;\n                anyAttributesRequired = elementRule.removeEmptyAttrs;\n                if (anyAttributesRequired && !attrList.length) {\n                  isValidElement = false;\n                }\n                if (attributesForced) {\n                  i = attributesForced.length;\n                  while (i--) {\n                    attr = attributesForced[i];\n                    name = attr.name;\n                    attrValue = attr.value;\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n                if (attributesDefault) {\n                  i = attributesDefault.length;\n                  while (i--) {\n                    attr = attributesDefault[i];\n                    name = attr.name;\n                    if (!(name in attrList.map)) {\n                      attrValue = attr.value;\n                      if (attrValue === '{$uid}') {\n                        attrValue = 'mce_' + idCount++;\n                      }\n                      attrList.map[name] = attrValue;\n                      attrList.push({\n                        name: name,\n                        value: attrValue\n                      });\n                    }\n                  }\n                }\n                if (attributesRequired) {\n                  i = attributesRequired.length;\n                  while (i--) {\n                    if (attributesRequired[i] in attrList.map) {\n                      break;\n                    }\n                  }\n                  if (i === -1) {\n                    isValidElement = false;\n                  }\n                }\n                if (attr = attrList.map['data-mce-bogus']) {\n                  if (attr === 'all') {\n                    index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                    tokenRegExp.lastIndex = index;\n                    continue;\n                  }\n                  isValidElement = false;\n                }\n              }\n              if (isValidElement) {\n                start(value, attrList, isShortEnded);\n              }\n            } else {\n              isValidElement = false;\n            }\n            if (endRegExp = specialElements[value]) {\n              endRegExp.lastIndex = index = matches.index + matchText.length;\n              if (matches = endRegExp.exec(html)) {\n                if (isValidElement) {\n                  textData = html.substr(index, matches.index - index);\n                }\n                index = matches.index + matches[0].length;\n              } else {\n                textData = html.substr(index);\n                index = html.length;\n              }\n              if (isValidElement) {\n                if (textData.length > 0) {\n                  processText(textData, true);\n                }\n                end(value);\n              }\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n            if (!isShortEnded) {\n              if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n                stack.push({\n                  name: value,\n                  valid: isValidElement\n                });\n              } else if (isValidElement) {\n                end(value);\n              }\n            }\n          } else if (value = matches[1]) {\n            processComment(value);\n          } else if (value = matches[2]) {\n            var isValidCdataSection = parsingMode === 1 || settings.preserve_cdata || stack.length > 0 && schema.isValidChild(stack[stack.length - 1].name, '#cdata');\n            if (isValidCdataSection) {\n              cdata(value);\n            } else {\n              index = processMalformedComment('', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          } else if (value = matches[3]) {\n            doctype(value);\n          } else if ((value = matches[4]) || matchText === '<!') {\n            index = processMalformedComment(value, matches.index + matchText.length);\n            tokenRegExp.lastIndex = index;\n            continue;\n          } else if (value = matches[5]) {\n            if (parsingMode === 1) {\n              pi(value, matches[6]);\n            } else {\n              index = processMalformedComment('?', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          }\n          index = matches.index + matchText.length;\n        }\n        if (index < html.length) {\n          processText(decode(html.substr(index)));\n        }\n        for (i = stack.length - 1; i >= 0; i--) {\n          value = stack[i];\n          if (value.valid) {\n            end(value.name);\n          }\n        }\n      };\n      var parse = function (html, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        parseInternal(extractBase64DataUris(html), format);\n      };\n      return { parse: parse };\n    };\n    SaxParser.findEndTag = findEndTagIndex;\n\n    var trimHtml = function (tempAttrs, html) {\n      var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n      return html.replace(trimContentRegExp, '');\n    };\n    var trimInternal = function (serializer, html) {\n      var content = html;\n      var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n      var endTagIndex, index, matchLength, matches;\n      var schema = serializer.schema;\n      content = trimHtml(serializer.getTempAttrs(), content);\n      var shortEndedElements = schema.getShortEndedElements();\n      while (matches = bogusAllRegExp.exec(content)) {\n        index = bogusAllRegExp.lastIndex;\n        matchLength = matches[0].length;\n        if (shortEndedElements[matches[1]]) {\n          endTagIndex = index;\n        } else {\n          endTagIndex = SaxParser.findEndTag(schema, content, index);\n        }\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n        bogusAllRegExp.lastIndex = index - matchLength;\n      }\n      return trim$2(content);\n    };\n    var trimExternal = trimInternal;\n\n    var trimEmptyContents = function (editor, html) {\n      var blockName = getForcedRootBlock(editor);\n      var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n      return html.replace(emptyRegExp, '');\n    };\n    var getContentFromBody = function (editor, args, format, body) {\n      var content;\n      args.format = format;\n      args.get = true;\n      args.getInner = true;\n      if (!args.no_events) {\n        editor.fire('BeforeGetContent', args);\n      }\n      if (args.format === 'raw') {\n        content = Tools.trim(trimExternal(editor.serializer, body.innerHTML));\n      } else if (args.format === 'text') {\n        content = editor.dom.isEmpty(body) ? '' : trim$2(body.innerText || body.textContent);\n      } else if (args.format === 'tree') {\n        content = editor.serializer.serialize(body, args);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n      }\n      if (!contains([\n          'text',\n          'tree'\n        ], args.format) && !isWsPreserveElement(SugarElement.fromDom(body))) {\n        args.content = Tools.trim(content);\n      } else {\n        args.content = content;\n      }\n      if (!args.no_events) {\n        editor.fire('GetContent', args);\n      }\n      return args.content;\n    };\n    var getContentInternal = function (editor, args, format) {\n      return Optional.from(editor.getBody()).fold(constant(args.format === 'tree' ? new AstNode('body', 11) : ''), function (body) {\n        return getContentFromBody(editor, args, format, body);\n      });\n    };\n\n    var each$7 = Tools.each;\n    var ElementUtils = function (dom) {\n      var compare = function (node1, node2) {\n        if (node1.nodeName !== node2.nodeName) {\n          return false;\n        }\n        var getAttribs = function (node) {\n          var attribs = {};\n          each$7(dom.getAttribs(node), function (attr) {\n            var name = attr.nodeName.toLowerCase();\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        var compareObjects = function (obj1, obj2) {\n          var value, name;\n          for (name in obj1) {\n            if (obj1.hasOwnProperty(name)) {\n              value = obj2[name];\n              if (typeof value === 'undefined') {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (name in obj2) {\n            if (obj2.hasOwnProperty(name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n          return false;\n        }\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n          return false;\n        }\n        return !isBookmarkNode$1(node1) && !isBookmarkNode$1(node2);\n      };\n      return { compare: compare };\n    };\n\n    var makeMap$3 = Tools.makeMap;\n    var Writer = function (settings) {\n      var html = [];\n      settings = settings || {};\n      var indent = settings.indent;\n      var indentBefore = makeMap$3(settings.indent_before || '');\n      var indentAfter = makeMap$3(settings.indent_after || '');\n      var encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      var htmlOutput = settings.element_format === 'html';\n      return {\n        start: function (name, attrs, empty) {\n          var i, l, attr, value;\n          if (indent && indentBefore[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (i = 0, l = attrs.length; i < l; i++) {\n              attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: function (name) {\n          var value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: function (text, raw) {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: function (text) {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: function (text) {\n          html.push('<!--', text, '-->');\n        },\n        pi: function (name, text) {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: function (text) {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: function () {\n          html.length = 0;\n        },\n        getContent: function () {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    var HtmlSerializer = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var writer = Writer(settings);\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      var serialize = function (node) {\n        var validate = settings.validate;\n        var handlers = {\n          3: function (node) {\n            writer.text(node.value, node.raw);\n          },\n          8: function (node) {\n            writer.comment(node.value);\n          },\n          7: function (node) {\n            writer.pi(node.name, node.value);\n          },\n          10: function (node) {\n            writer.doctype(node.value);\n          },\n          4: function (node) {\n            writer.cdata(node.value);\n          },\n          11: function (node) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n          }\n        };\n        writer.reset();\n        var walk = function (node) {\n          var handler = handlers[node.type];\n          var name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\n          if (!handler) {\n            name = node.name;\n            isEmpty = node.shortEnded;\n            attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              sortedAttrs = [];\n              sortedAttrs.map = {};\n              elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (i = 0, l = attrs.length; i < l; i++) {\n                  attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(node.name, attrs, isEmpty);\n            if (!isEmpty) {\n              if (node = node.firstChild) {\n                do {\n                  walk(node);\n                } while (node = node.next);\n              }\n              writer.end(name);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize: serialize };\n    };\n\n    var nonInheritableStyles = new Set();\n    (function () {\n      var nonInheritableStylesArr = [\n        'margin',\n        'margin-left',\n        'margin-right',\n        'margin-top',\n        'margin-bottom',\n        'padding',\n        'padding-left',\n        'padding-right',\n        'padding-top',\n        'padding-bottom',\n        'border',\n        'border-width',\n        'border-style',\n        'border-color',\n        'background',\n        'background-attachment',\n        'background-clip',\n        'background-color',\n        'background-image',\n        'background-origin',\n        'background-position',\n        'background-repeat',\n        'background-size',\n        'float',\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'z-index',\n        'display',\n        'transform',\n        'width',\n        'max-width',\n        'min-width',\n        'height',\n        'max-height',\n        'min-height',\n        'overflow',\n        'overflow-x',\n        'overflow-y',\n        'text-overflow',\n        'vertical-align',\n        'transition',\n        'transition-delay',\n        'transition-duration',\n        'transition-property',\n        'transition-timing-function'\n      ];\n      each(nonInheritableStylesArr, function (style) {\n        nonInheritableStyles.add(style);\n      });\n    }());\n    var shorthandStyleProps = [\n      'font',\n      'text-decoration',\n      'text-emphasis'\n    ];\n    var getStyleProps = function (dom, node) {\n      return keys(dom.parseStyle(dom.getAttrib(node, 'style')));\n    };\n    var isNonInheritableStyle = function (style) {\n      return nonInheritableStyles.has(style);\n    };\n    var hasInheritableStyles = function (dom, node) {\n      return forall(getStyleProps(dom, node), function (style) {\n        return !isNonInheritableStyle(style);\n      });\n    };\n    var getLonghandStyleProps = function (styles) {\n      return filter(styles, function (style) {\n        return exists(shorthandStyleProps, function (prop) {\n          return startsWith(style, prop);\n        });\n      });\n    };\n    var hasStyleConflict = function (dom, node, parentNode) {\n      var nodeStyleProps = getStyleProps(dom, node);\n      var parentNodeStyleProps = getStyleProps(dom, parentNode);\n      var valueMismatch = function (prop) {\n        var nodeValue = dom.getStyle(node, prop);\n        var parentValue = dom.getStyle(parentNode, prop);\n        return isNotEmpty(nodeValue) && isNotEmpty(parentValue) && nodeValue !== parentValue;\n      };\n      return exists(nodeStyleProps, function (nodeStyleProp) {\n        var propExists = function (props) {\n          return exists(props, function (prop) {\n            return prop === nodeStyleProp;\n          });\n        };\n        if (!propExists(parentNodeStyleProps) && propExists(shorthandStyleProps)) {\n          var longhandProps = getLonghandStyleProps(parentNodeStyleProps);\n          return exists(longhandProps, valueMismatch);\n        } else {\n          return valueMismatch(nodeStyleProp);\n        }\n      });\n    };\n\n    var isChar = function (forward, predicate, pos) {\n      return Optional.from(pos.container()).filter(isText$1).exists(function (text) {\n        var delta = forward ? 0 : -1;\n        return predicate(text.data.charAt(pos.offset() + delta));\n      });\n    };\n    var isBeforeSpace = curry(isChar, true, isWhiteSpace$1);\n    var isAfterSpace = curry(isChar, false, isWhiteSpace$1);\n    var isEmptyText = function (pos) {\n      var container = pos.container();\n      return isText$1(container) && (container.data.length === 0 || isZwsp$1(container.data) && BookmarkManager.isBookmarkNode(container.parentNode));\n    };\n    var matchesElementPosition = function (before, predicate) {\n      return function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(before ? 0 : -1, pos)).filter(predicate).isSome();\n      };\n    };\n    var isImageBlock = function (node) {\n      return isImg(node) && get$5(SugarElement.fromDom(node), 'display') === 'block';\n    };\n    var isCefNode = function (node) {\n      return isContentEditableFalse(node) && !isBogusAll(node);\n    };\n    var isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    var isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    var isBeforeMedia = matchesElementPosition(true, isMedia);\n    var isAfterMedia = matchesElementPosition(false, isMedia);\n    var isBeforeTable = matchesElementPosition(true, isTable);\n    var isAfterTable = matchesElementPosition(false, isTable);\n    var isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    var isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    var getLastChildren$1 = function (elm) {\n      var children = [];\n      var rawNode = elm.dom;\n      while (rawNode) {\n        children.push(SugarElement.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    var removeTrailingBr = function (elm) {\n      var allBrs = descendants$1(elm, 'br');\n      var brs = filter(getLastChildren$1(elm).slice(-1), isBr$1);\n      if (allBrs.length === brs.length) {\n        each(brs, remove);\n      }\n    };\n    var fillWithPaddingBr = function (elm) {\n      empty(elm);\n      append(elm, SugarElement.fromHtml('<br data-mce-bogus=\"1\">'));\n    };\n    var trimBlockTrailingBr = function (elm) {\n      lastChild(elm).each(function (lastChild) {\n        prevSibling(lastChild).each(function (lastChildPrevSibling) {\n          if (isBlock(elm) && isBr$1(lastChild) && isBlock(lastChildPrevSibling)) {\n            remove(lastChild);\n          }\n        });\n      });\n    };\n\n    var dropLast = function (xs) {\n      return xs.slice(0, -1);\n    };\n    var parentsUntil$1 = function (start, root, predicate) {\n      if (contains$2(root, start)) {\n        return dropLast(parents(start, function (elm) {\n          return predicate(elm) || eq$2(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    var parents$1 = function (start, root) {\n      return parentsUntil$1(start, root, never);\n    };\n    var parentsAndSelf = function (start, root) {\n      return [start].concat(parents$1(start, root));\n    };\n\n    var navigateIgnoreEmptyTextNodes = function (forward, root, from) {\n      return navigateIgnore(forward, root, from, isEmptyText);\n    };\n    var getClosestBlock = function (root, pos) {\n      return find(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock);\n    };\n    var isAtBeforeAfterBlockBoundary = function (forward, root, pos) {\n      return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n        return getClosestBlock(root, pos).fold(function () {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        }, function (fromBlock) {\n          return isInSameBlock(newPos, pos, root.dom) === false && contains$2(fromBlock, SugarElement.fromDom(newPos.container()));\n        });\n      });\n    };\n    var isAtBlockBoundary$1 = function (forward, root, pos) {\n      return getClosestBlock(root, pos).fold(function () {\n        return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        });\n      }, function (parent) {\n        return navigateIgnoreEmptyTextNodes(forward, parent.dom, pos).isNone();\n      });\n    };\n    var isAtStartOfBlock = curry(isAtBlockBoundary$1, false);\n    var isAtEndOfBlock = curry(isAtBlockBoundary$1, true);\n    var isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    var isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    var isBr$5 = function (pos) {\n      return getElementFromPosition(pos).exists(isBr$1);\n    };\n    var findBr = function (forward, root, pos) {\n      var parentBlocks = filter(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock);\n      var scope = head(parentBlocks).getOr(root);\n      return fromPosition(forward, scope.dom, pos).filter(isBr$5);\n    };\n    var isBeforeBr = function (root, pos) {\n      return getElementFromPosition(pos).exists(isBr$1) || findBr(true, root, pos).isSome();\n    };\n    var isAfterBr = function (root, pos) {\n      return getElementFromPrevPosition(pos).exists(isBr$1) || findBr(false, root, pos).isSome();\n    };\n    var findPreviousBr = curry(findBr, false);\n    var findNextBr = curry(findBr, true);\n\n    var isInMiddleOfText = function (pos) {\n      return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    };\n    var getClosestBlock$1 = function (root, pos) {\n      var parentBlocks = filter(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock);\n      return head(parentBlocks).getOr(root);\n    };\n    var hasSpaceBefore = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || prevPosition(getClosestBlock$1(root, pos).dom, pos).exists(isAfterSpace);\n      }\n    };\n    var hasSpaceAfter = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || nextPosition(getClosestBlock$1(root, pos).dom, pos).exists(isBeforeSpace);\n      }\n    };\n    var isPreValue = function (value) {\n      return contains([\n        'pre',\n        'pre-wrap'\n      ], value);\n    };\n    var isInPre = function (pos) {\n      return getElementFromPosition(pos).bind(function (elm) {\n        return closest(elm, isElement);\n      }).exists(function (elm) {\n        return isPreValue(get$5(elm, 'white-space'));\n      });\n    };\n    var isAtBeginningOfBody = function (root, pos) {\n      return prevPosition(root.dom, pos).isNone();\n    };\n    var isAtEndOfBody = function (root, pos) {\n      return nextPosition(root.dom, pos).isNone();\n    };\n    var isAtLineBoundary = function (root, pos) {\n      return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr(root, pos);\n    };\n    var needsToHaveNbsp = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbspLeft = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n      }\n    };\n    var leanRight = function (pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$1(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    var needsToBeNbspRight = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, pos) || isAfterBlock(root, pos) || isBeforeBr(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbsp = function (root, pos) {\n      return needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, leanRight(pos));\n    };\n    var isNbspAt = function (text, offset) {\n      return isNbsp(text.charAt(offset));\n    };\n    var hasNbsp = function (pos) {\n      var container = pos.container();\n      return isText$1(container) && contains$1(container.data, nbsp);\n    };\n    var normalizeNbspMiddle = function (text) {\n      var chars = text.split('');\n      return map(chars, function (chr, i) {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent$1(chars[i - 1]) && isContent$1(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    var normalizeNbspAtStart = function (root, node) {\n      var text = node.data;\n      var firstPos = CaretPosition(node, 0);\n      if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspInMiddleOfTextNode = function (node) {\n      var text = node.data;\n      var newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspAtEnd = function (root, node) {\n      var text = node.data;\n      var lastPos = CaretPosition(node, text.length - 1);\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbsps = function (root, pos) {\n      return Optional.some(pos).filter(hasNbsp).bind(function (pos) {\n        var container = pos.container();\n        var normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n        return normalized ? Optional.some(pos) : Optional.none();\n      });\n    };\n    var normalizeNbspsInEditor = function (editor) {\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    var normalizeContent = function (content, isStartOfContent, isEndOfContent) {\n      var result = foldl(content, function (acc, c) {\n        if (isWhiteSpace$1(c) || isNbsp(c)) {\n          if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\n            return {\n              previousCharIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              previousCharIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            previousCharIsSpace: false,\n            str: acc.str + c\n          };\n        }\n      }, {\n        previousCharIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n    var normalize$1 = function (node, offset, count) {\n      if (count === 0) {\n        return;\n      }\n      var elm = SugarElement.fromDom(node);\n      var root = ancestor(elm, isBlock).getOr(elm);\n      var whitespace = node.data.slice(offset, offset + count);\n      var isEndOfContent = offset + count >= node.data.length && needsToBeNbspRight(root, CaretPosition(node, node.data.length));\n      var isStartOfContent = offset === 0 && needsToBeNbspLeft(root, CaretPosition(node, 0));\n      node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\n    };\n    var normalizeWhitespaceAfter = function (node, offset) {\n      var content = node.data.slice(offset);\n      var whitespaceCount = content.length - lTrim(content).length;\n      return normalize$1(node, offset, whitespaceCount);\n    };\n    var normalizeWhitespaceBefore = function (node, offset) {\n      var content = node.data.slice(0, offset);\n      var whitespaceCount = content.length - rTrim(content).length;\n      return normalize$1(node, offset - whitespaceCount, whitespaceCount);\n    };\n    var mergeTextNodes = function (prevNode, nextNode, normalizeWhitespace, mergeToPrev) {\n      if (mergeToPrev === void 0) {\n        mergeToPrev = true;\n      }\n      var whitespaceOffset = rTrim(prevNode.data).length;\n      var newNode = mergeToPrev ? prevNode : nextNode;\n      var removeNode = mergeToPrev ? nextNode : prevNode;\n      if (mergeToPrev) {\n        newNode.appendData(removeNode.data);\n      } else {\n        newNode.insertData(0, removeNode.data);\n      }\n      remove(SugarElement.fromDom(removeNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(newNode, whitespaceOffset);\n      }\n      return newNode;\n    };\n\n    var needsReposition = function (pos, elm) {\n      var container = pos.container();\n      var offset = pos.offset();\n      return CaretPosition.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition.before(elm).offset();\n    };\n    var reposition = function (elm, pos) {\n      return needsReposition(pos, elm) ? CaretPosition(pos.container(), pos.offset() - 1) : pos;\n    };\n    var beforeOrStartOf = function (node) {\n      return isText$1(node) ? CaretPosition(node, 0) : CaretPosition.before(node);\n    };\n    var afterOrEndOf = function (node) {\n      return isText$1(node) ? CaretPosition(node, node.data.length) : CaretPosition.after(node);\n    };\n    var getPreviousSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate(elm.previousSibling)) {\n        return Optional.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? lastPositionIn(elm.previousSibling) : Optional.none();\n      }\n    };\n    var getNextSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate(elm.nextSibling)) {\n        return Optional.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? firstPositionIn(elm.nextSibling) : Optional.none();\n      }\n    };\n    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\n      var startPosition = CaretPosition.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n      return prevPosition(rootElement, startPosition).fold(function () {\n        return nextPosition(rootElement, CaretPosition.after(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionForwardsFromElm = function (rootElement, elm) {\n      return nextPosition(rootElement, CaretPosition.after(elm)).fold(function () {\n        return prevPosition(rootElement, CaretPosition.before(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionBackwards = function (rootElement, elm) {\n      return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n        return getNextSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionBackwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPositionForward = function (rootElement, elm) {\n      return getNextSiblingCaretPosition(elm).orThunk(function () {\n        return getPreviousSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionForwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPosition$1 = function (forward, rootElement, elm) {\n      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    };\n    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\n      return findCaretPosition$1(forward, rootElement, elm).map(curry(reposition, elm));\n    };\n    var setSelection = function (editor, forward, pos) {\n      pos.fold(function () {\n        editor.focus();\n      }, function (pos) {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    var eqRawNode = function (rawNode) {\n      return function (elm) {\n        return elm.dom === rawNode;\n      };\n    };\n    var isBlock$2 = function (editor, elm) {\n      return elm && has(editor.schema.getBlockElements(), name(elm));\n    };\n    var paddEmptyBlock = function (elm) {\n      if (isEmpty(elm)) {\n        var br = SugarElement.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append(elm, br);\n        return Optional.some(CaretPosition.before(br.dom));\n      } else {\n        return Optional.none();\n      }\n    };\n    var deleteNormalized = function (elm, afterDeletePosOpt, normalizeWhitespace) {\n      var prevTextOpt = prevSibling(elm).filter(isText);\n      var nextTextOpt = nextSibling(elm).filter(isText);\n      remove(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, function (prev, next, pos) {\n        var prevNode = prev.dom, nextNode = next.dom;\n        var offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition(prevNode, offset) : pos;\n      }).orThunk(function () {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(function (elm) {\n            return normalizeWhitespaceBefore(elm.dom, elm.dom.length);\n          });\n          nextTextOpt.each(function (elm) {\n            return normalizeWhitespaceAfter(elm.dom, 0);\n          });\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    var isInlineElement = function (editor, element) {\n      return has(editor.schema.getTextInlineElements(), name(element));\n    };\n    var deleteElement = function (editor, forward, elm, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom);\n      var parentBlock = ancestor(elm, curry(isBlock$2, editor), eqRawNode(editor.getBody()));\n      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(function () {\n          if (moveCaret) {\n            setSelection(editor, forward, normalizedAfterDeletePos);\n          }\n        }, function (paddPos) {\n          if (moveCaret) {\n            setSelection(editor, forward, Optional.some(paddPos));\n          }\n        });\n      }\n    };\n\n    var tableCellRng = function (start, end) {\n      return {\n        start: start,\n        end: end\n      };\n    };\n    var tableSelection = function (rng, table, cells) {\n      return {\n        rng: rng,\n        table: table,\n        cells: cells\n      };\n    };\n    var deleteAction = Adt.generate([\n      { removeTable: ['element'] },\n      { emptyCells: ['cells'] },\n      {\n        deleteCellSelection: [\n          'rng',\n          'cell'\n        ]\n      }\n    ]);\n    var isRootFromElement = function (root) {\n      return function (cur) {\n        return eq$2(root, cur);\n      };\n    };\n    var getClosestCell = function (container, isRoot) {\n      return closest$1(SugarElement.fromDom(container), 'td,th', isRoot);\n    };\n    var getClosestTable = function (cell, isRoot) {\n      return ancestor$1(cell, 'table', isRoot);\n    };\n    var isExpandedCellRng = function (cellRng) {\n      return !eq$2(cellRng.start, cellRng.end);\n    };\n    var getTableFromCellRng = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start, isRoot).bind(function (startParentTable) {\n        return getClosestTable(cellRng.end, isRoot).bind(function (endParentTable) {\n          return someIf(eq$2(startParentTable, endParentTable), startParentTable);\n        });\n      });\n    };\n    var isSingleCellTable = function (cellRng, isRoot) {\n      return !isExpandedCellRng(cellRng) && getTableFromCellRng(cellRng, isRoot).exists(function (table) {\n        var rows = table.dom.rows;\n        return rows.length === 1 && rows[0].cells.length === 1;\n      });\n    };\n    var getTableCells = function (table) {\n      return descendants$1(table, 'td,th');\n    };\n    var getCellRng = function (rng, isRoot) {\n      var startCell = getClosestCell(rng.startContainer, isRoot);\n      var endCell = getClosestCell(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng);\n    };\n    var getCellRangeFromStartTable = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start, isRoot).bind(function (table) {\n        return last(getTableCells(table)).map(function (endCell) {\n          return tableCellRng(cellRng.start, endCell);\n        });\n      });\n    };\n    var partialSelection = function (isRoot, rng) {\n      var startCell = getClosestCell(rng.startContainer, isRoot);\n      var endCell = getClosestCell(rng.endContainer, isRoot);\n      return rng.collapsed ? Optional.none() : lift2(startCell, endCell, tableCellRng).fold(function () {\n        return startCell.fold(function () {\n          return endCell.bind(function (endCell) {\n            return getClosestTable(endCell, isRoot).bind(function (table) {\n              return head(getTableCells(table)).map(function (startCell) {\n                return tableCellRng(startCell, endCell);\n              });\n            });\n          });\n        }, function (startCell) {\n          return getClosestTable(startCell, isRoot).bind(function (table) {\n            return last(getTableCells(table)).map(function (endCell) {\n              return tableCellRng(startCell, endCell);\n            });\n          });\n        });\n      }, function (cellRng) {\n        return isWithinSameTable(isRoot, cellRng) ? Optional.none() : getCellRangeFromStartTable(cellRng, isRoot);\n      });\n    };\n    var isWithinSameTable = function (isRoot, cellRng) {\n      return getTableFromCellRng(cellRng, isRoot).isSome();\n    };\n    var getTableSelectionFromCellRng = function (cellRng, isRoot) {\n      return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n        return tableSelection(cellRng, table, getTableCells(table));\n      });\n    };\n    var getTableSelection = function (optCellRng, rng, isRoot) {\n      return optCellRng.filter(function (cellRng) {\n        return isExpandedCellRng(cellRng) && isWithinSameTable(isRoot, cellRng);\n      }).orThunk(function () {\n        return partialSelection(isRoot, rng);\n      }).bind(function (cRng) {\n        return getTableSelectionFromCellRng(cRng, isRoot);\n      });\n    };\n    var getCellIndex = function (cells, cell) {\n      return findIndex(cells, function (x) {\n        return eq$2(x, cell);\n      });\n    };\n    var getSelectedCells = function (tableSelection) {\n      return lift2(getCellIndex(tableSelection.cells, tableSelection.rng.start), getCellIndex(tableSelection.cells, tableSelection.rng.end), function (startIndex, endIndex) {\n        return tableSelection.cells.slice(startIndex, endIndex + 1);\n      });\n    };\n    var isSingleCellTableContentSelected = function (optCellRng, rng, isRoot) {\n      return optCellRng.filter(function (cellRng) {\n        return isSingleCellTable(cellRng, isRoot) && hasAllContentsSelected(cellRng.start, rng);\n      }).map(function (cellRng) {\n        return cellRng.start;\n      });\n    };\n    var getAction = function (tableSelection) {\n      return getSelectedCells(tableSelection).map(function (selected) {\n        var cells = tableSelection.cells;\n        return selected.length === cells.length ? deleteAction.removeTable(tableSelection.table) : deleteAction.emptyCells(selected);\n      });\n    };\n    var getActionFromRange = function (root, rng) {\n      var isRoot = isRootFromElement(root);\n      var optCellRng = getCellRng(rng, isRoot);\n      return isSingleCellTableContentSelected(optCellRng, rng, isRoot).map(function (cell) {\n        return deleteAction.deleteCellSelection(rng, cell);\n      }).orThunk(function () {\n        return getTableSelection(optCellRng, rng, isRoot).bind(getAction);\n      });\n    };\n\n    var freefallRtl = function (root) {\n      var child = isComment(root) ? prevSibling(root) : lastChild(root);\n      return child.bind(freefallRtl).orThunk(function () {\n        return Optional.some(root);\n      });\n    };\n    var emptyCells = function (editor, cells) {\n      each(cells, fillWithPaddingBr);\n      editor.selection.setCursorLocation(cells[0].dom, 0);\n      return true;\n    };\n    var deleteCellContents = function (editor, rng, cell) {\n      rng.deleteContents();\n      var lastNode = freefallRtl(cell).getOr(cell);\n      var lastBlock = SugarElement.fromDom(editor.dom.getParent(lastNode.dom, editor.dom.isBlock));\n      if (isEmpty(lastBlock)) {\n        fillWithPaddingBr(lastBlock);\n        editor.selection.setCursorLocation(lastBlock.dom, 0);\n      }\n      if (!eq$2(cell, lastBlock)) {\n        var additionalCleanupNodes = parent(lastBlock).is(cell) ? [] : siblings(lastBlock);\n        each(additionalCleanupNodes.concat(children(cell)), function (node) {\n          if (!eq$2(node, lastBlock) && !contains$2(node, lastBlock)) {\n            remove(node);\n          }\n        });\n      }\n      return true;\n    };\n    var deleteTableElement = function (editor, table) {\n      deleteElement(editor, false, table);\n      return true;\n    };\n    var deleteCellRange = function (editor, rootElm, rng) {\n      return getActionFromRange(rootElm, rng).map(function (action) {\n        return action.fold(curry(deleteTableElement, editor), curry(emptyCells, editor), curry(deleteCellContents, editor));\n      });\n    };\n    var deleteCaptionRange = function (editor, caption) {\n      return emptyElement(editor, caption);\n    };\n    var deleteTableRange = function (editor, rootElm, rng, startElm) {\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCellRange(editor, rootElm, rng);\n      }, function (caption) {\n        return deleteCaptionRange(editor, caption);\n      }).getOr(false);\n    };\n    var deleteRange = function (editor, startElm) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      var selectedCells = getCellsFromEditor(editor);\n      return selectedCells.length !== 0 ? emptyCells(editor, selectedCells) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    var getParentCell = function (rootElm, elm) {\n      return find(parentsAndSelf(elm, rootElm), isTableCell$1);\n    };\n    var getParentCaption = function (rootElm, elm) {\n      return find(parentsAndSelf(elm, rootElm), function (elm) {\n        return name(elm) === 'caption';\n      });\n    };\n    var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return getParentCell(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCell) {\n          return eq$2(toCell, fromCell) === false;\n        });\n      });\n    };\n    var emptyElement = function (editor, elm) {\n      fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom, 0);\n      return Optional.some(true);\n    };\n    var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\n      return firstPositionIn(fromCaption.dom).bind(function (first) {\n        return lastPositionIn(fromCaption.dom).map(function (last) {\n          return forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first);\n        });\n      }).getOr(true);\n    };\n    var emptyCaretCaption = function (editor, elm) {\n      return emptyElement(editor, elm);\n    };\n    var validateCaretCaption = function (rootElm, fromCaption, to) {\n      return getParentCaption(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCaption) {\n        return eq$2(toCaption, fromCaption) === false;\n      });\n    };\n    var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n      }).or(Optional.some(true));\n    };\n    var deleteCaretCells = function (editor, forward, rootElm, startElm) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(function (fromCell) {\n        return isEmpty(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n      }).getOr(false);\n    };\n    var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isEmpty(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    var isNearTable = function (forward, pos) {\n      return forward ? isBeforeTable(pos) : isAfterTable(pos);\n    };\n    var isBeforeOrAfterTable = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || fromPosition(forward, editor.getBody(), fromPos).exists(function (pos) {\n        return isNearTable(forward, pos);\n      });\n    };\n    var deleteCaret = function (editor, forward, startElm) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCaretCells(editor, forward, rootElm, startElm) || isBeforeOrAfterTable(editor, forward);\n      }, function (fromCaption) {\n        return deleteCaretCaption(editor, forward, rootElm, fromCaption).getOr(false);\n      });\n    };\n    var backspaceDelete = function (editor, forward) {\n      var startElm = SugarElement.fromDom(editor.selection.getStart(true));\n      var cells = getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret(editor, forward, startElm) : deleteRange(editor, startElm);\n    };\n\n    var createRange$1 = function (sc, so, ec, eo) {\n      var rng = document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    var normalizeBlockSelectionRange = function (rng) {\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      var rootNode = rng.commonAncestorContainer;\n      return fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange$1(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    var normalize$2 = function (rng) {\n      return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n    };\n\n    var hasOnlyOneChild = function (node) {\n      return node.firstChild && node.firstChild === node.lastChild;\n    };\n    var isPaddingNode = function (node) {\n      return node.name === 'br' || node.value === nbsp;\n    };\n    var isPaddedEmptyBlock = function (schema, node) {\n      var blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild(node) && isPaddingNode(node.firstChild);\n    };\n    var isEmptyFragmentElement = function (schema, node) {\n      var nonEmptyElements = schema.getNonEmptyElements();\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    var isListFragment = function (schema, fragment) {\n      var firstChild = fragment.firstChild;\n      var lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    var cleanupDomFragment = function (domFragment) {\n      var firstChild = domFragment.firstChild;\n      var lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        firstChild.parentNode.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        lastChild.parentNode.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    var toDomFragment = function (dom, serializer, fragment) {\n      var html = serializer.serialize(fragment);\n      var domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    var listItems$1 = function (elm) {\n      return Tools.grep(elm.childNodes, function (child) {\n        return child.nodeName === 'LI';\n      });\n    };\n    var isPadding = function (node) {\n      return node.data === nbsp || isBr(node);\n    };\n    var isListItemPadded = function (node) {\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    var isEmptyOrPadded = function (elm) {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    var trimListItems = function (elms) {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    var getParentLi = function (dom, node) {\n      var parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    var isParentBlockLi = function (dom, node) {\n      return !!getParentLi(dom, node);\n    };\n    var getSplit = function (parentNode, rng) {\n      var beforeRng = rng.cloneRange();\n      var afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    var findFirstIn = function (node, rootNode) {\n      var caretPos = CaretPosition.before(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var findLastOf = function (node, rootNode) {\n      var caretPos = CaretPosition.after(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var insertMiddle = function (target, elms, rootNode, rng) {\n      var parts = getSplit(target, rng);\n      var parentElm = target.parentNode;\n      parentElm.insertBefore(parts[0], target);\n      Tools.each(elms, function (li) {\n        parentElm.insertBefore(li, target);\n      });\n      parentElm.insertBefore(parts[1], target);\n      parentElm.removeChild(target);\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    var insertBefore = function (target, elms, rootNode) {\n      var parentElm = target.parentNode;\n      Tools.each(elms, function (elm) {\n        parentElm.insertBefore(elm, target);\n      });\n      return findFirstIn(target, rootNode);\n    };\n    var insertAfter = function (target, elms, rootNode, dom) {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    var insertAtCaret = function (serializer, dom, rng, fragment) {\n      var domFragment = toDomFragment(dom, serializer, fragment);\n      var liTarget = getParentLi(dom, rng.startContainer);\n      var liElms = trimListItems(listItems$1(domFragment.firstChild));\n      var BEGINNING = 1, END = 2;\n      var rootNode = dom.getRoot();\n      var isAt = function (location) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(dom.getRoot());\n        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n      };\n      if (isAt(BEGINNING)) {\n        return insertBefore(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter(liTarget, liElms, rootNode, dom);\n      }\n      return insertMiddle(liTarget, liElms, rootNode, rng);\n    };\n\n    var trimOrPadLeftRight = function (dom, rng, html) {\n      var root = SugarElement.fromDom(dom.getRoot());\n      if (needsToBeNbspLeft(root, CaretPosition.fromRangeStart(rng))) {\n        html = html.replace(/^ /, '&nbsp;');\n      } else {\n        html = html.replace(/^&nbsp;/, ' ');\n      }\n      if (needsToBeNbspRight(root, CaretPosition.fromRangeEnd(rng))) {\n        html = html.replace(/(&nbsp;| )(<br( \\/)>)?$/, '&nbsp;');\n      } else {\n        html = html.replace(/&nbsp;(<br( \\/)?>)?$/, ' ');\n      }\n      return html;\n    };\n\n    var isTableCell$4 = isTableCell;\n    var isTableCellContentSelected = function (dom, rng, cell) {\n      if (cell !== null) {\n        var endCell = dom.getParent(rng.endContainer, isTableCell$4);\n        return cell === endCell && hasAllContentsSelected(SugarElement.fromDom(cell), rng);\n      } else {\n        return false;\n      }\n    };\n    var validInsertion = function (editor, value, parentNode) {\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        var node = parentNode.firstChild;\n        var node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          editor.selection.setContent(value);\n        }\n      }\n    };\n    var trimBrsFromTableCell = function (dom, elm) {\n      Optional.from(dom.getParent(elm, 'td,th')).map(SugarElement.fromDom).each(trimBlockTrailingBr);\n    };\n    var reduceInlineTextElements = function (editor, merge) {\n      var textInlineElements = editor.schema.getTextInlineElements();\n      var dom = editor.dom;\n      if (merge) {\n        var root_1 = editor.getBody();\n        var elementUtils_1 = ElementUtils(dom);\n        Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\n          var isInline = isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);\n          if (isInline && hasInheritableStyles(dom, node)) {\n            for (var parentNode = node.parentNode; isNonNullable(parentNode) && parentNode !== root_1; parentNode = parentNode.parentNode) {\n              var styleConflict = hasStyleConflict(dom, node, parentNode);\n              if (styleConflict) {\n                break;\n              }\n              if (elementUtils_1.compare(parentNode, node)) {\n                dom.remove(node, true);\n                break;\n              }\n            }\n          }\n        });\n      }\n    };\n    var markFragmentElements = function (fragment) {\n      var node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    var unmarkFragmentElements = function (elm) {\n      Tools.each(elm.getElementsByTagName('*'), function (elm) {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    var isPartOfFragment = function (node) {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    var canHaveChildren = function (editor, node) {\n      return node && !editor.schema.getShortEndedElements()[node.nodeName];\n    };\n    var moveSelectionToMarker = function (editor, marker) {\n      var nextRng;\n      var dom = editor.dom, selection = editor.selection;\n      var node2;\n      var getContentEditableFalseParent = function (node) {\n        var root = editor.getBody();\n        for (; node && node !== root; node = node.parentNode) {\n          if (dom.getContentEditable(node) === 'false') {\n            return node;\n          }\n        }\n        return null;\n      };\n      if (!marker) {\n        return;\n      }\n      selection.scrollIntoView(marker);\n      var parentEditableFalseElm = getContentEditableFalseParent(marker);\n      if (parentEditableFalseElm) {\n        dom.remove(marker);\n        selection.select(parentEditableFalseElm);\n        return;\n      }\n      var rng = dom.createRng();\n      var node = marker.previousSibling;\n      if (node && node.nodeType === 3) {\n        rng.setStart(node, node.nodeValue.length);\n        if (!Env.ie) {\n          node2 = marker.nextSibling;\n          if (node2 && node2.nodeType === 3) {\n            node.appendData(node2.data);\n            node2.parentNode.removeChild(node2);\n          }\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      var findNextCaretRng = function (rng) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        if (caretPos) {\n          return caretPos.toRange();\n        }\n      };\n      var parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        editor.$(parentBlock).empty();\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell$4(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    var deleteSelectedContent = function (editor) {\n      var dom = editor.dom;\n      var rng = normalize$2(editor.selection.getRng());\n      editor.selection.setRng(rng);\n      var startCell = dom.getParent(rng.startContainer, isTableCell$4);\n      if (isTableCellContentSelected(dom, rng, startCell)) {\n        deleteCellContents(editor, rng, SugarElement.fromDom(startCell));\n      } else {\n        editor.getDoc().execCommand('Delete', false, null);\n      }\n    };\n    var insertHtmlAtCaret = function (editor, value, details) {\n      var parentNode, rootNode, args;\n      var marker, rng, node;\n      var selection = editor.selection, dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        value = trimOrPadLeftRight(dom, selection.getRng(), value);\n      }\n      var parser = editor.parser;\n      var merge = details.merge;\n      var serializer = HtmlSerializer({ validate: shouldValidate(editor) }, editor.schema);\n      var bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';\n      args = {\n        content: value,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      };\n      args = editor.fire('BeforeSetContent', args);\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', {\n          content: args.content,\n          format: 'html',\n          selection: true,\n          paste: details.paste\n        });\n        return;\n      }\n      value = args.content;\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      rng = selection.getRng();\n      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n      var body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        deleteSelectedContent(editor);\n      }\n      parentNode = selection.getNode();\n      var parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      var fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && isListFragment(editor.schema, fragment) && isParentBlockLi(dom, parentNode)) {\n        rng = insertAtCaret(serializer, dom, selection.getRng(), fragment);\n        selection.setRng(rng);\n        editor.fire('SetContent', args);\n        return;\n      }\n      markFragmentElements(fragment);\n      node = fragment.lastChild;\n      if (node.attr('id') === 'mce_marker') {\n        marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        editor.selection.setContent(bookmarkHtml);\n        parentNode = selection.getNode();\n        rootNode = editor.getBody();\n        if (parentNode.nodeType === 9) {\n          parentNode = node = rootNode;\n        } else {\n          node = parentNode;\n        }\n        while (node !== rootNode) {\n          parentNode = node;\n          node = node.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n          return serializer.serialize(fragment);\n        })));\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      unmarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(dom, selection.getStart());\n      editor.fire('SetContent', args);\n      editor.addVisual();\n    };\n\n    var traverse = function (node, fn) {\n      fn(node);\n      if (node.firstChild) {\n        traverse(node.firstChild, fn);\n      }\n      if (node.next) {\n        traverse(node.next, fn);\n      }\n    };\n    var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\n      var nodeMatches = {};\n      var attrMatches = {};\n      var matches = [];\n      if (node.firstChild) {\n        traverse(node.firstChild, function (node) {\n          each(nodeFilters, function (filter) {\n            if (filter.name === node.name) {\n              if (nodeMatches[filter.name]) {\n                nodeMatches[filter.name].nodes.push(node);\n              } else {\n                nodeMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n          each(attributeFilters, function (filter) {\n            if (typeof node.attr(filter.name) === 'string') {\n              if (attrMatches[filter.name]) {\n                attrMatches[filter.name].nodes.push(node);\n              } else {\n                attrMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n        });\n      }\n      for (var name_1 in nodeMatches) {\n        if (nodeMatches.hasOwnProperty(name_1)) {\n          matches.push(nodeMatches[name_1]);\n        }\n      }\n      for (var name_2 in attrMatches) {\n        if (attrMatches.hasOwnProperty(name_2)) {\n          matches.push(attrMatches[name_2]);\n        }\n      }\n      return matches;\n    };\n    var filter$3 = function (nodeFilters, attributeFilters, node) {\n      var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      each(matches, function (match) {\n        each(match.filter.callbacks, function (callback) {\n          callback(match.nodes, match.filter.name, {});\n        });\n      });\n    };\n\n    var defaultFormat = 'html';\n    var isTreeNode = function (content) {\n      return content instanceof AstNode;\n    };\n    var moveSelection = function (editor) {\n      if (hasFocus$1(editor)) {\n        firstPositionIn(editor.getBody()).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    var setEditorHtml = function (editor, html) {\n      editor.dom.setHTML(editor.getBody(), html);\n      moveSelection(editor);\n    };\n    var setContentString = function (editor, body, content, args) {\n      var forcedRootBlockName, padd;\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        forcedRootBlockName = getForcedRootBlock(editor);\n        if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, getForcedRootBlockAttrs(editor), content);\n        } else if (!content) {\n          content = '<br data-mce-bogus=\"1\">';\n        }\n        setEditorHtml(editor, content);\n        editor.fire('SetContent', args);\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        args.content = isWsPreserveElement(SugarElement.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, args.content);\n        if (!args.no_events) {\n          editor.fire('SetContent', args);\n        }\n      }\n      return args.content;\n    };\n    var setContentTree = function (editor, body, content, args) {\n      filter$3(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      var html = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(content);\n      args.content = isWsPreserveElement(SugarElement.fromDom(body)) ? html : Tools.trim(html);\n      setEditorHtml(editor, args.content);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n      return content;\n    };\n    var setContentInternal = function (editor, content, args) {\n      args.format = args.format ? args.format : defaultFormat;\n      args.set = true;\n      args.content = isTreeNode(content) ? '' : content;\n      if (!args.no_events) {\n        editor.fire('BeforeSetContent', args);\n      }\n      if (!isTreeNode(content)) {\n        content = args.content;\n      }\n      return Optional.from(editor.getBody()).fold(constant(content), function (body) {\n        return isTreeNode(content) ? setContentTree(editor, body, content, args) : setContentString(editor, body, content, args);\n      });\n    };\n\n    var sibling$2 = function (scope, predicate) {\n      return sibling(scope, predicate).isSome();\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor$3 = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$2 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor$3(scope, transform, stop);\n      });\n    };\n\n    var isEq$2 = isEq;\n    var matchesUnInheritedFormatSelector = function (ed, node, name) {\n      var formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (var i = 0; i < formatList.length; i++) {\n          if (formatList[i].inherit === false && ed.dom.is(node, formatList[i].selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var matchParents = function (editor, node, name, vars) {\n      var root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      node = editor.dom.getParent(node, function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\n          return true;\n        }\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n      });\n      return matchNode(editor, node, name, vars);\n    };\n    var matchName = function (dom, node, format) {\n      if (isEq$2(node, format.inline)) {\n        return true;\n      }\n      if (isEq$2(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return node.nodeType === 1 && dom.is(node, format.selector);\n      }\n    };\n    var matchItems = function (dom, node, format, itemName, similar, vars) {\n      var key, value;\n      var items = format[itemName];\n      var i;\n      if (format.onmatch) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (typeof items.length === 'undefined') {\n          for (key in items) {\n            if (items.hasOwnProperty(key)) {\n              if (itemName === 'attributes') {\n                value = dom.getAttrib(node, key);\n              } else {\n                value = getStyle(dom, node, key);\n              }\n              if (similar && !value && !format.exact) {\n                return;\n              }\n              if ((!similar || format.exact) && !isEq$2(value, normalizeStyleValue(dom, replaceVars(items[key], vars), key))) {\n                return;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < items.length; i++) {\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : getStyle(dom, node, items[i])) {\n              return format;\n            }\n          }\n        }\n      }\n      return format;\n    };\n    var matchNode = function (ed, node, name, vars, similar) {\n      var formatList = ed.formatter.get(name);\n      var format, i, x, classes;\n      var dom = ed.dom;\n      if (formatList && node) {\n        for (i = 0; i < formatList.length; i++) {\n          format = formatList[i];\n          if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            if (classes = format.classes) {\n              for (x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, replaceVars(classes[x], vars))) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n    };\n    var match = function (editor, name, vars, node) {\n      if (node) {\n        return matchParents(editor, node, name, vars);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars)) {\n        return true;\n      }\n      var startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var matchAll = function (editor, names, vars) {\n      var matchedFormatNames = [];\n      var checkedMap = {};\n      var startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, function (node) {\n        for (var i = 0; i < names.length; i++) {\n          var name_1 = names[i];\n          if (!checkedMap[name_1] && matchNode(editor, node, name_1, vars)) {\n            checkedMap[name_1] = true;\n            matchedFormatNames.push(name_1);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    var closest$3 = function (editor, names) {\n      var isRoot = function (elm) {\n        return eq$2(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      var match = function (elm, name) {\n        return matchNode(editor, elm.dom, name) ? Optional.some(name) : Optional.none();\n      };\n      return Optional.from(editor.selection.getStart(true)).bind(function (rawElm) {\n        return closest$2(SugarElement.fromDom(rawElm), function (elm) {\n          return findMap(names, function (name) {\n            return match(elm, name);\n          });\n        }, isRoot);\n      }).getOrNull();\n    };\n    var canApply = function (editor, name) {\n      var formatList = editor.formatter.get(name);\n      var startNode, parents, i, x, selector;\n      var dom = editor.dom;\n      if (formatList) {\n        startNode = editor.selection.getStart();\n        parents = getParents$1(dom, startNode);\n        for (x = formatList.length - 1; x >= 0; x--) {\n          selector = formatList[x].selector;\n          if (!selector || formatList[x].defaultBlock) {\n            return true;\n          }\n          for (i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    var matchAllOnNode = function (editor, node, formatNames) {\n      return foldl(formatNames, function (acc, name) {\n        var matchSimilar = isVariableFormatName(editor, name);\n        if (editor.formatter.matchNode(node, name, {}, matchSimilar)) {\n          return acc.concat([name]);\n        } else {\n          return acc;\n        }\n      }, []);\n    };\n\n    var ZWSP$1 = ZWSP, CARET_ID$1 = '_mce_caret';\n    var importNode = function (ownerDocument, node) {\n      return ownerDocument.importNode(node, true);\n    };\n    var getEmptyCaretContainers = function (node) {\n      var nodes = [];\n      while (node) {\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP$1 || node.childNodes.length > 1) {\n          return [];\n        }\n        if (node.nodeType === 1) {\n          nodes.push(node);\n        }\n        node = node.firstChild;\n      }\n      return nodes;\n    };\n    var isCaretContainerEmpty = function (node) {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    var findFirstTextNode = function (node) {\n      if (node) {\n        var walker = new DomTreeWalker(node, node);\n        for (node = walker.current(); node; node = walker.next()) {\n          if (isText$1(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var createCaretContainer = function (fill) {\n      var caretContainer = SugarElement.fromTag('span');\n      setAll(caretContainer, {\n        'id': CARET_ID$1,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append(caretContainer, SugarElement.fromText(ZWSP$1));\n      }\n      return caretContainer;\n    };\n    var trimZwspFromCaretContainer = function (caretContainerNode) {\n      var textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP$1) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    var removeCaretContainerNode = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        deleteElement(editor, false, SugarElement.fromDom(node), moveCaret);\n      } else {\n        var rng = selection.getRng();\n        var block = dom.getParent(node, dom.isBlock);\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        var textNode = trimZwspFromCaretContainer(node);\n        dom.remove(node, true);\n        if (startContainer === textNode && startOffset > 0) {\n          rng.setStart(textNode, startOffset - 1);\n        }\n        if (endContainer === textNode && endOffset > 0) {\n          rng.setEnd(textNode, endOffset - 1);\n        }\n        if (block && dom.isEmpty(block)) {\n          fillWithPaddingBr(SugarElement.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    var removeCaretContainer = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID$1)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\n      var dom = editor.dom, block = dom.getParent(formatNode, curry(isTextBlock$1, editor));\n      if (block && dom.isEmpty(block)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        removeTrailingBr(SugarElement.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    var appendNode = function (parentNode, node) {\n      parentNode.appendChild(node);\n      return node;\n    };\n    var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\n      var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1));\n    };\n    var cleanFormatNode = function (editor, caretContainer, formatNode, name, vars, similar) {\n      var formatter = editor.formatter;\n      var dom = editor.dom;\n      var validFormats = filter(keys(formatter.get()), function (formatName) {\n        return formatName !== name && !contains$1(formatName, 'removeformat');\n      });\n      var matchedFormats = matchAllOnNode(editor, formatNode, validFormats);\n      var uniqueFormats = filter(matchedFormats, function (fmtName) {\n        return !areSimilarFormats(editor, fmtName, name);\n      });\n      if (uniqueFormats.length > 0) {\n        var clonedFormatNode = formatNode.cloneNode(false);\n        dom.add(caretContainer, clonedFormatNode);\n        formatter.remove(name, vars, clonedFormatNode, similar);\n        dom.remove(clonedFormatNode);\n        return Optional.some(clonedFormatNode);\n      } else {\n        return Optional.none();\n      }\n    };\n    var applyCaretFormat = function (editor, name, vars) {\n      var caretContainer, textNode;\n      var selection = editor.selection;\n      var selectionRng = selection.getRng();\n      var offset = selectionRng.startOffset;\n      var container = selectionRng.startContainer;\n      var text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      if (caretContainer) {\n        textNode = findFirstTextNode(caretContainer);\n      }\n      var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        var bookmark = selection.getBookmark();\n        selectionRng.collapse(true);\n        var rng = expandRng(editor, selectionRng, editor.formatter.get(name));\n        rng = split$1(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        if (!caretContainer || textNode.nodeValue !== ZWSP$1) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom);\n          textNode = caretContainer.firstChild;\n          selectionRng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    var removeCaretFormat = function (editor, name, vars, similar) {\n      var dom = editor.dom;\n      var selection = editor.selection;\n      var hasContentAfter, node, formatNode;\n      var parents = [];\n      var rng = selection.getRng();\n      var container = rng.startContainer;\n      var offset = rng.startOffset;\n      node = container;\n      if (container.nodeType === 3) {\n        if (offset !== container.nodeValue.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      while (node) {\n        if (matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        var bookmark = selection.getBookmark();\n        rng.collapse(true);\n        var expandedRng = expandRng(editor, rng, editor.formatter.get(name), true);\n        expandedRng = split$1(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng, similar);\n        selection.moveToBookmark(bookmark);\n      } else {\n        var caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        var newCaretContainer = createCaretContainer(false).dom;\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer !== null ? caretContainer : formatNode);\n        var cleanedFormatNode = cleanFormatNode(editor, newCaretContainer, formatNode, name, vars, similar);\n        var caretTextNode = insertFormatNodesIntoCaretContainer(parents.concat(cleanedFormatNode.toArray()), newCaretContainer);\n        removeCaretContainerNode(editor, caretContainer, false);\n        selection.setCursorLocation(caretTextNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    var disableCaretContainer = function (editor, keyCode) {\n      var selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP$1) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    var setup$3 = function (editor) {\n      editor.on('mouseup keydown', function (e) {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    var replaceWithCaretFormat = function (targetNode, formatNodes) {\n      var caretContainer = createCaretContainer(false);\n      var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom);\n      before(SugarElement.fromDom(targetNode), caretContainer);\n      remove(SugarElement.fromDom(targetNode));\n      return CaretPosition(innerMost, 0);\n    };\n    var isFormatElement = function (editor, element) {\n      var inlineElements = editor.schema.getTextInlineElements();\n      return inlineElements.hasOwnProperty(name(element)) && !isCaretNode(element.dom) && !isBogus(element.dom);\n    };\n    var isEmptyCaretFormatElement = function (element) {\n      return isCaretNode(element.dom) && isCaretContainerEmpty(element.dom);\n    };\n\n    var postProcessHooks = {};\n    var filter$4 = filter$2;\n    var each$8 = each$2;\n    var addPostProcessHook = function (name, hook) {\n      var hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    var postProcess = function (name, editor) {\n      each$8(postProcessHooks[name], function (hook) {\n        hook(editor);\n      });\n    };\n    addPostProcessHook('pre', function (editor) {\n      var rng = editor.selection.getRng();\n      var blocks;\n      var hasPreSibling = function (pre) {\n        return isPre(pre.previousSibling) && indexOf$1(blocks, pre.previousSibling) !== -1;\n      };\n      var joinPre = function (pre1, pre2) {\n        DomQuery(pre2).remove();\n        DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n      };\n      var isPre = matchNodeNames(['pre']);\n      if (!rng.collapsed) {\n        blocks = editor.selection.getSelectedBlocks();\n        each$8(filter$4(filter$4(blocks, isPre), hasPreSibling), function (pre) {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n\n    var each$9 = Tools.each;\n    var isElementNode = function (node) {\n      return isElement$1(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus(node);\n    };\n    var findElementSibling = function (node, siblingName) {\n      var sibling;\n      for (sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (isText$1(sibling) && sibling.nodeValue.length !== 0) {\n          return node;\n        }\n        if (isElement$1(sibling) && !isBookmarkNode$1(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    var mergeSiblingsNodes = function (dom, prev, next) {\n      var sibling, tmpSibling;\n      var elementUtils = ElementUtils(dom);\n      if (prev && next) {\n        prev = findElementSibling(prev, 'previousSibling');\n        next = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prev, next)) {\n          for (sibling = prev.nextSibling; sibling && sibling !== next;) {\n            tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prev.appendChild(tmpSibling);\n          }\n          dom.remove(next);\n          Tools.each(Tools.grep(next.childNodes), function (node) {\n            prev.appendChild(node);\n          });\n          return prev;\n        }\n      }\n      return next;\n    };\n    var mergeSiblings = function (dom, format, vars, node) {\n      if (node && format.merge_siblings !== false) {\n        var newNode = mergeSiblingsNodes(dom, getNonWhiteSpaceSibling(node), node);\n        mergeSiblingsNodes(dom, newNode, getNonWhiteSpaceSibling(newNode, true));\n      }\n    };\n    var clearChildStyles = function (dom, format, node) {\n      if (format.clear_child_styles) {\n        var selector = format.links ? '*:not(a)' : '*';\n        each$9(dom.select(selector, node), function (node) {\n          if (isElementNode(node)) {\n            each$9(format.styles, function (value, name) {\n              dom.setStyle(node, name, '');\n            });\n          }\n        });\n      }\n    };\n    var processChildElements = function (node, filter, process) {\n      each$9(node.childNodes, function (node) {\n        if (isElementNode(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    var unwrapEmptySpan = function (dom, node) {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    var hasStyle = function (dom, name) {\n      return function (node) {\n        return !!(node && getStyle(dom, node, name));\n      };\n    };\n    var applyStyle = function (dom, name, value) {\n      return function (node) {\n        dom.setStyle(node, name, value);\n        if (node.getAttribute('style') === '') {\n          node.removeAttribute('style');\n        }\n        unwrapEmptySpan(dom, node);\n      };\n    };\n\n    var removeResult = Adt.generate([\n      { keep: [] },\n      { rename: ['name'] },\n      { removed: [] }\n    ]);\n    var MCE_ATTR_RE = /^(src|href|style)$/;\n    var each$a = Tools.each;\n    var isEq$3 = isEq;\n    var isTableCellOrRow = function (node) {\n      return /^(TR|TH|TD)$/.test(node.nodeName);\n    };\n    var isChildOfInlineParent = function (dom, node, parent) {\n      return dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    };\n    var getContainer = function (ed, rng, start) {\n      var container, offset;\n      container = rng[start ? 'startContainer' : 'endContainer'];\n      offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement$1(container)) {\n        var lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (isText$1(container) && start && offset >= container.nodeValue.length) {\n        container = new DomTreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (isText$1(container) && !start && offset === 0) {\n        container = new DomTreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    var normalizeTableSelection = function (node, start) {\n      var prop = start ? 'firstChild' : 'lastChild';\n      if (isTableCellOrRow(node) && node[prop]) {\n        var childNode = node[prop];\n        if (node.nodeName === 'TR') {\n          return childNode[prop] || childNode;\n        } else {\n          return childNode;\n        }\n      }\n      return node;\n    };\n    var wrap$2 = function (dom, node, name, attrs) {\n      var wrapper = dom.create(name, attrs);\n      node.parentNode.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    var wrapWithSiblings = function (dom, node, next, name, attrs) {\n      var start = SugarElement.fromDom(node);\n      var wrapper = SugarElement.fromDom(dom.create(name, attrs));\n      var siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append$1(wrapper, siblings);\n      if (next) {\n        before(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after(start, wrapper);\n        append(wrapper, start);\n      }\n      return wrapper.dom;\n    };\n    var matchName$1 = function (dom, node, format) {\n      if (isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isEq$3(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return isElement$1(node) && dom.is(node, format.selector);\n      }\n    };\n    var isColorFormatAndAnchor = function (node, format) {\n      return format.links && node.nodeName === 'A';\n    };\n    var find$3 = function (dom, node, next, inc) {\n      node = getNonWhiteSpaceSibling(node, next, inc);\n      return !node || (node.nodeName === 'BR' || dom.isBlock(node));\n    };\n    var removeNode$1 = function (ed, node, format) {\n      var parentNode = node.parentNode;\n      var rootBlockElm;\n      var dom = ed.dom, forcedRootBlock = getForcedRootBlock(ed);\n      if (format.block) {\n        if (!forcedRootBlock) {\n          if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n            if (!find$3(dom, node, false) && !find$3(dom, node.firstChild, true, true)) {\n              node.insertBefore(dom.create('br'), node.firstChild);\n            }\n            if (!find$3(dom, node, true) && !find$3(dom, node.lastChild, false, true)) {\n              node.appendChild(dom.create('br'));\n            }\n          }\n        } else {\n          if (parentNode === dom.getRoot()) {\n            if (!format.list_block || !isEq$3(node, format.list_block)) {\n              each(from$1(node.childNodes), function (node) {\n                if (isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                  if (!rootBlockElm) {\n                    rootBlockElm = wrap$2(dom, node, forcedRootBlock);\n                    dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                  } else {\n                    rootBlockElm.appendChild(node);\n                  }\n                } else {\n                  rootBlockElm = 0;\n                }\n              });\n            }\n          }\n        }\n      }\n      if (format.selector && format.inline && !isEq$3(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, true);\n    };\n    var removeFormatInternal = function (ed, format, vars, node, compareNode) {\n      var stylesModified;\n      var dom = ed.dom;\n      if (!matchName$1(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return removeResult.keep();\n      }\n      var elm = node;\n      if (format.inline && format.remove === 'all' && isArray(format.preserve_attributes)) {\n        var attrsToPreserve = filter(dom.getAttribs(elm), function (attr) {\n          return contains(format.preserve_attributes, attr.name.toLowerCase());\n        });\n        dom.removeAllAttribs(elm);\n        each(attrsToPreserve, function (attr) {\n          return dom.setAttrib(elm, attr.name, attr.value);\n        });\n        if (attrsToPreserve.length > 0) {\n          return removeResult.rename('span');\n        }\n      }\n      if (format.remove !== 'all') {\n        each$a(format.styles, function (value, name) {\n          value = normalizeStyleValue(dom, replaceVars(value, vars), name + '');\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$3(getStyle(dom, compareNode, name), value))) {\n            dom.setStyle(elm, name, '');\n          }\n          stylesModified = true;\n        });\n        if (stylesModified && dom.getAttrib(elm, 'style') === '') {\n          elm.removeAttribute('style');\n          elm.removeAttribute('data-mce-style');\n        }\n        each$a(format.attributes, function (value, name) {\n          var valueOut;\n          value = replaceVars(value, vars);\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$3(dom.getAttrib(compareNode, name), value))) {\n            if (name === 'class') {\n              value = dom.getAttrib(elm, name);\n              if (value) {\n                valueOut = '';\n                each(value.split(/\\s+/), function (cls) {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(elm, name, valueOut);\n                  return;\n                }\n              }\n            }\n            if (name === 'class') {\n              elm.removeAttribute('className');\n            }\n            if (MCE_ATTR_RE.test(name)) {\n              elm.removeAttribute('data-mce-' + name);\n            }\n            elm.removeAttribute(name);\n          }\n        });\n        each$a(format.classes, function (value) {\n          value = replaceVars(value, vars);\n          if (!compareNode || dom.hasClass(compareNode, value)) {\n            dom.removeClass(elm, value);\n          }\n        });\n        var attrs = dom.getAttribs(elm);\n        for (var i = 0; i < attrs.length; i++) {\n          var attrName = attrs[i].nodeName;\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n            return removeResult.keep();\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode$1(ed, elm, format);\n        return removeResult.removed();\n      }\n      return removeResult.keep();\n    };\n    var removeFormat = function (ed, format, vars, node, compareNode) {\n      return removeFormatInternal(ed, format, vars, node, compareNode).fold(never, function (newName) {\n        ed.dom.rename(node, newName);\n        return true;\n      }, always);\n    };\n    var findFormatRoot = function (editor, container, name, vars, similar) {\n      var formatRoot;\n      each(getParents$1(editor.dom, container.parentNode).reverse(), function (parent) {\n        if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n          var format = matchNode(editor, parent, name, vars, similar);\n          if (format && format.split !== false) {\n            formatRoot = parent;\n          }\n        }\n      });\n      return formatRoot;\n    };\n    var removeFormatFromClone = function (editor, format, vars, clone) {\n      return removeFormatInternal(editor, format, vars, clone, clone).fold(constant(clone), function (newName) {\n        var fragment = editor.dom.createFragment();\n        fragment.appendChild(clone);\n        return editor.dom.rename(clone, newName);\n      }, constant(null));\n    };\n    var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\n      var clone, lastClone, firstClone;\n      var dom = editor.dom;\n      if (formatRoot) {\n        var formatRootParent = formatRoot.parentNode;\n        for (var parent_1 = container.parentNode; parent_1 && parent_1 !== formatRootParent; parent_1 = parent_1.parentNode) {\n          clone = dom.clone(parent_1, false);\n          for (var i = 0; i < formatList.length; i++) {\n            clone = removeFormatFromClone(editor, formatList[i], vars, clone);\n            if (clone === null) {\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = dom.split(formatRoot, container);\n        }\n        if (lastClone) {\n          target.parentNode.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n          if (format.inline) {\n            mergeSiblings(dom, format, vars, lastClone);\n          }\n        }\n      }\n      return container;\n    };\n    var remove$6 = function (ed, name, vars, node, similar) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var contentEditable = true;\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var splitToFormatRoot = function (container) {\n        var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      var isRemoveBookmarkNode = function (node) {\n        return isBookmarkNode$1(node) && isElement$1(node) && (node.id === '_start' || node.id === '_end');\n      };\n      var process = function (node) {\n        var lastContentEditable, hasContentEditableState;\n        var parentNode = node.parentNode;\n        if (isText$1(node) && hasBlockChildren(dom, parentNode)) {\n          removeFormat(ed, format, vars, parentNode, parentNode);\n        }\n        if (isElement$1(node) && dom.getContentEditable(node)) {\n          lastContentEditable = contentEditable;\n          contentEditable = dom.getContentEditable(node) === 'true';\n          hasContentEditableState = true;\n        }\n        var children = from$1(node.childNodes);\n        if (contentEditable && !hasContentEditableState) {\n          for (var i = 0; i < formatList.length; i++) {\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (var i = 0; i < children.length; i++) {\n              process(children[i]);\n            }\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n          }\n        }\n      };\n      var unwrap = function (start) {\n        var node = dom.get(start ? '_start' : '_end');\n        var out = node[start ? 'firstChild' : 'lastChild'];\n        if (isRemoveBookmarkNode(out)) {\n          out = out[start ? 'firstChild' : 'lastChild'];\n        }\n        if (isText$1(out) && out.data.length === 0) {\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n        }\n        dom.remove(node, true);\n        return out;\n      };\n      var removeRngStyle = function (rng) {\n        var startContainer, endContainer;\n        var expandedRng = expandRng(ed, rng, formatList, rng.collapsed);\n        if (format.split) {\n          expandedRng = split$1(expandedRng);\n          startContainer = getContainer(ed, expandedRng, true);\n          endContainer = getContainer(ed, expandedRng);\n          if (startContainer !== endContainer) {\n            startContainer = normalizeTableSelection(startContainer, true);\n            endContainer = normalizeTableSelection(endContainer, false);\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              var marker = Optional.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              var marker = Optional.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$2(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$2(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            var newRng = dom.createRng();\n            newRng.setStartAfter(startContainer);\n            newRng.setEndBefore(endContainer);\n            walk$1(dom, newRng, function (nodes) {\n              each(nodes, function (n) {\n                if (!isBookmarkNode$1(n) && !isBookmarkNode$1(n.parentNode)) {\n                  splitToFormatRoot(n);\n                }\n              });\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          expandedRng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          expandedRng.startOffset = dom.nodeIndex(startContainer);\n          expandedRng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          expandedRng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        walk$1(dom, expandedRng, function (nodes) {\n          each(nodes, function (node) {\n            process(node);\n            var textDecorations = [\n              'underline',\n              'line-through',\n              'overline'\n            ];\n            each(textDecorations, function (decoration) {\n              if (isElement$1(node) && ed.dom.getStyle(node, 'text-decoration') === decoration && node.parentNode && getTextDecoration(dom, node.parentNode) === decoration) {\n                removeFormat(ed, {\n                  deep: false,\n                  exact: true,\n                  inline: 'span',\n                  styles: { textDecoration: decoration }\n                }, null, node);\n              }\n            });\n          });\n        });\n      };\n      if (node) {\n        if (isNode(node)) {\n          var rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        return;\n      }\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0; i < formatList.length; i++) {\n          if (formatList[i].ceFalseOverride) {\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        return;\n      }\n      if (!selection.isCollapsed() || !format.inline || getCellsFromEditor(ed).length) {\n        preserve(selection, true, function () {\n          runOnRanges(ed, removeRngStyle);\n        });\n        if (format.inline && match(ed, name, vars, selection.getStart())) {\n          moveStart(dom, selection, selection.getRng());\n        }\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n    };\n\n    var each$b = Tools.each;\n    var mergeTextDecorationsAndColor = function (dom, format, vars, node) {\n      var processTextDecorationsAndColor = function (n) {\n        if (n.nodeType === 1 && n.parentNode && n.parentNode.nodeType === 1) {\n          var textDecoration = getTextDecoration(dom, n.parentNode);\n          if (dom.getStyle(n, 'color') && textDecoration) {\n            dom.setStyle(n, 'text-decoration', textDecoration);\n          } else if (dom.getStyle(n, 'text-decoration') === textDecoration) {\n            dom.setStyle(n, 'text-decoration', null);\n          }\n        }\n      };\n      if (format.styles && (format.styles.color || format.styles.textDecoration)) {\n        Tools.walk(node, processTextDecorationsAndColor, 'childNodes');\n        processTextDecorationsAndColor(node);\n      }\n    };\n    var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\n      if (format.styles && format.styles.backgroundColor) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    var mergeSubSup = function (dom, format, vars, node) {\n      if (format.inline === 'sub' || format.inline === 'sup') {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n      }\n    };\n    var mergeWithChildren = function (editor, formatList, vars, node) {\n      each$b(formatList, function (format) {\n        each$b(editor.dom.select(format.inline, node), function (child) {\n          if (!isElementNode(child)) {\n            return;\n          }\n          removeFormat(editor, format, vars, child, format.exact ? child : null);\n        });\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    var mergeWithParents = function (editor, format, name, vars, node) {\n      if (matchNode(editor, node.parentNode, name, vars)) {\n        if (removeFormat(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents) {\n        editor.dom.getParent(node.parentNode, function (parent) {\n          if (matchNode(editor, parent, name, vars)) {\n            removeFormat(editor, format, vars, node);\n            return true;\n          }\n        });\n      }\n    };\n\n    var each$c = Tools.each;\n    var hasFormatProperty = function (format, prop) {\n      return hasNonNullableKey(format, prop);\n    };\n    var isElementNode$1 = function (node) {\n      return node && node.nodeType === 1 && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus(node);\n    };\n    var canFormatBR = function (editor, format, node, parentName) {\n      if (canFormatEmptyLines(editor) && isInlineFormat(format)) {\n        var validBRParentElements = __assign(__assign({}, editor.schema.getTextBlockElements()), {\n          td: {},\n          th: {},\n          li: {},\n          dt: {},\n          dd: {},\n          figcaption: {},\n          caption: {},\n          details: {},\n          summary: {}\n        });\n        var hasCaretNodeSibling = sibling$2(SugarElement.fromDom(node), function (sibling) {\n          return isCaretNode(sibling.dom);\n        });\n        return hasNonNullableKey(validBRParentElements, parentName) && isEmpty(SugarElement.fromDom(node.parentNode), false) && !hasCaretNodeSibling;\n      } else {\n        return false;\n      }\n    };\n    var applyFormat = function (ed, name, vars, node) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var isCollapsed = !node && ed.selection.isCollapsed();\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var setElementFormat = function (elm, fmt) {\n        fmt = fmt || format;\n        if (elm) {\n          if (fmt.onformat) {\n            fmt.onformat(elm, fmt, vars, node);\n          }\n          each$c(fmt.styles, function (value, name) {\n            dom.setStyle(elm, name, replaceVars(value, vars));\n          });\n          if (fmt.styles) {\n            var styleVal = dom.getAttrib(elm, 'style');\n            if (styleVal) {\n              dom.setAttrib(elm, 'data-mce-style', styleVal);\n            }\n          }\n          each$c(fmt.attributes, function (value, name) {\n            dom.setAttrib(elm, name, replaceVars(value, vars));\n          });\n          each$c(fmt.classes, function (value) {\n            value = replaceVars(value, vars);\n            if (!dom.hasClass(elm, value)) {\n              dom.addClass(elm, value);\n            }\n          });\n        }\n      };\n      var applyNodeStyle = function (formatList, node) {\n        var found = false;\n        if (!isSelectorFormat(format)) {\n          return false;\n        }\n        each$c(formatList, function (format) {\n          if ('collapsed' in format && format.collapsed !== isCollapsed) {\n            return;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n        });\n        return found;\n      };\n      var applyRngStyle = function (dom, rng, bookmark, nodeSpecific) {\n        var newWrappers = [];\n        var contentEditable = true;\n        var wrapName = format.inline || format.block;\n        var wrapElm = dom.create(wrapName);\n        setElementFormat(wrapElm);\n        walk$1(dom, rng, function (nodes) {\n          var currentWrapElm;\n          var process = function (node) {\n            var hasContentEditableState = false;\n            var lastContentEditable = contentEditable;\n            var nodeName = node.nodeName.toLowerCase();\n            var parentName = node.parentNode.nodeName.toLowerCase();\n            if (isElement$1(node) && dom.getContentEditable(node)) {\n              lastContentEditable = contentEditable;\n              contentEditable = dom.getContentEditable(node) === 'true';\n              hasContentEditableState = true;\n            }\n            if (isBr(node) && !canFormatBR(ed, format, node, parentName)) {\n              currentWrapElm = null;\n              if (isBlockFormat(format)) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (format.wrapper && matchNode(ed, node, name, vars)) {\n              currentWrapElm = null;\n              return;\n            }\n            if (contentEditable && !hasContentEditableState && isBlockFormat(format) && !format.wrapper && isTextBlock$1(ed, nodeName) && isValid(ed, parentName, wrapName)) {\n              var elm = dom.rename(node, wrapName);\n              setElementFormat(elm);\n              newWrappers.push(elm);\n              currentWrapElm = null;\n              return;\n            }\n            if (isSelectorFormat(format)) {\n              var found = applyNodeStyle(formatList, node);\n              if (isText$1(node) && hasBlockChildren(dom, node.parentNode)) {\n                applyNodeStyle(formatList, node.parentNode);\n              }\n              if (!hasFormatProperty(format, 'inline') || found) {\n                currentWrapElm = null;\n                return;\n              }\n            }\n            if (contentEditable && !hasContentEditableState && isValid(ed, wrapName, nodeName) && isValid(ed, parentName, wrapName) && !(!nodeSpecific && node.nodeType === 3 && node.nodeValue.length === 1 && node.nodeValue.charCodeAt(0) === 65279) && !isCaretNode(node) && (!hasFormatProperty(format, 'inline') || !dom.isBlock(node))) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                node.parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = null;\n              each$c(Tools.grep(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = null;\n            }\n          };\n          each$c(nodes, process);\n        });\n        if (format.links === true) {\n          each$c(newWrappers, function (node) {\n            var process = function (node) {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$c(Tools.grep(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$c(newWrappers, function (node) {\n          var getChildCount = function (node) {\n            var count = 0;\n            each$c(node.childNodes, function (node) {\n              if (!isEmptyTextNode(node) && !isBookmarkNode$1(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          var getChildElementNode = function (root) {\n            var child = false;\n            each$c(root.childNodes, function (node) {\n              if (isElementNode$1(node)) {\n                child = node;\n                return false;\n              }\n            });\n            return child;\n          };\n          var mergeStyles = function (node) {\n            var clone;\n            var child = getChildElementNode(node);\n            if (child && !isBookmarkNode$1(child) && matchName(dom, child, format)) {\n              clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, true);\n            }\n            return clone || node;\n          };\n          var childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, true);\n            return;\n          }\n          if (isInlineFormat(format) || format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            mergeWithChildren(ed, formatList, vars, node);\n            mergeWithParents(ed, format, name, vars, node);\n            mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            mergeTextDecorationsAndColor(dom, format, vars, node);\n            mergeSubSup(dom, format, vars, node);\n            mergeSiblings(dom, format, vars, node);\n          }\n        });\n      };\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          var formatItem = formatList[i];\n          if (formatItem.ceFalseOverride && isSelectorFormat(formatItem) && dom.is(node, formatItem.selector)) {\n            setElementFormat(node, formatItem);\n            return;\n          }\n        }\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (isNode(node)) {\n            if (!applyNodeStyle(formatList, node)) {\n              var rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, expandRng(ed, rng, formatList), null, true);\n            }\n          } else {\n            applyRngStyle(dom, node, null, true);\n          }\n        } else {\n          if (!isCollapsed || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n            var curSelNode = selection.getNode();\n            var firstFormat = formatList[0];\n            if (!ed.settings.forced_root_block && firstFormat.defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n              applyFormat(ed, firstFormat.defaultBlock);\n            }\n            selection.setRng(normalize$2(selection.getRng()));\n            preserve(selection, true, function (bookmark) {\n              runOnRanges(ed, function (selectionRng, fake) {\n                var expandedRng = fake ? selectionRng : expandRng(ed, selectionRng, formatList);\n                applyRngStyle(dom, expandedRng);\n              });\n            });\n            moveStart(dom, selection, selection.getRng());\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n        }\n        postProcess(name, ed);\n      }\n    };\n\n    var setup$4 = function (registeredFormatListeners, editor) {\n      var currentFormats = Cell({});\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', function (e) {\n        updateAndFireChangeCallbacks(editor, e.element, currentFormats, registeredFormatListeners.get());\n      });\n    };\n    var updateAndFireChangeCallbacks = function (editor, elm, currentFormats, formatChangeData) {\n      var formatsList = keys(currentFormats.get());\n      var newFormats = {};\n      var matchedFormats = {};\n      var parents = filter(getParents$1(editor.dom, elm), function (node) {\n        return node.nodeType === 1 && !node.getAttribute('data-mce-bogus');\n      });\n      each$1(formatChangeData, function (data, format) {\n        Tools.each(parents, function (node) {\n          if (editor.formatter.matchNode(node, format, {}, data.similar)) {\n            if (formatsList.indexOf(format) === -1) {\n              each(data.callbacks, function (callback) {\n                callback(true, {\n                  node: node,\n                  format: format,\n                  parents: parents\n                });\n              });\n              newFormats[format] = data.callbacks;\n            }\n            matchedFormats[format] = data.callbacks;\n            return false;\n          }\n          if (matchesUnInheritedFormatSelector(editor, node, format)) {\n            return false;\n          }\n        });\n      });\n      var remainingFormats = filterRemainingFormats(currentFormats.get(), matchedFormats, elm, parents);\n      currentFormats.set(__assign(__assign({}, newFormats), remainingFormats));\n    };\n    var filterRemainingFormats = function (currentFormats, matchedFormats, elm, parents) {\n      return bifilter(currentFormats, function (callbacks, format) {\n        if (!has(matchedFormats, format)) {\n          each(callbacks, function (callback) {\n            callback(false, {\n              node: elm,\n              format: format,\n              parents: parents\n            });\n          });\n          return false;\n        } else {\n          return true;\n        }\n      }).t;\n    };\n    var addListeners = function (registeredFormatListeners, formats, callback, similar) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each(formats.split(','), function (format) {\n        if (!formatChangeItems[format]) {\n          formatChangeItems[format] = {\n            similar: similar,\n            callbacks: []\n          };\n        }\n        formatChangeItems[format].callbacks.push(callback);\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var removeListeners = function (registeredFormatListeners, formats, callback) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each(formats.split(','), function (format) {\n        formatChangeItems[format].callbacks = filter(formatChangeItems[format].callbacks, function (c) {\n          return c !== callback;\n        });\n        if (formatChangeItems[format].callbacks.length === 0) {\n          delete formatChangeItems[format];\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var formatChangedInternal = function (editor, registeredFormatListeners, formats, callback, similar) {\n      if (registeredFormatListeners.get() === null) {\n        setup$4(registeredFormatListeners, editor);\n      }\n      addListeners(registeredFormatListeners, formats, callback, similar);\n      return {\n        unbind: function () {\n          return removeListeners(registeredFormatListeners, formats, callback);\n        }\n      };\n    };\n\n    var toggle = function (editor, name, vars, node) {\n      var fmt = editor.formatter.get(name);\n      if (match(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n        remove$6(editor, name, vars, node);\n      } else {\n        applyFormat(editor, name, vars, node);\n      }\n    };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || document;\n      var fragment = doc.createDocumentFragment();\n      each(elements, function (element) {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    var tableModel = function (element, width, rows) {\n      return {\n        element: element,\n        width: width,\n        rows: rows\n      };\n    };\n    var tableRow = function (element, cells) {\n      return {\n        element: element,\n        cells: cells\n      };\n    };\n    var cellPosition = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var getSpan = function (td, key) {\n      var value = parseInt(get$4(td, key), 10);\n      return isNaN(value) ? 1 : value;\n    };\n    var fillout = function (table, x, y, tr, td) {\n      var rowspan = getSpan(td, 'rowspan');\n      var colspan = getSpan(td, 'colspan');\n      var rows = table.rows;\n      for (var y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep(tr), []);\n        }\n        for (var x2 = x; x2 < x + colspan; x2++) {\n          var cells = rows[y2].cells;\n          cells[x2] = y2 === y && x2 === x ? td : shallow(td);\n        }\n      }\n    };\n    var cellExists = function (table, x, y) {\n      var rows = table.rows;\n      var cells = rows[y] ? rows[y].cells : [];\n      return !!cells[x];\n    };\n    var skipCellsX = function (table, x, y) {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    var getWidth = function (rows) {\n      return foldl(rows, function (acc, row) {\n        return row.cells.length > acc ? row.cells.length : acc;\n      }, 0);\n    };\n    var findElementPos = function (table, element) {\n      var rows = table.rows;\n      for (var y = 0; y < rows.length; y++) {\n        var cells = rows[y].cells;\n        for (var x = 0; x < cells.length; x++) {\n          if (eq$2(cells[x], element)) {\n            return Optional.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Optional.none();\n    };\n    var extractRows = function (table, sx, sy, ex, ey) {\n      var newRows = [];\n      var rows = table.rows;\n      for (var y = sy; y <= ey; y++) {\n        var cells = rows[y].cells;\n        var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element, slice));\n      }\n      return newRows;\n    };\n    var subTable = function (table, startPos, endPos) {\n      var sx = startPos.x, sy = startPos.y;\n      var ex = endPos.x, ey = endPos.y;\n      var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element, getWidth(newRows), newRows);\n    };\n    var createDomTable = function (table, rows) {\n      var tableElement = shallow(table.element);\n      var tableBody = SugarElement.fromTag('tbody');\n      append$1(tableBody, rows);\n      append(tableElement, tableBody);\n      return tableElement;\n    };\n    var modelRowsToDomRows = function (table) {\n      return map(table.rows, function (row) {\n        var cells = map(row.cells, function (cell) {\n          var td = deep(cell);\n          remove$1(td, 'colspan');\n          remove$1(td, 'rowspan');\n          return td;\n        });\n        var tr = shallow(row.element);\n        append$1(tr, cells);\n        return tr;\n      });\n    };\n    var fromDom$1 = function (tableElm) {\n      var table = tableModel(shallow(tableElm), 0, []);\n      each(descendants$1(tableElm, 'tr'), function (tr, y) {\n        each(descendants$1(tr, 'td,th'), function (td, x) {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element, getWidth(table.rows), table.rows);\n    };\n    var toDom = function (table) {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    var subsection = function (table, startElement, endElement) {\n      return findElementPos(table, startElement).bind(function (startPos) {\n        return findElementPos(table, endElement).map(function (endPos) {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n\n    var findParentListContainer = function (parents) {\n      return find(parents, function (elm) {\n        return name(elm) === 'ul' || name(elm) === 'ol';\n      });\n    };\n    var getFullySelectedListWrappers = function (parents, rng) {\n      return find(parents, function (elm) {\n        return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n      }).fold(constant([]), function (_li) {\n        return findParentListContainer(parents).map(function (listCont) {\n          var listElm = SugarElement.fromTag(name(listCont));\n          var listStyles = filter$1(getAllRaw(listCont), function (_style, name) {\n            return startsWith(name, 'list-style');\n          });\n          setAll$1(listElm, listStyles);\n          return [\n            SugarElement.fromTag('li'),\n            listElm\n          ];\n        }).getOr([]);\n      });\n    };\n    var wrap$3 = function (innerElm, elms) {\n      var wrapped = foldl(elms, function (acc, elm) {\n        append(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    var directListWrappers = function (commonAnchorContainer) {\n      if (isListItem(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n          return [\n            commonAnchorContainer,\n            listElm\n          ];\n        });\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    var getWrapElements = function (rootNode, rng) {\n      var commonAnchorContainer = SugarElement.fromDom(rng.commonAncestorContainer);\n      var parents = parentsAndSelf(commonAnchorContainer, rootNode);\n      var wrapElements = filter(parents, function (elm) {\n        return isInline(elm) || isHeading(elm);\n      });\n      var listWrappers = getFullySelectedListWrappers(parents, rng);\n      var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map(allWrappers, shallow);\n    };\n    var emptyFragment = function () {\n      return fromElements([]);\n    };\n    var getFragmentFromRange = function (rootNode, rng) {\n      return wrap$3(SugarElement.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    };\n    var getParentTable = function (rootElm, cell) {\n      return ancestor$1(cell, 'table', curry(eq$2, rootElm));\n    };\n    var getTableFragment = function (rootNode, selectedTableCells) {\n      return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n        var firstCell = selectedTableCells[0];\n        var lastCell = selectedTableCells[selectedTableCells.length - 1];\n        var fullTableModel = fromDom$1(tableElm);\n        return subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n          return fromElements([toDom(sectionedTableModel)]);\n        });\n      }).getOrThunk(emptyFragment);\n    };\n    var getSelectionFragment = function (rootNode, ranges) {\n      return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    };\n    var read$1 = function (rootNode, ranges) {\n      var selectedCells = getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n\n    var trimLeadingCollapsibleText = function (text) {\n      return text.replace(/^[ \\f\\n\\r\\t\\v]+/, '');\n    };\n    var isCollapsibleWhitespace = function (text, index) {\n      return index >= 0 && index < text.length && isWhiteSpace$1(text.charAt(index));\n    };\n    var getInnerText = function (bin, shouldTrim) {\n      var text = trim$2(bin.innerText);\n      return shouldTrim ? trimLeadingCollapsibleText(text) : text;\n    };\n    var getContextNodeName = function (parentBlockOpt) {\n      return parentBlockOpt.map(function (block) {\n        return block.nodeName;\n      }).getOr('div').toLowerCase();\n    };\n    var getTextContent = function (editor) {\n      return Optional.from(editor.selection.getRng()).map(function (rng) {\n        var parentBlockOpt = Optional.from(editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock));\n        var body = editor.getBody();\n        var contextNodeName = getContextNodeName(parentBlockOpt);\n        var shouldTrimSpaces = Env.browser.isIE() && contextNodeName !== 'pre';\n        var bin = editor.dom.add(body, contextNodeName, {\n          'data-mce-bogus': 'all',\n          'style': 'overflow: hidden; opacity: 0;'\n        }, rng.cloneContents());\n        var text = getInnerText(bin, shouldTrimSpaces);\n        var nonRenderedText = trim$2(bin.textContent);\n        editor.dom.remove(bin);\n        if (isCollapsibleWhitespace(nonRenderedText, 0) || isCollapsibleWhitespace(nonRenderedText, nonRenderedText.length - 1)) {\n          var parentBlock = parentBlockOpt.getOr(body);\n          var parentBlockText = getInnerText(parentBlock, shouldTrimSpaces);\n          var textIndex = parentBlockText.indexOf(text);\n          if (textIndex === -1) {\n            return text;\n          } else {\n            var hasProceedingSpace = isCollapsibleWhitespace(parentBlockText, textIndex - 1);\n            var hasTrailingSpace = isCollapsibleWhitespace(parentBlockText, textIndex + text.length);\n            return (hasProceedingSpace ? ' ' : '') + text + (hasTrailingSpace ? ' ' : '');\n          }\n        } else {\n          return text;\n        }\n      }).getOr('');\n    };\n    var getSerializedContent = function (editor, args) {\n      var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      var sel = editor.selection.getSel();\n      var ranges = processRanges(editor, getRanges(sel));\n      var fragment = args.contextual ? read$1(SugarElement.fromDom(editor.getBody()), ranges).dom : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    var getSelectedContentInternal = function (editor, format, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      args.get = true;\n      args.format = format;\n      args.selection = true;\n      args = editor.fire('BeforeGetContent', args);\n      if (args.isDefaultPrevented()) {\n        editor.fire('GetContent', args);\n        return args.content;\n      }\n      if (args.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        args.getInner = true;\n        var content = getSerializedContent(editor, args);\n        if (args.format === 'tree') {\n          return content;\n        } else {\n          args.content = editor.selection.isCollapsed() ? '' : content;\n          editor.fire('GetContent', args);\n          return args.content;\n        }\n      }\n    };\n\n    var KEEP = 0, INSERT = 1, DELETE = 2;\n    var diff = function (left, right) {\n      var size = left.length + right.length + 2;\n      var vDown = new Array(size);\n      var vUp = new Array(size);\n      var snake = function (start, end, diag) {\n        return {\n          start: start,\n          end: end,\n          diag: diag\n        };\n      };\n      var buildScript = function (start1, end1, start2, end2, script) {\n        var middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          var i = start1;\n          var j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (var i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      var buildSnake = function (start, diag, end1, end2) {\n        var end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      var getMiddleSnake = function (start1, end1, start2, end2) {\n        var m = end1 - start1;\n        var n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        var delta = m - n;\n        var sum = n + m;\n        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        var d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n      };\n      var script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n\n    var getOuterHtml = function (elm) {\n      if (isElement$1(elm)) {\n        return elm.outerHTML;\n      } else if (isText$1(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (isComment$1(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    var createFragment$1 = function (html) {\n      var node;\n      var container = document.createElement('div');\n      var frag = document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var insertAt = function (elm, html, index) {\n      var fragment = createFragment$1(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    var removeAt = function (elm, index) {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.removeChild(target);\n      }\n    };\n    var applyDiff = function (diff, elm) {\n      var index = 0;\n      each(diff, function (action) {\n        if (action[0] === KEEP) {\n          index++;\n        } else if (action[0] === INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    var read$2 = function (elm) {\n      return filter(map(from$1(elm.childNodes), getOuterHtml), function (item) {\n        return item.length > 0;\n      });\n    };\n    var write = function (fragments, elm) {\n      var currentFragments = map(from$1(elm.childNodes), getOuterHtml);\n      applyDiff(diff(currentFragments, fragments), elm);\n      return elm;\n    };\n\n    var undoLevelDocument = Cell(Optional.none());\n    var lazyTempDocument = function () {\n      return undoLevelDocument.get().getOrThunk(function () {\n        var doc = document.implementation.createHTMLDocument('undo');\n        undoLevelDocument.set(Optional.some(doc));\n        return doc;\n      });\n    };\n    var hasIframes = function (html) {\n      return html.indexOf('</iframe>') !== -1;\n    };\n    var createFragmentedLevel = function (fragments) {\n      return {\n        type: 'fragmented',\n        fragments: fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createCompleteLevel = function (content) {\n      return {\n        type: 'complete',\n        fragments: null,\n        content: content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createFromEditor = function (editor) {\n      var fragments = read$2(editor.getBody());\n      var trimmedFragments = bind(fragments, function (html) {\n        var trimmed = trimInternal(editor.serializer, html);\n        return trimmed.length > 0 ? [trimmed] : [];\n      });\n      var content = trimmedFragments.join('');\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n    };\n    var applyToEditor = function (editor, level, before) {\n      if (level.type === 'fragmented') {\n        write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, { format: 'raw' });\n      }\n      editor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);\n    };\n    var getLevelContent = function (level) {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    var getCleanLevelContent = function (level) {\n      var elm = SugarElement.fromTag('body', lazyTempDocument());\n      set$1(elm, getLevelContent(level));\n      each(descendants$1(elm, '*[data-mce-bogus]'), unwrap);\n      return get$7(elm);\n    };\n    var hasEqualContent = function (level1, level2) {\n      return getLevelContent(level1) === getLevelContent(level2);\n    };\n    var hasEqualCleanedContent = function (level1, level2) {\n      return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    };\n    var isEq$4 = function (level1, level2) {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n\n    var isUnlocked = function (locks) {\n      return locks.get() === 0;\n    };\n\n    var setTyping = function (undoManager, typing, locks) {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    var endTyping = function (undoManager, locks) {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    var endTypingLevelIgnoreLocks = function (undoManager) {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    var beforeChange = function (editor, locks, beforeBookmark) {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(Optional.some(getUndoBookmark(editor.selection)));\n      }\n    };\n    var addUndoLevel = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      var currentLevel = createFromEditor(editor);\n      level = level || {};\n      level = Tools.extend(level, currentLevel);\n      if (isUnlocked(locks) === false || editor.removed) {\n        return null;\n      }\n      var lastLevel = undoManager.data[index.get()];\n      if (editor.fire('BeforeAddUndo', {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && isEq$4(lastLevel, level)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(function (bm) {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      var customUndoRedoLevels = getCustomUndoRedoLevels(editor);\n      if (customUndoRedoLevels) {\n        if (undoManager.data.length > customUndoRedoLevels) {\n          for (var i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      level.bookmark = getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(level);\n      index.set(undoManager.data.length - 1);\n      var args = {\n        level: level,\n        lastLevel: lastLevel,\n        originalEvent: event\n      };\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.fire('AddUndo', args);\n        editor.fire('change', args);\n      } else {\n        editor.fire('AddUndo', args);\n      }\n      return level;\n    };\n    var clear = function (editor, undoManager, index) {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.fire('ClearUndos');\n    };\n    var extra = function (editor, undoManager, index, callback1, callback2) {\n      if (undoManager.transact(callback1)) {\n        var bookmark = undoManager.data[index.get()].bookmark;\n        var lastLevel = undoManager.data[index.get() - 1];\n        applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    var redo = function (editor, index, data) {\n      var level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.fire('Redo', { level: level });\n      }\n      return level;\n    };\n    var undo = function (editor, undoManager, locks, index) {\n      var level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.fire('Undo', { level: level });\n      }\n      return level;\n    };\n    var reset = function (undoManager) {\n      undoManager.clear();\n      undoManager.add();\n    };\n    var hasUndo = function (editor, undoManager, index) {\n      return index.get() > 0 || undoManager.typing && undoManager.data[0] && !isEq$4(createFromEditor(editor), undoManager.data[0]);\n    };\n    var hasRedo = function (undoManager, index) {\n      return index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    };\n    var transact = function (undoManager, locks, callback) {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    var ignore = function (locks, callback) {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    var addVisualInternal = function (editor, elm) {\n      var dom = editor.dom;\n      var scope = isNonNullable(elm) ? elm : editor.getBody();\n      if (isUndefined(editor.hasVisual)) {\n        editor.hasVisual = isVisualAidsEnabled(editor);\n      }\n      each(dom.select('table,a', scope), function (matchedElm) {\n        switch (matchedElm.nodeName) {\n        case 'TABLE':\n          var cls = getVisualAidsTableClass(editor);\n          var value = dom.getAttrib(matchedElm, 'border');\n          if ((!value || value === '0') && editor.hasVisual) {\n            dom.addClass(matchedElm, cls);\n          } else {\n            dom.removeClass(matchedElm, cls);\n          }\n          break;\n        case 'A':\n          if (!dom.getAttrib(matchedElm, 'href')) {\n            var value_1 = dom.getAttrib(matchedElm, 'name') || matchedElm.id;\n            var cls_1 = getVisualAidsAnchorClass(editor);\n            if (value_1 && editor.hasVisual) {\n              dom.addClass(matchedElm, cls_1);\n            } else {\n              dom.removeClass(matchedElm, cls_1);\n            }\n          }\n          break;\n        }\n      });\n      editor.fire('VisualAid', {\n        element: elm,\n        hasVisual: editor.hasVisual\n      });\n    };\n\n    var makePlainAdaptor = function (editor) {\n      return {\n        undoManager: {\n          beforeChange: function (locks, beforeBookmark) {\n            return beforeChange(editor, locks, beforeBookmark);\n          },\n          addUndoLevel: function (undoManager, index, locks, beforeBookmark, level, event) {\n            return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n          },\n          undo: function (undoManager, locks, index) {\n            return undo(editor, undoManager, locks, index);\n          },\n          redo: function (index, data) {\n            return redo(editor, index, data);\n          },\n          clear: function (undoManager, index) {\n            return clear(editor, undoManager, index);\n          },\n          reset: function (undoManager) {\n            return reset(undoManager);\n          },\n          hasUndo: function (undoManager, index) {\n            return hasUndo(editor, undoManager, index);\n          },\n          hasRedo: function (undoManager, index) {\n            return hasRedo(undoManager, index);\n          },\n          transact: function (undoManager, locks, callback) {\n            return transact(undoManager, locks, callback);\n          },\n          ignore: function (locks, callback) {\n            return ignore(locks, callback);\n          },\n          extra: function (undoManager, index, callback1, callback2) {\n            return extra(editor, undoManager, index, callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, node) {\n            return match(editor, name, vars, node);\n          },\n          matchAll: function (names, vars) {\n            return matchAll(editor, names, vars);\n          },\n          matchNode: function (node, name, vars, similar) {\n            return matchNode(editor, node, name, vars, similar);\n          },\n          canApply: function (name) {\n            return canApply(editor, name);\n          },\n          closest: function (names) {\n            return closest$3(editor, names);\n          },\n          apply: function (name, vars, node) {\n            return applyFormat(editor, name, vars, node);\n          },\n          remove: function (name, vars, node, similar) {\n            return remove$6(editor, name, vars, node, similar);\n          },\n          toggle: function (name, vars, node) {\n            return toggle(editor, name, vars, node);\n          },\n          formatChanged: function (registeredFormatListeners, formats, callback, similar) {\n            return formatChangedInternal(editor, registeredFormatListeners, formats, callback, similar);\n          }\n        },\n        editor: {\n          getContent: function (args, format) {\n            return getContentInternal(editor, args, format);\n          },\n          setContent: function (content, args) {\n            return setContentInternal(editor, content, args);\n          },\n          insertContent: function (value, details) {\n            return insertHtmlAtCaret(editor, value, details);\n          },\n          addVisual: function (elm) {\n            return addVisualInternal(editor, elm);\n          }\n        },\n        selection: {\n          getContent: function (format, args) {\n            return getSelectedContentInternal(editor, format, args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.none();\n          }\n        }\n      };\n    };\n    var makeRtcAdaptor = function (rtcEditor) {\n      var defaultVars = function (vars) {\n        return isObject(vars) ? vars : {};\n      };\n      var unsupported = die('Unimplemented feature for rtc');\n      var undoManager = rtcEditor.undoManager, formatter = rtcEditor.formatter, editor = rtcEditor.editor, selection = rtcEditor.selection, raw = rtcEditor.raw;\n      var ignore = noop;\n      return {\n        undoManager: {\n          beforeChange: ignore,\n          addUndoLevel: unsupported,\n          undo: function () {\n            return undoManager.undo();\n          },\n          redo: function () {\n            return undoManager.redo();\n          },\n          clear: function () {\n            return undoManager.clear();\n          },\n          reset: function () {\n            return undoManager.reset();\n          },\n          hasUndo: function () {\n            return undoManager.hasUndo();\n          },\n          hasRedo: function () {\n            return undoManager.hasRedo();\n          },\n          transact: function (_undoManager, _locks, fn) {\n            return undoManager.transact(fn);\n          },\n          ignore: function (_locks, callback) {\n            return undoManager.ignore(callback);\n          },\n          extra: function (_undoManager, _index, callback1, callback2) {\n            return undoManager.extra(callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, _node) {\n            return formatter.match(name, defaultVars(vars));\n          },\n          matchAll: unsupported,\n          matchNode: unsupported,\n          canApply: function (name) {\n            return formatter.canApply(name);\n          },\n          closest: function (names) {\n            return formatter.closest(names);\n          },\n          apply: function (name, vars, _node) {\n            return formatter.apply(name, defaultVars(vars));\n          },\n          remove: function (name, vars, _node, _similar) {\n            return formatter.remove(name, defaultVars(vars));\n          },\n          toggle: function (name, vars, _node) {\n            return formatter.toggle(name, defaultVars(vars));\n          },\n          formatChanged: function (_rfl, formats, callback, similar) {\n            return formatter.formatChanged(formats, callback, similar);\n          }\n        },\n        editor: {\n          getContent: function (args, _format) {\n            return editor.getContent(args);\n          },\n          setContent: function (content, args) {\n            return editor.setContent(content, args);\n          },\n          insertContent: function (content, _details) {\n            return editor.insertContent(content);\n          },\n          addVisual: ignore\n        },\n        selection: {\n          getContent: function (_format, args) {\n            return selection.getContent(args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.some(raw.getRawModel());\n          }\n        }\n      };\n    };\n    var makeNoopAdaptor = function () {\n      var nul = constant(null);\n      var empty = constant('');\n      return {\n        undoManager: {\n          beforeChange: noop,\n          addUndoLevel: nul,\n          undo: nul,\n          redo: nul,\n          clear: noop,\n          reset: noop,\n          hasUndo: never,\n          hasRedo: never,\n          transact: nul,\n          ignore: noop,\n          extra: noop\n        },\n        formatter: {\n          match: never,\n          matchAll: constant([]),\n          matchNode: never,\n          canApply: never,\n          closest: empty,\n          apply: noop,\n          remove: noop,\n          toggle: noop,\n          formatChanged: constant({ unbind: noop })\n        },\n        editor: {\n          getContent: empty,\n          setContent: empty,\n          insertContent: noop,\n          addVisual: noop\n        },\n        selection: { getContent: empty },\n        raw: { getModel: constant(Optional.none()) }\n      };\n    };\n    var isRtc = function (editor) {\n      return has(editor.plugins, 'rtc');\n    };\n    var getRtcSetup = function (editor) {\n      return get$1(editor.plugins, 'rtc').bind(function (rtcPlugin) {\n        return Optional.from(rtcPlugin.setup);\n      });\n    };\n    var setup$5 = function (editor) {\n      var editorCast = editor;\n      return getRtcSetup(editor).fold(function () {\n        editorCast.rtcInstance = makePlainAdaptor(editor);\n        return Optional.none();\n      }, function (setup) {\n        return Optional.some(setup().then(function (rtcEditor) {\n          editorCast.rtcInstance = makeRtcAdaptor(rtcEditor);\n          return rtcEditor.rtc.isRemote;\n        }, function (err) {\n          editorCast.rtcInstance = makeNoopAdaptor();\n          return promiseObj.reject(err);\n        }));\n      });\n    };\n    var getRtcInstanceWithFallback = function (editor) {\n      return editor.rtcInstance ? editor.rtcInstance : makePlainAdaptor(editor);\n    };\n    var getRtcInstanceWithError = function (editor) {\n      var rtcInstance = editor.rtcInstance;\n      if (!rtcInstance) {\n        throw new Error('Failed to get RTC instance not yet initialized.');\n      } else {\n        return rtcInstance;\n      }\n    };\n    var beforeChange$1 = function (editor, locks, beforeBookmark) {\n      getRtcInstanceWithError(editor).undoManager.beforeChange(locks, beforeBookmark);\n    };\n    var addUndoLevel$1 = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      return getRtcInstanceWithError(editor).undoManager.addUndoLevel(undoManager, index, locks, beforeBookmark, level, event);\n    };\n    var undo$1 = function (editor, undoManager, locks, index) {\n      return getRtcInstanceWithError(editor).undoManager.undo(undoManager, locks, index);\n    };\n    var redo$1 = function (editor, index, data) {\n      return getRtcInstanceWithError(editor).undoManager.redo(index, data);\n    };\n    var clear$1 = function (editor, undoManager, index) {\n      getRtcInstanceWithError(editor).undoManager.clear(undoManager, index);\n    };\n    var reset$1 = function (editor, undoManager) {\n      getRtcInstanceWithError(editor).undoManager.reset(undoManager);\n    };\n    var hasUndo$1 = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager, index);\n    };\n    var hasRedo$1 = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager, index);\n    };\n    var transact$1 = function (editor, undoManager, locks, callback) {\n      return getRtcInstanceWithError(editor).undoManager.transact(undoManager, locks, callback);\n    };\n    var ignore$1 = function (editor, locks, callback) {\n      getRtcInstanceWithError(editor).undoManager.ignore(locks, callback);\n    };\n    var extra$1 = function (editor, undoManager, index, callback1, callback2) {\n      getRtcInstanceWithError(editor).undoManager.extra(undoManager, index, callback1, callback2);\n    };\n    var matchFormat = function (editor, name, vars, node) {\n      return getRtcInstanceWithError(editor).formatter.match(name, vars, node);\n    };\n    var matchAllFormats = function (editor, names, vars) {\n      return getRtcInstanceWithError(editor).formatter.matchAll(names, vars);\n    };\n    var matchNodeFormat = function (editor, node, name, vars, similar) {\n      return getRtcInstanceWithError(editor).formatter.matchNode(node, name, vars, similar);\n    };\n    var canApplyFormat = function (editor, name) {\n      return getRtcInstanceWithError(editor).formatter.canApply(name);\n    };\n    var closestFormat = function (editor, names) {\n      return getRtcInstanceWithError(editor).formatter.closest(names);\n    };\n    var applyFormat$1 = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.apply(name, vars, node);\n    };\n    var removeFormat$1 = function (editor, name, vars, node, similar) {\n      getRtcInstanceWithError(editor).formatter.remove(name, vars, node, similar);\n    };\n    var toggleFormat = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.toggle(name, vars, node);\n    };\n    var formatChanged = function (editor, registeredFormatListeners, formats, callback, similar) {\n      if (similar === void 0) {\n        similar = false;\n      }\n      return getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners, formats, callback, similar);\n    };\n    var getContent = function (editor, args, format) {\n      return getRtcInstanceWithFallback(editor).editor.getContent(args, format);\n    };\n    var setContent = function (editor, content, args) {\n      return getRtcInstanceWithFallback(editor).editor.setContent(content, args);\n    };\n    var insertContent = function (editor, value, details) {\n      return getRtcInstanceWithFallback(editor).editor.insertContent(value, details);\n    };\n    var getSelectedContent = function (editor, format, args) {\n      return getRtcInstanceWithError(editor).selection.getContent(format, args);\n    };\n    var addVisual = function (editor, elm) {\n      return getRtcInstanceWithError(editor).editor.addVisual(elm);\n    };\n\n    var getContent$1 = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : 'html';\n      return getSelectedContent(editor, format, args);\n    };\n\n    var removeEmpty = function (text) {\n      if (text.dom.length === 0) {\n        remove(text);\n        return Optional.none();\n      } else {\n        return Optional.some(text);\n      }\n    };\n    var walkPastBookmark = function (node, start) {\n      return node.filter(function (elm) {\n        return BookmarkManager.isBookmarkNode(elm.dom);\n      }).bind(start ? nextSibling : prevSibling);\n    };\n    var merge = function (outer, inner, rng, start) {\n      var outerElm = outer.dom;\n      var innerElm = inner.dom;\n      var oldLength = start ? outerElm.length : innerElm.length;\n      if (start) {\n        mergeTextNodes(outerElm, innerElm, false, !start);\n        rng.setStart(innerElm, oldLength);\n      } else {\n        mergeTextNodes(innerElm, outerElm, false, !start);\n        rng.setEnd(innerElm, oldLength);\n      }\n    };\n    var normalizeTextIfRequired = function (inner, start) {\n      parent(inner).each(function (root) {\n        var text = inner.dom;\n        if (start && needsToBeNbspLeft(root, CaretPosition(text, 0))) {\n          normalizeWhitespaceAfter(text, 0);\n        } else if (!start && needsToBeNbspRight(root, CaretPosition(text, text.length))) {\n          normalizeWhitespaceBefore(text, text.length);\n        }\n      });\n    };\n    var mergeAndNormalizeText = function (outerNode, innerNode, rng, start) {\n      outerNode.bind(function (outer) {\n        var normalizer = start ? normalizeWhitespaceBefore : normalizeWhitespaceAfter;\n        normalizer(outer.dom, start ? outer.dom.length : 0);\n        return innerNode.filter(isText).map(function (inner) {\n          return merge(outer, inner, rng, start);\n        });\n      }).orThunk(function () {\n        var innerTextNode = walkPastBookmark(innerNode, start).or(innerNode).filter(isText);\n        return innerTextNode.map(function (inner) {\n          return normalizeTextIfRequired(inner, start);\n        });\n      });\n    };\n    var rngSetContent = function (rng, fragment) {\n      var firstChild = Optional.from(fragment.firstChild).map(SugarElement.fromDom);\n      var lastChild = Optional.from(fragment.lastChild).map(SugarElement.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      var prevText = firstChild.bind(prevSibling).filter(isText).bind(removeEmpty);\n      var nextText = lastChild.bind(nextSibling).filter(isText).bind(removeEmpty);\n      mergeAndNormalizeText(prevText, firstChild, rng, true);\n      mergeAndNormalizeText(nextText, lastChild, rng, false);\n      rng.collapse(false);\n    };\n    var setupArgs = function (args, content) {\n      return __assign(__assign({ format: 'html' }, args), {\n        set: true,\n        selection: true,\n        content: content\n      });\n    };\n    var cleanContent = function (editor, args) {\n      if (args.format !== 'raw') {\n        var rng = editor.selection.getRng();\n        var contextBlock = editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock);\n        var contextArgs = contextBlock ? { context: contextBlock.nodeName.toLowerCase() } : {};\n        var node = editor.parser.parse(args.content, __assign(__assign({\n          isRootContent: true,\n          forced_root_block: false\n        }, contextArgs), args));\n        return HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    var setContent$1 = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var contentArgs = setupArgs(args, content);\n      if (!contentArgs.no_events) {\n        contentArgs = editor.fire('BeforeSetContent', contentArgs);\n        if (contentArgs.isDefaultPrevented()) {\n          editor.fire('SetContent', contentArgs);\n          return;\n        }\n      }\n      args.content = cleanContent(editor, contentArgs);\n      var rng = editor.selection.getRng();\n      rngSetContent(rng, rng.createContextualFragment(args.content));\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n      if (!contentArgs.no_events) {\n        editor.fire('SetContent', contentArgs);\n      }\n    };\n\n    var deleteFromCallbackMap = function (callbackMap, selector, callback) {\n      if (callbackMap && callbackMap.hasOwnProperty(selector)) {\n        var newCallbacks = filter(callbackMap[selector], function (cb) {\n          return cb !== callback;\n        });\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    function SelectorChanged (dom, editor) {\n      var selectorChangedData;\n      var currentSelectors;\n      return {\n        selectorChangedWithUnbind: function (selector, callback) {\n          if (!selectorChangedData) {\n            selectorChangedData = {};\n            currentSelectors = {};\n            editor.on('NodeChange', function (e) {\n              var node = e.element, parents = dom.getParents(node, null, dom.getRoot()), matchedSelectors = {};\n              Tools.each(selectorChangedData, function (callbacks, selector) {\n                Tools.each(parents, function (node) {\n                  if (dom.is(node, selector)) {\n                    if (!currentSelectors[selector]) {\n                      Tools.each(callbacks, function (callback) {\n                        callback(true, {\n                          node: node,\n                          selector: selector,\n                          parents: parents\n                        });\n                      });\n                      currentSelectors[selector] = callbacks;\n                    }\n                    matchedSelectors[selector] = callbacks;\n                    return false;\n                  }\n                });\n              });\n              Tools.each(currentSelectors, function (callbacks, selector) {\n                if (!matchedSelectors[selector]) {\n                  delete currentSelectors[selector];\n                  Tools.each(callbacks, function (callback) {\n                    callback(false, {\n                      node: node,\n                      selector: selector,\n                      parents: parents\n                    });\n                  });\n                }\n              });\n            });\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          return {\n            unbind: function () {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    }\n\n    var isNativeIeSelection = function (rng) {\n      return !!rng.select;\n    };\n    var isAttachedToDom = function (node) {\n      return !!(node && node.ownerDocument) && contains$2(SugarElement.fromDom(node.ownerDocument), SugarElement.fromDom(node));\n    };\n    var isValidRange = function (rng) {\n      if (!rng) {\n        return false;\n      } else if (isNativeIeSelection(rng)) {\n        return true;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    var EditorSelection = function (dom, win, serializer, editor) {\n      var selectedRange;\n      var explicitRange;\n      var selectorChangedWithUnbind = SelectorChanged(dom, editor).selectorChangedWithUnbind;\n      var setCursorLocation = function (node, offset) {\n        var rng = dom.createRng();\n        if (isNonNullable(node) && isNonNullable(offset)) {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        } else {\n          moveEndPoint$1(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        }\n      };\n      var getContent = function (args) {\n        return getContent$1(editor, args);\n      };\n      var setContent = function (content, args) {\n        return setContent$1(editor, content, args);\n      };\n      var getStart = function (real) {\n        return getStart$2(editor.getBody(), getRng$1(), real);\n      };\n      var getEnd$1 = function (real) {\n        return getEnd(editor.getBody(), getRng$1(), real);\n      };\n      var getBookmark = function (type, normalized) {\n        return bookmarkManager.getBookmark(type, normalized);\n      };\n      var moveToBookmark = function (bookmark) {\n        return bookmarkManager.moveToBookmark(bookmark);\n      };\n      var select = function (node, content) {\n        select$1(dom, node, content).each(setRng);\n        return node;\n      };\n      var isCollapsed = function () {\n        var rng = getRng$1(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      var collapse = function (toStart) {\n        var rng = getRng$1();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      var getSel = function () {\n        return win.getSelection ? win.getSelection() : win.document.selection;\n      };\n      var getRng$1 = function () {\n        var selection, rng, elm;\n        var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        var doc = win.document;\n        if (editor.bookmark !== undefined && hasFocus$1(editor) === false) {\n          var bookmark = getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(function (r) {\n              return processRanges(editor, [r])[0];\n            }).getOr(doc.createRange());\n          }\n        }\n        try {\n          if ((selection = getSel()) && !isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\n            }\n            rng = processRanges(editor, [rng])[0];\n          }\n        } catch (ex) {\n        }\n        if (!rng) {\n          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n        }\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n          elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      var setRng = function (rng, forward) {\n        var node;\n        if (!isValidRange(rng)) {\n          return;\n        }\n        var ieRange = isNativeIeSelection(rng) ? rng : null;\n        if (ieRange) {\n          explicitRange = null;\n          try {\n            ieRange.select();\n          } catch (ex) {\n          }\n          return;\n        }\n        var sel = getSel();\n        var evt = editor.fire('SetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.tagName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.fire('AfterSetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n      };\n      var setNode = function (elm) {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      var getNode = function () {\n        return getNode$1(editor.getBody(), getRng$1());\n      };\n      var getSelectedBlocks$1 = function (startElm, endElm) {\n        return getSelectedBlocks(dom, getRng$1(), startElm, endElm);\n      };\n      var isForward = function () {\n        var sel = getSel();\n        var anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n        var focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n        if (!sel || !anchorNode || !focusNode || isRestrictedNode(anchorNode) || isRestrictedNode(focusNode)) {\n          return true;\n        }\n        var anchorRange = dom.createRng();\n        anchorRange.setStart(anchorNode, sel.anchorOffset);\n        anchorRange.collapse(true);\n        var focusRange = dom.createRng();\n        focusRange.setStart(focusNode, sel.focusOffset);\n        focusRange.collapse(true);\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      var normalize$1 = function () {\n        var rng = getRng$1();\n        var sel = getSel();\n        if (!hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          var normRng = normalize(dom, rng);\n          normRng.each(function (normRng) {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      var selectorChanged = function (selector, callback) {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      var getScrollContainer = function () {\n        var scrollContainer;\n        var node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      var scrollIntoView = function (elm, alignToTop) {\n        return scrollElementIntoView(editor, elm, alignToTop);\n      };\n      var placeCaretAt = function (clientX, clientY) {\n        return setRng(fromPoint$1(clientX, clientY, editor.getDoc()));\n      };\n      var getBoundingClientRect = function () {\n        var rng = getRng$1();\n        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      var destroy = function () {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      var exports = {\n        bookmarkManager: null,\n        controlSelection: null,\n        dom: dom,\n        win: win,\n        serializer: serializer,\n        editor: editor,\n        collapse: collapse,\n        setCursorLocation: setCursorLocation,\n        getContent: getContent,\n        setContent: setContent,\n        getBookmark: getBookmark,\n        moveToBookmark: moveToBookmark,\n        select: select,\n        isCollapsed: isCollapsed,\n        isForward: isForward,\n        setNode: setNode,\n        getNode: getNode,\n        getSel: getSel,\n        setRng: setRng,\n        getRng: getRng$1,\n        getStart: getStart,\n        getEnd: getEnd$1,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize: normalize$1,\n        selectorChanged: selectorChanged,\n        selectorChangedWithUnbind: selectorChangedWithUnbind,\n        getScrollContainer: getScrollContainer,\n        scrollIntoView: scrollIntoView,\n        placeCaretAt: placeCaretAt,\n        getBoundingClientRect: getBoundingClientRect,\n        destroy: destroy\n      };\n      var bookmarkManager = BookmarkManager(exports);\n      var controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    var removeAttrs = function (node, names) {\n      each(names, function (name) {\n        node.attr(name, null);\n      });\n    };\n    var addFontToSpansFilter = function (domParser, styles, fontSizes) {\n      domParser.addNodeFilter('font', function (nodes) {\n        each(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          var color = node.attr('color');\n          var face = node.attr('face');\n          var size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    var addStrikeToSpanFilter = function (domParser, styles) {\n      domParser.addNodeFilter('strike', function (nodes) {\n        each(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          props['text-decoration'] = 'line-through';\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n        });\n      });\n    };\n    var addFilters = function (domParser, settings) {\n      var styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n      }\n      addStrikeToSpanFilter(domParser, styles);\n    };\n    var register$1 = function (domParser, settings) {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings);\n      }\n    };\n\n    var blobUriToBlob = function (url) {\n      return new promiseObj(function (resolve, reject) {\n        var rejectWithError = function () {\n          reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n        };\n        try {\n          var xhr_1 = new XMLHttpRequest();\n          xhr_1.open('GET', url, true);\n          xhr_1.responseType = 'blob';\n          xhr_1.onload = function () {\n            if (xhr_1.status === 200) {\n              resolve(xhr_1.response);\n            } else {\n              rejectWithError();\n            }\n          };\n          xhr_1.onerror = rejectWithError;\n          xhr_1.send();\n        } catch (ex) {\n          rejectWithError();\n        }\n      });\n    };\n    var parseDataUri$1 = function (uri) {\n      var type;\n      var uriParts = decodeURIComponent(uri).split(',');\n      var matches = /data:([^;]+)/.exec(uriParts[0]);\n      if (matches) {\n        type = matches[1];\n      }\n      return {\n        type: type,\n        data: uriParts[1]\n      };\n    };\n    var buildBlob = function (type, data) {\n      var str;\n      try {\n        str = atob(data);\n      } catch (e) {\n        return Optional.none();\n      }\n      var arr = new Uint8Array(str.length);\n      for (var i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return Optional.some(new Blob([arr], { type: type }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new promiseObj(function (resolve) {\n        var _a = parseDataUri$1(uri), type = _a.type, data = _a.data;\n        buildBlob(type, data).fold(function () {\n          return resolve(new Blob([]));\n        }, resolve);\n      });\n    };\n    var uriToBlob = function (url) {\n      if (url.indexOf('blob:') === 0) {\n        return blobUriToBlob(url);\n      }\n      if (url.indexOf('data:') === 0) {\n        return dataUriToBlob(url);\n      }\n      return null;\n    };\n    var blobToDataUri = function (blob) {\n      return new promiseObj(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    var count = 0;\n    var uniqueId = function (prefix) {\n      return (prefix || 'blobid') + count++;\n    };\n    var imageToBlobInfo = function (blobCache, img, resolve, reject) {\n      var base64, blobInfo;\n      if (img.src.indexOf('blob:') === 0) {\n        blobInfo = blobCache.getByUri(img.src);\n        if (blobInfo) {\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        } else {\n          uriToBlob(img.src).then(function (blob) {\n            blobToDataUri(blob).then(function (dataUri) {\n              base64 = parseDataUri$1(dataUri).data;\n              blobInfo = blobCache.create(uniqueId(), blob, base64);\n              blobCache.add(blobInfo);\n              resolve({\n                image: img,\n                blobInfo: blobInfo\n              });\n            });\n          }, function (err) {\n            reject(err);\n          });\n        }\n        return;\n      }\n      var _a = parseDataUri$1(img.src), data = _a.data, type = _a.type;\n      base64 = data;\n      blobInfo = blobCache.getByData(base64, type);\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        uriToBlob(img.src).then(function (blob) {\n          blobInfo = blobCache.create(uniqueId(), blob, base64);\n          blobCache.add(blobInfo);\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    };\n    var getAllImages = function (elm) {\n      return elm ? from$1(elm.getElementsByTagName('img')) : [];\n    };\n    var ImageScanner = function (uploadStatus, blobCache) {\n      var cachedPromises = {};\n      var findAll = function (elm, predicate) {\n        if (!predicate) {\n          predicate = always;\n        }\n        var images = filter(getAllImages(elm), function (img) {\n          var src = img.src;\n          if (!Env.fileApi) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (src.indexOf('blob:') === 0) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (src.indexOf('data:') === 0) {\n            return predicate(img);\n          }\n          return false;\n        });\n        var promises = map(images, function (img) {\n          if (cachedPromises[img.src] !== undefined) {\n            return new promiseObj(function (resolve) {\n              cachedPromises[img.src].then(function (imageInfo) {\n                if (typeof imageInfo === 'string') {\n                  return imageInfo;\n                }\n                resolve({\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                });\n              });\n            });\n          }\n          var newPromise = new promiseObj(function (resolve, reject) {\n            imageToBlobInfo(blobCache, img, resolve, reject);\n          }).then(function (result) {\n            delete cachedPromises[result.image.src];\n            return result;\n          }).catch(function (error) {\n            delete cachedPromises[img.src];\n            return error;\n          });\n          cachedPromises[img.src] = newPromise;\n          return newPromise;\n        });\n        return promiseObj.all(promises);\n      };\n      return { findAll: findAll };\n    };\n\n    var paddEmptyNode = function (settings, args, blockElements, node) {\n      var brPreferred = settings.padd_empty_with_br || args.insert;\n      if (brPreferred && blockElements[node.name]) {\n        node.empty().append(new AstNode('br', 1)).shortEnded = true;\n      } else {\n        node.empty().append(new AstNode('#text', 3)).value = nbsp;\n      }\n    };\n    var isPaddedWithNbsp = function (node) {\n      return hasOnlyChild(node, '#text') && node.firstChild.value === nbsp;\n    };\n    var hasOnlyChild = function (node, name) {\n      return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n    };\n    var isPadded = function (schema, node) {\n      var rule = schema.getElementRule(node.name);\n      return rule && rule.paddEmpty;\n    };\n    var isEmpty$2 = function (schema, nonEmptyElements, whitespaceElements, node) {\n      return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n        return isPadded(schema, node);\n      });\n    };\n    var isLineBreakNode = function (node, blockElements) {\n      return node && (blockElements[node.name] || node.name === 'br');\n    };\n\n    var isBogusImage = function (img) {\n      return img.attr('data-mce-bogus');\n    };\n    var isInternalImageSource = function (img) {\n      return img.attr('src') === Env.transparentSrc || img.attr('data-mce-placeholder');\n    };\n    var isValidDataImg = function (img, settings) {\n      if (settings.images_dataimg_filter) {\n        var imgElem_1 = new Image();\n        imgElem_1.src = img.attr('src');\n        each$1(img.attributes.map, function (value, key) {\n          imgElem_1.setAttribute(key, value);\n        });\n        return settings.images_dataimg_filter(imgElem_1);\n      } else {\n        return true;\n      }\n    };\n    var registerBase64ImageFilter = function (parser, settings) {\n      var blobCache = settings.blob_cache;\n      var processImage = function (img) {\n        var inputSrc = img.attr('src');\n        if (isInternalImageSource(img) || isBogusImage(img)) {\n          return;\n        }\n        parseDataUri(inputSrc).filter(function () {\n          return isValidDataImg(img, settings);\n        }).bind(function (_a) {\n          var type = _a.type, data = _a.data;\n          return Optional.from(blobCache.getByData(data, type)).orThunk(function () {\n            return buildBlob(type, data).map(function (blob) {\n              var blobInfo = blobCache.create(uniqueId(), blob, data);\n              blobCache.add(blobInfo);\n              return blobInfo;\n            });\n          });\n        }).each(function (blobInfo) {\n          img.attr('src', blobInfo.blobUri());\n        });\n      };\n      if (blobCache) {\n        parser.addAttributeFilter('src', function (nodes) {\n          return each(nodes, processImage);\n        });\n      }\n    };\n    var register$2 = function (parser, settings) {\n      var schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', function (nodes, _, args) {\n          var i;\n          var l = nodes.length;\n          var node;\n          var blockElements = Tools.extend({}, schema.getBlockElements());\n          var nonEmptyElements = schema.getNonEmptyElements();\n          var parent, lastParent, prev, prevName;\n          var whiteSpaceElements = schema.getWhiteSpaceElements();\n          var elementRule, textNode;\n          blockElements.body = 1;\n          for (i = 0; i < l; i++) {\n            node = nodes[i];\n            parent = node.parent;\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\n              prev = node.prev;\n              while (prev) {\n                prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName === 'br') {\n                    node = null;\n                  }\n                  break;\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                  elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(settings, args, blockElements, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent && settings.padd_empty_with_br !== true) {\n                textNode = new AstNode('#text', 3);\n                textNode.value = nbsp;\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', function (nodes) {\n        var i = nodes.length;\n        var appendRel = function (rel) {\n          var parts = rel.split(' ').filter(function (p) {\n            return p.length > 0;\n          });\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        var addNoOpener = function (rel) {\n          var newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            var node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', function (nodes) {\n          var i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              do {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              } while (sibling);\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', function (nodes) {\n          var i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                var li = new AstNode('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      if (settings.validate && schema.getValidClasses()) {\n        parser.addAttributeFilter('class', function (nodes) {\n          var i = nodes.length, node, classList, ci, className, classValue;\n          var validClasses = schema.getValidClasses();\n          var validClassesMap, valid;\n          while (i--) {\n            node = nodes[i];\n            classList = node.attr('class').split(' ');\n            classValue = '';\n            for (ci = 0; ci < classList.length; ci++) {\n              className = classList[ci];\n              valid = false;\n              validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n      registerBase64ImageFilter(parser, settings);\n    };\n\n    var makeMap$4 = Tools.makeMap, each$d = Tools.each, explode$2 = Tools.explode, extend$2 = Tools.extend;\n    var DomParser = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var nodeFilters = {};\n      var attributeFilters = [];\n      var matchedNodes = {};\n      var matchedAttributes = {};\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      settings.root_name = settings.root_name || 'body';\n      var fixInvalidChildren = function (nodes) {\n        var ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;\n        var sibling, nextNode;\n        var nonSplitableElements = makeMap$4('tr,td,th,tbody,thead,tfoot,table');\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var whitespaceElements = schema.getWhiteSpaceElements();\n        var textBlockElements = schema.getTextBlockElements();\n        var specialElements = schema.getSpecialElements();\n        for (ni = 0; ni < nodes.length; ni++) {\n          node = nodes[ni];\n          if (!node.parent || node.fixed) {\n            continue;\n          }\n          if (textBlockElements[node.name] && node.parent.name === 'li') {\n            sibling = node.next;\n            while (sibling) {\n              if (textBlockElements[sibling.name]) {\n                sibling.name = 'li';\n                sibling.fixed = true;\n                node.parent.insert(sibling, node.parent);\n              } else {\n                break;\n              }\n              sibling = sibling.next;\n            }\n            node.unwrap(node);\n            continue;\n          }\n          parents = [node];\n          for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplitableElements[parent.name]; parent = parent.parent) {\n            parents.push(parent);\n          }\n          if (parent && parents.length > 1) {\n            parents.reverse();\n            newParent = currentNode = filterNode(parents[0].clone());\n            for (i = 0; i < parents.length - 1; i++) {\n              if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                tempNode = filterNode(parents[i].clone());\n                currentNode.append(tempNode);\n              } else {\n                tempNode = currentNode;\n              }\n              for (childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                nextNode = childNode.next;\n                tempNode.append(childNode);\n                childNode = nextNode;\n              }\n              currentNode = tempNode;\n            }\n            if (!isEmpty$2(schema, nonEmptyElements, whitespaceElements, newParent)) {\n              parent.insert(newParent, parents[0], true);\n              parent.insert(node, newParent);\n            } else {\n              parent.insert(node, parents[0], true);\n            }\n            parent = parents[0];\n            if (isEmpty$2(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n              parent.empty().remove();\n            }\n          } else if (node.parent) {\n            if (node.name === 'li') {\n              sibling = node.prev;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.append(node);\n                continue;\n              }\n              sibling = node.next;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.insert(node, sibling.firstChild, true);\n                continue;\n              }\n              node.wrap(filterNode(new AstNode('ul', 1)));\n              continue;\n            }\n            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n              node.wrap(filterNode(new AstNode('div', 1)));\n            } else {\n              if (specialElements[node.name]) {\n                node.empty().remove();\n              } else {\n                node.unwrap();\n              }\n            }\n          }\n        }\n      };\n      var filterNode = function (node) {\n        var i, name, list;\n        name = node.name;\n        if (name in nodeFilters) {\n          list = matchedNodes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n        i = attributeFilters.length;\n        while (i--) {\n          name = attributeFilters[i].name;\n          if (name in node.attributes.map) {\n            list = matchedAttributes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedAttributes[name] = [node];\n            }\n          }\n        }\n        return node;\n      };\n      var addNodeFilter = function (name, callback) {\n        each$d(explode$2(name), function (name) {\n          var list = nodeFilters[name];\n          if (!list) {\n            nodeFilters[name] = list = [];\n          }\n          list.push(callback);\n        });\n      };\n      var getNodeFilters = function () {\n        var out = [];\n        for (var name_1 in nodeFilters) {\n          if (nodeFilters.hasOwnProperty(name_1)) {\n            out.push({\n              name: name_1,\n              callbacks: nodeFilters[name_1]\n            });\n          }\n        }\n        return out;\n      };\n      var addAttributeFilter = function (name, callback) {\n        each$d(explode$2(name), function (name) {\n          var i;\n          for (i = 0; i < attributeFilters.length; i++) {\n            if (attributeFilters[i].name === name) {\n              attributeFilters[i].callbacks.push(callback);\n              return;\n            }\n          }\n          attributeFilters.push({\n            name: name,\n            callbacks: [callback]\n          });\n        });\n      };\n      var getAttributeFilters = function () {\n        return [].concat(attributeFilters);\n      };\n      var parse = function (html, args) {\n        var nodes, i, l, fi, fl, list, name;\n        var invalidChildren = [];\n        var isInWhiteSpacePreservedElement;\n        var node;\n        var getRootBlockName = function (name) {\n          if (name === false) {\n            return '';\n          } else if (name === true) {\n            return 'p';\n          } else {\n            return name;\n          }\n        };\n        args = args || {};\n        matchedNodes = {};\n        matchedAttributes = {};\n        var blockElements = extend$2(makeMap$4('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var children = schema.children;\n        var validate = settings.validate;\n        var forcedRootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n        var rootBlockName = getRootBlockName(forcedRootBlockName);\n        var whiteSpaceElements = schema.getWhiteSpaceElements();\n        var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n        var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n        isInWhiteSpacePreservedElement = whiteSpaceElements.hasOwnProperty(args.context) || whiteSpaceElements.hasOwnProperty(settings.root_name);\n        var addRootBlocks = function () {\n          var node = rootNode.firstChild, next, rootBlockNode;\n          var trim = function (rootBlockNode) {\n            if (rootBlockNode) {\n              node = rootBlockNode.firstChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(startWhiteSpaceRegExp, '');\n              }\n              node = rootBlockNode.lastChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(endWhiteSpaceRegExp, '');\n              }\n            }\n          };\n          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n            return;\n          }\n          while (node) {\n            next = node.next;\n            if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n              if (!rootBlockNode) {\n                rootBlockNode = createNode(rootBlockName, 1);\n                rootBlockNode.attr(settings.forced_root_block_attrs);\n                rootNode.insert(rootBlockNode, node);\n                rootBlockNode.append(node);\n              } else {\n                rootBlockNode.append(node);\n              }\n            } else {\n              trim(rootBlockNode);\n              rootBlockNode = null;\n            }\n            node = next;\n          }\n          trim(rootBlockNode);\n        };\n        var createNode = function (name, type) {\n          var node = new AstNode(name, type);\n          var list;\n          if (name in nodeFilters) {\n            list = matchedNodes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedNodes[name] = [node];\n            }\n          }\n          return node;\n        };\n        var removeWhitespaceBefore = function (node) {\n          var textNode, textNodeNext, textVal, sibling;\n          var blockElements = schema.getBlockElements();\n          for (textNode = node.prev; textNode && textNode.type === 3;) {\n            textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n            if (textVal.length > 0) {\n              textNode.value = textVal;\n              return;\n            }\n            textNodeNext = textNode.next;\n            if (textNodeNext) {\n              if (textNodeNext.type === 3 && textNodeNext.value.length) {\n                textNode = textNode.prev;\n                continue;\n              }\n              if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n                textNode = textNode.prev;\n                continue;\n              }\n            }\n            sibling = textNode.prev;\n            textNode.remove();\n            textNode = sibling;\n          }\n        };\n        var cloneAndExcludeBlocks = function (input) {\n          var name;\n          var output = {};\n          for (name in input) {\n            if (name !== 'li' && name !== 'p') {\n              output[name] = input[name];\n            }\n          }\n          return output;\n        };\n        var parser = SaxParser({\n          validate: validate,\n          allow_html_data_urls: settings.allow_html_data_urls,\n          allow_svg_data_urls: settings.allow_svg_data_urls,\n          allow_script_urls: settings.allow_script_urls,\n          allow_conditional_comments: settings.allow_conditional_comments,\n          preserve_cdata: settings.preserve_cdata,\n          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n          cdata: function (text) {\n            node.append(createNode('#cdata', 4)).value = text;\n          },\n          text: function (text, raw) {\n            var textNode;\n            if (!isInWhiteSpacePreservedElement) {\n              text = text.replace(allWhiteSpaceRegExp, ' ');\n              if (isLineBreakNode(node.lastChild, blockElements)) {\n                text = text.replace(startWhiteSpaceRegExp, '');\n              }\n            }\n            if (text.length !== 0) {\n              textNode = createNode('#text', 3);\n              textNode.raw = !!raw;\n              node.append(textNode).value = text;\n            }\n          },\n          comment: function (text) {\n            node.append(createNode('#comment', 8)).value = text;\n          },\n          pi: function (name, text) {\n            node.append(createNode(name, 7)).value = text;\n            removeWhitespaceBefore(node);\n          },\n          doctype: function (text) {\n            var newNode = node.append(createNode('#doctype', 10));\n            newNode.value = text;\n            removeWhitespaceBefore(node);\n          },\n          start: function (name, attrs, empty) {\n            var newNode, attrFiltersLen, attrName, parent;\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              newNode = createNode(elementRule.outputName || name, 1);\n              newNode.attributes = attrs;\n              newNode.shortEnded = empty;\n              node.append(newNode);\n              parent = children[node.name];\n              if (parent && children[newNode.name] && !parent[newNode.name]) {\n                invalidChildren.push(newNode);\n              }\n              attrFiltersLen = attributeFilters.length;\n              while (attrFiltersLen--) {\n                attrName = attributeFilters[attrFiltersLen].name;\n                if (attrName in attrs.map) {\n                  list = matchedAttributes[attrName];\n                  if (list) {\n                    list.push(newNode);\n                  } else {\n                    matchedAttributes[attrName] = [newNode];\n                  }\n                }\n              }\n              if (blockElements[name]) {\n                removeWhitespaceBefore(newNode);\n              }\n              if (!empty) {\n                node = newNode;\n              }\n              if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = true;\n              }\n            }\n          },\n          end: function (name) {\n            var textNode, text, sibling, tempNode;\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              if (blockElements[name]) {\n                if (!isInWhiteSpacePreservedElement) {\n                  textNode = node.firstChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(startWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.next;\n                    } else {\n                      sibling = textNode.next;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.next;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                  textNode = node.lastChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(endWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.prev;\n                    } else {\n                      sibling = textNode.prev;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.prev;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                }\n              }\n              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = false;\n              }\n              if (elementRule.removeEmpty && isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node)) {\n                tempNode = node.parent;\n                if (blockElements[node.name]) {\n                  node.empty().remove();\n                } else {\n                  node.unwrap();\n                }\n                node = tempNode;\n                return;\n              }\n              if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node))) {\n                paddEmptyNode(settings, args, blockElements, node);\n              }\n              node = node.parent;\n            }\n          }\n        }, schema);\n        var rootNode = node = new AstNode(args.context || settings.root_name, 11);\n        parser.parse(html, args.format);\n        if (validate && invalidChildren.length) {\n          if (!args.context) {\n            fixInvalidChildren(invalidChildren);\n          } else {\n            args.invalid = true;\n          }\n        }\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks();\n        }\n        if (!args.invalid) {\n          for (name in matchedNodes) {\n            if (!matchedNodes.hasOwnProperty(name)) {\n              continue;\n            }\n            list = nodeFilters[name];\n            nodes = matchedNodes[name];\n            fi = nodes.length;\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n            for (i = 0, l = list.length; i < l; i++) {\n              list[i](nodes, name, args);\n            }\n          }\n          for (i = 0, l = attributeFilters.length; i < l; i++) {\n            list = attributeFilters[i];\n            if (list.name in matchedAttributes) {\n              nodes = matchedAttributes[list.name];\n              fi = nodes.length;\n              while (fi--) {\n                if (!nodes[fi].parent) {\n                  nodes.splice(fi, 1);\n                }\n              }\n              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n                list.callbacks[fi](nodes, list.name, args);\n              }\n            }\n          }\n        }\n        return rootNode;\n      };\n      var exports = {\n        schema: schema,\n        addAttributeFilter: addAttributeFilter,\n        getAttributeFilters: getAttributeFilters,\n        addNodeFilter: addNodeFilter,\n        getNodeFilters: getNodeFilters,\n        filterNode: filterNode,\n        parse: parse\n      };\n      register$2(exports, settings);\n      register$1(exports, settings);\n      return exports;\n    };\n\n    var register$3 = function (htmlParser, settings, dom) {\n      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n        var i = nodes.length, node, value;\n        var internalName = 'data-mce-' + name;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, value;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr('class');\n          if (value) {\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            var hasChildren = Optional.from(node.firstChild).exists(function (firstChild) {\n              return !isZwsp$1(firstChild.value);\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode(node.value);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', function (nodes, name) {\n        var i = nodes.length, node, value, type;\n        var trim = function (value) {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        while (i--) {\n          node = nodes[i];\n          value = node.firstChild ? node.firstChild.value : '';\n          if (name === 'script') {\n            type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (settings.preserve_cdata && node.value.indexOf('[CDATA[') === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = dom.decode(node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, ''));\n          } else if (node.value.indexOf('mce:protected ') === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(node.value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n        each(nodes, function (node) {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize,data-mce-placeholder', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    var trimTrailingBr = function (rootNode) {\n      var isBr = function (node) {\n        return node && node.name === 'br';\n      };\n      var brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        var brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n\n    var preProcess = function (editor, node, args) {\n      var doc, oldDoc;\n      var dom = editor.dom;\n      node = node.cloneNode(true);\n      var impl = document.implementation;\n      if (impl.createHTMLDocument) {\n        doc = impl.createHTMLDocument('');\n        Tools.each(node.nodeName === 'BODY' ? node.childNodes : [node], function (node) {\n          doc.body.appendChild(doc.importNode(node, true));\n        });\n        if (node.nodeName !== 'BODY') {\n          node = doc.body.firstChild;\n        } else {\n          node = doc.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc;\n      }\n      firePreProcess(editor, __assign(__assign({}, args), { node: node }));\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return node;\n    };\n    var shouldFireEvent = function (editor, args) {\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    var process = function (editor, node, args) {\n      return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n    };\n\n    var addTempAttr = function (htmlParser, tempAttrs, name) {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, function (nodes, name) {\n          var i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    var postProcess$1 = function (editor, args, content) {\n      if (!args.no_events && editor) {\n        var outArgs = firePostProcess(editor, __assign(__assign({}, args), { content: content }));\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    var getHtmlFromNode = function (dom, node, args) {\n      var html = trim$2(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(SugarElement.fromDom(node)) ? html : Tools.trim(html);\n    };\n    var parseHtml = function (htmlParser, html, args) {\n      var parserArgs = args.selection ? __assign({ forced_root_block: false }, args) : args;\n      var rootNode = htmlParser.parse(html, parserArgs);\n      trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    var serializeNode = function (settings, schema, node) {\n      var htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    var toHtml = function (editor, settings, schema, rootNode, args) {\n      var content = serializeNode(settings, schema, rootNode);\n      return postProcess$1(editor, args, content);\n    };\n    var DomSerializerImpl = function (settings, editor) {\n      var tempAttrs = ['data-mce-selected'];\n      var dom = editor && editor.dom ? editor.dom : DOMUtils.DOM;\n      var schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      var htmlParser = DomParser(settings, schema);\n      register$3(htmlParser, settings, dom);\n      var serialize = function (node, parserArgs) {\n        if (parserArgs === void 0) {\n          parserArgs = {};\n        }\n        var args = __assign({ format: 'html' }, parserArgs);\n        var targetNode = process(editor, node, args);\n        var html = getHtmlFromNode(dom, targetNode, args);\n        var rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema: schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: function (rules) {\n          schema.addValidElements(rules);\n        },\n        setRules: function (rules) {\n          schema.setValidElements(rules);\n        },\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: constant(tempAttrs),\n        getNodeFilters: htmlParser.getNodeFilters,\n        getAttributeFilters: htmlParser.getAttributeFilters\n      };\n    };\n\n    var DomSerializer = function (settings, editor) {\n      var domSerializer = DomSerializerImpl(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs,\n        getNodeFilters: domSerializer.getNodeFilters,\n        getAttributeFilters: domSerializer.getAttributeFilters\n      };\n    };\n\n    var defaultFormat$1 = 'html';\n    var getContent$2 = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : defaultFormat$1;\n      return getContent(editor, args, format);\n    };\n\n    var setContent$2 = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      return setContent(editor, content, args);\n    };\n\n    var DOM$3 = DOMUtils.DOM;\n    var restoreOriginalStyles = function (editor) {\n      DOM$3.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    var safeDestroy = function (x) {\n      return Optional.from(x).each(function (x) {\n        return x.destroy();\n      });\n    };\n    var clearDomReferences = function (editor) {\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n      editor.iframeElement = editor.targetElm = null;\n      if (editor.selection) {\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n      }\n    };\n    var restoreForm = function (editor) {\n      var form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          form._mceOldSubmit = null;\n        }\n        DOM$3.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    var remove$7 = function (editor) {\n      if (!editor.removed) {\n        var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\n        var body = editor.getBody();\n        var element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && element) {\n          DOM$3.remove(element.nextSibling);\n        }\n        fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        fireDetach(editor);\n        DOM$3.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    var destroy = function (editor, automatic) {\n      var selection = editor.selection, dom = editor.dom;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n    var deep$1 = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (hasOwnProperty$2.call(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep$1);\n\n    var sectionResult = function (sections, settings) {\n      return {\n        sections: constant(sections),\n        settings: constant(settings)\n      };\n    };\n    var deviceDetection = detect$3().deviceType;\n    var isTouch = deviceDetection.isTouch();\n    var isPhone = deviceDetection.isPhone();\n    var isTablet = deviceDetection.isTablet();\n    var legacyMobilePlugins = [\n      'lists',\n      'autolink',\n      'autosave'\n    ];\n    var defaultTouchSettings = {\n      table_grid: false,\n      object_resizing: false,\n      resize: false\n    };\n    var normalizePlugins = function (plugins) {\n      var pluginNames = isArray(plugins) ? plugins.join(' ') : plugins;\n      var trimmedPlugins = map(isString(pluginNames) ? pluginNames.split(' ') : [], trim);\n      return filter(trimmedPlugins, function (item) {\n        return item.length > 0;\n      });\n    };\n    var filterLegacyMobilePlugins = function (plugins) {\n      return filter(plugins, curry(contains, legacyMobilePlugins));\n    };\n    var extractSections = function (keys, settings) {\n      var result = bifilter(settings, function (value, key) {\n        return contains(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    var getSection = function (sectionResult, name, defaults) {\n      if (defaults === void 0) {\n        defaults = {};\n      }\n      var sections = sectionResult.sections();\n      var sectionSettings = sections.hasOwnProperty(name) ? sections[name] : {};\n      return Tools.extend({}, defaults, sectionSettings);\n    };\n    var hasSection = function (sectionResult, name) {\n      return sectionResult.sections().hasOwnProperty(name);\n    };\n    var isSectionTheme = function (sectionResult, name, theme) {\n      var section = sectionResult.sections();\n      return hasSection(sectionResult, name) && section[name].theme === theme;\n    };\n    var getSectionConfig = function (sectionResult, name) {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    var getToolbarMode = function (settings, defaultVal) {\n      return get$1(settings, 'toolbar_mode').orThunk(function () {\n        return get$1(settings, 'toolbar_drawer').map(function (val) {\n          return val === false ? 'wrap' : val;\n        });\n      }).getOr(defaultVal);\n    };\n    var getDefaultSettings = function (settings, id, documentBaseUrl, isTouch, editor) {\n      var baseDefaults = {\n        id: id,\n        theme: 'silver',\n        toolbar_mode: getToolbarMode(settings, 'floating'),\n        plugins: '',\n        document_base_url: documentBaseUrl,\n        add_form_submit_trigger: true,\n        submit_patch: true,\n        add_unload_trigger: true,\n        convert_urls: true,\n        relative_urls: true,\n        remove_script_host: true,\n        object_resizing: true,\n        doctype: '<!DOCTYPE html>',\n        visual: true,\n        font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n        forced_root_block: 'p',\n        hidden_input: true,\n        inline_styles: true,\n        convert_fonts_to_spans: true,\n        indent: true,\n        indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        entity_encoding: 'named',\n        url_converter: editor.convertURL,\n        url_converter_scope: editor\n      };\n      return __assign(__assign({}, baseDefaults), isTouch ? defaultTouchSettings : {});\n    };\n    var getDefaultMobileSettings = function (mobileSettings, isPhone) {\n      var defaultMobileSettings = {\n        resize: false,\n        toolbar_mode: getToolbarMode(mobileSettings, 'scrolling'),\n        toolbar_sticky: false\n      };\n      var defaultPhoneSettings = { menubar: false };\n      return __assign(__assign(__assign({}, defaultTouchSettings), defaultMobileSettings), isPhone ? defaultPhoneSettings : {});\n    };\n    var getExternalPlugins$1 = function (overrideSettings, settings) {\n      var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n      if (overrideSettings && overrideSettings.external_plugins) {\n        return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    var combinePlugins = function (forcedPlugins, plugins) {\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n    };\n    var getPlatformPlugins = function (isMobileDevice, sectionResult, desktopPlugins, mobilePlugins) {\n      if (isMobileDevice && isSectionTheme(sectionResult, 'mobile', 'mobile')) {\n        return filterLegacyMobilePlugins(mobilePlugins);\n      } else if (isMobileDevice && hasSection(sectionResult, 'mobile')) {\n        return mobilePlugins;\n      } else {\n        return desktopPlugins;\n      }\n    };\n    var processPlugins = function (isMobileDevice, sectionResult, defaultOverrideSettings, settings) {\n      var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n      var desktopPlugins = normalizePlugins(settings.plugins);\n      var mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      var mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      var platformPlugins = getPlatformPlugins(isMobileDevice, sectionResult, desktopPlugins, mobilePlugins);\n      var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      if (Env.browser.isIE() && contains(combinedPlugins, 'rtc')) {\n        throw new Error('RTC plugin is not supported on IE 11.');\n      }\n      return Tools.extend(settings, { plugins: combinedPlugins.join(' ') });\n    };\n    var isOnMobile = function (isMobileDevice, sectionResult) {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    var combineSettings = function (isMobileDevice, isPhone, defaultSettings, defaultOverrideSettings, settings) {\n      var defaultDeviceSettings = isMobileDevice ? { mobile: getDefaultMobileSettings(settings.mobile || {}, isPhone) } : {};\n      var sectionResult = extractSections(['mobile'], deepMerge(defaultDeviceSettings, settings));\n      var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, {\n        validate: true,\n        external_plugins: getExternalPlugins$1(defaultOverrideSettings, sectionResult.settings())\n      });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n    };\n    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n      var defaultSettings = getDefaultSettings(settings, id, documentBaseUrl, isTouch, editor);\n      return combineSettings(isPhone || isTablet, isPhone, defaultSettings, defaultOverrideSettings, settings);\n    };\n    var getFiltered = function (predicate, editor, name) {\n      return Optional.from(editor.settings[name]).filter(predicate);\n    };\n    var getParamObject = function (value) {\n      var output = {};\n      if (typeof value === 'string') {\n        each(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n          var arr = val.split('=');\n          if (arr.length > 1) {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\n          } else {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[0]);\n          }\n        });\n      } else {\n        output = value;\n      }\n      return output;\n    };\n    var isArrayOf = function (p) {\n      return function (a) {\n        return isArray(a) && forall(a, p);\n      };\n    };\n    var getParam = function (editor, name, defaultVal, type) {\n      var value = name in editor.settings ? editor.settings[name] : defaultVal;\n      if (type === 'hash') {\n        return getParamObject(value);\n      } else if (type === 'string') {\n        return getFiltered(isString, editor, name).getOr(defaultVal);\n      } else if (type === 'number') {\n        return getFiltered(isNumber, editor, name).getOr(defaultVal);\n      } else if (type === 'boolean') {\n        return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n      } else if (type === 'object') {\n        return getFiltered(isObject, editor, name).getOr(defaultVal);\n      } else if (type === 'array') {\n        return getFiltered(isArray, editor, name).getOr(defaultVal);\n      } else if (type === 'string[]') {\n        return getFiltered(isArrayOf(isString), editor, name).getOr(defaultVal);\n      } else if (type === 'function') {\n        return getFiltered(isFunction, editor, name).getOr(defaultVal);\n      } else {\n        return value;\n      }\n    };\n\n    var CreateIconManager = function () {\n      var lookup = {};\n      var add = function (id, iconPack) {\n        lookup[id] = iconPack;\n      };\n      var get = function (id) {\n        if (lookup[id]) {\n          return lookup[id];\n        }\n        return { icons: {} };\n      };\n      var has$1 = function (id) {\n        return has(lookup, id);\n      };\n      return {\n        add: add,\n        get: get,\n        has: has$1\n      };\n    };\n    var IconManager = CreateIconManager();\n\n    var getProp = function (propName, elm) {\n      var rawElm = elm.dom;\n      return rawElm[propName];\n    };\n    var getComputedSizeProp = function (propName, elm) {\n      return parseInt(get$5(elm, propName), 10);\n    };\n    var getClientWidth = curry(getProp, 'clientWidth');\n    var getClientHeight = curry(getProp, 'clientHeight');\n    var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    var getBoundingClientRect$1 = function (elm) {\n      return elm.dom.getBoundingClientRect();\n    };\n    var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\n      var clientWidth = getClientWidth(bodyElm);\n      var clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    var transpose = function (inline, elm, clientX, clientY) {\n      var clientRect = getBoundingClientRect$1(elm);\n      var deltaX = inline ? clientRect.left + elm.dom.clientLeft + getMarginLeft(elm) : 0;\n      var deltaY = inline ? clientRect.top + elm.dom.clientTop + getMarginTop(elm) : 0;\n      var x = clientX - deltaX;\n      var y = clientY - deltaY;\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var isXYInContentArea = function (editor, clientX, clientY) {\n      var bodyElm = SugarElement.fromDom(editor.getBody());\n      var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    var fromDomSafe = function (node) {\n      return Optional.from(node).map(SugarElement.fromDom);\n    };\n    var isEditorAttachedToDom = function (editor) {\n      var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(inBody).getOr(false);\n    };\n\n    var NotificationManagerImpl = function () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        reposition: unimplemented,\n        getArgs: unimplemented\n      };\n    };\n\n    var NotificationManager = function (editor) {\n      var notifications = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      var getTopNotification = function () {\n        return Optional.from(notifications[0]);\n      };\n      var isEqual = function (a, b) {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      var reposition = function () {\n        if (notifications.length > 0) {\n          getImplementation().reposition(notifications);\n        }\n      };\n      var addNotification = function (notification) {\n        notifications.push(notification);\n      };\n      var closeNotification = function (notification) {\n        findIndex(notifications, function (otherNotification) {\n          return otherNotification === notification;\n        }).each(function (index) {\n          notifications.splice(index, 1);\n        });\n      };\n      var open = function (spec, fireEvent) {\n        if (fireEvent === void 0) {\n          fireEvent = true;\n        }\n        if (editor.removed || !isEditorAttachedToDom(editor)) {\n          return;\n        }\n        if (fireEvent) {\n          editor.fire('BeforeOpenNotification', { notification: spec });\n        }\n        return find(notifications, function (notification) {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(function () {\n          editor.editorManager.setActive(editor);\n          var notification = getImplementation().open(spec, function () {\n            closeNotification(notification);\n            reposition();\n            getTopNotification().fold(function () {\n              return editor.focus();\n            }, function (top) {\n              return focus(SugarElement.fromDom(top.getEl()));\n            });\n          });\n          addNotification(notification);\n          reposition();\n          editor.fire('OpenNotification', __assign({}, notification));\n          return notification;\n        });\n      };\n      var close = function () {\n        getTopNotification().each(function (notification) {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      var getNotifications = function () {\n        return notifications;\n      };\n      var registerEvents = function (editor) {\n        editor.on('SkinLoaded', function () {\n          var serviceMessage = getServiceMessage(editor);\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            }, false);\n          }\n        });\n        editor.on('ResizeEditor ResizeWindow NodeChange', function () {\n          Delay.requestAnimationFrame(reposition);\n        });\n        editor.on('remove', function () {\n          each(notifications.slice(), function (notification) {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open: open,\n        close: close,\n        getNotifications: getNotifications\n      };\n    };\n\n    var PluginManager = AddOnManager.PluginManager;\n\n    var ThemeManager = AddOnManager.ThemeManager;\n\n    function WindowManagerImpl () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented,\n        getParams: unimplemented,\n        setParams: unimplemented\n      };\n    }\n\n    var WindowManager = function (editor) {\n      var dialogs = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      var funcBind = function (scope, f) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f ? f.apply(scope, args) : undefined;\n        };\n      };\n      var fireOpenEvent = function (dialog) {\n        editor.fire('OpenWindow', { dialog: dialog });\n      };\n      var fireCloseEvent = function (dialog) {\n        editor.fire('CloseWindow', { dialog: dialog });\n      };\n      var addDialog = function (dialog) {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      var closeDialog = function (dialog) {\n        fireCloseEvent(dialog);\n        dialogs = filter(dialogs, function (otherDialog) {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      var getTopDialog = function () {\n        return Optional.from(dialogs[dialogs.length - 1]);\n      };\n      var storeSelectionAndOpenDialog = function (openDialog) {\n        editor.editorManager.setActive(editor);\n        store(editor);\n        var dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      var open = function (args, params) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().open(args, params, closeDialog);\n        });\n      };\n      var openUrl = function (args) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().openUrl(args, closeDialog);\n        });\n      };\n      var alert = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.alert(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var confirm = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.confirm(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var close = function () {\n        getTopDialog().each(function (dialog) {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', function () {\n        each(dialogs, function (dialog) {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        confirm: confirm,\n        close: close\n      };\n    };\n\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    var displayError = function (editor, message) {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', function () {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    var uploadError = function (editor, message) {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    var logError = function (editor, errorType, msg) {\n      fireError(editor, errorType, { message: msg });\n      console.error(msg);\n    };\n    var createLoadError = function (type, url, name) {\n      return name ? 'Failed to load ' + type + ': ' + name + ' from url ' + url : 'Failed to load ' + type + ' url: ' + url;\n    };\n    var pluginLoadError = function (editor, url, name) {\n      logError(editor, 'PluginLoadError', createLoadError('plugin', url, name));\n    };\n    var iconsLoadError = function (editor, url, name) {\n      logError(editor, 'IconsLoadError', createLoadError('icons', url, name));\n    };\n    var languageLoadError = function (editor, url, name) {\n      logError(editor, 'LanguageLoadError', createLoadError('language', url, name));\n    };\n    var pluginInitError = function (editor, name, err) {\n      var message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      fireError(editor, 'PluginLoadError', { message: message });\n      initError(message, err);\n      displayError(editor, message);\n    };\n    var initError = function (message) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var console = window.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, __spreadArrays([message], x));\n        } else {\n          console.log.apply(console, __spreadArrays([message], x));\n        }\n      }\n    };\n\n    var isContentCssSkinName = function (url) {\n      return /^[a-z0-9\\-]+$/i.test(url);\n    };\n    var getContentCssUrls = function (editor) {\n      return transformToUrls(editor, getContentCss(editor));\n    };\n    var getFontCssUrls = function (editor) {\n      return transformToUrls(editor, getFontCss(editor));\n    };\n    var transformToUrls = function (editor, cssLinks) {\n      var skinUrl = editor.editorManager.baseURL + '/skins/content';\n      var suffix = editor.editorManager.suffix;\n      var contentCssFile = 'content' + suffix + '.css';\n      var inline = editor.inline === true;\n      return map(cssLinks, function (url) {\n        if (isContentCssSkinName(url) && !inline) {\n          return skinUrl + '/' + url + '/' + contentCssFile;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    var appendContentCssFromSettings = function (editor) {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor), getFontCssUrls(editor));\n    };\n\n    var UploadStatus = function () {\n      var PENDING = 1, UPLOADED = 2;\n      var blobUriStatuses = {};\n      var createStatus = function (status, resultUri) {\n        return {\n          status: status,\n          resultUri: resultUri\n        };\n      };\n      var hasBlobUri = function (blobUri) {\n        return blobUri in blobUriStatuses;\n      };\n      var getResultUri = function (blobUri) {\n        var result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      var isPending = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      var isUploaded = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      var markPending = function (blobUri) {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      var markUploaded = function (blobUri, resultUri) {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      var removeFailed = function (blobUri) {\n        delete blobUriStatuses[blobUri];\n      };\n      var destroy = function () {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri: hasBlobUri,\n        getResultUri: getResultUri,\n        isPending: isPending,\n        isUploaded: isUploaded,\n        markPending: markPending,\n        markUploaded: markUploaded,\n        removeFailed: removeFailed,\n        destroy: destroy\n      };\n    };\n\n    var count$1 = 0;\n    var seed = function () {\n      var rnd = function () {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      var now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    var uuid = function (prefix) {\n      return prefix + count$1++ + seed();\n    };\n\n    var BlobCache = function () {\n      var cache = [];\n      var mimeToExt = function (mime) {\n        var mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png',\n          'image/apng': 'apng',\n          'image/avif': 'avif',\n          'image/svg+xml': 'svg',\n          'image/webp': 'webp',\n          'image/bmp': 'bmp',\n          'image/tiff': 'tiff'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      var create = function (o, blob, base64, name, filename) {\n        if (isString(o)) {\n          var id = o;\n          return toBlobInfo({\n            id: id,\n            name: name,\n            filename: filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      var toBlobInfo = function (o) {\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        var id = o.id || uuid('blobid');\n        var name = o.name || id;\n        var blob = o.blob;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(o.filename || name + '.' + mimeToExt(blob.type)),\n          blob: constant(blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(blob)),\n          uri: constant(o.uri)\n        };\n      };\n      var add = function (blobInfo) {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      var findFirst = function (predicate) {\n        return find(cache, predicate).getOrUndefined();\n      };\n      var get = function (id) {\n        return findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.id() === id;\n        });\n      };\n      var getByUri = function (blobUri) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.blobUri() === blobUri;\n        });\n      };\n      var getByData = function (base64, type) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.base64() === base64 && blobInfo.blob().type === type;\n        });\n      };\n      var removeByUri = function (blobUri) {\n        cache = filter(cache, function (blobInfo) {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      var destroy = function () {\n        each(cache, function (cachedBlobInfo) {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create: create,\n        add: add,\n        get: get,\n        getByUri: getByUri,\n        getByData: getByData,\n        findFirst: findFirst,\n        removeByUri: removeByUri,\n        destroy: destroy\n      };\n    };\n\n    var Uploader = function (uploadStatus, settings) {\n      var pendingPromises = {};\n      var pathJoin = function (path1, path2) {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      var defaultHandler = function (blobInfo, success, failure, progress) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = function (e) {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = function () {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = function () {\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          var json = JSON.parse(xhr.responseText);\n          if (!json || typeof json.location !== 'string') {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        var formData = new FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      };\n      var noUpload = function () {\n        return new promiseObj(function (resolve) {\n          resolve([]);\n        });\n      };\n      var handlerSuccess = function (blobInfo, url) {\n        return {\n          url: url,\n          blobInfo: blobInfo,\n          status: true\n        };\n      };\n      var handlerFailure = function (blobInfo, message, options) {\n        return {\n          url: '',\n          blobInfo: blobInfo,\n          status: false,\n          error: {\n            message: message,\n            options: options\n          }\n        };\n      };\n      var resolvePending = function (blobUri, result) {\n        Tools.each(pendingPromises[blobUri], function (resolve) {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      var uploadBlobInfo = function (blobInfo, handler, openNotification) {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new promiseObj(function (resolve) {\n          var notification, progress;\n          try {\n            var closeNotification_1 = function () {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            var success = function (url) {\n              closeNotification_1();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            var failure = function (error, options) {\n              var failureOptions = options ? options : {};\n              closeNotification_1();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error, failureOptions));\n              resolve(handlerFailure(blobInfo, error, failureOptions));\n            };\n            progress = function (percent) {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              Optional.from(notification).orThunk(function () {\n                return Optional.from(openNotification).map(apply);\n              }).each(function (n) {\n                notification = n;\n                n.progressBar.value(percent);\n              });\n            };\n            handler(blobInfo, success, failure, progress);\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex.message, {}));\n          }\n        });\n      };\n      var isDefaultHandler = function (handler) {\n        return handler === defaultHandler;\n      };\n      var pendingUploadBlobInfo = function (blobInfo) {\n        var blobUri = blobInfo.blobUri();\n        return new promiseObj(function (resolve) {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      var uploadBlobs = function (blobInfos, openNotification) {\n        blobInfos = Tools.grep(blobInfos, function (blobInfo) {\n          return !uploadStatus.isUploaded(blobInfo.blobUri());\n        });\n        return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\n          return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n        }));\n      };\n      var upload = function (blobInfos, openNotification) {\n        return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      };\n      if (isFunction(settings.handler) === false) {\n        settings.handler = defaultHandler;\n      }\n      return { upload: upload };\n    };\n\n    var openNotification = function (editor) {\n      return function () {\n        return editor.notificationManager.open({\n          text: editor.translate('Image uploading...'),\n          type: 'info',\n          timeout: -1,\n          progressBar: true\n        });\n      };\n    };\n    var createUploader = function (editor, uploadStatus) {\n      return Uploader(uploadStatus, {\n        url: getImageUploadUrl(editor),\n        basePath: getImageUploadBasePath(editor),\n        credentials: getImagesUploadCredentials(editor),\n        handler: getImagesUploadHandler(editor)\n      });\n    };\n    var ImageUploader = function (editor) {\n      var uploadStatus = UploadStatus();\n      var uploader = createUploader(editor, uploadStatus);\n      return {\n        upload: function (blobInfos, showNotification) {\n          if (showNotification === void 0) {\n            showNotification = true;\n          }\n          return uploader.upload(blobInfos, showNotification ? openNotification(editor) : undefined);\n        }\n      };\n    };\n\n    var UploadChangeHandler = function (editor) {\n      var lastChangedLevel = Cell(null);\n      editor.on('change AddUndo', function (e) {\n        lastChangedLevel.set(__assign({}, e.level));\n      });\n      var fireIfChanged = function () {\n        var data = editor.undoManager.data;\n        last(data).filter(function (level) {\n          return !isEq$4(lastChangedLevel.get(), level);\n        }).each(function (level) {\n          editor.setDirty(true);\n          editor.fire('change', {\n            level: level,\n            lastLevel: get(data, data.length - 2).getOrNull()\n          });\n        });\n      };\n      return { fireIfChanged: fireIfChanged };\n    };\n    var EditorUpload = function (editor) {\n      var blobCache = BlobCache();\n      var uploader, imageScanner;\n      var uploadStatus = UploadStatus();\n      var urlFilters = [];\n      var changeHandler = UploadChangeHandler(editor);\n      var aliveGuard = function (callback) {\n        return function (result) {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      var cacheInvalidator = function (url) {\n        return url + (url.indexOf('?') === -1 ? '?' : '&') + new Date().getTime();\n      };\n      var replaceString = function (content, search, replace) {\n        var index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      var replaceImageUrl = function (content, targetUrl, replacementUrl) {\n        var replacementString = 'src=\"' + replacementUrl + '\"' + (replacementUrl === Env.transparentSrc ? ' data-mce-placeholder=\"1\"' : '');\n        content = replaceString(content, 'src=\"' + targetUrl + '\"', replacementString);\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\n        each(editor.undoManager.data, function (level) {\n          if (level.type === 'fragmented') {\n            level.fragments = map(level.fragments, function (fragment) {\n              return replaceImageUrl(fragment, targetUrl, replacementUrl);\n            });\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      var replaceImageUriInView = function (image, resultUri) {\n        var src = editor.convertURL(resultUri, 'src');\n        replaceUrlInUndoStack(image.src, resultUri);\n        editor.$(image).attr({\n          'src': shouldReuseFileName(editor) ? cacheInvalidator(resultUri) : resultUri,\n          'data-mce-src': src\n        });\n      };\n      var uploadImages = function (callback) {\n        if (!uploader) {\n          uploader = createUploader(editor, uploadStatus);\n        }\n        return scanForImages().then(aliveGuard(function (imageInfos) {\n          var blobInfos = map(imageInfos, function (imageInfo) {\n            return imageInfo.blobInfo;\n          });\n          return uploader.upload(blobInfos, openNotification(editor)).then(aliveGuard(function (result) {\n            var imagesToRemove = [];\n            var filteredResult = map(result, function (uploadInfo, index) {\n              var blobInfo = imageInfos[index].blobInfo;\n              var image = imageInfos[index].image;\n              if (uploadInfo.status && shouldReplaceBlobUris(editor)) {\n                blobCache.removeByUri(image.src);\n                replaceImageUriInView(image, uploadInfo.url);\n              } else if (uploadInfo.error) {\n                if (uploadInfo.error.options.remove) {\n                  replaceUrlInUndoStack(image.getAttribute('src'), Env.transparentSrc);\n                  imagesToRemove.push(image);\n                }\n                uploadError(editor, uploadInfo.error.message);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status,\n                uploadUri: uploadInfo.url,\n                blobInfo: blobInfo\n              };\n            });\n            if (filteredResult.length > 0) {\n              changeHandler.fireIfChanged();\n            }\n            if (imagesToRemove.length > 0) {\n              if (isRtc(editor)) {\n                console.error('Removing images on failed uploads is currently unsupported for RTC');\n              } else {\n                editor.undoManager.transact(function () {\n                  each(imagesToRemove, function (element) {\n                    editor.dom.remove(element);\n                    blobCache.removeByUri(element.src);\n                  });\n                });\n              }\n            }\n            if (callback) {\n              callback(filteredResult);\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      var uploadImagesAuto = function (callback) {\n        if (isAutomaticUploadsEnabled(editor)) {\n          return uploadImages(callback);\n        }\n      };\n      var isValidDataUriImage = function (imgElm) {\n        if (forall(urlFilters, function (filter) {\n            return filter(imgElm);\n          }) === false) {\n          return false;\n        }\n        if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n          var dataImgFilter = getImagesDataImgFilter(editor);\n          return dataImgFilter(imgElm);\n        }\n        return true;\n      };\n      var addFilter = function (filter) {\n        urlFilters.push(filter);\n      };\n      var scanForImages = function () {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n          result = filter(result, function (resultItem) {\n            if (typeof resultItem === 'string') {\n              displayError(editor, resultItem);\n              return false;\n            }\n            return true;\n          });\n          each(result, function (resultItem) {\n            replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n            resultItem.image.src = resultItem.blobInfo.blobUri();\n            resultItem.image.removeAttribute('data-mce-src');\n          });\n          return result;\n        }));\n      };\n      var destroy = function () {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      var replaceBlobUris = function (content) {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n          var resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          var blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, null);\n          }\n          if (blobInfo) {\n            var blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', function () {\n        if (isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', function (e) {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', function (e) {\n        if (e.source_view || e.format === 'raw' || e.format === 'tree') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', function () {\n        editor.parser.addNodeFilter('img', function (images) {\n          each(images, function (img) {\n            var src = img.attr('src');\n            if (blobCache.getByUri(src)) {\n              return;\n            }\n            var resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache: blobCache,\n        addFilter: addFilter,\n        uploadImages: uploadImages,\n        uploadImagesAuto: uploadImagesAuto,\n        scanForImages: scanForImages,\n        destroy: destroy\n      };\n    };\n\n    var get$a = function (dom) {\n      var formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false,\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            defaultBlock: 'div',\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          },\n          {\n            inline: 'strike',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 's',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        lineheight: {\n          selector: 'h1,h2,h3,h4,h5,h6,p,li,td,th,div',\n          defaultBlock: 'p',\n          styles: { lineHeight: '%value' }\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: function (node, _fmt, _itemName) {\n            return isElement$1(node) && node.hasAttribute('href');\n          },\n          onformat: function (elm, _fmt, vars) {\n            Tools.each(vars, function (value, key) {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/), function (name) {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n\n    var FormatRegistry = function (editor) {\n      var formats = {};\n      var get = function (name) {\n        return name ? formats[name] : formats;\n      };\n      var has$1 = function (name) {\n        return has(formats, name);\n      };\n      var register = function (name, format) {\n        if (name) {\n          if (typeof name !== 'string') {\n            Tools.each(name, function (format, name) {\n              register(name, format);\n            });\n          } else {\n            if (!isArray(format)) {\n              format = [format];\n            }\n            Tools.each(format, function (format) {\n              if (typeof format.deep === 'undefined') {\n                format.deep = !format.selector;\n              }\n              if (typeof format.split === 'undefined') {\n                format.split = !format.selector || format.inline;\n              }\n              if (typeof format.remove === 'undefined' && format.selector && !format.inline) {\n                format.remove = 'none';\n              }\n              if (format.selector && format.inline) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (typeof format.classes === 'string') {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      var unregister = function (name) {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(get$a(editor.dom));\n      register(getFormats(editor));\n      return {\n        get: get,\n        has: has$1,\n        register: register,\n        unregister: unregister\n      };\n    };\n\n    var each$e = Tools.each;\n    var dom = DOMUtils.DOM;\n    var parsedSelectorToHtml = function (ancestry, editor) {\n      var elm, item, fragment;\n      var schema = editor && editor.schema || Schema({});\n      var decorate = function (elm, item) {\n        if (item.classes.length) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      var createElement = function (sItem) {\n        item = typeof sItem === 'string' ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        var elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      var getRequiredParent = function (elm, candidate) {\n        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n        var elmRule = schema.getElementRule(name);\n        var parentsRequired = elmRule && elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      var wrapInHtml = function (elm, ancestry, siblings) {\n        var parent, parentCandidate;\n        var ancestor = ancestry.length > 0 && ancestry[0];\n        var ancestorName = ancestor && ancestor.name;\n        var parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestry[0];\n            ancestry = ancestry.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        if (parentCandidate) {\n          parent = createElement(parentCandidate);\n          parent.appendChild(elm);\n        }\n        if (siblings) {\n          if (!parent) {\n            parent = dom.create('div');\n            parent.appendChild(elm);\n          }\n          Tools.each(siblings, function (sibling) {\n            var siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n      };\n      if (ancestry && ancestry.length) {\n        item = ancestry[0];\n        elm = createElement(item);\n        fragment = dom.create('div');\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n        return fragment;\n      } else {\n        return '';\n      }\n    };\n    var parseSelectorItem = function (item) {\n      var tagName;\n      var obj = {\n        classes: [],\n        attrs: {}\n      };\n      item = obj.selector = Tools.trim(item);\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    var parseSelector = function (selector) {\n      if (!selector || typeof selector !== 'string') {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n        var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        var obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    var getCssText = function (editor, format) {\n      var name, previewFrag;\n      var previewCss = '', parentFontSize;\n      var previewStyles = getPreviewStyles(editor);\n      if (previewStyles === '') {\n        return '';\n      }\n      var removeVars = function (val) {\n        return val.replace(/%(\\w+)/g, '');\n      };\n      if (typeof format === 'string') {\n        format = editor.formatter.get(format);\n        if (!format) {\n          return;\n        }\n        format = format[0];\n      }\n      if ('preview' in format) {\n        var previewOpt = get$1(format, 'preview');\n        if (previewOpt.is(false)) {\n          return '';\n        } else {\n          previewStyles = previewOpt.getOr(previewStyles);\n        }\n      }\n      name = format.block || format.inline || 'span';\n      var items = parseSelector(format.selector);\n      if (items.length) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      var previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$e(format.styles, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setStyle(previewElm, name, newValue);\n        }\n      });\n      each$e(format.attributes, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setAttrib(previewElm, name, newValue);\n        }\n      });\n      each$e(format.classes, function (value) {\n        var newValue = removeVars(value);\n        if (!dom.hasClass(previewElm, newValue)) {\n          dom.addClass(previewElm, newValue);\n        }\n      });\n      editor.fire('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n      each$e(previewStyles.split(' '), function (name) {\n        var value = dom.getStyle(previewElm, name, true);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = dom.getStyle(editor.getBody(), name, true);\n          if (dom.toHex(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (dom.toHex(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.fire('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n\n    var setup$6 = function (editor) {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (var i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n\n    var Formatter = function (editor) {\n      var formats = FormatRegistry(editor);\n      var formatChangeState = Cell(null);\n      setup$6(editor);\n      setup$3(editor);\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: function (name, vars, node) {\n          applyFormat$1(editor, name, vars, node);\n        },\n        remove: function (name, vars, node, similar) {\n          removeFormat$1(editor, name, vars, node, similar);\n        },\n        toggle: function (name, vars, node) {\n          toggleFormat(editor, name, vars, node);\n        },\n        match: function (name, vars, node) {\n          return matchFormat(editor, name, vars, node);\n        },\n        closest: function (names) {\n          return closestFormat(editor, names);\n        },\n        matchAll: function (names, vars) {\n          return matchAllFormats(editor, names, vars);\n        },\n        matchNode: function (node, names, vars, similar) {\n          return matchNodeFormat(editor, node, names, vars, similar);\n        },\n        canApply: function (name) {\n          return canApplyFormat(editor, name);\n        },\n        formatChanged: function (formats, callback, similar) {\n          return formatChanged(editor, formatChangeState, formats, callback, similar);\n        },\n        getCssText: curry(getCssText, editor)\n      };\n    };\n\n    var registerEvents$1 = function (editor, undoManager, locks) {\n      var isFirstTypedCharacter = Cell(false);\n      var addNonTypingUndoLevel = function (e) {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', function () {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command.toLowerCase();\n        if (cmd !== 'undo' && cmd !== 'redo' && cmd !== 'mcerepaint') {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', function (e) {\n        var cmd = e.command.toLowerCase();\n        if (cmd !== 'undo' && cmd !== 'redo' && cmd !== 'mcerepaint') {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', function () {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && isEq$4(createFromEditor(editor), undoManager.data[0]) === false) {\n          if (editor.isDirty() === false) {\n            editor.setDirty(true);\n            editor.fire('change', {\n              level: undoManager.data[0],\n              lastLevel: null\n            });\n          }\n          editor.fire('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n        }\n      });\n      editor.on('mousedown', function (e) {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      var isInsertReplacementText = function (event) {\n        return event.inputType === 'insertReplacementText';\n      };\n      var isInsertTextDataNull = function (event) {\n        return event.inputType === 'insertText' && event.data === null;\n      };\n      var isInsertFromPasteOrDrop = function (event) {\n        return event.inputType === 'insertFromPaste' || event.inputType === 'insertFromDrop';\n      };\n      editor.on('input', function (e) {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e) || isInsertFromPasteOrDrop(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    var addKeyboardShortcuts = function (editor) {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    var UndoManager = function (editor) {\n      var beforeBookmark = Cell(Optional.none());\n      var locks = Cell(0);\n      var index = Cell(0);\n      var undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: function () {\n          beforeChange$1(editor, locks, beforeBookmark);\n        },\n        add: function (level, event) {\n          return addUndoLevel$1(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        undo: function () {\n          return undo$1(editor, undoManager, locks, index);\n        },\n        redo: function () {\n          return redo$1(editor, index, undoManager.data);\n        },\n        clear: function () {\n          clear$1(editor, undoManager, index);\n        },\n        reset: function () {\n          reset$1(editor, undoManager);\n        },\n        hasUndo: function () {\n          return hasUndo$1(editor, undoManager, index);\n        },\n        hasRedo: function () {\n          return hasRedo$1(editor, undoManager, index);\n        },\n        transact: function (callback) {\n          return transact$1(editor, undoManager, locks, callback);\n        },\n        ignore: function (callback) {\n          ignore$1(editor, locks, callback);\n        },\n        extra: function (callback1, callback2) {\n          extra$1(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      if (!isRtc(editor)) {\n        registerEvents$1(editor, undoManager, locks);\n      }\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    var nonTypingKeycodes = [\n      9,\n      27,\n      VK.HOME,\n      VK.END,\n      19,\n      20,\n      44,\n      144,\n      145,\n      33,\n      34,\n      45,\n      16,\n      17,\n      18,\n      91,\n      92,\n      93,\n      VK.DOWN,\n      VK.UP,\n      VK.LEFT,\n      VK.RIGHT\n    ].concat(Env.browser.isFirefox() ? [224] : []);\n    var placeholderAttr = 'data-mce-placeholder';\n    var isKeyboardEvent = function (e) {\n      return e.type === 'keydown' || e.type === 'keyup';\n    };\n    var isDeleteEvent = function (e) {\n      var keyCode = e.keyCode;\n      return keyCode === VK.BACKSPACE || keyCode === VK.DELETE;\n    };\n    var isNonTypingKeyboardEvent = function (e) {\n      if (isKeyboardEvent(e)) {\n        var keyCode = e.keyCode;\n        return !isDeleteEvent(e) && (VK.metaKeyPressed(e) || e.altKey || keyCode >= 112 && keyCode <= 123 || contains(nonTypingKeycodes, keyCode));\n      } else {\n        return false;\n      }\n    };\n    var isTypingKeyboardEvent = function (e) {\n      return isKeyboardEvent(e) && !(isDeleteEvent(e) || e.type === 'keyup' && e.keyCode === 229);\n    };\n    var isVisuallyEmpty = function (dom, rootElm, forcedRootBlock) {\n      if (isEmpty(SugarElement.fromDom(rootElm), false)) {\n        var isForcedRootBlockFalse = forcedRootBlock === '';\n        var firstElement = rootElm.firstElementChild;\n        if (!firstElement) {\n          return true;\n        } else if (dom.getStyle(rootElm.firstElementChild, 'padding-left') || dom.getStyle(rootElm.firstElementChild, 'padding-right')) {\n          return false;\n        } else {\n          return isForcedRootBlockFalse ? !dom.isBlock(firstElement) : forcedRootBlock === firstElement.nodeName.toLowerCase();\n        }\n      } else {\n        return false;\n      }\n    };\n    var setup$7 = function (editor) {\n      var dom = editor.dom;\n      var rootBlock = getForcedRootBlock(editor);\n      var placeholder = getPlaceholder(editor);\n      var updatePlaceholder = function (e, initial) {\n        if (isNonTypingKeyboardEvent(e)) {\n          return;\n        }\n        var body = editor.getBody();\n        var showPlaceholder = isTypingKeyboardEvent(e) ? false : isVisuallyEmpty(dom, body, rootBlock);\n        var isPlaceholderShown = dom.getAttrib(body, placeholderAttr) !== '';\n        if (isPlaceholderShown !== showPlaceholder || initial) {\n          dom.setAttrib(body, placeholderAttr, showPlaceholder ? placeholder : null);\n          dom.setAttrib(body, 'aria-placeholder', showPlaceholder ? placeholder : null);\n          firePlaceholderToggle(editor, showPlaceholder);\n          editor.on(showPlaceholder ? 'keydown' : 'keyup', updatePlaceholder);\n          editor.off(showPlaceholder ? 'keyup' : 'keydown', updatePlaceholder);\n        }\n      };\n      if (placeholder) {\n        editor.on('init', function (e) {\n          updatePlaceholder(e, true);\n          editor.on('change SetContent ExecCommand', updatePlaceholder);\n          editor.on('paste', function (e) {\n            return Delay.setEditorTimeout(editor, function () {\n              return updatePlaceholder(e);\n            });\n          });\n        });\n      }\n    };\n\n    var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    var hasStrongRtl = function (text) {\n      return strongRtl.test(text);\n    };\n\n    var isInlineTarget = function (editor, elm) {\n      return is$1(SugarElement.fromDom(elm), getInlineBoundarySelector(editor));\n    };\n    var isRtl$1 = function (element) {\n      return DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n    };\n    var findInlineParents = function (isInlineTarget, rootNode, pos) {\n      return filter(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    };\n    var findRootInline = function (isInlineTarget, rootNode, pos) {\n      var parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Optional.from(parents[parents.length - 1]);\n    };\n    var hasSameParentBlock = function (rootNode, node1, node2) {\n      var block1 = getParentBlock(node1, rootNode);\n      var block2 = getParentBlock(node2, rootNode);\n      return block1 && block1 === block2;\n    };\n    var isAtZwsp = function (pos) {\n      return isBeforeInline(pos) || isAfterInline(pos);\n    };\n    var normalizePosition = function (forward, pos) {\n      if (!pos) {\n        return pos;\n      }\n      var container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (isText$1(container.nextSibling)) {\n            return CaretPosition(container.nextSibling, 0);\n          } else {\n            return CaretPosition.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (isText$1(container.previousSibling)) {\n            return CaretPosition(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition(container, offset - 1) : pos;\n        }\n      }\n    };\n    var normalizeForwards = curry(normalizePosition, true);\n    var normalizeBackwards = curry(normalizePosition, false);\n\n    var isBeforeRoot = function (rootNode) {\n      return function (elm) {\n        return eq$2(rootNode, SugarElement.fromDom(elm.dom.parentNode));\n      };\n    };\n    var getParentBlock$1 = function (rootNode, elm) {\n      return contains$2(rootNode, elm) ? closest(elm, function (element) {\n        return isTextBlock(element) || isListItem(element);\n      }, isBeforeRoot(rootNode)) : Optional.none();\n    };\n    var placeCaretInEmptyBody = function (editor) {\n      var body = editor.getBody();\n      var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n      editor.selection.setCursorLocation(node, 0);\n    };\n    var paddEmptyBody = function (editor) {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        placeCaretInEmptyBody(editor);\n      }\n    };\n    var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        var normalizedFromPos = normalizePosition(false, fromPos);\n        if (forward) {\n          return nextPosition(elm, normalizedFromPos).exists(function (nextPos) {\n            return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n          });\n        } else {\n          return prevPosition(elm, normalizedFromPos).exists(function (prevPos) {\n            return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n          });\n        }\n      }).getOr(true);\n    };\n\n    var blockPosition = function (block, position) {\n      return {\n        block: block,\n        position: position\n      };\n    };\n    var blockBoundary = function (from, to) {\n      return {\n        from: from,\n        to: to\n      };\n    };\n    var getBlockPosition = function (rootNode, pos) {\n      var rootElm = SugarElement.fromDom(rootNode);\n      var containerElm = SugarElement.fromDom(pos.container());\n      return getParentBlock$1(rootElm, containerElm).map(function (block) {\n        return blockPosition(block, pos);\n      });\n    };\n    var isDifferentBlocks = function (blockBoundary) {\n      return eq$2(blockBoundary.from.block, blockBoundary.to.block) === false;\n    };\n    var hasSameParent = function (blockBoundary) {\n      return parent(blockBoundary.from.block).bind(function (parent1) {\n        return parent(blockBoundary.to.block).filter(function (parent2) {\n          return eq$2(parent1, parent2);\n        });\n      }).isSome();\n    };\n    var isEditable = function (blockBoundary) {\n      return isContentEditableFalse(blockBoundary.from.block.dom) === false && isContentEditableFalse(blockBoundary.to.block.dom) === false;\n    };\n    var skipLastBr = function (rootNode, forward, blockPosition) {\n      if (isBr(blockPosition.position.getNode()) && isEmpty(blockPosition.block) === false) {\n        return positionIn(false, blockPosition.block.dom).bind(function (lastPositionInBlock) {\n          if (lastPositionInBlock.isEqual(blockPosition.position)) {\n            return fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n              return getBlockPosition(rootNode, to);\n            });\n          } else {\n            return Optional.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    var readFromRange = function (rootNode, forward, rng) {\n      var fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));\n      var toBlockPos = fromBlockPos.bind(function (blockPos) {\n        return fromPosition(forward, rootNode, blockPos.position).bind(function (to) {\n          return getBlockPosition(rootNode, to).map(function (blockPos) {\n            return skipLastBr(rootNode, forward, blockPos);\n          });\n        });\n      });\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(function (blockBoundary) {\n        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable(blockBoundary);\n      });\n    };\n    var read$3 = function (rootNode, forward, rng) {\n      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Optional.none();\n    };\n\n    var getChildrenUntilBlockBoundary = function (block) {\n      var children$1 = children(block);\n      return findIndex(children$1, isBlock).fold(function () {\n        return children$1;\n      }, function (index) {\n        return children$1.slice(0, index);\n      });\n    };\n    var extractChildren = function (block) {\n      var children = getChildrenUntilBlockBoundary(block);\n      each(children, remove);\n      return children;\n    };\n    var removeEmptyRoot = function (rootNode, block) {\n      var parents = parentsAndSelf(block, rootNode);\n      return find(parents.reverse(), function (element) {\n        return isEmpty(element);\n      }).each(remove);\n    };\n    var isEmptyBefore = function (el) {\n      return filter(prevSiblings(el), function (el) {\n        return !isEmpty(el);\n      }).length === 0;\n    };\n    var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\n      if (isEmpty(toBlock)) {\n        fillWithPaddingBr(toBlock);\n        return firstPositionIn(toBlock.dom);\n      }\n      if (isEmptyBefore(insertionPoint) && isEmpty(fromBlock)) {\n        before(insertionPoint, SugarElement.fromTag('br'));\n      }\n      var position = prevPosition(toBlock.dom, CaretPosition.before(insertionPoint.dom));\n      each(extractChildren(fromBlock), function (child) {\n        before(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\n      if (isEmpty(toBlock)) {\n        remove(toBlock);\n        if (isEmpty(fromBlock)) {\n          fillWithPaddingBr(fromBlock);\n        }\n        return firstPositionIn(fromBlock.dom);\n      }\n      var position = lastPositionIn(toBlock.dom);\n      each(extractChildren(fromBlock), function (child) {\n        append(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var findInsertionPoint = function (toBlock, block) {\n      var parentsAndSelf$1 = parentsAndSelf(block, toBlock);\n      return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length - 1]);\n    };\n    var getInsertionPoint = function (fromBlock, toBlock) {\n      return contains$2(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Optional.none();\n    };\n    var trimBr = function (first, block) {\n      positionIn(first, block.dom).map(function (position) {\n        return position.getNode();\n      }).map(SugarElement.fromDom).filter(isBr$1).each(remove);\n    };\n    var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    var mergeBlocks = function (rootNode, forward, block1, block2) {\n      return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n    };\n\n    var backspaceDelete$1 = function (editor, forward) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var position = read$3(rootNode.dom, forward, editor.selection.getRng()).bind(function (blockBoundary) {\n        return mergeBlocks(rootNode, forward, blockBoundary.from.block, blockBoundary.to.block);\n      });\n      position.each(function (pos) {\n        editor.selection.setRng(pos.toRange());\n      });\n      return position.isSome();\n    };\n\n    var deleteRangeMergeBlocks = function (rootNode, selection) {\n      var rng = selection.getRng();\n      return lift2(getParentBlock$1(rootNode, SugarElement.fromDom(rng.startContainer)), getParentBlock$1(rootNode, SugarElement.fromDom(rng.endContainer)), function (block1, block2) {\n        if (eq$2(block1, block2) === false) {\n          rng.deleteContents();\n          mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n            selection.setRng(pos.toRange());\n          });\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var isRawNodeInTable = function (root, rawNode) {\n      var node = SugarElement.fromDom(rawNode);\n      var isRoot = curry(eq$2, root);\n      return ancestor(node, isTableCell$1, isRoot).isSome();\n    };\n    var isSelectionInTable = function (root, rng) {\n      return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    };\n    var isEverythingSelected = function (root, rng) {\n      var noPrevious = prevPosition(root.dom, CaretPosition.fromRangeStart(rng)).isNone();\n      var noNext = nextPosition(root.dom, CaretPosition.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    var emptyEditor = function (editor) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n      return true;\n    };\n    var deleteRange$1 = function (editor) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    var backspaceDelete$2 = function (editor, _forward) {\n      return editor.selection.isCollapsed() ? false : deleteRange$1(editor);\n    };\n\n    var isContentEditableTrue$2 = isContentEditableTrue;\n    var isContentEditableFalse$7 = isContentEditableFalse;\n    var showCaret = function (direction, editor, node, before, scrollIntoView) {\n      return Optional.from(editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView));\n    };\n    var getNodeRange = function (node) {\n      var rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    var selectNode = function (editor, node) {\n      var e = editor.fire('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return Optional.none();\n      }\n      return Optional.some(getNodeRange(node));\n    };\n    var renderCaretAtRange = function (editor, range, scrollIntoView) {\n      var normalizedRange = normalizeRange(1, editor.getBody(), range);\n      var caretPosition = CaretPosition.fromRangeStart(normalizedRange);\n      var caretPositionNode = caretPosition.getNode();\n      if (isInlineFakeCaretTarget(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      var caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isInlineFakeCaretTarget(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n        return isContentEditableFalse$7(node) || isContentEditableTrue$2(node);\n      });\n      if (isInlineFakeCaretTarget(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return Optional.none();\n    };\n    var renderRangeCaret = function (editor, range, scrollIntoView) {\n      return range.collapsed ? renderCaretAtRange(editor, range, scrollIntoView).getOr(range) : range;\n    };\n\n    var isBeforeBoundary = function (pos) {\n      return isBeforeContentEditableFalse(pos) || isBeforeMedia(pos);\n    };\n    var isAfterBoundary = function (pos) {\n      return isAfterContentEditableFalse(pos) || isAfterMedia(pos);\n    };\n    var trimEmptyTextNode$1 = function (dom, node) {\n      if (isText$1(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var deleteContentAndShowCaret = function (editor, range, node, direction, forward, peekCaretPosition) {\n      showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true).each(function (caretRange) {\n        if (range.collapsed) {\n          var deleteRange = range.cloneRange();\n          if (forward) {\n            deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n          } else {\n            deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n          }\n          deleteRange.deleteContents();\n        } else {\n          range.deleteContents();\n        }\n        editor.selection.setRng(caretRange);\n      });\n      trimEmptyTextNode$1(editor.dom, node);\n      return true;\n    };\n    var deleteBoundaryText = function (editor, forward) {\n      var range = editor.selection.getRng();\n      if (!isText$1(range.commonAncestorContainer)) {\n        return false;\n      }\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forward ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forward ? isBeforeBoundary : isAfterBoundary;\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var nextCaretPosition = normalizePosition(forward, getNextPosFn(caretPosition));\n      if (!nextCaretPosition || !isMoveInsideSameBlock(caretPosition, nextCaretPosition)) {\n        return false;\n      } else if (isBeforeFn(nextCaretPosition)) {\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\n        }\n      }\n      return false;\n    };\n    var backspaceDelete$3 = function (editor, forward) {\n      return deleteBoundaryText(editor, forward);\n    };\n\n    var isCompoundElement = function (node) {\n      return isTableCell$1(SugarElement.fromDom(node)) || isListItem(SugarElement.fromDom(node));\n    };\n    var DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    var isAtContentEditableBlockCaret = function (forward, from) {\n      var elm = from.getNode(forward === false);\n      var caretLocation = forward ? 'after' : 'before';\n      return isElement$1(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\n      var inSameBlock = function (elm) {\n        return isInline(SugarElement.fromDom(elm)) && !isInSameBlock(from, to, root);\n      };\n      return getRelativeCefElm(!forward, from).fold(function () {\n        return getRelativeCefElm(forward, to).fold(never, inSameBlock);\n      }, inSameBlock);\n    };\n    var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\n      var toCefElm = to.getNode(forward === false);\n      return getParentBlock$1(SugarElement.fromDom(root), SugarElement.fromDom(from.getNode())).map(function (blockElm) {\n        return isEmpty(blockElm) ? DeleteAction.remove(blockElm.dom) : DeleteAction.moveToElement(toCefElm);\n      }).orThunk(function () {\n        return Optional.some(DeleteAction.moveToElement(toCefElm));\n      });\n    };\n    var findCefPosition = function (root, forward, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isCompoundElement(to.getNode())) {\n          return Optional.none();\n        } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n          return Optional.none();\n        } else if (forward && isContentEditableFalse(to.getNode())) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward === false && isContentEditableFalse(to.getNode(true))) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward && isAfterContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else if (forward === false && isBeforeContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var getContentEditableBlockAction = function (forward, elm) {\n      if (forward && isContentEditableFalse(elm.nextSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (forward === false && isContentEditableFalse(elm.previousSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Optional.none();\n      }\n    };\n    var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\n      return deleteAction.fold(function (elm) {\n        return Optional.some(DeleteAction.remove(elm));\n      }, function (elm) {\n        return Optional.some(DeleteAction.moveToElement(elm));\n      }, function (to) {\n        if (isInSameBlock(from, to, root)) {\n          return Optional.none();\n        } else {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        }\n      });\n    };\n    var getContentEditableAction = function (root, forward, from) {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n          return findCefPosition(root, forward, from);\n        }, Optional.some);\n      } else {\n        return findCefPosition(root, forward, from).bind(function (deleteAction) {\n          return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n        });\n      }\n    };\n    var read$4 = function (root, forward, rng) {\n      var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      var from = CaretPosition.fromRangeStart(normalizedRange);\n      var rootElement = SugarElement.fromDom(root);\n      if (forward === false && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode()));\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr(rootElement, from)) {\n        return findNextBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    var deleteElement$1 = function (editor, forward) {\n      return function (element) {\n        editor._selectionOverrides.hideFakeCaret();\n        deleteElement(editor, forward, SugarElement.fromDom(element));\n        return true;\n      };\n    };\n    var moveToElement = function (editor, forward) {\n      return function (element) {\n        var pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var moveToPosition = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var getAncestorCe = function (editor, node) {\n      return Optional.from(getContentEditableRoot(editor.getBody(), node));\n    };\n    var backspaceDeleteCaret = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(isContentEditableFalse).fold(function () {\n        return read$4(editor.getBody(), forward, editor.selection.getRng()).exists(function (deleteAction) {\n          return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n        });\n      }, always);\n    };\n    var deleteOffscreenSelection = function (rootElement) {\n      each(descendants$1(rootElement, '.mce-offscreen-selection'), remove);\n    };\n    var backspaceDeleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      if (isContentEditableFalse(selectedNode)) {\n        var hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(isContentEditableFalse);\n        return hasCefAncestor.fold(function () {\n          deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));\n          deleteElement(editor, forward, SugarElement.fromDom(editor.selection.getNode()));\n          paddEmptyBody(editor);\n          return true;\n        }, always);\n      }\n      return false;\n    };\n    var paddEmptyElement = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var ceRoot = getContentEditableRoot(editor.getBody(), selection.getNode());\n      if (isContentEditableTrue(ceRoot) && dom.isBlock(ceRoot) && dom.isEmpty(ceRoot)) {\n        var br = dom.create('br', { 'data-mce-bogus': '1' });\n        dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        selection.setRng(CaretPosition.before(br).toRange());\n      }\n      return true;\n    };\n    var backspaceDelete$4 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n\n    var deleteCaret$1 = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return fromPosition(forward, editor.getBody(), fromPos).filter(function (pos) {\n        return forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos);\n      }).bind(function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, pos));\n      }).exists(function (elm) {\n        editor.selection.select(elm);\n        return true;\n      });\n    };\n    var backspaceDelete$5 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : false;\n    };\n\n    var isText$8 = isText$1;\n    var startsWithCaretContainer$1 = function (node) {\n      return isText$8(node) && node.data[0] === ZWSP;\n    };\n    var endsWithCaretContainer$1 = function (node) {\n      return isText$8(node) && node.data[node.data.length - 1] === ZWSP;\n    };\n    var createZwsp = function (node) {\n      return node.ownerDocument.createTextNode(ZWSP);\n    };\n    var insertBefore$1 = function (node) {\n      if (isText$8(node.previousSibling)) {\n        if (endsWithCaretContainer$1(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(ZWSP);\n          return node.previousSibling;\n        }\n      } else if (isText$8(node)) {\n        if (startsWithCaretContainer$1(node)) {\n          return node;\n        } else {\n          node.insertData(0, ZWSP);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        node.parentNode.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    var insertAfter$1 = function (node) {\n      if (isText$8(node.nextSibling)) {\n        if (startsWithCaretContainer$1(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, ZWSP);\n          return node.nextSibling;\n        }\n      } else if (isText$8(node)) {\n        if (endsWithCaretContainer$1(node)) {\n          return node;\n        } else {\n          node.appendData(ZWSP);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        if (node.nextSibling) {\n          node.parentNode.insertBefore(newNode, node.nextSibling);\n        } else {\n          node.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    var insertInline$1 = function (before, node) {\n      return before ? insertBefore$1(node) : insertAfter$1(node);\n    };\n    var insertInlineBefore = curry(insertInline$1, true);\n    var insertInlineAfter = curry(insertInline$1, false);\n\n    var insertInlinePos = function (pos, before) {\n      if (isText$1(pos.container())) {\n        return insertInline$1(before, pos.container());\n      } else {\n        return insertInline$1(before, pos.getNode());\n      }\n    };\n    var isPosCaretContainer = function (pos, caret) {\n      var caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    var renderCaret = function (caret, location) {\n      return location.fold(function (element) {\n        remove$5(caret.get());\n        var text = insertInlineBefore(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, text.length - 1));\n      }, function (element) {\n        return firstPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$5(caret.get());\n            var text = insertInlinePos(pos, true);\n            caret.set(text);\n            return CaretPosition(text, 1);\n          } else {\n            return CaretPosition(caret.get(), 1);\n          }\n        });\n      }, function (element) {\n        return lastPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$5(caret.get());\n            var text = insertInlinePos(pos, false);\n            caret.set(text);\n            return CaretPosition(text, text.length - 1);\n          } else {\n            return CaretPosition(caret.get(), caret.get().length - 1);\n          }\n        });\n      }, function (element) {\n        remove$5(caret.get());\n        var text = insertInlineAfter(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, 1));\n      });\n    };\n\n    var evaluateUntil = function (fns, args) {\n      for (var i = 0; i < fns.length; i++) {\n        var result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Optional.none();\n    };\n\n    var Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    var rescope = function (rootNode, node) {\n      var parentBlock = getParentBlock(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var before$4 = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      var scope = rescope(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return nextPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.before(inline);\n        });\n      }, Optional.none);\n    };\n    var isNotInsideFormatCaretContainer = function (rootNode, elm) {\n      return getParentCaretContainer(rootNode, elm) === null;\n    };\n    var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\n      return findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    };\n    var start = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var prevPos = prevPosition(inline, nPos);\n        return prevPos.isNone() ? Optional.some(Location.start(inline)) : Optional.none();\n      });\n    };\n    var end = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var nextPos = nextPosition(inline, nPos);\n        return nextPos.isNone() ? Optional.some(Location.end(inline)) : Optional.none();\n      });\n    };\n    var after$3 = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      var scope = rescope(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return prevPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.after(inline);\n        });\n      }, Optional.none);\n    };\n    var isValidLocation = function (location) {\n      return isRtl$1(getElement(location)) === false;\n    };\n    var readLocation = function (isInlineTarget, rootNode, pos) {\n      var location = evaluateUntil([\n        before$4,\n        start,\n        end,\n        after$3\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    var getElement = function (location) {\n      return location.fold(identity, identity, identity, identity);\n    };\n    var getName = function (location) {\n      return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    };\n    var outside = function (location) {\n      return location.fold(Location.before, Location.before, Location.after, Location.after);\n    };\n    var inside = function (location) {\n      return location.fold(Location.start, Location.start, Location.end, Location.end);\n    };\n    var isEq$5 = function (location1, location2) {\n      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    };\n    var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\n      return lift2(findRootInline(isInlineTarget, rootNode, from), findRootInline(isInlineTarget, rootNode, to), function (fromInline, toInline) {\n        if (fromInline !== toInline && hasSameParentBlock(rootNode, fromInline, toInline)) {\n          return Location.after(forward ? fromInline : toInline);\n        } else {\n          return location;\n        }\n      }).getOr(location);\n    };\n    var skipNoMovement = function (fromLocation, toLocation) {\n      return fromLocation.fold(always, function (fromLocation) {\n        return !isEq$5(fromLocation, toLocation);\n      });\n    };\n    var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\n      var from = normalizePosition(forward, pos);\n      var to = fromPosition(forward, rootNode, from).map(curry(normalizePosition, forward));\n      var location = to.fold(function () {\n        return fromLocation.map(outside);\n      }, function (to) {\n        return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n      });\n      return location.filter(isValidLocation);\n    };\n    var findLocationSimple = function (forward, location) {\n      if (forward) {\n        return location.fold(compose(Optional.some, Location.start), Optional.none, compose(Optional.some, Location.after), Optional.none);\n      } else {\n        return location.fold(Optional.none, compose(Optional.some, Location.before), Optional.none, compose(Optional.some, Location.end));\n      }\n    };\n    var findLocation = function (forward, isInlineTarget, rootNode, pos) {\n      var from = normalizePosition(forward, pos);\n      var fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n        return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n      });\n    };\n    var prevLocation = curry(findLocation, false);\n    var nextLocation = curry(findLocation, true);\n\n    var hasSelectionModifyApi = function (editor) {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    var moveRel = function (forward, selection, pos) {\n      var delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    var moveByWord = function (forward, editor) {\n      var rng = editor.selection.getRng();\n      var pos = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    var flip = function (direction, positions) {\n      return direction === HDirection.Backwards ? reverse(positions) : positions;\n    };\n    var walk$3 = function (direction, caretWalker, pos) {\n      return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    };\n    var getBreakType = function (scope, direction, currentPos, nextPos) {\n      if (isBr(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    var getPositionsUntil = function (predicate, direction, scope, start) {\n      var caretWalker = CaretWalker(scope);\n      var currentPos = start, nextPos;\n      var positions = [];\n      while (currentPos) {\n        nextPos = walk$3(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (isBr(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          var breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType: breakType,\n            breakAt: Optional.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Optional.none()\n      };\n    };\n    var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\n      return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n        var positions = getPositionsUntilBreak(scope, pos).positions;\n        return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n      }).getOr([]);\n    };\n    var findClosestHorizontalPositionFromPoint = function (positions, x) {\n      return foldl(positions, function (acc, newPos) {\n        return acc.fold(function () {\n          return Optional.some(newPos);\n        }, function (lastPos) {\n          return lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), function (lastRect, newRect) {\n            var lastDist = Math.abs(x - lastRect.left);\n            var newDist = Math.abs(x - newRect.left);\n            return newDist <= lastDist ? newPos : lastPos;\n          }).or(acc);\n        });\n      }, Optional.none());\n    };\n    var findClosestHorizontalPosition = function (positions, pos) {\n      return head(pos.getClientRects()).bind(function (targetRect) {\n        return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n      });\n    };\n    var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    var isAtFirstLine = function (scope, pos) {\n      return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    };\n    var isAtLastLine = function (scope, pos) {\n      return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    };\n    var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    var getFirstLinePositions = function (scope) {\n      return firstPositionIn(scope).map(function (pos) {\n        return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n      }).getOr([]);\n    };\n    var getLastLinePositions = function (scope) {\n      return lastPositionIn(scope).map(function (pos) {\n        return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n      }).getOr([]);\n    };\n\n    var getNodeClientRects = function (node) {\n      var toArrayWithNode = function (clientRects) {\n        return map(clientRects, function (clientRect) {\n          clientRect = clone$2(clientRect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (isElement$1(node)) {\n        return toArrayWithNode(node.getClientRects());\n      }\n      if (isText$1(node)) {\n        var rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      }\n    };\n    var getClientRects = function (nodes) {\n      return bind(nodes, getNodeClientRects);\n    };\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    var findUntil$1 = function (direction, root, predicateFn, node) {\n      while (node = findNode(node, direction, isEditableCaretCandidate, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var walkUntil = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n      var line = 0;\n      var result = [];\n      var add = function (node) {\n        var i, clientRect, clientRects;\n        clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (i = 0; i < clientRects.length; i++) {\n          clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, last$1(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n      };\n      var targetClientRect = last$1(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      var node = caretPosition.getNode();\n      add(node);\n      findUntil$1(direction, root, add, node);\n      return result;\n    };\n    var aboveLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line > lineNumber;\n    };\n    var isLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line === lineNumber;\n    };\n    var upUntil = curry(walkUntil, VDirection.Up, isAbove, isBelow);\n    var downUntil = curry(walkUntil, VDirection.Down, isBelow, isAbove);\n    var positionsUntil = function (direction, root, predicateFn, node) {\n      var caretWalker = CaretWalker(root);\n      var walkFn, isBelowFn, isAboveFn, caretPosition;\n      var result = [];\n      var line = 0, clientRect;\n      var getClientRect = function (caretPosition) {\n        if (direction === 1) {\n          return last$1(caretPosition.getClientRects());\n        }\n        return last$1(caretPosition.getClientRects());\n      };\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow;\n        isAboveFn = isAbove;\n        caretPosition = CaretPosition.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove;\n        isAboveFn = isBelow;\n        caretPosition = CaretPosition.before(node);\n      }\n      var targetClientRect = getClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        clientRect = getClientRect(caretPosition);\n        if (isAboveFn(clientRect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(clientRect, last$1(result))) {\n          line++;\n        }\n        clientRect = clone$2(clientRect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    var isAboveLine = function (lineNumber) {\n      return function (clientRect) {\n        return aboveLineNumber(lineNumber, clientRect);\n      };\n    };\n    var isLine = function (lineNumber) {\n      return function (clientRect) {\n        return isLineNumber(lineNumber, clientRect);\n      };\n    };\n\n    var isContentEditableFalse$8 = isContentEditableFalse;\n    var findNode$1 = findNode;\n    var distanceToRectLeft = function (clientRect, clientX) {\n      return Math.abs(clientRect.left - clientX);\n    };\n    var distanceToRectRight = function (clientRect, clientX) {\n      return Math.abs(clientRect.right - clientX);\n    };\n    var isInsideX = function (clientX, clientRect) {\n      return clientX >= clientRect.left && clientX <= clientRect.right;\n    };\n    var isInsideY = function (clientY, clientRect) {\n      return clientY >= clientRect.top && clientY <= clientRect.bottom;\n    };\n    var findClosestClientRect = function (clientRects, clientX) {\n      return reduce(clientRects, function (oldClientRect, clientRect) {\n        var oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n        var newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n        if (isInsideX(clientX, clientRect)) {\n          return clientRect;\n        }\n        if (isInsideX(clientX, oldClientRect)) {\n          return oldClientRect;\n        }\n        if (newDistance === oldDistance && isContentEditableFalse$8(clientRect.node)) {\n          return clientRect;\n        }\n        if (newDistance < oldDistance) {\n          return clientRect;\n        }\n        return oldClientRect;\n      });\n    };\n    var walkUntil$1 = function (direction, root, predicateFn, startNode, includeChildren) {\n      var node = findNode$1(startNode, direction, isEditableCaretCandidate, root, !includeChildren);\n      do {\n        if (!node || predicateFn(node)) {\n          return;\n        }\n      } while (node = findNode$1(node, direction, isEditableCaretCandidate, root));\n    };\n    var findLineNodeRects = function (root, targetNodeRect, includeChildren) {\n      if (includeChildren === void 0) {\n        includeChildren = true;\n      }\n      var clientRects = [];\n      var collect = function (checkPosFn, node) {\n        var lineRects = filter(getClientRects([node]), function (clientRect) {\n          return !checkPosFn(clientRect, targetNodeRect);\n        });\n        clientRects = clientRects.concat(lineRects);\n        return lineRects.length === 0;\n      };\n      clientRects.push(targetNodeRect);\n      walkUntil$1(VDirection.Up, root, curry(collect, isAbove), targetNodeRect.node, includeChildren);\n      walkUntil$1(VDirection.Down, root, curry(collect, isBelow), targetNodeRect.node, includeChildren);\n      return clientRects;\n    };\n    var getFakeCaretTargets = function (root) {\n      return filter(from$1(root.getElementsByTagName('*')), isFakeCaretTarget);\n    };\n    var caretInfo = function (clientRect, clientX) {\n      return {\n        node: clientRect.node,\n        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n      };\n    };\n    var closestFakeCaret = function (root, clientX, clientY) {\n      var fakeTargetNodeRects = getClientRects(getFakeCaretTargets(root));\n      var targetNodeRects = filter(fakeTargetNodeRects, curry(isInsideY, clientY));\n      var closestNodeRect = findClosestClientRect(targetNodeRects, clientX);\n      if (closestNodeRect) {\n        var includeChildren = !isTable(closestNodeRect.node) && !isMedia(closestNodeRect.node);\n        closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect, includeChildren), clientX);\n        if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n          return caretInfo(closestNodeRect, clientX);\n        }\n      }\n      return null;\n    };\n\n    var moveToRange = function (editor, rng) {\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n    var renderRangeCaretOpt = function (editor, range, scrollIntoView) {\n      return Optional.some(renderRangeCaret(editor, range, scrollIntoView));\n    };\n    var moveHorizontally = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var forwards = direction === HDirection.Forwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forwards ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forwards ? isBefore : isAfter;\n      if (!range.collapsed) {\n        var node = getSelectedNode(range);\n        if (isElement(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, false);\n        }\n      }\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      var nextCaretPosition = normalizePosition(forwards, getNextPosFn(caretPosition));\n      var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      if (!nextCaretPosition) {\n        return rangeIsInContainerBlock ? Optional.some(range) : Optional.none();\n      }\n      if (isBeforeFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, false);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, false);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaretOpt(editor, nextCaretPosition.toRange(), false);\n      }\n      return Optional.none();\n    };\n    var moveVertically = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var caretClientRect = last$1(caretPosition.getClientRects());\n      var forwards = direction === VDirection.Down;\n      if (!caretClientRect) {\n        return Optional.none();\n      }\n      var walkerFn = forwards ? downUntil : upUntil;\n      var linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n      var nextLinePositions = filter(linePositions, isLine(1));\n      var clientX = caretClientRect.left;\n      var nextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (nextLineRect && isElement(nextLineRect.node)) {\n        var dist1 = Math.abs(clientX - nextLineRect.left);\n        var dist2 = Math.abs(clientX - nextLineRect.right);\n        return showCaret(direction, editor, nextLineRect.node, dist1 < dist2, false);\n      }\n      var currentNode;\n      if (isBefore(caretPosition)) {\n        currentNode = caretPosition.getNode();\n      } else if (isAfter(caretPosition)) {\n        currentNode = caretPosition.getNode(true);\n      } else {\n        currentNode = getSelectedNode(range);\n      }\n      if (currentNode) {\n        var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), currentNode);\n        var closestNextLineRect = findClosestClientRect(filter(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n        closestNextLineRect = last$1(filter(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n      }\n      if (nextLinePositions.length === 0) {\n        return getLineEndPoint(editor, forwards).filter(forwards ? isAfter : isBefore).map(function (pos) {\n          return renderRangeCaret(editor, pos.toRange(), false);\n        });\n      }\n      return Optional.none();\n    };\n    var getLineEndPoint = function (editor, forward) {\n      var rng = editor.selection.getRng();\n      var body = editor.getBody();\n      if (forward) {\n        var from = CaretPosition.fromRangeEnd(rng);\n        var result = getPositionsUntilNextLine(body, from);\n        return last(result.positions);\n      } else {\n        var from = CaretPosition.fromRangeStart(rng);\n        var result = getPositionsUntilPreviousLine(body, from);\n        return head(result.positions);\n      }\n    };\n    var moveToLineEndPoint = function (editor, forward, isElementPosition) {\n      return getLineEndPoint(editor, forward).filter(isElementPosition).exists(function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      });\n    };\n\n    var setCaretPosition = function (editor, pos) {\n      var rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    var setSelected = function (state, elm) {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    var renderCaretLocation = function (editor, caret, location) {\n      return renderCaret(caret, location).map(function (pos) {\n        setCaretPosition(editor, pos);\n        return location;\n      });\n    };\n    var findLocation$1 = function (editor, caret, forward) {\n      var rootNode = editor.getBody();\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var location = findLocation(forward, isInlineTarget$1, rootNode, from);\n      return location.bind(function (location) {\n        return renderCaretLocation(editor, caret, location);\n      });\n    };\n    var toggleInlines = function (isInlineTarget, dom, elms) {\n      var inlineBoundaries = map(descendants$1(SugarElement.fromDom(dom.getRoot()), '*[data-mce-selected=\"inline-boundary\"]'), function (e) {\n        return e.dom;\n      });\n      var selectedInlines = filter(inlineBoundaries, isInlineTarget);\n      var targetInlines = filter(elms, isInlineTarget);\n      each(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    var safeRemoveCaretContainer = function (editor, caret) {\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n        var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition.isTextPosition(pos) && isAtZwsp(pos) === false) {\n          setCaretPosition(editor, removeAndReposition(caret.get(), pos));\n          caret.set(null);\n        }\n      }\n    };\n    var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\n      if (editor.selection.isCollapsed()) {\n        var inlines = filter(elms, isInlineTarget);\n        each(inlines, function (_inline) {\n          var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n          readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n            return renderCaretLocation(editor, caret, location);\n          });\n        });\n      }\n    };\n    var move = function (editor, caret, forward) {\n      return isInlineBoundariesEnabled(editor) ? findLocation$1(editor, caret, forward).isSome() : false;\n    };\n    var moveWord = function (forward, editor, _caret) {\n      return isInlineBoundariesEnabled(editor) ? moveByWord(forward, editor) : false;\n    };\n    var setupSelectedState = function (editor) {\n      var caret = Cell(null);\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.on('NodeChange', function (e) {\n        if (isInlineBoundariesEnabled(editor) && !(Env.browser.isIE() && e.initial)) {\n          toggleInlines(isInlineTarget$1, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget$1, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    var moveNextWord = curry(moveWord, true);\n    var movePrevWord = curry(moveWord, false);\n    var moveToLineEndPoint$1 = function (editor, forward, caret) {\n      if (isInlineBoundariesEnabled(editor)) {\n        var linePoint = getLineEndPoint(editor, forward).getOrThunk(function () {\n          var rng = editor.selection.getRng();\n          return forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n        });\n        return readLocation(curry(isInlineTarget, editor), editor.getBody(), linePoint).exists(function (loc) {\n          var outsideLoc = outside(loc);\n          return renderCaret(caret, outsideLoc).exists(function (pos) {\n            setCaretPosition(editor, pos);\n            return true;\n          });\n        });\n      } else {\n        return false;\n      }\n    };\n\n    var rangeFromPositions = function (from, to) {\n      var range = document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    var hasOnlyTwoOrLessPositionsLeft = function (elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        return nextPosition(elm, normalizedFirstPos).forall(function (pos) {\n          return pos.isEqual(normalizedLastPos);\n        });\n      }).getOr(true);\n    };\n    var setCaretLocation = function (editor, caret) {\n      return function (location) {\n        return renderCaret(caret, location).exists(function (pos) {\n          setCaretPosition(editor, pos);\n          return true;\n        });\n      };\n    };\n    var deleteFromTo = function (editor, caret, from, to) {\n      var rootNode = editor.getBody();\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.undoManager.ignore(function () {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        editor.execCommand('Delete');\n        readLocation(isInlineTarget$1, rootNode, CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).map(setCaretLocation(editor, caret));\n      });\n      editor.nodeChanged();\n    };\n    var rescope$1 = function (rootNode, node) {\n      var parentBlock = getParentBlock(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\n      var rootNode = rescope$1(editor.getBody(), from.container());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var fromLocation = readLocation(isInlineTarget$1, rootNode, from);\n      return fromLocation.bind(function (location) {\n        if (forward) {\n          return location.fold(constant(Optional.some(inside(location))), Optional.none, constant(Optional.some(outside(location))), Optional.none);\n        } else {\n          return location.fold(Optional.none, constant(Optional.some(outside(location))), Optional.none, constant(Optional.some(inside(location))));\n        }\n      }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n        var toPosition = navigate(forward, rootNode, from);\n        var toLocation = toPosition.bind(function (pos) {\n          return readLocation(isInlineTarget$1, rootNode, pos);\n        });\n        return lift2(fromLocation, toLocation, function () {\n          return findRootInline(isInlineTarget$1, rootNode, from).exists(function (elm) {\n            if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n              deleteElement(editor, forward, SugarElement.fromDom(elm));\n              return true;\n            } else {\n              return false;\n            }\n          });\n        }).orThunk(function () {\n          return toLocation.bind(function (_) {\n            return toPosition.map(function (to) {\n              if (forward) {\n                deleteFromTo(editor, caret, from, to);\n              } else {\n                deleteFromTo(editor, caret, to, from);\n              }\n              return true;\n            });\n          });\n        }).getOr(false);\n      });\n    };\n    var backspaceDelete$6 = function (editor, caret, forward) {\n      if (editor.selection.isCollapsed() && isInlineBoundariesEnabled(editor)) {\n        var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return false;\n    };\n\n    var getParentInlines = function (rootElm, startElm) {\n      var parents = parentsAndSelf(startElm, rootElm);\n      return findIndex(parents, isBlock).fold(constant(parents), function (index) {\n        return parents.slice(0, index);\n      });\n    };\n    var hasOnlyOneChild$1 = function (elm) {\n      return children(elm).length === 1;\n    };\n    var deleteLastPosition = function (forward, editor, target, parentInlines) {\n      var isFormatElement$1 = curry(isFormatElement, editor);\n      var formatNodes = map(filter(parentInlines, isFormatElement$1), function (elm) {\n        return elm.dom;\n      });\n      if (formatNodes.length === 0) {\n        deleteElement(editor, forward, target);\n      } else {\n        var pos = replaceWithCaretFormat(target.dom, formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    var deleteCaret$2 = function (editor, forward) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      var startElm = SugarElement.fromDom(editor.selection.getStart());\n      var parentInlines = filter(getParentInlines(rootElm, startElm), hasOnlyOneChild$1);\n      return last(parentInlines).exists(function (target) {\n        var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (willDeleteLastPositionInElement(forward, fromPos, target.dom) && !isEmptyCaretFormatElement(target)) {\n          deleteLastPosition(forward, editor, target, parentInlines);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var backspaceDelete$7 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : false;\n    };\n\n    var deleteElement$2 = function (editor, forward, element) {\n      editor._selectionOverrides.hideFakeCaret();\n      deleteElement(editor, forward, SugarElement.fromDom(element));\n      return true;\n    };\n    var deleteCaret$3 = function (editor, forward) {\n      var isNearMedia = forward ? isBeforeMedia : isAfterMedia;\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var fromPos = getNormalizedRangeEndPoint(direction, editor.getBody(), editor.selection.getRng());\n      if (isNearMedia(fromPos)) {\n        return deleteElement$2(editor, forward, fromPos.getNode(!forward));\n      } else {\n        return Optional.from(normalizePosition(forward, fromPos)).filter(function (pos) {\n          return isNearMedia(pos) && isMoveInsideSameBlock(fromPos, pos);\n        }).exists(function (pos) {\n          return deleteElement$2(editor, forward, pos.getNode(!forward));\n        });\n      }\n    };\n    var deleteRange$2 = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return isMedia(selectedNode) ? deleteElement$2(editor, forward, selectedNode) : false;\n    };\n    var backspaceDelete$8 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$3(editor, forward) : deleteRange$2(editor, forward);\n    };\n\n    var isEditable$1 = function (target) {\n      return closest(target, function (elm) {\n        return isContentEditableTrue(elm.dom) || isContentEditableFalse(elm.dom);\n      }).exists(function (elm) {\n        return isContentEditableTrue(elm.dom);\n      });\n    };\n    var parseIndentValue = function (value) {\n      var number = parseInt(value, 10);\n      return isNaN(number) ? 0 : number;\n    };\n    var getIndentStyleName = function (useMargin, element) {\n      var indentStyleName = useMargin || isTable$1(element) ? 'margin' : 'padding';\n      var suffix = get$5(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    var indentElement = function (dom, command, useMargin, value, unit, element) {\n      var indentStyleName = getIndentStyleName(useMargin, SugarElement.fromDom(element));\n      if (command === 'outdent') {\n        var styleValue = Math.max(0, parseIndentValue(element.style[indentStyleName]) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        var styleValue = parseIndentValue(element.style[indentStyleName]) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    var validateBlocks = function (editor, blocks) {\n      return forall(blocks, function (block) {\n        var indentStyleName = getIndentStyleName(shouldIndentUseMargin(editor), block);\n        var intentValue = getRaw(block, indentStyleName).map(parseIndentValue).getOr(0);\n        var contentEditable = editor.dom.getContentEditable(block.dom);\n        return contentEditable !== 'false' && intentValue > 0;\n      });\n    };\n    var canOutdent = function (editor) {\n      var blocks = getBlocksToIndent(editor);\n      return !editor.mode.isReadOnly() && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    var isListComponent = function (el) {\n      return isList(el) || isListItem(el);\n    };\n    var parentIsListComponent = function (el) {\n      return parent(el).map(isListComponent).getOr(false);\n    };\n    var getBlocksToIndent = function (editor) {\n      return filter(map(editor.selection.getSelectedBlocks(), SugarElement.fromDom), function (el) {\n        return !isListComponent(el) && !parentIsListComponent(el) && isEditable$1(el);\n      });\n    };\n    var handle = function (editor, command) {\n      var dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\n      var indentation = getIndentation(editor);\n      var indentUnit = /[a-z%]+$/i.exec(indentation)[0];\n      var indentValue = parseInt(indentation, 10);\n      var useMargin = shouldIndentUseMargin(editor);\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n        if (forcedRootBlock === '' && !dom.getParent(selection.getNode(), dom.isBlock)) {\n          formatter.apply('div');\n        }\n      }\n      each(getBlocksToIndent(editor), function (block) {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom);\n      });\n    };\n\n    var backspaceDelete$9 = function (editor, _forward) {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        var dom = editor.dom;\n        var rng = editor.selection.getRng();\n        var pos = CaretPosition.fromRangeStart(rng);\n        var block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(SugarElement.fromDom(block), pos)) {\n          handle(editor, 'outdent');\n          return true;\n        }\n      }\n      return false;\n    };\n\n    var nativeCommand = function (editor, command) {\n      editor.getDoc().execCommand(command, false, null);\n    };\n    var deleteCommand = function (editor, caret) {\n      if (backspaceDelete$9(editor)) {\n        return;\n      } else if (backspaceDelete$4(editor, false)) {\n        return;\n      } else if (backspaceDelete$3(editor, false)) {\n        return;\n      } else if (backspaceDelete$6(editor, caret, false)) {\n        return;\n      } else if (backspaceDelete$1(editor, false)) {\n        return;\n      } else if (backspaceDelete(editor)) {\n        return;\n      } else if (backspaceDelete$5(editor, false)) {\n        return;\n      } else if (backspaceDelete$8(editor, false)) {\n        return;\n      } else if (backspaceDelete$2(editor)) {\n        return;\n      } else if (backspaceDelete$7(editor, false)) {\n        return;\n      } else {\n        nativeCommand(editor, 'Delete');\n        paddEmptyBody(editor);\n      }\n    };\n    var forwardDeleteCommand = function (editor, caret) {\n      if (backspaceDelete$4(editor, true)) {\n        return;\n      } else if (backspaceDelete$3(editor, true)) {\n        return;\n      } else if (backspaceDelete$6(editor, caret, true)) {\n        return;\n      } else if (backspaceDelete$1(editor, true)) {\n        return;\n      } else if (backspaceDelete(editor)) {\n        return;\n      } else if (backspaceDelete$5(editor, true)) {\n        return;\n      } else if (backspaceDelete$8(editor, true)) {\n        return;\n      } else if (backspaceDelete$2(editor)) {\n        return;\n      } else if (backspaceDelete$7(editor, true)) {\n        return;\n      } else {\n        nativeCommand(editor, 'ForwardDelete');\n      }\n    };\n    var setup$8 = function (editor, caret) {\n      editor.addCommand('delete', function () {\n        deleteCommand(editor, caret);\n      });\n      editor.addCommand('forwardDelete', function () {\n        forwardDeleteCommand(editor, caret);\n      });\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(event.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var setup$9 = function (editor) {\n      var startData = Cell(Optional.none());\n      var longpressFired = Cell(false);\n      var debounceLongpress = last$2(function (e) {\n        editor.fire('longpress', __assign(__assign({}, e), { type: 'longpress' }));\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      editor.on('touchstart', function (e) {\n        getTouch(e).each(function (touch) {\n          debounceLongpress.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: e.target\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(Optional.some(data));\n        });\n      }, true);\n      editor.on('touchmove', function (e) {\n        debounceLongpress.cancel();\n        getTouch(e).each(function (touch) {\n          startData.get().each(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.set(Optional.none());\n              longpressFired.set(false);\n              editor.fire('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', function (e) {\n        debounceLongpress.cancel();\n        if (e.type === 'touchcancel') {\n          return;\n        }\n        startData.get().filter(function (data) {\n          return data.target.isEqualNode(e.target);\n        }).each(function () {\n          if (longpressFired.get()) {\n            e.preventDefault();\n          } else {\n            editor.fire('tap', __assign(__assign({}, e), { type: 'tap' }));\n          }\n        });\n      }, true);\n    };\n\n    var isBlockElement = function (blockElements, node) {\n      return blockElements.hasOwnProperty(node.nodeName);\n    };\n    var isValidTarget = function (blockElements, node) {\n      if (isText$1(node)) {\n        return true;\n      } else if (isElement$1(node)) {\n        return !isBlockElement(blockElements, node) && !isBookmarkNode$1(node);\n      } else {\n        return false;\n      }\n    };\n    var hasBlockParent = function (blockElements, root, node) {\n      return exists(parents$1(SugarElement.fromDom(node), SugarElement.fromDom(root)), function (elm) {\n        return isBlockElement(blockElements, elm.dom);\n      });\n    };\n    var shouldRemoveTextNode = function (blockElements, node) {\n      if (isText$1(node)) {\n        if (node.nodeValue.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var addRootBlocks = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var schema = editor.schema, blockElements = schema.getBlockElements();\n      var node = selection.getStart();\n      var rootNode = editor.getBody();\n      var rootBlockNode, tempNode, wrapped;\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!node || !isElement$1(node) || !forcedRootBlock) {\n        return;\n      }\n      var rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n        return;\n      }\n      var rng = selection.getRng();\n      var startContainer = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endContainer = rng.endContainer;\n      var endOffset = rng.endOffset;\n      var restoreSelection = hasFocus$1(editor);\n      node = rootNode.firstChild;\n      while (node) {\n        if (isValidTarget(blockElements, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = dom.create(forcedRootBlock, getForcedRootBlockAttrs(editor));\n            node.parentNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    var setup$a = function (editor) {\n      if (getForcedRootBlock(editor)) {\n        editor.on('NodeChange', curry(addRootBlocks, editor));\n      }\n    };\n\n    var findBlockCaretContainer = function (editor) {\n      return descendant(SugarElement.fromDom(editor.getBody()), '*[data-mce-caret]').fold(constant(null), function (elm) {\n        return elm.dom;\n      });\n    };\n    var removeIeControlRect = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var showBlockCaretContainer = function (editor, blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        removeIeControlRect(editor);\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    var handleBlockContainer = function (editor, e) {\n      var blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    var setup$b = function (editor) {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n\n    var isContentEditableFalse$9 = isContentEditableFalse;\n    var moveToCeFalseHorizontally = function (direction, editor, range) {\n      return moveHorizontally(editor, direction, range, isBeforeContentEditableFalse, isAfterContentEditableFalse, isContentEditableFalse$9);\n    };\n    var moveToCeFalseVertically = function (direction, editor, range) {\n      var isBefore = function (caretPosition) {\n        return isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition);\n      };\n      var isAfter = function (caretPosition) {\n        return isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition);\n      };\n      return moveVertically(editor, direction, range, isBefore, isAfter, isContentEditableFalse$9);\n    };\n    var createTextBlock = function (editor) {\n      var textBlock = editor.dom.create(getForcedRootBlock(editor));\n      if (!Env.ie || Env.ie >= 11) {\n        textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      }\n      return textBlock;\n    };\n    var exitPreBlock = function (editor, direction, range) {\n      var caretWalker = CaretWalker(editor.getBody());\n      var getVisualCaretPosition$1 = curry(getVisualCaretPosition, direction === 1 ? caretWalker.next : caretWalker.prev);\n      if (range.collapsed && hasForcedRootBlock(editor)) {\n        var pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        var caretPos = getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));\n        if (!caretPos) {\n          var newBlock = createTextBlock(editor);\n          if (direction === 1) {\n            editor.$(pre).after(newBlock);\n          } else {\n            editor.$(pre).before(newBlock);\n          }\n          editor.selection.select(newBlock, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    var getHorizontalRange = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveToCeFalseHorizontally(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var getVerticalRange = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveToCeFalseVertically(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var moveH = function (editor, forward) {\n      return getHorizontalRange(editor, forward).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV = function (editor, down) {\n      return getVerticalRange(editor, down).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint$2 = function (editor, forward) {\n      var isCefPosition = forward ? isAfterContentEditableFalse : isBeforeContentEditableFalse;\n      return moveToLineEndPoint(editor, forward, isCefPosition);\n    };\n\n    var isTarget = function (node) {\n      return contains(['figcaption'], name(node));\n    };\n    var rangeBefore = function (target) {\n      var rng = document.createRange();\n      rng.setStartBefore(target.dom);\n      rng.setEndBefore(target.dom);\n      return rng;\n    };\n    var insertElement = function (root, elm, forward) {\n      if (forward) {\n        append(root, elm);\n      } else {\n        prepend(root, elm);\n      }\n    };\n    var insertBr = function (root, forward) {\n      var br = SugarElement.fromTag('br');\n      insertElement(root, br, forward);\n      return rangeBefore(br);\n    };\n    var insertBlock$1 = function (root, forward, blockName, attrs) {\n      var block = SugarElement.fromTag(blockName);\n      var br = SugarElement.fromTag('br');\n      setAll(block, attrs);\n      append(block, br);\n      insertElement(root, block, forward);\n      return rangeBefore(br);\n    };\n    var insertEmptyLine = function (root, rootBlockName, attrs, forward) {\n      if (rootBlockName === '') {\n        return insertBr(root, forward);\n      } else {\n        return insertBlock$1(root, forward, rootBlockName, attrs);\n      }\n    };\n    var getClosestTargetBlock = function (pos, root) {\n      var isRoot = curry(eq$2, root);\n      return closest(SugarElement.fromDom(pos.container()), isBlock, isRoot).filter(isTarget);\n    };\n    var isAtFirstOrLastLine = function (root, forward, pos) {\n      return forward ? isAtLastLine(root.dom, pos) : isAtFirstLine(root.dom, pos);\n    };\n    var moveCaretToNewEmptyLine = function (editor, forward) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var rootBlock = getForcedRootBlock(editor);\n      var rootBlockAttrs = getForcedRootBlockAttrs(editor);\n      return getClosestTargetBlock(pos, root).exists(function () {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var moveV$1 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n\n    var defaultPatterns = function (patterns) {\n      return map(patterns, function (pattern) {\n        return __assign({\n          shiftKey: false,\n          altKey: false,\n          ctrlKey: false,\n          metaKey: false,\n          keyCode: 0,\n          action: noop\n        }, pattern);\n      });\n    };\n    var matchesEvent = function (pattern, evt) {\n      return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    };\n    var match$1 = function (patterns, evt) {\n      return bind(defaultPatterns(patterns), function (pattern) {\n        return matchesEvent(pattern, evt) ? [pattern] : [];\n      });\n    };\n    var action = function (f) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      return function () {\n        return f.apply(null, x);\n      };\n    };\n    var execute = function (patterns, evt) {\n      return find(match$1(patterns, evt), function (pattern) {\n        return pattern.action();\n      });\n    };\n\n    var moveH$1 = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveHorizontally(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV$2 = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveVertically(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint$3 = function (editor, forward) {\n      var isNearMedia = forward ? isAfterMedia : isBeforeMedia;\n      return moveToLineEndPoint(editor, forward, isNearMedia);\n    };\n\n    var deflate = function (rect, delta) {\n      return {\n        left: rect.left - delta,\n        top: rect.top - delta,\n        right: rect.right + delta * 2,\n        bottom: rect.bottom + delta * 2,\n        width: rect.width + delta,\n        height: rect.height + delta\n      };\n    };\n    var getCorners = function (getYAxisValue, tds) {\n      return bind(tds, function (td) {\n        var rect = deflate(clone$2(td.getBoundingClientRect()), -1);\n        return [\n          {\n            x: rect.left,\n            y: getYAxisValue(rect),\n            cell: td\n          },\n          {\n            x: rect.right,\n            y: getYAxisValue(rect),\n            cell: td\n          }\n        ];\n      });\n    };\n    var findClosestCorner = function (corners, x, y) {\n      return foldl(corners, function (acc, newCorner) {\n        return acc.fold(function () {\n          return Optional.some(newCorner);\n        }, function (oldCorner) {\n          var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n          var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n          return Optional.some(newDist < oldDist ? newCorner : oldCorner);\n        });\n      }, Optional.none());\n    };\n    var getClosestCell$1 = function (getYAxisValue, isTargetCorner, table, x, y) {\n      var cells = descendants$1(SugarElement.fromDom(table), 'td,th,caption').map(function (e) {\n        return e.dom;\n      });\n      var corners = filter(getCorners(getYAxisValue, cells), function (corner) {\n        return isTargetCorner(corner, y);\n      });\n      return findClosestCorner(corners, x, y).map(function (corner) {\n        return corner.cell;\n      });\n    };\n    var getBottomValue = function (rect) {\n      return rect.bottom;\n    };\n    var getTopValue = function (rect) {\n      return rect.top;\n    };\n    var isAbove$1 = function (corner, y) {\n      return corner.y < y;\n    };\n    var isBelow$1 = function (corner, y) {\n      return corner.y > y;\n    };\n    var getClosestCellAbove = curry(getClosestCell$1, getBottomValue, isAbove$1);\n    var getClosestCellBelow = curry(getClosestCell$1, getTopValue, isBelow$1);\n    var findClosestPositionInAboveCell = function (table, pos) {\n      return head(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellAbove(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n      });\n    };\n    var findClosestPositionInBelowCell = function (table, pos) {\n      return last(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellBelow(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n      });\n    };\n\n    var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\n      return lineInfo.breakAt.exists(function (breakPos) {\n        return getPositionsUntil(scope, breakPos).breakAt.isSome();\n      });\n    };\n    var startsWithWrapBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    };\n    var startsWithBrBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    };\n    var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\n      var lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !isBr(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\n      var caretPos = CaretPosition.fromRangeStart(rng);\n      return positionIn(!forward, table).exists(function (pos) {\n        return pos.isEqual(caretPos);\n      });\n    };\n    var navigateHorizontally = function (editor, forward, table, _td) {\n      var rng = editor.selection.getRng();\n      var direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        showCaret(direction, editor, table, !forward, false).each(function (newRng) {\n          moveToRange(editor, newRng);\n        });\n        return true;\n      }\n      return false;\n    };\n    var getClosestAbovePosition = function (root, table, start) {\n      return findClosestPositionInAboveCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition.before(table)), rect.left);\n        });\n      }).getOr(CaretPosition.before(table));\n    };\n    var getClosestBelowPosition = function (root, table, start) {\n      return findClosestPositionInBelowCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition.after(table)), rect.left);\n        });\n      }).getOr(CaretPosition.after(table));\n    };\n    var getTable = function (previous, pos) {\n      var node = pos.getNode(previous);\n      return isElement$1(node) && node.nodeName === 'TABLE' ? Optional.some(node) : Optional.none();\n    };\n    var renderBlock = function (down, editor, table, pos) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (forcedRootBlock) {\n        editor.undoManager.transact(function () {\n          var element = SugarElement.fromTag(forcedRootBlock);\n          setAll(element, getForcedRootBlockAttrs(editor));\n          append(element, SugarElement.fromTag('br'));\n          if (down) {\n            after(SugarElement.fromDom(table), element);\n          } else {\n            before(SugarElement.fromDom(table), element);\n          }\n          var rng = editor.dom.createRng();\n          rng.setStart(element.dom, 0);\n          rng.setEnd(element.dom, 0);\n          moveToRange(editor, rng);\n        });\n      } else {\n        moveToRange(editor, pos.toRange());\n      }\n    };\n    var moveCaret = function (editor, down, pos) {\n      var table = down ? getTable(true, pos) : getTable(false, pos);\n      var last = down === false;\n      table.fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (table) {\n        return positionIn(last, editor.getBody()).filter(function (lastPos) {\n          return lastPos.isEqual(pos);\n        }).fold(function () {\n          return moveToRange(editor, pos.toRange());\n        }, function (_) {\n          return renderBlock(down, editor, table, pos);\n        });\n      });\n    };\n    var navigateVertically = function (editor, down, table, td) {\n      var rng = editor.selection.getRng();\n      var pos = CaretPosition.fromRangeStart(rng);\n      var root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        var newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        var newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var move$1 = function (editor, forward, mover) {\n      return Optional.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Optional.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return mover(editor, forward, table, td);\n        });\n      }).getOr(false);\n    };\n    var moveH$2 = function (editor, forward) {\n      return move$1(editor, forward, navigateHorizontally);\n    };\n    var moveV$3 = function (editor, forward) {\n      return move$1(editor, forward, navigateVertically);\n    };\n\n    var executeKeydownOverride = function (editor, caret, evt) {\n      var os = detect$3().os;\n      execute([\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$2, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$2, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$3, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$3, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$1, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$1, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$2, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$2, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(move, editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(move, editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(moveNextWord, editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(movePrevWord, editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$1, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$1, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$c = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride(editor, caret, evt);\n        }\n      });\n    };\n\n    var executeKeydownOverride$1 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$9, editor, false)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$4, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$4, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$3, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$3, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$6, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$6, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$5, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$5, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$8, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$8, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$2, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$2, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$1, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$1, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$7, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$7, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var executeKeyupOverride = function (editor, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    var setup$d = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$1(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n\n    var firstNonWhiteSpaceNodeSibling = function (node) {\n      while (node) {\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    };\n    var moveToCaretPosition = function (editor, root) {\n      var node, lastNode = root;\n      var dom = editor.dom;\n      var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode(nbsp), root.firstChild);\n        }\n      }\n      var rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        var walker = new DomTreeWalker(root, root);\n        while (node = walker.current()) {\n          if (isText$1(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (isBr(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var getEditableRoot = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var getParentBlock$2 = function (editor) {\n      return Optional.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    var getParentBlockName = function (editor) {\n      return getParentBlock$2(editor).fold(constant(''), function (parentBlock) {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    var isListItemParentBlock = function (editor) {\n      return getParentBlock$2(editor).filter(function (elm) {\n        return isListItem(SugarElement.fromDom(elm));\n      }).isSome();\n    };\n\n    var hasFirstChild = function (elm, name) {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    var isFirstChild = function (elm) {\n      var _a;\n      return ((_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === elm;\n    };\n    var hasParent$1 = function (elm, parentName) {\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n    };\n    var isListBlock = function (elm) {\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    var isNestedList = function (elm) {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    var getContainerBlock = function (containerBlock) {\n      var containerBlockParent = containerBlock.parentNode;\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n        return containerBlockParent;\n      }\n      return containerBlock;\n    };\n    var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\n      var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (isElement$1(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    var insert = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      if (containerBlock === editor.getBody()) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent$1(containerBlock, 'LI')) {\n          var containerBlockParent = getContainerBlock(containerBlock);\n          dom.insertAfter(newBlock, containerBlockParent);\n          if (isFirstChild(containerBlock)) {\n            dom.remove(containerBlockParent);\n          } else {\n            dom.remove(containerBlock);\n          }\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent$1(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        dom.remove(parentBlock);\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        var tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        var fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      }\n      moveToCaretPosition(editor, newBlock);\n    };\n\n    var trimZwsp = function (fragment) {\n      each(descendants(SugarElement.fromDom(fragment), isText), function (text) {\n        var rawNode = text.dom;\n        rawNode.nodeValue = trim$2(rawNode.nodeValue);\n      });\n    };\n    var isEmptyAnchor = function (dom, elm) {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    var isTableCell$5 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var emptyBlock = function (elm) {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    var containerAndSiblingName = function (container, nodeName) {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    var canSplitBlock = function (dom, node) {\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\n      var node = block;\n      var firstChilds = [];\n      var i;\n      if (!node) {\n        return;\n      }\n      while (node = node.firstChild) {\n        if (dom.isBlock(node)) {\n          return;\n        }\n        if (isElement$1(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          firstChilds.push(node);\n        }\n      }\n      i = firstChilds.length;\n      while (i--) {\n        node = firstChilds[i];\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n          dom.remove(node);\n        } else {\n          if (isEmptyAnchor(dom, node)) {\n            dom.remove(node);\n          }\n        }\n      }\n    };\n    var normalizeZwspOffset = function (start, container, offset) {\n      if (isText$1(container) === false) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === ZWSP ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === ZWSP ? container.data.length : offset;\n      }\n    };\n    var includeZwspInRange = function (rng) {\n      var newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    var trimLeadingLineBreaks = function (node) {\n      do {\n        if (isText$1(node)) {\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n        }\n        node = node.firstChild;\n      } while (node);\n    };\n    var getEditableRoot$1 = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var applyAttributes = function (editor, node, forcedRootBlockAttrs) {\n      var dom = editor.dom;\n      Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(function (attrStyles) {\n        var currentStyles = getAllRaw(SugarElement.fromDom(node));\n        var newStyles = __assign(__assign({}, currentStyles), attrStyles);\n        dom.setStyles(node, newStyles);\n      });\n      var attrClassesOpt = Optional.from(forcedRootBlockAttrs.class).map(function (attrClasses) {\n        return attrClasses.split(/\\s+/);\n      });\n      var currentClassesOpt = Optional.from(node.className).map(function (currentClasses) {\n        return filter(currentClasses.split(/\\s+/), function (clazz) {\n          return clazz !== '';\n        });\n      });\n      lift2(attrClassesOpt, currentClassesOpt, function (attrClasses, currentClasses) {\n        var filteredClasses = filter(currentClasses, function (clazz) {\n          return !contains(attrClasses, clazz);\n        });\n        var newClasses = __spreadArrays(attrClasses, filteredClasses);\n        dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      var appliedAttrs = [\n        'style',\n        'class'\n      ];\n      var remainingAttrs = filter$1(forcedRootBlockAttrs, function (_, attrs) {\n        return !contains(appliedAttrs, attrs);\n      });\n      dom.setAttribs(node, remainingAttrs);\n    };\n    var setForcedBlockAttrs = function (editor, node) {\n      var forcedRootBlockName = getForcedRootBlock(editor);\n      if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        var forcedRootBlockAttrs = getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\n      var newBlock, parentBlock, startNode, node, next, rootBlockName;\n      var blockName = newBlockName || 'P';\n      var dom = editor.dom, editableRoot = getEditableRoot$1(dom, container);\n      parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (parentBlock === editor.getBody() || isTableCell$5(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        }\n        if (!parentBlock.hasChildNodes()) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        node = container;\n        while (node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNode.parentNode.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    var addBrToBlockIfNeeded = function (dom, block) {\n      block.normalize();\n      var lastChild = block.lastChild;\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    var insert$1 = function (editor, evt) {\n      var tmpRng, container, offset, parentBlock;\n      var newBlock, fragment, containerBlock, parentBlockName, newBlockName, isAfterLastNodeInContainer;\n      var dom = editor.dom;\n      var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      var rng = editor.selection.getRng();\n      var createNewBlock = function (name) {\n        var node = container, block, clonedNode, caretNode;\n        var textInlineElements = schema.getTextInlineElements();\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        caretNode = block;\n        if (shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || isBookmarkNode$1(node)) {\n                continue;\n              }\n              clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        setForcedBlockAttrs(editor, block);\n        emptyBlock(caretNode);\n        return block;\n      };\n      var isCaretAtStartOrEndOfBlock = function (start) {\n        var node, name;\n        var normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (isText$1(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && isElement$1(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        var walker = new DomTreeWalker(container, parentBlock);\n        if (isText$1(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\n            walker.next();\n          }\n        }\n        while (node = walker.current()) {\n          if (isElement$1(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (isText$1(node) && !isWhitespaceText(node.nodeValue)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      var insertNewBlockAfter = function () {\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          newBlock = createNewBlock(newBlockName);\n        } else {\n          newBlock = createNewBlock();\n        }\n        if (shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          newBlock = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(newBlock, parentBlock);\n        }\n        moveToCaretPosition(editor, newBlock);\n      };\n      normalize(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      newBlockName = getForcedRootBlock(editor);\n      var shiftKey = !!(evt && evt.shiftKey);\n      var ctrlKey = !!(evt && evt.ctrlKey);\n      if (isElement$1(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$1(container)) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var editableRoot = getEditableRoot$1(dom, container);\n      if (!editableRoot) {\n        return;\n      }\n      if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      parentBlock = dom.getParent(container, dom.isBlock);\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        parentBlock = containerBlock;\n        containerBlock = containerBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n        if (dom.isEmpty(parentBlock)) {\n          insert(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (newBlockName && parentBlock === editor.getBody()) {\n        return;\n      }\n      newBlockName = newBlockName || 'P';\n      if (isCaretContainerBlock(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock()) {\n        insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n        moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.fire('NewBlock', { newBlock: newBlock });\n    };\n\n    var hasRightSideContent = function (schema, container, parentBlock) {\n      var walker = new DomTreeWalker(container, parentBlock);\n      var node;\n      var nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n          return true;\n        }\n      }\n    };\n    var moveSelectionToBr = function (editor, brElm, extraBr) {\n      var rng = editor.dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var insertBrAtCaret = function (editor, evt) {\n      var selection = editor.selection;\n      var dom = editor.dom;\n      var rng = selection.getRng();\n      var brElm;\n      var extraBr;\n      normalize(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var parentBlock = dom.getParent(container, dom.isBlock);\n      var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      var isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      moveSelectionToBr(editor, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    var insertBrBefore = function (editor, inline) {\n      var br = SugarElement.fromTag('br');\n      before(SugarElement.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    var insertBrAfter = function (editor, inline) {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after(SugarElement.fromDom(inline), SugarElement.fromTag('br'));\n      }\n      var br = SugarElement.fromTag('br');\n      after(SugarElement.fromDom(inline), br);\n      moveSelectionToBr(editor, br.dom, false);\n      editor.undoManager.add();\n    };\n    var isBeforeBr$1 = function (pos) {\n      return isBr(pos.getNode());\n    };\n    var hasBrAfter = function (rootNode, startNode) {\n      if (isBeforeBr$1(CaretPosition.after(startNode))) {\n        return true;\n      } else {\n        return nextPosition(rootNode, CaretPosition.after(startNode)).map(function (pos) {\n          return isBr(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    var isAnchorLink = function (elm) {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    var isInsideAnchor = function (location) {\n      return location.fold(never, isAnchorLink, isAnchorLink, never);\n    };\n    var readInlineAnchorLocation = function (editor) {\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var position = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return readLocation(isInlineTarget$1, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    var insertBrOutsideAnchor = function (editor, location) {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    var insert$2 = function (editor, evt) {\n      var anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n\n    var matchesSelector = function (editor, selector) {\n      return getParentBlock$2(editor).filter(function (parentBlock) {\n        return selector.length > 0 && is$1(SugarElement.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    var shouldInsertBr = function (editor) {\n      return matchesSelector(editor, getBrNewLineSelector(editor));\n    };\n    var shouldBlockNewLine = function (editor) {\n      return matchesSelector(editor, getNoNewLineSelector(editor));\n    };\n\n    var newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    var shouldBlockNewLine$1 = function (editor, _shiftKey) {\n      return shouldBlockNewLine(editor);\n    };\n    var isBrMode = function (requiredState) {\n      return function (editor, _shiftKey) {\n        var brMode = getForcedRootBlock(editor) === '';\n        return brMode === requiredState;\n      };\n    };\n    var inListBlock = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    var inBlock = function (blockName, requiredState) {\n      return function (editor, _shiftKey) {\n        var state = getParentBlockName(editor) === blockName.toUpperCase();\n        return state === requiredState;\n      };\n    };\n    var inPreBlock = function (requiredState) {\n      return inBlock('pre', requiredState);\n    };\n    var inSummaryBlock = function () {\n      return inBlock('summary', true);\n    };\n    var shouldPutBrInPre$1 = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return shouldPutBrInPre(editor) === requiredState;\n      };\n    };\n    var inBrContext = function (editor, _shiftKey) {\n      return shouldInsertBr(editor);\n    };\n    var hasShiftKey = function (_editor, shiftKey) {\n      return shiftKey;\n    };\n    var canInsertIntoEditableRoot = function (editor) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      var rootEditable = getEditableRoot(editor.dom, editor.selection.getStart());\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n    };\n    var match$2 = function (predicates, action) {\n      return function (editor, shiftKey) {\n        var isMatch = foldl(predicates, function (res, p) {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Optional.some(action) : Optional.none();\n      };\n    };\n    var getAction$1 = function (editor, evt) {\n      return evaluateUntil([\n        match$2([shouldBlockNewLine$1], newLineAction.none()),\n        match$2([inSummaryBlock()], newLineAction.br()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(false)\n        ], newLineAction.block()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(true)\n        ], newLineAction.br()),\n        match$2([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([inListBlock(true)], newLineAction.block()),\n        match$2([\n          isBrMode(true),\n          hasShiftKey,\n          canInsertIntoEditableRoot\n        ], newLineAction.block()),\n        match$2([isBrMode(true)], newLineAction.br()),\n        match$2([inBrContext], newLineAction.br()),\n        match$2([\n          isBrMode(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n\n    var insert$3 = function (editor, evt) {\n      getAction$1(editor, evt).fold(function () {\n        insert$2(editor, evt);\n      }, function () {\n        insert$1(editor, evt);\n      }, noop);\n    };\n\n    var handleEnterKeyEvent = function (editor, event) {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(function () {\n        if (editor.selection.isCollapsed() === false) {\n          editor.execCommand('Delete');\n        }\n        insert$3(editor, event);\n      });\n    };\n    var setup$e = function (editor) {\n      editor.on('keydown', function (event) {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n\n    var executeKeydownOverride$2 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$2, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$2, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$3, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$3, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$1, editor, true, caret)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$1, editor, false, caret)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$f = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$2(editor, caret, evt);\n        }\n      });\n    };\n\n    var browser$4 = detect$3().browser;\n    var setupIeInput = function (editor) {\n      var keypressThrotter = first(function () {\n        if (!editor.composing) {\n          normalizeNbspsInEditor(editor);\n        }\n      }, 0);\n      if (browser$4.isIE()) {\n        editor.on('keypress', function (_e) {\n          keypressThrotter.throttle();\n        });\n        editor.on('remove', function (_e) {\n          keypressThrotter.cancel();\n        });\n      }\n    };\n    var setup$g = function (editor) {\n      setupIeInput(editor);\n      editor.on('input', function (e) {\n        if (e.isComposing === false) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    var platform$2 = detect$3();\n    var executeKeyupAction = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.PAGE_UP,\n          action: action(moveToLineEndPoint$1, editor, false, caret)\n        },\n        {\n          keyCode: VK.PAGE_DOWN,\n          action: action(moveToLineEndPoint$1, editor, true, caret)\n        }\n      ], evt);\n    };\n    var stopImmediatePropagation = function (e) {\n      return e.stopImmediatePropagation();\n    };\n    var isPageUpDown = function (evt) {\n      return evt.keyCode === VK.PAGE_UP || evt.keyCode === VK.PAGE_DOWN;\n    };\n    var setNodeChangeBlocker = function (blocked, editor, block) {\n      if (block && !blocked.get()) {\n        editor.on('NodeChange', stopImmediatePropagation, true);\n      } else if (!block && blocked.get()) {\n        editor.off('NodeChange', stopImmediatePropagation);\n      }\n      blocked.set(block);\n    };\n    var setup$h = function (editor, caret) {\n      if (platform$2.os.isOSX()) {\n        return;\n      }\n      var blocked = Cell(false);\n      editor.on('keydown', function (evt) {\n        if (isPageUpDown(evt)) {\n          setNodeChangeBlocker(blocked, editor, true);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupAction(editor, caret, evt);\n        }\n        if (isPageUpDown(evt) && blocked.get()) {\n          setNodeChangeBlocker(blocked, editor, false);\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    var insertTextAtPosition = function (text, pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$1(container)) {\n        container.insertData(offset, text);\n        return Optional.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(function (elm) {\n          var textNode = SugarElement.fromText(text);\n          if (pos.isAtEnd()) {\n            after(elm, textNode);\n          } else {\n            before(elm, textNode);\n          }\n          return CaretPosition(textNode.dom, text.length);\n        });\n      }\n    };\n    var insertNbspAtPosition = curry(insertTextAtPosition, nbsp);\n    var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    var locationToCaretPosition = function (root) {\n      return function (location) {\n        return location.fold(function (element) {\n          return prevPosition(root.dom, CaretPosition.before(element));\n        }, function (element) {\n          return firstPositionIn(element);\n        }, function (element) {\n          return lastPositionIn(element);\n        }, function (element) {\n          return nextPosition(root.dom, CaretPosition.after(element));\n        });\n      };\n    };\n    var insertInlineBoundarySpaceOrNbsp = function (root, pos) {\n      return function (checkPos) {\n        return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n      };\n    };\n    var setSelection$1 = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        editor.nodeChanged();\n        return true;\n      };\n    };\n    var insertSpaceOrNbspAtSelection = function (editor) {\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        var isInlineTarget$1 = curry(isInlineTarget, editor);\n        var caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return readLocation(isInlineTarget$1, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection$1(editor));\n      } else {\n        return false;\n      }\n    };\n\n    var executeKeydownOverride$3 = function (editor, evt) {\n      execute([{\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$i = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$3(editor, evt);\n        }\n      });\n    };\n\n    var registerKeyboardOverrides = function (editor) {\n      var caret = setupSelectedState(editor);\n      setup$b(editor);\n      setup$c(editor, caret);\n      setup$d(editor, caret);\n      setup$e(editor);\n      setup$i(editor);\n      setup$g(editor);\n      setup$f(editor, caret);\n      setup$h(editor, caret);\n      return caret;\n    };\n    var setup$j = function (editor) {\n      if (!isRtc(editor)) {\n        return registerKeyboardOverrides(editor);\n      } else {\n        return Cell(null);\n      }\n    };\n\n    var NodeChange = function () {\n      function NodeChange(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        var lastRng;\n        var self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', function (e) {\n            var nativeRng = editor.selection.getRng();\n            var fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !isEq$1(fakeRng, lastRng)) {\n              editor.fire('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', function () {\n          editor.fire('SelectionChange');\n        });\n        editor.on('SelectionChange', function () {\n          var startElm = editor.selection.getStart(true);\n          if (!startElm || !Env.range && editor.selection.isCollapsed()) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', function (e) {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, function () {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      NodeChange.prototype.nodeChanged = function (args) {\n        var selection = this.editor.selection;\n        var node, parents, root;\n        if (this.editor.initialized && selection && !shouldDisableNodeChange(this.editor) && !this.editor.mode.isReadOnly()) {\n          root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          parents = [];\n          this.editor.dom.getParent(node, function (node) {\n            if (node === root) {\n              return true;\n            }\n            parents.push(node);\n          });\n          args = args || {};\n          args.element = node;\n          args.parents = parents;\n          this.editor.fire('NodeChange', args);\n        }\n      };\n      NodeChange.prototype.isSameElementPath = function (startElm) {\n        var i;\n        var currentPath = this.editor.$(startElm).parentsUntil(this.editor.getBody()).add(startElm);\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      };\n      return NodeChange;\n    }();\n\n    var preventSummaryToggle = function (editor) {\n      editor.on('click', function (e) {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    var filterDetails = function (editor) {\n      editor.parser.addNodeFilter('details', function (elms) {\n        each(elms, function (details) {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', function (elms) {\n        each(elms, function (details) {\n          var open = details.attr('data-mce-open');\n          details.attr('open', isString(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    var setup$k = function (editor) {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    var isTextBlockNode = function (node) {\n      return isElement$1(node) && isTextBlock(SugarElement.fromDom(node));\n    };\n    var normalizeSelection$1 = function (editor) {\n      var rng = editor.selection.getRng();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      if (CaretPosition.isElementPosition(startPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          firstPositionIn(container).each(function (pos) {\n            return rng.setStart(pos.container(), pos.offset());\n          });\n        }\n      }\n      if (CaretPosition.isElementPosition(endPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          lastPositionIn(container).each(function (pos) {\n            return rng.setEnd(pos.container(), pos.offset());\n          });\n        }\n      }\n      editor.selection.setRng(normalize$2(rng));\n    };\n    var setup$l = function (editor) {\n      editor.on('click', function (e) {\n        if (e.detail >= 3) {\n          normalizeSelection$1(editor);\n        }\n      });\n    };\n\n    var value$1 = function () {\n      var subject = Cell(Optional.none());\n      var clear = function () {\n        return subject.set(Optional.none());\n      };\n      var set = function (s) {\n        return subject.set(Optional.some(s));\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return {\n        clear: clear,\n        set: set,\n        isSet: isSet,\n        on: on\n      };\n    };\n\n    var getAbsolutePosition = function (elm) {\n      var clientRect = elm.getBoundingClientRect();\n      var doc = elm.ownerDocument;\n      var docElem = doc.documentElement;\n      var win = doc.defaultView;\n      return {\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\n      };\n    };\n    var getBodyPosition = function (editor) {\n      return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getScrollPosition = function (editor) {\n      var body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getBodyScroll = function (editor) {\n      var body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      var inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      var iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    var getMousePosition = function (editor, event) {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        var scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\n      return {\n        pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n        pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n      };\n    };\n    var calc = function (editor, event) {\n      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n    };\n\n    var isContentEditableFalse$a = isContentEditableFalse, isContentEditableTrue$3 = isContentEditableTrue;\n    var isDraggable = function (rootElm, elm) {\n      return isContentEditableFalse$a(elm) && elm !== rootElm;\n    };\n    var isValidDropTarget = function (editor, targetElement, dragElement) {\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      }\n      return !isContentEditableFalse$a(targetElement);\n    };\n    var cloneElement = function (elm) {\n      var cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    var createGhost = function (editor, elm, width, height) {\n      var dom = editor.dom;\n      var clonedElm = elm.cloneNode(true);\n      dom.setStyles(clonedElm, {\n        width: width,\n        height: height\n      });\n      dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      var ghostElm = dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width: width,\n        height: height\n      });\n      dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    var appendGhostToBody = function (ghostElm, bodyElm) {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\n      var overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n    };\n    var removeElement = function (elm) {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    var isLeftMouseButtonPressed = function (e) {\n      return e.button === 0;\n    };\n    var applyRelPos = function (state, position) {\n      return {\n        pageX: position.pageX - state.relX,\n        pageY: position.pageY + 5\n      };\n    };\n    var start$1 = function (state, editor) {\n      return function (e) {\n        if (isLeftMouseButtonPressed(e)) {\n          var ceElm = find(editor.dom.getParents(e.target), or(isContentEditableFalse$a, isContentEditableTrue$3)).getOr(null);\n          if (isDraggable(editor.getBody(), ceElm)) {\n            var elmPos = editor.dom.getPos(ceElm);\n            var bodyElm = editor.getBody();\n            var docElm = editor.getDoc().documentElement;\n            state.set({\n              element: ceElm,\n              dragging: false,\n              screenX: e.screenX,\n              screenY: e.screenY,\n              maxX: (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2,\n              maxY: (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2,\n              relX: e.pageX - elmPos.x,\n              relY: e.pageY - elmPos.y,\n              width: ceElm.offsetWidth,\n              height: ceElm.offsetHeight,\n              ghost: createGhost(editor, ceElm, ceElm.offsetWidth, ceElm.offsetHeight)\n            });\n          }\n        }\n      };\n    };\n    var move$2 = function (state, editor) {\n      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\n        editor._selectionOverrides.hideFakeCaret();\n        editor.selection.placeCaretAt(clientX, clientY);\n      }, 0);\n      editor.on('remove', throttledPlaceCaretAt.stop);\n      return function (e) {\n        return state.on(function (state) {\n          var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n          if (!state.dragging && movement > 10) {\n            var args = editor.fire('dragstart', { target: state.element });\n            if (args.isDefaultPrevented()) {\n              return;\n            }\n            state.dragging = true;\n            editor.focus();\n          }\n          if (state.dragging) {\n            var targetPos = applyRelPos(state, calc(editor, e));\n            appendGhostToBody(state.ghost, editor.getBody());\n            moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n            throttledPlaceCaretAt(e.clientX, e.clientY);\n          }\n        });\n      };\n    };\n    var getRawTarget = function (selection) {\n      var rng = selection.getSel().getRangeAt(0);\n      var startContainer = rng.startContainer;\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n    };\n    var drop = function (state, editor) {\n      return function (e) {\n        state.on(function (state) {\n          if (state.dragging) {\n            if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n              var targetClone_1 = cloneElement(state.element);\n              var args = editor.fire('drop', {\n                clientX: e.clientX,\n                clientY: e.clientY\n              });\n              if (!args.isDefaultPrevented()) {\n                editor.undoManager.transact(function () {\n                  removeElement(state.element);\n                  editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n                  editor._selectionOverrides.hideFakeCaret();\n                });\n              }\n            }\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var stop = function (state, editor) {\n      return function () {\n        state.on(function (state) {\n          if (state.dragging) {\n            editor.fire('dragend');\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var removeDragState = function (state) {\n      state.on(function (state) {\n        removeElement(state.ghost);\n      });\n      state.clear();\n    };\n    var bindFakeDragEvents = function (editor) {\n      var state = value$1();\n      var pageDom = DOMUtils.DOM;\n      var rootDocument = document;\n      var dragStartHandler = start$1(state, editor);\n      var dragHandler = move$2(state, editor);\n      var dropHandler = drop(state, editor);\n      var dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', function () {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n    };\n    var blockIeDrop = function (editor) {\n      editor.on('drop', function (e) {\n        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n        if (isContentEditableFalse$a(realTarget) || editor.dom.getContentEditableParent(realTarget) === 'false') {\n          e.preventDefault();\n        }\n      });\n    };\n    var blockUnsupportedFileDrop = function (editor) {\n      var preventFileDrop = function (e) {\n        if (!e.isDefaultPrevented()) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && (contains(dataTransfer.types, 'Files') || dataTransfer.files.length > 0)) {\n            e.preventDefault();\n            if (e.type === 'drop') {\n              displayError(editor, 'Dropped file type is not supported');\n            }\n          }\n        }\n      };\n      var preventFileDropIfUIElement = function (e) {\n        if (isUIElement(editor, e.target)) {\n          preventFileDrop(e);\n        }\n      };\n      var setup = function () {\n        var pageDom = DOMUtils.DOM;\n        var dom = editor.dom;\n        var doc = document;\n        var editorRoot = editor.inline ? editor.getBody() : editor.getDoc();\n        var eventNames = [\n          'drop',\n          'dragover'\n        ];\n        each(eventNames, function (name) {\n          pageDom.bind(doc, name, preventFileDropIfUIElement);\n          dom.bind(editorRoot, name, preventFileDrop);\n        });\n        editor.on('remove', function () {\n          each(eventNames, function (name) {\n            pageDom.unbind(doc, name, preventFileDropIfUIElement);\n            dom.unbind(editorRoot, name, preventFileDrop);\n          });\n        });\n      };\n      editor.on('init', function () {\n        Delay.setEditorTimeout(editor, setup, 0);\n      });\n    };\n    var init = function (editor) {\n      bindFakeDragEvents(editor);\n      blockIeDrop(editor);\n      if (shouldBlockUnsupportedDrop(editor)) {\n        blockUnsupportedFileDrop(editor);\n      }\n    };\n\n    var setup$m = function (editor) {\n      var renderFocusCaret = first(function () {\n        if (!editor.removed && editor.getBody().contains(document.activeElement)) {\n          var rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            var caretRange = renderRangeCaret(editor, rng, false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', function () {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', function () {\n        renderFocusCaret.cancel();\n      });\n    };\n\n    var setup$n = function (editor) {\n      editor.on('init', function () {\n        editor.on('focusin', function (e) {\n          var target = e.target;\n          if (isMedia(target)) {\n            var ceRoot = getContentEditableRoot(editor.getBody(), target);\n            var node = isContentEditableFalse(ceRoot) ? ceRoot : target;\n            if (editor.selection.getNode() !== node) {\n              selectNode(editor, node).each(function (rng) {\n                return editor.selection.setRng(rng);\n              });\n            }\n          }\n        });\n      });\n    };\n\n    var isContentEditableTrue$4 = isContentEditableTrue;\n    var isContentEditableFalse$b = isContentEditableFalse;\n    var getContentEditableRoot$1 = function (editor, node) {\n      return getContentEditableRoot(editor.getBody(), node);\n    };\n    var SelectionOverrides = function (editor) {\n      var selection = editor.selection, dom = editor.dom;\n      var isBlock = dom.isBlock;\n      var rootNode = editor.getBody();\n      var fakeCaret = FakeCaret(editor, rootNode, isBlock, function () {\n        return hasFocus$1(editor);\n      });\n      var realSelectionId = 'sel-' + dom.uniqueId();\n      var elementSelectionAttr = 'data-mce-selected';\n      var selectedElement;\n      var isFakeSelectionElement = function (node) {\n        return dom.hasClass(node, 'mce-offscreen-selection');\n      };\n      var isFakeSelectionTargetElement = function (node) {\n        return node !== rootNode && (isContentEditableFalse$b(node) || isMedia(node)) && dom.isChildOf(node, rootNode);\n      };\n      var isNearFakeSelectionElement = function (pos) {\n        return isBeforeContentEditableFalse(pos) || isAfterContentEditableFalse(pos) || isBeforeMedia(pos) || isAfterMedia(pos);\n      };\n      var getRealSelectionElement = function () {\n        var container = dom.get(realSelectionId);\n        return container ? container.getElementsByTagName('*')[0] : container;\n      };\n      var setRange = function (range) {\n        if (range) {\n          selection.setRng(range);\n        }\n      };\n      var getRange = selection.getRng;\n      var showCaret = function (direction, node, before, scrollIntoView) {\n        if (scrollIntoView === void 0) {\n          scrollIntoView = true;\n        }\n        var e = editor.fire('ShowCaret', {\n          target: node,\n          direction: direction,\n          before: before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      var showBlockCaretContainer = function (blockCaretContainer) {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          setRange(getRange());\n          selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      var registerEvents = function () {\n        editor.on('mouseup', function (e) {\n          var range = getRange();\n          if (range.collapsed && isXYInContentArea(editor, e.clientX, e.clientY)) {\n            renderCaretAtRange(editor, range, false).each(setRange);\n          }\n        });\n        editor.on('click', function (e) {\n          var contentEditableRoot = getContentEditableRoot$1(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse$b(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n            if (isContentEditableTrue$4(contentEditableRoot)) {\n              if (dom.isChildOf(contentEditableRoot, selection.getNode())) {\n                removeElementSelection();\n              }\n            }\n          }\n        });\n        editor.on('blur NewBlock', removeElementSelection);\n        editor.on('ResizeWindow FullscreenStateChanged', fakeCaret.reposition);\n        var hasNormalCaretPosition = function (elm) {\n          var caretWalker = CaretWalker(elm);\n          if (!elm.firstChild) {\n            return false;\n          }\n          var startPos = CaretPosition.before(elm.firstChild);\n          var newPos = caretWalker.next(startPos);\n          return newPos && !isNearFakeSelectionElement(newPos);\n        };\n        var isInSameBlock = function (node1, node2) {\n          var block1 = dom.getParent(node1, isBlock);\n          var block2 = dom.getParent(node2, isBlock);\n          return block1 === block2;\n        };\n        var hasBetterMouseTarget = function (targetNode, caretNode) {\n          var targetBlock = dom.getParent(targetNode, isBlock);\n          var caretBlock = dom.getParent(caretNode, isBlock);\n          if (targetBlock && targetNode !== caretBlock && dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse$b(getContentEditableRoot$1(editor, targetBlock)) === false) {\n            return true;\n          }\n          return targetBlock && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n        };\n        editor.on('tap', function (e) {\n          var targetElm = e.target;\n          var contentEditableRoot = getContentEditableRoot$1(editor, targetElm);\n          if (isContentEditableFalse$b(contentEditableRoot)) {\n            e.preventDefault();\n            selectNode(editor, contentEditableRoot).each(setElementSelection);\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          }\n        }, true);\n        editor.on('mousedown', function (e) {\n          var targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n            return;\n          }\n          var contentEditableRoot = getContentEditableRoot$1(editor, targetElm);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse$b(contentEditableRoot)) {\n              e.preventDefault();\n              selectNode(editor, contentEditableRoot).each(setElementSelection);\n            } else {\n              removeElementSelection();\n              if (!(isContentEditableTrue$4(contentEditableRoot) && e.shiftKey) && !isXYWithinRange(e.clientX, e.clientY, selection.getRng())) {\n                hideFakeCaret();\n                selection.placeCaretAt(e.clientX, e.clientY);\n              }\n            }\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          } else if (isFakeCaretTarget(targetElm) === false) {\n            removeElementSelection();\n            hideFakeCaret();\n            var fakeCaretInfo = closestFakeCaret(rootNode, e.clientX, e.clientY);\n            if (fakeCaretInfo) {\n              if (!hasBetterMouseTarget(targetElm, fakeCaretInfo.node)) {\n                e.preventDefault();\n                var range = showCaret(1, fakeCaretInfo.node, fakeCaretInfo.before, false);\n                editor.getBody().focus();\n                setRange(range);\n              }\n            }\n          }\n        });\n        editor.on('keypress', function (e) {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          if (isContentEditableFalse$b(selection.getNode())) {\n            e.preventDefault();\n          }\n        });\n        editor.on('GetSelectionRange', function (e) {\n          var rng = e.range;\n          if (selectedElement) {\n            if (!selectedElement.parentNode) {\n              selectedElement = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedElement);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', function (e) {\n          e.range = normalizeShortEndedElementSelection(e.range);\n          var rng = setElementSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        var isPasteBin = function (node) {\n          return node.id === 'mcepastebin';\n        };\n        editor.on('AfterSetSelectionRange', function (e) {\n          var rng = e.range;\n          var parentNode = rng.startContainer.parentNode;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(parentNode)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(parentNode)) {\n            removeElementSelection();\n          }\n        });\n        editor.on('copy', function (e) {\n          var clipboardData = e.clipboardData;\n          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\n            var realSelectionElement = getRealSelectionElement();\n            if (realSelectionElement) {\n              e.preventDefault();\n              clipboardData.clearData();\n              clipboardData.setData('text/html', realSelectionElement.outerHTML);\n              clipboardData.setData('text/plain', realSelectionElement.outerText || realSelectionElement.innerText);\n            }\n          }\n        });\n        init(editor);\n        setup$m(editor);\n        setup$n(editor);\n      };\n      var isWithinCaretContainer = function (node) {\n        return isCaretContainer(node) || startsWithCaretContainer(node) || endsWithCaretContainer(node);\n      };\n      var isRangeInCaretContainer = function (rng) {\n        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      };\n      var normalizeShortEndedElementSelection = function (rng) {\n        var shortEndedElements = editor.schema.getShortEndedElements();\n        var newRng = dom.createRng();\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        if (has(shortEndedElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has(shortEndedElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      var setupOffscreenSelection = function (node, targetClone, origTargetClone) {\n        var $ = editor.$;\n        var $realSelectionContainer = descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n          return $([]);\n        }, function (elm) {\n          return $([elm.dom]);\n        });\n        if ($realSelectionContainer.length === 0) {\n          $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n          $realSelectionContainer.appendTo(editor.getBody());\n        }\n        var newRange = dom.createRng();\n        if (targetClone === origTargetClone && Env.ie) {\n          $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n          newRange.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n          newRange.setEndAfter(targetClone);\n        } else {\n          $realSelectionContainer.empty().append(nbsp).append(targetClone).append(nbsp);\n          newRange.setStart($realSelectionContainer[0].firstChild, 1);\n          newRange.setEnd($realSelectionContainer[0].lastChild, 0);\n        }\n        $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\n        $realSelectionContainer[0].focus();\n        var sel = selection.getSel();\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n        return newRange;\n      };\n      var selectElement = function (elm) {\n        var targetClone = elm.cloneNode(true);\n        var e = editor.fire('ObjectSelected', {\n          target: elm,\n          targetClone: targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        var range = setupOffscreenSelection(elm, e.targetClone, targetClone);\n        var nodeElm = SugarElement.fromDom(elm);\n        each(descendants$1(SugarElement.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n          if (!eq$2(nodeElm, elm)) {\n            remove$1(elm, elementSelectionAttr);\n          }\n        });\n        if (!dom.getAttrib(elm, elementSelectionAttr)) {\n          elm.setAttribute(elementSelectionAttr, '1');\n        }\n        selectedElement = elm;\n        hideFakeCaret();\n        return range;\n      };\n      var setElementSelection = function (range, forward) {\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            var dir = forward ? 1 : -1;\n            var caretPosition = getNormalizedRangeEndPoint(dir, rootNode, range);\n            var beforeNode = caretPosition.getNode(!forward);\n            if (isFakeCaretTarget(beforeNode)) {\n              return showCaret(dir, beforeNode, forward ? !caretPosition.isAtEnd() : false, false);\n            }\n            var afterNode = caretPosition.getNode(forward);\n            if (isFakeCaretTarget(afterNode)) {\n              return showCaret(dir, afterNode, forward ? false : !caretPosition.isAtEnd(), false);\n            }\n          }\n          return null;\n        }\n        var startContainer = range.startContainer;\n        var startOffset = range.startOffset;\n        var endOffset = range.endOffset;\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse$b(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (startContainer.nodeType !== 1) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          var node = startContainer.childNodes[startOffset];\n          if (isFakeSelectionTargetElement(node)) {\n            return selectElement(node);\n          }\n        }\n        return null;\n      };\n      var removeElementSelection = function () {\n        if (selectedElement) {\n          selectedElement.removeAttribute(elementSelectionAttr);\n        }\n        descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).each(remove);\n        selectedElement = null;\n      };\n      var destroy = function () {\n        fakeCaret.destroy();\n        selectedElement = null;\n      };\n      var hideFakeCaret = function () {\n        fakeCaret.hide();\n      };\n      if (Env.ceFalse && !isRtc(editor)) {\n        registerEvents();\n      }\n      return {\n        showCaret: showCaret,\n        showBlockCaretContainer: showBlockCaretContainer,\n        hideFakeCaret: hideFakeCaret,\n        destroy: destroy\n      };\n    };\n\n    var Quirks = function (editor) {\n      var each = Tools.each;\n      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, parser = editor.parser;\n      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      var mceInternalDataType = isIE ? 'Text' : 'URL';\n      var setEditorCommandState = function (cmd, state) {\n        try {\n          editor.getDoc().execCommand(cmd, false, state);\n        } catch (ex) {\n        }\n      };\n      var isDefaultPrevented = function (e) {\n        return e.isDefaultPrevented();\n      };\n      var setMceInternalContent = function (e) {\n        var selectionHtml, internalContent;\n        if (e.dataTransfer) {\n          if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n            selection.select(e.target);\n          }\n          selectionHtml = editor.selection.getContent();\n          if (selectionHtml.length > 0) {\n            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n            e.dataTransfer.setData(mceInternalDataType, internalContent);\n          }\n        }\n      };\n      var getMceInternalContent = function (e) {\n        var internalContent;\n        if (e.dataTransfer) {\n          internalContent = e.dataTransfer.getData(mceInternalDataType);\n          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n            return {\n              id: unescape(internalContent[0]),\n              html: unescape(internalContent[1])\n            };\n          }\n        }\n        return null;\n      };\n      var insertClipboardContents = function (content, internal) {\n        if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n          editor.execCommand('mceInsertClipboardContent', false, {\n            content: content,\n            internal: internal\n          });\n        } else {\n          editor.execCommand('mceInsertContent', false, content);\n        }\n      };\n      var emptyEditorWhenDeleting = function () {\n        var serializeRng = function (rng) {\n          var body = dom.create('body');\n          var contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        var allContentsSelected = function (rng) {\n          var selection = serializeRng(rng);\n          var allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          var allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n          var isCollapsed, body;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            isCollapsed = editor.selection.isCollapsed();\n            body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      var selectAll = function () {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      var inputMethodFocus = function () {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n            var rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      var removeHrOnBackspace = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var node = selection.getNode();\n              var previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      var focusBody = function () {\n        if (!Range.prototype.getClientRects) {\n          editor.on('mousedown', function (e) {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              var body_1 = editor.getBody();\n              body_1.blur();\n              Delay.setEditorTimeout(editor, function () {\n                body_1.focus();\n              });\n            }\n          });\n        }\n      };\n      var selectControlElements = function () {\n        editor.on('click', function (e) {\n          var target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      var removeStylesWhenDeletingAcrossBlockElements = function () {\n        var getAttributeApplyFunction = function () {\n          var template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return function () {\n            var target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, function (attr) {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        var isSelectionAcrossElements = function () {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false, null);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, function () {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      var disableBackspaceIntoATable = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n        });\n      };\n      var removeBlockQuoteOnBackSpace = function () {\n        editor.on('keydown', function (e) {\n          var rng, parent;\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          rng = selection.getRng();\n          var container = rng.startContainer;\n          var offset = rng.startOffset;\n          var root = dom.getRoot();\n          parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.tagName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', null, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      var setGeckoEditingOptions = function () {\n        var setOpts = function () {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!getObjectResizing(editor)) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!isReadOnly(editor)) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      var addBrAfterLastLinks = function () {\n        var fixLinks = function () {\n          each(dom.select('a'), function (node) {\n            var parentNode = node.parentNode;\n            var root = dom.getRoot();\n            if (parentNode.lastChild === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', function (e) {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      var setDefaultBlockType = function () {\n        if (getForcedRootBlock(editor)) {\n          editor.on('init', function () {\n            setEditorCommandState('DefaultParagraphSeparator', getForcedRootBlock(editor));\n          });\n        }\n      };\n      var normalizeSelection = function () {\n        editor.on('keyup focusin mouseup', function (e) {\n          if (!VK.modifierPressed(e)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      var showBrokenImageIcon = function () {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      var restoreFocusOnKeyDown = function () {\n        if (!editor.inline) {\n          editor.on('keydown', function () {\n            if (document.activeElement === document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      var bodyHeight = function () {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', function (e) {\n            var rng;\n            if (e.target.nodeName === 'HTML') {\n              if (Env.ie > 11) {\n                editor.getBody().focus();\n                return;\n              }\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      var blockCmdArrowNavigation = function () {\n        if (Env.mac) {\n          editor.on('keydown', function (e) {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              var selection_1 = editor.selection.getSel();\n              selection_1.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      var disableAutoUrlDetect = function () {\n        setEditorCommandState('AutoUrlDetect', false);\n      };\n      var tapLinksAndImages = function () {\n        editor.on('click', function (e) {\n          var elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      var blockFormSubmitInsideEditor = function () {\n        editor.on('init', function () {\n          editor.dom.bind(editor.getBody(), 'submit', function (e) {\n            e.preventDefault();\n          });\n        });\n      };\n      var removeAppleInterchangeBrs = function () {\n        parser.addNodeFilter('br', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      var ieInternalDragAndDrop = function () {\n        editor.on('dragstart', function (e) {\n          setMceInternalContent(e);\n        });\n        editor.on('drop', function (e) {\n          if (!isDefaultPrevented(e)) {\n            var internalContent = getMceInternalContent(e);\n            if (internalContent && internalContent.id !== editor.id) {\n              e.preventDefault();\n              var rng = fromPoint$1(e.x, e.y, editor.getDoc());\n              selection.setRng(rng);\n              insertClipboardContents(internalContent.html, true);\n            }\n          }\n        });\n      };\n      var refreshContentEditable = noop;\n      var isHidden = function () {\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        var sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      var setupRtc = function () {\n        if (isWebKit) {\n          selectControlElements();\n          blockFormSubmitInsideEditor();\n          selectAll();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          }\n        }\n        if (isGecko) {\n          focusBody();\n          setGeckoEditingOptions();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n        }\n      };\n      var setup = function () {\n        removeBlockQuoteOnBackSpace();\n        emptyEditorWhenDeleting();\n        if (!Env.windowsPhone) {\n          normalizeSelection();\n        }\n        if (isWebKit) {\n          inputMethodFocus();\n          selectControlElements();\n          setDefaultBlockType();\n          blockFormSubmitInsideEditor();\n          disableBackspaceIntoATable();\n          removeAppleInterchangeBrs();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          } else {\n            selectAll();\n          }\n        }\n        if (Env.ie >= 11) {\n          bodyHeight();\n          disableBackspaceIntoATable();\n        }\n        if (Env.ie) {\n          selectAll();\n          disableAutoUrlDetect();\n          ieInternalDragAndDrop();\n        }\n        if (isGecko) {\n          removeHrOnBackspace();\n          focusBody();\n          removeStylesWhenDeletingAcrossBlockElements();\n          setGeckoEditingOptions();\n          addBrAfterLastLinks();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n          disableBackspaceIntoATable();\n        }\n      };\n      if (isRtc(editor)) {\n        setupRtc();\n      } else {\n        setup();\n      }\n      return {\n        refreshContentEditable: refreshContentEditable,\n        isHidden: isHidden\n      };\n    };\n\n    var DOM$4 = DOMUtils.DOM;\n    var appendStyle = function (editor, text) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var container = getStyleContainer(getRootNode(body));\n      var style = SugarElement.fromTag('style');\n      set(style, 'type', 'text/css');\n      append(style, SugarElement.fromText(text));\n      append(container, style);\n      editor.on('remove', function () {\n        remove(style);\n      });\n    };\n    var getRootName = function (editor) {\n      return editor.inline ? editor.getElement().nodeName.toLowerCase() : undefined;\n    };\n    var removeUndefined = function (obj) {\n      return filter$1(obj, function (v) {\n        return isUndefined(v) === false;\n      });\n    };\n    var mkParserSettings = function (editor) {\n      var settings = editor.settings;\n      var blobCache = editor.editorUpload.blobCache;\n      return removeUndefined({\n        allow_conditional_comments: settings.allow_conditional_comments,\n        allow_html_data_urls: settings.allow_html_data_urls,\n        allow_svg_data_urls: settings.allow_svg_data_urls,\n        allow_html_in_named_anchor: settings.allow_html_in_named_anchor,\n        allow_script_urls: settings.allow_script_urls,\n        allow_unsafe_link_target: settings.allow_unsafe_link_target,\n        convert_fonts_to_spans: settings.convert_fonts_to_spans,\n        fix_list_elements: settings.fix_list_elements,\n        font_size_legacy_values: settings.font_size_legacy_values,\n        forced_root_block: settings.forced_root_block,\n        forced_root_block_attrs: settings.forced_root_block_attrs,\n        padd_empty_with_br: settings.padd_empty_with_br,\n        preserve_cdata: settings.preserve_cdata,\n        remove_trailing_brs: settings.remove_trailing_brs,\n        inline_styles: settings.inline_styles,\n        root_name: getRootName(editor),\n        validate: true,\n        blob_cache: blobCache,\n        images_dataimg_filter: settings.images_dataimg_filter\n      });\n    };\n    var mkSerializerSettings = function (editor) {\n      var settings = editor.settings;\n      return __assign(__assign({}, mkParserSettings(editor)), removeUndefined({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope,\n        element_format: settings.element_format,\n        entities: settings.entities,\n        entity_encoding: settings.entity_encoding,\n        indent: settings.indent,\n        indent_after: settings.indent_after,\n        indent_before: settings.indent_before,\n        block_elements: settings.block_elements,\n        boolean_attributes: settings.boolean_attributes,\n        custom_elements: settings.custom_elements,\n        extended_valid_elements: settings.extended_valid_elements,\n        invalid_elements: settings.invalid_elements,\n        invalid_styles: settings.invalid_styles,\n        move_caret_before_on_enter_elements: settings.move_caret_before_on_enter_elements,\n        non_empty_elements: settings.non_empty_elements,\n        schema: settings.schema,\n        self_closing_elements: settings.self_closing_elements,\n        short_ended_elements: settings.short_ended_elements,\n        special: settings.special,\n        text_block_elements: settings.text_block_elements,\n        text_inline_elements: settings.text_inline_elements,\n        valid_children: settings.valid_children,\n        valid_classes: settings.valid_classes,\n        valid_elements: settings.valid_elements,\n        valid_styles: settings.valid_styles,\n        verify_html: settings.verify_html,\n        whitespace_elements: settings.whitespace_elements\n      }));\n    };\n    var createParser = function (editor) {\n      var parser = DomParser(mkParserSettings(editor), editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {\n        var i = nodes.length, node, value;\n        var dom = editor.dom;\n        var internalName = 'data-mce-' + name;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(name);\n          if (value && !node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      if (editor.settings.preserve_cdata) {\n        parser.addNodeFilter('#cdata', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.type = 8;\n            node.name = '#comment';\n            node.value = '[CDATA[' + editor.dom.encode(node.value) + ']]';\n          }\n        });\n      }\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n        var i = nodes.length;\n        var nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          var node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new AstNode('br', 1)).shortEnded = true;\n          }\n        }\n      });\n      return parser;\n    };\n    var autoFocus = function (editor) {\n      if (editor.settings.auto_focus) {\n        Delay.setEditorTimeout(editor, function () {\n          var focusEditor;\n          if (editor.settings.auto_focus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n          }\n          if (!focusEditor.destroyed) {\n            focusEditor.focus();\n          }\n        }, 100);\n      }\n    };\n    var moveSelectionToFirstCaretPosition = function (editor) {\n      var root = editor.dom.getRoot();\n      if (!editor.inline && (!hasAnyRanges(editor) || editor.selection.getStart(true) === root)) {\n        firstPositionIn(root).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable(node) ? firstPositionIn(node).getOr(pos) : pos;\n          if (Env.browser.isIE()) {\n            storeNative(editor, caretPos.toRange());\n          } else {\n            editor.selection.setRng(caretPos.toRange());\n          }\n        });\n      }\n    };\n    var initEditor = function (editor) {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      fireInit(editor);\n      editor.focus(true);\n      moveSelectionToFirstCaretPosition(editor);\n      editor.nodeChanged({ initial: true });\n      editor.execCallback('init_instance_callback', editor);\n      autoFocus(editor);\n    };\n    var getStyleSheetLoader = function (editor) {\n      return editor.inline ? editor.ui.styleSheetLoader : editor.dom.styleSheetLoader;\n    };\n    var makeStylesheetLoadingPromises = function (editor, css, framedFonts) {\n      var promises = [new promiseObj(function (resolve, reject) {\n          return getStyleSheetLoader(editor).loadAll(css, resolve, reject);\n        })];\n      if (editor.inline) {\n        return promises;\n      } else {\n        return promises.concat([new promiseObj(function (resolve, reject) {\n            return editor.ui.styleSheetLoader.loadAll(framedFonts, resolve, reject);\n          })]);\n      }\n    };\n    var loadContentCss = function (editor, css) {\n      var styleSheetLoader = getStyleSheetLoader(editor);\n      var fontCss = getFontCss(editor);\n      var removeCss = function () {\n        styleSheetLoader.unloadAll(css);\n        if (!editor.inline) {\n          editor.ui.styleSheetLoader.unloadAll(fontCss);\n        }\n      };\n      var loaded = function () {\n        if (editor.removed) {\n          removeCss();\n        } else {\n          editor.on('remove', removeCss);\n          initEditor(editor);\n        }\n      };\n      promiseObj.all(makeStylesheetLoadingPromises(editor, css, fontCss)).then(loaded).catch(loaded);\n    };\n    var preInit = function (editor) {\n      var settings = editor.settings, doc = editor.getDoc(), body = editor.getBody();\n      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n        doc.body.spellcheck = false;\n        DOM$4.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      firePostRender(editor);\n      var directionality = getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      if (settings.protect) {\n        editor.on('BeforeSetContent', function (e) {\n          Tools.each(settings.protect, function (pattern) {\n            e.content = e.content.replace(pattern, function (str) {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', function () {\n        editor.addVisual(editor.getBody());\n      });\n      if (!isRtc(editor)) {\n        editor.load({\n          initial: true,\n          format: 'html'\n        });\n      }\n      editor.startContent = editor.getContent({ format: 'raw' });\n      editor.on('compositionstart compositionend', function (e) {\n        editor.composing = e.type === 'compositionstart';\n      });\n      if (editor.contentStyles.length > 0) {\n        var contentCssText_1 = '';\n        Tools.each(editor.contentStyles, function (style) {\n          contentCssText_1 += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText_1);\n      }\n      loadContentCss(editor, editor.contentCSS);\n      if (settings.content_style) {\n        appendStyle(editor, settings.content_style);\n      }\n    };\n    var initContentBody = function (editor, skipWrite) {\n      var settings = editor.settings;\n      var targetElm = editor.getElement();\n      var doc = editor.getDoc();\n      if (!settings.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !editor.inline) {\n        doc.open();\n        doc.write(editor.iframeHTML);\n        doc.close();\n      }\n      if (editor.inline) {\n        DOM$4.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = document;\n        editor.contentWindow = window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n      }\n      var body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = !!settings.readonly;\n      if (!editor.readonly) {\n        if (editor.inline && DOM$4.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = editor.getParam('content_editable_state', true);\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(settings);\n      editor.dom = DOMUtils(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        hex_colors: settings.force_hex_style_colors,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: function () {\n          return editor.inline;\n        },\n        schema: editor.schema,\n        contentCssCors: shouldUseContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor),\n        onSetAttrib: function (e) {\n          editor.fire('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer(mkSerializerSettings(editor), editor);\n      editor.selection = EditorSelection(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$9(editor);\n      setup$k(editor);\n      if (!isRtc(editor)) {\n        setup$l(editor);\n      }\n      var caret = setup$j(editor);\n      setup$8(editor, caret);\n      setup$a(editor);\n      setup$7(editor);\n      firePreInit(editor);\n      setup$5(editor).fold(function () {\n        preInit(editor);\n      }, function (loadingRtc) {\n        editor.setProgressState(true);\n        loadingRtc.then(function (_rtcMode) {\n          editor.setProgressState(false);\n          preInit(editor);\n        }, function (err) {\n          editor.notificationManager.open({\n            type: 'error',\n            text: String(err)\n          });\n          preInit(editor);\n        });\n      });\n    };\n\n    var DOM$5 = DOMUtils.DOM;\n    var relaxDomain = function (editor, ifr) {\n      if (document.domain !== window.location.hostname && Env.browser.isIE()) {\n        var bodyUuid = uuid('mce');\n        editor[bodyUuid] = function () {\n          initContentBody(editor);\n        };\n        var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n        DOM$5.setAttrib(ifr, 'src', domainRelaxUrl);\n        return true;\n      }\n      return false;\n    };\n    var createIframeElement = function (id, title, height, customAttrs) {\n      var iframe = SugarElement.fromTag('iframe');\n      setAll(iframe, customAttrs);\n      setAll(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title: title\n      });\n      add$3(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    var getIframeHtml = function (editor) {\n      var iframeHTML = getDocType(editor) + '<html><head>';\n      if (getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      var bodyId = getBodyId(editor);\n      var bodyClass = getBodyClass(editor);\n      if (getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head><body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\"><br></body></html>';\n      return iframeHTML;\n    };\n    var createIframe = function (editor, o) {\n      var title = editor.editorManager.translate('Rich Text Area. Press ALT-0 for help.');\n      var ifr = createIframeElement(editor.id, title, o.height, getIframeAttrs(editor)).dom;\n      ifr.onload = function () {\n        ifr.onload = null;\n        editor.fire('load');\n      };\n      var isDomainRelaxed = relaxDomain(editor, ifr);\n      editor.contentAreaContainer = o.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$5.add(o.iframeContainer, ifr);\n      return isDomainRelaxed;\n    };\n    var init$1 = function (editor, boxInfo) {\n      var isDomainRelaxed = createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        DOM$5.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n        editor.hidden = DOM$5.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$5.setAttrib(editor.id, 'aria-hidden', 'true');\n      if (!isDomainRelaxed) {\n        initContentBody(editor);\n      }\n    };\n\n    var DOM$6 = DOMUtils.DOM;\n    var initPlugin = function (editor, initializedPlugins, plugin) {\n      var Plugin = PluginManager.get(plugin);\n      var pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        Tools.each(PluginManager.dependencies(plugin), function (dep) {\n          initPlugin(editor, initializedPlugins, dep);\n        });\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n          editor.plugins[plugin] = pluginInstance;\n          if (pluginInstance.init) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    var trimLegacyPrefix = function (name) {\n      return name.replace(/^\\-/, '');\n    };\n    var initPlugins = function (editor) {\n      var initializedPlugins = [];\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (name) {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    var initIcons = function (editor) {\n      var iconPackName = Tools.trim(getIconPackName(editor));\n      var currentIcons = editor.ui.registry.getAll().icons;\n      var loadIcons = __assign(__assign({}, IconManager.get('default').icons), IconManager.get(iconPackName).icons);\n      each$1(loadIcons, function (svgData, icon) {\n        if (!has(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    var initTheme = function (editor) {\n      var theme = getTheme(editor);\n      if (isString(theme)) {\n        editor.settings.theme = trimLegacyPrefix(theme);\n        var Theme = ThemeManager.get(theme);\n        editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n        if (editor.theme.init) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    var renderFromLoadedTheme = function (editor) {\n      return editor.theme.renderUI();\n    };\n    var renderFromThemeFunc = function (editor) {\n      var elm = editor.getElement();\n      var theme = getTheme(editor);\n      var info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    var createThemeFalseResult = function (element) {\n      return {\n        editorContainer: element,\n        iframeContainer: element,\n        api: {}\n      };\n    };\n    var renderThemeFalseIframe = function (targetElement) {\n      var iframeContainer = DOM$6.create('div');\n      DOM$6.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer);\n    };\n    var renderThemeFalse = function (editor) {\n      var targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    var renderThemeUi = function (editor) {\n      var elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString(getTheme(editor))) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(getTheme(editor))) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    var augmentEditorUiApi = function (editor, api) {\n      var uiApiFacade = {\n        show: Optional.from(api.show).getOr(noop),\n        hide: Optional.from(api.hide).getOr(noop),\n        disable: Optional.from(api.disable).getOr(noop),\n        isDisabled: Optional.from(api.isDisabled).getOr(never),\n        enable: function () {\n          if (!editor.mode.isReadOnly()) {\n            Optional.from(api.enable).map(call);\n          }\n        }\n      };\n      editor.ui = __assign(__assign({}, editor.ui), uiApiFacade);\n    };\n    var init$2 = function (editor) {\n      editor.fire('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initPlugins(editor);\n      var renderInfo = renderThemeUi(editor);\n      augmentEditorUiApi(editor, Optional.from(renderInfo.api).getOr({}));\n      var boxInfo = {\n        editorContainer: renderInfo.editorContainer,\n        iframeContainer: renderInfo.iframeContainer\n      };\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        return initContentBody(editor);\n      } else {\n        return init$1(editor, boxInfo);\n      }\n    };\n\n    var DOM$7 = DOMUtils.DOM;\n    var hasSkipLoadPrefix = function (name) {\n      return name.charAt(0) === '-';\n    };\n    var loadLanguage = function (scriptLoader, editor) {\n      var languageCode = getLanguageCode(editor);\n      var languageUrl = getLanguageUrl(editor);\n      if (I18n.hasCode(languageCode) === false && languageCode !== 'en') {\n        var url_1 = languageUrl !== '' ? languageUrl : editor.editorManager.baseURL + '/langs/' + languageCode + '.js';\n        scriptLoader.add(url_1, noop, undefined, function () {\n          languageLoadError(editor, url_1, languageCode);\n        });\n      }\n    };\n    var loadTheme = function (scriptLoader, editor, suffix, callback) {\n      var theme = getTheme(editor);\n      if (isString(theme)) {\n        if (!hasSkipLoadPrefix(theme) && !ThemeManager.urls.hasOwnProperty(theme)) {\n          var themeUrl = getThemeUrl(editor);\n          if (themeUrl) {\n            ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n          } else {\n            ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n          }\n        }\n        scriptLoader.loadQueue(function () {\n          ThemeManager.waitFor(theme, callback);\n        });\n      } else {\n        callback();\n      }\n    };\n    var getIconsUrlMetaFromUrl = function (editor) {\n      return Optional.from(getIconsUrl(editor)).filter(function (url) {\n        return url.length > 0;\n      }).map(function (url) {\n        return {\n          url: url,\n          name: Optional.none()\n        };\n      });\n    };\n    var getIconsUrlMetaFromName = function (editor, name, suffix) {\n      return Optional.from(name).filter(function (name) {\n        return name.length > 0 && !IconManager.has(name);\n      }).map(function (name) {\n        return {\n          url: editor.editorManager.baseURL + '/icons/' + name + '/icons' + suffix + '.js',\n          name: Optional.some(name)\n        };\n      });\n    };\n    var loadIcons = function (scriptLoader, editor, suffix) {\n      var defaultIconsUrl = getIconsUrlMetaFromName(editor, 'default', suffix);\n      var customIconsUrl = getIconsUrlMetaFromUrl(editor).orThunk(function () {\n        return getIconsUrlMetaFromName(editor, getIconPackName(editor), '');\n      });\n      each(cat([\n        defaultIconsUrl,\n        customIconsUrl\n      ]), function (urlMeta) {\n        scriptLoader.add(urlMeta.url, noop, undefined, function () {\n          iconsLoadError(editor, urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    var loadPlugins = function (editor, suffix) {\n      Tools.each(getExternalPlugins(editor), function (url, name) {\n        PluginManager.load(name, url, noop, undefined, function () {\n          pluginLoadError(editor, url, name);\n        });\n        editor.settings.plugins += ' ' + name;\n      });\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (plugin) {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin]) {\n          if (hasSkipLoadPrefix(plugin)) {\n            plugin = plugin.substr(1, plugin.length);\n            var dependencies = PluginManager.dependencies(plugin);\n            Tools.each(dependencies, function (depPlugin) {\n              var defaultSettings = {\n                prefix: 'plugins/',\n                resource: depPlugin,\n                suffix: '/plugin' + suffix + '.js'\n              };\n              var dep = PluginManager.createUrl(defaultSettings, depPlugin);\n              PluginManager.load(dep.resource, dep, noop, undefined, function () {\n                pluginLoadError(editor, dep.prefix + dep.resource + dep.suffix, dep.resource);\n              });\n            });\n          } else {\n            var url_2 = {\n              prefix: 'plugins/',\n              resource: plugin,\n              suffix: '/plugin' + suffix + '.js'\n            };\n            PluginManager.load(plugin, url_2, noop, undefined, function () {\n              pluginLoadError(editor, url_2.prefix + url_2.resource + url_2.suffix, plugin);\n            });\n          }\n        }\n      });\n    };\n    var loadScripts = function (editor, suffix) {\n      var scriptLoader = ScriptLoader.ScriptLoader;\n      loadTheme(scriptLoader, editor, suffix, function () {\n        loadLanguage(scriptLoader, editor);\n        loadIcons(scriptLoader, editor, suffix);\n        loadPlugins(editor, suffix);\n        scriptLoader.loadQueue(function () {\n          if (!editor.removed) {\n            init$2(editor);\n          }\n        }, editor, function () {\n          if (!editor.removed) {\n            init$2(editor);\n          }\n        });\n      });\n    };\n    var getStyleSheetLoader$1 = function (element, editor) {\n      return instance.forElement(element, {\n        contentCssCors: hasContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor)\n      });\n    };\n    var render = function (editor) {\n      var id = editor.id;\n      I18n.setCode(getLanguageCode(editor));\n      var readyHandler = function () {\n        DOM$7.unbind(window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$7.bind(window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      if (!Env.contentEditable) {\n        return;\n      }\n      var element = SugarElement.fromDom(editor.getElement());\n      var snapshot = clone(element);\n      editor.on('remove', function () {\n        eachr(element.dom.attributes, function (attr) {\n          return remove$1(element, attr.name);\n        });\n        setAll(element, snapshot);\n      });\n      editor.ui.styleSheetLoader = getStyleSheetLoader$1(element, editor);\n      if (!isInline$1(editor)) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      var form = editor.getElement().form || DOM$7.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (hasHiddenInput(editor) && !isTextareaOrInput(editor.getElement())) {\n          DOM$7.insertAfter(DOM$7.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = function (e) {\n          editor.fire(e.type, e);\n        };\n        DOM$7.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', function () {\n          editor.resetContent();\n        });\n        if (shouldPatchSubmit(editor) && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = function () {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (isEncodingXml(editor)) {\n        editor.on('GetContent', function (e) {\n          if (e.save) {\n            e.content = DOM$7.encode(e.content);\n          }\n        });\n      }\n      if (shouldAddFormSubmitTrigger(editor)) {\n        editor.on('submit', function () {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (shouldAddUnloadTrigger(editor)) {\n        editor._beforeUnload = function () {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n\n    var addVisual$1 = function (editor, elm) {\n      return addVisual(editor, elm);\n    };\n\n    var legacyPropNames = {\n      'font-size': 'size',\n      'font-family': 'face'\n    };\n    var getSpecifiedFontProp = function (propName, rootElm, elm) {\n      var getProperty = function (elm) {\n        return getRaw(elm, propName).orThunk(function () {\n          if (name(elm) === 'font') {\n            return get$1(legacyPropNames, propName).bind(function (legacyPropName) {\n              return getOpt(elm, legacyPropName);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      var isRoot = function (elm) {\n        return eq$2(SugarElement.fromDom(rootElm), elm);\n      };\n      return closest$2(SugarElement.fromDom(elm), function (elm) {\n        return getProperty(elm);\n      }, isRoot);\n    };\n    var normalizeFontFamily = function (fontFamily) {\n      return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    };\n    var getComputedFontProp = function (propName, elm) {\n      return Optional.from(DOMUtils.DOM.getStyle(elm, propName, true));\n    };\n    var getFontProp = function (propName) {\n      return function (rootElm, elm) {\n        return Optional.from(elm).map(SugarElement.fromDom).filter(isElement).bind(function (element) {\n          return getSpecifiedFontProp(propName, rootElm, element.dom).or(getComputedFontProp(propName, element.dom));\n        }).getOr('');\n      };\n    };\n    var getFontSize = getFontProp('font-size');\n    var getFontFamily = compose(normalizeFontFamily, getFontProp('font-family'));\n\n    var findFirstCaretElement = function (editor) {\n      return firstPositionIn(editor.getBody()).map(function (caret) {\n        var container = caret.container();\n        return isText$1(container) ? container.parentNode : container;\n      });\n    };\n    var getCaretElement = function (editor) {\n      return Optional.from(editor.selection.getRng()).bind(function (rng) {\n        var root = editor.getBody();\n        var atStartOfNode = rng.startContainer === root && rng.startOffset === 0;\n        return atStartOfNode ? Optional.none() : Optional.from(editor.selection.getStart(true));\n      });\n    };\n    var mapRange = function (editor, mapper) {\n      return getCaretElement(editor).orThunk(curry(findFirstCaretElement, editor)).map(SugarElement.fromDom).filter(isElement).map(mapper);\n    };\n\n    var fromFontSizeNumber = function (editor, value) {\n      if (/^[0-9.]+$/.test(value)) {\n        var fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          var fontSizes = getFontStyleValues(editor);\n          var fontClasses = getFontSizeClasses(editor);\n          if (fontClasses) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    var normalizeFontNames = function (font) {\n      var fonts = font.split(/\\s*,\\s*/);\n      return map(fonts, function (font) {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, '\\''))) {\n          return '\\'' + font + '\\'';\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    var fontNameAction = function (editor, value) {\n      var font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    var fontNameQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontFamily(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n    var fontSizeAction = function (editor, value) {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    var fontSizeQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontSize(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n\n    var lineHeightQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        var root = SugarElement.fromDom(editor.getBody());\n        var specifiedStyle = closest$2(elm, function (elm) {\n          return getRaw(elm, 'line-height');\n        }, curry(eq$2, root));\n        var computedStyle = function () {\n          var lineHeight = parseFloat(get$5(elm, 'line-height'));\n          var fontSize = parseFloat(get$5(elm, 'font-size'));\n          return String(lineHeight / fontSize);\n        };\n        return specifiedStyle.getOrThunk(computedStyle);\n      }).getOr('');\n    };\n    var lineHeightAction = function (editor, lineHeight) {\n      editor.formatter.toggle('lineheight', { value: String(lineHeight) });\n      editor.nodeChanged();\n    };\n\n    var processValue = function (value) {\n      var details;\n      if (typeof value !== 'string') {\n        details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details: details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    var insertAtCaret$1 = function (editor, value) {\n      var result = processValue(value);\n      insertContent(editor, result.content, result.details);\n    };\n\n    var each$f = Tools.each;\n    var map$3 = Tools.map, inArray$2 = Tools.inArray;\n    var EditorCommands = function () {\n      function EditorCommands(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n        this.setupCommands(editor);\n      }\n      EditorCommands.prototype.execCommand = function (command, ui, value, args) {\n        var func, state = false;\n        var self = this;\n        if (self.editor.removed) {\n          return;\n        }\n        if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n          self.editor.focus();\n        } else {\n          restore(self.editor);\n        }\n        args = self.editor.fire('BeforeExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        if (args.isDefaultPrevented()) {\n          return false;\n        }\n        var customCommand = command.toLowerCase();\n        if (func = self.commands.exec[customCommand]) {\n          func(customCommand, ui, value);\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        each$f(this.editor.plugins, function (p) {\n          if (p.execCommand && p.execCommand(command, ui, value)) {\n            self.editor.fire('ExecCommand', {\n              command: command,\n              ui: ui,\n              value: value\n            });\n            state = true;\n            return false;\n          }\n        });\n        if (state) {\n          return state;\n        }\n        if (self.editor.theme && self.editor.theme.execCommand && self.editor.theme.execCommand(command, ui, value)) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        try {\n          state = self.editor.getDoc().execCommand(command, ui, value);\n        } catch (ex) {\n        }\n        if (state) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandState = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.state[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandState(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandValue = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.value[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandValue(command);\n        } catch (ex) {\n        }\n      };\n      EditorCommands.prototype.addCommands = function (commandList, type) {\n        if (type === void 0) {\n          type = 'exec';\n        }\n        var self = this;\n        each$f(commandList, function (callback, command) {\n          each$f(command.toLowerCase().split(','), function (command) {\n            self.commands[type][command] = callback;\n          });\n        });\n      };\n      EditorCommands.prototype.addCommand = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.exec[command] = function (command, ui, value, args) {\n          return callback.call(scope || _this.editor, ui, value, args);\n        };\n      };\n      EditorCommands.prototype.queryCommandSupported = function (command) {\n        command = command.toLowerCase();\n        if (this.commands.exec[command]) {\n          return true;\n        }\n        try {\n          return this.editor.getDoc().queryCommandSupported(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.addQueryStateHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.state[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.addQueryValueHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.value[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.hasCustomCommand = function (command) {\n        command = command.toLowerCase();\n        return !!this.commands.exec[command];\n      };\n      EditorCommands.prototype.execNativeCommand = function (command, ui, value) {\n        if (ui === undefined) {\n          ui = false;\n        }\n        if (value === undefined) {\n          value = null;\n        }\n        return this.editor.getDoc().execCommand(command, ui, value);\n      };\n      EditorCommands.prototype.isFormatMatch = function (name) {\n        return this.editor.formatter.match(name);\n      };\n      EditorCommands.prototype.toggleFormat = function (name, value) {\n        this.editor.formatter.toggle(name, value ? { value: value } : undefined);\n        this.editor.nodeChanged();\n      };\n      EditorCommands.prototype.storeSelection = function (type) {\n        this.selectionBookmark = this.editor.selection.getBookmark(type);\n      };\n      EditorCommands.prototype.restoreSelection = function () {\n        this.editor.selection.moveToBookmark(this.selectionBookmark);\n      };\n      EditorCommands.prototype.setupCommands = function (editor) {\n        var self = this;\n        this.addCommands({\n          'mceResetDesignMode,mceBeginUndoLevel': noop,\n          'mceEndUndoLevel,mceAddUndoLevel': function () {\n            editor.undoManager.add();\n          },\n          'Cut,Copy,Paste': function (command) {\n            var doc = editor.getDoc();\n            var failed;\n            try {\n              self.execNativeCommand(command);\n            } catch (ex) {\n              failed = true;\n            }\n            if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n              failed = true;\n            }\n            if (failed || !doc.queryCommandSupported(command)) {\n              var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n              if (Env.mac) {\n                msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n              }\n              editor.notificationManager.open({\n                text: msg,\n                type: 'error'\n              });\n            }\n          },\n          'unlink': function () {\n            if (editor.selection.isCollapsed()) {\n              var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n              if (elm) {\n                editor.dom.remove(elm, true);\n              }\n              return;\n            }\n            editor.formatter.remove('link');\n          },\n          'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\n            var align = command.substring(7);\n            if (align === 'full') {\n              align = 'justify';\n            }\n            each$f('left,center,right,justify'.split(','), function (name) {\n              if (align !== name) {\n                editor.formatter.remove('align' + name);\n              }\n            });\n            if (align !== 'none') {\n              self.toggleFormat('align' + align);\n            }\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var listParent;\n            self.execNativeCommand(command);\n            var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n            if (listElm) {\n              listParent = listElm.parentNode;\n              if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n                self.storeSelection();\n                editor.dom.split(listParent, listElm);\n                self.restoreSelection();\n              }\n            }\n          },\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            self.toggleFormat(command);\n          },\n          'ForeColor,HiliteColor': function (command, ui, value) {\n            self.toggleFormat(command, value);\n          },\n          'FontName': function (command, ui, value) {\n            fontNameAction(editor, value);\n          },\n          'FontSize': function (command, ui, value) {\n            fontSizeAction(editor, value);\n          },\n          'LineHeight': function (command, ui, value) {\n            lineHeightAction(editor, value);\n          },\n          'RemoveFormat': function (command) {\n            editor.formatter.remove(command);\n          },\n          'mceBlockQuote': function () {\n            self.toggleFormat('blockquote');\n          },\n          'FormatBlock': function (command, ui, value) {\n            return self.toggleFormat(value || 'p');\n          },\n          'mceCleanup': function () {\n            var bookmark = editor.selection.getBookmark();\n            editor.setContent(editor.getContent());\n            editor.selection.moveToBookmark(bookmark);\n          },\n          'mceRemoveNode': function (command, ui, value) {\n            var node = value || editor.selection.getNode();\n            if (node !== editor.getBody()) {\n              self.storeSelection();\n              editor.dom.remove(node, true);\n              self.restoreSelection();\n            }\n          },\n          'mceSelectNodeDepth': function (command, ui, value) {\n            var counter = 0;\n            editor.dom.getParent(editor.selection.getNode(), function (node) {\n              if (node.nodeType === 1 && counter++ === value) {\n                editor.selection.select(node);\n                return false;\n              }\n            }, editor.getBody());\n          },\n          'mceSelectNode': function (command, ui, value) {\n            editor.selection.select(value);\n          },\n          'mceInsertContent': function (command, ui, value) {\n            insertAtCaret$1(editor, value);\n          },\n          'mceInsertRawHTML': function (command, ui, value) {\n            editor.selection.setContent('tiny_mce_marker');\n            var content = editor.getContent();\n            editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n              return value;\n            }));\n          },\n          'mceInsertNewLine': function (command, ui, value) {\n            insert$3(editor, value);\n          },\n          'mceToggleFormat': function (command, ui, value) {\n            self.toggleFormat(value);\n          },\n          'mceSetContent': function (command, ui, value) {\n            editor.setContent(value);\n          },\n          'Indent,Outdent': function (command) {\n            handle(editor, command);\n          },\n          'mceRepaint': noop,\n          'InsertHorizontalRule': function () {\n            editor.execCommand('mceInsertContent', false, '<hr />');\n          },\n          'mceToggleVisualAid': function () {\n            editor.hasVisual = !editor.hasVisual;\n            editor.addVisual();\n          },\n          'mceReplaceContent': function (command, ui, value) {\n            editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n          },\n          'mceInsertLink': function (command, ui, value) {\n            if (typeof value === 'string') {\n              value = { href: value };\n            }\n            var anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n            value.href = value.href.replace(/ /g, '%20');\n            if (!anchor || !value.href) {\n              editor.formatter.remove('link');\n            }\n            if (value.href) {\n              editor.formatter.apply('link', value, anchor);\n            }\n          },\n          'selectAll': function () {\n            var editingHost = editor.dom.getParent(editor.selection.getStart(), isContentEditableTrue);\n            if (editingHost) {\n              var rng = editor.dom.createRng();\n              rng.selectNodeContents(editingHost);\n              editor.selection.setRng(rng);\n            }\n          },\n          'mceNewDocument': function () {\n            editor.setContent('');\n          },\n          'InsertLineBreak': function (command, ui, value) {\n            insert$2(editor, value);\n            return true;\n          }\n        });\n        var alignStates = function (name) {\n          return function () {\n            var selection = editor.selection;\n            var nodes = selection.isCollapsed() ? [editor.dom.getParent(selection.getNode(), editor.dom.isBlock)] : selection.getSelectedBlocks();\n            var matches = map$3(nodes, function (node) {\n              return !!editor.formatter.matchNode(node, name);\n            });\n            return inArray$2(matches, true) !== -1;\n          };\n        };\n        self.addCommands({\n          'JustifyLeft': alignStates('alignleft'),\n          'JustifyCenter': alignStates('aligncenter'),\n          'JustifyRight': alignStates('alignright'),\n          'JustifyFull': alignStates('alignjustify'),\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            return self.isFormatMatch(command);\n          },\n          'mceBlockQuote': function () {\n            return self.isFormatMatch('blockquote');\n          },\n          'Outdent': function () {\n            return canOutdent(editor);\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n            return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n          }\n        }, 'state');\n        self.addCommands({\n          Undo: function () {\n            editor.undoManager.undo();\n          },\n          Redo: function () {\n            editor.undoManager.redo();\n          }\n        });\n        self.addQueryValueHandler('FontName', function () {\n          return fontNameQuery(editor);\n        }, this);\n        self.addQueryValueHandler('FontSize', function () {\n          return fontSizeQuery(editor);\n        }, this);\n        self.addQueryValueHandler('LineHeight', function () {\n          return lineHeightQuery(editor);\n        }, this);\n      };\n      return EditorCommands;\n    }();\n\n    var internalContentEditableAttr = 'data-mce-contenteditable';\n    var toggleClass = function (elm, cls, state) {\n      if (has$2(elm, cls) && state === false) {\n        remove$4(elm, cls);\n      } else if (state) {\n        add$3(elm, cls);\n      }\n    };\n    var setEditorCommandState = function (editor, cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, String(state));\n      } catch (ex) {\n      }\n    };\n    var setContentEditable = function (elm, state) {\n      elm.dom.contentEditable = state ? 'true' : 'false';\n    };\n    var switchOffContentEditableTrue = function (elm) {\n      each(descendants$1(elm, '*[contenteditable=\"true\"]'), function (elm) {\n        set(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    var switchOnContentEditableTrue = function (elm) {\n      each(descendants$1(elm, '*[' + internalContentEditableAttr + '=\"true\"]'), function (elm) {\n        remove$1(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    var removeFakeSelection = function (editor) {\n      Optional.from(editor.selection.getNode()).each(function (elm) {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    var restoreFakeSelection = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var toggleReadOnly = function (editor, state) {\n      var body = SugarElement.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        setContentEditable(body, true);\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    var isReadOnly$1 = function (editor) {\n      return editor.readonly;\n    };\n    var registerFilters = function (editor) {\n      editor.parser.addAttributeFilter('contenteditable', function (nodes) {\n        if (isReadOnly$1(editor)) {\n          each(nodes, function (node) {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, function (nodes) {\n        if (isReadOnly$1(editor)) {\n          each(nodes, function (node) {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    var registerReadOnlyContentFilters = function (editor) {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', function () {\n          registerFilters(editor);\n        });\n      }\n    };\n    var isClickEvent = function (e) {\n      return e.type === 'click';\n    };\n    var getAnchorHrefOpt = function (editor, elm) {\n      var isRoot = function (elm) {\n        return eq$2(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      return closest$1(elm, 'a', isRoot).bind(function (a) {\n        return getOpt(a, 'href');\n      });\n    };\n    var processReadonlyEvents = function (editor, e) {\n      if (isClickEvent(e) && !VK.metaKeyPressed(e)) {\n        var elm = SugarElement.fromDom(e.target);\n        getAnchorHrefOpt(editor, elm).each(function (href) {\n          e.preventDefault();\n          if (/^#/.test(href)) {\n            var targetEl = editor.dom.select(href + ',[name=\"' + removeLeading(href, '#') + '\"]');\n            if (targetEl.length) {\n              editor.selection.scrollIntoView(targetEl[0], true);\n            }\n          } else {\n            window.open(href, '_blank', 'rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');\n          }\n        });\n      }\n    };\n    var registerReadOnlySelectionBlockers = function (editor) {\n      editor.on('ShowCaret', function (e) {\n        if (isReadOnly$1(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        if (isReadOnly$1(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    var EventDispatcher = function () {\n      function EventDispatcher(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      EventDispatcher.isNative = function (name) {\n        return !!nativeEvents[name.toLowerCase()];\n      };\n      EventDispatcher.prototype.fire = function (nameIn, argsIn) {\n        var name = nameIn.toLowerCase();\n        var args = argsIn || {};\n        args.type = name;\n        if (!args.target) {\n          args.target = this.scope;\n        }\n        if (!args.preventDefault) {\n          args.preventDefault = function () {\n            args.isDefaultPrevented = always;\n          };\n          args.stopPropagation = function () {\n            args.isPropagationStopped = always;\n          };\n          args.stopImmediatePropagation = function () {\n            args.isImmediatePropagationStopped = always;\n          };\n          args.isDefaultPrevented = never;\n          args.isPropagationStopped = never;\n          args.isImmediatePropagationStopped = never;\n        }\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(args);\n        }\n        var handlers = this.bindings[name];\n        if (handlers) {\n          for (var i = 0, l = handlers.length; i < l; i++) {\n            var callback = handlers[i];\n            if (callback.once) {\n              this.off(name, callback.func);\n            }\n            if (args.isImmediatePropagationStopped()) {\n              args.stopPropagation();\n              return args;\n            }\n            if (callback.func.call(this.scope, args) === false) {\n              args.preventDefault();\n              return args;\n            }\n          }\n        }\n        return args;\n      };\n      EventDispatcher.prototype.on = function (name, callback, prepend, extra) {\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          var wrappedCallback = { func: callback };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!handlers) {\n              handlers = this.bindings[currentName] = [];\n              this.toggleEvent(currentName, true);\n            }\n            if (prepend) {\n              handlers.unshift(wrappedCallback);\n            } else {\n              handlers.push(wrappedCallback);\n            }\n          }\n        }\n        return this;\n      };\n      EventDispatcher.prototype.off = function (name, callback) {\n        var _this = this;\n        if (name) {\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!currentName) {\n              each$1(this.bindings, function (_value, bindingName) {\n                _this.toggleEvent(bindingName, false);\n                delete _this.bindings[bindingName];\n              });\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                var hi = handlers.length;\n                while (hi--) {\n                  if (handlers[hi].func === callback) {\n                    handlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));\n                    this.bindings[currentName] = handlers;\n                  }\n                }\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[currentName];\n              }\n            }\n          }\n        } else {\n          each$1(this.bindings, function (_value, name) {\n            _this.toggleEvent(name, false);\n          });\n          this.bindings = {};\n        }\n        return this;\n      };\n      EventDispatcher.prototype.once = function (name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      };\n      EventDispatcher.prototype.has = function (name) {\n        name = name.toLowerCase();\n        return !(!this.bindings[name] || this.bindings[name].length === 0);\n      };\n      return EventDispatcher;\n    }();\n\n    var getEventDispatcher = function (obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: function (name, state) {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    var Observable = {\n      fire: function (name, args, bubble) {\n        var self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return args;\n        }\n        var dispatcherArgs = getEventDispatcher(self).fire(name, args);\n        if (bubble !== false && self.parent) {\n          var parent_1 = self.parent();\n          while (parent_1 && !dispatcherArgs.isPropagationStopped()) {\n            parent_1.fire(name, dispatcherArgs, false);\n            parent_1 = parent_1.parent();\n          }\n        }\n        return dispatcherArgs;\n      },\n      on: function (name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off: function (name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once: function (name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners: function (name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    var DOM$8 = DOMUtils.DOM;\n    var customEventRootDelegates;\n    var getEventTarget = function (editor, eventName) {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      var eventRoot = getEventRoot(editor);\n      if (eventRoot) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$8.select(eventRoot)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    var isListening = function (editor) {\n      return !editor.hidden && !isReadOnly$1(editor);\n    };\n    var fireEvent = function (editor, eventName, e) {\n      if (isListening(editor)) {\n        editor.fire(eventName, e);\n      } else if (isReadOnly$1(editor)) {\n        processReadonlyEvents(editor, e);\n      }\n    };\n    var bindEventDelegate = function (editor, eventName) {\n      var delegate;\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      var eventRootElm = getEventTarget(editor, eventName);\n      if (getEventRoot(editor)) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', function () {\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                each$1(customEventRootDelegates, function (_value, name) {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                });\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        delegate = function (e) {\n          var target = e.target;\n          var editors = editor.editorManager.get();\n          var i = editors.length;\n          while (i--) {\n            var body = editors[i].getBody();\n            if (body === target || DOM$8.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$8.bind(eventRootElm, eventName, delegate);\n      } else {\n        delegate = function (e) {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$8.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    var EditorObservable = __assign(__assign({}, Observable), {\n      bindPendingEventDelegates: function () {\n        var self = this;\n        Tools.each(self._pendingNativeEvents, function (name) {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent: function (name, state) {\n        var self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents: function () {\n        var self = this;\n        var body = self.getBody();\n        var dom = self.dom;\n        if (self.delegates) {\n          each$1(self.delegates, function (value, name) {\n            self.dom.unbind(getEventTarget(self, name), name, value);\n          });\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    });\n\n    var defaultModes = [\n      'design',\n      'readonly'\n    ];\n    var switchToMode = function (editor, activeMode, availableModes, mode) {\n      var oldMode = availableModes[activeMode.get()];\n      var newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        console.error('problem while activating editor mode ' + mode + ':', e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      fireSwitchMode(editor, mode);\n    };\n    var setMode = function (editor, availableModes, activeMode, mode) {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has(availableModes, mode)) {\n        throw new Error('Editor mode \\'' + mode + '\\' is invalid');\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', function () {\n          return switchToMode(editor, activeMode, availableModes, mode);\n        });\n      }\n    };\n    var registerMode = function (availableModes, mode, api) {\n      var _a;\n      if (contains(defaultModes, mode)) {\n        throw new Error('Cannot override default mode ' + mode);\n      }\n      return __assign(__assign({}, availableModes), (_a = {}, _a[mode] = __assign(__assign({}, api), {\n        deactivate: function () {\n          try {\n            api.deactivate();\n          } catch (e) {\n            console.error('problem while deactivating editor mode ' + mode + ':', e);\n          }\n        }\n      }), _a));\n    };\n\n    var create$5 = function (editor) {\n      var activeMode = Cell('design');\n      var availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: function () {\n          return isReadOnly$1(editor);\n        },\n        set: function (mode) {\n          return setMode(editor, availableModes.get(), activeMode, mode);\n        },\n        get: function () {\n          return activeMode.get();\n        },\n        register: function (mode, api) {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    var each$g = Tools.each, explode$3 = Tools.explode;\n    var keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    var parseShortcut = function (pattern) {\n      var key;\n      var shortcut = {};\n      each$g(explode$3(pattern.toLowerCase(), '+'), function (value) {\n        if (value in modifierNames) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      var id = [shortcut.keyCode];\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if (Env.mac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if (Env.mac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    var Shortcuts = function () {\n      function Shortcuts(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        var self = this;\n        editor.on('keyup keypress keydown', function (e) {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$g(self.shortcuts, function (shortcut) {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n                return true;\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      Shortcuts.prototype.add = function (pattern, desc, cmdFunc, scope) {\n        var self = this;\n        var func = self.normalizeCommandFunc(cmdFunc);\n        each$g(explode$3(Tools.trim(pattern)), function (pattern) {\n          var shortcut = self.createShortcut(pattern, desc, func, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      };\n      Shortcuts.prototype.remove = function (pattern) {\n        var shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.normalizeCommandFunc = function (cmdFunc) {\n        var self = this;\n        var cmd = cmdFunc;\n        if (typeof cmd === 'string') {\n          return function () {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          return function () {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        } else {\n          return cmd;\n        }\n      };\n      Shortcuts.prototype.createShortcut = function (pattern, desc, cmdFunc, scope) {\n        var shortcuts = Tools.map(explode$3(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      };\n      Shortcuts.prototype.hasModifier = function (e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      };\n      Shortcuts.prototype.isFunctionKey = function (e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      };\n      Shortcuts.prototype.matchShortcut = function (e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.executeShortcutAction = function (shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      };\n      return Shortcuts;\n    }();\n\n    var create$6 = function () {\n      var buttons = {};\n      var menuItems = {};\n      var popups = {};\n      var icons = {};\n      var contextMenus = {};\n      var contextToolbars = {};\n      var sidebars = {};\n      var add = function (collection, type) {\n        return function (name, spec) {\n          return collection[name.toLowerCase()] = __assign(__assign({}, spec), { type: type });\n        };\n      };\n      var addIcon = function (name, svgData) {\n        return icons[name.toLowerCase()] = svgData;\n      };\n      return {\n        addButton: add(buttons, 'button'),\n        addGroupToolbarButton: add(buttons, 'grouptoolbarbutton'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addIcon: addIcon,\n        getAll: function () {\n          return {\n            buttons: buttons,\n            menuItems: menuItems,\n            icons: icons,\n            popups: popups,\n            contextMenus: contextMenus,\n            contextToolbars: contextToolbars,\n            sidebars: sidebars\n          };\n        }\n      };\n    };\n\n    var registry = function () {\n      var bridge = create$6();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addGroupToolbarButton: bridge.addGroupToolbarButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        getAll: bridge.getAll\n      };\n    };\n\n    var each$h = Tools.each, trim$4 = Tools.trim;\n    var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n    var DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    var URI = function () {\n      function URI(url, settings) {\n        url = trim$4(url);\n        this.settings = settings || {};\n        var baseUri = this.settings.base_uri;\n        var self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        var isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          var baseUrl = this.settings.base_uri ? this.settings.base_uri.path : new URI(document.location.href).directory;\n          if (this.settings.base_uri && this.settings.base_uri.protocol == '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            var match = /([^#?]*)([#?]?.*)/.exec(url);\n            url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        var urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        each$h(queryParts, function (v, i) {\n          var part = urlMatch[i];\n          if (part) {\n            part = part.replace(/\\(mce_at\\)/g, '@@');\n          }\n          self[v] = part;\n        });\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      URI.parseDataUri = function (uri) {\n        var type;\n        var uriComponents = decodeURIComponent(uri).split(',');\n        var matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type: type,\n          data: uriComponents[1]\n        };\n      };\n      URI.getDocumentBaseUrl = function (loc) {\n        var baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = loc.href;\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      };\n      URI.prototype.setPath = function (path) {\n        var pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        this.path = pathMatch[0];\n        this.directory = pathMatch[1];\n        this.file = pathMatch[2];\n        this.source = '';\n        this.getURI();\n      };\n      URI.prototype.toRelative = function (uri) {\n        var output;\n        if (uri === './') {\n          return uri;\n        }\n        var relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        var tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      };\n      URI.prototype.toAbsolute = function (uri, noHost) {\n        var absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      };\n      URI.prototype.isSameOrigin = function (uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          var defaultPort = DEFAULT_PORTS[this.protocol];\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      };\n      URI.prototype.toRelPath = function (base, path) {\n        var breakPoint = 0, out = '', i, l;\n        var normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        var items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      };\n      URI.prototype.toAbsPath = function (base, path) {\n        var i, nb = 0, o = [], outPath;\n        var tr = /\\/$/.test(path) ? '/' : '';\n        var normalizedBase = base.split('/');\n        var normalizedPath = path.split('/');\n        each$h(normalizedBase, function (k) {\n          if (k) {\n            o.push(k);\n          }\n        });\n        normalizedBase = o;\n        for (i = normalizedPath.length - 1, o = []; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          o.push(normalizedPath[i]);\n        }\n        i = normalizedBase.length - nb;\n        if (i <= 0) {\n          outPath = reverse(o).join('/');\n        } else {\n          outPath = normalizedBase.slice(0, i).join('/') + '/' + reverse(o).join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      };\n      URI.prototype.getURI = function (noProtoHost) {\n        if (noProtoHost === void 0) {\n          noProtoHost = false;\n        }\n        var s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      };\n      return URI;\n    }();\n\n    var DOM$9 = DOMUtils.DOM;\n    var extend$3 = Tools.extend, each$i = Tools.each;\n    var resolve$3 = Tools.resolve;\n    var ie$1 = Env.ie;\n    var Editor = function () {\n      function Editor(id, settings, editorManager) {\n        var _this = this;\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend$3(this, EditorObservable);\n        this.settings = getEditorSettings(this, id, this.documentBaseUrl, editorManager.defaultSettings, settings);\n        if (this.settings.suffix) {\n          editorManager.suffix = this.settings.suffix;\n        }\n        this.suffix = editorManager.suffix;\n        if (this.settings.base_url) {\n          editorManager._setBaseUrl(this.settings.base_url);\n        }\n        this.baseUri = editorManager.baseURI;\n        if (this.settings.referrer_policy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy);\n          DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy);\n        }\n        AddOnManager.languageLoad = this.settings.language_load;\n        AddOnManager.baseURL = editorManager.baseURL;\n        this.id = id;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(this.settings.document_base_url, { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = !!this.settings.inline;\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        if (this.settings.cache_suffix) {\n          Env.cacheSuffix = this.settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = {\n          registry: registry(),\n          styleSheetLoader: undefined,\n          show: noop,\n          hide: noop,\n          enable: noop,\n          disable: noop,\n          isDisabled: never\n        };\n        var self = this;\n        var modeInstance = create$5(self);\n        this.mode = modeInstance;\n        this.setMode = modeInstance.set;\n        editorManager.fire('SetupEditor', { editor: this });\n        this.execCallback('setup', this);\n        this.$ = DomQuery.overrideDefaults(function () {\n          return {\n            context: _this.inline ? _this.getBody() : _this.getDoc(),\n            element: _this.getBody()\n          };\n        });\n      }\n      Editor.prototype.render = function () {\n        render(this);\n      };\n      Editor.prototype.focus = function (skipFocus) {\n        focus$1(this, skipFocus);\n      };\n      Editor.prototype.hasFocus = function () {\n        return hasFocus$1(this);\n      };\n      Editor.prototype.execCallback = function (name) {\n        var x = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          x[_i - 1] = arguments[_i];\n        }\n        var self = this;\n        var callback = self.settings[name], scope;\n        if (!callback) {\n          return;\n        }\n        if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n          callback = scope.func;\n          scope = scope.scope;\n        }\n        if (typeof callback === 'string') {\n          scope = callback.replace(/\\.\\w+$/, '');\n          scope = scope ? resolve$3(scope) : 0;\n          callback = resolve$3(callback);\n          self.callbackLookup = self.callbackLookup || {};\n          self.callbackLookup[name] = {\n            func: callback,\n            scope: scope\n          };\n        }\n        return callback.apply(scope || self, x);\n      };\n      Editor.prototype.translate = function (text) {\n        return I18n.translate(text);\n      };\n      Editor.prototype.getParam = function (name, defaultVal, type) {\n        return getParam(this, name, defaultVal, type);\n      };\n      Editor.prototype.hasPlugin = function (name, loaded) {\n        var hasPlugin = contains(getPlugins(this).split(/[ ,]/), name);\n        if (hasPlugin) {\n          return loaded ? PluginManager.get(name) !== undefined : true;\n        } else {\n          return false;\n        }\n      };\n      Editor.prototype.nodeChanged = function (args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      };\n      Editor.prototype.addCommand = function (name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      };\n      Editor.prototype.addQueryStateHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      };\n      Editor.prototype.addQueryValueHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      };\n      Editor.prototype.addShortcut = function (pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      };\n      Editor.prototype.execCommand = function (cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      };\n      Editor.prototype.queryCommandState = function (cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      };\n      Editor.prototype.queryCommandValue = function (cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      };\n      Editor.prototype.queryCommandSupported = function (cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      };\n      Editor.prototype.show = function () {\n        var self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$9.show(self.getContainer());\n            DOM$9.hide(self.id);\n          }\n          self.load();\n          self.fire('show');\n        }\n      };\n      Editor.prototype.hide = function () {\n        var self = this, doc = self.getDoc();\n        if (!self.hidden) {\n          if (ie$1 && doc && !self.inline) {\n            doc.execCommand('SelectAll');\n          }\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$9.hide(self.getContainer());\n            DOM$9.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.fire('hide');\n        }\n      };\n      Editor.prototype.isHidden = function () {\n        return !!this.hidden;\n      };\n      Editor.prototype.setProgressState = function (state, time) {\n        this.fire('ProgressState', {\n          state: state,\n          time: time\n        });\n      };\n      Editor.prototype.load = function (args) {\n        var self = this;\n        var elm = self.getElement(), html;\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          args = args || {};\n          args.load = true;\n          var value = isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          html = self.setContent(value, args);\n          args.element = elm;\n          if (!args.no_events) {\n            self.fire('LoadContent', args);\n          }\n          args.element = elm = null;\n          return html;\n        }\n      };\n      Editor.prototype.save = function (args) {\n        var self = this;\n        var elm = self.getElement(), html, form;\n        if (!elm || !self.initialized || self.removed) {\n          return;\n        }\n        args = args || {};\n        args.save = true;\n        args.element = elm;\n        html = args.content = self.getContent(args);\n        if (!args.no_events) {\n          self.fire('SaveContent', args);\n        }\n        if (args.format === 'raw') {\n          self.fire('RawSaveContent', args);\n        }\n        html = args.content;\n        if (!isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          if (form = DOM$9.getParent(self.id, 'form')) {\n            each$i(form.elements, function (elm) {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        args.element = elm = null;\n        if (args.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      };\n      Editor.prototype.setContent = function (content, args) {\n        return setContent$2(this, content, args);\n      };\n      Editor.prototype.getContent = function (args) {\n        return getContent$2(this, args);\n      };\n      Editor.prototype.insertContent = function (content, args) {\n        if (args) {\n          content = extend$3({ content: content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      };\n      Editor.prototype.resetContent = function (initialContent) {\n        if (initialContent === undefined) {\n          setContent$2(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent$2(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      };\n      Editor.prototype.isDirty = function () {\n        return !this.isNotDirty;\n      };\n      Editor.prototype.setDirty = function (state) {\n        var oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.fire('dirty');\n        }\n      };\n      Editor.prototype.getContainer = function () {\n        var self = this;\n        if (!self.container) {\n          self.container = DOM$9.get(self.editorContainer || self.id + '_parent');\n        }\n        return self.container;\n      };\n      Editor.prototype.getContentAreaContainer = function () {\n        return this.contentAreaContainer;\n      };\n      Editor.prototype.getElement = function () {\n        if (!this.targetElm) {\n          this.targetElm = DOM$9.get(this.id);\n        }\n        return this.targetElm;\n      };\n      Editor.prototype.getWin = function () {\n        var self = this;\n        var elm;\n        if (!self.contentWindow) {\n          elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      };\n      Editor.prototype.getDoc = function () {\n        var self = this;\n        var win;\n        if (!self.contentDocument) {\n          win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      };\n      Editor.prototype.getBody = function () {\n        var doc = this.getDoc();\n        return this.bodyElement || (doc ? doc.body : null);\n      };\n      Editor.prototype.convertURL = function (url, name, elm) {\n        var self = this, settings = self.settings;\n        if (settings.urlconverter_callback) {\n          return self.execCallback('urlconverter_callback', url, elm, true, name);\n        }\n        if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (settings.relative_urls) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n        return url;\n      };\n      Editor.prototype.addVisual = function (elm) {\n        addVisual$1(this, elm);\n      };\n      Editor.prototype.remove = function () {\n        remove$7(this);\n      };\n      Editor.prototype.destroy = function (automatic) {\n        destroy(this, automatic);\n      };\n      Editor.prototype.uploadImages = function (callback) {\n        return this.editorUpload.uploadImages(callback);\n      };\n      Editor.prototype._scanForImages = function () {\n        return this.editorUpload.scanForImages();\n      };\n      Editor.prototype.addButton = function () {\n        throw new Error('editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead');\n      };\n      Editor.prototype.addSidebar = function () {\n        throw new Error('editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead');\n      };\n      Editor.prototype.addMenuItem = function () {\n        throw new Error('editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead');\n      };\n      Editor.prototype.addContextToolbar = function () {\n        throw new Error('editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead');\n      };\n      return Editor;\n    }();\n\n    var DOM$a = DOMUtils.DOM;\n    var explode$4 = Tools.explode, each$j = Tools.each, extend$4 = Tools.extend;\n    var instanceCounter = 0, boundGlobalEvents = false;\n    var beforeUnloadDelegate;\n    var legacyEditors = [];\n    var editors = [];\n    var isValidLegacyKey = function (id) {\n      return id !== 'length';\n    };\n    var globalEventDelegate = function (e) {\n      var type = e.type;\n      each$j(EditorManager.get(), function (editor) {\n        switch (type) {\n        case 'scroll':\n          editor.fire('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.fire('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    var toggleGlobalEvents = function (state) {\n      if (state !== boundGlobalEvents) {\n        if (state) {\n          DomQuery(window).on('resize scroll', globalEventDelegate);\n        } else {\n          DomQuery(window).off('resize scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    var removeEditorFromList = function (targetEditor) {\n      var oldEditors = editors;\n      delete legacyEditors[targetEditor.id];\n      for (var i = 0; i < legacyEditors.length; i++) {\n        if (legacyEditors[i] === targetEditor) {\n          legacyEditors.splice(i, 1);\n          break;\n        }\n      }\n      editors = filter(editors, function (editor) {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    var purgeDestroyedEditor = function (editor) {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n        editor = null;\n      }\n      return editor;\n    };\n    var isQuirksMode = document.compatMode !== 'CSS1Compat';\n    var EditorManager = __assign(__assign({}, Observable), {\n      baseURI: null,\n      baseURL: null,\n      defaultSettings: {},\n      documentBaseURL: null,\n      suffix: null,\n      $: DomQuery,\n      majorVersion: '5',\n      minorVersion: '8.0',\n      releaseDate: '2021-05-06',\n      editors: legacyEditors,\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      settings: {},\n      setup: function () {\n        var self = this;\n        var baseURL, documentBaseURL, suffix = '';\n        documentBaseURL = URI.getDocumentBaseUrl(document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        var preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          var scripts = document.getElementsByTagName('script');\n          for (var i = 0; i < scripts.length; i++) {\n            var src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            var srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && document.currentScript) {\n            var src = document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        setup$2(self);\n      },\n      overrideDefaults: function (defaultSettings) {\n        var baseUrl = defaultSettings.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        var suffix = defaultSettings.suffix;\n        if (defaultSettings.suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultSettings = defaultSettings;\n        var pluginBaseUrls = defaultSettings.plugin_base_urls;\n        if (pluginBaseUrls !== undefined) {\n          each$1(pluginBaseUrls, function (pluginBaseUrl, pluginName) {\n            AddOnManager.PluginManager.urls[pluginName] = pluginBaseUrl;\n          });\n        }\n      },\n      init: function (settings) {\n        var self = this;\n        var result;\n        var invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        var isInvalidInlineTarget = function (settings, elm) {\n          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        };\n        var createId = function (elm) {\n          var id = elm.id;\n          if (!id) {\n            id = get$1(elm, 'name').filter(function (name) {\n              return !DOM$a.get(name);\n            }).getOrThunk(DOM$a.uniqueId);\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        var execCallback = function (name) {\n          var callback = settings[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, []);\n        };\n        var hasClass = function (elm, className) {\n          return className.constructor === RegExp ? className.test(elm.className) : DOM$a.hasClass(elm, className);\n        };\n        var findTargets = function (settings) {\n          var targets = [];\n          if (Env.browser.isIE() && Env.browser.version.major < 11) {\n            initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n            return [];\n          } else if (isQuirksMode) {\n            initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          }\n          if (settings.types) {\n            each$j(settings.types, function (type) {\n              targets = targets.concat(DOM$a.select(type.selector));\n            });\n            return targets;\n          } else if (settings.selector) {\n            return DOM$a.select(settings.selector);\n          } else if (settings.target) {\n            return [settings.target];\n          }\n          switch (settings.mode) {\n          case 'exact':\n            var l = settings.elements || '';\n            if (l.length > 0) {\n              each$j(explode$4(l), function (id) {\n                var elm = DOM$a.get(id);\n                if (elm) {\n                  targets.push(elm);\n                } else {\n                  each$j(document.forms, function (f) {\n                    each$j(f.elements, function (e) {\n                      if (e.name === id) {\n                        id = 'mce_editor_' + instanceCounter++;\n                        DOM$a.setAttrib(e, 'id', id);\n                        targets.push(e);\n                      }\n                    });\n                  });\n                }\n              });\n            }\n            break;\n          case 'textareas':\n          case 'specific_textareas':\n            each$j(DOM$a.select('textarea'), function (elm) {\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n                return;\n              }\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n                targets.push(elm);\n              }\n            });\n            break;\n          }\n          return targets;\n        };\n        var provideResults = function (editors) {\n          result = editors;\n        };\n        var initEditors = function () {\n          var initCount = 0;\n          var editors = [];\n          var targets;\n          var createEditor = function (id, settings, targetElm) {\n            var editor = new Editor(id, settings, self);\n            editors.push(editor);\n            editor.on('init', function () {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM$a.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = DomQuery.unique(findTargets(settings));\n          if (settings.types) {\n            each$j(settings.types, function (type) {\n              Tools.each(targets, function (elm) {\n                if (DOM$a.is(elm, type.selector)) {\n                  createEditor(createId(elm), extend$4({}, settings, type), elm);\n                  return false;\n                }\n                return true;\n              });\n            });\n            return;\n          }\n          Tools.each(targets, function (elm) {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, function (elm) {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each$j(targets, function (elm) {\n              if (isInvalidInlineTarget(settings, elm)) {\n                initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), settings, elm);\n              }\n            });\n          }\n        };\n        self.settings = settings;\n        DOM$a.bind(window, 'ready', initEditors);\n        return new promiseObj(function (resolve) {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = function (editors) {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get: function (id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString(id)) {\n          return find(editors, function (editor) {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add: function (editor) {\n        var self = this;\n        var existingEditor = legacyEditors[editor.id];\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (self.get(editor.id) === null) {\n          if (isValidLegacyKey(editor.id)) {\n            legacyEditors[editor.id] = editor;\n          }\n          legacyEditors.push(editor);\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.fire('AddEditor', { editor: editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = function (e) {\n            var event = self.fire('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor: function (id, settings) {\n        return this.add(new Editor(id, settings, this));\n      },\n      remove: function (selector) {\n        var self = this;\n        var i, editor;\n        if (!selector) {\n          for (i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString(selector)) {\n          each$j(DOM$a.select(selector), function (elm) {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.fire('RemoveEditor', { editor: editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand: function (cmd, ui, value) {\n        var self = this, editor = self.get(value);\n        switch (cmd) {\n        case 'mceAddEditor':\n          if (!self.get(value)) {\n            new Editor(value, self.settings, self).render();\n          }\n          return true;\n        case 'mceRemoveEditor':\n          if (editor) {\n            editor.remove();\n          }\n          return true;\n        case 'mceToggleEditor':\n          if (!editor) {\n            self.execCommand('mceAddEditor', false, value);\n            return true;\n          }\n          if (editor.isHidden()) {\n            editor.show();\n          } else {\n            editor.hide();\n          }\n          return true;\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: function () {\n        each$j(editors, function (editor) {\n          editor.save();\n        });\n      },\n      addI18n: function (code, items) {\n        I18n.add(code, items);\n      },\n      translate: function (text) {\n        return I18n.translate(text);\n      },\n      setActive: function (editor) {\n        var activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.fire('deactivate', { relatedTarget: editor });\n          }\n          editor.fire('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl: function (baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    });\n    EditorManager.setup();\n\n    var min = Math.min, max = Math.max, round$1 = Math.round;\n    var relativePosition = function (rect, targetRect, rel) {\n      var x = targetRect.x;\n      var y = targetRect.y;\n      var w = rect.w;\n      var h = rect.h;\n      var targetW = targetRect.w;\n      var targetH = targetRect.h;\n      var relChars = (rel || '').split('');\n      if (relChars[0] === 'b') {\n        y += targetH;\n      }\n      if (relChars[1] === 'r') {\n        x += targetW;\n      }\n      if (relChars[0] === 'c') {\n        y += round$1(targetH / 2);\n      }\n      if (relChars[1] === 'c') {\n        x += round$1(targetW / 2);\n      }\n      if (relChars[3] === 'b') {\n        y -= h;\n      }\n      if (relChars[4] === 'r') {\n        x -= w;\n      }\n      if (relChars[3] === 'c') {\n        y -= round$1(h / 2);\n      }\n      if (relChars[4] === 'c') {\n        x -= round$1(w / 2);\n      }\n      return create$7(x, y, w, h);\n    };\n    var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\n      var pos, i;\n      for (i = 0; i < rels.length; i++) {\n        pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    var inflate = function (rect, w, h) {\n      return create$7(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    var intersect = function (rect, cropRect) {\n      var x1 = max(rect.x, cropRect.x);\n      var y1 = max(rect.y, cropRect.y);\n      var x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n      var y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$7(x1, y1, x2 - x1, y2 - y1);\n    };\n    var clamp$1 = function (rect, clampRect, fixedSize) {\n      var x1 = rect.x;\n      var y1 = rect.y;\n      var x2 = rect.x + rect.w;\n      var y2 = rect.y + rect.h;\n      var cx2 = clampRect.x + clampRect.w;\n      var cy2 = clampRect.y + clampRect.h;\n      var underflowX1 = max(0, clampRect.x - x1);\n      var underflowY1 = max(0, clampRect.y - y1);\n      var overflowX2 = max(0, x2 - cx2);\n      var overflowY2 = max(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$7(x1, y1, x2 - x1, y2 - y1);\n    };\n    var create$7 = function (x, y, w, h) {\n      return {\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      };\n    };\n    var fromClientRect = function (clientRect) {\n      return create$7(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    var Rect = {\n      inflate: inflate,\n      relativePosition: relativePosition,\n      findBestRelativePosition: findBestRelativePosition,\n      intersect: intersect,\n      clamp: clamp$1,\n      create: create$7,\n      fromClientRect: fromClientRect\n    };\n\n    var awaiter = function (resolveCb, rejectCb, timeout) {\n      if (timeout === void 0) {\n        timeout = 1000;\n      }\n      var done = false;\n      var timer = null;\n      var complete = function (completer) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          if (!done) {\n            done = true;\n            if (timer !== null) {\n              clearTimeout(timer);\n              timer = null;\n            }\n            completer.apply(null, args);\n          }\n        };\n      };\n      var resolve = complete(resolveCb);\n      var reject = complete(rejectCb);\n      var start = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!done && timer === null) {\n          timer = setTimeout(function () {\n            return reject.apply(null, args);\n          }, timeout);\n        }\n      };\n      return {\n        start: start,\n        resolve: resolve,\n        reject: reject\n      };\n    };\n    var create$8 = function () {\n      var tasks = {};\n      var resultFns = {};\n      var load = function (id, url) {\n        var loadErrMsg = 'Script at URL \"' + url + '\" failed to load';\n        var runErrMsg = 'Script at URL \"' + url + '\" did not call `tinymce.Resource.add(\\'' + id + '\\', data)` within 1 second';\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          var task = new promiseObj(function (resolve, reject) {\n            var waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url, function () {\n              return waiter.start(runErrMsg);\n            }, function () {\n              return waiter.reject(loadErrMsg);\n            });\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      var add = function (id, data) {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = promiseObj.resolve(data);\n      };\n      return {\n        load: load,\n        add: add\n      };\n    };\n    var Resource = create$8();\n\n    var each$k = Tools.each, extend$5 = Tools.extend;\n    var extendClass, initializing;\n    var Class = function () {\n    };\n    Class.extend = extendClass = function (props) {\n      var self = this;\n      var _super = self.prototype;\n      var Class = function () {\n        var i, mixins, mixin;\n        var self = this;\n        if (!initializing) {\n          if (self.init) {\n            self.init.apply(self, arguments);\n          }\n          mixins = self.Mixins;\n          if (mixins) {\n            i = mixins.length;\n            while (i--) {\n              mixin = mixins[i];\n              if (mixin.init) {\n                mixin.init.apply(self, arguments);\n              }\n            }\n          }\n        }\n      };\n      var dummy = function () {\n        return this;\n      };\n      var createMethod = function (name, fn) {\n        return function () {\n          var self = this;\n          var tmp = self._super;\n          self._super = _super[name];\n          var ret = fn.apply(self, arguments);\n          self._super = tmp;\n          return ret;\n        };\n      };\n      initializing = true;\n      var prototype = new self();\n      initializing = false;\n      if (props.Mixins) {\n        each$k(props.Mixins, function (mixin) {\n          for (var name_1 in mixin) {\n            if (name_1 !== 'init') {\n              props[name_1] = mixin[name_1];\n            }\n          }\n        });\n        if (_super.Mixins) {\n          props.Mixins = _super.Mixins.concat(props.Mixins);\n        }\n      }\n      if (props.Methods) {\n        each$k(props.Methods.split(','), function (name) {\n          props[name] = dummy;\n        });\n      }\n      if (props.Properties) {\n        each$k(props.Properties.split(','), function (name) {\n          var fieldName = '_' + name;\n          props[name] = function (value) {\n            var self = this;\n            if (value !== undefined) {\n              self[fieldName] = value;\n              return self;\n            }\n            return self[fieldName];\n          };\n        });\n      }\n      if (props.Statics) {\n        each$k(props.Statics, function (func, name) {\n          Class[name] = func;\n        });\n      }\n      if (props.Defaults && _super.Defaults) {\n        props.Defaults = extend$5({}, _super.Defaults, props.Defaults);\n      }\n      each$1(props, function (member, name) {\n        if (typeof member === 'function' && _super[name]) {\n          prototype[name] = createMethod(name, member);\n        } else {\n          prototype[name] = member;\n        }\n      });\n      Class.prototype = prototype;\n      Class.constructor = Class;\n      Class.extend = extendClass;\n      return Class;\n    };\n\n    var min$1 = Math.min, max$1 = Math.max, round$2 = Math.round;\n    var Color = function (value) {\n      var self = {};\n      var r = 0, g = 0, b = 0;\n      var rgb2hsv = function (r, g, b) {\n        var h, s, v;\n        h = 0;\n        s = 0;\n        v = 0;\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var minRGB = min$1(r, min$1(g, b));\n        var maxRGB = max$1(r, max$1(g, b));\n        if (minRGB === maxRGB) {\n          v = minRGB;\n          return {\n            h: 0,\n            s: 0,\n            v: v * 100\n          };\n        }\n        var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n        h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n        h = 60 * (h - d / (maxRGB - minRGB));\n        s = (maxRGB - minRGB) / maxRGB;\n        v = maxRGB;\n        return {\n          h: round$2(h),\n          s: round$2(s * 100),\n          v: round$2(v * 100)\n        };\n      };\n      var hsvToRgb = function (hue, saturation, brightness) {\n        hue = (parseInt(hue, 10) || 0) % 360;\n        saturation = parseInt(saturation, 10) / 100;\n        brightness = parseInt(brightness, 10) / 100;\n        saturation = max$1(0, min$1(saturation, 1));\n        brightness = max$1(0, min$1(brightness, 1));\n        if (saturation === 0) {\n          r = g = b = round$2(255 * brightness);\n          return;\n        }\n        var side = hue / 60;\n        var chroma = brightness * saturation;\n        var x = chroma * (1 - Math.abs(side % 2 - 1));\n        var match = brightness - chroma;\n        switch (Math.floor(side)) {\n        case 0:\n          r = chroma;\n          g = x;\n          b = 0;\n          break;\n        case 1:\n          r = x;\n          g = chroma;\n          b = 0;\n          break;\n        case 2:\n          r = 0;\n          g = chroma;\n          b = x;\n          break;\n        case 3:\n          r = 0;\n          g = x;\n          b = chroma;\n          break;\n        case 4:\n          r = x;\n          g = 0;\n          b = chroma;\n          break;\n        case 5:\n          r = chroma;\n          g = 0;\n          b = x;\n          break;\n        default:\n          r = g = b = 0;\n        }\n        r = round$2(255 * (r + match));\n        g = round$2(255 * (g + match));\n        b = round$2(255 * (b + match));\n      };\n      var toHex = function () {\n        var hex = function (val) {\n          val = parseInt(val, 10).toString(16);\n          return val.length > 1 ? val : '0' + val;\n        };\n        return '#' + hex(r) + hex(g) + hex(b);\n      };\n      var toRgb = function () {\n        return {\n          r: r,\n          g: g,\n          b: b\n        };\n      };\n      var toHsv = function () {\n        return rgb2hsv(r, g, b);\n      };\n      var parse = function (value) {\n        var matches;\n        if (typeof value === 'object') {\n          if ('r' in value) {\n            r = value.r;\n            g = value.g;\n            b = value.b;\n          } else if ('v' in value) {\n            hsvToRgb(value.h, value.s, value.v);\n          }\n        } else {\n          if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n            r = parseInt(matches[1], 10);\n            g = parseInt(matches[2], 10);\n            b = parseInt(matches[3], 10);\n          } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n            r = parseInt(matches[1], 16);\n            g = parseInt(matches[2], 16);\n            b = parseInt(matches[3], 16);\n          } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n            r = parseInt(matches[1] + matches[1], 16);\n            g = parseInt(matches[2] + matches[2], 16);\n            b = parseInt(matches[3] + matches[3], 16);\n          }\n        }\n        r = r < 0 ? 0 : r > 255 ? 255 : r;\n        g = g < 0 ? 0 : g > 255 ? 255 : g;\n        b = b < 0 ? 0 : b > 255 ? 255 : b;\n        return self;\n      };\n      if (value) {\n        parse(value);\n      }\n      self.toRgb = toRgb;\n      self.toHsv = toHsv;\n      self.toHex = toHex;\n      self.parse = parse;\n      return self;\n    };\n\n    var serialize = function (obj) {\n      var data = JSON.stringify(obj);\n      if (!isString(data)) {\n        return data;\n      }\n      return data.replace(/[\\u0080-\\uFFFF]/g, function (match) {\n        var hexCode = match.charCodeAt(0).toString(16);\n        return '\\\\u' + '0000'.substring(hexCode.length) + hexCode;\n      });\n    };\n    var JSONUtils = {\n      serialize: serialize,\n      parse: function (text) {\n        try {\n          return JSON.parse(text);\n        } catch (ex) {\n        }\n      }\n    };\n\n    var JSONP = {\n      callbacks: {},\n      count: 0,\n      send: function (settings) {\n        var self = this, dom = DOMUtils.DOM, count = settings.count !== undefined ? settings.count : self.count;\n        var id = 'tinymce_jsonp_' + count;\n        self.callbacks[count] = function (json) {\n          dom.remove(id);\n          delete self.callbacks[count];\n          settings.callback(json);\n        };\n        dom.add(dom.doc.body, 'script', {\n          id: id,\n          src: settings.url,\n          type: 'text/javascript'\n        });\n        self.count++;\n      }\n    };\n\n    var XHR = __assign(__assign({}, Observable), {\n      send: function (settings) {\n        var xhr, count = 0;\n        var ready = function () {\n          if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n            if (settings.success && count < 10000 && xhr.status === 200) {\n              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n            } else if (settings.error) {\n              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n            }\n            xhr = null;\n          } else {\n            Delay.setTimeout(ready, 10);\n          }\n        };\n        settings.scope = settings.scope || this;\n        settings.success_scope = settings.success_scope || settings.scope;\n        settings.error_scope = settings.error_scope || settings.scope;\n        settings.async = settings.async !== false;\n        settings.data = settings.data || '';\n        XHR.fire('beforeInitialize', { settings: settings });\n        xhr = new XMLHttpRequest();\n        if (xhr.overrideMimeType) {\n          xhr.overrideMimeType(settings.content_type);\n        }\n        xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n        if (settings.crossDomain) {\n          xhr.withCredentials = true;\n        }\n        if (settings.content_type) {\n          xhr.setRequestHeader('Content-Type', settings.content_type);\n        }\n        if (settings.requestheaders) {\n          Tools.each(settings.requestheaders, function (header) {\n            xhr.setRequestHeader(header.key, header.value);\n          });\n        }\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        xhr = XHR.fire('beforeSend', {\n          xhr: xhr,\n          settings: settings\n        }).xhr;\n        xhr.send(settings.data);\n        if (!settings.async) {\n          return ready();\n        }\n        Delay.setTimeout(ready, 10);\n      }\n    });\n\n    var extend$6 = Tools.extend;\n    var JSONRequest = function () {\n      function JSONRequest(settings) {\n        this.settings = extend$6({}, settings);\n        this.count = 0;\n      }\n      JSONRequest.sendRPC = function (o) {\n        return new JSONRequest().send(o);\n      };\n      JSONRequest.prototype.send = function (args) {\n        var ecb = args.error, scb = args.success;\n        var xhrArgs = extend$6(this.settings, args);\n        xhrArgs.success = function (c, x) {\n          c = JSONUtils.parse(c);\n          if (typeof c === 'undefined') {\n            c = { error: 'JSON Parse error.' };\n          }\n          if (c.error) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, c.error, x);\n          } else {\n            scb.call(xhrArgs.success_scope || xhrArgs.scope, c.result);\n          }\n        };\n        xhrArgs.error = function (ty, x) {\n          if (ecb) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, ty, x);\n          }\n        };\n        xhrArgs.data = JSONUtils.serialize({\n          id: args.id || 'c' + this.count++,\n          method: args.method,\n          params: args.params\n        });\n        xhrArgs.content_type = 'application/json';\n        XHR.send(xhrArgs);\n      };\n      return JSONRequest;\n    }();\n\n    var create$9 = function () {\n      return function () {\n        var data = {};\n        var keys = [];\n        var storage = {\n          getItem: function (key) {\n            var item = data[key];\n            return item ? item : null;\n          },\n          setItem: function (key, value) {\n            keys.push(key);\n            data[key] = String(value);\n          },\n          key: function (index) {\n            return keys[index];\n          },\n          removeItem: function (key) {\n            keys = keys.filter(function (k) {\n              return k === key;\n            });\n            delete data[key];\n          },\n          clear: function () {\n            keys = [];\n            data = {};\n          },\n          length: 0\n        };\n        Object.defineProperty(storage, 'length', {\n          get: function () {\n            return keys.length;\n          },\n          configurable: false,\n          enumerable: false\n        });\n        return storage;\n      }();\n    };\n\n    var localStorage;\n    try {\n      var test = '__storage_test__';\n      localStorage = window.localStorage;\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      localStorage = create$9();\n    }\n    var LocalStorage = localStorage;\n\n    var publicApi = {\n      geom: { Rect: Rect },\n      util: {\n        Promise: promiseObj,\n        Delay: Delay,\n        Tools: Tools,\n        VK: VK,\n        URI: URI,\n        Class: Class,\n        EventDispatcher: EventDispatcher,\n        Observable: Observable,\n        I18n: I18n,\n        XHR: XHR,\n        JSON: JSONUtils,\n        JSONRequest: JSONRequest,\n        JSONP: JSONP,\n        LocalStorage: LocalStorage,\n        Color: Color,\n        ImageUploader: ImageUploader\n      },\n      dom: {\n        EventUtils: EventUtils,\n        Sizzle: Sizzle,\n        DomQuery: DomQuery,\n        TreeWalker: DomTreeWalker,\n        TextSeeker: TextSeeker,\n        DOMUtils: DOMUtils,\n        ScriptLoader: ScriptLoader,\n        RangeUtils: RangeUtils,\n        Serializer: DomSerializer,\n        StyleSheetLoader: StyleSheetLoader,\n        ControlSelection: ControlSelection,\n        BookmarkManager: BookmarkManager,\n        Selection: EditorSelection,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles: Styles,\n        Entities: Entities,\n        Node: AstNode,\n        Schema: Schema,\n        SaxParser: SaxParser,\n        DomParser: DomParser,\n        Writer: Writer,\n        Serializer: HtmlSerializer\n      },\n      Env: Env,\n      AddOnManager: AddOnManager,\n      Annotator: Annotator,\n      Formatter: Formatter,\n      UndoManager: UndoManager,\n      EditorCommands: EditorCommands,\n      WindowManager: WindowManager,\n      NotificationManager: NotificationManager,\n      EditorObservable: EditorObservable,\n      Shortcuts: Shortcuts,\n      Editor: Editor,\n      FocusManager: FocusManager,\n      EditorManager: EditorManager,\n      DOM: DOMUtils.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager: PluginManager,\n      ThemeManager: ThemeManager,\n      IconManager: IconManager,\n      Resource: Resource,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      create: Tools.create,\n      walk: Tools.walk,\n      createNS: Tools.createNS,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix,\n      isOpera: Env.opera,\n      isWebKit: Env.webkit,\n      isIE: Env.ie,\n      isGecko: Env.gecko,\n      isMac: Env.mac\n    };\n    var tinymce = Tools.extend(EditorManager, publicApi);\n\n    var exportToModuleLoaders = function (tinymce) {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    var exportToWindowGlobal = function (tinymce) {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce);\n    exportToModuleLoaders(tinymce);\n\n}());\n","import Swal, { SweetAlertIcon, SweetAlertInput, SweetAlertOptions, SweetAlertResult } from 'sweetalert2';\r\nimport 'jquery-toast-plugin';\r\n\r\nconst BootstrapSwal = Swal.mixin({\r\n    customClass: {\r\n        confirmButton: 'btn btn-success btn-lg m-1 pl-4 pr-4',\r\n        cancelButton: 'btn btn-danger btn-lg m-1'\r\n    },\r\n    buttonsStyling: false\r\n});\r\n\r\nexport class Alerts {\r\n\r\n    static log(message: string, type: 'message' | 'error' | 'warning' | 'info' = 'message') {\r\n        if (!document.body.classList.contains('dev-mode')) {\r\n            return;\r\n        }\r\n        switch (type) {\r\n            case 'error':\r\n                console.error(message);\r\n                break;\r\n            case 'message':\r\n                console.log(message);\r\n                break;\r\n           case 'warning':\r\n                console.warn(message);\r\n                break;\r\n           case 'info':\r\n                console.info(message);\r\n                break;\r\n      }\r\n    }\r\n\r\n    static error(message: string, title: string = null, hideAfter: number = null) {\r\n      \r\n            $.toast({\r\n                heading: title,\r\n                text: message,\r\n                icon: 'error',\r\n                position: 'bottom-left',\r\n                loader: false,\r\n                bgColor: '#d0100b',\r\n                textColor: 'white', \r\n                hideAfter: hideAfter\r\n            });\r\n\r\n    }\r\n\r\n    static warning(message: string, title: string = null, hideAfter: number = null) {\r\n      \r\n        $.toast({\r\n            heading: title,\r\n            text: message,\r\n            icon: 'error',\r\n            position: 'bottom-left',\r\n            loader: false,\r\n            bgColor: '#ef9007',\r\n            textColor: 'white',\r\n            hideAfter: hideAfter\r\n        });\r\n\r\n    }       \r\n\r\n    static message(message: string, title: string = null, hideAfter: number = null) {\r\n      \r\n        $.toast({\r\n            heading: title,\r\n            text: message,\r\n            icon: 'error',\r\n            position: 'bottom-left',\r\n            loader: false,\r\n            bgColor: '#222222',\r\n            textColor: 'white',\r\n            hideAfter: hideAfter\r\n        });\r\n\r\n    }     \r\n\r\n    static success(message: string, title: string = null, hideAfter: number = null) {\r\n      \r\n        $.toast({\r\n            heading: title,\r\n            text: message,\r\n            icon: 'error',\r\n            position: 'bottom-left',\r\n            loader: false,\r\n            bgColor: '#28a745',\r\n            textColor: 'white',\r\n            hideAfter: hideAfter\r\n        });\r\n\r\n    }   \r\n\r\n    static alert(message: string, title: string = null, icon: string = 'info', hideAfter: number = 10000) {\r\n\r\n        switch (icon) {\r\n            case 'error':\r\n                Alerts.error(message, title, hideAfter);\r\n                break;\r\n            case 'warning':\r\n                Alerts.warning(message, title, hideAfter);\r\n                break;\r\n            case 'info':\r\n                Alerts.message(message, title, hideAfter);\r\n                break;\r\n            case 'success':\r\n                Alerts.success(message, title, hideAfter);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    static sweetAlert(options: SweetAlertOptions, callback: (result: SweetAlertResult<any>) => void) {\r\n        BootstrapSwal.fire(options).then(function (result: any) {\r\n            callback(result);\r\n        });\r\n    }\r\n\r\n    static confirm(options: SweetAlertOptions, callback: (result: SweetAlertResult<any>) => void) {\r\n\r\n        let baseOptions: SweetAlertOptions = {\r\n            showCancelButton: true,\r\n            footer: '<span class=\"text-warning\"><i class=\"fa fa-exclamation-triangle\"></i> This cannot be undone.</span>',\r\n            title: 'Are you sure?',\r\n            html: 'Are you sure you want to do this?',\r\n            confirmButtonText: 'Ok', \r\n            cancelButtonText:'Cancel'\r\n        };\r\n\r\n        Alerts.sweetAlert({...baseOptions, ...options}, callback);\r\n    }\r\n\r\n    static prompt(options: SweetAlertOptions, callback: (result: SweetAlertResult<any>) => void) {\r\n\r\n        let baseOptions: SweetAlertOptions = {\r\n            input: 'text',\r\n            inputAttributes: {\r\n                autocapitalize: 'off'\r\n            },\r\n            showCancelButton: true,\r\n            icon: 'info',\r\n            footer: '<span class=\"text-warning\"><i class=\"fa fa-exclamation-triangle\"></i> This cannot be undone.</span>', \r\n            confirmButtonText: 'Ok', \r\n            cancelButtonText: 'Cancel'\r\n        };\r\n\r\n        Alerts.sweetAlert({...baseOptions, ...options}, callback);\r\n    }\r\n}","import Pickr from '@simonwep/pickr';\r\nimport '@simonwep/pickr';\r\n\r\nexport class ColorPicker {\r\n    constructor() {\r\n\r\n        let updateColorFieldValue = function (color: Pickr.HSVaColor, instance: any) {\r\n            let elemId = $(instance._root.button).parent().data('target');\r\n            $(instance._root.button).css({ 'background-color': color.toHEXA().toString() });\r\n            let colorHex = instance.getColor().toHEXA();\r\n            var result = \"\";\r\n            for (let i = colorHex.length - 1; i >= 0; i--) {\r\n                result = colorHex[i] + result;\r\n            }\r\n            $(elemId).val('#' + result);\r\n            $(elemId).change();\r\n        };\r\n\r\n        var pickrs = [];\r\n        // Simple example, see optional options for more configuration.\r\n        $('.color-picker').each(function (this: HTMLElement, index, elem) {\r\n\r\n            let lockOpacity = true;\r\n            if ($(this).data('opacity') == 'true') {\r\n                lockOpacity = false;\r\n            }\r\n\r\n            let pickr = Pickr.create({\r\n                el: elem.children[0] as HTMLElement,\r\n                appClass: 'custom-class',\r\n                theme: 'monolith',\r\n                useAsButton: true,\r\n                default: $(this).data('default') || 'none',\r\n                lockOpacity: lockOpacity,\r\n                defaultRepresentation: 'HEXA',\r\n                position: 'bottom-end',\r\n                components: {\r\n                    opacity: true,\r\n                    hue: true,\r\n\r\n                    interaction: {\r\n                        hex: false,\r\n                        rgba: false,\r\n                        hsva: false,\r\n                        input: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            })\r\n                .on('init', (instance: any) => {\r\n                    let elemId = $(instance._root.button).parent().data('target');\r\n                    let value = $(elemId).val();\r\n                    $(elemId).on('click', $.proxy(function () {\r\n                        this.show();\r\n                    }, instance));\r\n                    if (value) {\r\n                        instance.setColor(value);\r\n                        updateColorFieldValue(instance.getColor(), instance);\r\n                    }\r\n                })\r\n                .on('clear', (instance: any) => {\r\n                    let elemId = $(instance._root.button).parent().data('target');\r\n                    instance.setColor('transparent');\r\n                    updateColorFieldValue(instance.getColor(), instance);\r\n                    $(elemId).val('');\r\n                    $(elemId).change();\r\n                })\r\n                .on('change', updateColorFieldValue);\r\n\r\n            pickrs.push(pickr);\r\n        });\r\n\r\n    }\r\n}","import { Alerts } from \"./Alerts\";\r\nimport { Helpers } from \"./Helpers\";\r\nimport { Inline } from \"./Inline\";\r\n\r\ndeclare global {\r\n    interface HTMLElement {\r\n        hoodDataList: DataList;\r\n    }\r\n}\r\n\r\nexport interface DataListOptions {\r\n\r\n    /**\r\n     * Called before the data is fetched.\r\n     */\r\n    onLoad?: (sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called before the fetched HTML is rendered to the list. Must return the data back to datalist to render.\r\n     */\r\n    onRender?: (html: string, sender?: HTMLElement) => string;\r\n\r\n    /**\r\n     * Called when loading and rendering is complete.\r\n     */\r\n    onComplete?: (html: string, sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called when an error occurs.\r\n     */\r\n    onError?: (jqXHR: any, textStatus: any, errorThrown: any) => void;\r\n\r\n}\r\n\r\n/**\r\n  * Attach a data list feed to an HTML element. The element must have a data-url attribute to connect to a feed.\r\n  */\r\n\r\nexport class DataList {\r\n    element: HTMLElement;\r\n    options: DataListOptions;\r\n\r\n    /**\r\n      * @param element The datalist element. The element must have a data-url attribute to connect to a feed.\r\n      */\r\n    constructor(element: HTMLElement, options: DataListOptions) {\r\n\r\n        this.element = element;\r\n        this.element.hoodDataList = this;\r\n        if (typeof(element) == 'undefined' || element == null) {\r\n            Alerts.log('Could not DataList to element, element does not exist.', 'error');\r\n            return;\r\n        }\r\n\r\n        this.options = { ...this.options, ...options };\r\n\r\n        if ($(this.element).hasClass('query')) {\r\n            let pageUrl = $(this.element).data('url') + window.location.search;\r\n            $(this.element).attr('data-url', pageUrl);\r\n            $(this.element).data('url', pageUrl);\r\n        }\r\n\r\n        if (!$(this.element).hasClass('refresh-only')) {\r\n            var listUrl = document.createElement('a');\r\n            listUrl.href = $(this.element).data('url');\r\n            this.reload(new URL(listUrl.href));\r\n        }\r\n\r\n        $(this.element).on('click', '.pagination a, a.hood-inline-list-target', function (this: DataList, e: JQuery.ClickEvent) {\r\n\r\n            e.preventDefault();\r\n\r\n            var url = document.createElement('a');\r\n            url.href = (e.currentTarget as HTMLAnchorElement).href;\r\n\r\n            var listUrl = document.createElement('a');\r\n            listUrl.href = $(this.element).data('url');\r\n            listUrl.search = url.search;\r\n\r\n            this.reload(new URL(listUrl.href));\r\n\r\n        }.bind(this));\r\n\r\n        $('body').on('submit', `form.inline[data-target=\"#${this.element.id}\"]`, function (this: DataList, e: JQuery.ClickEvent) {\r\n\r\n            e.preventDefault();\r\n\r\n            let $form = $(e.currentTarget);\r\n\r\n            var listUrl = document.createElement('a');\r\n            listUrl.href = $(this.element).data('url');\r\n\r\n            listUrl.search = \"?\" + $form.serialize();\r\n            this.reload(new URL(listUrl.href));\r\n\r\n        }.bind(this));\r\n\r\n        //    $('body').on('submit', '.hood-inline-list form', function (e) {\r\n        //        e.preventDefault();\r\n        //        $.hood.Loader(true);\r\n        //        let $form = $(this);\r\n        //        let $list = $form.parents('.hood-inline-list');\r\n        //        var url = document.createElement('a');\r\n        //        url.href = $list.data('url');\r\n        //        url.search = \"?\" + $form.serialize();\r\n        //        $.hood.Inline.DataList.Reload($list, url);\r\n        //    });\r\n    }\r\n\r\n    reload(this: DataList, url: URL = null) {\r\n        if (url) {\r\n            if (history.pushState && $(this.element).hasClass('query')) {\r\n                let newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + (url.href.contains('?') ? \"?\" + url.href.substring(url.href.indexOf('?') + 1) : '');\r\n                window.history.pushState({ path: newurl }, '', newurl);\r\n            }\r\n            $(this.element).data('url', url);\r\n        }\r\n        Inline.load(this.element, { ...this.options });\r\n    }\r\n\r\n}\r\n","import Pickr from '@simonwep/pickr';\r\nimport tinymce, { Editor } from 'tinymce/tinymce';\r\nimport { Alerts, MediaModal, MediaObject, MediaService } from '../hood';\r\nimport { ModalController } from './Modal';\r\n\r\nexport declare interface EditorOptions {\r\n    linkClasses?: any;\r\n    imageClasses?: any;\r\n}\r\n\r\nexport class Editors {\r\n    options: EditorOptions = {\r\n        linkClasses: [\r\n            { title: 'None', value: '' },\r\n            { title: 'Button link', value: 'btn btn-default' },\r\n            { title: 'Theme coloured button link', value: 'btn btn-primary' },\r\n            { title: 'Popup image/video', value: 'colorbox-iframe' },\r\n            { title: 'Button popup link', value: 'btn btn-default colorbox-iframe' },\r\n            { title: 'Theme coloured button popup link', value: 'btn btn-primary colorbox-iframe' },\r\n            { title: 'Large link', value: 'font-lg' },\r\n            { title: 'Large button link', value: 'btn btn-default btn-lg' },\r\n            { title: 'Large theme coloured button link', value: 'btn btn-primary btn-lg' },\r\n            { title: 'Large popup image/video', value: 'font-lg colorbox-iframe' },\r\n            { title: 'Large Button popup link', value: 'btn btn-default btn-lg colorbox-iframe' },\r\n            { title: 'Theme coloured button popup link', value: 'btn btn-primary btn-lg colorbox-iframe' }\r\n        ],\r\n        imageClasses: [\r\n            { title: 'None', value: '' },\r\n            { title: 'Full Width', value: 'user-image full' },\r\n            { title: 'Left Aligned', value: 'user-image left' },\r\n            { title: 'Centered', value: 'user-image center' },\r\n            { title: 'Right Aligned', value: 'user-image right' },\r\n            { title: 'Inline with text, top aligned', value: 'user-image inline top' },\r\n            { title: 'Inline with text, middle aligned', value: 'user-image inline' },\r\n            { title: 'Inline with text, bottom aligned', value: 'user-image inline bottom' },\r\n            { title: 'Pulled Left', value: 'user-image pull-left' },\r\n            { title: 'Pulled Right', value: 'user-image pull-right' },\r\n        ]\r\n    }\r\n\r\n    constructor(options?: EditorOptions) {\r\n        this.options = { ...this.options, ...options };\r\n        this.richTextEditors();\r\n        this.colorPickers();\r\n    }\r\n\r\n    colorPickers() {\r\n        let updateColorFieldValue = function (color: any, eventSource: any, instance: any) {\r\n            let elemId = $(instance._root.button).parent().data('target');\r\n            $(instance._root.button).parent().css({ 'background-color': color.toHEXA().toString() });\r\n            let colorHex = instance.getColor().toHEXA();\r\n            var result = \"\";\r\n            for (let i = colorHex.length - 1; i >= 0; i--) {\r\n                result = colorHex[i] + result;\r\n            }\r\n            $(elemId).val('#' + result);\r\n            $(elemId).change();\r\n        };\r\n        var pickrs = [];\r\n        // Simple example, see optional options for more configuration.\r\n        $('.color-picker').each(function (index: number, elem: HTMLElement) {\r\n\r\n            let lockOpacity = true;\r\n            if ($(this).data('opacity') == 'true') {\r\n                lockOpacity = false;\r\n            }\r\n\r\n            let pickr = Pickr.create({\r\n                el: elem.children[0] as HTMLElement,\r\n                appClass: 'custom-class',\r\n                theme: 'monolith',\r\n                useAsButton: true,\r\n                default: $(this).data('default') || 'none',\r\n                lockOpacity: lockOpacity,\r\n                defaultRepresentation: 'HEXA',\r\n                position: 'bottom-end',\r\n                components: {\r\n                    opacity: true,\r\n                    hue: true,\r\n\r\n                    interaction: {\r\n                        hex: false,\r\n                        rgba: false,\r\n                        hsva: false,\r\n                        input: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            })\r\n\r\n                .on('init', function (instance: any) {\r\n                    let elemId = $(instance._root.button).parent().data('target');\r\n                    let value = $(elemId).val();\r\n                    $(instance._root.button).on('click', $.proxy(function () {\r\n                        this.show();\r\n                    }, instance));\r\n                    $(elemId).on('click', $.proxy(function () {\r\n                        this.show();\r\n                    }, instance));\r\n                    if (value) {\r\n                        instance.setColor(value);\r\n                        updateColorFieldValue(instance.getColor(), null, instance);\r\n                    }\r\n                })\r\n\r\n                .on('clear', function (instance: any) {\r\n                    let elemId = $(instance._root.button).parent().data('target');\r\n                    instance.setColor('transparent');\r\n                    updateColorFieldValue(instance.getColor(), null, instance);\r\n                    $(elemId).val('');\r\n                    $(elemId).change();\r\n                })\r\n\r\n                .on('change', updateColorFieldValue);\r\n\r\n            pickrs.push(pickr);\r\n\r\n        });\r\n    }\r\n\r\n    richTextEditors() {\r\n\r\n\r\n        tinymce.init({\r\n            selector: '.tinymce-full',\r\n            height: 150,\r\n            menubar: false,\r\n            plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor media',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media contextmenu paste code'\r\n            ],\r\n            toolbar: 'styleselect | bold italic | alignleft aligncenter alignright | bullist numlist | link image media hoodimage | code',\r\n            link_class_list: this.options.linkClasses,\r\n            image_class_list: this.options.imageClasses,\r\n            setup: this.setupCommands.bind(this),\r\n            image_dimensions: false,\r\n            content_css: [\r\n                '/dist/css/editor.css'\r\n            ],\r\n\r\n        });\r\n\r\n        tinymce.init({\r\n            selector: '.tinymce-simple',\r\n            height: 150,\r\n            plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor media',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media contextmenu paste code'\r\n            ],\r\n            menubar: false,\r\n            toolbar: 'bold italic | bullist numlist | undo redo | link',\r\n            link_class_list: this.options.linkClasses,\r\n            image_class_list: this.options.imageClasses,\r\n            setup: this.setupCommands.bind(this),\r\n            image_dimensions: false\r\n        });\r\n\r\n        tinymce.init({\r\n            selector: '.tinymce-full-content',\r\n            height: 500,\r\n            menubar: false,\r\n            plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor media',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media contextmenu paste code'\r\n            ],\r\n            toolbar: 'styleselect | bold italic | alignleft aligncenter alignright | bullist numlist | link image media hoodimage | code',\r\n            link_class_list: this.options.linkClasses,\r\n            image_class_list: this.options.imageClasses,\r\n            setup: this.setupCommands.bind(this),\r\n            image_dimensions: false\r\n        });\r\n\r\n        tinymce.init({\r\n            selector: '.tinymce-simple-content',\r\n            height: 500,\r\n            plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor media',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media contextmenu paste code'\r\n            ],\r\n            menubar: false,\r\n            toolbar: 'bold italic | bullist numlist | undo redo | link',\r\n            link_class_list: this.options.linkClasses,\r\n            image_class_list: this.options.imageClasses,\r\n            image_dimensions: false\r\n        });\r\n    }\r\n\r\n    mediaModal: ModalController;\r\n    list: HTMLElement;\r\n    service: MediaService;\r\n    currentEditor: JQuery<HTMLElement>;\r\n\r\n    setupCommands(editor: any) {\r\n        this.currentEditor = $('#' + editor.id);\r\n        if (this.currentEditor.data('hoodMediaList')) {\r\n\r\n            editor.addButton('hoodimage', {\r\n                text: 'Insert image...',\r\n                icon: false,\r\n                onclick: function (this: Editors, e: any) {\r\n\r\n                    this.mediaModal = new ModalController({\r\n\r\n                        onComplete: function (this: Editors, sender: HTMLElement) {\r\n\r\n                            this.list = document.getElementById('media-list');\r\n                            this.service = new MediaService(this.list, {\r\n                                action: 'insert',\r\n                                url: this.currentEditor.data('hoodMediaList'),\r\n                                targetEditor: editor,\r\n                                size: this.currentEditor.data('hoodMediaSize'),\r\n                                beforeAction: function (this: Editors, sender: HTMLElement, mediaObject: MediaObject) {\r\n                                }.bind(this),\r\n                                onAction: function (this: Editors, sender: HTMLElement, mediaObject: MediaObject) {\r\n                                    this.service.destroy();\r\n                                    this.mediaModal.close();\r\n                                }.bind(this),\r\n                                onListLoad: (sender: HTMLElement) => {\r\n                                },\r\n                                onListRender: (data: string) => {\r\n                                    return data;\r\n                                },\r\n                                onListComplete: (data: string) => {\r\n                                },\r\n                                onError: (jqXHR: any, textStatus: any, errorThrown: any) => {\r\n                                },\r\n                            });\r\n\r\n                        }.bind(this)\r\n\r\n                    });\r\n                    this.mediaModal.show(this.currentEditor.data('hoodMediaList'), e.currentTarget);\r\n\r\n                }.bind(this)\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n}","import * as $ from 'jquery';\r\n\r\nexport class Handlers {\r\n    constructor() {\r\n\r\n        $('body').on('click', '.scroll-top, .scroll-to-top', this.ScrollToTop);\r\n        $('body').on('click', '.scroll-target, .scroll-to-target', this.ScrollToTarget);\r\n        $('body').on('click', '.slide-link', this.SlideToAnchor);\r\n\r\n        $('body').on('change', '.submit-on-change', this.SubmitOnChange);\r\n        $('body').on('change', '.inline-date', this.DateChange);\r\n        $('body').on('change', 'input[type=checkbox][data-input]', this.CheckboxChange);\r\n\r\n        $('select[data-selected]').each(this.SelectSetup);\r\n\r\n        $('body').on('click', '.select-text', this.SelectTextContent);\r\n        $('body').on('click', '.btn.click-select[data-target][data-value]', this.ClickSelect);\r\n        $('body').on('click', '.click-select.show-selected[data-target][data-value]', this.ClickSelect);\r\n        $('body').on('click', '.click-select:not(.show-selected)[data-target][data-value]', this.ClickSelectClean);\r\n\r\n        $('[data-hood-icon]').each(this.IconSelector);\r\n\r\n    }\r\n\r\n    IconSelector(this: HTMLElement, index: number, element: HTMLElement) {\r\n        let input = $(this).find('input[data-hood-icon-input]')\r\n        let display = $(this).find('[data-hood-icon-display]')\r\n        let collapse = $(this).find('.collapse')\r\n\r\n        $(this).find('[data-hood-icon-key][data-hood-icon-value]').on('click', function () {\r\n            let key = $(this).data('hoodIconKey');\r\n            let value = $(this).data('hoodIconValue');\r\n            display.html(value);\r\n            input.val(key);\r\n            if (collapse) {\r\n                collapse.removeClass('show');\r\n            }\r\n        });\r\n    }\r\n\r\n    ScrollToTop(this: HTMLAnchorElement, e: JQuery.ClickEvent) {\r\n        if (e) e.preventDefault();\r\n        $('html, body').animate({ scrollTop: 0 }, 800);\r\n        return false;\r\n    }\r\n\r\n    ScrollToTarget(this: HTMLAnchorElement, e: JQuery.ClickEvent) {\r\n        if (e) e.preventDefault();\r\n        let url = $(this).attr('href').split('#')[0];\r\n        if (url !== window.location.pathname && url !== \"\") {\r\n            return;\r\n        }\r\n        let target = this.hash;\r\n        let $target = $(target);\r\n        let $header = $('header.header');\r\n        let headerOffset = 0;\r\n        if ($header) {\r\n            headerOffset = $header.height();\r\n        }\r\n        if ($(this).data('offset'))\r\n            $('html, body').stop().animate({\r\n                'scrollTop': $target.offset().top - $(this).data('offset')\r\n            }, 900, 'swing');\r\n        else\r\n            $('html, body').stop().animate({\r\n                'scrollTop': $target.offset().top - headerOffset\r\n            }, 900, 'swing');\r\n    }\r\n\r\n    SlideToAnchor(this: HTMLAnchorElement) {\r\n        let scrollTop = $('body').scrollTop();\r\n        let top = $($(this).attr('href')).offset().top;\r\n\r\n        $('html, body').animate({\r\n            scrollTop: top\r\n        }, Math.abs(top - scrollTop));\r\n        return false;\r\n    }\r\n\r\n    SubmitOnChange(this: HTMLFormElement, e: JQuery.ChangeEvent) {\r\n        if (e) e.preventDefault();\r\n        $(this).parents('form').submit();\r\n    }\r\n\r\n    DateChange(this: HTMLInputElement, e: JQuery.ChangeEvent) {\r\n        if (e) e.preventDefault();\r\n        // update the date element attached to the field's attach\r\n        let $field = $(this).parents('.hood-date').find('.date-output');\r\n        let date: string = $field.parents('.hood-date').find('.date-value').val() as string;\r\n        let pattern = /^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})$/;\r\n        if (!pattern.test(date))\r\n            date = \"01/01/2001\";\r\n        let hour = $field.parents('.hood-date').find('.hour-value').val();\r\n        if (!$.isNumeric(hour))\r\n            hour = \"00\";\r\n        let minute = $field.parents('.hood-date').find('.minute-value').val();\r\n        if (!$.isNumeric(minute))\r\n            minute = \"00\";\r\n        $field.val(date + \" \" + hour + \":\" + minute + \":00\");\r\n        $field.attr(\"value\", date + \" \" + hour + \":\" + minute + \":00\");\r\n    }\r\n\r\n    CheckboxChange(this: HTMLInputElement, e: JQuery.ChangeEvent<HTMLElement>) {\r\n        if (e) e.preventDefault();\r\n        // when i change - create an array, with any other checked of the same data-input checkboxes. and add to the data-input referenced tag.\r\n        let items = new Array();\r\n        $('input[data-input=\"' + $(this).data('input') + '\"]').each(function () {\r\n            if ($(this).is(\":checked\"))\r\n                items.push($(this).val());\r\n        });\r\n        let id = '#' + $(this).data('input');\r\n        let vals = JSON.stringify(items);\r\n        $(id).val(vals);\r\n    }\r\n\r\n    SelectSetup(this: HTMLElement, index: number, element: HTMLElement) {\r\n        let sel = $(this).data('selected');\r\n        if (sel !== 'undefined' && sel !== '') {\r\n            let selected = String(sel);\r\n            $(this).val(selected);\r\n        }\r\n    }\r\n\r\n    SelectTextContent(this: HTMLInputElement) {\r\n        let $this = $(this);\r\n        $this.select();\r\n        // Work around Chrome's little problem\r\n        $this.mouseup(function () {\r\n            // Prevent further mouseup intervention\r\n            $this.unbind(\"mouseup\");\r\n            return false;\r\n        });\r\n    }\r\n\r\n    ClickSelect(this: HTMLElement) {\r\n        let $this = $(this);\r\n        let targetId = '#' + $this.data('target');\r\n        $(targetId).val($this.data('value'));\r\n        $(targetId).trigger('change');\r\n        $('.click-select[data-target=\"' + $this.data('target') + '\"]').each(function () { $(this).html($(this).data('temp')).removeClass('active'); });\r\n        $('.click-select[data-target=\"' + $this.data('target') + '\"][data-value=\"' + $this.data('value') + '\"]').each(function () { $(this).data('temp', $(this).html()).html('Selected').addClass('active'); });\r\n    }\r\n\r\n    ClickSelectClean(this: HTMLElement) {\r\n        let $this = $(this);\r\n        let targetId = '#' + $this.data('target');\r\n        $(targetId).val($this.data('value'));\r\n        $(targetId).trigger('change');\r\n        $('.click-select.clean[data-target=\"' + $this.data('target') + '\"]').each(function () { $(this).removeClass('active'); });\r\n        $('.click-select.clean[data-target=\"' + $this.data('target') + '\"][data-value=\"' + $this.data('value') + '\"]').each(function () { $(this).addClass('active'); });\r\n    }\r\n\r\n}","export class Helpers {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    static isNullOrUndefined(a: any) {\r\n        let rc = false;\r\n        if (a === null || typeof a === \"undefined\" || a === \"\") {\r\n            rc = true;\r\n        }\r\n        return rc;\r\n    }\r\n\r\n    static isSet(a: any) {\r\n        let rc = false;\r\n        if (a === null || typeof a === \"undefined\" || a === \"\") {\r\n            rc = true;\r\n        }\r\n        return !rc;\r\n    }\r\n\r\n    static isFunction(a: string) {\r\n        return a && {}.toString.call(a) === '[object Function]';\r\n    }\r\n\r\n    static insertQueryStringParamToUrl(url: URL, key: string, value: string) {\r\n        key = escape(key); value = escape(value);\r\n        var kvp = url.search.substr(1).split('&');\r\n        if (kvp.length == 1) {\r\n            url.search = '?' + key + '=' + value;\r\n        }\r\n        else {\r\n\r\n            var i = kvp.length; var x; while (i--) {\r\n                x = kvp[i].split('=');\r\n\r\n                if (x[0] === key) {\r\n                    x[1] = value;\r\n                    kvp[i] = x.join('=');\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (i < 0) { kvp[kvp.length] = [key, value].join('='); }\r\n\r\n            //this will reload the page, it's likely better to store this until finished\r\n            url.search = kvp.join('&');\r\n        }\r\n        return url;\r\n    }\r\n\r\n}\r\n\r\n\r\n","import { Alerts, Editors, Handlers, MediaModal, Uploader } from \"../hood\";\r\n\r\nexport class BaseController {\r\n    editors: Editors;\r\n    uploader: Uploader;\r\n    handlers: Handlers;\r\n    mediaModal: MediaModal;\r\n\r\n    constructor() {\r\n\r\n        // Global Services\r\n        this.editors = new Editors();\r\n        this.uploader = new Uploader();\r\n        this.handlers = new Handlers();\r\n\r\n        // Global Handlers\r\n        this.setupLoaders();\r\n\r\n        // Media Modal Service\r\n        this.mediaModal = new MediaModal();\r\n\r\n    }\r\n\r\n    setupLoaders(): void {\r\n        $('body').on('loader-show', function () { Alerts.success(\"Showing loader...\"); })\r\n        $('body').on('loader-hide', function () { Alerts.error(\"Hiding loader...\"); })\r\n    }\r\n}","import { Alerts } from \"./Alerts\";\r\nimport { Response } from \"./Response\";\r\nimport { Loader } from \"./Loader\";\r\n\r\nexport interface InlineOptions {\r\n\r\n    /**\r\n     * Called before the data is fetched.\r\n     */\r\n    onLoad?: (sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called before the fetched HTML is rendered to the list. Must return the data back to datalist to render.\r\n     */\r\n    onRender?: (html: string, sender?: HTMLElement) => string;\r\n\r\n    /**\r\n     * Called when loading and rendering is complete.\r\n     */\r\n    onComplete?: (html: string, sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called when an error occurs.\r\n     */\r\n    onError?: (jqXHR: any, textStatus: any, errorThrown: any) => void;\r\n\r\n}\r\n\r\nexport class Inline {\r\n    static load(tag: HTMLElement, options: InlineOptions) {\r\n\r\n        let $tag = $(tag) as JQuery<HTMLElement>;\r\n        $tag.addClass('loading');\r\n        if (options.onLoad) {\r\n            options.onLoad(tag);\r\n        }\r\n\r\n        let url: string = $tag.data('url');\r\n        $.get(url, function (data: string) {\r\n\r\n            if (options.onRender) {\r\n                data = options.onRender(data, tag);\r\n            }\r\n\r\n            $tag.html(data);\r\n            $tag.removeClass('loading');\r\n\r\n            if (options.onComplete) {\r\n                options.onComplete(data, tag);\r\n            }\r\n\r\n        })\r\n            .fail(options.onError ?? Inline.handleError);\r\n    }\r\n\r\n    static task(url: string, sender: HTMLElement,\r\n        complete: (data: Response, sender?: HTMLElement) => void = null,\r\n        error: (jqXHR: any, textStatus: any, errorThrown: any) => void = null): void {\r\n\r\n        if (sender) {\r\n            sender.classList.add('loading');\r\n        }\r\n        $.get(url, function (response: Response) {\r\n            if (sender) {\r\n                sender.classList.remove('loading');\r\n            }\r\n            if (complete) {\r\n                complete(response, sender);\r\n            }\r\n        })\r\n            .fail(error ?? Inline.handleError);\r\n\r\n    }\r\n\r\n    static post(url: string, sender: HTMLElement,\r\n        complete: (data: Response, sender?: HTMLElement) => void = null,\r\n        error: (jqXHR: any, textStatus: any, errorThrown: any) => void = null): void {\r\n\r\n        if (sender) {\r\n            sender.classList.add('loading');\r\n        }\r\n        $.post(url, function (response: Response) {\r\n            if (sender) {\r\n                sender.classList.remove('loading');\r\n            }\r\n            if (complete) {\r\n                complete(response, sender);\r\n            }\r\n        })\r\n            .fail(error ?? Inline.handleError);\r\n\r\n    }\r\n\r\n    static handleError(xhr: { status: string | number; }) {\r\n        if (xhr.status === 500) {\r\n            Alerts.error(\"There was an error processing the content, please contact an administrator if this continues.\", \"Error \" + xhr.status);\r\n        } else if (xhr.status === 404) {\r\n            Alerts.error(\"The content could not be found.\", \"Error \" + xhr.status);\r\n        } else if (xhr.status === 401) {\r\n            Alerts.error(\"You are not allowed to view this resource, are you logged in correctly?\", \"Error \" + xhr.status);\r\n            window.location = window.location;\r\n        }\r\n    }\r\n}\r\n\r\n","export class Loader  {\r\n    constructor() {\r\n        new CustomEvent('loader-show');\r\n        new CustomEvent('loader-hide');\r\n    }\r\n\r\n    static show(): void {\r\n        $('body').trigger('loader-show');\r\n    }\r\n\r\n    static hide(): void {\r\n        $('body').trigger('loader-hide');\r\n    }\r\n}\r\n\r\nnew Loader()","import { Alerts } from \"./Alerts\";\r\nimport { Response } from \"./Response\";\r\nimport { DataList, DataListOptions } from \"./DataList\";\r\nimport { ModalController } from \"./Modal\";\r\nimport { Validator } from \"./Validator\";\r\nimport { Modal } from \"bootstrap\";\r\nimport { Inline } from \"./Inline\";\r\nimport * as Dropzone from \"dropzone\";\r\nimport { SweetAlertResult } from \"sweetalert2\";\r\nimport { Editor } from \"tinymce\";\r\nimport { KeyValue } from \"../interfaces/KeyValue\";\r\n\r\nconst dz = Dropzone\r\ndz.autoDiscover = false;\r\n\r\nexport declare interface MediaObject {\r\n\r\n    id: number;\r\n    fileSize: number;\r\n    fileType: string;\r\n    filename: string;\r\n    blobReference: string;\r\n\r\n    createdOn: Date;\r\n\r\n    url: string;\r\n\r\n    thumbUrl: string;\r\n    smallUrl: string;\r\n    mediumUrl: string;\r\n    largeUrl: string;\r\n    uniqueId: string;\r\n\r\n    genericFileType: 'Image' | 'PDF' | 'Word' | 'Photoshop' | 'Excel' | 'PowerPoint' | 'Directory' | 'Audio' | 'Video' | 'Unknown';\r\n\r\n    downloadUrl: string;\r\n    downloadUrlHttps: string;\r\n\r\n    icon: string;\r\n    formattedSize: string;\r\n    path: string;\r\n\r\n}\r\n\r\nexport interface MediaOptions {\r\n\r\n    /**\r\n    * Action for the media service to take when a media item is clicked.\r\n    */\r\n    action: 'insert' | 'attach' | 'select' | string;\r\n\r\n    /**\r\n     * Selector for any elements that require a refresh of background-image or src (if applicable). \r\n     */\r\n    refresh?: string;\r\n\r\n    /**\r\n     * Insert/Select Only: Input field to insert image url to. \r\n     */\r\n    size?: string;\r\n\r\n    /**\r\n     * Select/Gallery Only: Input field to insert image url to. \r\n     */\r\n    target?: string;\r\n\r\n    /**\r\n     * Insert Only: Input field to insert image url to. \r\n     */\r\n    targetEditor?: Editor;\r\n\r\n    /**\r\n     * Attach Only: Post url to send the selected media id to when clicked. Must accept mediaId as a parameter.\r\n     */\r\n    url?: string;\r\n\r\n    /**\r\n     * Called before the action is carried out.\r\n     */\r\n    beforeAction?: (sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called when the action is complete.\r\n     */\r\n    onAction?: (mediaObject: MediaObject, sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called before the media list is is fetched.\r\n     */\r\n    onListLoad?: (sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called before the fetched HTML is rendered to the media list. Must return the data back to datalist to render.\r\n     */\r\n    onListRender?: (html: string, sender?: HTMLElement) => string;\r\n\r\n    /**\r\n     * Called when media list loading and rendering is complete.\r\n     */\r\n    onListComplete?: (html: string, sender?: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called when an error occurs.\r\n     */\r\n    onError?: (jqXHR: any, textStatus: any, errorThrown: any) => void;\r\n\r\n}\r\n\r\nexport class MediaService {\r\n    media: DataList;\r\n    element: HTMLElement;\r\n    options: MediaOptions = {\r\n        action: 'show',\r\n        size: 'large'\r\n    };\r\n    currentBlade: ModalController;\r\n    progress: JQuery<HTMLElement>;\r\n    progressText: JQuery<HTMLElement>;\r\n    uploadButton: HTMLElement;\r\n    uploader: HTMLElement;\r\n    progressArea: HTMLElement;\r\n    dropzone: Dropzone;\r\n    galleryInitialised: boolean = false;\r\n\r\n    constructor(element: HTMLElement, options: MediaOptions) {\r\n        this.element = element;\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n\r\n        this.options = { ...this.options, ...options };\r\n\r\n        $('body').off('click', '.media-delete', this.delete.bind(this));\r\n        $('body').on('click', '.media-delete', this.delete.bind(this));\r\n\r\n        $(this.element).on('click', '.media-item', this.action.bind(this));\r\n        $(this.element).on('click', '.media-create-directory', this.createDirectory.bind(this))\r\n        $(this.element).on('click', '.media-delete-directory', this.deleteDirectory.bind(this));\r\n\r\n        this.media = new DataList(this.element, {\r\n            onLoad: this.options.onListLoad,\r\n            onError: this.options.onError,\r\n            onRender: this.options.onListRender,\r\n            onComplete: function (this: MediaService, html: string, sender: HTMLElement) {\r\n                this.initUploader();\r\n\r\n                // if this is gallery type, add the \"Add to gallery button\" and hook it to the add function\r\n                if (this.options.action == 'gallery' && !this.galleryInitialised) {\r\n                    $('#media-select-modal .modal-footer').removeClass('d-none');\r\n                    $('#media-select-modal .modal-footer').on('click', this.galleryAdd.bind(this));\r\n                    this.galleryInitialised = true;\r\n                }\r\n\r\n                if (this.options.onListComplete) {\r\n                    this.options.onListComplete(html, sender)\r\n                }\r\n            }.bind(this)\r\n        });\r\n\r\n    }\r\n\r\n    initUploader() {\r\n        this.uploadButton = document.getElementById('media-add');\r\n        this.uploader = document.getElementById('media-upload');\r\n        if (!this.uploadButton || !this.uploader)\r\n            return;\r\n\r\n        this.progressArea = document.getElementById('media-progress');\r\n        this.progressText = $('<div class=\"progress-text text-muted mb-3\"><i class=\"fa fa-info-circle me-2\"></i>Uploading file <span></span>...</div>');\r\n        this.progress = $('<div class=\"progress\"><div class= \"progress-bar progress-bar-striped\" role=\"progressbar\" style=\"width:0%\" aria-valuenow=\"10\" aria-valuemin=\"0\" aria-valuemax=\"100\" ></div></div>');\r\n\r\n        this.progressText.appendTo(this.progressArea);\r\n        this.progress.appendTo(this.progressArea);\r\n\r\n        this.dropzone = new Dropzone(\"#media-upload\", {\r\n            url: $(\"#media-upload\").data('url') + \"?directoryId=\" + $(\"#media-list > #upload-directory-id\").val(),\r\n            thumbnailWidth: 80,\r\n            thumbnailHeight: 80,\r\n            parallelUploads: 5,\r\n            paramName: 'files',\r\n            acceptedFiles: $(\"#media-upload\").data('types') || \".png,.jpg,.jpeg,.gif\",\r\n            autoProcessQueue: true, // Make sure the files aren't queued until manually added\r\n            previewsContainer: false, // Define the container to display the previews\r\n            clickable: \"#media-add\", // Define the element that should be used as click trigger to select files.\r\n            dictDefaultMessage: '<span><i class=\"fa fa-cloud-upload fa-4x\"></i><br />Drag and drop files here, or simply click me!</div>',\r\n            dictResponseError: 'Error while uploading file!'\r\n        });\r\n\r\n        this.dropzone.on(\"success\", function (this: MediaService, file: Dropzone.DropzoneFile, data: Response) {\r\n            Response.process(data);\r\n        }.bind(this));\r\n\r\n        this.dropzone.on(\"addedfile\", function (this: MediaService, file: Dropzone.DropzoneFile) {\r\n            this.progress.find('.progress-bar').css({ width: 0 + \"%\" });\r\n            this.progressText.find('span').html(0 + \"%\");\r\n        }.bind(this));\r\n\r\n        // Update the total progress bar\r\n        this.dropzone.on(\"totaluploadprogress\", function (this: MediaService, totalProgress: number, totalBytes: number, totalBytesSent: number) {\r\n            this.progress.find('.progress-bar').css({ width: totalProgress + \"%\" });\r\n            this.progressText.find('span').html(totalProgress + \"%\");\r\n        }.bind(this));\r\n\r\n        this.dropzone.on(\"sending\", function (this: MediaService, file: Dropzone.DropzoneFile) {\r\n            // Show the total progress bar when upload starts\r\n            this.progressArea.classList.remove('collapse');\r\n            this.progress.find('.progress-bar').css({ width: 0 + \"%\" });\r\n            this.progressText.find('span').html(0 + \"%\");\r\n        }.bind(this));\r\n\r\n        // Hide the total progress bar when nothing's uploading anymore\r\n        this.dropzone.on(\"complete\", function (this: MediaService, file: Dropzone.DropzoneFile) {\r\n            this.media.reload();\r\n        }.bind(this));\r\n\r\n        // Hide the total progress bar when nothing's uploading anymore\r\n        this.dropzone.on(\"queuecomplete\", function (this: MediaService) {\r\n            this.progressArea.classList.add('collapse');\r\n            this.media.reload();\r\n        }.bind(this));\r\n    }\r\n\r\n    createDirectory(this: MediaService, e: JQuery.ClickEvent) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let createDirectoryModal: ModalController = new ModalController({\r\n            onComplete: function (this: MediaService) {\r\n                let form = document.getElementById('content-directories-edit-form') as HTMLFormElement;\r\n                let validator = new Validator(form, {\r\n                    onComplete: function (this: MediaService, sender: Validator, response: Response) {\r\n\r\n                        Response.process(response, 5000);\r\n\r\n                        if (response.success) {\r\n                            this.media.reload();\r\n                            createDirectoryModal.close();\r\n                        }\r\n\r\n                    }.bind(this)\r\n                });\r\n            }.bind(this)\r\n        });\r\n        createDirectoryModal.show($(e.currentTarget).attr('href'), this.element);\r\n    }\r\n\r\n    deleteDirectory(this: MediaService, e: JQuery.ClickEvent) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        Alerts.confirm({\r\n\r\n        }, function (this: MediaService, result: SweetAlertResult) {\r\n            if (result.isConfirmed) {\r\n                Inline.post(e.currentTarget.href, e.currentTarget, function (this: MediaService, sender: HTMLElement, response: Response) {\r\n                    // Refresh the list, using the parent directory id - stored in the response's data array.\r\n                    Response.process(response, 5000);\r\n\r\n                    if (response.data.length > 0) {\r\n                        var listUrl = document.createElement('a');\r\n                        listUrl.href = $(this.element).data('url');\r\n                        listUrl.search = `?dir=${response.data[0]}`;\r\n                        this.media.reload(new URL(listUrl.href));\r\n                    }\r\n                }.bind(this));\r\n            }\r\n        }.bind(this))\r\n    }\r\n\r\n    uploadUrl() {\r\n        return $(\"#media-upload\").data('url') + \"?directoryId=\" + $(\"#media-list > #upload-directory-id\").val();\r\n    }\r\n\r\n    action(this: MediaService, e: JQuery.ClickEvent) {\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        // Load media object from clicked item in the media list\r\n        let mediaObject: MediaObject = $(e.currentTarget).data('json') as MediaObject;\r\n\r\n        // Perform the chosen action, which is set on the service's options when loaded.\r\n        switch (this.options.action) {\r\n            case 'select':\r\n                this.select(mediaObject, e);\r\n                break;\r\n            case 'insert':\r\n                this.insert(mediaObject, e);\r\n                break;\r\n            case 'attach':\r\n                this.attach(mediaObject, e);\r\n                break;\r\n            case 'gallery':\r\n                this.galleryClick(mediaObject, e);\r\n                break;\r\n            default:\r\n                this.show(mediaObject, e);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    show(this: MediaService, mediaObject: MediaObject, sender: JQuery.ClickEvent) {\r\n\r\n        // Load the media as a new blade to display.\r\n        this.currentBlade = new ModalController();\r\n        this.currentBlade.show($(sender.target).data('blade'), sender.target);\r\n\r\n        // TODO: On close, reload the list and reinstate the modal??\r\n    }\r\n\r\n    select(this: MediaService, mediaObject: MediaObject, e: JQuery.ClickEvent): void {\r\n        Alerts.log(`[MediaService.select] Selecting media object id ${mediaObject.id} - ${mediaObject.filename} and inserting ${this.options.size} url to target: ${this.options.target}`);\r\n        if (this.options.target) {\r\n            let target = $(this.options.target);\r\n\r\n            switch (this.options.size) {\r\n                case 'thumb':\r\n                    target.val(mediaObject.thumbUrl);\r\n                    break;\r\n                case 'small':\r\n                    target.val(mediaObject.smallUrl);\r\n                    break;\r\n                case 'medium':\r\n                    target.val(mediaObject.mediumUrl);\r\n                    break;\r\n                case 'large':\r\n                    target.val(mediaObject.largeUrl);\r\n                    break;\r\n                case 'full':\r\n                    target.val(mediaObject.url);\r\n                    break;\r\n            }\r\n        }\r\n        if (this.options.refresh) {\r\n            MediaService.refresh(mediaObject, this.options.refresh);\r\n        }\r\n\r\n        // Run the callback for onAction\r\n        if (this.options.onAction) {\r\n            this.options.onAction(mediaObject);\r\n        }\r\n    }\r\n\r\n    insert(this: MediaService, mediaObject: MediaObject, e: JQuery.ClickEvent): void {\r\n        // basic functionality to insert the correct string from the media response (from uploader) to given input element. \r\n        Alerts.log(`[MediaService.insert] Selecting media object id ${mediaObject.id} - ${mediaObject.filename} and inserting ${this.options.size} image to target editor: ${this.options.target}`);\r\n        this.options.targetEditor.insertContent('<img alt=\"' + mediaObject.filename + '\" src=\"' + mediaObject.url + '\" class=\"img-fluid\" />');\r\n\r\n        // Run the callback for onAction\r\n        if (this.options.onAction) {\r\n            this.options.onAction(mediaObject);\r\n        }\r\n   }\r\n\r\n    attach(this: MediaService, mediaObject: MediaObject, e: JQuery.ClickEvent): void {\r\n        // once file is uploaded to given directory, send media id to the given attach endpoint.\r\n        Alerts.log(`[MediaService.attach] Attaching media object id ${mediaObject.id} - ${mediaObject.filename} to url: ${this.options.url}`);\r\n        $.post(this.options.url, { mediaId: mediaObject.id }, function (this: MediaService, response: Response) {\r\n            Response.process(response, 5000);\r\n            MediaService.refresh(response.media, this.options.refresh);\r\n            // Run the callback for onAction\r\n            if (this.options.onAction) {\r\n                this.options.onAction(mediaObject);\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    selectedMedia: MediaObject[] = new Array();\r\n\r\n    galleryClick(this: MediaService, mediaObject: MediaObject, e: JQuery.ClickEvent): void {\r\n        // once file is uploaded to given directory, send media id to the given attach endpoint.\r\n        if (!this.isMediaSelected(mediaObject)) {\r\n            Alerts.log(`[MediaService.galleryClick] Adding to selected media objects - id ${mediaObject.id} - ${mediaObject.filename}.`);\r\n           this.selectedMedia.push(mediaObject);\r\n            $(e.currentTarget).parents('.media-item').addClass('active');\r\n        } else {\r\n            Alerts.log(`[MediaService.galleryClick] Removing media from selection - id ${mediaObject.id} - ${mediaObject.filename}.}`);\r\n            this.selectedMedia = this.selectedMedia.filter(function (obj: MediaObject) {\r\n                return obj.id !== mediaObject.id;\r\n            });\r\n            $(e.currentTarget).parents('.media-item').removeClass('active');\r\n        }\r\n    }\r\n\r\n    galleryAdd(this: MediaService, e: JQuery.ClickEvent): void {\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        // once file is uploaded to given directory, send media id to the given attach endpoint.\r\n        Alerts.log(`[MediaService.galleryAdd] Adding ${this.selectedMedia.length} selected media objects  to url: ${this.options.url}`);\r\n\r\n        let mediaIds = this.selectedMedia.map(function (v: MediaObject) {\r\n            return v.id;\r\n        });\r\n\r\n        // create the url to send to (add media id's to it as query params)\r\n        $.post(this.options.url, { media: mediaIds }, function (this: MediaService, data: Response) {\r\n\r\n            Response.process(data);\r\n\r\n            // refresh the gallery - - \r\n            let galleryEl = document.getElementById(this.options.target);\r\n            let gallery: DataList = galleryEl.hoodDataList as DataList;\r\n            gallery.reload();\r\n\r\n            // Run the callback for onAction\r\n            if (this.options.onAction) {\r\n                this.options.onAction(data.media);\r\n            }\r\n\r\n        }.bind(this));\r\n\r\n    }\r\n\r\n    isMediaSelected(mediaObject: MediaObject): boolean {\r\n        let added: boolean = false;\r\n        this.selectedMedia.forEach(function (value: MediaObject, index: number, array: MediaObject[]) {\r\n            if (value.id == mediaObject.id) {\r\n                added = true;\r\n            }\r\n        });\r\n        return added;\r\n    }\r\n\r\n    static refresh(media: MediaObject, refresh: string): void {\r\n\r\n        let icon = media.icon;\r\n\r\n        if (media.genericFileType === \"Image\") {\r\n            icon = media.mediumUrl;\r\n        }\r\n\r\n        if (refresh) {\r\n            let $image = $(refresh);\r\n            $image.css({\r\n                'background-image': 'url(' + icon + ')'\r\n            });\r\n            $image.find('img').attr('src', icon);\r\n            $image.removeClass('loading');\r\n        }\r\n\r\n    }\r\n\r\n    delete(this: MediaService, e: JQuery.ClickEvent) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        Alerts.confirm({\r\n            html: 'This file will be permanently deleted, are you sure?'\r\n        }, function (this: MediaService, result: SweetAlertResult) {\r\n            if (result.isConfirmed) {\r\n                Inline.post(e.currentTarget.href, e.currentTarget, function (this: MediaService, response: Response) {\r\n\r\n                    Response.process(response, 5000);\r\n                    this.media.reload();\r\n                    if (this.currentBlade) {\r\n                        this.currentBlade.close();\r\n                    }\r\n\r\n                }.bind(this));\r\n            }\r\n        }.bind(this))\r\n    }\r\n\r\n    destroy(this: MediaService) {\r\n        this.dropzone.destroy();\r\n    }\r\n}\r\n\r\nexport class MediaModal {\r\n    modal: ModalController;\r\n    list: HTMLElement;\r\n    service: MediaService;\r\n    element: HTMLElement;\r\n\r\n    constructor() {\r\n        $('body').on('click', '[data-hood-media=attach],[data-hood-media=select],[data-hood-media=gallery]', this.load.bind(this));\r\n        $('body').on('click', '[data-hood-media=clear]', this.clear.bind(this));\r\n        $('[data-hood-media=gallery]').each(this.initGallery.bind(this));\r\n    }\r\n\r\n    initGallery(this: MediaModal, index: number, element: HTMLElement): void {\r\n\r\n        // setup the gallery list also, just a simple list jobby, and attach it to the \r\n        let el = document.getElementById(element.dataset.hoodMediaTarget);\r\n        if (el) {\r\n            new DataList(el, {\r\n                onComplete: function (this: MediaModal, data: string, sender: HTMLElement = null) {\r\n\r\n                    Alerts.log('Finished loading gallery media list.', 'info');\r\n\r\n                }.bind(this)\r\n            });\r\n        }\r\n    }\r\n\r\n    load(this: MediaModal, e: JQuery.ClickEvent): void {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.element = e.currentTarget;\r\n\r\n        this.modal = new ModalController({\r\n\r\n            onComplete: function (this: MediaModal, sender: HTMLElement) {\r\n\r\n                this.list = document.getElementById('media-list');\r\n                this.service = new MediaService(this.list, {\r\n                    action: this.element.dataset.hoodMedia,\r\n                    url: this.element.dataset.hoodMediaUrl,\r\n                    refresh: this.element.dataset.hoodMediaRefresh,\r\n                    target: this.element.dataset.hoodMediaTarget,\r\n                    size: this.element.dataset.hoodMediaSize,\r\n                    beforeAction: function (this: MediaModal, sender: HTMLElement, mediaObject: MediaObject) {\r\n                    }.bind(this),\r\n                    onAction: function (this: MediaModal, sender: HTMLElement, mediaObject: MediaObject) {\r\n\r\n                        this.service.destroy();\r\n                        this.modal.close();\r\n\r\n                    }.bind(this),\r\n                    onListLoad: (sender: HTMLElement) => {\r\n                    },\r\n                    onListRender: (data: string) => {\r\n                        return data;\r\n                    },\r\n                    onListComplete: (data: string) => {\r\n                    },\r\n                    onError: (jqXHR: any, textStatus: any, errorThrown: any) => {\r\n                    },\r\n                });\r\n\r\n            }.bind(this)\r\n\r\n        });\r\n        this.modal.show($(e.currentTarget).data('hood-media-list'), e.currentTarget);\r\n    }\r\n\r\n    clear(this: MediaModal, e: JQuery.ClickEvent) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        Alerts.confirm({\r\n\r\n        }, function (this: MediaModal, result: SweetAlertResult) {\r\n            if (result.isConfirmed) {\r\n                Inline.post(e.currentTarget.href, e.currentTarget, function (this: MediaModal, response: Response) {\r\n\r\n                    Response.process(response, 5000);\r\n                    MediaService.refresh(response.media, e.currentTarget.dataset.hoodMediaRefresh);\r\n\r\n                }.bind(this));\r\n            }\r\n        }.bind(this))\r\n    }\r\n}\r\n","import { Modal } from \"bootstrap\";\r\nimport { Inline } from \"./Inline\";\r\n\r\nexport interface ModalOptions {\r\n\r\n    /**\r\n     * Called before the data is fetched.\r\n     */\r\n    onLoad?: (sender: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called before the fetched HTML is rendered to the list. Must return the data back to datalist to render.\r\n     */\r\n    onRender?: (sender: HTMLElement, html: string) => string;\r\n\r\n    /**\r\n     * Called when loading and rendering is complete.\r\n     */\r\n    onComplete?: (sender: HTMLElement) => void;\r\n\r\n    /**\r\n     * Called when loading and rendering is complete.\r\n     */\r\n    onError?: (jqXHR: any, textStatus: any, errorThrown: any) => void;\r\n\r\n    closePrevious?: boolean;\r\n}\r\n\r\n\r\nexport class ModalController {\r\n    element: HTMLElement;\r\n    modal: Modal;\r\n    options: ModalOptions = {\r\n        closePrevious: true\r\n    }\r\n\r\n    constructor(options: ModalOptions = null) {\r\n        this.options = { ...this.options, ...options };\r\n    }\r\n\r\n    show(url: string | URL, sender: HTMLElement = null) {\r\n        if (this.options.onLoad) {\r\n            this.options.onLoad(this.element);\r\n        }\r\n\r\n        $.get(url as string, function (data: string) {\r\n\r\n            if (this.modal && this.options.closePrevious) {\r\n                this.close();\r\n            }\r\n\r\n            if (this.options.onRender) {\r\n                data = this.options.onRender(this.element, data);\r\n            }\r\n\r\n            this.element = this.createElementFromHTML(data);\r\n            this.element.classList.add('hood-inline-modal');\r\n\r\n            $('body').append(this.element);\r\n            this.modal = new Modal(this.element, {});\r\n            this.modal.show();\r\n\r\n            // Workaround for sweetalert popups.\r\n            this.element.addEventListener('shown.bs.modal', function (this: ModalController) {\r\n                $(document).off('focusin.modal');\r\n            }.bind(this));\r\n            this.element.addEventListener('hidden.bs.modal', function (this: ModalController) {\r\n                this.dispose();\r\n            }.bind(this));\r\n\r\n            if (this.options.onComplete) {\r\n                this.options.onComplete(this.element);\r\n            }\r\n        }.bind(this))\r\n            .fail(this.options.onError ?? Inline.handleError);\r\n    }\r\n\r\n    close() {\r\n        if (this.modal) {\r\n            this.modal.hide();\r\n        }\r\n    }\r\n\r\n    dispose() {\r\n        this.modal.dispose();\r\n        this.element.remove();\r\n    }\r\n\r\n    createElementFromHTML(htmlString: string): HTMLElement {\r\n        var div = document.createElement('div');\r\n        div.innerHTML = htmlString.trim();\r\n\r\n        // Change this to div.childNodes to support multiple top-level nodes\r\n        return div.firstChild as HTMLElement;\r\n    }\r\n}","import { KeyValue } from \"../interfaces/KeyValue\";\r\nimport { Alerts } from \"./Alerts\";\r\nimport { MediaObject } from \"./Media\";\r\n\r\nexport declare interface Response {\r\n\r\n    data: any[];\r\n    count: number;\r\n\r\n    url: string;\r\n\r\n    title: string;\r\n    message: string;\r\n\r\n    success: boolean;\r\n\r\n    exception: KeyValue<string, string>[];\r\n    errors: string;\r\n    error: string;\r\n\r\n    media: MediaObject;\r\n    mediaJson: string;\r\n\r\n    process(autoHide: number): void;\r\n\r\n}\r\n\r\nexport class Response {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    static process(data: Response | any, autoHide: number = 5000) {\r\n        if (data.success) {\r\n            Alerts.success(data.message, data.title, autoHide);\r\n        } else {\r\n            Alerts.error(data.errors, data.title, autoHide);\r\n        }\r\n    }\r\n}\r\n\r\n","import * as $ from 'jquery';\r\nimport { Response } from './Response';\r\nimport * as Dropzone from \"dropzone\";\r\nimport { Alerts } from './Alerts';\r\n\r\nconst dz = Dropzone\r\ndz.autoDiscover = false;\r\n\r\nexport class Uploader {\r\n    constructor() {\r\n        if ($('.image-uploader').length || $('.gallery-uploader').length) {\r\n            $(\".upload-progress-bar\").hide();\r\n            $('.image-uploader').each(this.singleImage);\r\n            $('.gallery-uploader').each(this.gallery);\r\n        }\r\n    }\r\n\r\n    refreshImage(sender: JQuery<HTMLElement>, data: Response) {\r\n        $(sender.data('preview')).css({\r\n            'background-image': 'url(' + data.media.smallUrl + ')'\r\n        });\r\n        $(sender.data('preview')).find('img').attr('src', data.media.smallUrl);\r\n    }\r\n\r\n    singleImage(this: HTMLElement) {\r\n\r\n        let tag = '#' + $(this).attr('id');\r\n        let $tag = $(tag);\r\n\r\n        let jsontag = '#' + $(this).attr('json');\r\n\r\n        let avatarDropzone = new Dropzone(tag, {\r\n            url: $tag.data('url'),\r\n            maxFiles: 1,\r\n            paramName: 'file',\r\n            parallelUploads: 1,\r\n            acceptedFiles: $tag.data('types') || \".png,.jpg,.jpeg,.gif\",\r\n            autoProcessQueue: true, // Make sure the files aren't queued until manually added\r\n            previewsContainer: false, // Define the container to display the previews\r\n            clickable: tag // Define the element that should be used as click trigger to select files.\r\n        });\r\n\r\n        avatarDropzone.on(\"addedfile\", function () {\r\n        });\r\n\r\n        avatarDropzone.on(\"totaluploadprogress\", function (progress) {\r\n            $(\".upload-progress-bar.\" + tag.replace('#', '') + \" .progress-bar\").css({ width: progress + \"%\" });\r\n        });\r\n\r\n        avatarDropzone.on(\"sending\", function (file) {\r\n            $(\".upload-progress-bar.\" + tag.replace('#', '')).show();\r\n            $($tag.data('preview')).addClass('loading');\r\n        });\r\n\r\n        avatarDropzone.on(\"queuecomplete\", function (progress) {\r\n            $(\".upload-progress-bar.\" + tag.replace('#', '')).hide();\r\n        });\r\n\r\n        avatarDropzone.on(\"success\", function (file, response: Response) {\r\n            if (response.success) {\r\n                if (response.media) {\r\n                    $(jsontag).val(JSON.stringify(response.media));\r\n                    $($tag.data('preview')).css({\r\n                        'background-image': 'url(' + response.media.smallUrl + ')'\r\n                    });\r\n                    $($tag.data('preview')).find('img').attr('src', response.media.smallUrl);\r\n                }\r\n                Alerts.success(\"New image added!\");\r\n            } else {\r\n                Alerts.error(\"There was a problem adding the image: \" + response.error);\r\n            }\r\n            avatarDropzone.removeFile(file);\r\n            $($tag.data('preview')).removeClass('loading');\r\n        });\r\n    }\r\n\r\n    gallery(this: HTMLElement) {\r\n\r\n        let tag = '#' + $(this).attr('id');\r\n        let $tag = $(tag);\r\n\r\n        let previewNode = document.querySelector(tag + \"-template\");\r\n        previewNode.id = \"\";\r\n        let previewTemplate = (<HTMLElement>previewNode.parentNode).innerHTML;\r\n        previewNode.parentNode.removeChild(previewNode);\r\n\r\n        let galleryDropzone = new Dropzone(tag, {\r\n            url: $tag.data('url'),\r\n            thumbnailWidth: 80,\r\n            thumbnailHeight: 80,\r\n            parallelUploads: 5,\r\n            previewTemplate: previewTemplate,\r\n            paramName: 'files',\r\n            acceptedFiles: $tag.data('types') || \".png,.jpg,.jpeg,.gif\",\r\n            autoProcessQueue: true, // Make sure the files aren't queued until manually added\r\n            previewsContainer: \"#previews\", // Define the container to display the previews\r\n            clickable: \".fileinput-button\", // Define the element that should be used as click trigger to select files.\r\n            dictDefaultMessage: '<span><i class=\"fa fa-cloud-upload fa-4x\"></i><br />Drag and drop files here, or simply click me!</div>',\r\n            dictResponseError: 'Error while uploading file!'\r\n        });\r\n\r\n        $(tag + \" .cancel\").hide();\r\n\r\n        galleryDropzone.on(\"addedfile\", function (file) {\r\n            $(file.previewElement.querySelector(\".complete\")).hide();\r\n            $(file.previewElement.querySelector(\".cancel\")).show();\r\n            $(tag + \" .cancel\").show();\r\n        });\r\n\r\n        // Update the total progress bar\r\n        galleryDropzone.on(\"totaluploadprogress\", function (totalProgress: number, totalBytes: number, totalBytesSent: number) {\r\n            let progressBar = document.querySelector(\"#total-progress .progress-bar\") as HTMLElement;\r\n            progressBar.style.width = totalProgress + \"%\";\r\n        });\r\n\r\n        galleryDropzone.on(\"sending\", function (file: Dropzone.DropzoneFile) {\r\n            // Show the total progress bar when upload starts\r\n            let progressBar = document.querySelector(\"#total-progress\") as HTMLElement;\r\n            progressBar.style.opacity = \"1\";\r\n        });\r\n\r\n        // Hide the total progress bar when nothing's uploading anymore\r\n        galleryDropzone.on(\"complete\", function (file) {\r\n            $(file.previewElement.querySelector(\".cancel\")).hide();\r\n            $(file.previewElement.querySelector(\".progress\")).hide();\r\n            $(file.previewElement.querySelector(\".complete\")).show();\r\n\r\n            console.error(\"Uploader.Gallery.Dropzone.OnComplete - Inline.Refresh('.gallery') is not implemented.\");\r\n            //Inline.Refresh('.gallery');\r\n        });\r\n\r\n        // Hide the total progress bar when nothing's uploading anymore\r\n        galleryDropzone.on(\"queuecomplete\", function (progress) {\r\n            let totalProgress = document.querySelector(\"#total-progress\") as HTMLElement;\r\n            totalProgress.style.opacity = \"0\";\r\n            $(tag + \" .cancel\").hide();\r\n        });\r\n\r\n        galleryDropzone.on(\"success\", function (file, response: Response) {\r\n\r\n            console.error(\"Uploader.Gallery.Dropzone.OnSuccess - Inline.Refresh('.gallery') is not implemented.\");\r\n            //Inline.Refresh('.gallery');\r\n\r\n            if (response.success) {\r\n                Alerts.success(\"New images added!\");\r\n            } else {\r\n                Alerts.error(\"There was a problem adding the profile image: \" + response.error);\r\n            }\r\n        });\r\n\r\n        // Setup the buttons for all transfers\r\n        // The \"add files\" button doesn't need to be setup because the config\r\n        // `clickable` has already been specified.\r\n        $(\".actions .cancel\").click(function () {\r\n            galleryDropzone.removeAllFiles(true);\r\n        });\r\n    }\r\n\r\n}","import { Alerts } from \"./Alerts\";\r\nimport { Inline } from \"./Inline\";\r\nimport { Response } from \"./Response\";\r\n\r\nexport interface ValidatorOptions {\r\n    errorAlert?: string;\r\n\r\n    /**\r\n     * Called before the submit of the form data, you can return the data to be serialised.\r\n     */\r\n    onSubmit?: (sender: Validator) => void;\r\n\r\n    /**\r\n     * Called when submit is complete.\r\n     */\r\n    onComplete?: (sender: Validator, data: Response) => void;\r\n\r\n    /**\r\n     * Called when an error occurs.\r\n     */\r\n    onError?: (jqXHR: any, textStatus: any, errorThrown: any) => void;\r\n\r\n    serializationFunction?: () => string; \r\n\r\n}\r\n\r\nexport class Validator {\r\n    element: HTMLFormElement;\r\n    options: ValidatorOptions = {\r\n        errorAlert: 'There are errors, please check the form.'\r\n    };\r\n\r\n    /**\r\n      * @param element The datalist element. The element must have a data-url attribute to connect to a feed.\r\n      */\r\n    constructor(element: HTMLFormElement, options: ValidatorOptions) {\r\n\r\n        this.element = element;\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n\r\n        this.options.serializationFunction = function (this: Validator) {\r\n            let rtn = $(this.element).serialize();\r\n            return rtn;\r\n        }.bind(this);\r\n\r\n        this.options = { ...this.options, ...options };\r\n\r\n        this.element.addEventListener('submit', function (this: Validator, e: Event) {\r\n            e.preventDefault();\r\n            e.stopImmediatePropagation();\r\n            this.submitForm();\r\n        }.bind(this));\r\n    }\r\n\r\n    submitForm() {\r\n        this.element.classList.add('was-validated');\r\n        if (this.element.checkValidity()) {\r\n\r\n            this.element.classList.add('loading');\r\n\r\n            let checkboxes = this.element.querySelector('input[type=checkbox]');\r\n            if (checkboxes) {\r\n                Array.prototype.slice.call(checkboxes)\r\n                    .forEach(function (checkbox: HTMLInputElement) {\r\n                        if ($(this).is(':checked')) {\r\n                            $(this).val('true');\r\n                        }\r\n                    });\r\n            }\r\n\r\n            if (this.options.onSubmit) {\r\n                this.options.onSubmit(this);\r\n            }\r\n\r\n            let formData = this.options.serializationFunction();\r\n\r\n            $.post(this.element.action, formData, function (this: Validator, data: any) {\r\n                if (this.options.onComplete) {\r\n                    this.options.onComplete(this, data);\r\n                }\r\n            }.bind(this))\r\n                .fail(this.options.onError ?? Inline.handleError);\r\n\r\n        } else {\r\n\r\n            if (this.options.errorAlert) {\r\n                Alerts.error(this.options.errorAlert, null, 5000);\r\n            }\r\n        }\r\n\r\n    }\r\n}","import * as $ from 'jquery';\r\n\r\nimport { SweetAlertResult } from 'sweetalert2';\r\nimport { Alerts } from '../core/Alerts';\r\nimport { DataList } from \"../core/DataList\";\r\n\r\ndeclare global {\r\n    interface JQuery {\r\n        exists(): number;\r\n        restrictToSlug(): void;\r\n        restrictToPageSlug(): void;\r\n        restrictToMetaSlug(): void;\r\n        characterCounter(): void;\r\n        warningAlert(): void;\r\n    }\r\n}\r\n\r\n$.fn.exists = function () {\r\n    return $(this).length;\r\n};\r\n\r\n$.fn.restrictToSlug = function (restrictPattern: RegExp = /[^0-9a-zA-Z]*/g) {\r\n    let targets = $(this);\r\n\r\n    // The characters inside this pattern are accepted\r\n    // and everything else will be 'cleaned'\r\n    // For example 'ABCdEfGhI5' become 'ABCEGI5'\r\n\r\n    var restrictHandler = function () {\r\n        var val = $(this).val() as string;\r\n        var newVal = val.replace(restrictPattern, '');\r\n\r\n        // This condition is to prevent selection and keyboard navigation issues\r\n        if (val !== newVal) {\r\n            $(this).val(newVal);\r\n        }\r\n    };\r\n\r\n    targets.on('keyup', restrictHandler);\r\n    targets.on('paste', restrictHandler);\r\n    targets.on('change', restrictHandler);\r\n};\r\n$.fn.restrictToPageSlug = function (restrictPattern: RegExp = /[^0-9a-zA-Z-//]*/g) {\r\n    let targets = $(this);\r\n\r\n    // The characters inside this pattern are accepted\r\n    // and everything else will be 'cleaned'\r\n\r\n    let restrictHandler = function () {\r\n        var val = $(this).val() as string;\r\n        var newVal = val.replace(restrictPattern, '');\r\n        if ((newVal.match(new RegExp(\"/\", \"g\")) || []).length > 4) {\r\n            var pos = newVal.lastIndexOf('/');\r\n            newVal = newVal.substring(0, pos) + newVal.substring(pos + 1);\r\n            Alerts.warning(\"You can only have up to 4 '/' characters in a url slug.\");\r\n        }\r\n        // This condition is to prevent selection and keyboard navigation issues\r\n        if (val !== newVal) {\r\n            $(this).val(newVal);\r\n        }\r\n    };\r\n\r\n    targets.on('keyup', restrictHandler);\r\n    targets.on('paste', restrictHandler);\r\n    targets.on('change', restrictHandler);\r\n};\r\n$.fn.restrictToMetaSlug = function (restrictPattern: RegExp = /[^0-9a-zA-Z.]*/g) {\r\n    let targets = $(this);\r\n\r\n    // The characters inside this pattern are accepted\r\n    // and everything else will be 'cleaned'\r\n\r\n    let restrictHandler = function () {\r\n        let val = $(this).val() as string;\r\n        let newVal = val.replace(restrictPattern, '');\r\n        if ((newVal.match(new RegExp(\".\", \"g\")) || []).length > 1) {\r\n            let pos = newVal.lastIndexOf('.');\r\n            newVal = newVal.substring(0, pos) + newVal.substring(pos + 1);\r\n            Alerts.warning(\"You can only have up to 1 '.' characters in a meta slug.\");\r\n        }\r\n        // This condition is to prevent selection and keyboard navigation issues\r\n        if (val !== newVal) {\r\n            $(this).val(newVal);\r\n        }\r\n    };\r\n\r\n    targets.on('keyup', restrictHandler);\r\n    targets.on('paste', restrictHandler);\r\n    targets.on('change', restrictHandler);\r\n};\r\n\r\n$.fn.characterCounter = function () {\r\n    let targets = $(this);\r\n    let characterCounterHandler = function () {\r\n        let counter = $(this).data('counter');\r\n        let max = Number($(this).attr('maxlength'));\r\n        let len = ($(this).val() as string).length;\r\n        $(counter).text(max - len);\r\n        let cls = \"text-success\";\r\n        if (max - len < max / 10)\r\n            cls = \"text-danger\";\r\n        $(counter).parent().removeClass('text-success').removeClass('text-danger').addClass(cls);\r\n    };\r\n    targets.on('keyup', characterCounterHandler);\r\n    targets.on('paste', characterCounterHandler);\r\n    targets.on('change', characterCounterHandler);\r\n};\r\n\r\n$.fn.warningAlert = function () {\r\n    let targets = $(this);\r\n    let warningAlertHandler = function (this: HTMLElement, e: JQuery.ClickEvent) {\r\n        e.preventDefault();\r\n        let warningAlertCallback = function (result: SweetAlertResult) {\r\n            if (result.isConfirmed) {\r\n                let url = $(e.currentTarget).attr('href');\r\n                window.location.href = url;\r\n            }\r\n        };\r\n        Alerts.confirm(\r\n            {\r\n                title: $(e.currentTarget).data('title'),\r\n                html: $(e.currentTarget).data('warning'),\r\n                footer: $(e.currentTarget).data('footer'),\r\n                icon: 'warning'\r\n            },\r\n            warningAlertCallback\r\n        );\r\n        return false;\r\n    };\r\n    targets.on('click', warningAlertHandler);\r\n};\r\n\r\n","declare global {\r\n    interface Number {\r\n        formatCurrency(currency: string): string;\r\n        formatKilobytes(): string;\r\n        formatMegabytes(): string;\r\n    }\r\n}\r\n\r\n\r\nNumber.prototype.formatCurrency = function (currency: string) {\r\n    return currency + \" \" + this.toFixed(2).replace(/./g, function (c: string, i: number, a: string | any[]) {\r\n        return i > 0 && c !== \".\" && (a.length - i) % 3 === 0 ? \",\" + c : c;\r\n    });\r\n}\r\nNumber.prototype.formatKilobytes = function() {\r\n    let n = this / 1024;\r\n    return n.toFixed(2).replace(/./g, function (c: string, i: number, a: string | any[]) {\r\n        return i > 0 && c !== \".\" && (a.length - i) % 3 === 0 ? \",\" + c : c;\r\n    });\r\n}\r\nNumber.prototype.formatMegabytes = function() {\r\n    let n = this / 1024;    \r\n    n = n / 1024;\r\n    return n.toFixed(2).replace(/./g, function (c: string, i: number, a: string | any[]) {\r\n        return i > 0 && c !== \".\" && (a.length - i) % 3 === 0 ? \",\" + c : c;\r\n    });\r\n}\r\n\r\nexport { }\r\n","import * as $ from \"jquery\";\r\n\r\ndeclare global {\r\n    interface String {\r\n        isUrlExternal(): boolean;\r\n        htmlEncode(): string;\r\n        htmlDecode(): string;\r\n        contains(it: string): boolean;\r\n        pick(min: number, max: number): string;\r\n        shuffle(): string;\r\n        toSeoUrl(): string;\r\n    }\r\n}\r\n\r\nString.prototype.htmlEncode = function () {\r\n    //create a in-memory div, set it's inner text(which jQuery automatically encodes)\r\n    //then grab the encoded contents back out.  The div never exists on the page.\r\n    return $('<div/>').text(this).html();\r\n};\r\n\r\nString.prototype.htmlDecode = function () {\r\n    return $('<div/>').html(this).text();\r\n};\r\n\r\nString.prototype.contains = function (it: string) {\r\n    return this.indexOf(it) !== -1;\r\n};\r\n\r\nString.prototype.pick = function (min: number, max: number) {\r\n    var n, chars = '';\r\n\r\n    if (typeof max === 'undefined') {\r\n        n = min;\r\n    } else {\r\n        n = min + Math.floor(Math.random() * (max - min));\r\n    }\r\n\r\n    for (var i = 0; i < n; i++) {\r\n        chars += this.charAt(Math.floor(Math.random() * this.length));\r\n    }\r\n\r\n    return chars;\r\n};\r\n\r\n// Credit to @Christoph: http://stackoverflow.com/a/962890/464744\r\nString.prototype.shuffle = function () {\r\n    var array = this.split('');\r\n    var tmp, current, top = array.length;\r\n\r\n    if (top) while (--top) {\r\n        current = Math.floor(Math.random() * (top + 1));\r\n        tmp = array[current];\r\n        array[current] = array[top];\r\n        array[top] = tmp;\r\n    }\r\n\r\n    return array.join('');\r\n};\r\n\r\nString.prototype.toSeoUrl = function () {\r\n    var output = this.replace(/[^a-zA-Z0-9]/g, ' ').replace(/\\s+/g, \"-\").toLowerCase();\r\n    /* remove first dash */\r\n    if (output.charAt(0) === '-') output = output.substring(1);\r\n    /* remove last dash */\r\n    var last = output.length - 1;\r\n    if (output.charAt(last) === '-') output = output.substring(0, last);\r\n    return output;\r\n};\r\n\r\nexport { }\r\n","module.exports = bootstrap;","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Modal } from 'bootstrap';\r\nimport { Alerts, Response } from './hood';\r\n\r\nlet modal = $('#exampleModal');\r\nmodal.addClass('dewsh');\r\n\r\nvar myModal = new Modal(document.getElementById('exampleModal'));\r\n//myModal.show();\r\n\r\nAlerts.error(\"This is working!\", \"Great!!!\");\r\nAlerts.warning(\"This is working!\", \"Great!!!\");\r\nAlerts.success(\"This is working!\", \"Great!!!\");\r\nAlerts.message(\"This is working!\", \"Great!!!\");\r\nAlerts.prompt({ html: \"What is this?\", title: \"Quick Question\".htmlEncode() }, function (result) {\r\n    if (!result.isDismissed) {\r\n        Alerts.message(`We heard ${result.value}`, \"Great!!!\");\r\n    } else {\r\n        Alerts.message(`Man no respondy...`, \"Uh oh...\");\r\n    }\r\n});\r\n"],"sourceRoot":""}